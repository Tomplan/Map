import{u as A,a1 as O,r as m,R as e,I as o,ak as j,aE as I,aF as H,al as M,am as R,M as B,aj as F}from"./index-1e4c7e6c.js";import{u as L}from"./useCategories-30773e88.js";const q=[{name:"mdiCarOutline",label:"Car"},{name:"mdiTent",label:"Tent"},{name:"mdiTrailer",label:"Trailer"},{name:"mdiCarCog",label:"Car Parts"},{name:"mdiAirplane",label:"Airplane"},{name:"mdiHomeCity",label:"Building"},{name:"mdiAccountGroup",label:"People"},{name:"mdiTerrainIcon",label:"Terrain"},{name:"mdiCellphone",label:"Phone"},{name:"mdiDotsHorizontal",label:"Other"}],V=["#1976d2","#2e7d32","#f57c00","#d32f2f","#00796b","#5d4037","#303f9f","#689f38","#7b1fa2","#616161","#c62828","#00897b","#5e35b1","#455a64","#6d4c41","#d84315"];function K(){const{t:a,i18n:N}=A(),{categories:d,loading:u,error:x,createCategory:v,updateCategory:w,deleteCategory:C,getCategoryStats:b}=L(N.language),{confirm:P,toastSuccess:h,toastError:E}=O(),[k,c]=m.useState(!1),[i,f]=m.useState(null),[g,S]=m.useState({}),[r,n]=m.useState({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:0,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}});m.useEffect(()=>{u||(async()=>{const l=await b();S(l)})()},[u,b,d]);const p=()=>{n({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:d.length+1,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}}),f(null)},D=()=>{p(),c(!0)},z=t=>{f(t);const l={nl:{},en:{},de:{}};Array.isArray(t.translations)&&t.translations.forEach(s=>{l[s.language]&&(l[s.language]={name:s.name||"",description:s.description||""})}),["nl","en","de"].forEach(s=>{l[s].name||(l[s]={name:t.name||"",description:t.description||""})}),n({slug:t.slug,icon:t.iconName,color:t.color,sort_order:t.sort_order,translations:l}),c(!0)},_=async(t,l)=>{if(!await P({title:a("helpPanel.categories.deleteCategory"),message:a("helpPanel.categories.confirmDelete",{name:l}),confirmText:a("common.delete"),variant:"danger"}))return;const y=await C(t);y.success?h(a("helpPanel.categories.deleteSuccess")):E(a("helpPanel.categories.deleteError",{error:y.error}))},T=async t=>{t.preventDefault();const l={slug:r.slug,icon:r.icon,color:r.color,sort_order:r.sort_order,translations:r.translations};let s;i?s=await w(i.id,l,r.translations):s=await v(l),s.success?(c(!1),p(),h(a(i?"helpPanel.categories.updateSuccess":"helpPanel.categories.createSuccess"))):E(a("helpPanel.categories.saveError",{error:s.error}))};return u?e.createElement("div",{className:"flex items-center justify-center h-64"},e.createElement("div",{className:"text-gray-500"},a("common.loading"))):x?e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4"},e.createElement("p",{className:"text-red-800"},a("common.error"),": ",x)):e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},a("helpPanel.categories.title")),e.createElement("p",{className:"text-gray-600 mt-1"},a("helpPanel.categories.description"))),e.createElement("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},e.createElement(o,{path:j,size:.8}),a("helpPanel.categories.createNew"))),e.createElement("div",{className:"bg-white rounded-lg shadow overflow-hidden"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},a("helpPanel.categories.order")),e.createElement("th",{className:"px-3 py-3 w-12"}),e.createElement("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},a("helpPanel.categories.category")),e.createElement("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},a("helpPanel.categories.slug")),e.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},a("helpPanel.categories.exhibitors")),e.createElement("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},a("common.actions")))),e.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},d.map(t=>e.createElement("tr",{key:t.id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},e.createElement("div",{className:"flex items-center gap-2 text-gray-500"},e.createElement(o,{path:I,size:.8,className:"cursor-move"}),e.createElement("span",{className:"font-medium"},t.sort_order))),e.createElement("td",{className:"px-3 py-4 whitespace-nowrap w-12"},e.createElement("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:t.color}},e.createElement(o,{path:t.icon,size:.7,className:"text-white"}))),e.createElement("td",{className:"px-3 py-4 whitespace-nowrap text-left"},e.createElement("div",{className:"font-medium text-gray-900 truncate"},t.name),t.description&&e.createElement("div",{className:"text-xs text-gray-500 truncate"},t.description)),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-right"},e.createElement("code",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded font-mono"},t.slug)),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(o,{path:H,size:.7,className:"text-gray-400"}),e.createElement("span",{className:"text-sm text-gray-600"},g[t.id]||0))),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},e.createElement("button",{onClick:()=>z(t),className:"text-blue-600 hover:text-blue-900 mr-3"},e.createElement(o,{path:M,size:.8})),e.createElement("button",{onClick:()=>_(t.id,t.name),className:"text-red-600 hover:text-red-900",disabled:g[t.id]>0,title:g[t.id]>0?a("helpPanel.categories.cannotDelete"):""},e.createElement(o,{path:R,size:.8}))))))),d.length===0&&e.createElement("div",{className:"text-center py-12 text-gray-500"},a("helpPanel.categories.noCategories"))),e.createElement(B,{isOpen:k,onClose:()=>{c(!1),p()},title:a(i?"helpPanel.categories.editCategory":"helpPanel.categories.createCategory"),size:"lg"},e.createElement("form",{onSubmit:T,className:"p-6 space-y-6"},e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a("helpPanel.categories.slug")," *"),e.createElement("input",{type:"text",required:!0,value:r.slug,onChange:t=>n({...r,slug:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"vehicles-dealers"}),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},a("helpPanel.categories.slugHelp"))),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a("helpPanel.categories.icon")),e.createElement("select",{value:r.icon,onChange:t=>n({...r,icon:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},q.map(t=>e.createElement("option",{key:t.name,value:t.name},t.label)))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a("helpPanel.categories.color")),e.createElement("div",{className:"flex gap-2"},e.createElement("input",{type:"color",value:r.color,onChange:t=>n({...r,color:t.target.value}),className:"w-16 h-10 border border-gray-300 rounded cursor-pointer"}),e.createElement("input",{type:"text",value:r.color,onChange:t=>n({...r,color:t.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"#1976d2"})),e.createElement("div",{className:"flex gap-1 mt-2"},V.map(t=>e.createElement("button",{key:t,type:"button",onClick:()=>n({...r,color:t}),className:"w-6 h-6 rounded border-2 border-gray-200 hover:border-gray-400",style:{backgroundColor:t},title:t}))))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a("helpPanel.categories.sortOrder")),e.createElement("input",{type:"number",value:r.sort_order,onChange:t=>n({...r,sort_order:parseInt(t.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}))),e.createElement("div",{className:"space-y-4"},e.createElement("h4",{className:"font-medium text-gray-900"},a("helpPanel.categories.translations")),["nl","en","de"].map(t=>e.createElement("div",{key:t,className:"border border-gray-200 rounded-lg p-4 space-y-3"},e.createElement("h5",{className:"font-medium text-gray-700 uppercase"},t),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a("helpPanel.categories.name")," (",t,") *"),e.createElement("input",{type:"text",required:!0,value:r.translations[t].name,onChange:l=>n({...r,translations:{...r.translations,[t]:{...r.translations[t],name:l.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a("helpPanel.categories.description")," (",t,")"),e.createElement("textarea",{value:r.translations[t].description,onChange:l=>n({...r,translations:{...r.translations,[t]:{...r.translations[t],description:l.target.value}}}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}))))),e.createElement("div",{className:"flex justify-end gap-3 pt-4 border-t"},e.createElement("button",{type:"button",onClick:()=>{c(!1),p()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},a("common.cancel")),e.createElement("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},e.createElement(o,{path:F,size:.8}),a(i?"common.save":"common.create"))))))}export{K as default};
