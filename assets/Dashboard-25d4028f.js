import{c as _,r as i,j as s,I as r,L as o}from"./vendor-react-505adfae.js";import{ap as w,aF as C,aL as S,aM as q,aN as h,aO as g,aP as u,aQ as z}from"./vendor-3a7855fa.js";import"./index-5891cb02.js";import{u as L,a as D,b as M,c as A}from"./useCountViews-9c6b983f.js";import{u as B}from"./useEventSubscriptions-015b6bb3.js";import"./vendor-i18n-2e1fa53c.js";import"./vendor-supabase-54a3b136.js";import"./vendor-map-5eb3cb24.js";import"./phone-a3a14bef.js";function H({selectedYear:d,setSelectedYear:$}){const{t:e}=_(),{count:p,loading:n}=L(d),{count:j,loading:c}=D(d),{count:v,loading:m}=M(d),{count:N,loading:b}=A(),{subscriptions:x}=B(d);i.useState(!1),i.useState(null);const f=m||b,l=i.useMemo(()=>x.reduce((a,t)=>({breakfast_sat:a.breakfast_sat+(t.breakfast_sat||0),lunch_sat:a.lunch_sat+(t.lunch_sat||0),bbq_sat:a.bbq_sat+(t.bbq_sat||0),breakfast_sun:a.breakfast_sun+(t.breakfast_sun||0),lunch_sun:a.lunch_sun+(t.lunch_sun||0),coins:a.coins+(t.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[x]),y=[{label:e("dashboard.totalAssignableBooths"),value:m?"...":v.toString(),icon:w,color:"blue"},{label:e("dashboard.companies"),value:b?"...":(N-1).toString(),icon:C,color:"green"},{label:`${d} ${e("dashboard.subscriptions")}`,value:n?"...":p.toString(),icon:S,color:"orange"},{label:`${d} ${e("dashboard.assignments")}`,value:c?"...":j.toString(),icon:q,color:"purple"}],k={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return s.jsxs("div",{children:[s.jsxs("div",{className:"event-totals bg-white rounded-lg shadow p-6 mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:[d," ",e("dashboard.eventTotals"),(n||f||c)&&s.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:e("common.loading")})]}),s.jsx("div",{className:"stats-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:y.map(a=>s.jsx("div",{className:`p-4 rounded-lg border-2 ${k[a.color]}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:a.icon,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.value}),s.jsx("div",{className:"text-sm font-medium mt-1",children:a.label})]})]})},a.label))}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:e("dashboard.saturday")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:h,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.breakfast_sat}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.breakfast")})]})]})}),s.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:g,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.lunch_sat}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.lunch")})]})]})}),s.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:u,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.bbq_sat}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.bbq")})]})]})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:e("dashboard.sunday")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:h,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.breakfast_sun}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.breakfast")})]})]})}),s.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:g,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.lunch_sun}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.lunch")})]})]})}),s.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:u,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:"-"}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.noBBQ")})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:e("dashboard.coins")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(r,{path:z,size:1.5}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.coins}),s.jsx("div",{className:"text-sm font-medium",children:e("dashboard.totalCoins")})]})]})})})]})]}),s.jsxs("div",{className:"quick-actions bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:e("dashboard.quickActions")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(o,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e("dashboard.addNewCompany")}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e("dashboard.addNewCompanyDesc")})]}),s.jsxs(o,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e("dashboard.manageSubscriptions")}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e("dashboard.manageSubscriptionsDesc")})]}),s.jsxs(o,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e("dashboard.assignBooths")}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e("dashboard.assignBoothsDesc")})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:e("dashboard.recentActivity")}),s.jsx("p",{className:"text-gray-600",children:e("dashboard.recentActivityPlaceholder")})]})]})}export{H as default};
