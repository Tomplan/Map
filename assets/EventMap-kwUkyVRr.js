import{r as p,a as Ce,g as Me,b as ze,L as C,c as ne,R as N,l as D,d as Ne,e as Ee,f as Oe,h as q,i as Ie,j as xe,k as Pe,w as Ae,m as d,I as Te,n as _e,M as $e}from"./index-BAAAxAj3.js";const Re=(e,t,n,a)=>{const i=[n,{code:t,...a||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);_(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},se={},ve=(e,t,n,a)=>{_(n)&&se[n]||(_(n)&&(se[n]=new Date),Re(e,t,n,a))},we=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},oe=(e,t,n)=>{e.loadNamespaces(t,we(e,n))},le=(e,t,n,a)=>{if(_(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return oe(e,n,a);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,we(e,a))},ke=(e,t,n={})=>!t.languages||!t.languages.length?(ve(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}),_=e=>typeof e=="string",He=e=>typeof e=="object"&&e!==null,Ue=p.createContext();class De{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Q={exports:{}},ee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ce;function We(){if(ce)return ee;ce=1;var e=Ce();function t(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,i=e.useEffect,l=e.useLayoutEffect,f=e.useDebugValue;function u(c,h){var y=h(),E=a({inst:{value:y,getSnapshot:h}}),m=E[0].inst,S=E[1];return l(function(){m.value=y,m.getSnapshot=h,r(m)&&S({inst:m})},[c,y,h]),i(function(){return r(m)&&S({inst:m}),c(function(){r(m)&&S({inst:m})})},[c]),f(y),y}function r(c){var h=c.getSnapshot;c=c.value;try{var y=h();return!n(c,y)}catch{return!0}}function s(c,h){return h()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s:u;return ee.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,ee}var ue;function Ge(){return ue||(ue=1,Q.exports=We()),Q.exports}var Ze=Ge();const Be=(e,t)=>_(t)?t:He(t)&&_(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Fe={t:Be,ready:!1},qe=()=>()=>{},Xe=(e,t={})=>{const{i18n:n}=t,{i18n:a,defaultNS:i}=p.useContext(Ue)||{},l=n||a||Me();l&&!l.reportNamespaces&&(l.reportNamespaces=new De),l||ve(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const f=p.useMemo(()=>({...ze(),...l?.options?.react,...t}),[l,t]),{useSuspense:u,keyPrefix:r}=f,s=p.useMemo(()=>{const g=i||l?.options?.defaultNS;return _(g)?[g]:g||["translation"]},[e,i,l]);l?.reportNamespaces?.addUsedNamespaces?.(s);const v=p.useCallback(g=>{if(!l)return qe;const{bindI18n:x,bindI18nStore:w}=f;return x&&l.on(x,g),w&&l.store.on(w,g),()=>{x&&x.split(" ").forEach(L=>l.off(L,g)),w&&w.split(" ").forEach(L=>l.store.off(L,g))}},[l,f]),c=p.useRef(),h=p.useCallback(()=>{if(!l)return Fe;const g=!!(l.isInitialized||l.initializedStoreOnce)&&s.every(A=>ke(A,l,f)),x=l.getFixedT(t.lng||l.language,f.nsMode==="fallback"?s:s[0],r),w=c.current;if(w&&w.ready===g&&w.lng===(t.lng||l.language)&&w.keyPrefix===r)return w;const L={t:x,ready:g,lng:t.lng||l.language,keyPrefix:r};return c.current=L,L},[l,s,r,f,t.lng]),[y,E]=p.useState(0),{t:m,ready:S}=Ze.useSyncExternalStore(v,h,h);p.useEffect(()=>{if(l&&!S&&!u){const g=()=>E(x=>x+1);t.lng?le(l,t.lng,s,g):oe(l,s,g)}},[l,t.lng,s,S,u,y]);const M=l||{},z=p.useMemo(()=>{const g=[m,M,S];return g.t=m,g.i18n=M,g.ready=S,g},[m,M,S]);if(l&&u&&!S)throw new Promise(g=>{const x=()=>g();t.lng?le(l,t.lng,s,x):oe(l,s,x)});return z};function de(e){const{logo:t,name:n,website:a,info:i}=e,l=t?ne(t):"";return`
    <div class="marker-popup">
      ${l?`<img src="${l}" alt="${n||"Logo"}" class="marker-popup-logo" style="max-width:64px;max-height:64px;margin-bottom:8px;" />`:""}
      ${n?`<div class="marker-popup-name" style="font-weight:bold;font-size:1.1em;margin-bottom:4px;">${n}</div>`:""}
      ${a?`<div class="marker-popup-website" style="margin-bottom:4px;"><a href="${a}" target="_blank" rel="noopener" style="color:#1976d2;text-decoration:underline;">${a}</a></div>`:""}
      ${i?`<div class="marker-popup-info" style="font-size:0.95em;color:#444;">${i}</div>`:""}
    </div>
  `}function ae({glyph:e,glyphColor:t="white",bgColor:n="white",glyphSize:a="11px",iconUrl:i="/Map/assets/icons/glyph-marker-icon-blue.svg",className:l,iconSize:f,prefix:u}){let r=a;typeof r=="number"?r=`${r}px`:typeof r=="string"&&!r.endsWith("px")?r=`${r}px`:r||(r="11px");const s=f||[25,41],v=Math.round(s[0]*(41/25)),c=Math.round(s[1]*(41/41)),h=Math.round(v*12/41),y=c;return C.icon.glyph({iconUrl:i||"/Map/assets/icons/glyph-marker-icon-blue.svg",iconSize:s,iconAnchor:[Math.round(s[0]/2),s[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:"/Map/assets/icons/marker-shadow.png",shadowSize:[v,c],shadowAnchor:[h,y],prefix:u||"",glyph:e||"",glyphColor:t||"white",bgColor:n,glyphSize:r,className:l||""})}function Ye(e){return e.getChildCount(),ae({iconUrl:"/Map/assets/icons/glyph-marker-icon-orange.svg",iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='/Map/assets/logos/4x4Vakantiebeurs.png' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}var Le={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fe=N.createContext&&N.createContext(Le),Ve=["attr","size","title"];function Je(e,t){if(e==null)return{};var n=Ke(e,t),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)a=l[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ke(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B.apply(this,arguments)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ge(Object(n),!0).forEach(function(a){Qe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Qe(e,t,n){return t=et(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){var t=tt(e,"string");return typeof t=="symbol"?t:t+""}function tt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Se(e){return e&&e.map((t,n)=>N.createElement(t.tag,F({key:n},t.attr),Se(t.child)))}function ie(e){return t=>N.createElement(nt,B({attr:F({},e.attr)},t),Se(e.child))}function nt(e){var t=n=>{var{attr:a,size:i,title:l}=e,f=Je(e,Ve),u=i||n.size||"1em",r;return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),N.createElement("svg",B({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:r,style:F(F({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&N.createElement("title",null,l),e.children)};return fe!==void 0?N.createElement(fe.Consumer,null,n=>t(n)):t(Le)}function ot(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function at(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function it(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function rt(e,t,n){const{opacity:a,zIndex:i}=t;a!=null&&a!==n.opacity&&e.setOpacity(a),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function st({bounds:e,boundsOptions:t,center:n,children:a,className:i,id:l,placeholder:f,style:u,whenReady:r,zoom:s,...v},c){const[h]=p.useState({className:i,id:l,style:u}),[y,E]=p.useState(null),m=p.useRef(void 0);p.useImperativeHandle(c,()=>y?.map??null,[y]);const S=p.useCallback(z=>{if(z!==null&&!m.current){const g=new D.Map(z,v);m.current=g,n!=null&&s!=null?g.setView(n,s):e!=null&&g.fitBounds(e,t),r!=null&&g.whenReady(r),E(Ne(g))}},[]);p.useEffect(()=>()=>{y?.map.remove()},[y]);const M=y?N.createElement(Ee,{value:y},a):f??null;return N.createElement("div",{...h,ref:S},M)}const lt=p.forwardRef(st),he=Oe(function({position:t,...n},a){const i=new D.Marker(t,n);return q(i,Ie(a,{overlayContainer:i}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),pe=xe(function(t,n){const a=new D.Popup(t,n.overlayContainer);return q(a,n)},function(t,n,{position:a},i){p.useEffect(function(){const{instance:f}=t;function u(s){s.popup===f&&(f.update(),i(!0))}function r(s){s.popup===f&&i(!1)}return n.map.on({popupopen:u,popupclose:r}),n.overlayContainer==null?(a!=null&&f.setLatLng(a),f.openOn(n.map)):n.overlayContainer.bindPopup(f),function(){n.map.off({popupopen:u,popupclose:r}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(f)}},[t,n,i,a])}),ct=Pe(function({url:t,...n},a){const i=new D.TileLayer(t,Ae(n,a));return q(i,a)},function(t,n,a){rt(t,n,a);const{url:i}=n;i!=null&&i!==a.url&&t.setUrl(i)}),ye=xe(function(t,n){const a=new D.Tooltip(t,n.overlayContainer);return q(a,n)},function(t,n,{position:a},i){p.useEffect(function(){const f=n.overlayContainer;if(f==null)return;const{instance:u}=t,r=v=>{v.tooltip===u&&(a!=null&&u.setLatLng(a),u.update(),i(!0))},s=v=>{v.tooltip===u&&i(!1)};return f.on({tooltipopen:r,tooltipclose:s}),f.bindTooltip(u),function(){f.off({tooltipopen:r,tooltipclose:s}),f._map!=null&&f.unbindTooltip()}},[t,n,i,a])});function ut(e){return e.angle||0}function P(e,t,n){const a=n*Math.PI/180,i=e*Math.cos(a)-t*Math.sin(a),l=e*Math.sin(a)+t*Math.cos(a);return[i,l]}function H(e){return e/111320}function U(e,t){return e/(40075e3*Math.cos(t*Math.PI/180)/360)}function dt(e){return e*111320}function ft(e,t){return e*(40075e3*Math.cos(t*Math.PI/180)/360)}function gt({mapInstance:e,markers:t,rectangleSize:n,isAdminView:a,showRectanglesAndHandles:i,updateMarker:l,rectangleLayerRef:f}){if(!e)return;f.current||(f.current=C.layerGroup(),f.current.addTo(e));const u=f.current;u._markerLayers||(u._markerLayers={}),Object.keys(u._markerLayers).forEach(r=>{t.find(s=>s.id===r)||(u.removeLayer(u._markerLayers[r].rectangle),u.removeLayer(u._markerLayers[r].handle),delete u._markerLayers[r])}),t.forEach(r=>{if(r.lat&&r.lng){const s=C.latLng(r.lat,r.lng),v=Array.isArray(r.rectangle)&&r.rectangle.length===2?r.rectangle:n,c=Number(v[0])/2,h=Number(v[1])/2,y=ut(r),E="#1976d2",m=[P(-c,-h,y),P(c,-h,y),P(c,h,y),P(-c,h,y)],S=m.map(([g,x])=>C.latLng(s.lat+H(x),s.lng+U(g,s.lat)));let M,z;if(u._markerLayers[r.id]){M=u._markerLayers[r.id].rectangle,M.setLatLngs(S),z=u._markerLayers[r.id].handle;const[g,x]=m[2],w=C.latLng(s.lat+H(x),s.lng+U(g,s.lat));z.setLatLng(w)}else{M=C.polygon(S,{color:E,weight:1});const[g,x]=m[2],w=C.latLng(s.lat+H(x),s.lng+U(g,s.lat));let L;if(a&&!r.coreLocked){const A=C.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});L=C.marker(w,{icon:A,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),L.on("dragstart",function(){e&&e.dragging.disable()});let I=y;L.on("drag",function(W){const G=W.target.getLatLng(),X=ft(G.lng-s.lng,s.lat),Y=dt(G.lat-s.lat);let $=Math.atan2(Y,X)*180/Math.PI;$<0&&($+=360),I=$;const Z=[P(-c,-h,I),P(c,-h,I),P(c,h,I),P(-c,h,I)],o=Z.map(([T,R])=>C.latLng(s.lat+H(R),s.lng+U(T,s.lat)));M.setLatLngs(o);const[j,b]=Z[2],O=C.latLng(s.lat+H(b),s.lng+U(j,s.lat));L.setLatLng(O)}),L.on("dragend",function(){e&&e.dragging.enable(),l(r.id,{angle:I})})}else{const A=C.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});L=C.marker(w,{icon:A,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}u.addLayer(M),u.addLayer(L),u._markerLayers[r.id]={rectangle:M,handle:L}}}}),Object.values(u._markerLayers).forEach(({rectangle:r,handle:s})=>{i?(u.addLayer(r),u.addLayer(s)):(u.removeLayer(r),u.removeLayer(s))})}function ht(e){e&&e.zoomIn()}function pt(e){e&&e.zoomOut()}function yt(e,t,n){e&&e.setView(t,n)}function me(e,t){console.log("Analytics event:",e,t)}function mt(){const e=p.useCallback(n=>{me("marker_view",{markerId:n,timestamp:Date.now()})},[]),t=p.useCallback(n=>{me("map_interaction",{type:n,timestamp:Date.now()})},[]);return{trackMarkerView:e,trackMapInteraction:t}}function bt({lat:e,lng:t}){return{id:xt(),lat:e,lng:t,name:"",boothNumber:"",rectangle:[6,6],angle:0,iconUrl:"glyph-marker-icon-blue.svg",iconSize:[25,41],iconColor:"blue",className:"marker-icon",prefix:"",glyph:"",glyphColor:"white",glyphSize:"13px",glyphAnchor:[0,0],coreLocked:!1,appearanceLocked:!1,contentLocked:!1,adminLocked:!1}}function xt(){return`m${Date.now()}${Math.floor(Math.random()*1e3)}`}const vt={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function be(e){return typeof e=="string"?e:e&&e.toString?e.toString():JSON.stringify(e)}const te=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function Lt({isAdminView:e,markersState:t,updateMarker:n}){const a=N.useRef(null),{t:i}=Xe(),[l,f]=p.useState(!1),[u,r]=p.useState(te[0].key),[s,v]=p.useState(!1),[c,h]=p.useState(null),[y,E]=p.useState(null),m=[51.898945656392904,5.779029262641933],S=17,{trackMarkerView:M}=mt(),z=N.useMemo(()=>Array.isArray(t)?t:[],[t]),g=[6,6],x=N.useRef(null);function w(o){return e&&o&&o.coreLocked===!1}const[L,A]=p.useState(!1);p.useEffect(()=>{if(!L||!c)return;const o=j=>{const b=j.latlng,O=bt({lat:b.lat,lng:b.lng});typeof n=="function"&&n(O.id,O,{add:!0}),A(!1),c.off("click",o)};return c.on("click",o),()=>{c.off("click",o)}},[L,c,n]),p.useEffect(()=>{gt({mapInstance:c,markers:z,rectangleSize:g,isAdminView:e,showRectanglesAndHandles:s,updateMarker:n,rectangleLayerRef:x})},[c,t,g,e,s]),p.useEffect(()=>{if(!c)return;let o=y;o||(o=C.layerGroup(),E(o)),o.clearLayers(),z.forEach(j=>{if(j.lat&&j.lng){const b=[j.name,j.boothNumber,j.label].filter(Boolean).join(" | "),O=C.marker([j.lat,j.lng],{opacity:0,searchText:b});O.bindPopup(j.name||j.label||""),o.addLayer(O)}})},[c,z,y]),p.useEffect(()=>{if(c&&y){const o=new C.Control.Search({layer:y,propertyName:"searchText",initial:!1,zoom:20,marker:{icon:!1,animate:!0},textPlaceholder:"Search for name or booth...",position:"topleft"});return c.addControl(o),a.current=o,()=>{c.removeControl(o),a.current=null}}},[c,y]);const I=m,W=S,G=14,X=22,Y=o=>{o&&o.target?h(o.target):h(o)},re=()=>ht(c),$=()=>pt(c),Z=()=>yt(c,I,W);return d.jsxs("div",{style:{height:"100vh",width:"100vw",position:"fixed",inset:0,zIndex:0},tabIndex:0,"aria-label":"Event Map",role:"region",children:[d.jsxs("div",{style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[d.jsxs("button",{onClick:Z,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[d.jsx(ot,{size:28,color:"#1976d2","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Home"})]}),d.jsxs("button",{onClick:re,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[d.jsx(at,{size:28,color:"#1976d2","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Zoom in"})]}),d.jsxs("button",{onClick:$,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[d.jsx(it,{size:28,color:"#1976d2","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Zoom out"})]}),e&&d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>f(o=>!o),children:[d.jsx(Te,{path:_e,size:1.2,color:"#1976d2"}),d.jsx("span",{className:"sr-only",children:"Map layers"})]}),l&&d.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),te.map(o=>d.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${u===o.key?"bg-blue-50 font-bold":""}`,onClick:()=>r(o.key),role:"menuitem",style:{color:"#1976d2"},children:o.name},o.key)),d.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),d.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[d.jsx("input",{type:"checkbox",checked:s,onChange:o=>v(o.target.checked),style:vt}),d.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:s?"inline-block":"none"},children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:d.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),d.jsx("span",{style:{marginLeft:s?-8:0},children:"Booth Surface"})]})]})]})]}),!1,d.jsx("div",{id:"map-container",className:"fixed inset-0 w-full h-full",style:{zIndex:1},"aria-label":i("map.ariaLabel"),children:d.jsxs(lt,{center:I,zoom:W,minZoom:G,maxZoom:X,zoomDelta:.5,zoomSnap:.5,zoomControl:!1,style:{width:"100vw",height:"100vh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:Y,attributionControl:!1,children:[te.filter(o=>o.key===u).map(o=>d.jsx(ct,{attribution:o.attribution,url:o.url,maxZoom:22},o.key)),d.jsx($e,{chunkedLoading:!0,showCoverageOnHover:!0,spiderfyOnMaxZoom:!1,removeOutsideVisibleBounds:!0,disableClusteringAtZoom:18,maxClusterRadius:400,iconCreateFunction:Ye,children:z.filter(o=>o.id<1001).map(o=>{let j=[o.lat,o.lng],b=o.iconUrl;b||(b=`${o.type||"default"}.svg`),b.startsWith("assets/icons/")||(b=`assets/icons/${b}`);const O=ae({className:o.type?`marker-icon marker-type-${o.type}`:"marker-icon",prefix:o.prefix,iconUrl:b,iconSize:Array.isArray(o.iconSize)?o.iconSize:[25,41],glyph:o.glyph||"",glyphColor:o.glyphColor||"white",glyphSize:o.glyphSize||"13px",glyphAnchor:o.glyphAnchor||[0,0]}),T=o.logo?ne(o.logo):null,R=d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,padding:0,whiteSpace:"nowrap",minWidth:"max-content",borderRadius:2,boxShadow:"0 2px 8px rgba(25, 118, 210, 0.08)"},children:[T&&d.jsx("img",{src:T,alt:o.name||"Logo",style:{maxWidth:120,maxHeight:80,width:"auto",height:"auto",objectFit:"contain",borderRadius:"0px",marginBottom:0,padding:0}}),d.jsx("span",{style:{fontWeight:600,whiteSpace:"nowrap",color:"#1976d2"},children:o.name})]});be(o.label);const k=w(o);return d.jsxs(he,{position:j,icon:O,draggable:k,eventHandlers:k?{dragend:V=>{const{lat:J,lng:K}=V.target.getLatLng();n(o.id,{lat:J,lng:K})}}:{},children:[d.jsx(pe,{onOpen:()=>M(o.id),children:d.jsx("div",{dangerouslySetInnerHTML:{__html:de(o)}})}),d.jsx(ye,{direction:"top",offset:[0,-32],opacity:1,permanent:!1,children:R})]},`${o.id}-${o.coreLocked}-${o.appearanceLocked}-${o.contentLocked}-${o.adminLocked}`)})}),z.filter(o=>o.id>=1001).map(o=>{let j=[o.lat,o.lng],b=o.iconUrl;b||(b=`${o.type||"glyph-marker-icon-blue"}.svg`),b.startsWith("assets/icons/")||(b=`assets/icons/${b}`);const O=ae({className:o.type?`marker-icon marker-type-${o.type}`:"marker-icon",prefix:o.prefix,iconUrl:b,iconSize:Array.isArray(o.iconSize)?o.iconSize:[25,41],glyph:o.glyph||"?",glyphColor:o.glyphColor||"white",glyphSize:o.glyphSize||"18px",glyphAnchor:o.glyphAnchor||[0,0]}),T=o.logo?ne(o.logo):null,R=d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,padding:0,whiteSpace:"nowrap",minWidth:"max-content",borderRadius:2,boxShadow:"0 2px 8px rgba(25, 118, 210, 0.08)"},children:[T&&d.jsx("img",{src:T,alt:o.name||"Logo",style:{maxWidth:120,maxHeight:80,width:"auto",height:"auto",objectFit:"contain",borderRadius:"0px",marginBottom:0,padding:0}}),d.jsx("span",{style:{fontWeight:600,whiteSpace:"nowrap",color:"#1976d2"},children:o.name})]});be(o.label);const k=w(o),V=k?{dragend:J=>{const{lat:K,lng:je}=J.target.getLatLng();n(o.id,{lat:K,lng:je})}}:{};return d.jsxs(he,{position:j,icon:O,draggable:k,eventHandlers:V,children:[d.jsx(pe,{onOpen:()=>M(o.id),children:d.jsx("div",{dangerouslySetInnerHTML:{__html:de(o)}})}),d.jsx(ye,{direction:"top",offset:[0,-32],opacity:1,permanent:!1,children:R})]},`${o.id}-${o.coreLocked}-${o.appearanceLocked}-${o.contentLocked}-${o.adminLocked}`)})]})})]})}export{Lt as default};
