import{r as n,g as P,R as y,b as $,c as F,j as t,P as h,a as k,u as C,d as Y}from"./index-9f8e3d41.js";import{u as T}from"./useEventMapSettings-258f9370.js";import{L as H}from"./LanguageToggle-61a6a211.js";import{u as O}from"./useCountViews-ff638859.js";const w=n.memo(function({organizationLogo:s,organizationLogoRaw:a,eventName:o}){const _=P(a),[f,g]=y.useState(_);y.useEffect(()=>{if(!s||s===f)return;let l=!1;const e=new Image;return e.onload=()=>{l||g(s)},e.onerror=()=>{},e.src=s,()=>{l=!0}},[s]);const r=n.useMemo(()=>$(s)||$(a),[s,a]),j=n.useMemo(()=>F(a||f||s),[a,f,s]),v=n.useCallback(l=>{const e=parseInt(l.target.dataset.logoRetries||"0",10),p=d=>!d||l.target.src===d?!1:(l.target.src=d,l.target.srcset="",l.target.dataset.logoRetries=String(e+1),!0);if(!(e===0&&a&&a.startsWith("http")&&p(a))){if(e<=1){const d=F(a||s);if(p(d))return}p(P(a))}},[a,s]);return s?t.jsx("div",{className:"mb-6",children:t.jsxs("picture",{children:[(r==null?void 0:r.srcSet)&&t.jsx("source",{srcSet:r.srcSet,sizes:r.sizes,type:"image/webp"}),t.jsx("img",{src:r?r.src:j,alt:o,className:"h-24 mx-auto object-contain",onError:v})]})}):null});w.propTypes={organizationLogo:h.string,organizationLogoRaw:h.string,eventName:h.string.isRequired};function b({selectedYear:N,branding:s}){k();const{t:a,i18n:o}=C(),{organizationLogo:_,organizationLogoRaw:f}=Y(),{count:g,loading:r}=O(N),[j,v]=y.useState(null);y.useEffect(()=>{r||v(g)},[r,g]);const l=n.useMemo(()=>({name:(s==null?void 0:s.eventName)||"4x4 Vakantiebeurs"}),[s==null?void 0:s.eventName]),{settings:e}=T(N),p=n.useCallback((c,u)=>{if(!c&&!u)return null;const i=(o==null?void 0:o.language)||"en-US";if(c&&u){const m=new Date(c),x=new Date(u);if(m.getFullYear()===x.getFullYear()){if(m.getMonth()===x.getMonth())return`${m.toLocaleString(i,{month:"long"})} ${m.getDate()}-${x.getDate()}, ${m.getFullYear()}`;const E=`${m.toLocaleString(i,{month:"short"})} ${m.getDate()}`,I=`${x.toLocaleString(i,{month:"short"})} ${x.getDate()}, ${x.getFullYear()}`;return`${E} - ${I}`}return`${m.toLocaleDateString(i)} - ${x.toLocaleDateString(i)}`}return(c?new Date(c):new Date(u)).toLocaleDateString(i,{year:"numeric",month:"long",day:"numeric"})},[o==null?void 0:o.language]),d=n.useMemo(()=>p(e==null?void 0:e.event_start_date,e==null?void 0:e.event_end_date),[p,e==null?void 0:e.event_start_date,e==null?void 0:e.event_end_date]),M=n.useMemo(()=>{if(e!=null&&e.event_start_date||e!=null&&e.event_end_date)try{const c=e!=null&&e.event_start_date?new Date(e.event_start_date):null,u=e!=null&&e.event_end_date?new Date(e.event_end_date):null;if(c&&u){const D=Math.round((u-c)/864e5)+1;return D>0?D:1}return 1}catch{return 2}return 2},[e==null?void 0:e.event_start_date,e==null?void 0:e.event_end_date]);return t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[t.jsx("div",{className:"bg-white shadow-sm",children:t.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsx(H,{})}),t.jsx(w,{organizationLogo:_,organizationLogoRaw:f,eventName:l.name}),t.jsx("p",{className:"text-sm text-orange-600 mb-2",style:{fontFamily:s==null?void 0:s.fontFamily},children:a("homePage.subtitle")}),t.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",style:{fontFamily:s==null?void 0:s.fontFamily},children:a("homePage.title")}),t.jsx("p",{className:"text-lg text-gray-600 mb-6",children:d||a("homePage.eventDate")}),t.jsxs("div",{className:"flex justify-center gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r||j===null?"...":j}),t.jsx("div",{className:"text-sm text-gray-600",children:a("homePage.exhibitors")})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:M}),t.jsx("div",{className:"text-sm text-gray-600",children:a("homePage.days")})]})]})]})}),t.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"üïí"}),a("homePage.openingHours")]}),t.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a("homePage.openingHoursInfo")})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"üìç"}),a("homePage.location")]}),t.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a("homePage.locationInfo")})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"üÖøÔ∏è"}),a("homePage.parking")]}),t.jsx("p",{className:"text-gray-700",children:a("homePage.parkingInfo")})]})]})})]})}b.propTypes={selectedYear:h.number,branding:h.shape({eventName:h.string,fontFamily:h.string})};b.defaultProps={selectedYear:new Date().getFullYear(),branding:null};const A=n.memo(b);export{A as default};
