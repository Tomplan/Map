import{r as b,j as l,K as ne,I as R,aE as re,aG as oe,h as se,s as ie,aF as le,_ as ce}from"./index-4ec74ce4.js";import{p as M,n as w}from"./phone-376c158e.js";import{v as T,a as H,b as Z,e as me,c as pe,d as de}from"./dataExportImport-9d8f2a60.js";import{u as he}from"./useCategories-be9f6d9b.js";function ee(e){if(!e||e.trim()==="")return"";const s=M(e);if(!s||!s.isValid())return e;const i=s.countryCallingCode,o=s.nationalNumber;if(s.country==="NL"){const a=o.replace(/^(\d)(\d{8})$/,"(0)$1-$2");return`+${i} ${a}`}else if(s.country==="BE"){const a=o.replace(/^(\d{1,3})(\d{2})(\d{2})(\d{2})$/,"(0)$1-$2-$3-$4");return`+${i} ${a}`}else if(s.country==="DE"){const a=o.replace(/^(\d{2,4})(\d+)$/,"(0)$1-$2");return`+${i} ${a}`}return`+${i} ${o}`}function be(e){const s={NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª",DE:"ðŸ‡©ðŸ‡ª",FR:"ðŸ‡«ðŸ‡·",GB:"ðŸ‡¬ðŸ‡§",US:"ðŸ‡ºðŸ‡¸",ES:"ðŸ‡ªðŸ‡¸",IT:"ðŸ‡®ðŸ‡¹"};if(!e)return"";const i=M(e);return i&&i.country?s[i.country]||"ðŸŒ":""}const te={NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª",DE:"ðŸ‡©ðŸ‡ª",FR:"ðŸ‡«ðŸ‡·",GB:"ðŸ‡¬ðŸ‡§",US:"ðŸ‡ºðŸ‡¸",ES:"ðŸ‡ªðŸ‡¸",IT:"ðŸ‡®ðŸ‡¹"};function Ce({value:e="",onChange:s,placeholder:i="Phone number (e.g., +31 (0)6-21165748)",className:o="",defaultCountry:a="NL"}){const[r,p]=b.useState(""),[d,m]=b.useState(null),[c,n]=b.useState(null);b.useEffect(()=>{if(e&&e.trim()!==""){const f=ee(e);p(f)}else p("")},[e]),b.useEffect(()=>{if(!r||r.trim()===""){m(null),n(null);return}const f=r.trim();let g=M(f,a);if(!g||!g.isValid()){let L=f.replace(/[()\s.-]+/g,"");L.startsWith("00")&&(L="+"+L.slice(2)),g=M(L,a)}g&&g.isValid()?(m(!0),n(g)):(m(!1),n(null))},[r,a]);const t=f=>{const g=f.target.value;p(g)},h=()=>{if(r&&r.trim()!==""){const f=w(r,a);if(f&&f!==e){s(f);const g=ee(f);p(g)}}else r===""&&e!==""&&s("")},v=()=>d===null?"border-gray-300":d===!0?"border-green-500":d===!1?"border-red-500":"border-gray-300",C=()=>d===null?"bg-white":d===!0?"bg-green-50":d===!1?"bg-red-50":"bg-white",y=()=>c&&c.country?te[c.country]||"ðŸŒ":te[a]||"ðŸŒ";return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:"text-xl",children:y()})}),l.jsx("input",{type:"text",value:r,onChange:t,onBlur:h,placeholder:i,className:`w-full pl-12 pr-3 py-2 border rounded transition-colors ${v()} ${C()} text-gray-900 ${o}`})]}),c&&d&&l.jsxs("div",{className:"text-xs mt-1 text-green-600 flex items-center gap-1",children:[l.jsx("span",{children:"âœ“"}),l.jsx("span",{children:c.country||"International"}),c.getType()&&l.jsxs("span",{className:"text-gray-500",children:["(",c.getType()==="MOBILE"?"Mobile":"Landline",")"]})]}),d===!1&&r&&l.jsx("div",{className:"text-xs mt-1 text-red-600",children:"âœ— Invalid phone number"}),!r&&l.jsx("div",{className:"text-xs mt-1 text-gray-500",children:"Format: +31 (0)6-12345678"})]})}const ue={companies:{label:"Companies",table:"companies",exportColumns:[{key:"id",header:"ID",type:"number"},{key:"name",header:"Company Name",type:"string",required:!0},{key:"categories",header:"Categories",type:"string"},{key:"contact",header:"Contact Person",type:"string"},{key:"phone",header:"Phone",type:"phone"},{key:"email",header:"Email",type:"email"},{key:"website",header:"Website",type:"string"},{key:"info_nl",header:"Info (Nederlands)",type:"string",wrapText:!0},{key:"info_en",header:"Info (English)",type:"string",wrapText:!0},{key:"info_de",header:"Info (Deutsch)",type:"string",wrapText:!0},{key:"logo",header:"Logo URL",type:"string"}],transformImport:e=>{var d,m,c,n,t,h,v,C;const s={name:((d=e["Company Name"])==null?void 0:d.trim())||"",contact:((m=e["Contact Person"])==null?void 0:m.trim())||"",website:((c=e.Website)==null?void 0:c.trim())||"",logo:((n=e["Logo URL"])==null?void 0:n.trim())||""},i=e.Phone;i&&i.trim()?s.phone=w(i.trim()):s.phone=null;const o=e.Email;o&&o.trim()?s.email=o.toLowerCase().trim():s.email=null;const a={nl:((t=e["Info (Nederlands)"])==null?void 0:t.trim())||"",en:((h=e["Info (English)"])==null?void 0:h.trim())||"",de:((v=e["Info (Deutsch)"])==null?void 0:v.trim())||""},r=((C=e.Categories)==null?void 0:C.trim())||"",p=r?r.split(",").map(y=>y.trim()).filter(y=>y.length>0):[];return s._translations=a,s._categorySlugs=p,s},transformExport:async(e,s)=>{const{supabase:i}=s||{};if(!i||e.length===0)return e.map(n=>({id:n.id,name:n.name||"",categories:"",contact:n.contact||"",phone:n.phone||"",email:n.email||"",website:n.website||"",info_nl:n.info||"",info_en:"",info_de:"",logo:n.logo||""}));const o=e.map(n=>n.id),{data:a,error:r}=await i.from("company_translations").select("company_id, language_code, info").in("company_id",o);r&&console.error("Error fetching translations:",r);const{data:p,error:d}=await i.from("company_categories").select(`
          company_id,
          categories(slug)
        `).in("company_id",o);d&&console.error("Error fetching categories:",d);const m={};a&&a.forEach(n=>{m[n.company_id]||(m[n.company_id]={}),m[n.company_id][n.language_code]=n.info||""});const c={};return p&&p.forEach(n=>{var t;c[n.company_id]||(c[n.company_id]=[]),(t=n.categories)!=null&&t.slug&&c[n.company_id].push(n.categories.slug)}),e.map(n=>{const t=m[n.id]||{},h=c[n.id]||[];return{id:n.id,name:n.name||"",categories:h.join(", "),contact:n.contact||"",phone:n.phone||"",email:n.email||"",website:n.website||"",info_nl:t.nl||n.info||"",info_en:t.en||"",info_de:t.de||"",logo:n.logo||""}})},validateRow:(e,s)=>{const i=[],o=T(e["Company Name"],"Company Name");if(o.valid||i.push({field:"Company Name",message:o.error}),e.Email&&e.Email.trim()){const a=H(e.Email);a.valid||i.push({field:"Email",message:a.error})}if(e.Phone&&e.Phone.trim()){const a=Z(e.Phone,w);a.valid||i.push({field:"Phone",message:a.error})}return Object.keys(e).forEach(a=>{if((a.toLowerCase().includes("category")||a.toLowerCase().includes("cat:")||a.startsWith("category:"))&&e[a]){const p=String(e[a]).trim().toUpperCase();["TRUE","FALSE","+","-","X","âœ“","1","0","YES","NO"].includes(p)||i.push({field:a,message:`Invalid category value "${e[a]}". Use +, -, TRUE, FALSE, X, or âœ“`})}}),{valid:i.length===0,errors:i}},matchStrategy:{matchFields:["name"],matchMode:"first"},labels:{singular:"Company",plural:"Companies",exportButton:"Export Companies",importButton:"Import Companies",modalTitle:"Import Companies",exportFilename:"companies-export"}},event_subscriptions:{label:"Event Subscriptions",table:"event_subscriptions",yearDependent:!0,exportColumns:[{key:"id",header:"Subscription ID",type:"number"},{key:"company_name",header:"Company Name",type:"string",required:!0},{key:"event_year",header:"Event Year",type:"number",required:!0},{key:"contact",header:"Contact Person",type:"string"},{key:"phone",header:"Phone",type:"phone"},{key:"email",header:"Email",type:"email"},{key:"booth_count",header:"Booth Count",type:"number"},{key:"booth_labels",header:"Booth Labels",type:"string",wrapText:!0},{key:"area",header:"Area",type:"string",wrapText:!0},{key:"breakfast_sat",header:"Breakfast (Sat)",type:"number"},{key:"lunch_sat",header:"Lunch (Sat)",type:"number"},{key:"bbq_sat",header:"BBQ (Sat)",type:"number"},{key:"breakfast_sun",header:"Breakfast (Sun)",type:"number"},{key:"lunch_sun",header:"Lunch (Sun)",type:"number"},{key:"coins",header:"Coins",type:"number"},{key:"notes",header:"Notes",type:"string",wrapText:!0}],transformExport:async(e,s)=>{const{supabase:i,eventYear:o}=s||{};if(!i||!o)return e.map(a=>{var r;return{id:a.id,company_name:((r=a.company)==null?void 0:r.name)||"",event_year:a.event_year,contact:a.contact||"",phone:a.phone||"",email:a.email||"",booth_count:a.booth_count||1,booth_labels:"",area:a.area||"",breakfast_sat:a.breakfast_sat||0,lunch_sat:a.lunch_sat||0,bbq_sat:a.bbq_sat||0,breakfast_sun:a.breakfast_sun||0,lunch_sun:a.lunch_sun||0,coins:a.coins||0,notes:a.notes||""}});try{const{data:a,error:r}=await i.from("markers_appearance").select("id, glyph").eq("event_year",o);if(r)return console.error("Error fetching marker appearances:",r),e.map(t=>{var h;return{id:t.id,company_name:((h=t.company)==null?void 0:h.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:"",area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}});const p={};a==null||a.forEach(t=>{p[t.id]=t.glyph||t.id.toString()});const d=e.map(t=>t.company_id).filter(Boolean);if(d.length===0)return e.map(t=>{var h;return{id:t.id,company_name:((h=t.company)==null?void 0:h.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:"",area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}});const{data:m,error:c}=await i.from("assignments").select("company_id, marker_id").eq("event_year",o).in("company_id",d);if(c)return console.error("Error fetching assignments:",c),e.map(t=>{var h;return{id:t.id,company_name:((h=t.company)==null?void 0:h.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:"",area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}});const n={};return m==null||m.forEach(t=>{const h=p[t.marker_id];h&&(n[t.company_id]||(n[t.company_id]=[]),n[t.company_id].push(h))}),Object.keys(n).forEach(t=>{n[t].sort()}),e.map(t=>{var v,C;const h=((v=n[t.company_id])==null?void 0:v.join(", "))||"";return{id:t.id,company_name:((C=t.company)==null?void 0:C.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:h,area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}})}catch(a){return console.error("Error in transformExport:",a),e.map(r=>{var p;return{id:r.id,company_name:((p=r.company)==null?void 0:p.name)||"",event_year:r.event_year,contact:r.contact||"",phone:r.phone||"",email:r.email||"",booth_count:r.booth_count||1,booth_labels:"",area:r.area||"",breakfast_sat:r.breakfast_sat||0,lunch_sat:r.lunch_sat||0,bbq_sat:r.bbq_sat||0,breakfast_sun:r.breakfast_sun||0,lunch_sun:r.lunch_sun||0,coins:r.coins||0,notes:r.notes||""}})}},transformImport:(e,s,i)=>{var m,c,n,t;const o=(m=e["Company Name"])==null?void 0:m.trim(),a=s[o==null?void 0:o.toLowerCase()];if(!a)throw new Error(`Company "${o}" not found in database`);const r={company_id:a,event_year:parseInt(e["Event Year"])||i,contact:((c=e["Contact Person"])==null?void 0:c.trim())||"",area:((n=e.Area)==null?void 0:n.trim())||"",notes:((t=e.Notes)==null?void 0:t.trim())||""},p=e.Phone;r.phone=p&&p.trim()?w(p.trim()):null;const d=e.Email;return r.email=d&&d.trim()?d.toLowerCase().trim():null,r.booth_count=parseInt(e["Booth Count"])||1,r.breakfast_sat=parseInt(e["Breakfast (Sat)"])||0,r.lunch_sat=parseInt(e["Lunch (Sat)"])||0,r.bbq_sat=parseInt(e["BBQ (Sat)"])||0,r.breakfast_sun=parseInt(e["Breakfast (Sun)"])||0,r.lunch_sun=parseInt(e["Lunch (Sun)"])||0,r.coins=parseInt(e.Coins)||0,r},validateRow:(e,s,i)=>{var c;const o=[],a=T(e["Company Name"],"Company Name");if(!a.valid)o.push({field:"Company Name",message:a.error});else{const n=(c=e["Company Name"])==null?void 0:c.trim().toLowerCase();i&&!i[n]&&o.push({field:"Company Name",message:`Company "${e["Company Name"]}" not found in database`})}const r=parseInt(e["Event Year"]);e["Event Year"]&&(isNaN(r)||r<2020||r>2100)&&o.push({field:"Event Year",message:"Event Year must be a valid year between 2020-2100"});const p=parseInt(e["Booth Count"]);e["Booth Count"]&&(isNaN(p)||p<1)&&o.push({field:"Booth Count",message:"Booth Count must be at least 1"}),["Breakfast (Sat)","Lunch (Sat)","BBQ (Sat)","Breakfast (Sun)","Lunch (Sun)"].forEach(n=>{const t=parseInt(e[n]);e[n]&&(isNaN(t)||t<0)&&o.push({field:n,message:`${n} must be 0 or a positive integer`})});const m=parseInt(e.Coins);if(e.Coins&&(isNaN(m)||m<0)&&o.push({field:"Coins",message:"Coins must be 0 or a positive integer"}),e.Email&&e.Email.trim()){const n=H(e.Email);n.valid||o.push({field:"Email",message:n.error})}if(e.Phone&&e.Phone.trim()){const n=Z(e.Phone,w);n.valid||o.push({field:"Phone",message:n.error})}return{valid:o.length===0,errors:o}},matchStrategy:{matchFields:["company_id","event_year"],matchMode:"strict"},labels:{singular:"Subscription",plural:"Subscriptions",exportButton:"Export Subscriptions",importButton:"Import Subscriptions",modalTitle:"Import Subscriptions",exportFilename:"subscriptions-export"}},assignments:{label:"Booth Assignments",table:"assignments",yearDependent:!0,exportColumns:[{key:"id",header:"Assignment ID",type:"number"},{key:"company_name",header:"Company Name",type:"string",required:!0},{key:"booth_label",header:"Booth Label",type:"string",required:!0},{key:"marker_id",header:"Marker ID",type:"number",required:!0},{key:"event_year",header:"Event Year",type:"number",required:!0}],transformExport:(e,s)=>{const i={};return s.forEach(o=>{i[o.id]=o.glyph||o.id.toString()}),e.map(o=>{var a;return{id:o.id,company_name:((a=o.company)==null?void 0:a.name)||"",booth_label:i[o.marker_id]||o.marker_id.toString(),marker_id:o.marker_id,event_year:o.event_year}})},transformImport:(e,s,i,o)=>{var m,c;const a=(m=e["Company Name"])==null?void 0:m.trim(),r=s[a==null?void 0:a.toLowerCase()];if(!r)throw new Error(`Company "${a}" not found in database`);const p=(c=e["Booth Label"])==null?void 0:c.trim().toLowerCase(),d=e["Marker ID"]||i[p];if(!d)throw new Error(`Booth "${e["Booth Label"]}" not found in markers`);return{company_id:r,marker_id:parseInt(d),event_year:parseInt(e["Event Year"])||o}},validateRow:(e,s,i,o)=>{var d,m;const a=[],r=T(e["Company Name"],"Company Name");if(!r.valid)a.push({field:"Company Name",message:r.error});else if(i){const c=(d=e["Company Name"])==null?void 0:d.trim().toLowerCase();i[c]||a.push({field:"Company Name",message:`Company "${e["Company Name"]}" not found in database`})}const p=T(e["Booth Label"],"Booth Label");if(!p.valid)a.push({field:"Booth Label",message:p.error});else if(o){const c=(m=e["Booth Label"])==null?void 0:m.trim().toLowerCase();o[c]||a.push({field:"Booth Label",message:`Booth "${e["Booth Label"]}" not found in markers`})}return{valid:a.length===0,errors:a}},matchStrategy:{matchFields:["company_id","marker_id","event_year"],matchMode:"skip-duplicates"},labels:{singular:"Assignment",plural:"Assignments",exportButton:"Export Assignments",importButton:"Import Assignments",modalTitle:"Import Booth Assignments",exportFilename:"assignments-export"}}};function ae(e){const s=ue[e];if(!s)throw new Error(`Unknown data type: ${e}`);return s}function Ee({dataType:e,data:s,filename:i,additionalData:o,onExportStart:a,onExportComplete:r,onExportError:p,className:d=""}){const[m,c]=b.useState(!1),[n,t]=b.useState(!1),h=b.useRef(null),{toastSuccess:v,toastError:C}=ne(),y=ae(e),{categories:f,loading:g}=he();b.useEffect(()=>{function E(x){h.current&&!h.current.contains(x.target)&&t(!1)}if(n)return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[n]);const L=()=>{if(i)return i;const E=new Date().toISOString().split("T")[0];return`${y.labels.exportFilename}-${E}`},U=async E=>{if(t(!1),!s||s.length===0){C("No data to export");return}c(!0),a&&a(E);try{let x=s;y.transformExport&&(x=await y.transformExport(s,o));let F=y.exportColumns.slice();const D=(o==null?void 0:o.supabase)||ie;let _=null;if(y.table==="companies"&&D)try{const S=await D.from("categories").select("slug, category_translations(language, name, title)").order("sort_order");if(_=S&&S.data?S.data:null,(!Array.isArray(_)||_.length===0)&&Array.isArray(f)&&f.length>0&&(_=f.map(N=>({slug:N.slug,category_translations:N.translations||[]}))),Array.isArray(_)&&_.length>0){_.sort((u,k)=>{var I,P,V,W,Q,J,X,K;const j=((P=(I=u.category_translations)==null?void 0:I.find(Y=>Y.language==="nl"))==null?void 0:P.name)||((W=(V=u.category_translations)==null?void 0:V[0])==null?void 0:W.name)||u.slug||"",B=((J=(Q=k.category_translations)==null?void 0:Q.find(Y=>Y.language==="nl"))==null?void 0:J.name)||((K=(X=k.category_translations)==null?void 0:X[0])==null?void 0:K.name)||k.slug||"";return String(j).localeCompare(String(B))});const N=F.findIndex(u=>u.key==="categories"||u.header==="Categories"),O=_.map(u=>{var j,B,I,P;const k=((B=(j=u.category_translations)==null?void 0:j.find(V=>V.language==="nl"))==null?void 0:B.name)||((P=(I=u.category_translations)==null?void 0:I[0])==null?void 0:P.name)||u.slug;return{key:`category:${u.slug}`,header:k,type:"boolean"}});N>=0&&F.splice(N,1),F.push(...O);const z=s.map(u=>u.id).filter(Boolean),{data:G}=z.length?await D.from("company_categories").select("company_id, categories(slug)").in("company_id",z):{data:[]},A={};G&&G.forEach(u=>{var k;A[u.company_id]||(A[u.company_id]=[]),(k=u.categories)!=null&&k.slug&&A[u.company_id].push(u.categories.slug)}),x=x.map(u=>{const k=u.id,j=A[k]||[],B={...u};return _.forEach(I=>{B[`category:${I.slug}`]=j.includes(I.slug)?"+":"-"}),B})}}catch(S){console.error("Error expanding company categories for export:",S)}let $;const q=L();switch(E){case"excel":const S=Array.isArray(_)&&_.length>0?o!=null&&o.supabase?"supabase":f&&f.length?"in-memory":"unknown":"none",N=Array.isArray(_)?_.map(O=>O.slug):[];$=await de(x,F,q,{metadata:{category_source:S,category_slugs:N,format:"wide"},freezeColumns:2});break;case"csv":$=await pe(x,y.exportColumns,q);break;case"json":$=await me(x,q);break;default:throw new Error(`Unknown export format: ${E}`)}if($.success)v(`Successfully exported ${s.length} ${y.labels.plural.toLowerCase()} to ${E.toUpperCase()}`),r&&r(E,q);else throw new Error($.error||"Export failed")}catch(x){console.error("Export error:",x),C(`Export failed: ${x.message}`),p&&p(x)}finally{c(!1)}};return l.jsxs("div",{className:`relative ${d}`,ref:h,children:[l.jsx("button",{onClick:()=>t(!n),disabled:m||!s||s.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:y.labels.exportButton,children:m?l.jsxs(l.Fragment,{children:[l.jsx(R,{path:re,size:.8,spin:!0}),l.jsx("span",{children:"Exporting..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(R,{path:oe,size:.8}),l.jsx("span",{children:"Export"}),l.jsx(R,{path:se,size:.6})]})}),n&&!m&&l.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>U("excel"),disabled:y.table==="companies"&&g,title:y.table==="companies"&&g?"Categories are still loading â€” please wait to export Excel so category columns are included":void 0,className:`w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2 ${y.table==="companies"&&g?"opacity-50 cursor-not-allowed":""}`,"aria-disabled":y.table==="companies"&&g,children:[l.jsx("span",{children:"ðŸ“Š"}),l.jsx("span",{children:"Export as Excel (.xlsx)"})]}),l.jsxs("button",{onClick:()=>U("csv"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[l.jsx("span",{children:"ðŸ“„"}),l.jsx("span",{children:"Export as CSV"})]}),l.jsxs("button",{onClick:()=>U("json"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[l.jsx("span",{children:"ðŸ”§"}),l.jsx("span",{children:"Export as JSON"})]})]})})]})}const ye=b.lazy(()=>ce(()=>import("./ImportModal-7cd12594.js"),["assets/ImportModal-7cd12594.js","assets/index-4ec74ce4.js","assets/index-09b34d91.css","assets/dataExportImport-9d8f2a60.js","assets/phone-376c158e.js","assets/useCategories-be9f6d9b.js"]));function ke({dataType:e,eventYear:s,existingData:i=[],additionalData:o={},onImportComplete:a,onImportError:r,className:p=""}){const[d,m]=b.useState(!1),c=ae(e),n=h=>{m(!1),a&&a(h)},t=h=>{r&&r(h)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>m(!0),className:`flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors ${p}`,title:c.labels.importButton,children:[l.jsx(R,{path:le,size:.8}),l.jsx("span",{children:"Import"})]}),l.jsx(b.Suspense,{fallback:null,children:l.jsx(ye,{isOpen:d,onClose:()=>m(!1),dataType:e,eventYear:s,existingData:i,additionalData:o,onImportComplete:n,onImportError:t})})]})}export{Ee as E,ke as I,Ce as P,ae as a,ee as f,be as g};
