import{r as b,j as l,K as oe,I as M,aL as re,aN as se,h as ie,s as le,aM as ce,_ as me}from"./index-c3c9ac92.js";import{p as R,n as w}from"./phone-376c158e.js";import{v as T,a as H,b as Z,e as pe,c as de,d as he}from"./dataExportImport-9700835f.js";import{u as ue}from"./useCategories-5ce23293.js";function ee(e){if(!e||e.trim()==="")return"";const s=R(e);if(!s||!s.isValid())return e;const i=s.countryCallingCode,r=s.nationalNumber;if(s.country==="NL"){const a=r.replace(/^(\d)(\d{8})$/,"(0)$1-$2");return`+${i} ${a}`}else if(s.country==="BE"){const a=r.replace(/^(\d{1,3})(\d{2})(\d{2})(\d{2})$/,"(0)$1-$2-$3-$4");return`+${i} ${a}`}else if(s.country==="DE"){const a=r.replace(/^(\d{2,4})(\d+)$/,"(0)$1-$2");return`+${i} ${a}`}return`+${i} ${r}`}function Ce(e){const s={NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª",DE:"ðŸ‡©ðŸ‡ª",FR:"ðŸ‡«ðŸ‡·",GB:"ðŸ‡¬ðŸ‡§",US:"ðŸ‡ºðŸ‡¸",ES:"ðŸ‡ªðŸ‡¸",IT:"ðŸ‡®ðŸ‡¹"};if(!e)return"";const i=R(e);return i&&i.country?s[i.country]||"ðŸŒ":""}const te={NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª",DE:"ðŸ‡©ðŸ‡ª",FR:"ðŸ‡«ðŸ‡·",GB:"ðŸ‡¬ðŸ‡§",US:"ðŸ‡ºðŸ‡¸",ES:"ðŸ‡ªðŸ‡¸",IT:"ðŸ‡®ðŸ‡¹"};function Ee({value:e="",onChange:s,placeholder:i="Phone number (e.g., +31 (0)6-21165748)",className:r="",defaultCountry:a="NL"}){const[o,m]=b.useState(""),[p,d]=b.useState(null),[c,n]=b.useState(null);b.useEffect(()=>{if(e&&e.trim()!==""){const u=ee(e);m(u)}else m("")},[e]),b.useEffect(()=>{if(!o||o.trim()===""){d(null),n(null);return}const u=o.trim();let y=R(u,a);if(!y||!y.isValid()){let v=u.replace(/[()\s.-]+/g,"");v.startsWith("00")&&(v="+"+v.slice(2)),y=R(v,a)}y&&y.isValid()?(d(!0),n(y)):(d(!1),n(null))},[o,a]);const t=u=>{const y=u.target.value;m(y)},h=()=>{if(o&&o.trim()!==""){const u=w(o,a);if(u&&u!==e){s(u);const y=ee(u);m(y)}}else o===""&&e!==""&&s("")},g=()=>p===null?"border-gray-300":p===!0?"border-green-500":p===!1?"border-red-500":"border-gray-300",k=()=>p===null?"bg-white":p===!0?"bg-green-50":p===!1?"bg-red-50":"bg-white",I=()=>c&&c.country?te[c.country]||"ðŸŒ":te[a]||"ðŸŒ";return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:"text-xl",children:I()})}),l.jsx("input",{type:"text",value:o,onChange:t,onBlur:h,placeholder:i,className:`w-full pl-12 pr-3 py-2 border rounded transition-colors ${g()} ${k()} text-gray-900 ${r}`})]}),c&&p&&l.jsxs("div",{className:"text-xs mt-1 text-green-600 flex items-center gap-1",children:[l.jsx("span",{children:"âœ“"}),l.jsx("span",{children:c.country||"International"}),c.getType()&&l.jsxs("span",{className:"text-gray-500",children:["(",c.getType()==="MOBILE"?"Mobile":"Landline",")"]})]}),p===!1&&o&&l.jsx("div",{className:"text-xs mt-1 text-red-600",children:"âœ— Invalid phone number"}),!o&&l.jsx("div",{className:"text-xs mt-1 text-gray-500",children:"Format: +31 (0)6-12345678"})]})}const fe={companies:{label:"Companies",table:"companies",exportColumns:[{key:"id",header:"ID",type:"number"},{key:"name",header:"Company Name",type:"string",required:!0},{key:"categories",header:"Categories",type:"string"},{key:"contact",header:"Contact Person",type:"string"},{key:"phone",header:"Phone",type:"phone"},{key:"email",header:"Email",type:"email"},{key:"website",header:"Website",type:"string"},{key:"info_nl",header:"Info (Nederlands)",type:"string",wrapText:!0},{key:"info_en",header:"Info (English)",type:"string",wrapText:!0},{key:"info_de",header:"Info (Deutsch)",type:"string",wrapText:!0},{key:"logo",header:"Logo URL",type:"string"}],transformImport:e=>{var p,d,c,n,t,h,g,k;const s={name:((p=e["Company Name"])==null?void 0:p.trim())||"",contact:((d=e["Contact Person"])==null?void 0:d.trim())||"",website:((c=e.Website)==null?void 0:c.trim())||"",logo:((n=e["Logo URL"])==null?void 0:n.trim())||""},i=e.Phone;i&&i.trim()?s.phone=w(i.trim()):s.phone=null;const r=e.Email;r&&r.trim()?s.email=r.toLowerCase().trim():s.email=null;const a={nl:((t=e["Info (Nederlands)"])==null?void 0:t.trim())||"",en:((h=e["Info (English)"])==null?void 0:h.trim())||"",de:((g=e["Info (Deutsch)"])==null?void 0:g.trim())||""},o=((k=e.Categories)==null?void 0:k.trim())||"",m=o?o.split(",").map(I=>I.trim()).filter(I=>I.length>0):[];return s._translations=a,s._categorySlugs=m,s},transformExport:async(e,s)=>{const{supabase:i}=s||{};if(!i||e.length===0)return e.map(n=>({id:n.id,name:n.name||"",categories:"",contact:n.contact||"",phone:n.phone||"",email:n.email||"",website:n.website||"",info_nl:n.info||"",info_en:"",info_de:"",logo:n.logo||""}));const r=e.map(n=>n.id),{data:a,error:o}=await i.from("company_translations").select("company_id, language_code, info").in("company_id",r);o&&console.error("Error fetching translations:",o);const{data:m,error:p}=await i.from("company_categories").select(`
          company_id,
          categories(slug)
        `).in("company_id",r);p&&console.error("Error fetching categories:",p);const d={};a&&a.forEach(n=>{d[n.company_id]||(d[n.company_id]={}),d[n.company_id][n.language_code]=n.info||""});const c={};return m&&m.forEach(n=>{var t;c[n.company_id]||(c[n.company_id]=[]),(t=n.categories)!=null&&t.slug&&c[n.company_id].push(n.categories.slug)}),e.map(n=>{const t=d[n.id]||{},h=c[n.id]||[];return{id:n.id,name:n.name||"",categories:h.join(", "),contact:n.contact||"",phone:n.phone||"",email:n.email||"",website:n.website||"",info_nl:t.nl||n.info||"",info_en:t.en||"",info_de:t.de||"",logo:n.logo||""}})},validateRow:(e,s)=>{const i=[],r=T(e["Company Name"],"Company Name");if(r.valid||i.push({field:"Company Name",message:r.error}),e.Email&&e.Email.trim()){const a=H(e.Email);a.valid||i.push({field:"Email",message:a.error})}if(e.Phone&&e.Phone.trim()){const a=Z(e.Phone,w);a.valid||i.push({field:"Phone",message:a.error})}return Object.keys(e).forEach(a=>{if((a.toLowerCase().includes("category")||a.toLowerCase().includes("cat:")||a.startsWith("category:"))&&e[a]){const m=String(e[a]).trim().toUpperCase();["TRUE","FALSE","+","-","X","âœ“","1","0","YES","NO"].includes(m)||i.push({field:a,message:`Invalid category value "${e[a]}". Use +, -, TRUE, FALSE, X, or âœ“`})}}),{valid:i.length===0,errors:i}},matchStrategy:{matchFields:["name"],matchMode:"first"},labels:{singular:"Company",plural:"Companies",exportButton:"Export Companies",importButton:"Import Companies",modalTitle:"Import Companies",exportFilename:"companies-export"}},event_subscriptions:{label:"Event Subscriptions",table:"event_subscriptions",yearDependent:!0,exportColumns:[{key:"id",header:"Subscription ID",type:"number"},{key:"company_name",header:"Company Name",type:"string",required:!0},{key:"event_year",header:"Event Year",type:"number",required:!0},{key:"contact",header:"Contact Person",type:"string"},{key:"phone",header:"Phone",type:"phone"},{key:"email",header:"Email",type:"email"},{key:"booth_count",header:"Booth Count",type:"number"},{key:"booth_labels",header:"Booth Labels",type:"string",wrapText:!0},{key:"area",header:"Area",type:"string",wrapText:!0},{key:"breakfast_sat",header:"Breakfast (Sat)",type:"number"},{key:"lunch_sat",header:"Lunch (Sat)",type:"number"},{key:"bbq_sat",header:"BBQ (Sat)",type:"number"},{key:"breakfast_sun",header:"Breakfast (Sun)",type:"number"},{key:"lunch_sun",header:"Lunch (Sun)",type:"number"},{key:"coins",header:"Coins",type:"number"},{key:"notes",header:"Notes",type:"string",wrapText:!0}],transformExport:async(e,s)=>{const{supabase:i,eventYear:r}=s||{};if(!i||!r)return e.map(a=>{var o;return{id:a.id,company_name:((o=a.company)==null?void 0:o.name)||"",event_year:a.event_year,contact:a.contact||"",phone:a.phone||"",email:a.email||"",booth_count:a.booth_count||1,booth_labels:"",area:a.area||"",breakfast_sat:a.breakfast_sat||0,lunch_sat:a.lunch_sat||0,bbq_sat:a.bbq_sat||0,breakfast_sun:a.breakfast_sun||0,lunch_sun:a.lunch_sun||0,coins:a.coins||0,notes:a.notes||""}});try{const{data:a,error:o}=await i.from("markers_appearance").select("id, glyph").eq("event_year",r);if(o)return console.error("Error fetching marker appearances:",o),e.map(t=>{var h;return{id:t.id,company_name:((h=t.company)==null?void 0:h.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:"",area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}});const m={};a==null||a.forEach(t=>{m[t.id]=t.glyph||t.id.toString()});const p=e.map(t=>t.company_id).filter(Boolean);if(p.length===0)return e.map(t=>{var h;return{id:t.id,company_name:((h=t.company)==null?void 0:h.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:"",area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}});const{data:d,error:c}=await i.from("assignments").select("company_id, marker_id").eq("event_year",r).in("company_id",p);if(c)return console.error("Error fetching assignments:",c),e.map(t=>{var h;return{id:t.id,company_name:((h=t.company)==null?void 0:h.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:"",area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}});const n={};return d==null||d.forEach(t=>{const h=m[t.marker_id];h&&(n[t.company_id]||(n[t.company_id]=[]),n[t.company_id].push(h))}),Object.keys(n).forEach(t=>{n[t].sort()}),e.map(t=>{var g,k;const h=((g=n[t.company_id])==null?void 0:g.join(", "))||"";return{id:t.id,company_name:((k=t.company)==null?void 0:k.name)||"",event_year:t.event_year,contact:t.contact||"",phone:t.phone||"",email:t.email||"",booth_count:t.booth_count||1,booth_labels:h,area:t.area||"",breakfast_sat:t.breakfast_sat||0,lunch_sat:t.lunch_sat||0,bbq_sat:t.bbq_sat||0,breakfast_sun:t.breakfast_sun||0,lunch_sun:t.lunch_sun||0,coins:t.coins||0,notes:t.notes||""}})}catch(a){return console.error("Error in transformExport:",a),e.map(o=>{var m;return{id:o.id,company_name:((m=o.company)==null?void 0:m.name)||"",event_year:o.event_year,contact:o.contact||"",phone:o.phone||"",email:o.email||"",booth_count:o.booth_count||1,booth_labels:"",area:o.area||"",breakfast_sat:o.breakfast_sat||0,lunch_sat:o.lunch_sat||0,bbq_sat:o.bbq_sat||0,breakfast_sun:o.breakfast_sun||0,lunch_sun:o.lunch_sun||0,coins:o.coins||0,notes:o.notes||""}})}},transformImport:(e,s,i)=>{var d,c,n,t;const r=(d=e["Company Name"])==null?void 0:d.trim(),a=s[r==null?void 0:r.toLowerCase()];if(!a)throw new Error(`Company "${r}" not found in database`);const o={company_id:a,event_year:parseInt(e["Event Year"])||i,contact:((c=e["Contact Person"])==null?void 0:c.trim())||"",area:((n=e.Area)==null?void 0:n.trim())||"",notes:((t=e.Notes)==null?void 0:t.trim())||""},m=e.Phone;o.phone=m&&m.trim()?w(m.trim()):null;const p=e.Email;return o.email=p&&p.trim()?p.toLowerCase().trim():null,o.booth_count=parseInt(e["Booth Count"])||1,o.breakfast_sat=parseInt(e["Breakfast (Sat)"])||0,o.lunch_sat=parseInt(e["Lunch (Sat)"])||0,o.bbq_sat=parseInt(e["BBQ (Sat)"])||0,o.breakfast_sun=parseInt(e["Breakfast (Sun)"])||0,o.lunch_sun=parseInt(e["Lunch (Sun)"])||0,o.coins=parseInt(e.Coins)||0,o},validateRow:(e,s,i)=>{var c;const r=[],a=T(e["Company Name"],"Company Name");if(!a.valid)r.push({field:"Company Name",message:a.error});else{const n=(c=e["Company Name"])==null?void 0:c.trim().toLowerCase();i&&!i[n]&&r.push({field:"Company Name",message:`Company "${e["Company Name"]}" not found in database`})}const o=parseInt(e["Event Year"]);e["Event Year"]&&(isNaN(o)||o<2020||o>2100)&&r.push({field:"Event Year",message:"Event Year must be a valid year between 2020-2100"});const m=parseInt(e["Booth Count"]);e["Booth Count"]&&(isNaN(m)||m<1)&&r.push({field:"Booth Count",message:"Booth Count must be at least 1"}),["Breakfast (Sat)","Lunch (Sat)","BBQ (Sat)","Breakfast (Sun)","Lunch (Sun)"].forEach(n=>{const t=parseInt(e[n]);e[n]&&(isNaN(t)||t<0)&&r.push({field:n,message:`${n} must be 0 or a positive integer`})});const d=parseInt(e.Coins);if(e.Coins&&(isNaN(d)||d<0)&&r.push({field:"Coins",message:"Coins must be 0 or a positive integer"}),e.Email&&e.Email.trim()){const n=H(e.Email);n.valid||r.push({field:"Email",message:n.error})}if(e.Phone&&e.Phone.trim()){const n=Z(e.Phone,w);n.valid||r.push({field:"Phone",message:n.error})}return{valid:r.length===0,errors:r}},matchStrategy:{matchFields:["company_id","event_year"],matchMode:"strict"},labels:{singular:"Subscription",plural:"Subscriptions",exportButton:"Export Subscriptions",importButton:"Import Subscriptions",modalTitle:"Import Subscriptions",exportFilename:"subscriptions-export"}},assignments:{label:"Booth Assignments",table:"assignments",yearDependent:!0,exportColumns:[{key:"id",header:"Assignment ID",type:"number"},{key:"company_name",header:"Company Name",type:"string",required:!0},{key:"booth_label",header:"Booth Label",type:"string",required:!0},{key:"marker_id",header:"Marker ID",type:"number",required:!0},{key:"event_year",header:"Event Year",type:"number",required:!0}],transformExport:(e,s)=>{const i={};return s.forEach(r=>{i[r.id]=r.glyph||r.id.toString()}),e.map(r=>{var a;return{id:r.id,company_name:((a=r.company)==null?void 0:a.name)||"",booth_label:i[r.marker_id]||r.marker_id.toString(),marker_id:r.marker_id,event_year:r.event_year}})},transformImport:(e,s,i,r)=>{var d,c;const a=(d=e["Company Name"])==null?void 0:d.trim(),o=s[a==null?void 0:a.toLowerCase()];if(!o)throw new Error(`Company "${a}" not found in database`);const m=(c=e["Booth Label"])==null?void 0:c.trim().toLowerCase(),p=e["Marker ID"]||i[m];if(!p)throw new Error(`Booth "${e["Booth Label"]}" not found in markers`);return{company_id:o,marker_id:parseInt(p),event_year:parseInt(e["Event Year"])||r}},validateRow:(e,s,i,r)=>{var p,d;const a=[],o=T(e["Company Name"],"Company Name");if(!o.valid)a.push({field:"Company Name",message:o.error});else if(i){const c=(p=e["Company Name"])==null?void 0:p.trim().toLowerCase();i[c]||a.push({field:"Company Name",message:`Company "${e["Company Name"]}" not found in database`})}const m=T(e["Booth Label"],"Booth Label");if(!m.valid)a.push({field:"Booth Label",message:m.error});else if(r){const c=(d=e["Booth Label"])==null?void 0:d.trim().toLowerCase();r[c]||a.push({field:"Booth Label",message:`Booth "${e["Booth Label"]}" not found in markers`})}return{valid:a.length===0,errors:a}},matchStrategy:{matchFields:["company_id","marker_id","event_year"],matchMode:"skip-duplicates"},labels:{singular:"Assignment",plural:"Assignments",exportButton:"Export Assignments",importButton:"Import Assignments",modalTitle:"Import Booth Assignments",exportFilename:"assignments-export"}}};function ae(e){const s=fe[e];if(!s)throw new Error(`Unknown data type: ${e}`);return s}function ke({dataType:e,data:s,filename:i,additionalData:r,onExportStart:a,onExportComplete:o,onExportError:m,className:p="",buttonClassName:d=""}){const[c,n]=b.useState(!1),[t,h]=b.useState(!1),g=b.useRef(null),{toastSuccess:k,toastError:I}=oe(),u=ae(e),{categories:y,loading:v}=ue();b.useEffect(()=>{function C(x){g.current&&!g.current.contains(x.target)&&h(!1)}if(t)return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[t]);const ne=()=>{if(i)return i;const C=new Date().toISOString().split("T")[0];return`${u.labels.exportFilename}-${C}`},U=async C=>{if(h(!1),!s||s.length===0){I("No data to export");return}n(!0),a&&a(C);try{let x=s;u.transformExport&&(x=await u.transformExport(s,r));let q=u.exportColumns.slice();const D=(r==null?void 0:r.supabase)||le;let _=null;if(u.table==="companies"&&D)try{const N=await D.from("categories").select("slug, category_translations(language, name, title)").order("sort_order");if(_=N&&N.data?N.data:null,(!Array.isArray(_)||_.length===0)&&Array.isArray(y)&&y.length>0&&(_=y.map(B=>({slug:B.slug,category_translations:B.translations||[]}))),Array.isArray(_)&&_.length>0){_.sort((f,E)=>{var S,P,V,W,Q,J,X,K;const j=((P=(S=f.category_translations)==null?void 0:S.find(Y=>Y.language==="nl"))==null?void 0:P.name)||((W=(V=f.category_translations)==null?void 0:V[0])==null?void 0:W.name)||f.slug||"",L=((J=(Q=E.category_translations)==null?void 0:Q.find(Y=>Y.language==="nl"))==null?void 0:J.name)||((K=(X=E.category_translations)==null?void 0:X[0])==null?void 0:K.name)||E.slug||"";return String(j).localeCompare(String(L))});const B=q.findIndex(f=>f.key==="categories"||f.header==="Categories"),O=_.map(f=>{var j,L,S,P;const E=((L=(j=f.category_translations)==null?void 0:j.find(V=>V.language==="nl"))==null?void 0:L.name)||((P=(S=f.category_translations)==null?void 0:S[0])==null?void 0:P.name)||f.slug;return{key:`category:${f.slug}`,header:E,type:"boolean"}});B>=0&&q.splice(B,1),q.push(...O);const z=s.map(f=>f.id).filter(Boolean),{data:G}=z.length?await D.from("company_categories").select("company_id, categories(slug)").in("company_id",z):{data:[]},A={};G&&G.forEach(f=>{var E;A[f.company_id]||(A[f.company_id]=[]),(E=f.categories)!=null&&E.slug&&A[f.company_id].push(f.categories.slug)}),x=x.map(f=>{const E=f.id,j=A[E]||[],L={...f};return _.forEach(S=>{L[`category:${S.slug}`]=j.includes(S.slug)?"+":"-"}),L})}}catch(N){console.error("Error expanding company categories for export:",N)}let $;const F=ne();switch(C){case"excel":const N=Array.isArray(_)&&_.length>0?r!=null&&r.supabase?"supabase":y&&y.length?"in-memory":"unknown":"none",B=Array.isArray(_)?_.map(O=>O.slug):[];$=await he(x,q,F,{metadata:{category_source:N,category_slugs:B,format:"wide"},freezeColumns:2});break;case"csv":$=await de(x,u.exportColumns,F);break;case"json":$=await pe(x,F);break;default:throw new Error(`Unknown export format: ${C}`)}if($.success)k(`Successfully exported ${s.length} ${u.labels.plural.toLowerCase()} to ${C.toUpperCase()}`),o&&o(C,F);else throw new Error($.error||"Export failed")}catch(x){console.error("Export error:",x),I(`Export failed: ${x.message}`),m&&m(x)}finally{n(!1)}};return l.jsxs("div",{className:`relative ${p}`,ref:g,children:[l.jsx("button",{onClick:()=>h(!t),disabled:c||!s||s.length===0,className:d||"flex items-center gap-2 px-3 py-1.5 text-sm font-medium bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:u.labels.exportButton,children:c?l.jsxs(l.Fragment,{children:[l.jsx(M,{path:re,size:.8,spin:!0}),l.jsx("span",{children:"Exporting..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{path:se,size:.8}),l.jsx("span",{children:"Export"}),l.jsx(M,{path:ie,size:.6})]})}),t&&!c&&l.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>U("excel"),disabled:u.table==="companies"&&v,title:u.table==="companies"&&v?"Categories are still loading â€” please wait to export Excel so category columns are included":void 0,className:`w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2 ${u.table==="companies"&&v?"opacity-50 cursor-not-allowed":""}`,"aria-disabled":u.table==="companies"&&v,children:[l.jsx("span",{children:"ðŸ“Š"}),l.jsx("span",{children:"Export as Excel (.xlsx)"})]}),l.jsxs("button",{onClick:()=>U("csv"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[l.jsx("span",{children:"ðŸ“„"}),l.jsx("span",{children:"Export as CSV"})]}),l.jsxs("button",{onClick:()=>U("json"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[l.jsx("span",{children:"ðŸ”§"}),l.jsx("span",{children:"Export as JSON"})]})]})})]})}const ye=b.lazy(()=>me(()=>import("./ImportModal-f7de4d81.js"),["assets/ImportModal-f7de4d81.js","assets/index-c3c9ac92.js","assets/index-51801549.css","assets/dataExportImport-9700835f.js","assets/phone-376c158e.js","assets/useCategories-5ce23293.js"]));function ve({dataType:e,eventYear:s,existingData:i=[],additionalData:r={},onImportComplete:a,onImportError:o,className:m="",buttonClassName:p=""}){const[d,c]=b.useState(!1),n=ae(e),t=g=>{c(!1),a&&a(g)},h=g=>{o&&o(g)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>c(!0),className:p||`flex items-center gap-2 px-3 py-1.5 text-sm font-medium bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors ${m}`,title:n.labels.importButton,children:[l.jsx(M,{path:ce,size:.8}),l.jsx("span",{children:"Import"})]}),l.jsx(b.Suspense,{fallback:null,children:l.jsx(ye,{isOpen:d,onClose:()=>c(!1),dataType:e,eventYear:s,existingData:i,additionalData:r,onImportComplete:t,onImportError:h})})]})}export{ke as E,ve as I,Ee as P,ae as a,ee as f,Ce as g};
