import{r as u,j as a}from"./index-8fb29835.js";import{p as x,n as B}from"./phone-376c158e.js";function $(e){if(!e||e.trim()==="")return"";const t=x(e);if(!t||!t.isValid())return e;const l=t.countryCallingCode,d=t.nationalNumber;if(t.country==="NL"){const r=d.replace(/^(\d)(\d{8})$/,"(0)$1-$2");return`+${l} ${r}`}else if(t.country==="BE"){const r=d.replace(/^(\d{1,3})(\d{2})(\d{2})(\d{2})$/,"(0)$1-$2-$3-$4");return`+${l} ${r}`}else if(t.country==="DE"){const r=d.replace(/^(\d{2,4})(\d+)$/,"(0)$1-$2");return`+${l} ${r}`}return`+${l} ${d}`}function F(e){const t={NL:"üá≥üá±",BE:"üáßüá™",DE:"üá©üá™",FR:"üá´üá∑",GB:"üá¨üáß",US:"üá∫üá∏",ES:"üá™üá∏",IT:"üáÆüáπ"};if(!e)return"";const l=x(e);return l&&l.country?t[l.country]||"üåç":""}const h={NL:"üá≥üá±",BE:"üáßüá™",DE:"üá©üá™",FR:"üá´üá∑",GB:"üá¨üáß",US:"üá∫üá∏",ES:"üá™üá∏",IT:"üáÆüáπ"};function I({value:e="",onChange:t,placeholder:l="Phone number (e.g., +31 (0)6-21165748)",className:d="",defaultCountry:r="NL"}){const[n,f]=u.useState(""),[o,p]=u.useState(null),[c,g]=u.useState(null);u.useEffect(()=>{if(e&&e.trim()!==""){const s=$(e);f(s)}else f("")},[e]),u.useEffect(()=>{if(!n||n.trim()===""){p(null),g(null);return}const s=n.trim();let i=x(s,r);if(!i||!i.isValid()){let m=s.replace(/[()\s.-]+/g,"");m.startsWith("00")&&(m="+"+m.slice(2)),i=x(m,r)}i&&i.isValid()?(p(!0),g(i)):(p(!1),g(null))},[n,r]);const y=s=>{const i=s.target.value;f(i)},j=()=>{if(n&&n.trim()!==""){const s=B(n,r);if(s&&s!==e){t(s);const i=$(s);f(i)}}else n===""&&e!==""&&t("")},E=()=>o===null?"border-gray-300":o===!0?"border-green-500":o===!1?"border-red-500":"border-gray-300",b=()=>o===null?"bg-white":o===!0?"bg-green-50":o===!1?"bg-red-50":"bg-white",N=()=>c&&c.country?h[c.country]||"üåç":h[r]||"üåç";return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-xl",children:N()})}),a.jsx("input",{type:"text",value:n,onChange:y,onBlur:j,placeholder:l,className:`w-full pl-12 pr-3 py-2 border rounded transition-colors ${E()} ${b()} text-gray-900 ${d}`})]}),c&&o&&a.jsxs("div",{className:"text-xs mt-1 text-green-600 flex items-center gap-1",children:[a.jsx("span",{children:"‚úì"}),a.jsx("span",{children:c.country||"International"}),c.getType()&&a.jsxs("span",{className:"text-gray-500",children:["(",c.getType()==="MOBILE"?"Mobile":"Landline",")"]})]}),o===!1&&n&&a.jsx("div",{className:"text-xs mt-1 text-red-600",children:"‚úó Invalid phone number"}),!n&&a.jsx("div",{className:"text-xs mt-1 text-gray-500",children:"Format: +31 (0)6-12345678"})]})}export{I as P,$ as f,F as g};
