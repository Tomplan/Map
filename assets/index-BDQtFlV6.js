function zE(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var ig={exports:{}},nc={};var Vx;function BE(){if(Vx)return nc;Vx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var d in s)d!=="key"&&(a[d]=s[d])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return nc.Fragment=t,nc.jsx=n,nc.jsxs=n,nc}var Hx;function UE(){return Hx||(Hx=1,ig.exports=BE()),ig.exports}var h=UE(),rg={exports:{}},Je={};var Zx;function FE(){if(Zx)return Je;Zx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function k(D,te,I){this.props=D,this.context=te,this.refs=T,this.updater=I||C}k.prototype.isReactComponent={},k.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function A(){}A.prototype=k.prototype;function $(D,te,I){this.props=D,this.context=te,this.refs=T,this.updater=I||C}var O=$.prototype=new A;O.constructor=$,N(O,k.prototype),O.isPureReactComponent=!0;var F=Array.isArray;function R(){}var Z={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function V(D,te,I){var fe=I.ref;return{$$typeof:e,type:D,key:te,ref:fe!==void 0?fe:null,props:I}}function Q(D,te){return V(D.type,te,D.props)}function G(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function q(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(I){return te[I]})}var de=/\/+/g;function K(D,te){return typeof D=="object"&&D!==null&&D.key!=null?q(""+D.key):te.toString(36)}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,te,I,fe,le){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case e:case t:Te=!0;break;case y:return Te=D._init,H(Te(D._payload),te,I,fe,le)}}if(Te)return le=le(D),Te=fe===""?"."+K(D,0):fe,F(le)?(I="",Te!=null&&(I=Te.replace(de,"$&/")+"/"),H(le,te,I,"",function(ae){return ae})):le!=null&&(G(le)&&(le=Q(le,I+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(de,"$&/")+"/")+Te)),te.push(le)),1;Te=0;var be=fe===""?".":fe+":";if(F(D))for(var ce=0;ce<D.length;ce++)fe=D[ce],ve=be+K(fe,ce),Te+=H(fe,te,I,ve,le);else if(ce=w(D),typeof ce=="function")for(D=ce.call(D),ce=0;!(fe=D.next()).done;)fe=fe.value,ve=be+K(fe,ce++),Te+=H(fe,te,I,ve,le);else if(ve==="object"){if(typeof D.then=="function")return H(ne(D),te,I,fe,le);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(D,te,I){if(D==null)return D;var fe=[],le=0;return H(D,fe,"","",function(ve){return te.call(I,ve,le++)}),fe}function ie(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(I){(D._status===0||D._status===-1)&&(D._status=1,D._result=I)},function(I){(D._status===0||D._status===-1)&&(D._status=2,D._result=I)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var ke=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},B={map:Y,forEach:function(D,te,I){Y(D,function(){te.apply(this,arguments)},I)},count:function(D){var te=0;return Y(D,function(){te++}),te},toArray:function(D){return Y(D,function(te){return te})||[]},only:function(D){if(!G(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Je.Activity=v,Je.Children=B,Je.Component=k,Je.Fragment=n,Je.Profiler=s,Je.PureComponent=$,Je.StrictMode=i,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Je.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Z.H.useMemoCache(D)}},Je.cache=function(D){return function(){return D.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(D,te,I){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var fe=N({},D.props),le=D.key;if(te!=null)for(ve in te.key!==void 0&&(le=""+te.key),te)!W.call(te,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&te.ref===void 0||(fe[ve]=te[ve]);var ve=arguments.length-2;if(ve===1)fe.children=I;else if(1<ve){for(var Te=Array(ve),be=0;be<ve;be++)Te[be]=arguments[be+2];fe.children=Te}return V(D.type,le,fe)},Je.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Je.createElement=function(D,te,I){var fe,le={},ve=null;if(te!=null)for(fe in te.key!==void 0&&(ve=""+te.key),te)W.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(le[fe]=te[fe]);var Te=arguments.length-2;if(Te===1)le.children=I;else if(1<Te){for(var be=Array(Te),ce=0;ce<Te;ce++)be[ce]=arguments[ce+2];le.children=be}if(D&&D.defaultProps)for(fe in Te=D.defaultProps,Te)le[fe]===void 0&&(le[fe]=Te[fe]);return V(D,ve,le)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(D){return{$$typeof:d,render:D}},Je.isValidElement=G,Je.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:ie}},Je.memo=function(D,te){return{$$typeof:m,type:D,compare:te===void 0?null:te}},Je.startTransition=function(D){var te=Z.T,I={};Z.T=I;try{var fe=D(),le=Z.S;le!==null&&le(I,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(R,ke)}catch(ve){ke(ve)}finally{te!==null&&I.types!==null&&(te.types=I.types),Z.T=te}},Je.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Je.use=function(D){return Z.H.use(D)},Je.useActionState=function(D,te,I){return Z.H.useActionState(D,te,I)},Je.useCallback=function(D,te){return Z.H.useCallback(D,te)},Je.useContext=function(D){return Z.H.useContext(D)},Je.useDebugValue=function(){},Je.useDeferredValue=function(D,te){return Z.H.useDeferredValue(D,te)},Je.useEffect=function(D,te){return Z.H.useEffect(D,te)},Je.useEffectEvent=function(D){return Z.H.useEffectEvent(D)},Je.useId=function(){return Z.H.useId()},Je.useImperativeHandle=function(D,te,I){return Z.H.useImperativeHandle(D,te,I)},Je.useInsertionEffect=function(D,te){return Z.H.useInsertionEffect(D,te)},Je.useLayoutEffect=function(D,te){return Z.H.useLayoutEffect(D,te)},Je.useMemo=function(D,te){return Z.H.useMemo(D,te)},Je.useOptimistic=function(D,te){return Z.H.useOptimistic(D,te)},Je.useReducer=function(D,te,I){return Z.H.useReducer(D,te,I)},Je.useRef=function(D){return Z.H.useRef(D)},Je.useState=function(D){return Z.H.useState(D)},Je.useSyncExternalStore=function(D,te,I){return Z.H.useSyncExternalStore(D,te,I)},Je.useTransition=function(){return Z.H.useTransition()},Je.version="19.2.0",Je}var qx;function Wc(){return qx||(qx=1,rg.exports=FE()),rg.exports}var j=Wc();const Ti=oa(j);var sg={exports:{}},ic={},ag={exports:{}},og={};var Gx;function VE(){return Gx||(Gx=1,(function(e){function t(H,Y){var ie=H.length;H.push(Y);e:for(;0<ie;){var ke=ie-1>>>1,B=H[ke];if(0<s(B,Y))H[ke]=Y,H[ie]=B,ie=ke;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],ie=H.pop();if(ie!==Y){H[0]=ie;e:for(var ke=0,B=H.length,D=B>>>1;ke<D;){var te=2*(ke+1)-1,I=H[te],fe=te+1,le=H[fe];if(0>s(I,ie))fe<B&&0>s(le,I)?(H[ke]=le,H[fe]=ie,ke=fe):(H[ke]=I,H[te]=ie,ke=te);else if(fe<B&&0>s(le,ie))H[ke]=le,H[fe]=ie,ke=fe;else break e}}return Y}function s(H,Y){var ie=H.sortIndex-Y.sortIndex;return ie!==0?ie:H.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],m=[],y=1,v=null,_=3,w=!1,C=!1,N=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var Y=n(m);Y!==null;){if(Y.callback===null)i(m);else if(Y.startTime<=H)i(m),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(m)}}function F(H){if(N=!1,O(H),!C)if(n(f)!==null)C=!0,R||(R=!0,q());else{var Y=n(m);Y!==null&&ne(F,Y.startTime-H)}}var R=!1,Z=-1,W=5,V=-1;function Q(){return T?!0:!(e.unstable_now()-V<W)}function G(){if(T=!1,R){var H=e.unstable_now();V=H;var Y=!0;try{e:{C=!1,N&&(N=!1,A(Z),Z=-1),w=!0;var ie=_;try{t:{for(O(H),v=n(f);v!==null&&!(v.expirationTime>H&&Q());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,_=v.priorityLevel;var B=ke(v.expirationTime<=H);if(H=e.unstable_now(),typeof B=="function"){v.callback=B,O(H),Y=!0;break t}v===n(f)&&i(f),O(H)}else i(f);v=n(f)}if(v!==null)Y=!0;else{var D=n(m);D!==null&&ne(F,D.startTime-H),Y=!1}}break e}finally{v=null,_=ie,w=!1}Y=void 0}}finally{Y?q():R=!1}}}var q;if(typeof $=="function")q=function(){$(G)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,K=de.port2;de.port1.onmessage=G,q=function(){K.postMessage(null)}}else q=function(){k(G,0)};function ne(H,Y){Z=k(function(){H(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(H){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var ie=_;_=Y;try{return H()}finally{_=ie}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=_;_=H;try{return Y()}finally{_=ie}},e.unstable_scheduleCallback=function(H,Y,ie){var ke=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ie+B,H={id:y++,callback:Y,priorityLevel:H,startTime:ie,expirationTime:B,sortIndex:-1},ie>ke?(H.sortIndex=ie,t(m,H),n(f)===null&&H===n(m)&&(N?(A(Z),Z=-1):N=!0,ne(F,ie-ke))):(H.sortIndex=B,t(f,H),C||w||(C=!0,R||(R=!0,q()))),H},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(H){var Y=_;return function(){var ie=_;_=Y;try{return H.apply(this,arguments)}finally{_=ie}}}})(og)),og}var Kx;function HE(){return Kx||(Kx=1,ag.exports=VE()),ag.exports}var lg={exports:{}},Pn={};var Wx;function ZE(){if(Wx)return Pn;Wx=1;var e=Wc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return a(f,m,null,y)},Pn.flushSync=function(f){var m=l.T,y=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=m,i.p=y,i.d.f()}},Pn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},Pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Pn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},Pn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},Pn.requestFormReset=function(f){i.d.r(f)},Pn.unstable_batchedUpdates=function(f,m){return f(m)},Pn.useFormState=function(f,m,y){return l.H.useFormState(f,m,y)},Pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Pn.version="19.2.0",Pn}var Yx;function U3(){if(Yx)return lg.exports;Yx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lg.exports=ZE(),lg.exports}var Xx;function qE(){if(Xx)return ic;Xx=1;var e=HE(),t=Wc(),n=U3();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function m(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,g=o;;){var x=c.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){c=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===c)return f(x),r;if(S===g)return f(x),o;S=S.sibling}throw Error(i(188))}if(c.return!==g.return)c=x,g=S;else{for(var P=!1,U=x.child;U;){if(U===c){P=!0,c=x,g=S;break}if(U===g){P=!0,g=x,c=S;break}U=U.sibling}if(!P){for(U=S.child;U;){if(U===c){P=!0,c=S,g=x;break}if(U===g){P=!0,g=S,c=x;break}U=U.sibling}if(!P)throw Error(i(189))}}if(c.alternate!==g)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function y(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=y(r),o!==null)return o;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),$=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var de=Symbol.for("react.client.reference");function K(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===de?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case R:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case $:return r.displayName||"Context";case A:return(r._context.displayName||"Context")+".Consumer";case O:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return o=r.displayName||null,o!==null?o:K(r.type)||"Memo";case W:o=r._payload,r=r._init;try{return K(r(o))}catch{}}return null}var ne=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ke=[],B=-1;function D(r){return{current:r}}function te(r){0>B||(r.current=ke[B],ke[B]=null,B--)}function I(r,o){B++,ke[B]=r.current,r.current=o}var fe=D(null),le=D(null),ve=D(null),Te=D(null);function be(r,o){switch(I(ve,o),I(le,r),I(fe,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?hx(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=hx(o),r=fx(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}te(fe),I(fe,r)}function ce(){te(fe),te(le),te(ve)}function ae(r){r.memoizedState!==null&&I(Te,r);var o=fe.current,c=fx(o,r.type);o!==c&&(I(le,r),I(fe,c))}function J(r){le.current===r&&(te(fe),te(le)),Te.current===r&&(te(Te),Ju._currentValue=ie)}var se,Me;function Pe(r){if(se===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||"",Me=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+r+Me}var Ke=!1;function Oe(r,o){if(!r||Ke)return"";Ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(xe){var ye=xe}Reflect.construct(r,[],je)}else{try{je.call()}catch(xe){ye=xe}r.call(je.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(je=r())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),P=S[0],U=S[1];if(P&&U){var ee=P.split(`
`),me=U.split(`
`);for(x=g=0;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;for(;x<me.length&&!me[x].includes("DetermineComponentFrameRoot");)x++;if(g===ee.length||x===me.length)for(g=ee.length-1,x=me.length-1;1<=g&&0<=x&&ee[g]!==me[x];)x--;for(;1<=g&&0<=x;g--,x--)if(ee[g]!==me[x]){if(g!==1||x!==1)do if(g--,x--,0>x||ee[g]!==me[x]){var we=`
`+ee[g].replace(" at new "," at ");return r.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",r.displayName)),we}while(1<=g&&0<=x);break}}}finally{Ke=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Pe(c):""}function xt(r,o){switch(r.tag){case 26:case 27:case 5:return Pe(r.type);case 16:return Pe("Lazy");case 13:return r.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Oe(r.type,!1);case 11:return Oe(r.type.render,!1);case 1:return Oe(r.type,!0);case 31:return Pe("Activity");default:return""}}function Xt(r){try{var o="",c=null;do o+=xt(r,c),c=r,r=r.return;while(r);return o}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Tt=Object.prototype.hasOwnProperty,kt=e.unstable_scheduleCallback,dn=e.unstable_cancelCallback,di=e.unstable_shouldYield,Dr=e.unstable_requestPaint,_n=e.unstable_now,Ql=e.unstable_getCurrentPriorityLevel,Se=e.unstable_ImmediatePriority,Ae=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,it=e.unstable_LowPriority,ht=e.unstable_IdlePriority,An=e.log,Ki=e.unstable_setDisableYieldValue,gn=null,Ut=null;function wn(r){if(typeof An=="function"&&Ki(r),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(gn,r)}catch{}}var _t=Math.clz32?Math.clz32:um,qn=Math.log,hi=Math.LN2;function um(r){return r>>>=0,r===0?32:31-(qn(r)/hi|0)|0}var ha=256,fa=262144,ma=4194304;function zr(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _o(r,o,c){var g=r.pendingLanes;if(g===0)return 0;var x=0,S=r.suspendedLanes,P=r.pingedLanes;r=r.warmLanes;var U=g&134217727;return U!==0?(g=U&~S,g!==0?x=zr(g):(P&=U,P!==0?x=zr(P):c||(c=U&~r,c!==0&&(x=zr(c))))):(U=g&~S,U!==0?x=zr(U):P!==0?x=zr(P):c||(c=g&~r,c!==0&&(x=zr(c)))),x===0?0:o!==0&&o!==x&&(o&S)===0&&(S=x&-x,c=o&-o,S>=c||S===32&&(c&4194048)!==0)?o:x}function pa(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function cm(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pd(){var r=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),r}function eu(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Ir(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function dm(r,o,c,g,x,S){var P=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var U=r.entanglements,ee=r.expirationTimes,me=r.hiddenUpdates;for(c=P&~c;0<c;){var we=31-_t(c),je=1<<we;U[we]=0,ee[we]=-1;var ye=me[we];if(ye!==null)for(me[we]=null,we=0;we<ye.length;we++){var xe=ye[we];xe!==null&&(xe.lane&=-536870913)}c&=~je}g!==0&&gd(r,g,0),S!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=S&~(P&~o))}function gd(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var g=31-_t(o);r.entangledLanes|=o,r.entanglements[g]=r.entanglements[g]|1073741824|c&261930}function yd(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var g=31-_t(c),x=1<<g;x&o|r[g]&o&&(r[g]|=o),c&=~x}}function vd(r,o){var c=o&-o;return c=(c&42)!==0?1:Gn(c),(c&(r.suspendedLanes|o))!==0?0:c}function Gn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function tu(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:Rx(r.type))}function nu(r,o){var c=Y.p;try{return Y.p=r,o()}finally{Y.p=c}}var Wi=Math.random().toString(36).slice(2),tn="__reactFiber$"+Wi,yn="__reactProps$"+Wi,Br="__reactContainer$"+Wi,dr="__reactEvents$"+Wi,bd="__reactListeners$"+Wi,hm="__reactHandles$"+Wi,xd="__reactResources$"+Wi,ga="__reactMarker$"+Wi;function iu(r){delete r[tn],delete r[yn],delete r[dr],delete r[bd],delete r[hm]}function Ur(r){var o=r[tn];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Br]||c[tn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=xx(r);r!==null;){if(c=r[tn])return c;r=xx(r)}return o}r=c,c=r.parentNode}return null}function ps(r){if(r=r[tn]||r[Br]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function hr(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function gs(r){var o=r[xd];return o||(o=r[xd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nn(r){r[ga]=!0}var _d=new Set,wd={};function Fr(r,o){fr(r,o),fr(r+"Capture",o)}function fr(r,o){for(wd[r]=o,r=0;r<o.length;r++)_d.add(o[r])}var ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ru={},su={};function va(r){return Tt.call(su,r)?!0:Tt.call(ru,r)?!1:ya.test(r)?su[r]=!0:(ru[r]=!0,!1)}function rt(r,o,c){if(va(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Ct(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Kn(r,o,c,g){if(g===null)r.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+g)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Vr(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function au(r,o,c){var g=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,S=g.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return x.call(this)},set:function(P){c=""+P,S.call(this,P)}}),Object.defineProperty(r,o,{enumerable:g.enumerable}),{getValue:function(){return c},setValue:function(P){c=""+P},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Xe(r){if(!r._valueTracker){var o=Vr(r)?"checked":"value";r._valueTracker=au(r,o,""+r[o])}}function zt(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),g="";return r&&(g=Vr(r)?r.checked?"true":"false":r.value),r=g,r!==c?(o.setValue(r),!0):!1}function ys(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var wo=/[\n"\\]/g;function Rt(r){return r.replace(wo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ou(r,o,c,g,x,S,P,U){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),o!=null?P==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+hn(o)):r.value!==""+hn(o)&&(r.value=""+hn(o)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),o!=null?Yi(r,P,hn(o)):c!=null?Yi(r,P,hn(c)):g!=null&&r.removeAttribute("value"),x==null&&S!=null&&(r.defaultChecked=!!S),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.name=""+hn(U):r.removeAttribute("name")}function ba(r,o,c,g,x,S,P,U){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),o!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Xe(r);return}c=c!=null?""+hn(c):"",o=o!=null?""+hn(o):c,U||o===r.value||(r.value=o),r.defaultValue=o}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=U?r.checked:!!g,r.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P),Xe(r)}function Yi(r,o,c){o==="number"&&ys(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function $t(r,o,c,g){if(r=r.options,o){o={};for(var x=0;x<c.length;x++)o["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=o.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&g&&(r[c].defaultSelected=!0)}else{for(c=""+hn(c),o=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,g&&(r[x].defaultSelected=!0);return}o!==null||r[x].disabled||(o=r[x])}o!==null&&(o.selected=!0)}}function mr(r,o,c){if(o!=null&&(o=""+hn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+hn(c):""}function vs(r,o,c,g){if(o==null){if(g!=null){if(c!=null)throw Error(i(92));if(ne(g)){if(1<g.length)throw Error(i(93));g=g[0]}c=g}c==null&&(c=""),o=c}c=hn(o),r.defaultValue=c,g=r.textContent,g===c&&g!==""&&g!==null&&(r.value=g),Xe(r)}function Ai(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bs(r,o,c){var g=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?g?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":g?r.setProperty(o,c):typeof c!="number"||c===0||lu.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function So(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var g in c)!c.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var x in o)g=o[x],o.hasOwnProperty(x)&&c[x]!==g&&bs(r,x,g)}else for(var S in o)o.hasOwnProperty(S)&&bs(r,S,o[S])}function xa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(r){return uu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Wn(){}var Eo=null;function _a(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _s=null,qe=null;function fi(r){var o=ps(r);if(o&&(r=o.stateNode)){var c=r[yn]||null;e:switch(r=o.stateNode,o.type){case"input":if(ou(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Rt(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var g=c[o];if(g!==r&&g.form===r.form){var x=g[yn]||null;if(!x)throw Error(i(90));ou(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<c.length;o++)g=c[o],g.form===r.form&&zt(g)}break e;case"textarea":mr(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&$t(r,!!c.multiple,o,!1)}}}var bt=!1;function cu(r,o,c){if(bt)return r(o,c);bt=!0;try{var g=r(o);return g}finally{if(bt=!1,(_s!==null||qe!==null)&&(vh(),_s&&(o=_s,r=qe,qe=_s=null,fi(o),r)))for(o=0;o<r.length;o++)fi(r[o])}}function Hr(r,o){var c=r.stateNode;if(c===null)return null;var g=c[yn]||null;if(g===null)return null;c=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(mi)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){wa=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{wa=!1}var Li=null,Zr=null,qt=null;function pr(){if(qt)return qt;var r,o=Zr,c=o.length,g,x="value"in Li?Li.value:Li.textContent,S=x.length;for(r=0;r<c&&o[r]===x[r];r++);var P=c-r;for(g=1;g<=P&&o[c-g]===x[S-g];g++);return qt=x.slice(r,1<g?1-g:void 0)}function Sa(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ca(){return!0}function Sd(){return!1}function Sn(r){function o(c,g,x,S,P){this._reactName=c,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(c=r[U],this[U]=c?c(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ca:Sd,this.isPropagationStopped=Sd,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),o}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=Sn(Xi),ws=v({},Xi,{view:0,detail:0}),lt=Sn(ws),du,Un,Ji,Ea=v({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ji&&(Ji&&r.type==="mousemove"?(du=r.screenX-Ji.screenX,Un=r.screenY-Ji.screenY):Un=du=0,Ji=r),du)},movementY:function(r){return"movementY"in r?r.movementY:Un}}),Cd=Sn(Ea),hu=v({},Ea,{dataTransfer:0}),fm=Sn(hu),Ed=v({},ws,{relatedTarget:0}),fu=Sn(Ed),mm=v({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Sn(mm),pm=v({},Xi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Mi=Sn(pm),gm=v({},Xi,{data:0}),pu=Sn(gm),gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Nd[r])?!!o[r]:!1}function yu(){return gu}var Td=v({},ws,{key:function(r){if(r.key){var o=gr[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(r){return r.type==="keypress"?Sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),kd=Sn(Td),ym=v({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Sn(ym),vu=v({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),vm=Sn(vu),Ad=v({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ld=Sn(Ad),No=v({},Ea,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qr=Sn(No),bm=v({},Xi,{newState:0,oldState:0}),ja=Sn(bm),Yn=[9,13,27,32],To=mi&&"CompositionEvent"in window,Ss=null;mi&&"documentMode"in document&&(Ss=document.documentMode);var xm=mi&&"TextEvent"in window&&!Ss,ko=mi&&(!To||Ss&&8<Ss&&11>=Ss),$o=" ",Md=!1;function Pd(r,o){switch(r){case"keyup":return Yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Cs=!1;function gi(r,o){switch(r){case"compositionend":return bu(o);case"keypress":return o.which!==32?null:(Md=!0,$o);case"textInput":return r=o.data,r===$o&&Md?null:r;default:return null}}function Es(r,o){if(Cs)return r==="compositionend"||!To&&Pd(r,o)?(r=pr(),qt=Zr=Li=null,Cs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ko&&o.locale!=="ko"?null:o.data;default:return null}}var _m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pi(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!_m[r.type]:o==="textarea"}function Od(r,o,c,g){_s?qe?qe.push(g):qe=[g]:_s=g,o=Eh(o,"onChange"),0<o.length&&(c=new jo("onChange","change",null,c,g),r.push({event:c,listeners:o}))}var Oi=null,Na=null;function Ta(r){ax(r,0)}function ka(r){var o=hr(r);if(zt(o))return r}function $a(r,o){if(r==="change")return o}var Rd=!1;if(mi){var Ri;if(mi){var js="oninput"in document;if(!js){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),js=typeof Dd.oninput=="function"}Ri=js}else Ri=!1;Rd=Ri&&(!document.documentMode||9<document.documentMode)}function Ao(){Oi&&(Oi.detachEvent("onpropertychange",zd),Na=Oi=null)}function zd(r){if(r.propertyName==="value"&&ka(Na)){var o=[];Od(o,Na,r,_a(r)),cu(Ta,o)}}function Qi(r,o,c){r==="focusin"?(Ao(),Oi=o,Na=c,Oi.attachEvent("onpropertychange",zd)):r==="focusout"&&Ao()}function wm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ka(Na)}function Ns(r,o){if(r==="click")return ka(o)}function Sm(r,o){if(r==="input"||r==="change")return ka(o)}function er(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var vn=typeof Object.is=="function"?Object.is:er;function Ts(r,o){if(vn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),g=Object.keys(o);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var x=c[g];if(!Tt.call(o,x)||!vn(r[x],o[x]))return!1}return!0}function Lo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Aa(r,o){var c=Lo(r);r=0;for(var g;c;){if(c.nodeType===3){if(g=r+c.textContent.length,r<=o&&g>=o)return{node:c,offset:o-r};r=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Lo(c)}}function Mo(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Mo(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function La(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=ys(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=ys(r.document)}return o}function yr(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Po=mi&&"documentMode"in document&&11>=document.documentMode,vr=null,Oo=null,Ma=null,ks=!1;function Id(r,o,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ks||vr==null||vr!==ys(g)||(g=vr,"selectionStart"in g&&yr(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ma&&Ts(Ma,g)||(Ma=g,g=Eh(Oo,"onSelect"),0<g.length&&(o=new jo("onSelect","select",null,o,c),r.push({event:o,listeners:g}),o.target=vr)))}function br(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var $s={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Ro={},Bd={};mi&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function bn(r){if(Ro[r])return Ro[r];if(!$s[r])return r;var o=$s[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Bd)return Ro[r]=o[c];return r}var Pa=bn("animationend"),Ud=bn("animationiteration"),Oa=bn("animationstart"),Cm=bn("transitionrun"),Fd=bn("transitionstart"),Em=bn("transitioncancel"),As=bn("transitionend"),Vd=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xr.push("scrollEnd");function Xn(r,o){Vd.set(r,o),Fr(o,[r])}var Ra=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Jn=[],Ln=0,Do=0;function Da(){for(var r=Ln,o=Do=Ln=0;o<r;){var c=Jn[o];Jn[o++]=null;var g=Jn[o];Jn[o++]=null;var x=Jn[o];Jn[o++]=null;var S=Jn[o];if(Jn[o++]=null,g!==null&&x!==null){var P=g.pending;P===null?x.next=x:(x.next=P.next,P.next=x),g.pending=x}S!==0&&Ls(c,x,S)}}function _r(r,o,c,g){Jn[Ln++]=r,Jn[Ln++]=o,Jn[Ln++]=c,Jn[Ln++]=g,Do|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function xu(r,o,c,g){return _r(r,o,c,g),za(r)}function Di(r,o){return _r(r,null,null,o),za(r)}function Ls(r,o,c){r.lanes|=c;var g=r.alternate;g!==null&&(g.lanes|=c);for(var x=!1,S=r.return;S!==null;)S.childLanes|=c,g=S.alternate,g!==null&&(g.childLanes|=c),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(x=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,x&&o!==null&&(x=31-_t(c),r=S.hiddenUpdates,g=r[x],g===null?r[x]=[o]:g.push(o),o.lane=c|536870912),S):null}function za(r){if(50<Zu)throw Zu=0,Np=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Gr={};function jm(r,o,c,g){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,o,c,g){return new jm(r,o,c,g)}function zo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zi(r,o){var c=r.alternate;return c===null?(c=Mn(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function _u(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Ia(r,o,c,g,x,S){var P=0;if(g=r,typeof r=="function")zo(r)&&(P=1);else if(typeof r=="string")P=jE(r,c,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case V:return r=Mn(31,c,o,x),r.elementType=V,r.lanes=S,r;case N:return Kr(c.children,x,S,o);case T:P=8,x|=24;break;case k:return r=Mn(12,c,o,x|2),r.elementType=k,r.lanes=S,r;case F:return r=Mn(13,c,o,x),r.elementType=F,r.lanes=S,r;case R:return r=Mn(19,c,o,x),r.elementType=R,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:P=10;break e;case A:P=9;break e;case O:P=11;break e;case Z:P=14;break e;case W:P=16,g=null;break e}P=29,c=Error(i(130,r===null?"null":typeof r,"")),g=null}return o=Mn(P,c,o,x),o.elementType=r,o.type=g,o.lanes=S,o}function Kr(r,o,c,g){return r=Mn(7,r,g,o),r.lanes=c,r}function Io(r,o,c){return r=Mn(6,r,null,o),r.lanes=c,r}function wu(r){var o=Mn(18,null,null,0);return o.stateNode=r,o}function Su(r,o,c){return o=Mn(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var u=new WeakMap;function p(r,o){if(typeof r=="object"&&r!==null){var c=u.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Xt(o)},u.set(r,o),o)}return{value:r,source:o,stack:Xt(o)}}var b=[],E=0,M=null,z=0,X=[],ue=0,ge=null,Ee=1,Le="";function Be(r,o){b[E++]=z,b[E++]=M,M=r,z=o}function et(r,o,c){X[ue++]=Ee,X[ue++]=Le,X[ue++]=ge,ge=r;var g=Ee;r=Le;var x=32-_t(g)-1;g&=~(1<<x),c+=1;var S=32-_t(o)+x;if(30<S){var P=x-x%5;S=(g&(1<<P)-1).toString(32),g>>=P,x-=P,Ee=1<<32-_t(o)+x|c<<x|g,Le=S+r}else Ee=1<<S|c<<x|g,Le=r}function fn(r){r.return!==null&&(Be(r,1),et(r,1,0))}function Gt(r){for(;r===M;)M=b[--E],b[E]=null,z=b[--E],b[E]=null;for(;r===ge;)ge=X[--ue],X[ue]=null,Le=X[--ue],X[ue]=null,Ee=X[--ue],X[ue]=null}function Fn(r,o){X[ue++]=Ee,X[ue++]=Le,X[ue++]=ge,Ee=o.id,Le=o.overflow,ge=r}var ft=null,mt=null,st=!1,wr=null,Qn=!1,Bo=Error(i(519));function Sr(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ba(p(o,r)),Bo}function Cu(r){var o=r.stateNode,c=r.type,g=r.memoizedProps;switch(o[tn]=r,o[yn]=g,c){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(c=0;c<Gu.length;c++)ot(Gu[c],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),ba(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),vs(o,g.value,g.defaultValue,g.children)}c=g.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||g.suppressHydrationWarning===!0||cx(o.textContent,c)?(g.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),g.onScroll!=null&&ot("scroll",o),g.onScrollEnd!=null&&ot("scrollend",o),g.onClick!=null&&(o.onclick=Wn),o=!0):o=!1,o||Sr(r,!0)}function Ft(r){for(ft=r.return;ft;)switch(ft.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:ft=ft.return}}function tr(r){if(r!==ft)return!1;if(!st)return Ft(r),st=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Fp(r.type,r.memoizedProps)),c=!c),c&&mt&&Sr(r),Ft(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));mt=bx(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));mt=bx(r)}else o===27?(o=mt,qs(r.type)?(r=Gp,Gp=null,mt=r):mt=o):mt=ft?Bi(r.stateNode.nextSibling):null;return!0}function Wr(){mt=ft=null,st=!1}function Eu(){var r=wr;return r!==null&&(ii===null?ii=r:ii.push.apply(ii,r),wr=null),r}function Ba(r){wr===null?wr=[r]:wr.push(r)}var Ua=D(null),Cr=null,nr=null;function Ms(r,o,c){I(Ua,o._currentValue),o._currentValue=c}function Yr(r){r._currentValue=Ua.current,te(Ua)}function Nm(r,o,c){for(;r!==null;){var g=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),r===c)break;r=r.return}}function Tm(r,o,c,g){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var S=x.dependencies;if(S!==null){var P=x.child;S=S.firstContext;e:for(;S!==null;){var U=S;S=x;for(var ee=0;ee<o.length;ee++)if(U.context===o[ee]){S.lanes|=c,U=S.alternate,U!==null&&(U.lanes|=c),Nm(S.return,c,r),g||(P=null);break e}S=U.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(i(341));P.lanes|=c,S=P.alternate,S!==null&&(S.lanes|=c),Nm(P,c,r),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===r){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function Uo(r,o,c,g){r=null;for(var x=o,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var U=x.type;vn(x.pendingProps.value,P.value)||(r!==null?r.push(U):r=[U])}}else if(x===Te.current){if(P=x.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Ju):r=[Ju])}x=x.return}r!==null&&Tm(o,r,c,g),o.flags|=262144}function Hd(r){for(r=r.firstContext;r!==null;){if(!vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fa(r){Cr=r,nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return W1(Cr,r)}function Zd(r,o){return Cr===null&&Fa(r),W1(r,o)}function W1(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},nr===null){if(r===null)throw Error(i(308));nr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else nr=nr.next=o;return c}var w6=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,g){r.push(g)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},S6=e.unstable_scheduleCallback,C6=e.unstable_NormalPriority,rn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new w6,data:new Map,refCount:0}}function ju(r){r.refCount--,r.refCount===0&&S6(C6,function(){r.controller.abort()})}var Nu=null,$m=0,Fo=0,Vo=null;function E6(r,o){if(Nu===null){var c=Nu=[];$m=0,Fo=Mp(),Vo={status:"pending",value:void 0,then:function(g){c.push(g)}}}return $m++,o.then(Y1,Y1),o}function Y1(){if(--$m===0&&Nu!==null){Vo!==null&&(Vo.status="fulfilled");var r=Nu;Nu=null,Fo=0,Vo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function j6(r,o){var c=[],g={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return r.then(function(){g.status="fulfilled",g.value=o;for(var x=0;x<c.length;x++)(0,c[x])(o)},function(x){for(g.status="rejected",g.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),g}var X1=H.S;H.S=function(r,o){Pb=_n(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&E6(r,o),X1!==null&&X1(r,o)};var Va=D(null);function Am(){var r=Va.current;return r!==null?r:At.pooledCache}function qd(r,o){o===null?I(Va,Va.current):I(Va,o.pool)}function J1(){var r=Am();return r===null?null:{parent:rn._currentValue,pool:r}}var Ho=Error(i(460)),Lm=Error(i(474)),Gd=Error(i(542)),Kd={then:function(){}};function Q1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ev(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Wn,Wn),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nv(r),r;default:if(typeof o.status=="string")o.then(Wn,Wn);else{if(r=At,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(g){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=g}},function(g){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nv(r),r}throw Za=o,Ho}}function Ha(r){try{var o=r._init;return o(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Za=c,Ho):c}}var Za=null;function tv(){if(Za===null)throw Error(i(459));var r=Za;return Za=null,r}function nv(r){if(r===Ho||r===Gd)throw Error(i(483))}var Zo=null,Tu=0;function Wd(r){var o=Tu;return Tu+=1,Zo===null&&(Zo=[]),ev(Zo,r,o)}function ku(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Yd(r,o){throw o.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function iv(r){function o(oe,re){if(r){var he=oe.deletions;he===null?(oe.deletions=[re],oe.flags|=16):he.push(re)}}function c(oe,re){if(!r)return null;for(;re!==null;)o(oe,re),re=re.sibling;return null}function g(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function x(oe,re){return oe=zi(oe,re),oe.index=0,oe.sibling=null,oe}function S(oe,re,he){return oe.index=he,r?(he=oe.alternate,he!==null?(he=he.index,he<re?(oe.flags|=67108866,re):he):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function P(oe){return r&&oe.alternate===null&&(oe.flags|=67108866),oe}function U(oe,re,he,Ce){return re===null||re.tag!==6?(re=Io(he,oe.mode,Ce),re.return=oe,re):(re=x(re,he),re.return=oe,re)}function ee(oe,re,he,Ce){var Fe=he.type;return Fe===N?we(oe,re,he.props.children,Ce,he.key):re!==null&&(re.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===W&&Ha(Fe)===re.type)?(re=x(re,he.props),ku(re,he),re.return=oe,re):(re=Ia(he.type,he.key,he.props,null,oe.mode,Ce),ku(re,he),re.return=oe,re)}function me(oe,re,he,Ce){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=Su(he,oe.mode,Ce),re.return=oe,re):(re=x(re,he.children||[]),re.return=oe,re)}function we(oe,re,he,Ce,Fe){return re===null||re.tag!==7?(re=Kr(he,oe.mode,Ce,Fe),re.return=oe,re):(re=x(re,he),re.return=oe,re)}function je(oe,re,he){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Io(""+re,oe.mode,he),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return he=Ia(re.type,re.key,re.props,null,oe.mode,he),ku(he,re),he.return=oe,he;case C:return re=Su(re,oe.mode,he),re.return=oe,re;case W:return re=Ha(re),je(oe,re,he)}if(ne(re)||q(re))return re=Kr(re,oe.mode,he,null),re.return=oe,re;if(typeof re.then=="function")return je(oe,Wd(re),he);if(re.$$typeof===$)return je(oe,Zd(oe,re),he);Yd(oe,re)}return null}function ye(oe,re,he,Ce){var Fe=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Fe!==null?null:U(oe,re,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return he.key===Fe?ee(oe,re,he,Ce):null;case C:return he.key===Fe?me(oe,re,he,Ce):null;case W:return he=Ha(he),ye(oe,re,he,Ce)}if(ne(he)||q(he))return Fe!==null?null:we(oe,re,he,Ce,null);if(typeof he.then=="function")return ye(oe,re,Wd(he),Ce);if(he.$$typeof===$)return ye(oe,re,Zd(oe,he),Ce);Yd(oe,he)}return null}function xe(oe,re,he,Ce,Fe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return oe=oe.get(he)||null,U(re,oe,""+Ce,Fe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case w:return oe=oe.get(Ce.key===null?he:Ce.key)||null,ee(re,oe,Ce,Fe);case C:return oe=oe.get(Ce.key===null?he:Ce.key)||null,me(re,oe,Ce,Fe);case W:return Ce=Ha(Ce),xe(oe,re,he,Ce,Fe)}if(ne(Ce)||q(Ce))return oe=oe.get(he)||null,we(re,oe,Ce,Fe,null);if(typeof Ce.then=="function")return xe(oe,re,he,Wd(Ce),Fe);if(Ce.$$typeof===$)return xe(oe,re,he,Zd(re,Ce),Fe);Yd(re,Ce)}return null}function Re(oe,re,he,Ce){for(var Fe=null,pt=null,De=re,tt=re=0,ct=null;De!==null&&tt<he.length;tt++){De.index>tt?(ct=De,De=null):ct=De.sibling;var gt=ye(oe,De,he[tt],Ce);if(gt===null){De===null&&(De=ct);break}r&&De&&gt.alternate===null&&o(oe,De),re=S(gt,re,tt),pt===null?Fe=gt:pt.sibling=gt,pt=gt,De=ct}if(tt===he.length)return c(oe,De),st&&Be(oe,tt),Fe;if(De===null){for(;tt<he.length;tt++)De=je(oe,he[tt],Ce),De!==null&&(re=S(De,re,tt),pt===null?Fe=De:pt.sibling=De,pt=De);return st&&Be(oe,tt),Fe}for(De=g(De);tt<he.length;tt++)ct=xe(De,oe,tt,he[tt],Ce),ct!==null&&(r&&ct.alternate!==null&&De.delete(ct.key===null?tt:ct.key),re=S(ct,re,tt),pt===null?Fe=ct:pt.sibling=ct,pt=ct);return r&&De.forEach(function(Xs){return o(oe,Xs)}),st&&Be(oe,tt),Fe}function He(oe,re,he,Ce){if(he==null)throw Error(i(151));for(var Fe=null,pt=null,De=re,tt=re=0,ct=null,gt=he.next();De!==null&&!gt.done;tt++,gt=he.next()){De.index>tt?(ct=De,De=null):ct=De.sibling;var Xs=ye(oe,De,gt.value,Ce);if(Xs===null){De===null&&(De=ct);break}r&&De&&Xs.alternate===null&&o(oe,De),re=S(Xs,re,tt),pt===null?Fe=Xs:pt.sibling=Xs,pt=Xs,De=ct}if(gt.done)return c(oe,De),st&&Be(oe,tt),Fe;if(De===null){for(;!gt.done;tt++,gt=he.next())gt=je(oe,gt.value,Ce),gt!==null&&(re=S(gt,re,tt),pt===null?Fe=gt:pt.sibling=gt,pt=gt);return st&&Be(oe,tt),Fe}for(De=g(De);!gt.done;tt++,gt=he.next())gt=xe(De,oe,tt,gt.value,Ce),gt!==null&&(r&&gt.alternate!==null&&De.delete(gt.key===null?tt:gt.key),re=S(gt,re,tt),pt===null?Fe=gt:pt.sibling=gt,pt=gt);return r&&De.forEach(function(DE){return o(oe,DE)}),st&&Be(oe,tt),Fe}function Nt(oe,re,he,Ce){if(typeof he=="object"&&he!==null&&he.type===N&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case w:e:{for(var Fe=he.key;re!==null;){if(re.key===Fe){if(Fe=he.type,Fe===N){if(re.tag===7){c(oe,re.sibling),Ce=x(re,he.props.children),Ce.return=oe,oe=Ce;break e}}else if(re.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===W&&Ha(Fe)===re.type){c(oe,re.sibling),Ce=x(re,he.props),ku(Ce,he),Ce.return=oe,oe=Ce;break e}c(oe,re);break}else o(oe,re);re=re.sibling}he.type===N?(Ce=Kr(he.props.children,oe.mode,Ce,he.key),Ce.return=oe,oe=Ce):(Ce=Ia(he.type,he.key,he.props,null,oe.mode,Ce),ku(Ce,he),Ce.return=oe,oe=Ce)}return P(oe);case C:e:{for(Fe=he.key;re!==null;){if(re.key===Fe)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){c(oe,re.sibling),Ce=x(re,he.children||[]),Ce.return=oe,oe=Ce;break e}else{c(oe,re);break}else o(oe,re);re=re.sibling}Ce=Su(he,oe.mode,Ce),Ce.return=oe,oe=Ce}return P(oe);case W:return he=Ha(he),Nt(oe,re,he,Ce)}if(ne(he))return Re(oe,re,he,Ce);if(q(he)){if(Fe=q(he),typeof Fe!="function")throw Error(i(150));return he=Fe.call(he),He(oe,re,he,Ce)}if(typeof he.then=="function")return Nt(oe,re,Wd(he),Ce);if(he.$$typeof===$)return Nt(oe,re,Zd(oe,he),Ce);Yd(oe,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,re!==null&&re.tag===6?(c(oe,re.sibling),Ce=x(re,he),Ce.return=oe,oe=Ce):(c(oe,re),Ce=Io(he,oe.mode,Ce),Ce.return=oe,oe=Ce),P(oe)):c(oe,re)}return function(oe,re,he,Ce){try{Tu=0;var Fe=Nt(oe,re,he,Ce);return Zo=null,Fe}catch(De){if(De===Ho||De===Gd)throw De;var pt=Mn(29,De,null,oe.mode);return pt.lanes=Ce,pt.return=oe,pt}finally{}}}var qa=iv(!0),rv=iv(!1),Ps=!1;function Mm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Rs(r,o,c){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(yt&2)!==0){var x=g.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),g.pending=o,o=za(r),Ls(r,null,c),o}return _r(r,g,o,c),za(r)}function $u(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var g=o.lanes;g&=r.pendingLanes,c|=g,o.lanes=c,yd(r,c)}}function Om(r,o){var c=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var x=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?x=S=P:S=S.next=P,c=c.next}while(c!==null);S===null?x=S=o:S=S.next=o}else x=S=o;c={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Rm=!1;function Au(){if(Rm){var r=Vo;if(r!==null)throw r}}function Lu(r,o,c,g){Rm=!1;var x=r.updateQueue;Ps=!1;var S=x.firstBaseUpdate,P=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var ee=U,me=ee.next;ee.next=null,P===null?S=me:P.next=me,P=ee;var we=r.alternate;we!==null&&(we=we.updateQueue,U=we.lastBaseUpdate,U!==P&&(U===null?we.firstBaseUpdate=me:U.next=me,we.lastBaseUpdate=ee))}if(S!==null){var je=x.baseState;P=0,we=me=ee=null,U=S;do{var ye=U.lane&-536870913,xe=ye!==U.lane;if(xe?(ut&ye)===ye:(g&ye)===ye){ye!==0&&ye===Fo&&(Rm=!0),we!==null&&(we=we.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Re=r,He=U;ye=o;var Nt=c;switch(He.tag){case 1:if(Re=He.payload,typeof Re=="function"){je=Re.call(Nt,je,ye);break e}je=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=He.payload,ye=typeof Re=="function"?Re.call(Nt,je,ye):Re,ye==null)break e;je=v({},je,ye);break e;case 2:Ps=!0}}ye=U.callback,ye!==null&&(r.flags|=64,xe&&(r.flags|=8192),xe=x.callbacks,xe===null?x.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:U.tag,payload:U.payload,callback:U.callback,next:null},we===null?(me=we=xe,ee=je):we=we.next=xe,P|=ye;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;xe=U,U=xe.next,xe.next=null,x.lastBaseUpdate=xe,x.shared.pending=null}}while(!0);we===null&&(ee=je),x.baseState=ee,x.firstBaseUpdate=me,x.lastBaseUpdate=we,S===null&&(x.shared.lanes=0),Us|=P,r.lanes=P,r.memoizedState=je}}function sv(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function av(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)sv(c[r],o)}var qo=D(null),Xd=D(0);function ov(r,o){r=ss,I(Xd,r),I(qo,o),ss=r|o.baseLanes}function Dm(){I(Xd,ss),I(qo,qo.current)}function zm(){ss=Xd.current,te(qo),te(Xd)}var yi=D(null),Ii=null;function Ds(r){var o=r.alternate;I(Jt,Jt.current&1),I(yi,r),Ii===null&&(o===null||qo.current!==null||o.memoizedState!==null)&&(Ii=r)}function Im(r){I(Jt,Jt.current),I(yi,r),Ii===null&&(Ii=r)}function lv(r){r.tag===22?(I(Jt,Jt.current),I(yi,r),Ii===null&&(Ii=r)):zs()}function zs(){I(Jt,Jt.current),I(yi,yi.current)}function vi(r){te(yi),Ii===r&&(Ii=null),te(Jt)}var Jt=D(0);function Jd(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Zp(c)||qp(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xr=0,Qe=null,Et=null,sn=null,Qd=!1,Go=!1,Ga=!1,eh=0,Mu=0,Ko=null,N6=0;function Kt(){throw Error(i(321))}function Bm(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!vn(r[c],o[c]))return!1;return!0}function Um(r,o,c,g,x,S){return Xr=S,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=r===null||r.memoizedState===null?Zv:np,Ga=!1,S=c(g,x),Ga=!1,Go&&(S=cv(o,c,g,x)),uv(r),S}function uv(r){H.H=Ru;var o=Et!==null&&Et.next!==null;if(Xr=0,sn=Et=Qe=null,Qd=!1,Mu=0,Ko=null,o)throw Error(i(300));r===null||an||(r=r.dependencies,r!==null&&Hd(r)&&(an=!0))}function cv(r,o,c,g){Qe=r;var x=0;do{if(Go&&(Ko=null),Mu=0,Go=!1,25<=x)throw Error(i(301));if(x+=1,sn=Et=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}H.H=qv,S=o(c,g)}while(Go);return S}function T6(){var r=H.H,o=r.useState()[0];return o=typeof o.then=="function"?Pu(o):o,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(Qe.flags|=1024),o}function Fm(){var r=eh!==0;return eh=0,r}function Vm(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Hm(r){if(Qd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Qd=!1}Xr=0,sn=Et=Qe=null,Go=!1,Mu=eh=0,Ko=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Qe.memoizedState=sn=r:sn=sn.next=r,sn}function Qt(){if(Et===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var o=sn===null?Qe.memoizedState:sn.next;if(o!==null)sn=o,Et=r;else{if(r===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},sn===null?Qe.memoizedState=sn=r:sn=sn.next=r}return sn}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(r){var o=Mu;return Mu+=1,Ko===null&&(Ko=[]),r=ev(Ko,r,o),o=Qe,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?Zv:np),r}function nh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pu(r);if(r.$$typeof===$)return Cn(r)}throw Error(i(438,String(r)))}function Zm(r){var o=null,c=Qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var g=Qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=th(),Qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),g=0;g<r;g++)c[g]=Q;return o.index++,c}function Jr(r,o){return typeof o=="function"?o(r):o}function ih(r){var o=Qt();return qm(o,Et,r)}function qm(r,o,c){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=c;var x=r.baseQueue,S=g.pending;if(S!==null){if(x!==null){var P=x.next;x.next=S.next,S.next=P}o.baseQueue=x=S,g.pending=null}if(S=r.baseState,x===null)r.memoizedState=S;else{o=x.next;var U=P=null,ee=null,me=o,we=!1;do{var je=me.lane&-536870913;if(je!==me.lane?(ut&je)===je:(Xr&je)===je){var ye=me.revertLane;if(ye===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),je===Fo&&(we=!0);else if((Xr&ye)===ye){me=me.next,ye===Fo&&(we=!0);continue}else je={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(U=ee=je,P=S):ee=ee.next=je,Qe.lanes|=ye,Us|=ye;je=me.action,Ga&&c(S,je),S=me.hasEagerState?me.eagerState:c(S,je)}else ye={lane:je,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(U=ee=ye,P=S):ee=ee.next=ye,Qe.lanes|=je,Us|=je;me=me.next}while(me!==null&&me!==o);if(ee===null?P=S:ee.next=U,!vn(S,r.memoizedState)&&(an=!0,we&&(c=Vo,c!==null)))throw c;r.memoizedState=S,r.baseState=P,r.baseQueue=ee,g.lastRenderedState=S}return x===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function Gm(r){var o=Qt(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var g=c.dispatch,x=c.pending,S=o.memoizedState;if(x!==null){c.pending=null;var P=x=x.next;do S=r(S,P.action),P=P.next;while(P!==x);vn(S,o.memoizedState)||(an=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),c.lastRenderedState=S}return[S,g]}function dv(r,o,c){var g=Qe,x=Qt(),S=st;if(S){if(c===void 0)throw Error(i(407));c=c()}else c=o();var P=!vn((Et||x).memoizedState,c);if(P&&(x.memoizedState=c,an=!0),x=x.queue,Ym(mv.bind(null,g,x,r),[r]),x.getSnapshot!==o||P||sn!==null&&sn.memoizedState.tag&1){if(g.flags|=2048,Wo(9,{destroy:void 0},fv.bind(null,g,x,c,o),null),At===null)throw Error(i(349));S||(Xr&127)!==0||hv(g,o,c)}return c}function hv(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Qe.updateQueue,o===null?(o=th(),Qe.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function fv(r,o,c,g){o.value=c,o.getSnapshot=g,pv(o)&&gv(r)}function mv(r,o,c){return c(function(){pv(o)&&gv(r)})}function pv(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!vn(r,c)}catch{return!0}}function gv(r){var o=Di(r,2);o!==null&&ri(o,r,2)}function Km(r){var o=Vn();if(typeof r=="function"){var c=r;if(r=c(),Ga){wn(!0);try{c()}finally{wn(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:r},o}function yv(r,o,c,g){return r.baseState=c,qm(r,Et,typeof g=="function"?g:Jr)}function k6(r,o,c,g,x){if(ah(r))throw Error(i(485));if(r=o.action,r!==null){var S={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){S.listeners.push(P)}};H.T!==null?c(!0):S.isTransition=!1,g(S),c=o.pending,c===null?(S.next=o.pending=S,vv(o,S)):(S.next=c.next,o.pending=c.next=S)}}function vv(r,o){var c=o.action,g=o.payload,x=r.state;if(o.isTransition){var S=H.T,P={};H.T=P;try{var U=c(x,g),ee=H.S;ee!==null&&ee(P,U),bv(r,o,U)}catch(me){Wm(r,o,me)}finally{S!==null&&P.types!==null&&(S.types=P.types),H.T=S}}else try{S=c(x,g),bv(r,o,S)}catch(me){Wm(r,o,me)}}function bv(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(g){xv(r,o,g)},function(g){return Wm(r,o,g)}):xv(r,o,c)}function xv(r,o,c){o.status="fulfilled",o.value=c,_v(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,vv(r,c)))}function Wm(r,o,c){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=c,_v(o),o=o.next;while(o!==g)}r.action=null}function _v(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function wv(r,o){return o}function Sv(r,o){if(st){var c=At.formState;if(c!==null){e:{var g=Qe;if(st){if(mt){t:{for(var x=mt,S=Qn;x.nodeType!==8;){if(!S){x=null;break t}if(x=Bi(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){mt=Bi(x.nextSibling),g=x.data==="F!";break e}}Sr(g)}g=!1}g&&(o=c[0])}}return c=Vn(),c.memoizedState=c.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:o},c.queue=g,c=Fv.bind(null,Qe,g),g.dispatch=c,g=Km(!1),S=tp.bind(null,Qe,!1,g.queue),g=Vn(),x={state:o,dispatch:null,action:r,pending:null},g.queue=x,c=k6.bind(null,Qe,x,S,c),x.dispatch=c,g.memoizedState=r,[o,c,!1]}function Cv(r){var o=Qt();return Ev(o,Et,r)}function Ev(r,o,c){if(o=qm(r,o,wv)[0],r=ih(Jr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Pu(o)}catch(P){throw P===Ho?Gd:P}else g=o;o=Qt();var x=o.queue,S=x.dispatch;return c!==o.memoizedState&&(Qe.flags|=2048,Wo(9,{destroy:void 0},$6.bind(null,x,c),null)),[g,S,r]}function $6(r,o){r.action=o}function jv(r){var o=Qt(),c=Et;if(c!==null)return Ev(o,c,r);Qt(),o=o.memoizedState,c=Qt();var g=c.queue.dispatch;return c.memoizedState=r,[o,g,!1]}function Wo(r,o,c,g){return r={tag:r,create:c,deps:g,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=th(),Qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(g=c.next,c.next=r,r.next=g,o.lastEffect=r),r}function Nv(){return Qt().memoizedState}function rh(r,o,c,g){var x=Vn();Qe.flags|=r,x.memoizedState=Wo(1|o,{destroy:void 0},c,g===void 0?null:g)}function sh(r,o,c,g){var x=Qt();g=g===void 0?null:g;var S=x.memoizedState.inst;Et!==null&&g!==null&&Bm(g,Et.memoizedState.deps)?x.memoizedState=Wo(o,S,c,g):(Qe.flags|=r,x.memoizedState=Wo(1|o,S,c,g))}function Tv(r,o){rh(8390656,8,r,o)}function Ym(r,o){sh(2048,8,r,o)}function A6(r){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=th(),Qe.updateQueue=o,o.events=[r];else{var c=o.events;c===null?o.events=[r]:c.push(r)}}function kv(r){var o=Qt().memoizedState;return A6({ref:o,nextImpl:r}),function(){if((yt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function $v(r,o){return sh(4,2,r,o)}function Av(r,o){return sh(4,4,r,o)}function Lv(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Mv(r,o,c){c=c!=null?c.concat([r]):null,sh(4,4,Lv.bind(null,o,r),c)}function Xm(){}function Pv(r,o){var c=Qt();o=o===void 0?null:o;var g=c.memoizedState;return o!==null&&Bm(o,g[1])?g[0]:(c.memoizedState=[r,o],r)}function Ov(r,o){var c=Qt();o=o===void 0?null:o;var g=c.memoizedState;if(o!==null&&Bm(o,g[1]))return g[0];if(g=r(),Ga){wn(!0);try{r()}finally{wn(!1)}}return c.memoizedState=[g,o],g}function Jm(r,o,c){return c===void 0||(Xr&1073741824)!==0&&(ut&261930)===0?r.memoizedState=o:(r.memoizedState=c,r=Rb(),Qe.lanes|=r,Us|=r,c)}function Rv(r,o,c,g){return vn(c,o)?c:qo.current!==null?(r=Jm(r,c,g),vn(r,o)||(an=!0),r):(Xr&42)===0||(Xr&1073741824)!==0&&(ut&261930)===0?(an=!0,r.memoizedState=c):(r=Rb(),Qe.lanes|=r,Us|=r,o)}function Dv(r,o,c,g,x){var S=Y.p;Y.p=S!==0&&8>S?S:8;var P=H.T,U={};H.T=U,tp(r,!1,o,c);try{var ee=x(),me=H.S;if(me!==null&&me(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var we=j6(ee,g);Ou(r,o,we,_i(r))}else Ou(r,o,g,_i(r))}catch(je){Ou(r,o,{then:function(){},status:"rejected",reason:je},_i())}finally{Y.p=S,P!==null&&U.types!==null&&(P.types=U.types),H.T=P}}function L6(){}function Qm(r,o,c,g){if(r.tag!==5)throw Error(i(476));var x=zv(r).queue;Dv(r,x,o,ie,c===null?L6:function(){return Iv(r),c(g)})}function zv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:ie},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Iv(r){var o=zv(r);o.next===null&&(o=r.alternate.memoizedState),Ou(r,o.next.queue,{},_i())}function ep(){return Cn(Ju)}function Bv(){return Qt().memoizedState}function Uv(){return Qt().memoizedState}function M6(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=_i();r=Os(c);var g=Rs(o,r,c);g!==null&&(ri(g,o,c),$u(g,o,c)),o={cache:km()},r.payload=o;return}o=o.return}}function P6(r,o,c){var g=_i();c={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ah(r)?Vv(o,c):(c=xu(r,o,c,g),c!==null&&(ri(c,r,g),Hv(c,o,g)))}function Fv(r,o,c){var g=_i();Ou(r,o,c,g)}function Ou(r,o,c,g){var x={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ah(r))Vv(o,x);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var P=o.lastRenderedState,U=S(P,c);if(x.hasEagerState=!0,x.eagerState=U,vn(U,P))return _r(r,o,x,0),At===null&&Da(),!1}catch{}finally{}if(c=xu(r,o,x,g),c!==null)return ri(c,r,g),Hv(c,o,g),!0}return!1}function tp(r,o,c,g){if(g={lane:2,revertLane:Mp(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ah(r)){if(o)throw Error(i(479))}else o=xu(r,c,g,2),o!==null&&ri(o,r,2)}function ah(r){var o=r.alternate;return r===Qe||o!==null&&o===Qe}function Vv(r,o){Go=Qd=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function Hv(r,o,c){if((c&4194048)!==0){var g=o.lanes;g&=r.pendingLanes,c|=g,o.lanes=c,yd(r,c)}}var Ru={readContext:Cn,use:nh,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};Ru.useEffectEvent=Kt;var Zv={readContext:Cn,use:nh,useCallback:function(r,o){return Vn().memoizedState=[r,o===void 0?null:o],r},useContext:Cn,useEffect:Tv,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,rh(4194308,4,Lv.bind(null,o,r),c)},useLayoutEffect:function(r,o){return rh(4194308,4,r,o)},useInsertionEffect:function(r,o){rh(4,2,r,o)},useMemo:function(r,o){var c=Vn();o=o===void 0?null:o;var g=r();if(Ga){wn(!0);try{r()}finally{wn(!1)}}return c.memoizedState=[g,o],g},useReducer:function(r,o,c){var g=Vn();if(c!==void 0){var x=c(o);if(Ga){wn(!0);try{c(o)}finally{wn(!1)}}}else x=o;return g.memoizedState=g.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},g.queue=r,r=r.dispatch=P6.bind(null,Qe,r),[g.memoizedState,r]},useRef:function(r){var o=Vn();return r={current:r},o.memoizedState=r},useState:function(r){r=Km(r);var o=r.queue,c=Fv.bind(null,Qe,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Xm,useDeferredValue:function(r,o){var c=Vn();return Jm(c,r,o)},useTransition:function(){var r=Km(!1);return r=Dv.bind(null,Qe,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var g=Qe,x=Vn();if(st){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),At===null)throw Error(i(349));(ut&127)!==0||hv(g,o,c)}x.memoizedState=c;var S={value:c,getSnapshot:o};return x.queue=S,Tv(mv.bind(null,g,S,r),[r]),g.flags|=2048,Wo(9,{destroy:void 0},fv.bind(null,g,S,c,o),null),c},useId:function(){var r=Vn(),o=At.identifierPrefix;if(st){var c=Le,g=Ee;c=(g&~(1<<32-_t(g)-1)).toString(32)+c,o="_"+o+"R_"+c,c=eh++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=N6++,o="_"+o+"r_"+c.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:ep,useFormState:Sv,useActionState:Sv,useOptimistic:function(r){var o=Vn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=tp.bind(null,Qe,!0,c),c.dispatch=o,[r,o]},useMemoCache:Zm,useCacheRefresh:function(){return Vn().memoizedState=M6.bind(null,Qe)},useEffectEvent:function(r){var o=Vn(),c={impl:r};return o.memoizedState=c,function(){if((yt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},np={readContext:Cn,use:nh,useCallback:Pv,useContext:Cn,useEffect:Ym,useImperativeHandle:Mv,useInsertionEffect:$v,useLayoutEffect:Av,useMemo:Ov,useReducer:ih,useRef:Nv,useState:function(){return ih(Jr)},useDebugValue:Xm,useDeferredValue:function(r,o){var c=Qt();return Rv(c,Et.memoizedState,r,o)},useTransition:function(){var r=ih(Jr)[0],o=Qt().memoizedState;return[typeof r=="boolean"?r:Pu(r),o]},useSyncExternalStore:dv,useId:Bv,useHostTransitionStatus:ep,useFormState:Cv,useActionState:Cv,useOptimistic:function(r,o){var c=Qt();return yv(c,Et,r,o)},useMemoCache:Zm,useCacheRefresh:Uv};np.useEffectEvent=kv;var qv={readContext:Cn,use:nh,useCallback:Pv,useContext:Cn,useEffect:Ym,useImperativeHandle:Mv,useInsertionEffect:$v,useLayoutEffect:Av,useMemo:Ov,useReducer:Gm,useRef:Nv,useState:function(){return Gm(Jr)},useDebugValue:Xm,useDeferredValue:function(r,o){var c=Qt();return Et===null?Jm(c,r,o):Rv(c,Et.memoizedState,r,o)},useTransition:function(){var r=Gm(Jr)[0],o=Qt().memoizedState;return[typeof r=="boolean"?r:Pu(r),o]},useSyncExternalStore:dv,useId:Bv,useHostTransitionStatus:ep,useFormState:jv,useActionState:jv,useOptimistic:function(r,o){var c=Qt();return Et!==null?yv(c,Et,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Zm,useCacheRefresh:Uv};qv.useEffectEvent=kv;function ip(r,o,c,g){o=r.memoizedState,c=c(g,o),c=c==null?o:v({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var rp={enqueueSetState:function(r,o,c){r=r._reactInternals;var g=_i(),x=Os(g);x.payload=o,c!=null&&(x.callback=c),o=Rs(r,x,g),o!==null&&(ri(o,r,g),$u(o,r,g))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var g=_i(),x=Os(g);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Rs(r,x,g),o!==null&&(ri(o,r,g),$u(o,r,g))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=_i(),g=Os(c);g.tag=2,o!=null&&(g.callback=o),o=Rs(r,g,c),o!==null&&(ri(o,r,c),$u(o,r,c))}};function Gv(r,o,c,g,x,S,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,S,P):o.prototype&&o.prototype.isPureReactComponent?!Ts(c,g)||!Ts(x,S):!0}function Kv(r,o,c,g){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,g),o.state!==r&&rp.enqueueReplaceState(o,o.state,null)}function Ka(r,o){var c=o;if("ref"in o){c={};for(var g in o)g!=="ref"&&(c[g]=o[g])}if(r=r.defaultProps){c===o&&(c=v({},c));for(var x in r)c[x]===void 0&&(c[x]=r[x])}return c}function Wv(r){Ra(r)}function Yv(r){console.error(r)}function Xv(r){Ra(r)}function oh(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function Jv(r,o,c){try{var g=r.onCaughtError;g(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function sp(r,o,c){return c=Os(c),c.tag=3,c.payload={element:null},c.callback=function(){oh(r,o)},c}function Qv(r){return r=Os(r),r.tag=3,r}function eb(r,o,c,g){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var S=g.value;r.payload=function(){return x(S)},r.callback=function(){Jv(o,c,g)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){Jv(o,c,g),typeof x!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var U=g.stack;this.componentDidCatch(g.value,{componentStack:U!==null?U:""})})}function O6(r,o,c,g,x){if(c.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=c.alternate,o!==null&&Uo(o,c,x,!0),c=yi.current,c!==null){switch(c.tag){case 31:case 13:return Ii===null?bh():c.alternate===null&&Wt===0&&(Wt=3),c.flags&=-257,c.flags|=65536,c.lanes=x,g===Kd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([g]):o.add(g),$p(r,g,x)),!1;case 22:return c.flags|=65536,g===Kd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([g]):c.add(g)),$p(r,g,x)),!1}throw Error(i(435,c.tag))}return $p(r,g,x),bh(),!1}if(st)return o=yi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,g!==Bo&&(r=Error(i(422),{cause:g}),Ba(p(r,c)))):(g!==Bo&&(o=Error(i(423),{cause:g}),Ba(p(o,c))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,g=p(g,c),x=sp(r.stateNode,g,x),Om(r,x),Wt!==4&&(Wt=2)),!1;var S=Error(i(520),{cause:g});if(S=p(S,c),Hu===null?Hu=[S]:Hu.push(S),Wt!==4&&(Wt=2),o===null)return!0;g=p(g,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=x&-x,c.lanes|=r,r=sp(c.stateNode,g,r),Om(c,r),!1;case 1:if(o=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fs===null||!Fs.has(S))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Qv(x),eb(x,r,c,g),Om(c,x),!1}c=c.return}while(c!==null);return!1}var ap=Error(i(461)),an=!1;function En(r,o,c,g){o.child=r===null?rv(o,null,c,g):qa(o,r.child,c,g)}function tb(r,o,c,g,x){c=c.render;var S=o.ref;if("ref"in g){var P={};for(var U in g)U!=="ref"&&(P[U]=g[U])}else P=g;return Fa(o),g=Um(r,o,c,P,S,x),U=Fm(),r!==null&&!an?(Vm(r,o,x),Qr(r,o,x)):(st&&U&&fn(o),o.flags|=1,En(r,o,g,x),o.child)}function nb(r,o,c,g,x){if(r===null){var S=c.type;return typeof S=="function"&&!zo(S)&&S.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=S,ib(r,o,S,g,x)):(r=Ia(c.type,null,g,o,o.mode,x),r.ref=o.ref,r.return=o,o.child=r)}if(S=r.child,!mp(r,x)){var P=S.memoizedProps;if(c=c.compare,c=c!==null?c:Ts,c(P,g)&&r.ref===o.ref)return Qr(r,o,x)}return o.flags|=1,r=zi(S,g),r.ref=o.ref,r.return=o,o.child=r}function ib(r,o,c,g,x){if(r!==null){var S=r.memoizedProps;if(Ts(S,g)&&r.ref===o.ref)if(an=!1,o.pendingProps=g=S,mp(r,x))(r.flags&131072)!==0&&(an=!0);else return o.lanes=r.lanes,Qr(r,o,x)}return op(r,o,c,g,x)}function rb(r,o,c,g){var x=g.children,S=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,r!==null){for(g=o.child=r.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~S}else g=0,o.child=null;return sb(r,o,S,c,g)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&qd(o,S!==null?S.cachePool:null),S!==null?ov(o,S):Dm(),lv(o);else return g=o.lanes=536870912,sb(r,o,S!==null?S.baseLanes|c:c,c,g)}else S!==null?(qd(o,S.cachePool),ov(o,S),zs(),o.memoizedState=null):(r!==null&&qd(o,null),Dm(),zs());return En(r,o,x,c),o.child}function Du(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function sb(r,o,c,g,x){var S=Am();return S=S===null?null:{parent:rn._currentValue,pool:S},o.memoizedState={baseLanes:c,cachePool:S},r!==null&&qd(o,null),Dm(),lv(o),r!==null&&Uo(r,o,g,!0),o.childLanes=x,null}function lh(r,o){return o=ch({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function ab(r,o,c){return qa(o,r.child,null,c),r=lh(o,o.pendingProps),r.flags|=2,vi(o),o.memoizedState=null,r}function R6(r,o,c){var g=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(st){if(g.mode==="hidden")return r=lh(o,g),o.lanes=536870912,Du(null,r);if(Im(o),(r=mt)?(r=vx(r,Qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ge!==null?{id:Ee,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},c=wu(r),c.return=o,o.child=c,ft=o,mt=null)):r=null,r===null)throw Sr(o);return o.lanes=536870912,null}return lh(o,g)}var S=r.memoizedState;if(S!==null){var P=S.dehydrated;if(Im(o),x)if(o.flags&256)o.flags&=-257,o=ab(r,o,c);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(an||Uo(r,o,c,!1),x=(c&r.childLanes)!==0,an||x){if(g=At,g!==null&&(P=vd(g,c),P!==0&&P!==S.retryLane))throw S.retryLane=P,Di(r,P),ri(g,r,P),ap;bh(),o=ab(r,o,c)}else r=S.treeContext,mt=Bi(P.nextSibling),ft=o,st=!0,wr=null,Qn=!1,r!==null&&Fn(o,r),o=lh(o,g),o.flags|=4096;return o}return r=zi(r.child,{mode:g.mode,children:g.children}),r.ref=o.ref,o.child=r,r.return=o,r}function uh(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function op(r,o,c,g,x){return Fa(o),c=Um(r,o,c,g,void 0,x),g=Fm(),r!==null&&!an?(Vm(r,o,x),Qr(r,o,x)):(st&&g&&fn(o),o.flags|=1,En(r,o,c,x),o.child)}function ob(r,o,c,g,x,S){return Fa(o),o.updateQueue=null,c=cv(o,g,c,x),uv(r),g=Fm(),r!==null&&!an?(Vm(r,o,S),Qr(r,o,S)):(st&&g&&fn(o),o.flags|=1,En(r,o,c,S),o.child)}function lb(r,o,c,g,x){if(Fa(o),o.stateNode===null){var S=Gr,P=c.contextType;typeof P=="object"&&P!==null&&(S=Cn(P)),S=new c(g,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=rp,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=g,S.state=o.memoizedState,S.refs={},Mm(o),P=c.contextType,S.context=typeof P=="object"&&P!==null?Cn(P):Gr,S.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(ip(o,c,P,g),S.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(P=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),P!==S.state&&rp.enqueueReplaceState(S,S.state,null),Lu(o,g,S,x),Au(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(r===null){S=o.stateNode;var U=o.memoizedProps,ee=Ka(c,U);S.props=ee;var me=S.context,we=c.contextType;P=Gr,typeof we=="object"&&we!==null&&(P=Cn(we));var je=c.getDerivedStateFromProps;we=typeof je=="function"||typeof S.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,we||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U||me!==P)&&Kv(o,S,g,P),Ps=!1;var ye=o.memoizedState;S.state=ye,Lu(o,g,S,x),Au(),me=o.memoizedState,U||ye!==me||Ps?(typeof je=="function"&&(ip(o,c,je,g),me=o.memoizedState),(ee=Ps||Gv(o,c,ee,g,ye,me,P))?(we||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=me),S.props=g,S.state=me,S.context=P,g=ee):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{S=o.stateNode,Pm(r,o),P=o.memoizedProps,we=Ka(c,P),S.props=we,je=o.pendingProps,ye=S.context,me=c.contextType,ee=Gr,typeof me=="object"&&me!==null&&(ee=Cn(me)),U=c.getDerivedStateFromProps,(me=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==je||ye!==ee)&&Kv(o,S,g,ee),Ps=!1,ye=o.memoizedState,S.state=ye,Lu(o,g,S,x),Au();var xe=o.memoizedState;P!==je||ye!==xe||Ps||r!==null&&r.dependencies!==null&&Hd(r.dependencies)?(typeof U=="function"&&(ip(o,c,U,g),xe=o.memoizedState),(we=Ps||Gv(o,c,we,g,ye,xe,ee)||r!==null&&r.dependencies!==null&&Hd(r.dependencies))?(me||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,xe,ee),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,xe,ee)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||P===r.memoizedProps&&ye===r.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ye===r.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=xe),S.props=g,S.state=xe,S.context=ee,g=we):(typeof S.componentDidUpdate!="function"||P===r.memoizedProps&&ye===r.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ye===r.memoizedState||(o.flags|=1024),g=!1)}return S=g,uh(r,o),g=(o.flags&128)!==0,S||g?(S=o.stateNode,c=g&&typeof c.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,r!==null&&g?(o.child=qa(o,r.child,null,x),o.child=qa(o,null,c,x)):En(r,o,c,x),o.memoizedState=S.state,r=o.child):r=Qr(r,o,x),r}function ub(r,o,c,g){return Wr(),o.flags|=256,En(r,o,c,g),o.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function up(r){return{baseLanes:r,cachePool:J1()}}function cp(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=xi),r}function cb(r,o,c){var g=o.pendingProps,x=!1,S=(o.flags&128)!==0,P;if((P=S)||(P=r!==null&&r.memoizedState===null?!1:(Jt.current&2)!==0),P&&(x=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,r===null){if(st){if(x?Ds(o):zs(),(r=mt)?(r=vx(r,Qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ge!==null?{id:Ee,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},c=wu(r),c.return=o,o.child=c,ft=o,mt=null)):r=null,r===null)throw Sr(o);return qp(r)?o.lanes=32:o.lanes=536870912,null}var U=g.children;return g=g.fallback,x?(zs(),x=o.mode,U=ch({mode:"hidden",children:U},x),g=Kr(g,x,c,null),U.return=o,g.return=o,U.sibling=g,o.child=U,g=o.child,g.memoizedState=up(c),g.childLanes=cp(r,P,c),o.memoizedState=lp,Du(null,g)):(Ds(o),dp(o,U))}var ee=r.memoizedState;if(ee!==null&&(U=ee.dehydrated,U!==null)){if(S)o.flags&256?(Ds(o),o.flags&=-257,o=hp(r,o,c)):o.memoizedState!==null?(zs(),o.child=r.child,o.flags|=128,o=null):(zs(),U=g.fallback,x=o.mode,g=ch({mode:"visible",children:g.children},x),U=Kr(U,x,c,null),U.flags|=2,g.return=o,U.return=o,g.sibling=U,o.child=g,qa(o,r.child,null,c),g=o.child,g.memoizedState=up(c),g.childLanes=cp(r,P,c),o.memoizedState=lp,o=Du(null,g));else if(Ds(o),qp(U)){if(P=U.nextSibling&&U.nextSibling.dataset,P)var me=P.dgst;P=me,g=Error(i(419)),g.stack="",g.digest=P,Ba({value:g,source:null,stack:null}),o=hp(r,o,c)}else if(an||Uo(r,o,c,!1),P=(c&r.childLanes)!==0,an||P){if(P=At,P!==null&&(g=vd(P,c),g!==0&&g!==ee.retryLane))throw ee.retryLane=g,Di(r,g),ri(P,r,g),ap;Zp(U)||bh(),o=hp(r,o,c)}else Zp(U)?(o.flags|=192,o.child=r.child,o=null):(r=ee.treeContext,mt=Bi(U.nextSibling),ft=o,st=!0,wr=null,Qn=!1,r!==null&&Fn(o,r),o=dp(o,g.children),o.flags|=4096);return o}return x?(zs(),U=g.fallback,x=o.mode,ee=r.child,me=ee.sibling,g=zi(ee,{mode:"hidden",children:g.children}),g.subtreeFlags=ee.subtreeFlags&65011712,me!==null?U=zi(me,U):(U=Kr(U,x,c,null),U.flags|=2),U.return=o,g.return=o,g.sibling=U,o.child=g,Du(null,g),g=o.child,U=r.child.memoizedState,U===null?U=up(c):(x=U.cachePool,x!==null?(ee=rn._currentValue,x=x.parent!==ee?{parent:ee,pool:ee}:x):x=J1(),U={baseLanes:U.baseLanes|c,cachePool:x}),g.memoizedState=U,g.childLanes=cp(r,P,c),o.memoizedState=lp,Du(r.child,g)):(Ds(o),c=r.child,r=c.sibling,c=zi(c,{mode:"visible",children:g.children}),c.return=o,c.sibling=null,r!==null&&(P=o.deletions,P===null?(o.deletions=[r],o.flags|=16):P.push(r)),o.child=c,o.memoizedState=null,c)}function dp(r,o){return o=ch({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ch(r,o){return r=Mn(22,r,null,o),r.lanes=0,r}function hp(r,o,c){return qa(o,r.child,null,c),r=dp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function db(r,o,c){r.lanes|=o;var g=r.alternate;g!==null&&(g.lanes|=o),Nm(r.return,o,c)}function fp(r,o,c,g,x,S){var P=r.memoizedState;P===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:x,treeForkCount:S}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=c,P.tailMode=x,P.treeForkCount=S)}function hb(r,o,c){var g=o.pendingProps,x=g.revealOrder,S=g.tail;g=g.children;var P=Jt.current,U=(P&2)!==0;if(U?(P=P&1|2,o.flags|=128):P&=1,I(Jt,P),En(r,o,g,c),g=st?z:0,!U&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&db(r,c,o);else if(r.tag===19)db(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(x){case"forwards":for(c=o.child,x=null;c!==null;)r=c.alternate,r!==null&&Jd(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=o.child,o.child=null):(x=c.sibling,c.sibling=null),fp(o,!1,x,c,S,g);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=o.child,o.child=null;x!==null;){if(r=x.alternate,r!==null&&Jd(r)===null){o.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}fp(o,!0,c,null,S,g);break;case"together":fp(o,!1,null,null,void 0,g);break;default:o.memoizedState=null}return o.child}function Qr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Us|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Uo(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=zi(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=zi(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function mp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Hd(r)))}function D6(r,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Ms(o,rn,r.memoizedState.cache),Wr();break;case 27:case 5:ae(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Ms(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Im(o),null;break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(Ds(o),o.flags|=128,null):(c&o.child.childLanes)!==0?cb(r,o,c):(Ds(o),r=Qr(r,o,c),r!==null?r.sibling:null);Ds(o);break;case 19:var x=(r.flags&128)!==0;if(g=(c&o.childLanes)!==0,g||(Uo(r,o,c,!1),g=(c&o.childLanes)!==0),x){if(g)return hb(r,o,c);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),I(Jt,Jt.current),g)break;return null;case 22:return o.lanes=0,rb(r,o,c,o.pendingProps);case 24:Ms(o,rn,r.memoizedState.cache)}return Qr(r,o,c)}function fb(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)an=!0;else{if(!mp(r,c)&&(o.flags&128)===0)return an=!1,D6(r,o,c);an=(r.flags&131072)!==0}else an=!1,st&&(o.flags&1048576)!==0&&et(o,z,o.index);switch(o.lanes=0,o.tag){case 16:e:{var g=o.pendingProps;if(r=Ha(o.elementType),o.type=r,typeof r=="function")zo(r)?(g=Ka(r,g),o.tag=1,o=lb(null,o,r,g,c)):(o.tag=0,o=op(null,o,r,g,c));else{if(r!=null){var x=r.$$typeof;if(x===O){o.tag=11,o=tb(null,o,r,g,c);break e}else if(x===Z){o.tag=14,o=nb(null,o,r,g,c);break e}}throw o=K(r)||r,Error(i(306,o,""))}}return o;case 0:return op(r,o,o.type,o.pendingProps,c);case 1:return g=o.type,x=Ka(g,o.pendingProps),lb(r,o,g,x,c);case 3:e:{if(be(o,o.stateNode.containerInfo),r===null)throw Error(i(387));g=o.pendingProps;var S=o.memoizedState;x=S.element,Pm(r,o),Lu(o,g,null,c);var P=o.memoizedState;if(g=P.cache,Ms(o,rn,g),g!==S.cache&&Tm(o,[rn],c,!0),Au(),g=P.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=ub(r,o,g,c);break e}else if(g!==x){x=p(Error(i(424)),o),Ba(x),o=ub(r,o,g,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=Bi(r.firstChild),ft=o,st=!0,wr=null,Qn=!0,c=rv(o,null,g,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Wr(),g===x){o=Qr(r,o,c);break e}En(r,o,g,c)}o=o.child}return o;case 26:return uh(r,o),r===null?(c=Cx(o.type,null,o.pendingProps,null))?o.memoizedState=c:st||(c=o.type,r=o.pendingProps,g=jh(ve.current).createElement(c),g[tn]=o,g[yn]=r,jn(g,c,r),nn(g),o.stateNode=g):o.memoizedState=Cx(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return ae(o),r===null&&st&&(g=o.stateNode=_x(o.type,o.pendingProps,ve.current),ft=o,Qn=!0,x=mt,qs(o.type)?(Gp=x,mt=Bi(g.firstChild)):mt=x),En(r,o,o.pendingProps.children,c),uh(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&st&&((x=g=mt)&&(g=fE(g,o.type,o.pendingProps,Qn),g!==null?(o.stateNode=g,ft=o,mt=Bi(g.firstChild),Qn=!1,x=!0):x=!1),x||Sr(o)),ae(o),x=o.type,S=o.pendingProps,P=r!==null?r.memoizedProps:null,g=S.children,Fp(x,S)?g=null:P!==null&&Fp(x,P)&&(o.flags|=32),o.memoizedState!==null&&(x=Um(r,o,T6,null,null,c),Ju._currentValue=x),uh(r,o),En(r,o,g,c),o.child;case 6:return r===null&&st&&((r=c=mt)&&(c=mE(c,o.pendingProps,Qn),c!==null?(o.stateNode=c,ft=o,mt=null,r=!0):r=!1),r||Sr(o)),null;case 13:return cb(r,o,c);case 4:return be(o,o.stateNode.containerInfo),g=o.pendingProps,r===null?o.child=qa(o,null,g,c):En(r,o,g,c),o.child;case 11:return tb(r,o,o.type,o.pendingProps,c);case 7:return En(r,o,o.pendingProps,c),o.child;case 8:return En(r,o,o.pendingProps.children,c),o.child;case 12:return En(r,o,o.pendingProps.children,c),o.child;case 10:return g=o.pendingProps,Ms(o,o.type,g.value),En(r,o,g.children,c),o.child;case 9:return x=o.type._context,g=o.pendingProps.children,Fa(o),x=Cn(x),g=g(x),o.flags|=1,En(r,o,g,c),o.child;case 14:return nb(r,o,o.type,o.pendingProps,c);case 15:return ib(r,o,o.type,o.pendingProps,c);case 19:return hb(r,o,c);case 31:return R6(r,o,c);case 22:return rb(r,o,c,o.pendingProps);case 24:return Fa(o),g=Cn(rn),r===null?(x=Am(),x===null&&(x=At,S=km(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=c),x=S),o.memoizedState={parent:g,cache:x},Mm(o),Ms(o,rn,x)):((r.lanes&c)!==0&&(Pm(r,o),Lu(o,null,null,c),Au()),x=r.memoizedState,S=o.memoizedState,x.parent!==g?(x={parent:g,cache:g},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Ms(o,rn,g)):(g=S.cache,Ms(o,rn,g),g!==x.cache&&Tm(o,[rn],c,!0))),En(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function es(r){r.flags|=4}function pp(r,o,c,g,x){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(x&335544128)===x)if(r.stateNode.complete)r.flags|=8192;else if(Bb())r.flags|=8192;else throw Za=Kd,Lm}else r.flags&=-16777217}function mb(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kx(o))if(Bb())r.flags|=8192;else throw Za=Kd,Lm}function dh(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?pd():536870912,r.lanes|=o,Qo|=o)}function zu(r,o){if(!st)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Dt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,g=0;if(o)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=g,r.childLanes=c,o}function z6(r,o,c){var g=o.pendingProps;switch(Gt(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(o),null;case 1:return Dt(o),null;case 3:return c=o.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Yr(rn),ce(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(tr(o)?es(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Eu())),Dt(o),null;case 26:var x=o.type,S=o.memoizedState;return r===null?(es(o),S!==null?(Dt(o),mb(o,S)):(Dt(o),pp(o,x,null,g,c))):S?S!==r.memoizedState?(es(o),Dt(o),mb(o,S)):(Dt(o),o.flags&=-16777217):(r=r.memoizedProps,r!==g&&es(o),Dt(o),pp(o,x,r,g,c)),null;case 27:if(J(o),c=ve.current,x=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==g&&es(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return Dt(o),null}r=fe.current,tr(o)?Cu(o):(r=_x(x,g,c),o.stateNode=r,es(o))}return Dt(o),null;case 5:if(J(o),x=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==g&&es(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return Dt(o),null}if(S=fe.current,tr(o))Cu(o);else{var P=jh(ve.current);switch(S){case 1:S=P.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:S=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":S=P.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":S=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":S=P.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?P.createElement("select",{is:g.is}):P.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?P.createElement(x,{is:g.is}):P.createElement(x)}}S[tn]=o,S[yn]=g;e:for(P=o.child;P!==null;){if(P.tag===5||P.tag===6)S.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break e;for(;P.sibling===null;){if(P.return===null||P.return===o)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}o.stateNode=S;e:switch(jn(S,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&es(o)}}return Dt(o),pp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,c),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==g&&es(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(r=ve.current,tr(o)){if(r=o.stateNode,c=o.memoizedProps,g=null,x=ft,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}r[tn]=o,r=!!(r.nodeValue===c||g!==null&&g.suppressHydrationWarning===!0||cx(r.nodeValue,c)),r||Sr(o,!0)}else r=jh(r).createTextNode(g),r[tn]=o,o.stateNode=r}return Dt(o),null;case 31:if(c=o.memoizedState,r===null||r.memoizedState!==null){if(g=tr(o),c!==null){if(r===null){if(!g)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[tn]=o}else Wr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dt(o),r=!1}else c=Eu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return o.flags&256?(vi(o),o):(vi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Dt(o),null;case 13:if(g=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=tr(o),g!==null&&g.dehydrated!==null){if(r===null){if(!x)throw Error(i(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[tn]=o}else Wr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dt(o),x=!1}else x=Eu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(vi(o),o):(vi(o),null)}return vi(o),(o.flags&128)!==0?(o.lanes=c,o):(c=g!==null,r=r!==null&&r.memoizedState!==null,c&&(g=o.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==x&&(g.flags|=2048)),c!==r&&c&&(o.child.flags|=8192),dh(o,o.updateQueue),Dt(o),null);case 4:return ce(),r===null&&Dp(o.stateNode.containerInfo),Dt(o),null;case 10:return Yr(o.type),Dt(o),null;case 19:if(te(Jt),g=o.memoizedState,g===null)return Dt(o),null;if(x=(o.flags&128)!==0,S=g.rendering,S===null)if(x)zu(g,!1);else{if(Wt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(S=Jd(r),S!==null){for(o.flags|=128,zu(g,!1),r=S.updateQueue,o.updateQueue=r,dh(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)_u(c,r),c=c.sibling;return I(Jt,Jt.current&1|2),st&&Be(o,g.treeForkCount),o.child}r=r.sibling}g.tail!==null&&_n()>gh&&(o.flags|=128,x=!0,zu(g,!1),o.lanes=4194304)}else{if(!x)if(r=Jd(S),r!==null){if(o.flags|=128,x=!0,r=r.updateQueue,o.updateQueue=r,dh(o,r),zu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!st)return Dt(o),null}else 2*_n()-g.renderingStartTime>gh&&c!==536870912&&(o.flags|=128,x=!0,zu(g,!1),o.lanes=4194304);g.isBackwards?(S.sibling=o.child,o.child=S):(r=g.last,r!==null?r.sibling=S:o.child=S,g.last=S)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=_n(),r.sibling=null,c=Jt.current,I(Jt,x?c&1|2:c&1),st&&Be(o,g.treeForkCount),r):(Dt(o),null);case 22:case 23:return vi(o),zm(),g=o.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(c&536870912)!==0&&(o.flags&128)===0&&(Dt(o),o.subtreeFlags&6&&(o.flags|=8192)):Dt(o),c=o.updateQueue,c!==null&&dh(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==c&&(o.flags|=2048),r!==null&&te(Va),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Yr(rn),Dt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function I6(r,o){switch(Gt(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Yr(rn),ce(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return J(o),null;case 31:if(o.memoizedState!==null){if(vi(o),o.alternate===null)throw Error(i(340));Wr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(vi(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Wr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return te(Jt),null;case 4:return ce(),null;case 10:return Yr(o.type),null;case 22:case 23:return vi(o),zm(),r!==null&&te(Va),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Yr(rn),null;case 25:return null;default:return null}}function pb(r,o){switch(Gt(o),o.tag){case 3:Yr(rn),ce();break;case 26:case 27:case 5:J(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&vi(o);break;case 13:vi(o);break;case 19:te(Jt);break;case 10:Yr(o.type);break;case 22:case 23:vi(o),zm(),r!==null&&te(Va);break;case 24:Yr(rn)}}function Iu(r,o){try{var c=o.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var x=g.next;c=x;do{if((c.tag&r)===r){g=void 0;var S=c.create,P=c.inst;g=S(),P.destroy=g}c=c.next}while(c!==x)}}catch(U){St(o,o.return,U)}}function Is(r,o,c){try{var g=o.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var S=x.next;g=S;do{if((g.tag&r)===r){var P=g.inst,U=P.destroy;if(U!==void 0){P.destroy=void 0,x=o;var ee=c,me=U;try{me()}catch(we){St(x,ee,we)}}}g=g.next}while(g!==S)}}catch(we){St(o,o.return,we)}}function gb(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{av(o,c)}catch(g){St(r,r.return,g)}}}function yb(r,o,c){c.props=Ka(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(g){St(r,o,g)}}function Bu(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof c=="function"?r.refCleanup=c(g):c.current=g}}catch(x){St(r,o,x)}}function Er(r,o){var c=r.ref,g=r.refCleanup;if(c!==null)if(typeof g=="function")try{g()}catch(x){St(r,o,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){St(r,o,x)}else c.current=null}function vb(r){var o=r.type,c=r.memoizedProps,g=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&g.focus();break e;case"img":c.src?g.src=c.src:c.srcSet&&(g.srcset=c.srcSet)}}catch(x){St(r,r.return,x)}}function gp(r,o,c){try{var g=r.stateNode;oE(g,r.type,c,o),g[yn]=o}catch(x){St(r,r.return,x)}}function bb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qs(r.type)||r.tag===4}function yp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vp(r,o,c){var g=r.tag;if(g===5||g===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Wn));else if(g!==4&&(g===27&&qs(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(vp(r,o,c),r=r.sibling;r!==null;)vp(r,o,c),r=r.sibling}function hh(r,o,c){var g=r.tag;if(g===5||g===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(g!==4&&(g===27&&qs(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(hh(r,o,c),r=r.sibling;r!==null;)hh(r,o,c),r=r.sibling}function xb(r){var o=r.stateNode,c=r.memoizedProps;try{for(var g=r.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);jn(o,g,c),o[tn]=r,o[yn]=c}catch(S){St(r,r.return,S)}}var ts=!1,on=!1,bp=!1,_b=typeof WeakSet=="function"?WeakSet:Set,xn=null;function B6(r,o){if(r=r.containerInfo,Bp=Mh,r=La(r),yr(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var P=0,U=-1,ee=-1,me=0,we=0,je=r,ye=null;t:for(;;){for(var xe;je!==c||x!==0&&je.nodeType!==3||(U=P+x),je!==S||g!==0&&je.nodeType!==3||(ee=P+g),je.nodeType===3&&(P+=je.nodeValue.length),(xe=je.firstChild)!==null;)ye=je,je=xe;for(;;){if(je===r)break t;if(ye===c&&++me===x&&(U=P),ye===S&&++we===g&&(ee=P),(xe=je.nextSibling)!==null)break;je=ye,ye=je.parentNode}je=xe}c=U===-1||ee===-1?null:{start:U,end:ee}}else c=null}c=c||{start:0,end:0}}else c=null;for(Up={focusedElem:r,selectionRange:c},Mh=!1,xn=o;xn!==null;)if(o=xn,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,xn=r;else for(;xn!==null;){switch(o=xn,S=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)x=r[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,c=o,x=S.memoizedProps,S=S.memoizedState,g=c.stateNode;try{var Re=Ka(c.type,x);r=g.getSnapshotBeforeUpdate(Re,S),g.__reactInternalSnapshotBeforeUpdate=r}catch(He){St(c,c.return,He)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Hp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,xn=r;break}xn=o.return}}function wb(r,o,c){var g=c.flags;switch(c.tag){case 0:case 11:case 15:is(r,c),g&4&&Iu(5,c);break;case 1:if(is(r,c),g&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(P){St(c,c.return,P)}else{var x=Ka(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(x,o,r.__reactInternalSnapshotBeforeUpdate)}catch(P){St(c,c.return,P)}}g&64&&gb(c),g&512&&Bu(c,c.return);break;case 3:if(is(r,c),g&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{av(r,o)}catch(P){St(c,c.return,P)}}break;case 27:o===null&&g&4&&xb(c);case 26:case 5:is(r,c),o===null&&g&4&&vb(c),g&512&&Bu(c,c.return);break;case 12:is(r,c);break;case 31:is(r,c),g&4&&Eb(r,c);break;case 13:is(r,c),g&4&&jb(r,c),g&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=W6.bind(null,c),pE(r,c))));break;case 22:if(g=c.memoizedState!==null||ts,!g){o=o!==null&&o.memoizedState!==null||on,x=ts;var S=on;ts=g,(on=o)&&!S?rs(r,c,(c.subtreeFlags&8772)!==0):is(r,c),ts=x,on=S}break;case 30:break;default:is(r,c)}}function Sb(r){var o=r.alternate;o!==null&&(r.alternate=null,Sb(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&iu(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,ei=!1;function ns(r,o,c){for(c=c.child;c!==null;)Cb(r,o,c),c=c.sibling}function Cb(r,o,c){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(gn,c)}catch{}switch(c.tag){case 26:on||Er(c,o),ns(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:on||Er(c,o);var g=It,x=ei;qs(c.type)&&(It=c.stateNode,ei=!1),ns(r,o,c),Wu(c.stateNode),It=g,ei=x;break;case 5:on||Er(c,o);case 6:if(g=It,x=ei,It=null,ns(r,o,c),It=g,ei=x,It!==null)if(ei)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(c.stateNode)}catch(S){St(c,o,S)}else try{It.removeChild(c.stateNode)}catch(S){St(c,o,S)}break;case 18:It!==null&&(ei?(r=It,gx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),ol(r)):gx(It,c.stateNode));break;case 4:g=It,x=ei,It=c.stateNode.containerInfo,ei=!0,ns(r,o,c),It=g,ei=x;break;case 0:case 11:case 14:case 15:Is(2,c,o),on||Is(4,c,o),ns(r,o,c);break;case 1:on||(Er(c,o),g=c.stateNode,typeof g.componentWillUnmount=="function"&&yb(c,o,g)),ns(r,o,c);break;case 21:ns(r,o,c);break;case 22:on=(g=on)||c.memoizedState!==null,ns(r,o,c),on=g;break;default:ns(r,o,c)}}function Eb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ol(r)}catch(c){St(o,o.return,c)}}}function jb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ol(r)}catch(c){St(o,o.return,c)}}function U6(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new _b),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new _b),o;default:throw Error(i(435,r.tag))}}function fh(r,o){var c=U6(r);o.forEach(function(g){if(!c.has(g)){c.add(g);var x=Y6.bind(null,r,g);g.then(x,x)}})}function ti(r,o){var c=o.deletions;if(c!==null)for(var g=0;g<c.length;g++){var x=c[g],S=r,P=o,U=P;e:for(;U!==null;){switch(U.tag){case 27:if(qs(U.type)){It=U.stateNode,ei=!1;break e}break;case 5:It=U.stateNode,ei=!1;break e;case 3:case 4:It=U.stateNode.containerInfo,ei=!0;break e}U=U.return}if(It===null)throw Error(i(160));Cb(S,P,x),It=null,ei=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Nb(o,r),o=o.sibling}var ir=null;function Nb(r,o){var c=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ti(o,r),ni(r),g&4&&(Is(3,r,r.return),Iu(3,r),Is(5,r,r.return));break;case 1:ti(o,r),ni(r),g&512&&(on||c===null||Er(c,c.return)),g&64&&ts&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?g:c.concat(g))));break;case 26:var x=ir;if(ti(o,r),ni(r),g&512&&(on||c===null||Er(c,c.return)),g&4){var S=c!==null?c.memoizedState:null;if(g=r.memoizedState,c===null)if(g===null)if(r.stateNode===null){e:{g=r.type,c=r.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":S=x.getElementsByTagName("title")[0],(!S||S[ga]||S[tn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(g),x.head.insertBefore(S,x.querySelector("head > title"))),jn(S,g,c),S[tn]=r,nn(S),g=S;break e;case"link":var P=Nx("link","href",x).get(g+(c.href||""));if(P){for(var U=0;U<P.length;U++)if(S=P[U],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(U,1);break t}}S=x.createElement(g),jn(S,g,c),x.head.appendChild(S);break;case"meta":if(P=Nx("meta","content",x).get(g+(c.content||""))){for(U=0;U<P.length;U++)if(S=P[U],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(U,1);break t}}S=x.createElement(g),jn(S,g,c),x.head.appendChild(S);break;default:throw Error(i(468,g))}S[tn]=r,nn(S),g=S}r.stateNode=g}else Tx(x,r.type,r.stateNode);else r.stateNode=jx(x,g,r.memoizedProps);else S!==g?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,g===null?Tx(x,r.type,r.stateNode):jx(x,g,r.memoizedProps)):g===null&&r.stateNode!==null&&gp(r,r.memoizedProps,c.memoizedProps)}break;case 27:ti(o,r),ni(r),g&512&&(on||c===null||Er(c,c.return)),c!==null&&g&4&&gp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ti(o,r),ni(r),g&512&&(on||c===null||Er(c,c.return)),r.flags&32){x=r.stateNode;try{Ai(x,"")}catch(Re){St(r,r.return,Re)}}g&4&&r.stateNode!=null&&(x=r.memoizedProps,gp(r,x,c!==null?c.memoizedProps:x)),g&1024&&(bp=!0);break;case 6:if(ti(o,r),ni(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,c=r.stateNode;try{c.nodeValue=g}catch(Re){St(r,r.return,Re)}}break;case 3:if(kh=null,x=ir,ir=Nh(o.containerInfo),ti(o,r),ir=x,ni(r),g&4&&c!==null&&c.memoizedState.isDehydrated)try{ol(o.containerInfo)}catch(Re){St(r,r.return,Re)}bp&&(bp=!1,Tb(r));break;case 4:g=ir,ir=Nh(r.stateNode.containerInfo),ti(o,r),ni(r),ir=g;break;case 12:ti(o,r),ni(r);break;case 31:ti(o,r),ni(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,fh(r,g)));break;case 13:ti(o,r),ni(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ph=_n()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,fh(r,g)));break;case 22:x=r.memoizedState!==null;var ee=c!==null&&c.memoizedState!==null,me=ts,we=on;if(ts=me||x,on=we||ee,ti(o,r),on=we,ts=me,ni(r),g&8192)e:for(o=r.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(c===null||ee||ts||on||Wa(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){ee=c=o;try{if(S=ee.stateNode,x)P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{U=ee.stateNode;var je=ee.memoizedProps.style,ye=je!=null&&je.hasOwnProperty("display")?je.display:null;U.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Re){St(ee,ee.return,Re)}}}else if(o.tag===6){if(c===null){ee=o;try{ee.stateNode.nodeValue=x?"":ee.memoizedProps}catch(Re){St(ee,ee.return,Re)}}}else if(o.tag===18){if(c===null){ee=o;try{var xe=ee.stateNode;x?yx(xe,!0):yx(ee.stateNode,!1)}catch(Re){St(ee,ee.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=r.updateQueue,g!==null&&(c=g.retryQueue,c!==null&&(g.retryQueue=null,fh(r,c))));break;case 19:ti(o,r),ni(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,fh(r,g)));break;case 30:break;case 21:break;default:ti(o,r),ni(r)}}function ni(r){var o=r.flags;if(o&2){try{for(var c,g=r.return;g!==null;){if(bb(g)){c=g;break}g=g.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var x=c.stateNode,S=yp(r);hh(r,S,x);break;case 5:var P=c.stateNode;c.flags&32&&(Ai(P,""),c.flags&=-33);var U=yp(r);hh(r,U,P);break;case 3:case 4:var ee=c.stateNode.containerInfo,me=yp(r);vp(r,me,ee);break;default:throw Error(i(161))}}catch(we){St(r,r.return,we)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Tb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Tb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function is(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)wb(r,o.alternate,o),o=o.sibling}function Wa(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Is(4,o,o.return),Wa(o);break;case 1:Er(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&yb(o,o.return,c),Wa(o);break;case 27:Wu(o.stateNode);case 26:case 5:Er(o,o.return),Wa(o);break;case 22:o.memoizedState===null&&Wa(o);break;case 30:Wa(o);break;default:Wa(o)}r=r.sibling}}function rs(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,x=r,S=o,P=S.flags;switch(S.tag){case 0:case 11:case 15:rs(x,S,c),Iu(4,S);break;case 1:if(rs(x,S,c),g=S,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(me){St(g,g.return,me)}if(g=S,x=g.updateQueue,x!==null){var U=g.stateNode;try{var ee=x.shared.hiddenCallbacks;if(ee!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ee.length;x++)sv(ee[x],U)}catch(me){St(g,g.return,me)}}c&&P&64&&gb(S),Bu(S,S.return);break;case 27:xb(S);case 26:case 5:rs(x,S,c),c&&g===null&&P&4&&vb(S),Bu(S,S.return);break;case 12:rs(x,S,c);break;case 31:rs(x,S,c),c&&P&4&&Eb(x,S);break;case 13:rs(x,S,c),c&&P&4&&jb(x,S);break;case 22:S.memoizedState===null&&rs(x,S,c),Bu(S,S.return);break;case 30:break;default:rs(x,S,c)}o=o.sibling}}function xp(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&ju(c))}function _p(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&ju(r))}function rr(r,o,c,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kb(r,o,c,g),o=o.sibling}function kb(r,o,c,g){var x=o.flags;switch(o.tag){case 0:case 11:case 15:rr(r,o,c,g),x&2048&&Iu(9,o);break;case 1:rr(r,o,c,g);break;case 3:rr(r,o,c,g),x&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&ju(r)));break;case 12:if(x&2048){rr(r,o,c,g),r=o.stateNode;try{var S=o.memoizedProps,P=S.id,U=S.onPostCommit;typeof U=="function"&&U(P,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ee){St(o,o.return,ee)}}else rr(r,o,c,g);break;case 31:rr(r,o,c,g);break;case 13:rr(r,o,c,g);break;case 23:break;case 22:S=o.stateNode,P=o.alternate,o.memoizedState!==null?S._visibility&2?rr(r,o,c,g):Uu(r,o):S._visibility&2?rr(r,o,c,g):(S._visibility|=2,Yo(r,o,c,g,(o.subtreeFlags&10256)!==0||!1)),x&2048&&xp(P,o);break;case 24:rr(r,o,c,g),x&2048&&_p(o.alternate,o);break;default:rr(r,o,c,g)}}function Yo(r,o,c,g,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=r,P=o,U=c,ee=g,me=P.flags;switch(P.tag){case 0:case 11:case 15:Yo(S,P,U,ee,x),Iu(8,P);break;case 23:break;case 22:var we=P.stateNode;P.memoizedState!==null?we._visibility&2?Yo(S,P,U,ee,x):Uu(S,P):(we._visibility|=2,Yo(S,P,U,ee,x)),x&&me&2048&&xp(P.alternate,P);break;case 24:Yo(S,P,U,ee,x),x&&me&2048&&_p(P.alternate,P);break;default:Yo(S,P,U,ee,x)}o=o.sibling}}function Uu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,g=o,x=g.flags;switch(g.tag){case 22:Uu(c,g),x&2048&&xp(g.alternate,g);break;case 24:Uu(c,g),x&2048&&_p(g.alternate,g);break;default:Uu(c,g)}o=o.sibling}}var Fu=8192;function Xo(r,o,c){if(r.subtreeFlags&Fu)for(r=r.child;r!==null;)$b(r,o,c),r=r.sibling}function $b(r,o,c){switch(r.tag){case 26:Xo(r,o,c),r.flags&Fu&&r.memoizedState!==null&&NE(c,ir,r.memoizedState,r.memoizedProps);break;case 5:Xo(r,o,c);break;case 3:case 4:var g=ir;ir=Nh(r.stateNode.containerInfo),Xo(r,o,c),ir=g;break;case 22:r.memoizedState===null&&(g=r.alternate,g!==null&&g.memoizedState!==null?(g=Fu,Fu=16777216,Xo(r,o,c),Fu=g):Xo(r,o,c));break;default:Xo(r,o,c)}}function Ab(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Vu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var g=o[c];xn=g,Mb(g,r)}Ab(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lb(r),r=r.sibling}function Lb(r){switch(r.tag){case 0:case 11:case 15:Vu(r),r.flags&2048&&Is(9,r,r.return);break;case 3:Vu(r);break;case 12:Vu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,mh(r)):Vu(r);break;default:Vu(r)}}function mh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var g=o[c];xn=g,Mb(g,r)}Ab(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Is(8,o,o.return),mh(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,mh(o));break;default:mh(o)}r=r.sibling}}function Mb(r,o){for(;xn!==null;){var c=xn;switch(c.tag){case 0:case 11:case 15:Is(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var g=c.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ju(c.memoizedState.cache)}if(g=c.child,g!==null)g.return=c,xn=g;else e:for(c=r;xn!==null;){g=xn;var x=g.sibling,S=g.return;if(Sb(g),g===c){xn=null;break e}if(x!==null){x.return=S,xn=x;break e}xn=S}}}var F6={getCacheForType:function(r){var o=Cn(rn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c},cacheSignal:function(){return Cn(rn).controller.signal}},V6=typeof WeakMap=="function"?WeakMap:Map,yt=0,At=null,at=null,ut=0,wt=0,bi=null,Bs=!1,Jo=!1,wp=!1,ss=0,Wt=0,Us=0,Ya=0,Sp=0,xi=0,Qo=0,Hu=null,ii=null,Cp=!1,ph=0,Pb=0,gh=1/0,yh=null,Fs=null,mn=0,Vs=null,el=null,as=0,Ep=0,jp=null,Ob=null,Zu=0,Np=null;function _i(){return(yt&2)!==0&&ut!==0?ut&-ut:H.T!==null?Mp():tu()}function Rb(){if(xi===0)if((ut&536870912)===0||st){var r=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),xi=r}else xi=536870912;return r=yi.current,r!==null&&(r.flags|=32),xi}function ri(r,o,c){(r===At&&(wt===2||wt===9)||r.cancelPendingCommit!==null)&&(tl(r,0),Hs(r,ut,xi,!1)),Ir(r,c),((yt&2)===0||r!==At)&&(r===At&&((yt&2)===0&&(Ya|=c),Wt===4&&Hs(r,ut,xi,!1)),jr(r))}function Db(r,o,c){if((yt&6)!==0)throw Error(i(327));var g=!c&&(o&127)===0&&(o&r.expiredLanes)===0||pa(r,o),x=g?q6(r,o):kp(r,o,!0),S=g;do{if(x===0){Jo&&!g&&Hs(r,o,0,!1);break}else{if(c=r.current.alternate,S&&!H6(c)){x=kp(r,o,!1),S=!1;continue}if(x===2){if(S=o,r.errorRecoveryDisabledLanes&S)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var U=r;x=Hu;var ee=U.current.memoizedState.isDehydrated;if(ee&&(tl(U,P).flags|=256),P=kp(U,P,!1),P!==2){if(wp&&!ee){U.errorRecoveryDisabledLanes|=S,Ya|=S,x=4;break e}S=ii,ii=x,S!==null&&(ii===null?ii=S:ii.push.apply(ii,S))}x=P}if(S=!1,x!==2)continue}}if(x===1){tl(r,0),Hs(r,o,0,!0);break}e:{switch(g=r,S=x,S){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Hs(g,o,xi,!Bs);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(x=ph+300-_n(),10<x)){if(Hs(g,o,xi,!Bs),_o(g,0,!0)!==0)break e;as=o,g.timeoutHandle=mx(zb.bind(null,g,c,ii,yh,Cp,o,xi,Ya,Qo,Bs,S,"Throttled",-0,0),x);break e}zb(g,c,ii,yh,Cp,o,xi,Ya,Qo,Bs,S,null,-0,0)}}break}while(!0);jr(r)}function zb(r,o,c,g,x,S,P,U,ee,me,we,je,ye,xe){if(r.timeoutHandle=-1,je=o.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},$b(o,S,je);var Re=(S&62914560)===S?ph-_n():(S&4194048)===S?Pb-_n():0;if(Re=TE(je,Re),Re!==null){as=S,r.cancelPendingCommit=Re(qb.bind(null,r,o,S,c,g,x,P,U,ee,we,je,null,ye,xe)),Hs(r,S,P,!me);return}}qb(r,o,S,c,g,x,P,U,ee)}function H6(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var g=0;g<c.length;g++){var x=c[g],S=x.getSnapshot;x=x.value;try{if(!vn(S(),x))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hs(r,o,c,g){o&=~Sp,o&=~Ya,r.suspendedLanes|=o,r.pingedLanes&=~o,g&&(r.warmLanes|=o),g=r.expirationTimes;for(var x=o;0<x;){var S=31-_t(x),P=1<<S;g[S]=-1,x&=~P}c!==0&&gd(r,c,o)}function vh(){return(yt&6)===0?(qu(0),!1):!0}function Tp(){if(at!==null){if(wt===0)var r=at.return;else r=at,nr=Cr=null,Hm(r),Zo=null,Tu=0,r=at;for(;r!==null;)pb(r.alternate,r),r=r.return;at=null}}function tl(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,cE(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),as=0,Tp(),At=r,at=c=zi(r.current,null),ut=o,wt=0,bi=null,Bs=!1,Jo=pa(r,o),wp=!1,Qo=xi=Sp=Ya=Us=Wt=0,ii=Hu=null,Cp=!1,(o&8)!==0&&(o|=o&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=o;0<g;){var x=31-_t(g),S=1<<x;o|=r[x],g&=~S}return ss=o,Da(),c}function Ib(r,o){Qe=null,H.H=Ru,o===Ho||o===Gd?(o=tv(),wt=3):o===Lm?(o=tv(),wt=4):wt=o===ap?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,bi=o,at===null&&(Wt=1,oh(r,p(o,r.current)))}function Bb(){var r=yi.current;return r===null?!0:(ut&4194048)===ut?Ii===null:(ut&62914560)===ut||(ut&536870912)!==0?r===Ii:!1}function Ub(){var r=H.H;return H.H=Ru,r===null?Ru:r}function Fb(){var r=H.A;return H.A=F6,r}function bh(){Wt=4,Bs||(ut&4194048)!==ut&&yi.current!==null||(Jo=!0),(Us&134217727)===0&&(Ya&134217727)===0||At===null||Hs(At,ut,xi,!1)}function kp(r,o,c){var g=yt;yt|=2;var x=Ub(),S=Fb();(At!==r||ut!==o)&&(yh=null,tl(r,o)),o=!1;var P=Wt;e:do try{if(wt!==0&&at!==null){var U=at,ee=bi;switch(wt){case 8:Tp(),P=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(o=!0);var me=wt;if(wt=0,bi=null,nl(r,U,ee,me),c&&Jo){P=0;break e}break;default:me=wt,wt=0,bi=null,nl(r,U,ee,me)}}Z6(),P=Wt;break}catch(we){Ib(r,we)}while(!0);return o&&r.shellSuspendCounter++,nr=Cr=null,yt=g,H.H=x,H.A=S,at===null&&(At=null,ut=0,Da()),P}function Z6(){for(;at!==null;)Vb(at)}function q6(r,o){var c=yt;yt|=2;var g=Ub(),x=Fb();At!==r||ut!==o?(yh=null,gh=_n()+500,tl(r,o)):Jo=pa(r,o);e:do try{if(wt!==0&&at!==null){o=at;var S=bi;t:switch(wt){case 1:wt=0,bi=null,nl(r,o,S,1);break;case 2:case 9:if(Q1(S)){wt=0,bi=null,Hb(o);break}o=function(){wt!==2&&wt!==9||At!==r||(wt=7),jr(r)},S.then(o,o);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Q1(S)?(wt=0,bi=null,Hb(o)):(wt=0,bi=null,nl(r,o,S,7));break;case 5:var P=null;switch(at.tag){case 26:P=at.memoizedState;case 5:case 27:var U=at;if(P?kx(P):U.stateNode.complete){wt=0,bi=null;var ee=U.sibling;if(ee!==null)at=ee;else{var me=U.return;me!==null?(at=me,xh(me)):at=null}break t}}wt=0,bi=null,nl(r,o,S,5);break;case 6:wt=0,bi=null,nl(r,o,S,6);break;case 8:Tp(),Wt=6;break e;default:throw Error(i(462))}}G6();break}catch(we){Ib(r,we)}while(!0);return nr=Cr=null,H.H=g,H.A=x,yt=c,at!==null?0:(At=null,ut=0,Da(),Wt)}function G6(){for(;at!==null&&!di();)Vb(at)}function Vb(r){var o=fb(r.alternate,r,ss);r.memoizedProps=r.pendingProps,o===null?xh(r):at=o}function Hb(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=ob(c,o,o.pendingProps,o.type,void 0,ut);break;case 11:o=ob(c,o,o.pendingProps,o.type.render,o.ref,ut);break;case 5:Hm(o);default:pb(c,o),o=at=_u(o,ss),o=fb(c,o,ss)}r.memoizedProps=r.pendingProps,o===null?xh(r):at=o}function nl(r,o,c,g){nr=Cr=null,Hm(o),Zo=null,Tu=0;var x=o.return;try{if(O6(r,x,o,c,ut)){Wt=1,oh(r,p(c,r.current)),at=null;return}}catch(S){if(x!==null)throw at=x,S;Wt=1,oh(r,p(c,r.current)),at=null;return}o.flags&32768?(st||g===1?r=!0:Jo||(ut&536870912)!==0?r=!1:(Bs=r=!0,(g===2||g===9||g===3||g===6)&&(g=yi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Zb(o,r)):xh(o)}function xh(r){var o=r;do{if((o.flags&32768)!==0){Zb(o,Bs);return}r=o.return;var c=z6(o.alternate,o,ss);if(c!==null){at=c;return}if(o=o.sibling,o!==null){at=o;return}at=o=r}while(o!==null);Wt===0&&(Wt=5)}function Zb(r,o){do{var c=I6(r.alternate,r);if(c!==null){c.flags&=32767,at=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){at=r;return}at=r=c}while(r!==null);Wt=6,at=null}function qb(r,o,c,g,x,S,P,U,ee){r.cancelPendingCommit=null;do _h();while(mn!==0);if((yt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(S=o.lanes|o.childLanes,S|=Do,dm(r,c,S,P,U,ee),r===At&&(at=At=null,ut=0),el=o,Vs=r,as=c,Ep=S,jp=x,Ob=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,X6(Ve,function(){return Xb(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,x=Y.p,Y.p=2,P=yt,yt|=4;try{B6(r,o,c)}finally{yt=P,Y.p=x,H.T=g}}mn=1,Gb(),Kb(),Wb()}}function Gb(){if(mn===1){mn=0;var r=Vs,o=el,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var g=Y.p;Y.p=2;var x=yt;yt|=4;try{Nb(o,r);var S=Up,P=La(r.containerInfo),U=S.focusedElem,ee=S.selectionRange;if(P!==U&&U&&U.ownerDocument&&Mo(U.ownerDocument.documentElement,U)){if(ee!==null&&yr(U)){var me=ee.start,we=ee.end;if(we===void 0&&(we=me),"selectionStart"in U)U.selectionStart=me,U.selectionEnd=Math.min(we,U.value.length);else{var je=U.ownerDocument||document,ye=je&&je.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),Re=U.textContent.length,He=Math.min(ee.start,Re),Nt=ee.end===void 0?He:Math.min(ee.end,Re);!xe.extend&&He>Nt&&(P=Nt,Nt=He,He=P);var oe=Aa(U,He),re=Aa(U,Nt);if(oe&&re&&(xe.rangeCount!==1||xe.anchorNode!==oe.node||xe.anchorOffset!==oe.offset||xe.focusNode!==re.node||xe.focusOffset!==re.offset)){var he=je.createRange();he.setStart(oe.node,oe.offset),xe.removeAllRanges(),He>Nt?(xe.addRange(he),xe.extend(re.node,re.offset)):(he.setEnd(re.node,re.offset),xe.addRange(he))}}}}for(je=[],xe=U;xe=xe.parentNode;)xe.nodeType===1&&je.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<je.length;U++){var Ce=je[U];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Mh=!!Bp,Up=Bp=null}finally{yt=x,Y.p=g,H.T=c}}r.current=o,mn=2}}function Kb(){if(mn===2){mn=0;var r=Vs,o=el,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var g=Y.p;Y.p=2;var x=yt;yt|=4;try{wb(r,o.alternate,o)}finally{yt=x,Y.p=g,H.T=c}}mn=3}}function Wb(){if(mn===4||mn===3){mn=0,Dr();var r=Vs,o=el,c=as,g=Ob;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?mn=5:(mn=0,el=Vs=null,Yb(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(Fs=null),ze(c),o=o.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(gn,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=H.T,x=Y.p,Y.p=2,H.T=null;try{for(var S=r.onRecoverableError,P=0;P<g.length;P++){var U=g[P];S(U.value,{componentStack:U.stack})}}finally{H.T=o,Y.p=x}}(as&3)!==0&&_h(),jr(r),x=r.pendingLanes,(c&261930)!==0&&(x&42)!==0?r===Np?Zu++:(Zu=0,Np=r):Zu=0,qu(0)}}function Yb(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,ju(o)))}function _h(){return Gb(),Kb(),Wb(),Xb()}function Xb(){if(mn!==5)return!1;var r=Vs,o=Ep;Ep=0;var c=ze(as),g=H.T,x=Y.p;try{Y.p=32>c?32:c,H.T=null,c=jp,jp=null;var S=Vs,P=as;if(mn=0,el=Vs=null,as=0,(yt&6)!==0)throw Error(i(331));var U=yt;if(yt|=4,Lb(S.current),kb(S,S.current,P,c),yt=U,qu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(gn,S)}catch{}return!0}finally{Y.p=x,H.T=g,Yb(r,o)}}function Jb(r,o,c){o=p(c,o),o=sp(r.stateNode,o,2),r=Rs(r,o,2),r!==null&&(Ir(r,2),jr(r))}function St(r,o,c){if(r.tag===3)Jb(r,r,c);else for(;o!==null;){if(o.tag===3){Jb(o,r,c);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Fs===null||!Fs.has(g))){r=p(c,r),c=Qv(2),g=Rs(o,c,2),g!==null&&(eb(c,g,o,r),Ir(g,2),jr(g));break}}o=o.return}}function $p(r,o,c){var g=r.pingCache;if(g===null){g=r.pingCache=new V6;var x=new Set;g.set(o,x)}else x=g.get(o),x===void 0&&(x=new Set,g.set(o,x));x.has(c)||(wp=!0,x.add(c),r=K6.bind(null,r,o,c),o.then(r,r))}function K6(r,o,c){var g=r.pingCache;g!==null&&g.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,At===r&&(ut&c)===c&&(Wt===4||Wt===3&&(ut&62914560)===ut&&300>_n()-ph?(yt&2)===0&&tl(r,0):Sp|=c,Qo===ut&&(Qo=0)),jr(r)}function Qb(r,o){o===0&&(o=pd()),r=Di(r,o),r!==null&&(Ir(r,o),jr(r))}function W6(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),Qb(r,c)}function Y6(r,o){var c=0;switch(r.tag){case 31:case 13:var g=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),Qb(r,c)}function X6(r,o){return kt(r,o)}var wh=null,il=null,Ap=!1,Sh=!1,Lp=!1,Zs=0;function jr(r){r!==il&&r.next===null&&(il===null?wh=il=r:il=il.next=r),Sh=!0,Ap||(Ap=!0,Q6())}function qu(r,o){if(!Lp&&Sh){Lp=!0;do for(var c=!1,g=wh;g!==null;){if(r!==0){var x=g.pendingLanes;if(x===0)var S=0;else{var P=g.suspendedLanes,U=g.pingedLanes;S=(1<<31-_t(42|r)+1)-1,S&=x&~(P&~U),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,ix(g,S))}else S=ut,S=_o(g,g===At?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||pa(g,S)||(c=!0,ix(g,S));g=g.next}while(c);Lp=!1}}function J6(){ex()}function ex(){Sh=Ap=!1;var r=0;Zs!==0&&uE()&&(r=Zs);for(var o=_n(),c=null,g=wh;g!==null;){var x=g.next,S=tx(g,o);S===0?(g.next=null,c===null?wh=x:c.next=x,x===null&&(il=c)):(c=g,(r!==0||(S&3)!==0)&&(Sh=!0)),g=x}mn!==0&&mn!==5||qu(r),Zs!==0&&(Zs=0)}function tx(r,o){for(var c=r.suspendedLanes,g=r.pingedLanes,x=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var P=31-_t(S),U=1<<P,ee=x[P];ee===-1?((U&c)===0||(U&g)!==0)&&(x[P]=cm(U,o)):ee<=o&&(r.expiredLanes|=U),S&=~U}if(o=At,c=ut,c=_o(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,c===0||r===o&&(wt===2||wt===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&dn(g),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||pa(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(g!==null&&dn(g),ze(c)){case 2:case 8:c=Ae;break;case 32:c=Ve;break;case 268435456:c=ht;break;default:c=Ve}return g=nx.bind(null,r),c=kt(c,g),r.callbackPriority=o,r.callbackNode=c,o}return g!==null&&g!==null&&dn(g),r.callbackPriority=2,r.callbackNode=null,2}function nx(r,o){if(mn!==0&&mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(_h()&&r.callbackNode!==c)return null;var g=ut;return g=_o(r,r===At?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(Db(r,g,o),tx(r,_n()),r.callbackNode!=null&&r.callbackNode===c?nx.bind(null,r):null)}function ix(r,o){if(_h())return null;Db(r,o,!0)}function Q6(){dE(function(){(yt&6)!==0?kt(Se,J6):ex()})}function Mp(){if(Zs===0){var r=Fo;r===0&&(r=ha,ha<<=1,(ha&261888)===0&&(ha=256)),Zs=r}return Zs}function rx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:xs(""+r)}function sx(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function eE(r,o,c,g,x){if(o==="submit"&&c&&c.stateNode===x){var S=rx((x[yn]||null).action),P=g.submitter;P&&(o=(o=P[yn]||null)?rx(o.formAction):P.getAttribute("formAction"),o!==null&&(S=o,P=null));var U=new jo("action","action",null,g,x);r.push({event:U,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Zs!==0){var ee=P?sx(x,P):new FormData(x);Qm(c,{pending:!0,data:ee,method:x.method,action:S},null,ee)}}else typeof S=="function"&&(U.preventDefault(),ee=P?sx(x,P):new FormData(x),Qm(c,{pending:!0,data:ee,method:x.method,action:S},S,ee))},currentTarget:x}]})}}for(var Pp=0;Pp<xr.length;Pp++){var Op=xr[Pp],tE=Op.toLowerCase(),nE=Op[0].toUpperCase()+Op.slice(1);Xn(tE,"on"+nE)}Xn(Pa,"onAnimationEnd"),Xn(Ud,"onAnimationIteration"),Xn(Oa,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Cm,"onTransitionRun"),Xn(Fd,"onTransitionStart"),Xn(Em,"onTransitionCancel"),Xn(As,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function ax(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var g=r[c],x=g.event;g=g.listeners;e:{var S=void 0;if(o)for(var P=g.length-1;0<=P;P--){var U=g[P],ee=U.instance,me=U.currentTarget;if(U=U.listener,ee!==S&&x.isPropagationStopped())break e;S=U,x.currentTarget=me;try{S(x)}catch(we){Ra(we)}x.currentTarget=null,S=ee}else for(P=0;P<g.length;P++){if(U=g[P],ee=U.instance,me=U.currentTarget,U=U.listener,ee!==S&&x.isPropagationStopped())break e;S=U,x.currentTarget=me;try{S(x)}catch(we){Ra(we)}x.currentTarget=null,S=ee}}}}function ot(r,o){var c=o[dr];c===void 0&&(c=o[dr]=new Set);var g=r+"__bubble";c.has(g)||(ox(o,r,2,!1),c.add(g))}function Rp(r,o,c){var g=0;o&&(g|=4),ox(c,r,g,o)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Dp(r){if(!r[Ch]){r[Ch]=!0,_d.forEach(function(c){c!=="selectionchange"&&(iE.has(c)||Rp(c,!1,r),Rp(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Ch]||(o[Ch]=!0,Rp("selectionchange",!1,o))}}function ox(r,o,c,g){switch(Rx(o)){case 2:var x=AE;break;case 8:x=LE;break;default:x=Jp}c=x.bind(null,o,c,r),x=void 0,!wa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),g?x!==void 0?r.addEventListener(o,c,{capture:!0,passive:x}):r.addEventListener(o,c,!0):x!==void 0?r.addEventListener(o,c,{passive:x}):r.addEventListener(o,c,!1)}function zp(r,o,c,g,x){var S=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var U=g.stateNode.containerInfo;if(U===x)break;if(P===4)for(P=g.return;P!==null;){var ee=P.tag;if((ee===3||ee===4)&&P.stateNode.containerInfo===x)return;P=P.return}for(;U!==null;){if(P=Ur(U),P===null)return;if(ee=P.tag,ee===5||ee===6||ee===26||ee===27){g=S=P;continue e}U=U.parentNode}}g=g.return}cu(function(){var me=S,we=_a(c),je=[];e:{var ye=Vd.get(r);if(ye!==void 0){var xe=jo,Re=r;switch(r){case"keypress":if(Sa(c)===0)break e;case"keydown":case"keyup":xe=kd;break;case"focusin":Re="focus",xe=fu;break;case"focusout":Re="blur",xe=fu;break;case"beforeblur":case"afterblur":xe=fu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=vm;break;case Pa:case Ud:case Oa:xe=mu;break;case As:xe=Ld;break;case"scroll":case"scrollend":xe=lt;break;case"wheel":xe=qr;break;case"copy":case"cut":case"paste":xe=Mi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=$d;break;case"toggle":case"beforetoggle":xe=ja}var He=(o&4)!==0,Nt=!He&&(r==="scroll"||r==="scrollend"),oe=He?ye!==null?ye+"Capture":null:ye;He=[];for(var re=me,he;re!==null;){var Ce=re;if(he=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||he===null||oe===null||(Ce=Hr(re,oe),Ce!=null&&He.push(Ku(re,Ce,he))),Nt)break;re=re.return}0<He.length&&(ye=new xe(ye,Re,null,c,we),je.push({event:ye,listeners:He}))}}if((o&7)===0){e:{if(ye=r==="mouseover"||r==="pointerover",xe=r==="mouseout"||r==="pointerout",ye&&c!==Eo&&(Re=c.relatedTarget||c.fromElement)&&(Ur(Re)||Re[Br]))break e;if((xe||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(Re=c.relatedTarget||c.toElement,xe=me,Re=Re?Ur(Re):null,Re!==null&&(Nt=a(Re),He=Re.tag,Re!==Nt||He!==5&&He!==27&&He!==6)&&(Re=null)):(xe=null,Re=me),xe!==Re)){if(He=Cd,Ce="onMouseLeave",oe="onMouseEnter",re="mouse",(r==="pointerout"||r==="pointerover")&&(He=$d,Ce="onPointerLeave",oe="onPointerEnter",re="pointer"),Nt=xe==null?ye:hr(xe),he=Re==null?ye:hr(Re),ye=new He(Ce,re+"leave",xe,c,we),ye.target=Nt,ye.relatedTarget=he,Ce=null,Ur(we)===me&&(He=new He(oe,re+"enter",Re,c,we),He.target=he,He.relatedTarget=Nt,Ce=He),Nt=Ce,xe&&Re)t:{for(He=rE,oe=xe,re=Re,he=0,Ce=oe;Ce;Ce=He(Ce))he++;Ce=0;for(var Fe=re;Fe;Fe=He(Fe))Ce++;for(;0<he-Ce;)oe=He(oe),he--;for(;0<Ce-he;)re=He(re),Ce--;for(;he--;){if(oe===re||re!==null&&oe===re.alternate){He=oe;break t}oe=He(oe),re=He(re)}He=null}else He=null;xe!==null&&lx(je,ye,xe,He,!1),Re!==null&&Nt!==null&&lx(je,Nt,Re,He,!0)}}e:{if(ye=me?hr(me):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var pt=$a;else if(Pi(ye))if(Rd)pt=Sm;else{pt=wm;var De=Qi}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?me&&xa(me.elementType)&&(pt=$a):pt=Ns;if(pt&&(pt=pt(r,me))){Od(je,pt,c,we);break e}De&&De(r,ye,me),r==="focusout"&&me&&ye.type==="number"&&me.memoizedProps.value!=null&&Yi(ye,"number",ye.value)}switch(De=me?hr(me):window,r){case"focusin":(Pi(De)||De.contentEditable==="true")&&(vr=De,Oo=me,Ma=null);break;case"focusout":Ma=Oo=vr=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,Id(je,c,we);break;case"selectionchange":if(Po)break;case"keydown":case"keyup":Id(je,c,we)}var tt;if(To)e:{switch(r){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Cs?Pd(r,c)&&(ct="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ct="onCompositionStart");ct&&(ko&&c.locale!=="ko"&&(Cs||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Cs&&(tt=pr()):(Li=we,Zr="value"in Li?Li.value:Li.textContent,Cs=!0)),De=Eh(me,ct),0<De.length&&(ct=new pu(ct,r,null,c,we),je.push({event:ct,listeners:De}),tt?ct.data=tt:(tt=bu(c),tt!==null&&(ct.data=tt)))),(tt=xm?gi(r,c):Es(r,c))&&(ct=Eh(me,"onBeforeInput"),0<ct.length&&(De=new pu("onBeforeInput","beforeinput",null,c,we),je.push({event:De,listeners:ct}),De.data=tt)),eE(je,r,me,c,we)}ax(je,o)})}function Ku(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Eh(r,o){for(var c=o+"Capture",g=[];r!==null;){var x=r,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Hr(r,c),x!=null&&g.unshift(Ku(r,x,S)),x=Hr(r,o),x!=null&&g.push(Ku(r,x,S))),r.tag===3)return g;r=r.return}return[]}function rE(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lx(r,o,c,g,x){for(var S=o._reactName,P=[];c!==null&&c!==g;){var U=c,ee=U.alternate,me=U.stateNode;if(U=U.tag,ee!==null&&ee===g)break;U!==5&&U!==26&&U!==27||me===null||(ee=me,x?(me=Hr(c,S),me!=null&&P.unshift(Ku(c,me,ee))):x||(me=Hr(c,S),me!=null&&P.push(Ku(c,me,ee)))),c=c.return}P.length!==0&&r.push({event:o,listeners:P})}var sE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function ux(r){return(typeof r=="string"?r:""+r).replace(sE,`
`).replace(aE,"")}function cx(r,o){return o=ux(o),ux(r)===o}function jt(r,o,c,g,x,S){switch(c){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||Ai(r,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&Ai(r,""+g);break;case"className":Ct(r,"class",g);break;case"tabIndex":Ct(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ct(r,c,g);break;case"style":So(r,g,S);break;case"data":if(o!=="object"){Ct(r,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(c);break}g=xs(""+g),r.setAttribute(c,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(o!=="input"&&jt(r,o,"name",x.name,x,null),jt(r,o,"formEncType",x.formEncType,x,null),jt(r,o,"formMethod",x.formMethod,x,null),jt(r,o,"formTarget",x.formTarget,x,null)):(jt(r,o,"encType",x.encType,x,null),jt(r,o,"method",x.method,x,null),jt(r,o,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(c);break}g=xs(""+g),r.setAttribute(c,g);break;case"onClick":g!=null&&(r.onclick=Wn);break;case"onScroll":g!=null&&ot("scroll",r);break;case"onScrollEnd":g!=null&&ot("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(c=g.__html,c!=null){if(x.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}c=xs(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(c,""+g):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":g===!0?r.setAttribute(c,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(c,g):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(c,g):r.removeAttribute(c);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(c):r.setAttribute(c,g);break;case"popover":ot("beforetoggle",r),ot("toggle",r),rt(r,"popover",g);break;case"xlinkActuate":Kn(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Kn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Kn(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Kn(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Kn(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Kn(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Kn(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Kn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Kn(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":rt(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Co.get(c)||c,rt(r,c,g))}}function Ip(r,o,c,g,x,S){switch(c){case"style":So(r,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(c=g.__html,c!=null){if(x.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof g=="string"?Ai(r,g):(typeof g=="number"||typeof g=="bigint")&&Ai(r,""+g);break;case"onScroll":g!=null&&ot("scroll",r);break;case"onScrollEnd":g!=null&&ot("scrollend",r);break;case"onClick":g!=null&&(r.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),o=c.slice(2,x?c.length-7:void 0),S=r[yn]||null,S=S!=null?S[c]:null,typeof S=="function"&&r.removeEventListener(o,S,x),typeof g=="function")){typeof S!="function"&&S!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,g,x);break e}c in r?r[c]=g:g===!0?r.setAttribute(c,""):rt(r,c,g)}}}function jn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",r),ot("load",r);var g=!1,x=!1,S;for(S in c)if(c.hasOwnProperty(S)){var P=c[S];if(P!=null)switch(S){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jt(r,o,S,P,c,null)}}x&&jt(r,o,"srcSet",c.srcSet,c,null),g&&jt(r,o,"src",c.src,c,null);return;case"input":ot("invalid",r);var U=S=P=x=null,ee=null,me=null;for(g in c)if(c.hasOwnProperty(g)){var we=c[g];if(we!=null)switch(g){case"name":x=we;break;case"type":P=we;break;case"checked":ee=we;break;case"defaultChecked":me=we;break;case"value":S=we;break;case"defaultValue":U=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,o));break;default:jt(r,o,g,we,c,null)}}ba(r,S,U,ee,me,P,x,!1);return;case"select":ot("invalid",r),g=P=S=null;for(x in c)if(c.hasOwnProperty(x)&&(U=c[x],U!=null))switch(x){case"value":S=U;break;case"defaultValue":P=U;break;case"multiple":g=U;default:jt(r,o,x,U,c,null)}o=S,c=P,r.multiple=!!g,o!=null?$t(r,!!g,o,!1):c!=null&&$t(r,!!g,c,!0);return;case"textarea":ot("invalid",r),S=x=g=null;for(P in c)if(c.hasOwnProperty(P)&&(U=c[P],U!=null))switch(P){case"value":g=U;break;case"defaultValue":x=U;break;case"children":S=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:jt(r,o,P,U,c,null)}vs(r,g,x,S);return;case"option":for(ee in c)if(c.hasOwnProperty(ee)&&(g=c[ee],g!=null))switch(ee){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:jt(r,o,ee,g,c,null)}return;case"dialog":ot("beforetoggle",r),ot("toggle",r),ot("cancel",r),ot("close",r);break;case"iframe":case"object":ot("load",r);break;case"video":case"audio":for(g=0;g<Gu.length;g++)ot(Gu[g],r);break;case"image":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"embed":case"source":case"link":ot("error",r),ot("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in c)if(c.hasOwnProperty(me)&&(g=c[me],g!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jt(r,o,me,g,c,null)}return;default:if(xa(o)){for(we in c)c.hasOwnProperty(we)&&(g=c[we],g!==void 0&&Ip(r,o,we,g,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(g=c[U],g!=null&&jt(r,o,U,g,c,null))}function oE(r,o,c,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,P=null,U=null,ee=null,me=null,we=null;for(xe in c){var je=c[xe];if(c.hasOwnProperty(xe)&&je!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":ee=je;default:g.hasOwnProperty(xe)||jt(r,o,xe,null,g,je)}}for(var ye in g){var xe=g[ye];if(je=c[ye],g.hasOwnProperty(ye)&&(xe!=null||je!=null))switch(ye){case"type":S=xe;break;case"name":x=xe;break;case"checked":me=xe;break;case"defaultChecked":we=xe;break;case"value":P=xe;break;case"defaultValue":U=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,o));break;default:xe!==je&&jt(r,o,ye,xe,g,je)}}ou(r,P,U,ee,me,we,S,x);return;case"select":xe=P=U=ye=null;for(S in c)if(ee=c[S],c.hasOwnProperty(S)&&ee!=null)switch(S){case"value":break;case"multiple":xe=ee;default:g.hasOwnProperty(S)||jt(r,o,S,null,g,ee)}for(x in g)if(S=g[x],ee=c[x],g.hasOwnProperty(x)&&(S!=null||ee!=null))switch(x){case"value":ye=S;break;case"defaultValue":U=S;break;case"multiple":P=S;default:S!==ee&&jt(r,o,x,S,g,ee)}o=U,c=P,g=xe,ye!=null?$t(r,!!c,ye,!1):!!g!=!!c&&(o!=null?$t(r,!!c,o,!0):$t(r,!!c,c?[]:"",!1));return;case"textarea":xe=ye=null;for(U in c)if(x=c[U],c.hasOwnProperty(U)&&x!=null&&!g.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:jt(r,o,U,null,g,x)}for(P in g)if(x=g[P],S=c[P],g.hasOwnProperty(P)&&(x!=null||S!=null))switch(P){case"value":ye=x;break;case"defaultValue":xe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==S&&jt(r,o,P,x,g,S)}mr(r,ye,xe);return;case"option":for(var Re in c)if(ye=c[Re],c.hasOwnProperty(Re)&&ye!=null&&!g.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:jt(r,o,Re,null,g,ye)}for(ee in g)if(ye=g[ee],xe=c[ee],g.hasOwnProperty(ee)&&ye!==xe&&(ye!=null||xe!=null))switch(ee){case"selected":r.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:jt(r,o,ee,ye,g,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in c)ye=c[He],c.hasOwnProperty(He)&&ye!=null&&!g.hasOwnProperty(He)&&jt(r,o,He,null,g,ye);for(me in g)if(ye=g[me],xe=c[me],g.hasOwnProperty(me)&&ye!==xe&&(ye!=null||xe!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,o));break;default:jt(r,o,me,ye,g,xe)}return;default:if(xa(o)){for(var Nt in c)ye=c[Nt],c.hasOwnProperty(Nt)&&ye!==void 0&&!g.hasOwnProperty(Nt)&&Ip(r,o,Nt,void 0,g,ye);for(we in g)ye=g[we],xe=c[we],!g.hasOwnProperty(we)||ye===xe||ye===void 0&&xe===void 0||Ip(r,o,we,ye,g,xe);return}}for(var oe in c)ye=c[oe],c.hasOwnProperty(oe)&&ye!=null&&!g.hasOwnProperty(oe)&&jt(r,o,oe,null,g,ye);for(je in g)ye=g[je],xe=c[je],!g.hasOwnProperty(je)||ye===xe||ye==null&&xe==null||jt(r,o,je,ye,g,xe)}function dx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lE(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,c=performance.getEntriesByType("resource"),g=0;g<c.length;g++){var x=c[g],S=x.transferSize,P=x.initiatorType,U=x.duration;if(S&&U&&dx(P)){for(P=0,U=x.responseEnd,g+=1;g<c.length;g++){var ee=c[g],me=ee.startTime;if(me>U)break;var we=ee.transferSize,je=ee.initiatorType;we&&dx(je)&&(ee=ee.responseEnd,P+=we*(ee<U?1:(U-me)/(ee-me)))}if(--g,o+=8*(S+P)/(x.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Bp=null,Up=null;function jh(r){return r.nodeType===9?r:r.ownerDocument}function hx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Fp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vp=null;function uE(){var r=window.event;return r&&r.type==="popstate"?r===Vp?!1:(Vp=r,!0):(Vp=null,!1)}var mx=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(r){return px.resolve(null).then(r).catch(hE)}:mx;function hE(r){setTimeout(function(){throw r})}function qs(r){return r==="head"}function gx(r,o){var c=o,g=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(g===0){r.removeChild(x),ol(o);return}g--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")g++;else if(c==="html")Wu(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Wu(c);for(var S=c.firstChild;S;){var P=S.nextSibling,U=S.nodeName;S[ga]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=P}}else c==="body"&&Wu(r.ownerDocument.body);c=x}while(c);ol(o)}function yx(r,o){var c=r;r=0;do{var g=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=g}while(c)}function Hp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Hp(c),iu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function fE(r,o,c,g){for(;r.nodeType===1;){var x=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[ga])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=Bi(r.nextSibling),r===null)break}return null}function mE(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Bi(r.nextSibling),r===null))return null;return r}function vx(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Bi(r.nextSibling),r===null))return null;return r}function Zp(r){return r.data==="$?"||r.data==="$~"}function qp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function pE(r,o){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||c.readyState!=="loading")o();else{var g=function(){o(),c.removeEventListener("DOMContentLoaded",g)};c.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function Bi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Gp=null;function bx(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(o===0)return Bi(r.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}r=r.nextSibling}return null}function xx(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return r;o--}else c!=="/$"&&c!=="/&"||o++}r=r.previousSibling}return null}function _x(r,o,c){switch(o=jh(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Wu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);iu(r)}var Ui=new Map,wx=new Set;function Nh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var os=Y.d;Y.d={f:gE,r:yE,D:vE,C:bE,L:xE,m:_E,X:SE,S:wE,M:CE};function gE(){var r=os.f(),o=vh();return r||o}function yE(r){var o=ps(r);o!==null&&o.tag===5&&o.type==="form"?Iv(o):os.r(r)}var rl=typeof document>"u"?null:document;function Sx(r,o,c){var g=rl;if(g&&typeof o=="string"&&o){var x=Rt(o);x='link[rel="'+r+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),wx.has(x)||(wx.add(x),r={rel:r,crossOrigin:c,href:o},g.querySelector(x)===null&&(o=g.createElement("link"),jn(o,"link",r),nn(o),g.head.appendChild(o)))}}function vE(r){os.D(r),Sx("dns-prefetch",r,null)}function bE(r,o){os.C(r,o),Sx("preconnect",r,o)}function xE(r,o,c){os.L(r,o,c);var g=rl;if(g&&r&&o){var x='link[rel="preload"][as="'+Rt(o)+'"]';o==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Rt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Rt(c.imageSizes)+'"]')):x+='[href="'+Rt(r)+'"]';var S=x;switch(o){case"style":S=sl(r);break;case"script":S=al(r)}Ui.has(S)||(r=v({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Ui.set(S,r),g.querySelector(x)!==null||o==="style"&&g.querySelector(Yu(S))||o==="script"&&g.querySelector(Xu(S))||(o=g.createElement("link"),jn(o,"link",r),nn(o),g.head.appendChild(o)))}}function _E(r,o){os.m(r,o);var c=rl;if(c&&r){var g=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Rt(g)+'"][href="'+Rt(r)+'"]',S=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=al(r)}if(!Ui.has(S)&&(r=v({rel:"modulepreload",href:r},o),Ui.set(S,r),c.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xu(S)))return}g=c.createElement("link"),jn(g,"link",r),nn(g),c.head.appendChild(g)}}}function wE(r,o,c){os.S(r,o,c);var g=rl;if(g&&r){var x=gs(g).hoistableStyles,S=sl(r);o=o||"default";var P=x.get(S);if(!P){var U={loading:0,preload:null};if(P=g.querySelector(Yu(S)))U.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Ui.get(S))&&Kp(r,c);var ee=P=g.createElement("link");nn(ee),jn(ee,"link",r),ee._p=new Promise(function(me,we){ee.onload=me,ee.onerror=we}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Th(P,o,g)}P={type:"stylesheet",instance:P,count:1,state:U},x.set(S,P)}}}function SE(r,o){os.X(r,o);var c=rl;if(c&&r){var g=gs(c).hoistableScripts,x=al(r),S=g.get(x);S||(S=c.querySelector(Xu(x)),S||(r=v({src:r,async:!0},o),(o=Ui.get(x))&&Wp(r,o),S=c.createElement("script"),nn(S),jn(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function CE(r,o){os.M(r,o);var c=rl;if(c&&r){var g=gs(c).hoistableScripts,x=al(r),S=g.get(x);S||(S=c.querySelector(Xu(x)),S||(r=v({src:r,async:!0,type:"module"},o),(o=Ui.get(x))&&Wp(r,o),S=c.createElement("script"),nn(S),jn(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function Cx(r,o,c,g){var x=(x=ve.current)?Nh(x):null;if(!x)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=sl(c.href),c=gs(x).hoistableStyles,g=c.get(o),g||(g={type:"style",instance:null,count:0,state:null},c.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=sl(c.href);var S=gs(x).hoistableStyles,P=S.get(r);if(P||(x=x.ownerDocument||x,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,P),(S=x.querySelector(Yu(r)))&&!S._p&&(P.instance=S,P.state.loading=5),Ui.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ui.set(r,c),S||EE(x,r,c,P.state))),o&&g===null)throw Error(i(528,""));return P}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=al(c),c=gs(x).hoistableScripts,g=c.get(o),g||(g={type:"script",instance:null,count:0,state:null},c.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function sl(r){return'href="'+Rt(r)+'"'}function Yu(r){return'link[rel="stylesheet"]['+r+"]"}function Ex(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function EE(r,o,c,g){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=r.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),jn(o,"link",c),nn(o),r.head.appendChild(o))}function al(r){return'[src="'+Rt(r)+'"]'}function Xu(r){return"script[async]"+r}function jx(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var g=r.querySelector('style[data-href~="'+Rt(c.href)+'"]');if(g)return o.instance=g,nn(g),g;var x=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),nn(g),jn(g,"style",x),Th(g,c.precedence,r),o.instance=g;case"stylesheet":x=sl(c.href);var S=r.querySelector(Yu(x));if(S)return o.state.loading|=4,o.instance=S,nn(S),S;g=Ex(c),(x=Ui.get(x))&&Kp(g,x),S=(r.ownerDocument||r).createElement("link"),nn(S);var P=S;return P._p=new Promise(function(U,ee){P.onload=U,P.onerror=ee}),jn(S,"link",g),o.state.loading|=4,Th(S,c.precedence,r),o.instance=S;case"script":return S=al(c.src),(x=r.querySelector(Xu(S)))?(o.instance=x,nn(x),x):(g=c,(x=Ui.get(S))&&(g=v({},c),Wp(g,x)),r=r.ownerDocument||r,x=r.createElement("script"),nn(x),jn(x,"link",g),r.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,Th(g,c.precedence,r));return o.instance}function Th(r,o,c){for(var g=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,S=x,P=0;P<g.length;P++){var U=g[P];if(U.dataset.precedence===o)S=U;else if(S!==x)break}S?S.parentNode.insertBefore(r,S.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Kp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Wp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var kh=null;function Nx(r,o,c){if(kh===null){var g=new Map,x=kh=new Map;x.set(c,g)}else x=kh,g=x.get(c),g||(g=new Map,x.set(c,g));if(g.has(r))return g;for(g.set(r,null),c=c.getElementsByTagName(r),x=0;x<c.length;x++){var S=c[x];if(!(S[ga]||S[tn]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var P=S.getAttribute(o)||"";P=r+P;var U=g.get(P);U?U.push(S):g.set(P,[S])}}return g}function Tx(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function jE(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function NE(r,o,c,g){if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=sl(g.href),S=o.querySelector(Yu(x));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=$h.bind(r),o.then(r,r)),c.state.loading|=4,c.instance=S,nn(S);return}S=o.ownerDocument||o,g=Ex(g),(x=Ui.get(x))&&Kp(g,x),S=S.createElement("link"),nn(S);var P=S;P._p=new Promise(function(U,ee){P.onload=U,P.onerror=ee}),jn(S,"link",g),c.instance=S}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=$h.bind(r),o.addEventListener("load",c),o.addEventListener("error",c))}}var Yp=0;function TE(r,o){return r.stylesheets&&r.count===0&&Lh(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var g=setTimeout(function(){if(r.stylesheets&&Lh(r,r.stylesheets),r.unsuspend){var S=r.unsuspend;r.unsuspend=null,S()}},6e4+o);0<r.imgBytes&&Yp===0&&(Yp=62500*lE());var x=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Lh(r,r.stylesheets),r.unsuspend)){var S=r.unsuspend;r.unsuspend=null,S()}},(r.imgBytes>Yp?50:800)+o);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function $h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ah=null;function Lh(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ah=new Map,o.forEach(kE,r),Ah=null,$h.call(r))}function kE(r,o){if(!(o.state.loading&4)){var c=Ah.get(r);if(c)var g=c.get(null);else{c=new Map,Ah.set(r,c);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var P=x[S];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),g=P)}g&&c.set(null,g)}x=o.instance,P=x.getAttribute("data-precedence"),S=c.get(P)||g,S===g&&c.set(null,x),c.set(P,x),this.count++,g=$h.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),S?S.parentNode.insertBefore(x,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),o.state.loading|=4}}var Ju={$$typeof:$,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function $E(r,o,c,g,x,S,P,U,ee){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function $x(r,o,c,g,x,S,P,U,ee,me,we,je){return r=new $E(r,o,c,P,ee,me,we,je,U),o=1,S===!0&&(o|=24),S=Mn(3,null,null,o),r.current=S,S.stateNode=r,o=km(),o.refCount++,r.pooledCache=o,o.refCount++,S.memoizedState={element:g,isDehydrated:c,cache:o},Mm(S),r}function Ax(r){return r?(r=Gr,r):Gr}function Lx(r,o,c,g,x,S){x=Ax(x),g.context===null?g.context=x:g.pendingContext=x,g=Os(o),g.payload={element:c},S=S===void 0?null:S,S!==null&&(g.callback=S),c=Rs(r,g,o),c!==null&&(ri(c,r,o),$u(c,r,o))}function Mx(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Xp(r,o){Mx(r,o),(r=r.alternate)&&Mx(r,o)}function Px(r){if(r.tag===13||r.tag===31){var o=Di(r,67108864);o!==null&&ri(o,r,67108864),Xp(r,67108864)}}function Ox(r){if(r.tag===13||r.tag===31){var o=_i();o=Gn(o);var c=Di(r,o);c!==null&&ri(c,r,o),Xp(r,o)}}var Mh=!0;function AE(r,o,c,g){var x=H.T;H.T=null;var S=Y.p;try{Y.p=2,Jp(r,o,c,g)}finally{Y.p=S,H.T=x}}function LE(r,o,c,g){var x=H.T;H.T=null;var S=Y.p;try{Y.p=8,Jp(r,o,c,g)}finally{Y.p=S,H.T=x}}function Jp(r,o,c,g){if(Mh){var x=Qp(g);if(x===null)zp(r,o,g,Ph,c),Dx(r,g);else if(PE(x,r,o,c,g))g.stopPropagation();else if(Dx(r,g),o&4&&-1<ME.indexOf(r)){for(;x!==null;){var S=ps(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var P=zr(S.pendingLanes);if(P!==0){var U=S;for(U.pendingLanes|=2,U.entangledLanes|=2;P;){var ee=1<<31-_t(P);U.entanglements[1]|=ee,P&=~ee}jr(S),(yt&6)===0&&(gh=_n()+500,qu(0))}}break;case 31:case 13:U=Di(S,2),U!==null&&ri(U,S,2),vh(),Xp(S,2)}if(S=Qp(g),S===null&&zp(r,o,g,Ph,c),S===x)break;x=S}x!==null&&g.stopPropagation()}else zp(r,o,g,null,c)}}function Qp(r){return r=_a(r),eg(r)}var Ph=null;function eg(r){if(Ph=null,r=Ur(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===31){if(r=d(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ph=r,null}function Rx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ql()){case Se:return 2;case Ae:return 8;case Ve:case it:return 32;case ht:return 268435456;default:return 32}default:return 32}}var tg=!1,Gs=null,Ks=null,Ws=null,Qu=new Map,ec=new Map,Ys=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dx(r,o){switch(r){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Qu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(o.pointerId)}}function tc(r,o,c,g,x,S){return r===null||r.nativeEvent!==S?(r={blockedOn:o,domEventName:c,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},o!==null&&(o=ps(o),o!==null&&Px(o)),r):(r.eventSystemFlags|=g,o=r.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),r)}function PE(r,o,c,g,x){switch(o){case"focusin":return Gs=tc(Gs,r,o,c,g,x),!0;case"dragenter":return Ks=tc(Ks,r,o,c,g,x),!0;case"mouseover":return Ws=tc(Ws,r,o,c,g,x),!0;case"pointerover":var S=x.pointerId;return Qu.set(S,tc(Qu.get(S)||null,r,o,c,g,x)),!0;case"gotpointercapture":return S=x.pointerId,ec.set(S,tc(ec.get(S)||null,r,o,c,g,x)),!0}return!1}function zx(r){var o=Ur(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,nu(r.priority,function(){Ox(c)});return}}else if(o===31){if(o=d(c),o!==null){r.blockedOn=o,nu(r.priority,function(){Ox(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Oh(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Qp(r.nativeEvent);if(c===null){c=r.nativeEvent;var g=new c.constructor(c.type,c);Eo=g,c.target.dispatchEvent(g),Eo=null}else return o=ps(c),o!==null&&Px(o),r.blockedOn=c,!1;o.shift()}return!0}function Ix(r,o,c){Oh(r)&&c.delete(o)}function OE(){tg=!1,Gs!==null&&Oh(Gs)&&(Gs=null),Ks!==null&&Oh(Ks)&&(Ks=null),Ws!==null&&Oh(Ws)&&(Ws=null),Qu.forEach(Ix),ec.forEach(Ix)}function Rh(r,o){r.blockedOn===o&&(r.blockedOn=null,tg||(tg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,OE)))}var Dh=null;function Bx(r){Dh!==r&&(Dh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dh===r&&(Dh=null);for(var o=0;o<r.length;o+=3){var c=r[o],g=r[o+1],x=r[o+2];if(typeof g!="function"){if(eg(g||c)===null)continue;break}var S=ps(c);S!==null&&(r.splice(o,3),o-=3,Qm(S,{pending:!0,data:x,method:c.method,action:g},g,x))}}))}function ol(r){function o(ee){return Rh(ee,r)}Gs!==null&&Rh(Gs,r),Ks!==null&&Rh(Ks,r),Ws!==null&&Rh(Ws,r),Qu.forEach(o),ec.forEach(o);for(var c=0;c<Ys.length;c++){var g=Ys[c];g.blockedOn===r&&(g.blockedOn=null)}for(;0<Ys.length&&(c=Ys[0],c.blockedOn===null);)zx(c),c.blockedOn===null&&Ys.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(g=0;g<c.length;g+=3){var x=c[g],S=c[g+1],P=x[yn]||null;if(typeof S=="function")P||Bx(c);else if(P){var U=null;if(S&&S.hasAttribute("formAction")){if(x=S,P=S[yn]||null)U=P.formAction;else if(eg(x)!==null)continue}else U=P.action;typeof U=="function"?c[g+1]=U:(c.splice(g,3),g-=3),Bx(c)}}}function Ux(){function r(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(P){return x=P})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),g||setTimeout(c,20)}function c(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){g=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function ng(r){this._internalRoot=r}zh.prototype.render=ng.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,g=_i();Lx(c,g,r,o,null,null)},zh.prototype.unmount=ng.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Lx(r.current,2,null,r,null,null),vh(),o[Br]=null}};function zh(r){this._internalRoot=r}zh.prototype.unstable_scheduleHydration=function(r){if(r){var o=tu();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Ys.length&&o!==0&&o<Ys[c].priority;c++);Ys.splice(c,0,r),c===0&&zx(r)}};var Fx=t.version;if(Fx!=="19.2.0")throw Error(i(527,Fx,"19.2.0"));Y.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(o),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var RE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{gn=Ih.inject(RE),Ut=Ih}catch{}}return ic.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,g="",x=Wv,S=Yv,P=Xv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=$x(r,1,!1,null,null,c,g,null,x,S,P,Ux),r[Br]=o.current,Dp(r),new ng(o)},ic.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var g=!1,x="",S=Wv,P=Yv,U=Xv,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.formState!==void 0&&(ee=c.formState)),o=$x(r,1,!0,o,c??null,g,x,ee,S,P,U,Ux),o.context=Ax(null),c=o.current,g=_i(),g=Gn(g),x=Os(g),x.callback=null,Rs(c,x,g),c=g,o.current.lanes=c,Ir(o,c),jr(o),r[Br]=o.current,Dp(r),new zh(o)},ic.version="19.2.0",ic}var Jx;function GE(){if(Jx)return sg.exports;Jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sg.exports=qE(),sg.exports}var KE=GE();function Ul(){const e="/Map";return e.endsWith("/")?e:`${e}/`}function ur(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Ul();return e.startsWith("/assets/logos/")?`${t}${e.slice(1)}`:e.startsWith("logos/")?`${t}assets/logos/${e.slice(6)}`:`${t}assets/logos/${e}`}var h0=function(e,t){return h0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},h0(e,t)};function F3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");h0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mf=function(){return mf=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},mf.apply(this,arguments)};function Fl(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function V3(e,t,n,i){var s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(l=e[d])&&(a=(s<3?l(a):s>3?l(t,n,a):l(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function H3(e,t){return function(n,i){t(n,i,e)}}function Z3(e,t,n,i,s,a){function l(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var d=i.kind,f=d==="getter"?"get":d==="setter"?"set":"value",m=!t&&e?i.static?e:e.prototype:null,y=t||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),v,_=!1,w=n.length-1;w>=0;w--){var C={};for(var N in i)C[N]=N==="access"?{}:i[N];for(var N in i.access)C.access[N]=i.access[N];C.addInitializer=function(k){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(k||null))};var T=(0,n[w])(d==="accessor"?{get:y.get,set:y.set}:y[f],C);if(d==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(v=l(T.get))&&(y.get=v),(v=l(T.set))&&(y.set=v),(v=l(T.init))&&s.unshift(v)}else(v=l(T))&&(d==="field"?s.unshift(v):y[f]=v)}m&&Object.defineProperty(m,i.name,y),_=!0}function q3(e,t,n){for(var i=arguments.length>2,s=0;s<t.length;s++)n=i?t[s].call(e,n):t[s].call(e);return i?n:void 0}function G3(e){return typeof e=="symbol"?e:"".concat(e)}function K3(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function W3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ie(e,t,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(y){try{m(i.next(y))}catch(v){l(v)}}function f(y){try{m(i.throw(y))}catch(v){l(v)}}function m(y){y.done?a(y.value):s(y.value).then(d,f)}m((i=i.apply(e,t||[])).next())})}function Y3(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=d(0),l.throw=d(1),l.return=d(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(y){return f([m,y])}}function f(m){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(y){m=[6,y],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Df=Object.create?(function(e,t,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]});function X3(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Df(t,e,n)}function pf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xy(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,a=[],l;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(d){l={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(l)throw l.error}}return a}function J3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xy(arguments[t]));return e}function Q3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],l=0,d=a.length;l<d;l++,s++)i[s]=a[l];return i}function eS(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}function Ml(e){return this instanceof Ml?(this.v=e,this):new Ml(e)}function tS(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(w){return function(C){return Promise.resolve(C).then(w,v)}}function d(w,C){i[w]&&(s[w]=function(N){return new Promise(function(T,k){a.push([w,N,T,k])>1||f(w,N)})},C&&(s[w]=C(s[w])))}function f(w,C){try{m(i[w](C))}catch(N){_(a[0][3],N)}}function m(w){w.value instanceof Ml?Promise.resolve(w.value.v).then(y,v):_(a[0][2],w)}function y(w){f("next",w)}function v(w){f("throw",w)}function _(w,C){w(C),a.shift(),a.length&&f(a[0][0],a[0][1])}}function nS(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,a){t[s]=e[s]?function(l){return(n=!n)?{value:Ml(e[s](l)),done:!1}:a?a(l):l}:a}}function iS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pf=="function"?pf(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(l){return new Promise(function(d,f){l=e[a](l),s(d,f,l.done,l.value)})}}function s(a,l,d,f){Promise.resolve(f).then(function(m){a({value:m,done:d})},l)}}function rS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var WE=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},f0=function(e){return f0=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},f0(e)};function sS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=f0(e),i=0;i<n.length;i++)n[i]!=="default"&&Df(t,e,n[i]);return WE(t,e),t}function aS(e){return e&&e.__esModule?e:{default:e}}function oS(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function lS(e,t,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function uS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function cS(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var YE=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function dS(e){function t(a){e.error=e.hasError?new YE(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(a).then(s,function(l){return t(l),s()})}else i|=1}catch(l){t(l)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function hS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,s,a,l){return i?t?".jsx":".js":s&&(!a||!l)?n:s+a+"."+l.toLowerCase()+"js"}):e}const XE={__extends:F3,__assign:mf,__rest:Fl,__decorate:V3,__param:H3,__esDecorate:Z3,__runInitializers:q3,__propKey:G3,__setFunctionName:K3,__metadata:W3,__awaiter:Ie,__generator:Y3,__createBinding:Df,__exportStar:X3,__values:pf,__read:xy,__spread:J3,__spreadArrays:Q3,__spreadArray:eS,__await:Ml,__asyncGenerator:tS,__asyncDelegator:nS,__asyncValues:iS,__makeTemplateObject:rS,__importStar:sS,__importDefault:aS,__classPrivateFieldGet:oS,__classPrivateFieldSet:lS,__classPrivateFieldIn:uS,__addDisposableResource:cS,__disposeResources:dS,__rewriteRelativeImportExtension:hS},JE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cS,get __assign(){return mf},__asyncDelegator:nS,__asyncGenerator:tS,__asyncValues:iS,__await:Ml,__awaiter:Ie,__classPrivateFieldGet:oS,__classPrivateFieldIn:uS,__classPrivateFieldSet:lS,__createBinding:Df,__decorate:V3,__disposeResources:dS,__esDecorate:Z3,__exportStar:X3,__extends:F3,__generator:Y3,__importDefault:aS,__importStar:sS,__makeTemplateObject:rS,__metadata:W3,__param:H3,__propKey:G3,__read:xy,__rest:Fl,__rewriteRelativeImportExtension:hS,__runInitializers:q3,__setFunctionName:K3,__spread:J3,__spreadArray:eS,__spreadArrays:Q3,__values:pf,default:XE},Symbol.toStringTag,{value:"Module"})),QE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class _y extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class e9 extends _y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qx extends _y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class e_ extends _y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var m0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(m0||(m0={}));class t9{constructor(t,{headers:n={},customFetch:i,region:s=m0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=QE(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ie(this,arguments,void 0,function*(n,i={}){var s;let a,l;try{const{headers:d,method:f,body:m,signal:y,timeout:v}=i;let _={},{region:w}=i;w||(w=this.region);const C=new URL(`${this.url}/${n}`);w&&w!=="any"&&(_["x-region"]=w,C.searchParams.set("forceFunctionRegion",w));let N;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",N=m):typeof m=="string"?(_["Content-Type"]="text/plain",N=m):typeof FormData<"u"&&m instanceof FormData?N=m:(_["Content-Type"]="application/json",N=JSON.stringify(m)):N=m;let T=y;v&&(l=new AbortController,a=setTimeout(()=>l.abort(),v),y?(T=l.signal,y.addEventListener("abort",()=>l.abort())):T=l.signal);const k=yield this.fetch(C.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:N,signal:T}).catch(F=>{throw new e9(F)}),A=k.headers.get("x-relay-error");if(A&&A==="true")throw new Qx(k);if(!k.ok)throw new e_(k);let $=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return $==="application/json"?O=yield k.json():$==="application/octet-stream"||$==="application/pdf"?O=yield k.blob():$==="text/event-stream"?O=k:$==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof e_||d instanceof Qx?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var On={};const Vl=IE(JE);var Bh={},Uh={},Fh={},Vh={},Hh={},Zh={},t_;function fS(){if(t_)return Zh;t_=1,Object.defineProperty(Zh,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Zh.default=e,Zh}var n_;function mS(){if(n_)return Hh;n_=1,Object.defineProperty(Hh,"__esModule",{value:!0});const t=Vl.__importDefault(fS());class n{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,y,v,_;let w=null,C=null,N=null,T=f.status,k=f.statusText;if(f.ok){if(this.method!=="HEAD"){const F=await f.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?C=F:C=JSON.parse(F))}const $=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),O=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");$&&O&&O.length>1&&(N=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,N=null,T=406,k="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const $=await f.text();try{w=JSON.parse($),Array.isArray(w)&&f.status===404&&(C=[],w=null,T=200,k="OK")}catch{f.status===404&&$===""?(T=204,k="No Content"):w={message:$}}if(w&&this.isMaybeSingle&&(!((_=w?.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,T=200,k="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:C,count:N,status:T,statusText:k}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,y,v,_,w,C;let N="";const T=f?.cause;if(T){const k=(m=T?.message)!==null&&m!==void 0?m:"",A=(y=T?.code)!==null&&y!==void 0?y:"";N=`${(v=f?.name)!==null&&v!==void 0?v:"FetchError"}: ${f?.message}`,N+=`

Caused by: ${(_=T?.name)!==null&&_!==void 0?_:"Error"}: ${k}`,A&&(N+=` (${A})`),T?.stack&&(N+=`
${T.stack}`)}else N=(w=f?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(C=f?.name)!==null&&C!==void 0?C:"FetchError"}: ${f?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,a)}returns(){return this}overrideTypes(){return this}}return Hh.default=n,Hh}var i_;function pS(){if(i_)return Vh;i_=1,Object.defineProperty(Vh,"__esModule",{value:!0});const t=Vl.__importDefault(mS());class n extends t.default{select(s){let a=!1;const l=(s??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(m,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var y;const v=[s?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Vh.default=n,Vh}var r_;function wy(){if(r_)return Fh;r_=1,Object.defineProperty(Fh,"__esModule",{value:!0});const t=Vl.__importDefault(pS()),n=new RegExp("[,()]");class i extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}regexMatch(a,l){return this.url.searchParams.append(a,`match.${l}`),this}regexIMatch(a,l){return this.url.searchParams.append(a,`imatch.${l}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}isDistinct(a,l){return this.url.searchParams.append(a,`isdistinct.${l}`),this}in(a,l){const d=Array.from(new Set(l)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${m}fts${y}.${l}`),this}match(a){return Object.entries(a).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(a,l,d){return this.url.searchParams.append(a,`not.${l}.${d}`),this}or(a,{foreignTable:l,referencedTable:d=l}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,d){return this.url.searchParams.append(a,`${l}.${d}`),this}}return Fh.default=i,Fh}var s_;function gS(){if(s_)return Uh;s_=1,Object.defineProperty(Uh,"__esModule",{value:!0});const t=Vl.__importDefault(wy());class n{constructor(s,{headers:a={},schema:l,fetch:d}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(s,a){const{head:l=!1,count:d}=a??{},f=l?"HEAD":"GET";let m=!1;const y=(s??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:l=!0}={}){var d;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(v.length>0){const _=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var a;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Uh.default=n,Uh}var a_;function n9(){if(a_)return Bh;a_=1,Object.defineProperty(Bh,"__esModule",{value:!0});const e=Vl,t=e.__importDefault(gS()),n=e.__importDefault(wy());class i{constructor(a,{headers:l={},schema:d,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:f=!1,count:m}={}){var y;let v;const _=new URL(`${this.url}/rpc/${a}`);let w;d||f?(v=d?"HEAD":"GET",Object.entries(l).filter(([N,T])=>T!==void 0).map(([N,T])=>[N,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([N,T])=>{_.searchParams.append(N,T)})):(v="POST",w=l);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new n.default({method:v,url:_,headers:C,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Bh.default=i,Bh}var o_;function i9(){if(o_)return On;o_=1,Object.defineProperty(On,"__esModule",{value:!0}),On.PostgrestError=On.PostgrestBuilder=On.PostgrestTransformBuilder=On.PostgrestFilterBuilder=On.PostgrestQueryBuilder=On.PostgrestClient=void 0;const e=Vl,t=e.__importDefault(n9());On.PostgrestClient=t.default;const n=e.__importDefault(gS());On.PostgrestQueryBuilder=n.default;const i=e.__importDefault(wy());On.PostgrestFilterBuilder=i.default;const s=e.__importDefault(pS());On.PostgrestTransformBuilder=s.default;const a=e.__importDefault(mS());On.PostgrestBuilder=a.default;const l=e.__importDefault(fS());return On.PostgrestError=l.default,On.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},On}var yS=i9();const vS=oa(yS),r9=zE({__proto__:null,default:vS},[yS]),{PostgrestClient:s9,PostgrestQueryBuilder:EV,PostgrestFilterBuilder:jV,PostgrestTransformBuilder:NV,PostgrestBuilder:TV,PostgrestError:kV}=vS||r9;class a9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o9="2.84.0",l9=`realtime-js/${o9}`,bS="1.0.0",u9="2.0.0",l_=bS,p0=1e4,c9=1e3,d9=100;var io;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(io||(io={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lr||(lr={}));var g0;(function(e){e.websocket="websocket"})(g0||(g0={}));var ro;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ro||(ro={}));class h9{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i,s,a;const l=t.topic,d=(n=t.ref)!==null&&n!==void 0?n:"",f=(i=t.join_ref)!==null&&i!==void 0?i:"",m=t.payload.event,y=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(_),C=0;w.setUint8(C++,this.KINDS.userBroadcastPush),w.setUint8(C++,f.length),w.setUint8(C++,d.length),w.setUint8(C++,l.length),w.setUint8(C++,m.length),w.setUint8(C++,this.BINARY_ENCODING),Array.from(f,T=>w.setUint8(C++,T.charCodeAt(0))),Array.from(d,T=>w.setUint8(C++,T.charCodeAt(0))),Array.from(l,T=>w.setUint8(C++,T.charCodeAt(0))),Array.from(m,T=>w.setUint8(C++,T.charCodeAt(0)));var N=new Uint8Array(_.byteLength+y.byteLength);return N.set(new Uint8Array(_),0),N.set(new Uint8Array(y),_.byteLength),N.buffer}_encodeJsonUserBroadcastPush(t){var n,i,s,a;const l=t.topic,d=(n=t.ref)!==null&&n!==void 0?n:"",f=(i=t.join_ref)!==null&&i!==void 0?i:"",m=t.payload.event,y=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},_=new TextEncoder().encode(JSON.stringify(y)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+m.length,C=new ArrayBuffer(this.HEADER_LENGTH+w);let N=new DataView(C),T=0;N.setUint8(T++,this.KINDS.userBroadcastPush),N.setUint8(T++,f.length),N.setUint8(T++,d.length),N.setUint8(T++,l.length),N.setUint8(T++,m.length),N.setUint8(T++,this.JSON_ENCODING),Array.from(f,A=>N.setUint8(T++,A.charCodeAt(0))),Array.from(d,A=>N.setUint8(T++,A.charCodeAt(0))),Array.from(l,A=>N.setUint8(T++,A.charCodeAt(0))),Array.from(m,A=>N.setUint8(T++,A.charCodeAt(0)));var k=new Uint8Array(C.byteLength+_.byteLength);return k.set(new Uint8Array(C),0),k.set(new Uint8Array(_),C.byteLength),k.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,a,l,d,f]=i;return n({join_ref:s,ref:a,topic:l,event:d,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const m=i.decode(t.slice(f,f+s));f=f+s;const y=i.decode(t.slice(f,f+a));f=f+a;const v=i.decode(t.slice(f,f+l));f=f+l;const _=t.slice(f,t.byteLength),w=d===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,C={type:this.BROADCAST_EVENT,event:y,payload:w};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class xS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Lt||(Lt={}));const u_=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=f9(l,e,t,s),a),{}):{}},f9=(e,t,n,i)=>{const s=t.find(d=>d.name===e),a=s?.type,l=n[e];return a&&!i.includes(a)?_S(a,l):y0(l)},_S=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return y9(t,n)}switch(e){case Lt.bool:return m9(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return p9(t);case Lt.json:case Lt.jsonb:return g9(t);case Lt.timestamp:return v9(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return y0(t);default:return y0(t)}},y0=e=>e,m9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},y9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>_S(t,d))}return e},v9=e=>typeof e=="string"?e.replace(" ","T"):e,wS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ug{constructor(t,n,i={},s=p0){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c_||(c_={}));class yc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yc.syncState(this.state,s,a,l),this.pendingDiffs.forEach(f=>{this.state=yc.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yc.syncDiff(this.state,s,a,l),d())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const a=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(a,(m,y)=>{l[m]||(f[m]=y)}),this.map(l,(m,y)=>{const v=a[m];if(v){const _=y.map(T=>T.presence_ref),w=v.map(T=>T.presence_ref),C=y.filter(T=>w.indexOf(T.presence_ref)<0),N=v.filter(T=>_.indexOf(T.presence_ref)<0);C.length>0&&(d[m]=C),N.length>0&&(f[m]=N)}else d[m]=y}),this.syncDiff(a,{joins:d,leaves:f},i,s)}static syncDiff(t,n,i,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(d,f)=>{var m;const y=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(f),y.length>0){const v=t[d].map(w=>w.presence_ref),_=y.filter(w=>v.indexOf(w.presence_ref)<0);t[d].unshift(..._)}i(d,y,f)}),this.map(l,(d,f)=>{let m=t[d];if(!m)return;const y=f.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),t[d]=m,s(d,m,f),m.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(d_||(d_={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var ls;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class Sy{constructor(t,n={config:{}},i){var s,a;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ug(this,lr.join,this.params,this.timeout),this.rejoinTimer=new xS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new yc(this),this.broadcastEndpointURL=wS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,m=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[vc.PRESENCE]&&this.bindings[vc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},_={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(ls.CHANNEL_ERROR,w)),this._onClose(()=>t?.(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket.setAuth(),w===void 0){t?.(ls.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,T=(C=N?.length)!==null&&C!==void 0?C:0,k=[];for(let A=0;A<T;A++){const $=N[A],{filter:{event:O,schema:F,table:R,filter:Z}}=$,W=w&&w[A];if(W&&W.event===O&&W.schema===F&&W.table===R&&W.filter===Z)k.push(Object.assign(Object.assign({},$),{id:W.id}));else{this.unsubscribe(),this.state=pn.errored,t?.(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(ls.SUBSCRIBED);return}}).receive("error",w=>{this.state=pn.errored,t?.(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===pn.joined&&t===vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,f;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new ug(this,lr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ug(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,a;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:m,join:y}=lr;if(i&&[d,f,m,y].indexOf(l)>=0&&i!==this._joinRef())return;let _=this._onMessage(l,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var C,N,T;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(N=w.filter)===null||N===void 0?void 0:N.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(w=>w.callback(_,i)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var C,N,T,k,A,$;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const O=w.id,F=(C=w.filter)===null||C===void 0?void 0:C.event;return O&&((N=n.ids)===null||N===void 0?void 0:N.includes(O))&&(F==="*"||F?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const O=(A=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return O==="*"||O===(($=n?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:N,table:T,commit_timestamp:k,type:A,errors:$}=C;_=Object.assign(Object.assign({},{schema:N,table:T,commit_timestamp:k,eventType:A,new:{},old:{},errors:$}),this._getPayloadRecords(C))}w.callback(_,i)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Sy.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lr.close,{},t)}_onError(t){this._on(lr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=u_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=u_(t.columns,t.old_record)),n}}const cg=()=>{},qh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b9=[1e3,2e3,5e3,1e4],x9=1e4,_9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class w9{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=p0,this.transport=null,this.heartbeatIntervalMs=qh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cg,this.ref=0,this.reconnectTimer=null,this.vsn=l_,this.logger=cg,this.conn=null,this.sendBuffer=[],this.serializer=new h9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${g0.websocket}`,this.httpEndpoint=wS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case io.connecting:return ro.Connecting;case io.open:return ro.Open;case io.closing:return ro.Closing;default:return ro.Closed}}isConnected(){return this.connectionState()===ro.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Sy(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:s,ref:a}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(c9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:a,ref:l}=n,d=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${i} ${s} ${d}`.trim(),a),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(s,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===io.open||this.conn.readyState===io.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(lr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([_9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:l9};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(lr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new xS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,a,l,d,f,m,y,v,_,w;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:p0,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:qh.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:cg,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:l_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(C=>b9[C-1]||x9),this.vsn){case bS:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((C,N)=>N(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,N)=>N(JSON.parse(C)));break;case u9:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Cy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S9 extends Cy{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class v0 extends Cy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Ey=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C9=()=>Response,b0=e=>{if(Array.isArray(e))return e.map(n=>b0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=b0(i)}),t},E9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},j9=(e,t,n)=>Ie(void 0,void 0,void 0,function*(){const i=yield C9();e instanceof i&&!n?.noResolveJson?e.json().then(s=>{const a=e.status||500,l=s?.statusCode||a+"";t(new S9(dg(s),a,l))}).catch(s=>{t(new v0(dg(s),s))}):t(new v0(dg(e),e))}),N9=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!i?s:(E9(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Yc(e,t,n,i,s,a){return Ie(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,N9(t,i,s,a)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>j9(f,d,i))})})}function kc(e,t,n,i){return Ie(this,void 0,void 0,function*(){return Yc(e,"GET",t,n,i)})}function or(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return Yc(e,"POST",t,i,s,n)})}function x0(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return Yc(e,"PUT",t,i,s,n)})}function T9(e,t,n,i){return Ie(this,void 0,void 0,function*(){return Yc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function jy(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return Yc(e,"DELETE",t,i,s,n)})}class k9{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var SS;class $9{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[SS]="BlobDownloadBuilder",this.promise=null}asStream(){return new k9(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}SS=Symbol.toStringTag;const A9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L9{constructor(t,n={},i,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=Ey(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,s){return Ie(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},h_),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=i,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),v=yield(t=="PUT"?x0:or)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}upload(t,n,i){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,s){return Ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:h_.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",m.cacheControl)):(f=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const v=yield x0(this.fetch,d.toString(),f,{headers:y});return{data:{path:a,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Vt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Ie(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const a=yield or(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new Cy("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}update(t,n,i){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Ie(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}copy(t,n,i){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,i){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield or(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,i){return Ie(this,void 0,void 0,function*(){try{const s=yield or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",d=this._getFinalPath(t),f=()=>kc(this.fetch,`${this.url}/${s}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new $9(f,this.shouldThrowOnError)}info(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield kc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:b0(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}exists(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield T9(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i)&&i instanceof v0){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),s=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}list(t,n,i){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},A9),n),{prefix:t||""});return{data:yield or(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listV2(t,n){return Ie(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const CS="2.84.0",ES={"X-Client-Info":`storage-js/${CS}`};class M9{constructor(t,n={},i,s){this.shouldThrowOnError=!1;const a=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ES),n),this.fetch=Ey(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ie(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield kc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}createBucket(t){return Ie(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield or(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class P9{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ES),n),this.fetch=Ey(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ie(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield kc(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}const Ny={"X-Client-Info":`storage-js/${CS}`,"Content-Type":"application/json"};class jS extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ei(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class hg extends jS{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class O9 extends jS{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var f_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(f_||(f_={}));const Ty=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),R9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},m_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D9=(e,t,n)=>Ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(l=>{const d=l?.statusCode||l?.code||s+"";t(new hg(m_(l),s,d))}).catch(()=>{const l=s+"",d=a.statusText||`HTTP ${s} error`;t(new hg(d,s,l))});else{const l=s+"",d=a.statusText||`HTTP ${s} error`;t(new hg(d,s,l))}}else t(new O9(m_(e),e))}),z9=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return i?(R9(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),n)):s};function I9(e,t,n,i,s,a){return Ie(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,z9(t,i,s,a)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>D9(f,d,i))})})}function ji(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return I9(e,"POST",t,i,s,n)})}class B9{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ny),n),this.fetch=Ty(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield ji(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}listIndexes(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:(yield ji(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}}class U9{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ny),n),this.fetch=Ty(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ji(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}getVectors(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}listVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ji(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ji(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}}class F9{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ny),n),this.fetch=Ty(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield ji(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}getBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}listBuckets(){return Ie(this,arguments,void 0,function*(t={}){try{return{data:yield ji(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield ji(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}}class V9 extends F9{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new H9(this.url,this.headers,t,this.fetch)}}class H9 extends B9{constructor(t,n,i,s){super(t,n,s),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ie(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ie(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ie(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ie(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Z9(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Z9 extends U9{constructor(t,n,i,s,a){super(t,n,a),this.vectorBucketName=i,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ie(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ie(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ie(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ie(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ie(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class q9 extends M9{constructor(t,n={},i,s){super(t,n,i,s)}from(t){return new L9(this.url,this.headers,t,this.fetch)}get vectors(){return new V9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P9(this.url+"/iceberg",this.headers,this.fetch)}}const G9="2.84.0";let fc="";typeof Deno<"u"?fc="deno":typeof document<"u"?fc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fc="react-native":fc="node";const K9={"X-Client-Info":`supabase-js-${fc}/${G9}`},W9={headers:K9},Y9={schema:"public"},X9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J9={},Q9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ej=()=>Headers,tj=(e,t,n)=>{const i=Q9(n),s=ej();return async(a,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let m=new s(l?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),i(a,Object.assign(Object.assign({},l),{headers:m}))}};function nj(e){return e.endsWith("/")?e:e+"/"}function ij(e,t){var n,i;const{db:s,auth:a,realtime:l,global:d}=e,{db:f,auth:m,realtime:y,global:v}=t,_={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},y),l),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?_.accessToken=e.accessToken:delete _.accessToken,_}function rj(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const NS="2.84.0",yl=30*1e3,_0=3,fg=_0*yl,sj="http://localhost:9999",aj="supabase.auth.token",oj={"X-Client-Info":`gotrue-js/${NS}`},w0="X-Supabase-Api-Version",TS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uj=600*1e3;class $c extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cj extends $c{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function dj(e){return Ue(e)&&e.name==="AuthApiError"}class so extends $c{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class la extends $c{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class wi extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hj(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class ll extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gh extends la{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kh extends la{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fj(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class p_ extends la{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S0 extends la{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function mg(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class g_ extends la{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class C0 extends la{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y_=` 	
\r=`.split(""),mj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<y_.length;t+=1)e[y_[t].charCodeAt(0)]=-2;for(let t=0;t<gf.length;t+=1)e[gf[t].charCodeAt(0)]=t;return e})();function v_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(gf[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(gf[i]),t.queuedBits-=6}}function kS(e,t,n){const i=mj[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function b_(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{yj(l,i,n)};for(let l=0;l<e.length;l+=1)kS(e.charCodeAt(l),s,a);return t.join("")}function pj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gj(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}pj(i,t)}}function yj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function El(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)kS(e.charCodeAt(s),n,i);return new Uint8Array(t)}function vj(e){const t=[];return gj(e,n=>t.push(n)),new Uint8Array(t)}function ao(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>v_(s,n,i)),v_(null,n,i),t.join("")}function bj(e){return Math.round(Date.now()/1e3)+e}function xj(){return Symbol("auth-callback")}const kn=()=>typeof window<"u"&&typeof document<"u",Xa={tested:!1,writable:!1},$S=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xa.tested)return Xa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xa.tested=!0,Xa.writable=!0}catch{Xa.tested=!0,Xa.writable=!1}return Xa.writable};function _j(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const AS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ja=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Js=async(e,t)=>{await e.removeItem(t)};class zf{constructor(){this.promise=new zf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zf.promiseConstructor=Promise;function pg(e){const t=e.split(".");if(t.length!==3)throw new C0("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!lj.test(t[i]))throw new C0("JWT not in base64url format");return{header:JSON.parse(b_(t[0])),payload:JSON.parse(b_(t[1])),signature:El(t[2]),raw:{header:t[0],payload:t[1]}}}async function Sj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cj(e,t){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){i(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function Ej(e){return("0"+e.toString(16)).substr(-2)}function jj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,Ej).join("")}async function Nj(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Tj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Nj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ul(e,t,n=!1){const i=jj();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await vl(e,`${t}-code-verifier`,s);const a=await Tj(i);return[a,i===a?"plain":"s256"]}const kj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $j(e){const t=e.headers.get(w0);if(!t||!t.match(kj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Aj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Lj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cl(e){if(!Mj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pj(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function x_(e){return JSON.parse(JSON.stringify(e))}const to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Oj=[502,503,504];async function __(e){var t;if(!wj(e))throw new S0(to(e),0);if(Oj.includes(e.status))throw new S0(to(e),e.status);let n;try{n=await e.json()}catch(a){throw new so(to(a),a)}let i;const s=$j(e);if(s&&s.getTime()>=TS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new g_(to(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new wi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new g_(to(n),e.status,n.weak_password.reasons);throw new cj(to(n),e.status||500,i)}const Rj=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function Ze(e,t,n,i){var s;const a=Object.assign({},i?.headers);a[w0]||(a[w0]=TS["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Dj(e,t,n+d,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function Dj(e,t,n,i,s,a){const l=Rj(t,i,s,a);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new S0(to(f),0)}if(d.ok||await __(d),i?.noResolveJson)return d;try{return await d.json()}catch(f){await __(f)}}function sr(e){var t;let n=null;Bj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=bj(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function w_(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zj(e){return{data:e,error:null}}function Ij(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=e,l=Fl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function S_(e){return e}function Bj(e){return e.access_token&&e.refresh_token&&e.expires_in}const yg=["global","local","others"];class Uj{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=AS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=yg[0]){if(yg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yg.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:na})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Fl(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ij,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:na})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,a,l,d,f;try{const m={nextPage:null,lastPage:0,total:0},y=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:S_});if(y.error)throw y.error;const v=await y.json(),_=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=N}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){cl(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:na})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){cl(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:na})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){cl(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:na})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){cl(t.userId);try{const{data:n,error:i}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){cl(t.userId),cl(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,a,l,d,f;try{const m={nextPage:null,lastPage:0,total:0},y=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:S_});if(y.error)throw y.error;const v=await y.json(),_=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=N}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function C_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const dl={debug:!!(globalThis&&$S()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Fj extends LS{}async function Vj(e,t,n){dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),dl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Fj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Hj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Zj(e){return parseInt(e,16)}function qj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function Gj(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:f,resources:m,scheme:y,uri:v,version:_}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=MS(e.address),C=y?`${y}://${i}`:i,N=e.statement?`${e.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${w}

${N}`;let k=`URI: ${v}
Version: ${_}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),f&&(k+=`
Request ID: ${f}`),m){let A=`
Resources:`;for(const $ of m){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);A+=`
- ${$}`}k+=A}return`${T}
${k}`}class un extends Error{constructor({message:t,code:n,cause:i,name:s}){var a;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=s??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class yf extends un{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Kj({error:e,options:t}){var n,i,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new un({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new un({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new un({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new un({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new un({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new un({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new un({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new un({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(PS(l)){if(a.rp.id!==l)return new un({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new un({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new un({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new un({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new un({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Wj({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new un({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new un({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(PS(i)){if(n.rpId!==i)return new un({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new un({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new un({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new un({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Yj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xj=new Yj;function Jj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=Fl(e,["challenge","user","excludeCredentials"]),a=El(t).buffer,l=Object.assign(Object.assign({},n),{id:El(n.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:a,user:l});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:El(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Qj(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Fl(e,["challenge","allowCredentials"]),s=El(t).buffer,a=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:El(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function e8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ao(new Uint8Array(e.response.attestationObject)),clientDataJSON:ao(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function t8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ao(new Uint8Array(s.authenticatorData)),clientDataJSON:ao(new Uint8Array(s.clientDataJSON)),signature:ao(new Uint8Array(s.signature)),userHandle:s.userHandle?ao(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function E_(){var e,t;return!!(kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function n8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yf("Browser returned unexpected credential type",t)}:{data:null,error:new yf("Empty credential response",t)}}catch(t){return{data:null,error:Kj({error:t,options:e})}}}async function i8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yf("Browser returned unexpected credential type",t)}:{data:null,error:new yf("Empty credential response",t)}}catch(t){return{data:null,error:Wj({error:t,options:e})}}}const r8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(n(l))i[a]=l;else if(t(l)){const d=i[a];t(d)?i[a]=vf(d,l):i[a]=vf(l)}else i[a]=l}return i}function a8(e,t){return vf(r8,e,t||{})}function o8(e,t){return vf(s8,e,t||{})}class l8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=s??Xj.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=a8(l.webauthn.credential_options.publicKey,a?.create),{data:y,error:v}=await n8({publicKey:m,signal:f});return y?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=o8(l.webauthn.credential_options.publicKey,a?.request),{data:y,error:v}=await i8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return y?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new $c("rpId is required for WebAuthn authentication")};try{if(!E_())return{data:null,error:new so("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:a});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new $c("rpId is required for WebAuthn registration")};try{if(!E_())return{data:null,error:new so("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new so("Unexpected error in register",l)}}}}Hj();const u8={url:sj,storageKey:aj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function j_(e,t,n){return await n()}const hl={};class Ac{get jwks(){var t,n;return(n=(t=hl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){hl[this.storageKey]=Object.assign(Object.assign({},hl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=hl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hl[this.storageKey]=Object.assign(Object.assign({},hl[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},u8),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Ac.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ac.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&kn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Uj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=AS(a.fetch),this.lock=a.lock||j_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:kn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Vj:this.lock=j_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:$S()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=C_(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${NS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(kn()&&(n=_j(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),kn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fj(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?this._returnResult({error:n}):this._returnResult({error:new so("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:sr}),{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,i,s;try{let a;if("email"in t){const{email:y,password:v,options:_}=t;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await ul(this.storage,this.storageKey)),a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:v,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:C},xform:sr})}else if("phone"in t){const{phone:y,password:v,options:_}=t;a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(s=_?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:sr})}else throw new Gh("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:d}=t;n=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:w_})}else if("phone"in t){const{phone:a,password:l,options:d}=t;n=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:w_})}else throw new Gh("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const a=new ll;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,a,l,d,f,m,y,v,_;let w,C;if("message"in t)w=t.message,C=t.signature;else{const{chain:N,wallet:T,statement:k,options:A}=t;let $;if(kn())if(typeof T=="object")$=T;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")$=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=T}const O=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),F=await $.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=MS(F[0]);let Z=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Z){const V=await $.request({method:"eth_chainId"});Z=Zj(V)}const W={domain:O.host,address:R,statement:k,uri:O.href,version:"1",chainId:Z,nonce:(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=A?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=Gj(W),C=await $.request({method:"personal_sign",params:[qj(w),R]})}try{const{data:N,error:T}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:sr});if(T)throw T;if(!N||!N.session||!N.user){const k=new ll;return this._returnResult({data:{user:null,session:null},error:k})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:T})}catch(N){if(Ue(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var n,i,s,a,l,d,f,m,y,v,_,w;let C,N;if("message"in t)C=t.message,N=t.signature;else{const{chain:T,wallet:k,statement:A,options:$}=t;let O;if(kn())if(typeof k=="object")O=k;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))O=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const F=new URL((n=$?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const R=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),A?{statement:A}:null));let Z;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")Z=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)Z=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)C=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),N=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${F.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(i=$?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=$?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((l=$?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((d=$?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((f=$?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((v=(y=$?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...$.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const R=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=R}}try{const{data:T,error:k}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:ao(N)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sr});if(k)throw k;if(!T||!T.session||!T.user){const A=new ll;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(Ue(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Ja(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:a,error:l}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:sr});if(await Js(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const d=new ll;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:a,nonce:l}=t,d=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:sr}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const y=new ll;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,a,l;try{if("email"in t){const{email:d,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ul(this.storage,this.storageKey));const{error:v}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:d,options:f}=t,{data:m,error:y}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Gh("You must provide either an email or phone number.")}catch(d){if(Ue(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,i;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:d}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:sr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,m=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,a,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ul(this.storage,this.storageKey));const m=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:zj});return!((a=m.data)===null||a===void 0)&&a.url&&kn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(Ue(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new wi;const{error:s}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:a}=t,{error:l}=await Ze(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:a}=t,{data:l,error:d}=await Ze(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new Gh("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<fg:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await Ja(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=gg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Pj(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:na}):await this._useSession(async n=>{var i,s,a;const{data:l,error:d}=n;if(d)throw d;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wi}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:na})})}catch(n){if(Ue(n))return hj(n)&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new wi;const l=s.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await ul(this.storage,this.storageKey));const{data:m,error:y}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:na});if(y)throw y;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(Ue(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wi;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:l}=pg(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new wi;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!kn())throw new Kh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new p_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p_("No code detected.");const{data:A,error:$}=await this._exchangeCodeForSession(t.code);if($)throw $;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:d,expires_at:f,token_type:m}=t;if(!a||!d||!l||!m)throw new Kh("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let _=y+v;f&&(_=parseInt(f));const w=_-y;w*1e3<=yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const C=_-v;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,y);const{data:N,error:T}=await this._getUser(a);if(T)throw T;const k={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:v,expires_at:_,refresh_token:l,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(dj(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=xj(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await ul(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var l,d,f,m,y;const{data:v,error:_}=a;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return kn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:l,provider:d,token:f,access_token:m,nonce:y}=t,v=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:f,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sr}),{data:_,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ll}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:w}))}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)throw l;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Cj(async s=>(s>0&&await Sj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(s,a)=>{const l=200*Math.pow(2,s);return a&&mg(a)&&Date.now()+l-i<yl})}catch(i){if(this._debug(n,"error",i),Ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),kn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Ja(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await vl(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:gg()}else if(s&&!s.user&&!s.user){const l=await Ja(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await Js(this.storage,this.storageKey+"-user"),await vl(this.storage,this.storageKey,s)):s.user=gg()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fg;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${fg}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),mg(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(s.access_token);!d&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zf;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new wi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(s,"error",a),Ue(a)){const l={data:null,error:a};return mg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await vl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=x_(s);await vl(this.storage,this.storageKey,a)}else{const s=x_(n);await vl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Js(this.storage,this.storageKey),await Js(this.storage,this.storageKey+"-code-verifier"),await Js(this.storage,this.storageKey+"-user"),this.userStorage&&await Js(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/yl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yl}ms, refresh threshold is ${_0} ticks`),s<=_0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await ul(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(d.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?e8(t.webauthn.credential_response):t8(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Jj(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Qj(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=pg(i.access_token);let l=null;a.aal&&(l=a.aal);let d=l;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const m=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wi})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new wi});const l=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&kn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ue(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new wi});const l=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&kn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ue(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wi})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new wi})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(d=>d.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+uj>s)return i;const{data:a,error:l}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:w,error:C}=await this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});i=w.session.access_token}const{header:s,payload:a,signature:l,raw:{header:d,payload:f}}=pg(i);n?.allowExpired||Aj(a.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}const y=Lj(s.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,l,vj(`${d}.${f}`)))throw new C0("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(Ue(i))return this._returnResult({data:null,error:i});throw i}}}Ac.nextInstanceID={};const c8=Ac;class d8 extends c8{constructor(t){super(t)}}class h8{constructor(t,n,i){var s,a,l;this.supabaseUrl=t,this.supabaseKey=n;const d=rj(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Y9,realtime:J9,auth:Object.assign(Object.assign({},X9),{storageKey:f}),global:W9},y=ij(i??{},m);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=y.auth)!==null&&l!==void 0?l:{},this.headers,y.global.fetch),this.fetch=tj(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new s9(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new q9(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new t9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:a,storageKey:l,flowType:d,lock:f,debug:m,throwOnError:y},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d8({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:a,flowType:d,lock:f,debug:m,throwOnError:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new w9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f8=(e,t,n)=>new h8(e,t,n);function m8(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}m8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p8="https://xtkbvnnkovogqwcwdhkg.supabase.co",g8="sb_publishable_HIszZakF8E4vj8K5mAftOg_gtrgQTrv",pe=f8(p8,g8,{auth:{storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),OS=Object.freeze(Object.defineProperty({__proto__:null,supabase:pe},Symbol.toStringTag,{value:"Module"}));var N_="popstate";function y8(e={}){function t(s,a){let{pathname:l="/",search:d="",hash:f=""}=go(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),E0("",{pathname:l,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=s.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof a=="string"?a:Lc(a))}function i(s,a){ki(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return b8(t,n,i,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ki(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function v8(){return Math.random().toString(36).substring(2,10)}function T_(e,t){return{usr:e.state,key:e.key,idx:t}}function E0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:n,key:t&&t.key||i||v8()}}function Lc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function go(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function b8(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,d="POP",f=null,m=y();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function y(){return(l.state||{idx:null}).idx}function v(){d="POP";let T=y(),k=T==null?null:T-m;m=T,f&&f({action:d,location:N.location,delta:k})}function _(T,k){d="PUSH";let A=E0(N.location,T,k);n&&n(A,T),m=y()+1;let $=T_(A,m),O=N.createHref(A);try{l.pushState($,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(O)}a&&f&&f({action:d,location:N.location,delta:1})}function w(T,k){d="REPLACE";let A=E0(N.location,T,k);n&&n(A,T),m=y();let $=T_(A,m),O=N.createHref(A);l.replaceState($,"",O),a&&f&&f({action:d,location:N.location,delta:0})}function C(T){return x8(T)}let N={get action(){return d},get location(){return e(s,l)},listen(T){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(N_,v),f=T,()=>{s.removeEventListener(N_,v),f=null}},createHref(T){return t(s,T)},createURL:C,encodeLocation(T){let k=C(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:w,go(T){return l.go(T)}};return N}function x8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Lc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function RS(e,t,n="/"){return _8(e,t,n,!1)}function _8(e,t,n,i){let s=typeof t=="string"?go(t):t,a=ds(s.pathname||"/",n);if(a==null)return null;let l=DS(e);w8(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let m=M8(a);d=A8(l[f],m,i)}return d}function DS(e,t=[],n=[],i="",s=!1){let a=(l,d,f=s,m)=>{let y={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;Zt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=cs([i,y.relativePath]),_=n.concat(y);l.children&&l.children.length>0&&(Zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),DS(l.children,t,_,v,f)),!(l.path==null&&!l.index)&&t.push({path:v,score:k8(v,l.index),routesMeta:_})};return e.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let f of zS(l.path))a(l,d,!0,f)}),t}function zS(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=zS(i.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function w8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$8(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var S8=/^:[\w-]+$/,C8=3,E8=2,j8=1,N8=10,T8=-2,k_=e=>e==="*";function k8(e,t){let n=e.split("/"),i=n.length;return n.some(k_)&&(i+=T8),t&&(i+=E8),n.filter(s=>!k_(s)).reduce((s,a)=>s+(S8.test(a)?C8:a===""?j8:N8),i)}function $8(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function A8(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,y=a==="/"?t:t.slice(a.length)||"/",v=bf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),_=f.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=bf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:cs([a,v.pathname]),pathnameBase:z8(cs([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=cs([a,v.pathnameBase]))}return l}function bf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=L8(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},_)=>{if(y==="*"){let C=d[_]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[_];return v&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:e}}function L8(e,t=!1,n=!0){ki(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function M8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ki(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var P8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O8=e=>P8.test(e);function R8(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?go(e):e,a;if(n)if(O8(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ki(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=$_(n.substring(1),"/"):a=$_(n,t)}else a=t;return{pathname:a,search:I8(i),hash:B8(s)}}function $_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vg(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function IS(e){let t=D8(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function BS(e,t,n,i=!1){let s;typeof e=="string"?s=go(e):(s={...e},Zt(!s.pathname||!s.pathname.includes("?"),vg("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),vg("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),vg("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let v=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}d=v>=0?t[v]:"/"}let f=R8(s,d),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var cs=e=>e.join("/").replace(/\/\/+/g,"/"),z8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,B8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function U8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var US=["POST","PUT","PATCH","DELETE"];new Set(US);var F8=["GET",...US];new Set(F8);var Hl=j.createContext(null);Hl.displayName="DataRouter";var If=j.createContext(null);If.displayName="DataRouterState";j.createContext(!1);var FS=j.createContext({isTransitioning:!1});FS.displayName="ViewTransition";var V8=j.createContext(new Map);V8.displayName="Fetchers";var H8=j.createContext(null);H8.displayName="Await";var Pr=j.createContext(null);Pr.displayName="Navigation";var Xc=j.createContext(null);Xc.displayName="Location";var Or=j.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var ky=j.createContext(null);ky.displayName="RouteError";function Z8(e,{relative:t}={}){Zt(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(Pr),{hash:s,pathname:a,search:l}=Qc(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:cs([n,a])),i.createHref({pathname:d,search:l,hash:s})}function Jc(){return j.useContext(Xc)!=null}function $i(){return Zt(Jc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Xc).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HS(e){j.useContext(Pr).static||j.useLayoutEffect(e)}function Zl(){let{isDataRoute:e}=j.useContext(Or);return e?aN():q8()}function q8(){Zt(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Hl),{basename:t,navigator:n}=j.useContext(Pr),{matches:i}=j.useContext(Or),{pathname:s}=$i(),a=JSON.stringify(IS(i)),l=j.useRef(!1);return HS(()=>{l.current=!0}),j.useCallback((f,m={})=>{if(ki(l.current,VS),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=BS(f,JSON.parse(a),s,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:cs([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,a,s,e])}var G8=j.createContext(null);function K8(e){let t=j.useContext(Or).outlet;return j.useMemo(()=>t&&j.createElement(G8.Provider,{value:e},t),[t,e])}function Qc(e,{relative:t}={}){let{matches:n}=j.useContext(Or),{pathname:i}=$i(),s=JSON.stringify(IS(n));return j.useMemo(()=>BS(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function W8(e,t){return ZS(e,t)}function ZS(e,t,n,i,s){Zt(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Pr),{matches:l}=j.useContext(Or),d=l[l.length-1],f=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let A=v&&v.path||"";qS(m,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let _=$i(),w;if(t){let A=typeof t=="string"?go(t):t;Zt(y==="/"||A.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=_;let C=w.pathname||"/",N=C;if(y!=="/"){let A=y.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=RS(e,{pathname:N});ki(v||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ki(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=eN(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:cs([y,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:cs([y,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,n,i,s);return t&&k?j.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function Y8(){let e=sN(),t=U8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,l)}var X8=j.createElement(Y8,null),J8=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Or.Provider,{value:this.props.routeContext},j.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q8({routeContext:e,match:t,children:n}){let i=j.useContext(Hl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Or.Provider,{value:e},n)}function eN(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let y=a.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Zt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let d=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let v=a[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:_,errors:w}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||C){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let m=n&&i?(y,v)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return a.reduceRight((y,v,_)=>{let w,C=!1,N=null,T=null;n&&(w=l&&v.route.id?l[v.route.id]:void 0,N=v.route.errorElement||X8,d&&(f<0&&_===0?(qS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,T=null):f===_&&(C=!0,T=v.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,_+1)),A=()=>{let $;return w?$=N:C?$=T:v.route.Component?$=j.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=y,j.createElement(Q8,{match:v,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?j.createElement(J8,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):A()},null)}function $y(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tN(e){let t=j.useContext(Hl);return Zt(t,$y(e)),t}function nN(e){let t=j.useContext(If);return Zt(t,$y(e)),t}function iN(e){let t=j.useContext(Or);return Zt(t,$y(e)),t}function Ay(e){let t=iN(e),n=t.matches[t.matches.length-1];return Zt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rN(){return Ay("useRouteId")}function sN(){let e=j.useContext(ky),t=nN("useRouteError"),n=Ay("useRouteError");return e!==void 0?e:t.errors?.[n]}function aN(){let{router:e}=tN("useNavigate"),t=Ay("useNavigate"),n=j.useRef(!1);return HS(()=>{n.current=!0}),j.useCallback(async(s,a={})=>{ki(n.current,VS),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var A_={};function qS(e,t,n){!t&&!A_[e]&&(A_[e]=!0,ki(!1,n))}j.memo(oN);function oN({routes:e,future:t,state:n,unstable_onError:i}){return ZS(e,void 0,n,i,t)}function lN(e){return K8(e.context)}function Tn(e){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Zt(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=go(n));let{pathname:f="/",search:m="",hash:y="",state:v=null,key:_="default"}=n,w=j.useMemo(()=>{let C=ds(f,l);return C==null?null:{location:{pathname:C,search:m,hash:y,state:v,key:_},navigationType:i}},[l,f,m,y,v,_,i]);return ki(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(Pr.Provider,{value:d},j.createElement(Xc.Provider,{children:t,value:w}))}function cN({children:e,location:t}){return W8(j0(e),t)}function j0(e,t=[]){let n=[];return j.Children.forEach(e,(i,s)=>{if(!j.isValidElement(i))return;let a=[...t,s];if(i.type===j.Fragment){n.push.apply(n,j0(i.props.children,a));return}Zt(i.type===Tn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=j0(i.props.children,a)),n.push(l)}),n}var sf="get",af="application/x-www-form-urlencoded";function Bf(e){return e!=null&&typeof e.tagName=="string"}function dN(e){return Bf(e)&&e.tagName.toLowerCase()==="button"}function hN(e){return Bf(e)&&e.tagName.toLowerCase()==="form"}function fN(e){return Bf(e)&&e.tagName.toLowerCase()==="input"}function mN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pN(e,t){return e.button===0&&(!t||t==="_self")&&!mN(e)}function N0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function gN(e,t){let n=N0(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Wh=null;function yN(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var vN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bg(e){return e!=null&&!vN.has(e)?(ki(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):e}function bN(e,t){let n,i,s,a,l;if(hN(e)){let d=e.getAttribute("action");i=d?ds(d,t):null,n=e.getAttribute("method")||sf,s=bg(e.getAttribute("enctype"))||af,a=new FormData(e)}else if(dN(e)||fN(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(i=f?ds(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||sf,s=bg(e.getAttribute("formenctype"))||bg(d.getAttribute("enctype"))||af,a=new FormData(d,e),!yN()){let{name:m,type:y,value:v}=e;if(y==="image"){let _=m?`${m}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else m&&a.append(m,v)}}else{if(Bf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sf,i=null,s=af,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ly(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ds(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function _N(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function SN(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await _N(a,n);return l.links?l.links():[]}return[]}));return NN(i.flat(1).filter(wN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function L_(e,t,n,i,s,a){let l=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return a==="assets"?t.filter((f,m)=>l(f,m)||d(f,m)):a==="data"?t.filter((f,m)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function CN(e,t,{includeHydrateFallback:n}={}){return EN(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function EN(e){return[...new Set(e)]}function jN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function NN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(jN(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function GS(){let e=j.useContext(Hl);return Ly(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TN(){let e=j.useContext(If);return Ly(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var My=j.createContext(void 0);My.displayName="FrameworkContext";function KS(){let e=j.useContext(My);return Ly(e,"You must render this element inside a <HydratedRouter> element"),e}function kN(e,t){let n=j.useContext(My),[i,s]=j.useState(!1),[a,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,_=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let N=k=>{k.forEach(A=>{l(A.isIntersecting)})},T=new IntersectionObserver(N,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[e]),j.useEffect(()=>{if(i){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[i]);let w=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:rc(d,w),onBlur:rc(f,C),onMouseEnter:rc(m,w),onMouseLeave:rc(y,C),onTouchStart:rc(v,w)}]:[!1,_,{}]}function rc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $N({page:e,...t}){let{router:n}=GS(),i=j.useMemo(()=>RS(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(LN,{page:e,matches:i,...t}):null}function AN(e){let{manifest:t,routeModules:n}=KS(),[i,s]=j.useState([]);return j.useEffect(()=>{let a=!1;return SN(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function LN({page:e,matches:t,...n}){let i=$i(),{manifest:s,routeModules:a}=KS(),{basename:l}=GS(),{loaderData:d,matches:f}=TN(),m=j.useMemo(()=>L_(e,t,f,s,i,"data"),[e,t,f,s,i]),y=j.useMemo(()=>L_(e,t,f,s,i,"assets"),[e,t,f,s,i]),v=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,N=!1;if(t.forEach(k=>{let A=s.routes[k.route.id];!A||!A.hasLoader||(!m.some($=>$.route.id===k.route.id)&&k.route.id in d&&a[k.route.id]?.shouldRevalidate||A.hasClientLoader?N=!0:C.add(k.route.id))}),C.size===0)return[];let T=xN(e,l,"data");return N&&C.size>0&&T.searchParams.set("_routes",t.filter(k=>C.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[l,d,i,s,m,t,e,a]),_=j.useMemo(()=>CN(y,s),[y,s]),w=AN(y);return j.createElement(j.Fragment,null,v.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),_.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:N})=>j.createElement("link",{key:C,nonce:n.nonce,...N})))}function MN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var WS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WS&&(window.__reactRouterVersion="7.9.6")}catch{}function PN({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=y8({window:n,v5Compat:!0}));let s=i.current,[a,l]=j.useState({action:s.action,location:s.location}),d=j.useCallback(f=>{j.startTransition(()=>l(f))},[l]);return j.useLayoutEffect(()=>s.listen(d),[s,d]),j.createElement(uN,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jl=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:d,target:f,to:m,preventScrollReset:y,viewTransition:v,..._},w){let{basename:C}=j.useContext(Pr),N=typeof m=="string"&&YS.test(m),T,k=!1;if(typeof m=="string"&&N&&(T=m,WS))try{let V=new URL(window.location.href),Q=m.startsWith("//")?new URL(V.protocol+m):new URL(m),G=ds(Q.pathname,C);Q.origin===V.origin&&G!=null?m=G+Q.search+Q.hash:k=!0}catch{ki(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Z8(m,{relative:s}),[$,O,F]=kN(i,_),R=zN(m,{replace:l,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:v});function Z(V){t&&t(V),V.defaultPrevented||R(V)}let W=j.createElement("a",{..._,...F,href:T||A,onClick:k||a?t:Z,ref:MN(w,O),target:f,"data-discover":!N&&n==="render"?"true":void 0});return $&&!N?j.createElement(j.Fragment,null,W,j.createElement($N,{page:A})):W});jl.displayName="Link";var ON=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:d,children:f,...m},y){let v=Qc(l,{relative:m.relative}),_=$i(),w=j.useContext(If),{navigator:C,basename:N}=j.useContext(Pr),T=w!=null&&HN(v)&&d===!0,k=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,A=_.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(A=A.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&N&&($=ds($,N)||$);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let F=A===k||!s&&A.startsWith(k)&&A.charAt(O)==="/",R=$!=null&&($===k||!s&&$.startsWith(k)&&$.charAt(k.length)==="/"),Z={isActive:F,isPending:R,isTransitioning:T},W=F?t:void 0,V;typeof i=="function"?V=i(Z):V=[i,F?"active":null,R?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Q=typeof a=="function"?a(Z):a;return j.createElement(jl,{...m,"aria-current":W,className:V,ref:y,style:Q,to:l,viewTransition:d},typeof f=="function"?f(Z):f)});ON.displayName="NavLink";var RN=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=sf,action:d,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:v,..._},w)=>{let C=FN(),N=VN(d,{relative:m}),T=l.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&YS.test(d),A=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let O=$.nativeEvent.submitter,F=O?.getAttribute("formmethod")||l;C(O||$.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:s,state:a,relative:m,preventScrollReset:y,viewTransition:v})};return j.createElement("form",{ref:w,method:T,action:N,onSubmit:i?f:A,..._,"data-discover":!k&&e==="render"?"true":void 0})});RN.displayName="Form";function DN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(e){let t=j.useContext(Hl);return Zt(t,DN(e)),t}function zN(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let d=Zl(),f=$i(),m=Qc(e,{relative:a});return j.useCallback(y=>{if(pN(y,t)){y.preventDefault();let v=n!==void 0?n:Lc(f)===Lc(m);d(e,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[f,d,m,n,i,t,e,s,a,l])}function IN(e){ki(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(N0(e)),n=j.useRef(!1),i=$i(),s=j.useMemo(()=>gN(i.search,n.current?null:t.current),[i.search]),a=Zl(),l=j.useCallback((d,f)=>{const m=N0(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,a("?"+m,f)},[a,s]);return[s,l]}var BN=0,UN=()=>`__${String(++BN)}__`;function FN(){let{router:e}=XS("useSubmit"),{basename:t}=j.useContext(Pr),n=rN();return j.useCallback(async(i,s={})=>{let{action:a,method:l,encType:d,formData:f,body:m}=bN(i,t);if(s.navigate===!1){let y=s.fetcherKey||UN();await e.fetch(y,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function VN(e,{relative:t}={}){let{basename:n}=j.useContext(Pr),i=j.useContext(Or);Zt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Qc(e||".",{relative:t})},l=$i();if(e==null){a.search=l.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();a.search=y?`?${y}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:cs([n,a.pathname])),Lc(a)}function HN(e,{relative:t}={}){let n=j.useContext(FS);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XS("useViewTransitionState"),s=Qc(e,{relative:t});if(!n.isTransitioning)return!1;let a=ds(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ds(n.nextLocation.pathname,i)||n.nextLocation.pathname;return bf(s.pathname,l)!=null||bf(s.pathname,a)!=null}var JS=U3();const Ye=e=>typeof e=="string",sc=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},M_=e=>e==null?"":""+e,ZN=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},qN=/###/g,P_=e=>e&&e.indexOf("###")>-1?e.replace(qN,"."):e,O_=e=>!e||Ye(e),bc=(e,t,n)=>{const i=Ye(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(O_(e))return{};const a=P_(i[s]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++s}return O_(e)?{}:{obj:e,k:P_(i[s])}},R_=(e,t,n)=>{const{obj:i,k:s}=bc(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let a=t[t.length-1],l=t.slice(0,t.length-1),d=bc(e,l,Object);for(;d.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),d=bc(e,l,Object),d?.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=n},GN=(e,t,n,i)=>{const{obj:s,k:a}=bc(e,t,Object);s[a]=s[a]||[],s[a].push(n)},xf=(e,t)=>{const{obj:n,k:i}=bc(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},KN=(e,t,n)=>{const i=xf(e,n);return i!==void 0?i:xf(t,n)},QS=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?Ye(e[i])||e[i]instanceof String||Ye(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):QS(e[i],t[i],n):e[i]=t[i]);return e},fl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var WN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const YN=e=>Ye(e)?e.replace(/[&<>"'\/]/g,t=>WN[t]):e;class XN{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const JN=[" ",",","?","!",";"],QN=new XN(20),eT=(e,t,n)=>{t=t||"",n=n||"";const i=JN.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=QN.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!s.test(e);if(!a){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(a=!0)}return a},T0=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let a=0;a<i.length;){if(!s||typeof s!="object")return;let l,d="";for(let f=a;f<i.length;++f)if(f!==a&&(d+=n),d+=i[f],l=s[d],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<i.length-1)continue;a+=f-a+1;break}s=l}return s},Mc=e=>e?.replace("_","-"),tT={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class _f{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||tT,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(Ye(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new _f(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new _f(this.logger,t)}}var kr=new _f;class Uf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[t,...n])})}}class D_ extends Uf{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],i&&(Array.isArray(i)?d.push(...i):Ye(i)&&a?d.push(...i.split(a)):d.push(i)));const f=xf(this.data,d);return!f&&!n&&!i&&t.indexOf(".")>-1&&(t=d[0],n=d[1],i=d.slice(2).join(".")),f||!l||!Ye(i)?f:T0(this.data?.[t]?.[n],i,a)}addResource(t,n,i,s,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[t,n];i&&(d=d.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(d=t.split("."),s=n,n=d[1]),this.addNamespaces(n),R_(this.data,d,s),a.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const a in i)(Ye(i[a])||Array.isArray(i[a]))&&this.addResource(t,n,a,i[a],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,a,l={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),s=i,i=n,n=d[1]),this.addNamespaces(n);let f=xf(this.data,d)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?QS(f,i,a):f={...f,...i},R_(this.data,d,f),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var e5={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(a=>{t=this.processors[a]?.process(t,n,i,s)??t}),t}};const t5=Symbol("i18next/PATH_KEY");function nT(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===t5?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function wf(e,t){const{[t5]:n}=e(nT());return n.join(t?.keySeparator??".")}const z_={},xg=e=>!Ye(e)&&typeof e!="boolean"&&typeof e!="number";class Sf extends Uf{constructor(t,n={}){super(),ZN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=kr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const a=xg(s.res);return!(i.returnObjects===!1&&a)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!eT(t,i,s);if(l&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:Ye(a)?[a]:a};const m=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(m[0])>-1)&&(a=m.shift()),t=m.join(s)}return{key:t,namespaces:Ye(a)?[a]:a}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=wf(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],s),m=f[f.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=s.lng||this.language,_=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return _?a?{res:`${m}${y}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(s)}:`${m}${y}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(s)}:d;const w=this.resolve(t,s);let C=w?.res;const N=w?.usedKey||d,T=w?.exactUsedKey||d,k=["[object Number]","[object Function]","[object RegExp]"],A=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,O=s.count!==void 0&&!Ye(s.count),F=Sf.hasDefaultValue(s),R=O?this.pluralResolver.getSuffix(v,s.count,s):"",Z=s.ordinal&&O?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",W=O&&!s.ordinal&&s.count===0,V=W&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${R}`]||s[`defaultValue${Z}`]||s.defaultValue;let Q=C;$&&!C&&F&&(Q=V);const G=xg(Q),q=Object.prototype.toString.apply(Q);if($&&Q&&G&&k.indexOf(q)<0&&!(Ye(A)&&Array.isArray(Q))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const de=this.options.returnedObjectHandler?this.options.returnedObjectHandler(N,Q,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(w.res=de,w.usedParams=this.getUsedParamsDetails(s),w):de}if(l){const de=Array.isArray(Q),K=de?[]:{},ne=de?T:N;for(const H in Q)if(Object.prototype.hasOwnProperty.call(Q,H)){const Y=`${ne}${l}${H}`;F&&!C?K[H]=this.translate(Y,{...s,defaultValue:xg(V)?V[H]:void 0,joinArrays:!1,ns:f}):K[H]=this.translate(Y,{...s,joinArrays:!1,ns:f}),K[H]===Y&&(K[H]=Q[H])}C=K}}else if($&&Ye(A)&&Array.isArray(C))C=C.join(A),C&&(C=this.extendTranslation(C,t,s,i));else{let de=!1,K=!1;!this.isValidLookup(C)&&F&&(de=!0,C=V),this.isValidLookup(C)||(K=!0,C=d);const H=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:C,Y=F&&V!==C&&this.options.updateMissing;if(K||de||Y){if(this.logger.log(Y?"updateKey":"missingKey",v,m,d,Y?V:C),l){const D=this.resolve(d,{...s,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ie=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let D=0;D<ke.length;D++)ie.push(ke[D]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(s.lng||this.language):ie.push(s.lng||this.language);const B=(D,te,I)=>{const fe=F&&I!==C?I:H;this.options.missingKeyHandler?this.options.missingKeyHandler(D,m,te,fe,Y,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(D,m,te,fe,Y,s),this.emit("missingKey",D,m,te,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?ie.forEach(D=>{const te=this.pluralResolver.getSuffixes(D,s);W&&s[`defaultValue${this.options.pluralSeparator}zero`]&&te.indexOf(`${this.options.pluralSeparator}zero`)<0&&te.push(`${this.options.pluralSeparator}zero`),te.forEach(I=>{B([D],d+I,s[`defaultValue${I}`]||V)})}):B(ie,d,V))}C=this.extendTranslation(C,t,s,w,i),K&&C===d&&this.options.appendNamespaceToMissingKey&&(C=`${m}${y}${d}`),(K||de)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${y}${d}`:d,de?C:void 0,s))}return a?(w.res=C,w.usedParams=this.getUsedParamsDetails(s),w):C}extendTranslation(t,n,i,s,a){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=Ye(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(f){const v=t.match(this.interpolator.nestingRegexp);m=v&&v.length}let y=i.replace&&!Ye(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),t=this.interpolator.interpolate(t,y,i.lng||this.language||s.usedLng,i),f){const v=t.match(this.interpolator.nestingRegexp),_=v&&v.length;m<_&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>a?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,d=Ye(l)?[l]:l;return t!=null&&d?.length&&i.applyPostProcessor!==!1&&(t=e5.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,a,l,d;return Ye(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(i))return;const m=this.extractFromKey(f,n),y=m.key;s=y;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const _=n.count!==void 0&&!Ye(n.count),w=_&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(Ye(n.context)||typeof n.context=="number")&&n.context!=="",N=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(T=>{this.isValidLookup(i)||(d=T,!z_[`${N[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(z_[`${N[0]}-${T}`]=!0,this.logger.warn(`key "${s}" for languages "${N.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(k=>{if(this.isValidLookup(i))return;l=k;const A=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,y,k,T,n);else{let O;_&&(O=this.pluralResolver.getSuffix(k,n.count,n));const F=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(n.ordinal&&O.indexOf(R)===0&&A.push(y+O.replace(R,this.options.pluralSeparator)),A.push(y+O),w&&A.push(y+F)),C){const Z=`${y}${this.options.contextSeparator||"_"}${n.context}`;A.push(Z),_&&(n.ordinal&&O.indexOf(R)===0&&A.push(Z+O.replace(R,this.options.pluralSeparator)),A.push(Z+O),w&&A.push(Z+F))}}let $;for(;$=A.pop();)this.isValidLookup(i)||(a=$,i=this.getResource(k,T,$,n))}))})}),{res:i,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!Ye(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const a of n)delete s[a]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class I_{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kr.create("languageUtils")}getScriptPartFromCode(t){if(t=Mc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Mc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ye(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ye(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],a=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ye(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):Ye(t)&&a(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}}const B_={zero:0,one:1,two:2,few:3,many:4,other:5},U_={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class iT{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=kr.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=Mc(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),U_;if(!t.match(/-|_/))return U_;const f=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(f,n)}return this.pluralRulesCache[a]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,a)=>B_[s]-B_[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const F_=(e,t,n,i=".",s=!0)=>{let a=KN(e,t,n);return!a&&s&&Ye(n)&&(a=T0(e,n,i),a===void 0&&(a=T0(t,n,i))),a},_g=e=>e.replace(/\$/g,"$$$$");class rT{constructor(t={}){this.logger=kr.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:_,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:N,nestingOptionsSeparator:T,maxReplaces:k,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:YN,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?fl(a):l||"{{",this.suffix=d?fl(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=_?fl(_):w||fl("$t("),this.nestingSuffix=C?fl(C):N||fl(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=k||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let a,l,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=w=>{if(w.indexOf(this.formatSeparator)<0){const k=F_(n,f,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,i,{...s,...n,interpolationkey:w}):k}const C=w.split(this.formatSeparator),N=C.shift().trim(),T=C.join(this.formatSeparator).trim();return this.format(F_(n,f,N,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...s,...n,interpolationkey:N})};this.resetRegExp();const y=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>_g(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?_g(this.escape(w)):_g(w)}].forEach(w=>{for(d=0;a=w.regex.exec(t);){const C=a[1].trim();if(l=m(C),l===void 0)if(typeof y=="function"){const T=y(t,a,s);l=Ye(T)?T:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!Ye(l)&&!this.useRawValueToEscape&&(l=M_(l));const N=w.safeValue(l);if(t=t.replace(a[0],N),v?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,a,l;const d=(f,m)=>{const y=this.nestingOptionsSeparator;if(f.indexOf(y)<0)return f;const v=f.split(new RegExp(`${y}[ ]*{`));let _=`{${v[1]}`;f=v[0],_=this.interpolate(_,l);const w=_.match(/'/g),C=_.match(/"/g);((w?.length??0)%2===0&&!C||C.length%2!==0)&&(_=_.replace(/'/g,'"'));try{l=JSON.parse(_),m&&(l={...m,...l})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,N),`${f}${y}${_}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;s=this.nestingRegexp.exec(t);){let f=[];l={...i},l=l.replace&&!Ye(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const m=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(m!==-1&&(f=s[1].slice(m).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),s[1]=s[1].slice(0,m)),a=n(d.call(this,s[1].trim(),l),l),a&&s[0]===t&&!Ye(a))return a;Ye(a)||(a=M_(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),a=""),f.length&&(a=f.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:s[1].trim()}),a.trim())),t=t.replace(s[0],a),this.regexp.lastIndex=0}return t}}const sT=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[d,...f]=l.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:t,formatOptions:n}},V_=e=>{const t={};return(n,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const l=i+JSON.stringify(a);let d=t[l];return d||(d=e(Mc(i),s),t[l]=d),d(n)}},aT=e=>(t,n,i)=>e(Mc(n),i)(t);class oT{constructor(t={}){this.logger=kr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?V_:aT;this.formats={number:i((s,a)=>{const l=new Intl.NumberFormat(s,{...a});return d=>l.format(d)}),currency:i((s,a)=>{const l=new Intl.NumberFormat(s,{...a,style:"currency"});return d=>l.format(d)}),datetime:i((s,a)=>{const l=new Intl.DateTimeFormat(s,{...a});return d=>l.format(d)}),relativetime:i((s,a)=>{const l=new Intl.RelativeTimeFormat(s,{...a});return d=>l.format(d,a.range||"day")}),list:i((s,a)=>{const l=new Intl.ListFormat(s,{...a});return d=>l.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=V_(n)}format(t,n,i,s={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:m,formatOptions:y}=sT(f);if(this.formats[m]){let v=d;try{const _=s?.formatParams?.[s.interpolationkey]||{},w=_.locale||_.lng||s.locale||s.lng||i;v=this.formats[m](d,w,{...y,...s,..._})}catch(_){this.logger.warn(_)}return v}else this.logger.warn(`there was no format function for ${m}`);return d},t)}}const lT=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class uT extends Uf{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const a={},l={},d={},f={};return t.forEach(m=>{let y=!0;n.forEach(v=>{const _=`${m}|${v}`;!i.reload&&this.store.hasResourceBundle(m,v)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?l[_]===void 0&&(l[_]=!0):(this.state[_]=1,y=!1,l[_]===void 0&&(l[_]=!0),a[_]===void 0&&(a[_]=!0),f[v]===void 0&&(f[v]=!0)))}),y||(d[m]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,i){const s=t.split("|"),a=s[0],l=s[1];n&&this.emit("failedLoading",a,l,n),!n&&i&&this.store.addResourceBundle(a,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const d={};this.queue.forEach(f=>{GN(f.loaded,[a],l),lT(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const y=f.loaded[m];y.length&&y.forEach(v=>{d[m][v]===void 0&&(d[m][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,i,s=0,a=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:a,callback:l});return}this.readingCalls++;const d=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,a*2,l)},a);return}l(m,y)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const m=f(t,n);m&&typeof m.then=="function"?m.then(y=>d(null,y)).catch(d):d(null,m)}catch(m){d(m)}return}return f(t,n,d)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ye(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ye(n)&&(n=[n]);const a=this.queueLoad(t,n,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,(l,d)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,l),!l&&d&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,d),this.loaded(t,l,d)})}saveMissing(t,n,i,s,a,l={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const f={...l,isUpdate:a},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(t,n,i,s,f):y=m(t,n,i,s),y&&typeof y.then=="function"?y.then(v=>d(null,v)).catch(d):d(null,y)}catch(y){d(y)}else m(t,n,i,s,d,f)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const H_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ye(e[1])&&(t.defaultValue=e[1]),Ye(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Z_=e=>(Ye(e.ns)&&(e.ns=[e.ns]),Ye(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ye(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Yh=()=>{},cT=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class xc extends Uf{constructor(t={},n){if(super(),this.options=Z_(t),this.services={},this.logger=kr,this.modules={external:[]},cT(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ye(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=H_();this.options={...i,...this.options,...Z_(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?kr.init(s(this.modules.logger),this.options):kr.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=oT;const y=new I_(this.options);this.store=new D_(this.options.resources,this.options);const v=this.services;v.logger=kr,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new iT(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(m),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new rT(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new uT(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Sf(this.services,this.options),this.translator.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Yh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...y)=>this.store[m](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...y)=>(this.store[m](...y),this)});const d=sc(),f=()=>{const m=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=Yh){let i=n;const s=Ye(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],l=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&a.indexOf(m)<0&&a.push(m)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),this.options.preload?.forEach?.(d=>l(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(d)})}else i(null)}reloadResources(t,n,i){const s=sc();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Yh),this.services.backendConnector.reload(t,n,a=>{s.resolve(),i(a)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&e5.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=sc();this.emit("languageChanging",t);const s=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,f)=>{f?this.isLanguageChangingTo===t&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...m)=>this.t(...m)),n&&n(d,(...m)=>this.t(...m))},l=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const f=Ye(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ye(d)?[d]:d);m&&(this.language||s(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,y=>{a(y,m)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(a,l,...d)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(d)):f={...l},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||s.keyPrefix);const m=this.options.keySeparator||".";let y;return f.keyPrefix&&Array.isArray(a)?y=a.map(v=>(typeof v=="function"&&(v=wf(v,{...this.options,...l})),`${f.keyPrefix}${m}${v}`)):(typeof a=="function"&&(a=wf(a,{...this.options,...l})),y=f.keyPrefix?`${f.keyPrefix}${m}${a}`:a),this.t(y,f)};return Ye(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(n.precheck){const d=n.precheck(this,l);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(a,t)))}loadNamespaces(t,n){const i=sc();return this.options.ns?(Ye(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=sc();Ye(t)&&(t=[t]);const s=this.options.preload||[],a=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new I_(H_());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new xc(t,n);return i.createInstance=xc.createInstance,i}cloneInstance(t={},n=Yh){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},a=new xc(s);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){const d=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},f[m]=Object.keys(f[m]).reduce((y,v)=>(y[v]={...f[m][v]},y),f[m]),f),{});a.store=new D_(d,s),a.services.resourceStore=a.store}return a.translator=new Sf(a.services,s),a.translator.on("*",(d,...f)=>{a.emit(d,...f)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zn=xc.createInstance();Zn.createInstance;Zn.dir;Zn.init;Zn.loadResources;Zn.reloadResources;Zn.use;Zn.changeLanguage;Zn.getFixedT;Zn.t;Zn.exists;Zn.setDefaultNamespace;Zn.hasLoadedNamespace;Zn.loadNamespaces;Zn.loadLanguages;var wg,q_;function dT(){return q_||(q_=1,wg={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),wg}var hT=dT();const fT=oa(hT);var mT=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function G_(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(fT[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var i=e.indexOf("-->");return{type:"comment",comment:i!==-1?e.slice(4,i):""}}for(var s=new RegExp(mT),a=null;(a=s.exec(e))!==null;)if(a[0].trim())if(a[1]){var l=a[1].trim(),d=[l,""];l.indexOf("=")>-1&&(d=l.split("=")),t.attrs[d[0]]=d[1],s.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var pT=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,gT=/^\s*$/,yT=Object.create(null);function n5(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(n){var i=[];for(var s in n)i.push(s+'="'+n[s]+'"');return i.length?" "+i.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(n5,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var vT={parse:function(e,t){t||(t={}),t.components||(t.components=yT);var n,i=[],s=[],a=-1,l=!1;if(e.indexOf("<")!==0){var d=e.indexOf("<");i.push({type:"text",content:d===-1?e:e.substring(0,d)})}return e.replace(pT,function(f,m){if(l){if(f!=="</"+n.name+">")return;l=!1}var y,v=f.charAt(1)!=="/",_=f.startsWith("<!--"),w=m+f.length,C=e.charAt(w);if(_){var N=G_(f);return a<0?(i.push(N),i):((y=s[a]).children.push(N),i)}if(v&&(a++,(n=G_(f)).type==="tag"&&t.components[n.name]&&(n.type="component",l=!0),n.voidElement||l||!C||C==="<"||n.children.push({type:"text",content:e.slice(w,e.indexOf("<",w))}),a===0&&i.push(n),(y=s[a-1])&&y.children.push(n),s[a]=n),(!v||n.voidElement)&&(a>-1&&(n.voidElement||n.name===f.slice(2,-1))&&(a--,n=a===-1?i:s[a]),!l&&C!=="<"&&C)){y=a===-1?i:s[a].children;var T=e.indexOf("<",w),k=e.slice(w,T===-1?void 0:T);gT.test(k)&&(k=" "),(T>-1&&a+y.length>=0||k!==" ")&&y.push({type:"text",content:k})}}),i},stringify:function(e){return e.reduce(function(t,n){return t+n5("",n)},"")}};const of=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Gi(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},K_={},Ff=(e,t,n,i)=>{Gi(n)&&K_[n]||(Gi(n)&&(K_[n]=new Date),of(e,t,n,i))},i5=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},k0=(e,t,n)=>{e.loadNamespaces(t,i5(e,n))},W_=(e,t,n,i)=>{if(Gi(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return k0(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,i5(e,i))},bT=(e,t,n={})=>!t.languages||!t.languages.length?(Ff(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Gi=e=>typeof e=="string",ia=e=>typeof e=="object"&&e!==null,xT=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_T={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},wT=e=>_T[e],ST=e=>e.replace(xT,wT);let $0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ST};const CT=(e={})=>{$0={...$0,...e}},r5=()=>$0;let s5;const ET=e=>{s5=e},Py=()=>s5,Sg=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},Cg=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?bl(t):t},jT=e=>Array.isArray(e)&&e.every(j.isValidElement),bl=e=>Array.isArray(e)?e:[e],NT=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},a5=(e,t,n,i)=>{if(!e)return"";let s="";const a=bl(e),l=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((d,f)=>{if(Gi(d)){s+=`${d}`;return}if(j.isValidElement(d)){const{props:m,type:y}=d,v=Object.keys(m).length,_=l.indexOf(y)>-1,w=m.children;if(!w&&_&&!v){s+=`<${y}/>`;return}if(!w&&(!_||v)||m.i18nIsDynamicList){s+=`<${f}></${f}>`;return}if(_&&v===1&&Gi(w)){s+=`<${y}>${w}</${y}>`;return}const C=a5(w,t,n,i);s+=`<${f}>${C}</${f}>`;return}if(d===null){of(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(ia(d)){const{format:m,...y}=d,v=Object.keys(y);if(v.length===1){const _=m?`${v[0]}, ${m}`:v[0];s+=`{{${_}}}`;return}of(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:d});return}of(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:d})}),s},TT=(e,t=[],n={})=>{if(!e)return e;const i=Object.keys(n),s=[...t,...i];let a="",l=0;for(;l<e.length;)if(e[l]==="<"){let d=!1;const f=e.slice(l).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(f){const m=f[1];(/^\d+$/.test(m)||s.includes(m))&&(d=!0,a+=f[0],l+=f[0].length)}if(!d){const m=e.slice(l).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(m){const y=m[1];(/^\d+$/.test(y)||s.includes(y))&&(d=!0,a+=m[0],l+=m[0].length)}}d||(a+="&lt;",l+=1)}else a+=e[l],l+=1;return a},kT=(e,t,n,i,s,a,l)=>{if(n==="")return[];const d=s.transKeepBasicHtmlNodesFor||[],f=n&&new RegExp(d.map(A=>`<${A}`).join("|")).test(n);if(!e&&!t&&!f&&!l)return[n];const m=t??{},y=A=>{bl(A).forEach(O=>{Gi(O)||(Sg(O)?y(Cg(O)):ia(O)&&!j.isValidElement(O)&&Object.assign(m,O))})};y(e);const v=TT(n,d,m),_=vT.parse(`<0>${v}</0>`),w={...m,...a},C=(A,$,O)=>{const F=Cg(A),R=T(F,$.children,O);return jT(F)&&R.length===0||A.props?.i18nIsDynamicList?F:R},N=(A,$,O,F,R)=>{A.dummy?(A.children=$,O.push(j.cloneElement(A,{key:F},R?void 0:$))):O.push(...j.Children.map([A],Z=>{const W="data-i18n-is-dynamic-list",V={key:F,[W]:void 0};return Z&&Z.props&&Object.keys(Z.props).forEach(Q=>{Q==="ref"||Q==="children"||Q==="i18nIsDynamicList"||Q===W||(V[Q]=Z.props[Q])}),j.cloneElement(Z,V,R?null:$)}))},T=(A,$,O)=>{const F=bl(A);return bl($).reduce((Z,W,V)=>{const Q=W.children?.[0]?.content&&i.services.interpolator.interpolate(W.children[0].content,w,i.language);if(W.type==="tag"){let G=F[parseInt(W.name,10)];!G&&t&&(G=t[W.name]),O.length===1&&!G&&(G=O[0][W.name]),G||(G={});const q=Object.keys(W.attrs).length!==0?NT({props:W.attrs},G):G,de=j.isValidElement(q),K=de&&Sg(W,!0)&&!W.voidElement,ne=f&&ia(q)&&q.dummy&&!de,H=ia(t)&&Object.hasOwnProperty.call(t,W.name);if(Gi(q)){const Y=i.services.interpolator.interpolate(q,w,i.language);Z.push(Y)}else if(Sg(q)||K){const Y=C(q,W,O);N(q,Y,Z,V)}else if(ne){const Y=T(F,W.children,O);N(q,Y,Z,V)}else if(Number.isNaN(parseFloat(W.name)))if(H){const Y=C(q,W,O);N(q,Y,Z,V,W.voidElement)}else if(s.transSupportBasicHtmlNodes&&d.indexOf(W.name)>-1)if(W.voidElement)Z.push(j.createElement(W.name,{key:`${W.name}-${V}`}));else{const Y=T(F,W.children,O);Z.push(j.createElement(W.name,{key:`${W.name}-${V}`},Y))}else if(W.voidElement)Z.push(`<${W.name} />`);else{const Y=T(F,W.children,O);Z.push(`<${W.name}>${Y}</${W.name}>`)}else if(ia(q)&&!de){const Y=W.children[0]?Q:null;Y&&Z.push(Y)}else N(q,Q,Z,V,W.children.length!==1||!Q)}else if(W.type==="text"){const G=s.transWrapTextNodes,q=l?s.unescape(i.services.interpolator.interpolate(W.content,w,i.language)):i.services.interpolator.interpolate(W.content,w,i.language);G?Z.push(j.createElement(G,{key:`${W.name}-${V}`},q)):Z.push(q)}return Z},[])},k=T([{dummy:!0,children:e||[]}],_,bl(e||[]));return Cg(k[0])},o5=(e,t,n)=>{const i=e.key||t,s=j.cloneElement(e,{key:i});if(!s.props||!s.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return s;function a(){return j.createElement(j.Fragment,null,s)}return j.createElement(a,{key:i})},$T=(e,t)=>e.map((n,i)=>o5(n,i,t)),AT=(e,t)=>{const n={};return Object.keys(e).forEach(i=>{Object.assign(n,{[i]:o5(e[i],i,t)})}),n},LT=(e,t,n,i)=>e?Array.isArray(e)?$T(e,t):ia(e)?AT(e,t):(Ff(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null,MT=e=>!ia(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function PT({children:e,count:t,parent:n,i18nKey:i,context:s,tOptions:a={},values:l,defaults:d,components:f,ns:m,i18n:y,t:v,shouldUnescape:_,...w}){const C=y||Py();if(!C)return Ff(C,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),e;const N=v||C.t.bind(C)||(K=>K),T={...r5(),...C.options?.react};let k=m||N.ns||C.options?.defaultNS;k=Gi(k)?[k]:k||["translation"];const A=a5(e,T,C,i),$=d||a?.defaultValue||A||T.transEmptyNodeValue||(typeof i=="function"?wf(i):i),{hashTransKey:O}=T,F=i||(O?O(A||$):A||$);C.options?.interpolation?.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...C.options.interpolation.defaultVariables}:{...C.options.interpolation.defaultVariables});const R=l||t!==void 0&&!C.options?.interpolation?.alwaysFormat||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},Z={...a,context:s||a.context,count:t,...l,...R,defaultValue:$,ns:k};let W=F?N(F,Z):$;W===F&&$&&(W=$);const V=LT(f,W,C,i);let Q=V||e,G=null;MT(V)&&(G=V,Q=e);const q=kT(Q,G,W,C,T,Z,_),de=n??T.defaultTransParent;return de?j.createElement(de,w,q):q}const OT={type:"3rdParty",init(e){CT(e.options.react),ET(e)}},l5=j.createContext();class RT{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function DT({children:e,count:t,parent:n,i18nKey:i,context:s,tOptions:a={},values:l,defaults:d,components:f,ns:m,i18n:y,t:v,shouldUnescape:_,...w}){const{i18n:C,defaultNS:N}=j.useContext(l5)||{},T=y||C||Py(),k=v||T?.t.bind(T);return PT({children:e,count:t,parent:n,i18nKey:i,context:s,tOptions:a,values:l,defaults:d,components:f,ns:m||k?.ns||N||T?.options?.defaultNS,i18n:T,t:v,shouldUnescape:_,...w})}var Eg={exports:{}},jg={};var Y_;function zT(){if(Y_)return jg;Y_=1;var e=Wc();function t(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function d(v,_){var w=_(),C=i({inst:{value:w,getSnapshot:_}}),N=C[0].inst,T=C[1];return a(function(){N.value=w,N.getSnapshot=_,f(N)&&T({inst:N})},[v,w,_]),s(function(){return f(N)&&T({inst:N}),v(function(){f(N)&&T({inst:N})})},[v]),l(w),w}function f(v){var _=v.getSnapshot;v=v.value;try{var w=_();return!n(v,w)}catch{return!0}}function m(v,_){return _()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return jg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,jg}var X_;function IT(){return X_||(X_=1,Eg.exports=zT()),Eg.exports}var BT=IT();const UT=(e,t)=>Gi(t)?t:ia(t)&&Gi(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,FT={t:UT,ready:!1},VT=()=>()=>{},dt=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=j.useContext(l5)||{},a=n||i||Py();a&&!a.reportNamespaces&&(a.reportNamespaces=new RT),a||Ff(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=j.useMemo(()=>({...r5(),...a?.options?.react,...t}),[a,t]),{useSuspense:d,keyPrefix:f}=l,m=s||a?.options?.defaultNS,y=Gi(m)?[m]:m||["translation"],v=j.useMemo(()=>y,y);a?.reportNamespaces?.addUsedNamespaces?.(v);const _=j.useRef(0),w=j.useCallback(V=>{if(!a)return VT;const{bindI18n:Q,bindI18nStore:G}=l,q=()=>{_.current+=1,V()};return Q&&a.on(Q,q),G&&a.store.on(G,q),()=>{Q&&Q.split(" ").forEach(de=>a.off(de,q)),G&&G.split(" ").forEach(de=>a.store.off(de,q))}},[a,l]),C=j.useRef(),N=j.useCallback(()=>{if(!a)return FT;const V=!!(a.isInitialized||a.initializedStoreOnce)&&v.every(ne=>bT(ne,a,l)),Q=t.lng||a.language,G=_.current,q=C.current;if(q&&q.ready===V&&q.lng===Q&&q.keyPrefix===f&&q.revision===G)return q;const K={t:a.getFixedT(Q,l.nsMode==="fallback"?v:v[0],f),ready:V,lng:Q,keyPrefix:f,revision:G};return C.current=K,K},[a,v,f,l,t.lng]),[T,k]=j.useState(0),{t:A,ready:$}=BT.useSyncExternalStore(w,N,N);j.useEffect(()=>{if(a&&!$&&!d){const V=()=>k(Q=>Q+1);t.lng?W_(a,t.lng,v,V):k0(a,v,V)}},[a,t.lng,v,$,d,T]);const O=a||{},F=j.useRef(null),R=j.useRef(),Z=V=>{const Q=Object.getOwnPropertyDescriptors(V);Q.__original&&delete Q.__original;const G=Object.create(Object.getPrototypeOf(V),Q);if(!Object.prototype.hasOwnProperty.call(G,"__original"))try{Object.defineProperty(G,"__original",{value:V,writable:!1,enumerable:!1,configurable:!1})}catch{}return G},W=j.useMemo(()=>{const V=O,Q=V?.language;let G=V;V&&(F.current&&F.current.__original===V?R.current!==Q?(G=Z(V),F.current=G,R.current=Q):G=F.current:(G=Z(V),F.current=G,R.current=Q));const q=[A,G,$];return q.t=A,q.i18n=G,q.ready=$,q},[A,O,$,O.resolvedLanguage,O.language,O.languages]);if(a&&d&&!$)throw new Promise(V=>{const Q=()=>V();t.lng?W_(a,t.lng,v,Q):k0(a,v,Q)});return W},HT="modulepreload",ZT=function(e){return"/Map/"+e},J_={},ed=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");s=f(n.map(m=>{if(m=ZT(m),m in J_)return;J_[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":HT,y||(_.as="script"),_.crossOrigin="",_.href=m,d&&_.setAttribute("nonce",d),document.head.appendChild(_),y)return new Promise((w,C)=>{_.addEventListener("load",w),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return s.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function qT(e=[]){const[t,n]=j.useState(e);j.useEffect(()=>{Array.isArray(e)&&n(e)},[e]);const i=["id","lat","lng","rectangle","angle","coreLocked"],s=["iconUrl","iconSize","iconColor","className","prefix","glyph","glyphColor","glyphSize","shadowScale","glyphAnchor","appearanceLocked"],a=["name","logo","website","info","contentLocked"],l=j.useCallback(async(d,f)=>{async function m(v,_,w){const{data:C,error:N}=await v.from(_).select("id").eq("id",w);if(!N&&(!C||C.length===0)){let T={id:w};return _==="Markers_Core"&&(T.coreLocked=!1),_==="Markers_Appearance"&&(T.appearanceLocked=!1),_==="Markers_Content"&&(T.contentLocked=!1),await v.from(_).insert([T]),!0}return!0}const y=typeof d=="string"&&d.startsWith("m")?parseInt(d.slice(1),10):d;n(v=>v.map(_=>_.id===d?{..._,...f}:_));try{const{supabase:v}=await ed(async()=>{const{supabase:T}=await Promise.resolve().then(()=>OS);return{supabase:T}},[]),_=[{name:"Markers_Core",fields:i},{name:"Markers_Appearance",fields:s},{name:"Markers_Content",fields:a}];for(const{name:T}of _)await m(v,T,y);const w={},C={},N={};for(const[T,k]of Object.entries(f))i.includes(T)?w[T]=k:s.includes(T)?C[T]=k:a.includes(T)&&(N[T]=k);Object.keys(w).length>0&&await v.from("Markers_Core").update(w).eq("id",y),Object.keys(C).length>0&&await v.from("Markers_Appearance").update(C).eq("id",y),Object.keys(N).length>0&&await v.from("Markers_Content").update(N).eq("id",y)}catch{}},[]);return[t,l,n]}function GT(e=new Date().getFullYear()){const t=typeof window<"u"?localStorage.getItem("eventMarkers"):null,n=typeof navigator<"u"?navigator.onLine:!0,[i,s]=j.useState(n),[a,l]=j.useState(()=>!n&&t?JSON.parse(t):[]),[d,f]=j.useState(()=>!(!n&&t)),m=j.useRef(e);j.useEffect(()=>{m.current=e},[e]);const y=j.useCallback(async v=>{const _=m.current;if(f(!0),!v&&t){l(JSON.parse(t)),f(!1);return}try{const[w,C,N,T,k]=await Promise.all([pe.from("Markers_Core").select("*"),pe.from("Markers_Appearance").select("*"),pe.from("Markers_Content").select("*"),pe.from("assignments").select(`
            *,
            company:companies(id, name, logo, website, info, company_translations(language_code, info))
          `).eq("event_year",_),pe.from("event_subscriptions").select("*").eq("event_year",_)]);if(w.error)throw w.error;if(C.error)throw C.error;if(N.error)throw N.error;if(T.error)throw T.error;if(k.error)throw k.error;const A={};for(const V of C.data||[])V&&V.id&&(A[V.id]=V);const $={};for(const V of N.data||[])V&&V.id&&($[V.id]=V);const O={appearance:A[-1]||{},core:(w.data||[]).find(V=>V.id===-1)||{}},F={appearance:A[-2]||{},core:(w.data||[]).find(V=>V.id===-2)||{}},R={};for(const V of k.data||[])V&&V.company_id&&(R[V.company_id]=V);const Z={};for(const V of T.data||[])!V||!V.marker_id||(Z[V.marker_id]||(Z[V.marker_id]=[]),Z[V.marker_id].push({assignmentId:V.id,companyId:V.company_id,...V.company}));const W=(w.data||[]).filter(V=>V.id>0).map(V=>{const Q=A[V.id]||{},G=$[V.id]||{},q=Z[V.id]||[];let de={},K={};if(V.id<1e3){const ne=q[0]||{},H=!!ne.companyId;de={name:ne.name,logo:ne.logo,website:ne.website,info:ne.info,companyId:ne.companyId,assignmentId:ne.assignmentId,company_translations:ne.company_translations};const Y=H?O:F,ie={...Y.appearance,...Q},ke={...Y.core,...V};if(Object.assign(V,ke),Object.assign(Q,ie),ne.companyId){const B=R[ne.companyId]||{};K={contact:B.contact,phone:B.phone,email:B.email,boothCount:B.booth_count,area:B.area,coins:B.coins,breakfast:B.breakfast_sat,lunch:B.lunch_sat,bbq:B.bbq_sat,notes:B.notes}}}else de={name:G.name,logo:G.logo,website:G.website,info:G.info},K={};return{...V,...Q,...de,...K,assignments:q}});l(W),localStorage.setItem("eventMarkers",JSON.stringify(W))}catch(w){console.error("Error loading markers:",w)}finally{f(!1)}},[t]);return j.useEffect(()=>{y(i);function v(){s(!0),y(!0)}function _(){s(!1);const $=localStorage.getItem("eventMarkers");$&&l(JSON.parse($)),f(!1)}window.addEventListener("online",v),window.addEventListener("offline",_);const w=pe.channel("markers-core-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Core"},()=>{y(!0)}).subscribe(),C=pe.channel("markers-appearance-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Appearance"},()=>{y(!0)}).subscribe(),N=pe.channel("markers-content-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Content"},()=>{y(!0)}).subscribe(),T=pe.channel("markers-assignments-changes").on("postgres_changes",{event:"*",schema:"public",table:"assignments"},async $=>{if($.eventType==="DELETE")y(!0);else if($.eventType==="INSERT"||$.eventType==="UPDATE"){if($.new?.event_year!==m.current)return;y(!0)}}).subscribe(),k=pe.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},$=>{if($.eventType==="UPDATE"&&$.new){const O=$.new;l(F=>F.map(R=>R.companyId===O.id?{...R,name:O.name,logo:O.logo,website:O.website,info:O.info}:R)),l(F=>(localStorage.setItem("eventMarkers",JSON.stringify(F)),F))}else y(!0)}).subscribe(),A=pe.channel(`event-subscriptions-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},$=>{y(!0)}).subscribe();return()=>{window.removeEventListener("online",v),window.removeEventListener("offline",_),pe.removeChannel(w),pe.removeChannel(C),pe.removeChannel(N),pe.removeChannel(T),pe.removeChannel(k),pe.removeChannel(A)}},[i,y]),j.useEffect(()=>{y(i)},[e,i,y]),{markers:a,loading:d,isOnline:i,reload:()=>y(i)}}function Oy(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(null),l=j.useRef(null),d=j.useRef(0),f=j.useCallback(async v=>{if(!v){t(null),i(!1),a(null);return}try{a(v.id);const{data:_,error:w}=await pe.from("user_preferences").select("*").eq("user_id",v.id).single();if(w&&w.code!=="PGRST116"){console.error("Error fetching preferences:",w),t(null),i(!1);return}if(_)d.current=_.row_version,t(_);else{const C=new Date().getFullYear(),T=localStorage.getItem("preferredLanguage")||"nl",k={user_id:v.id,default_year:C,preferred_language:T,assignments_sort_by:"alphabetic",assignments_sort_direction:"asc",assignments_column_sort:"markerId",assignments_column_sort_direction:"asc",dashboard_visible_cards:["stats","recent","actions"],default_rows_per_page:25,email_notifications:!0,feedback_active_tab:"all",feedback_filter_types:[],feedback_filter_statuses:[],row_version:1,updated_by:v.id},{data:A,error:$}=await pe.from("user_preferences").insert(k).select().single();$?(console.error("Error creating default preferences:",$),t(null)):(d.current=A.row_version,t(A))}i(!1)}catch(_){console.error("Error loading preferences:",_),t(null),i(!1)}},[]),m=j.useCallback(async(v,_,w=0)=>{if(!s)return console.error("Cannot update preference: No user logged in"),!1;try{const{data:C,error:N}=await pe.from("user_preferences").select("*").eq("user_id",s).single();if(N)return console.error("Error fetching current preferences:",N),!1;const T=C?.row_version||0;console.log(`useUserPreferences: Fetched current version for ${v}:`,T,"currentPrefs:",C);const{data:k,error:A}=await pe.from("user_preferences").update({[v]:_,row_version:T+1,updated_by:s}).eq("user_id",s).eq("row_version",T).select().single();if(A)if(A.code==="PGRST116"){if(w<3)return console.log(`useUserPreferences: Conflict detected for ${v}, retrying (${w+1}/3)...`),await new Promise($=>setTimeout($,100*(w+1))),m(v,_,w+1);{console.error(`useUserPreferences: Failed to update ${v} after 3 retries`);const{data:{user:$}}=await pe.auth.getUser();throw $&&await f($),new Error("Your preferences were updated from another device. Please try again.")}}else return console.error(`Error updating preference ${v}:`,A),!1;return console.log(`useUserPreferences: Successfully updated ${v} to`,_,"new data:",k),d.current=k.row_version,t(k),!0}catch(C){throw console.error("Error in updatePreference:",C),C}},[s,f]),y=j.useCallback(async(v,_=0)=>{if(!s)return console.error("Cannot update preferences: No user logged in"),!1;try{const{data:w,error:C}=await pe.from("user_preferences").select("*").eq("user_id",s).single();if(C)return console.error("Error fetching current preferences:",C),!1;const N=w?.row_version||0;console.log("useUserPreferences: Fetched current version for updates:",N,"currentPrefs:",w),console.log(`useUserPreferences: Attempting updates with version ${N} -> ${N+1}`);const{data:T,error:k}=await pe.from("user_preferences").update({...v,row_version:N+1,updated_by:s}).eq("user_id",s).eq("row_version",N).select().single();if(k)if(k.code==="PGRST116"){if(_<3)return console.log(`useUserPreferences: Conflict detected for updates, retrying (${_+1}/3)...`),await new Promise(A=>setTimeout(A,100*(_+1))),y(v,_+1);{console.error("useUserPreferences: Failed to update preferences after 3 retries");const{data:{user:A}}=await pe.auth.getUser();throw A&&await f(A),new Error("Your preferences were updated from another device. Please try again.")}}else return console.error("Error updating preferences:",k),!1;return d.current=T.row_version,t(T),!0}catch(w){throw console.error("Error in updatePreferences:",w),w}},[s,f]);return j.useEffect(()=>{let v=!1;pe.auth.getSession().then(({data:{session:w}})=>{!v&&w?f(w.user):v||i(!1)});const{data:{subscription:_}}=pe.auth.onAuthStateChange((w,C)=>{v||(C?f(C.user):(t(null),i(!1),a(null),l.current&&(l.current.unsubscribe(),l.current=null)))});return()=>{v=!0,_?.unsubscribe(),l.current&&(l.current.unsubscribe(),l.current=null)}},[f]),j.useEffect(()=>{if(s)return l.current&&(l.current.unsubscribe(),l.current=null),l.current=pe.channel(`user-preferences-${s}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_preferences"},v=>{v.new?.user_id===s?(console.log("useUserPreferences: Real-time update received for user",s,v.new),d.current=v.new.row_version,t(v.new)):console.log("useUserPreferences: Ignored realtime event for user",v.new?.user_id)}).subscribe(),()=>{l.current&&(l.current.unsubscribe(),l.current=null)}},[s]),{preferences:e,loading:n,updatePreference:m,updatePreferences:y}}const u5=j.createContext(null);function KT({children:e}){const{preferences:t,loading:n,updatePreference:i,updatePreferences:s}=Oy();return h.jsx(u5.Provider,{value:{preferences:t,loading:n,updatePreference:i,updatePreferences:s},children:e})}function c5(){const e=j.useContext(u5);if(!e)throw new Error("usePreferences must be used within a PreferencesProvider");return e}class Ng extends Ti.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?h.jsxs("div",{style:{color:"red",padding:"2rem"},children:[h.jsx("h2",{children:"Something went wrong in a component."}),h.jsx("pre",{children:typeof this.state.error=="string"?this.state.error:JSON.stringify(this.state.error,null,2)})]}):h.jsx("div",{style:{width:"100%",minHeight:"100svh",boxSizing:"border-box",position:"relative"},children:this.props.children})}}function WT(){const[e,t]=j.useState(typeof navigator<"u"?navigator.onLine:!0);return j.useEffect(()=>{function n(){t(!0)}function i(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),e?null:h.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-900 px-4 py-2 rounded shadow-lg z-50",role:"status","aria-live":"polite",children:h.jsx("span",{"aria-label":"Offline mode",children:"You are offline. Some features may be unavailable."})})}var Tg={exports:{}},kg,Q_;function YT(){if(Q_)return kg;Q_=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kg=e,kg}var $g,e2;function XT(){if(e2)return $g;e2=1;var e=YT();function t(){}function n(){}return n.resetWarningCache=t,$g=function(){function i(l,d,f,m,y,v){if(v!==e){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},$g}var t2;function d5(){return t2||(t2=1,Tg.exports=XT()()),Tg.exports}var JT=d5();const Ne=oa(JT);var Ag,n2;function QT(){return n2||(n2=1,Ag=(function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(i,s,a){n.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,s){if(1&s&&(i=n(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)n.d(a,l,(function(d){return i[d]}).bind(null,l));return a},n.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="",n(n.s=2)})([function(e,t){e.exports=d5()},function(e,t){e.exports=Wc()},function(e,t,n){n.r(t);var i=n(1),s=n(0),a=function(){return(a=Object.assign||function(C){for(var N,T=1,k=arguments.length;T<k;T++)for(var A in N=arguments[T])Object.prototype.hasOwnProperty.call(N,A)&&(C[A]=N[A]);return C}).apply(this,arguments)},l=function(C,N){var T={};for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&N.indexOf(k)<0&&(T[k]=C[k]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(k=Object.getOwnPropertySymbols(C);A<k.length;A++)N.indexOf(k[A])<0&&Object.prototype.propertyIsEnumerable.call(C,k[A])&&(T[k[A]]=C[k[A]])}return T},d=0,f=i.forwardRef((function(C,N){var T=C.title,k=T===void 0?null:T,A=C.description,$=A===void 0?null:A,O=C.size,F=O===void 0?null:O,R=C.color,Z=R===void 0?"currentColor":R,W=C.horizontal,V=W===void 0?null:W,Q=C.vertical,G=Q===void 0?null:Q,q=C.rotate,de=q===void 0?null:q,K=C.spin,ne=K===void 0?null:K,H=C.style,Y=H===void 0?{}:H,ie=C.children,ke=l(C,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);d++;var B,D=ne!==null&&ne,te=i.Children.map(ie,(function(ve){var Te=ve;D!==!0&&(D=(ne===null?Te.props.spin:ne)===!0);var be=Te.props.size;typeof F=="number"&&typeof Te.props.size=="number"&&(be=Te.props.size/F);var ce={size:be,color:Z===null?Te.props.color:Z,horizontal:V===null?Te.props.horizontal:V,vertical:G===null?Te.props.vertical:G,rotate:de===null?Te.props.rotate:de,spin:ne===null?Te.props.spin:ne,inStack:!0};return i.cloneElement(Te,ce)}));F!==null&&(Y.width=typeof F=="string"?F:1.5*F+"rem");var I,fe="stack_labelledby_"+d,le="stack_describedby_"+d;if(k)B=$?fe+" "+le:fe;else if(I="presentation",$)throw new Error("title attribute required when description is set");return i.createElement("svg",a({ref:N,viewBox:"0 0 24 24",style:Y,role:I,"aria-labelledby":B},ke),k&&i.createElement("title",{id:fe},k),$&&i.createElement("desc",{id:le},$),D&&i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),te)}));f.displayName="Stack",f.propTypes={size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),children:s.oneOfType([s.arrayOf(s.node),s.node]).isRequired,className:s.string,style:s.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var m=f;n.d(t,"Icon",(function(){return w})),n.d(t,"Stack",(function(){return m}));var y=function(){return(y=Object.assign||function(C){for(var N,T=1,k=arguments.length;T<k;T++)for(var A in N=arguments[T])Object.prototype.hasOwnProperty.call(N,A)&&(C[A]=N[A]);return C}).apply(this,arguments)},v=function(C,N){var T={};for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&N.indexOf(k)<0&&(T[k]=C[k]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(k=Object.getOwnPropertySymbols(C);A<k.length;A++)N.indexOf(k[A])<0&&Object.prototype.propertyIsEnumerable.call(C,k[A])&&(T[k[A]]=C[k[A]])}return T},_=0,w=i.forwardRef((function(C,N){var T=C.path,k=C.id,A=k===void 0?++_:k,$=C.title,O=$===void 0?null:$,F=C.description,R=F===void 0?null:F,Z=C.size,W=Z===void 0?null:Z,V=C.color,Q=V===void 0?"currentColor":V,G=C.horizontal,q=G!==void 0&&G,de=C.vertical,K=de!==void 0&&de,ne=C.rotate,H=ne===void 0?0:ne,Y=C.spin,ie=Y!==void 0&&Y,ke=C.style,B=ke===void 0?{}:ke,D=C.inStack,te=D!==void 0&&D,I=v(C,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),fe={},le=[];W!==null&&(te?le.push("scale("+W+")"):(B.width=typeof W=="string"?W:1.5*W+"rem",B.height=B.width)),q&&le.push("scaleX(-1)"),K&&le.push("scaleY(-1)"),H!==0&&le.push("rotate("+H+"deg)"),Q!==null&&(fe.fill=Q);var ve=i.createElement("path",y({d:T,style:fe},te?I:{})),Te=ve;le.length>0&&(B.transform=le.join(" "),B.transformOrigin="center",te&&(Te=i.createElement("g",{style:B},ve,i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var be,ce=Te,ae=ie===!0||typeof ie!="number"?2:ie,J=!te&&(q||K);if(ae<0&&(J=!J),ie&&(ce=i.createElement("g",{style:{animation:"spin"+(J?"-inverse":"")+" linear "+Math.abs(ae)+"s infinite",transformOrigin:"center"}},Te,!(q||K||H!==0)&&i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),te)return ce;var se,Me="icon_labelledby_"+A,Pe="icon_describedby_"+A;if(O)be=R?Me+" "+Pe:Me;else if(se="presentation",R)throw new Error("title attribute required when description is set");return i.createElement("svg",y({ref:N,viewBox:"0 0 24 24",style:B,role:se,"aria-labelledby":be},I),O&&i.createElement("title",{id:Me},O),R&&i.createElement("desc",{id:Pe},R),!te&&ie&&(J?i.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),ce)}));w.displayName="Icon",w.propTypes={path:s.string.isRequired,size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),style:s.object,inStack:s.bool,className:s.string},w.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=w}])),Ag}var h5=QT();const _e=oa(h5);var f5="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",m5="M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",ek="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",tk="M20.56 3.91C21.15 4.5 21.15 5.45 20.56 6.03L16.67 9.92L18.79 19.11L17.38 20.53L13.5 13.1L9.6 17L9.96 19.47L8.89 20.53L7.13 17.35L3.94 15.58L5 14.5L7.5 14.87L11.37 11L3.94 7.09L5.36 5.68L14.55 7.8L18.44 3.91C19 3.33 20 3.33 20.56 3.91Z",A0="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",td="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Vf="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",nk="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z",ik="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",L0="M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z",rk="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",p5="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",Ry="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",sk="M6.5 5C5.84 5 5.28 5.42 5.08 6L3 12V20A1 1 0 0 0 4 21H5A1 1 0 0 0 6 20V19H11.3A7 7 0 0 1 11 17A7 7 0 0 1 14.41 11H5L6.5 6.5H17.5L18.68 10.03A7 7 0 0 1 20.47 10.46L18.92 6C18.72 5.42 18.16 5 17.5 5H6.5M17 12C16.87 12 16.76 12.09 16.74 12.21L16.55 13.53C16.25 13.66 15.96 13.82 15.7 14L14.46 13.5C14.35 13.5 14.22 13.5 14.15 13.63L13.15 15.36C13.09 15.47 13.11 15.6 13.21 15.68L14.27 16.5C14.25 16.67 14.24 16.83 14.24 17C14.24 17.17 14.25 17.33 14.27 17.5L13.21 18.32C13.12 18.4 13.09 18.53 13.15 18.64L14.15 20.37C14.21 20.5 14.34 20.5 14.46 20.5L15.7 20C15.96 20.18 16.24 20.35 16.55 20.47L16.74 21.79C16.76 21.91 16.86 22 17 22H19C19.11 22 19.22 21.91 19.24 21.79L19.43 20.47C19.73 20.34 20 20.18 20.27 20L21.5 20.5C21.63 20.5 21.76 20.5 21.83 20.37L22.83 18.64C22.89 18.53 22.86 18.4 22.77 18.32L21.7 17.5C21.72 17.33 21.74 17.17 21.74 17C21.74 16.83 21.73 16.67 21.7 16.5L22.76 15.68C22.85 15.6 22.88 15.47 22.82 15.36L21.82 13.63C21.76 13.5 21.63 13.5 21.5 13.5L20.27 14C20 13.82 19.73 13.65 19.42 13.53L19.23 12.21C19.22 12.09 19.11 12 19 12H17M6.5 13A1.5 1.5 0 0 1 8 14.5A1.5 1.5 0 0 1 6.5 16A1.5 1.5 0 0 1 5 14.5A1.5 1.5 0 0 1 6.5 13M18 15.5C18.83 15.5 19.5 16.17 19.5 17C19.5 17.83 18.83 18.5 18 18.5C17.16 18.5 16.5 17.83 16.5 17C16.5 16.17 17.17 15.5 18 15.5Z",ak="M18.9 6C18.7 5.4 18.1 5 17.5 5H6.5C5.8 5 5.3 5.4 5.1 6L3 12V20C3 20.5 3.5 21 4 21H5C5.6 21 6 20.5 6 20V19H18V20C18 20.5 18.5 21 19 21H20C20.5 21 21 20.5 21 20V12L18.9 6M6.8 7H17.1L18.2 10H5.8L6.8 7M19 17H5V12H19V17M7.5 13C8.3 13 9 13.7 9 14.5S8.3 16 7.5 16 6 15.3 6 14.5 6.7 13 7.5 13M16.5 13C17.3 13 18 13.7 18 14.5S17.3 16 16.5 16C15.7 16 15 15.3 15 14.5S15.7 13 16.5 13Z",ok="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z",lk="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z",ra="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",nd="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",Pl="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",uk="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",g5="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Ol="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",ck="M15 4A8 8 0 1 1 7 12A8 8 0 0 1 15 4M3 12A6 6 0 0 0 7 17.65V19.74A8 8 0 0 1 7 4.26V6.35A6 6 0 0 0 3 12Z",y5="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",dk="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z",hk="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",mo="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",M0="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",v5="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z",i2="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M13,10H11V6H13V10M13,14H11V12H13V14Z",fk="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",mk="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",ql="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",$r="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z",lf="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",pk="M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z",gk="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",b5="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",r2="M22,19L19,17L22,15V19M15,15L19,9L22,13L18,16L15,15M5,17L2,19V15L5,17M9,15L6,16L2,13L5,9L9,15M14,6L18,8L13,15H11L6,8L10,6H14Z",yk="M20.16 12.73C22.93 9.96 22.57 5.26 19.09 3C17.08 1.67 14.39 1.66 12.36 2.97C10.6 4.1 9.63 5.86 9.46 7.68C9.33 9 8.83 10.23 7.91 11.15L7.88 11.18C6.72 12.34 6.72 14.11 7.81 15.19L8.8 16.18C9.89 17.27 11.66 17.27 12.75 16.18C13.72 15.21 15 14.68 16.39 14.53C17.76 14.38 19.1 13.78 20.16 12.73M6.26 19.86C6.53 20.42 6.44 21.1 5.97 21.56C5.39 22.15 4.44 22.15 3.85 21.56C3.58 21.29 3.44 20.94 3.42 20.58C3.06 20.56 2.71 20.42 2.44 20.15C1.85 19.56 1.85 18.61 2.44 18.03C2.9 17.57 3.59 17.47 4.14 17.74L6.62 15.31C6.76 15.5 6.92 15.72 7.1 15.9L8.09 16.89C8.3 17.09 8.5 17.26 8.76 17.41L6.26 19.86Z",s2="M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z",vk="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",a2="M8.06,2C7.88,3.17 8.17,4.16 8.95,4.97C9.45,5.47 9.61,6.14 9.42,7H10.41C10.53,6.45 10.55,6 10.45,5.55C10.36,5.13 10.05,4.63 9.5,4.03C9.05,3.47 8.89,2.8 9.05,2H8.06M10.55,2C10.36,3.17 10.66,4.16 11.44,4.97C11.94,5.47 12.09,6.14 11.91,7H12.89C13,6.45 13.03,6 12.94,5.55C12.84,5.13 12.53,4.63 12,4.03C11.53,3.47 11.38,2.8 11.53,2H10.55M13.08,2C12.89,3.17 13.19,4.16 13.97,4.97C14.47,5.47 14.61,6.14 14.39,7H15.42C15.55,6.45 15.56,6 15.47,5.55C15.38,5.13 15.06,4.63 14.53,4.03C14.06,3.47 13.91,2.8 14.06,2H13.08M5,8C5,9.42 5.39,10.7 6.14,11.84C6.87,12.96 7.91,13.85 9.14,14.39L5.16,20.44C5.06,20.56 5,20.75 5,21C5,21.41 5.16,21.69 5.44,21.84C5.56,21.94 5.75,22 6,22C6.41,22 6.69,21.84 6.84,21.56L7.83,19.97H14.2C14.41,20.55 14.79,21.05 15.28,21.42C15.78,21.8 16.36,22 17,22C17.83,22 18.53,21.69 19.13,21.09C19.72,20.5 20,19.8 20,19C20,18.17 19.72,17.47 19.13,16.88C18.53,16.28 17.83,16 17,16C16.36,16 15.78,16.17 15.28,16.55C14.78,16.92 14.42,17.41 14.2,18H9.14L11.11,14.95C11.27,15 11.56,15 12,15C12.44,15 12.73,15 12.89,14.95L13.88,16.5C14.29,15.96 14.84,15.54 15.47,15.28L14.91,14.39C16.03,13.89 17,13 17.79,11.77C18.59,10.5 19,9.27 19,8H5M17,18C17.3,18 17.53,18.09 17.72,18.28C17.91,18.47 18,18.72 18,19C18,19.27 17.91,19.5 17.72,19.71C17.54,19.91 17.28,20 17,20C16.74,20 16.5,19.91 16.29,19.71C16.09,19.5 16,19.26 16,19C16,18.7 16.09,18.47 16.29,18.28C16.5,18.09 16.73,18 17,18Z",bk="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",xk="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",_k="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",wk="M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z",Sk="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Ck="M12 0L3 7L4.63 8.27L12 14L19.36 8.27L21 7L12 0M19.37 10.73L12 16.47L4.62 10.74L3 12L12 19L21 12L19.37 10.73M19.37 15.73L12 21.47L4.62 15.74L3 17L12 24L21 17L19.37 15.73Z",P0="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z",Ek="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",jk="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",Nk="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",Tk="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",yo="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",O0="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z",Rl="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",x5="M14,11.5A2.5,2.5 0 0,0 16.5,9A2.5,2.5 0 0,0 14,6.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 14,11.5M14,2C17.86,2 21,5.13 21,9C21,14.25 14,22 14,22C14,22 7,14.25 7,9A7,7 0 0,1 14,2M5,9C5,13.5 10.08,19.66 11,20.81L10,22C10,22 3,14.25 3,9C3,5.83 5.11,3.15 8,2.29C6.16,3.94 5,6.33 5,9Z",kk="M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z",$k="M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z",_5="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",Hf="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",id="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",w5="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",Ak="M2,21L23,12L2,3V10L17,12L2,14V21Z",S5="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",Lk="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",R0="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",Mk="M4,6C4,7.19 4.39,8.27 5,9A3,3 0 0,1 2,6A3,3 0 0,1 5,3C4.39,3.73 4,4.81 4,6M2,21V19H4.76L12,4.78L19.24,19H22V21H2M12,9.19L7,19H17L12,9.19Z",Pk="M14,6L10.25,11L13.1,14.8L11.5,16C9.81,13.75 7,10 7,10L1,18H23L14,6Z",C5="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z",D0="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",Ok="M22,15V17H10A3,3 0 0,1 7,20A3,3 0 0,1 4,17H2V6A2,2 0 0,1 4,4H17A2,2 0 0,1 19,6V15H22M7,16A1,1 0 0,0 6,17A1,1 0 0,0 7,18A1,1 0 0,0 8,17A1,1 0 0,0 7,16Z",Rk="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",Dk="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z";function Rr({isOpen:e,onClose:t,title:n,children:i,size:s="md",showCloseButton:a=!0,closeOnBackdrop:l=!0,className:d=""}){if(!e)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"},m=y=>{l&&t&&t()};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,children:h.jsxs("div",{className:`bg-white rounded-xl shadow-2xl border border-gray-200 ${f[s]} w-full max-h-[90vh] flex flex-col ${d}`,onClick:y=>y.stopPropagation(),children:[n&&h.jsxs("div",{className:"flex-shrink-0 bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[h.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:n}),a&&t&&h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-200","aria-label":"Close",children:h.jsx(_e,{path:mo,size:.9})})]}),h.jsx("div",{className:"overflow-y-auto flex-1 [&_input]:bg-white [&_input]:text-gray-900 [&_textarea]:bg-white [&_textarea]:text-gray-900 [&_select]:bg-white [&_select]:text-gray-900",children:i})]})})}Rr.propTypes={isOpen:Ne.bool.isRequired,onClose:Ne.func,title:Ne.string,children:Ne.node.isRequired,size:Ne.oneOf(["sm","md","lg","xl","full"]),showCloseButton:Ne.bool,closeOnBackdrop:Ne.bool,className:Ne.string};Rr.defaultProps={onClose:null,title:null,size:"md",showCloseButton:!0,closeOnBackdrop:!0,className:""};function Dy({isOpen:e,title:t,message:n,confirmText:i,cancelText:s,onConfirm:a,onCancel:l,variant:d}){const f={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",default:"bg-blue-600 hover:bg-blue-700"},m=f[d]||f.default;return h.jsx(Rr,{isOpen:e,onClose:l,title:t,size:"md",children:h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:s}),h.jsx("button",{onClick:a,className:`px-4 py-2 text-white rounded-md transition-colors ${m}`,autoFocus:!0,children:i})]})]})})}Dy.propTypes={isOpen:Ne.bool.isRequired,title:Ne.string,message:Ne.string.isRequired,confirmText:Ne.string,cancelText:Ne.string,onConfirm:Ne.func.isRequired,onCancel:Ne.func.isRequired,variant:Ne.oneOf(["default","danger","warning"])};Dy.defaultProps={title:null,confirmText:"Confirm",cancelText:"Cancel",variant:"default"};function zy({message:e,type:t,onClose:n,duration:i}){j.useEffect(()=>{if(i>0){const l=setTimeout(n,i);return()=>clearTimeout(l)}},[i,n]);const s={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},a=s[t]||s.info;return h.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white max-w-sm ${a}`,role:"alert",children:h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("p",{className:"text-sm",children:e}),h.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-lg leading-none","aria-label":"Close",children:""})]})})}zy.propTypes={message:Ne.string.isRequired,type:Ne.oneOf(["success","error","warning","info"]),onClose:Ne.func.isRequired,duration:Ne.number};zy.defaultProps={type:"info",duration:5e3};const E5=j.createContext(null);function j5({children:e}){const[t,n]=j.useState({isOpen:!1,title:null,message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"default",resolve:null}),[i,s]=j.useState([]),a=j.useCallback(({title:N,message:T,confirmText:k,cancelText:A,variant:$}={})=>new Promise(O=>{n({isOpen:!0,title:N||null,message:T||"",confirmText:k||"Confirm",cancelText:A||"Cancel",variant:$||"default",resolve:O})}),[]),l=j.useCallback(()=>{t.resolve?.(!0),n(N=>({...N,isOpen:!1}))},[t.resolve]),d=j.useCallback(()=>{t.resolve?.(!1),n(N=>({...N,isOpen:!1}))},[t.resolve]),f=j.useCallback(({message:N,type:T="info",duration:k=5e3}={})=>{const A=Date.now()+Math.random();return s($=>[...$,{id:A,message:N,type:T,duration:k}]),A},[]),m=j.useCallback((N,T)=>f({message:N,type:"success",duration:T}),[f]),y=j.useCallback((N,T)=>f({message:N,type:"error",duration:T}),[f]),v=j.useCallback((N,T)=>f({message:N,type:"warning",duration:T}),[f]),_=j.useCallback((N,T)=>f({message:N,type:"info",duration:T}),[f]),w=j.useCallback(N=>{s(T=>T.filter(k=>k.id!==N))},[]),C={confirm:a,toast:f,toastSuccess:m,toastError:y,toastWarning:v,toastInfo:_};return h.jsxs(E5.Provider,{value:C,children:[e,h.jsx(Dy,{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,variant:t.variant,onConfirm:l,onCancel:d}),h.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:i.map(N=>h.jsx(zy,{message:N.message,type:N.type,duration:N.duration,onClose:()=>w(N.id)},N.id))})]})}j5.propTypes={children:Ne.node.isRequired};function ui(){const e=j.useContext(E5);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e}const zk=[{code:"en",label:"English",flag:""},{code:"nl",label:"Nederlands",flag:""},{code:"de",label:"Deutsch",flag:""}];function Pc({className:e=""}){const{i18n:t}=dt(),{updatePreference:n}=c5(),{toastError:i,toastWarning:s}=ui(),a=t.language,l=async d=>{t.changeLanguage(d),localStorage.setItem("preferredLanguage",d);try{await n("preferred_language",d)}catch(f){f.message.includes("updated from another device")?s(f.message):i("Failed to save language preference. Please try again.")}};return h.jsx("div",{className:`flex items-center gap-2 ${e}`,children:zk.map(d=>h.jsxs("button",{onClick:()=>l(d.code),className:`px-2 py-1 rounded border text-xs font-semibold transition focus:outline-none flex items-center gap-1 ${a===d.code?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-300 hover:bg-blue-50"}`,"aria-pressed":a===d.code,children:[h.jsx("span",{style:{fontSize:"1.1em"},children:d.flag}),d.label]},d.code))})}const ai={DEFAULT_POSITION:[51.898095078807025,5.772961378097534],DEFAULT_ZOOM:17,MIN_ZOOM:14,MAX_ZOOM:22,SEARCH_ZOOM:19,ZOOM_DELTA:.5,ZOOM_SNAP:.5,RECTANGLE_SIZE:[6,6],MINIMAP:{WIDTH:120,HEIGHT:120,ZOOM_LEVEL:15,AIMING_COLOR:"#1976d2",SHADOW_COLOR:"#90caf9"},MARKER_SIZING:{ENABLED:!0,APPLY_IN_ADMIN:!0,SPECIAL_MARKER_MULTIPLIER:1.2,ZOOM_BUCKETS:[{minZoom:14,maxZoom:16.99,size:[6,10]},{minZoom:17,maxZoom:17.49,size:[8,13.33]},{minZoom:17.5,maxZoom:17.99,size:[12,20]},{minZoom:18,maxZoom:18.49,size:[15,25]},{minZoom:18.5,maxZoom:18.99,size:[20,33.33]},{minZoom:19,maxZoom:22,size:[25,41]}],DEFAULT_SIZE:[25,41]}},po={DEFAULT_LOGO:"4x4Vakantiebeurs.png",getDefaultLogoPath:()=>{const e="/Map";return`${e.endsWith("/")?e:`${e}/`}assets/logos/${po.DEFAULT_LOGO}`}},Ik=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function Bk({onLogin:e,branding:t}){const{t:n}=dt(),[i,s]=j.useState(""),[a,l]=j.useState(""),[d,f]=j.useState(!1),[m,y]=j.useState(!1),[v,_]=j.useState(null),[w,C]=j.useState(!1),[N,T]=j.useState(!1),[k,A]=j.useState(""),[$,O]=j.useState(!1),[F,R]=j.useState(!1),Z=j.useRef(null);j.useEffect(()=>{const q=localStorage.getItem("adminRememberEmail");q&&(s(q),y(!0))},[]),j.useEffect(()=>{v&&Z.current&&Z.current.focus()},[v]);const W=async q=>{q.preventDefault(),C(!0),_(null),m?localStorage.setItem("adminRememberEmail",i):localStorage.removeItem("adminRememberEmail");const{data:de,error:K}=await pe.auth.signInWithPassword({email:i,password:a});C(!1),K?K.message.includes("Invalid login credentials")?_(n("adminLogin.errors.invalidCredentials")):K.message.includes("Email not confirmed")?_(K.message):K.message.includes("Network")?_(n("adminLogin.errors.networkError")):_(n("adminLogin.errors.unknownError")):e(de.user)},V=async q=>{q.preventDefault(),O(!0),_(null);const K=`${window.location.origin}/Map#/reset-password`,{error:ne}=await pe.auth.resetPasswordForEmail(k,{redirectTo:K});O(!1),ne?_(n("adminLogin.errors.resetFailed")):(R(!0),setTimeout(()=>{T(!1),R(!1),A("")},5e3))},Q=t?.eventName||"4x4 Vakantiebeurs",G=t?.logo||po.getDefaultLogoPath();return N?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(Pc,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:G,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:Q}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:n("adminLogin.resetPassword")}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n("adminLogin.resetInstructions")}),F?h.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",role:"alert","aria-live":"polite",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{children:n("adminLogin.resetEmailSent")})]})}):h.jsxs("form",{onSubmit:V,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"reset-email",className:"label-base",children:n("adminLogin.email")}),h.jsx("input",{id:"reset-email",type:"email",value:k,onChange:q=>A(q.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),required:!0})]}),v&&h.jsx("div",{ref:Z,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm",children:v})]})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:$,children:n($?"adminLogin.loggingIn":"adminLogin.sendResetLink")}),h.jsxs("button",{type:"button",onClick:()=>{T(!1),_(null),A("")},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",n("adminLogin.backToLogin")]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(Pc,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:G,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:Q}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-lg font-semibold mb-6 text-gray-700 text-center",children:n("adminLogin.subtitle")}),h.jsxs("form",{onSubmit:W,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"label-base",children:n("adminLogin.email")}),h.jsx("input",{id:"email",type:"email",value:i,onChange:q=>s(q.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),"aria-required":"true",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"label-base",children:n("adminLogin.password")}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"password",type:d?"text":"password",value:a,onChange:q=>l(q.target.value),className:"input-base pr-20",placeholder:n("adminLogin.passwordPlaceholder"),"aria-label":n("adminLogin.password"),"aria-required":"true",required:!0}),h.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>f(q=>!q),"aria-label":n(d?"adminLogin.hide":"adminLogin.show"),tabIndex:-1,children:d?"":""})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{htmlFor:"remember-me",className:"flex items-center cursor-pointer group",children:[h.jsx("input",{id:"remember-me",type:"checkbox",checked:m,onChange:q=>y(q.target.checked),className:"mr-2 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 cursor-pointer","aria-label":n("adminLogin.rememberMe")}),h.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:n("adminLogin.rememberMe")})]}),h.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:n("adminLogin.forgotPassword")})]}),v&&h.jsx("div",{ref:Z,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm font-medium",children:v})]})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",disabled:w,children:w?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("adminLogin.loggingIn")]}):n("adminLogin.loginButton")})]})]}),h.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:h.jsx("p",{children:"Secure manager access only"})})]})})}function Uk({branding:e}){const{t}=dt(),n=Zl(),[i,s]=j.useState(""),[a,l]=j.useState(""),[d,f]=j.useState(!1),[m,y]=j.useState(null),[v,_]=j.useState(null),[w,C]=j.useState(!1),[N,T]=j.useState(!1),k=j.useRef(null);j.useEffect(()=>{m&&k.current&&k.current.focus()},[m]),j.useEffect(()=>{(async()=>{const R=window.location.hash;let Z;if(R.includes("error=")){const de=R.substring(1);Z=new URLSearchParams(de)}else{const de=R.indexOf("#",1);if(de>0){const K=R.substring(de+1);Z=new URLSearchParams(K)}else Z=new URLSearchParams(window.location.search)}const W=Z.get("access_token"),V=Z.get("refresh_token"),Q=Z.get("error"),G=Z.get("error_description");if(Q){Q==="access_denied"||G?.includes("expired")?_(t("resetPassword.errors.tokenExpired")):_(t("resetPassword.errors.invalidToken"));return}if(W&&V){const{data:{session:de},error:K}=await pe.auth.setSession({access_token:W,refresh_token:V});(K||!de)&&(console.error("Failed to set session:",K),_(t("resetPassword.errors.invalidToken")));return}const{data:{session:q}}=await pe.auth.getSession();q||_(t("resetPassword.errors.invalidToken"))})()},[t]);const A=async F=>{if(F.preventDefault(),y(null),i.length<6){y(t("resetPassword.errors.passwordTooShort"));return}if(i!==a){y(t("resetPassword.errors.passwordMismatch"));return}C(!0);const{error:R}=await pe.auth.updateUser({password:i});C(!1),R?y(t("resetPassword.errors.updateFailed")):(T(!0),setTimeout(()=>{n("/admin")},3e3))},$=e?.eventName||"4x4 Vakantiebeurs",O=e?.logo||po.getDefaultLogoPath();return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(Pc,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:O,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:$}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:t("resetPassword.title")}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t("resetPassword.instructions")}),N?h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"polite",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"font-semibold",children:t("resetPassword.success")})]}),h.jsx("p",{className:"text-sm ml-8",children:t("resetPassword.redirecting")})]}):v?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{ref:k,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold mb-1",children:t("resetPassword.errors.linkExpiredTitle")}),h.jsx("p",{className:"text-sm",children:v})]})]})}),h.jsx("div",{className:"flex gap-3",children:h.jsx("button",{type:"button",onClick:()=>n("/admin"),className:"flex-1 btn-primary",children:t("resetPassword.requestNewLink")})})]}):h.jsxs("form",{onSubmit:A,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"new-password",className:"label-base",children:t("resetPassword.newPassword")}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"new-password",type:d?"text":"password",value:i,onChange:F=>s(F.target.value),className:"input-base",placeholder:t("resetPassword.newPasswordPlaceholder"),"aria-label":t("resetPassword.newPassword"),required:!0,minLength:6}),h.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors text-sm","aria-label":t(d?"resetPassword.hidePassword":"resetPassword.showPassword"),children:d?"":""})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("resetPassword.passwordRequirements")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirm-password",className:"label-base",children:t("resetPassword.confirmPassword")}),h.jsx("input",{id:"confirm-password",type:d?"text":"password",value:a,onChange:F=>l(F.target.value),className:"input-base",placeholder:t("resetPassword.confirmPasswordPlaceholder"),"aria-label":t("resetPassword.confirmPassword"),required:!0})]}),m&&h.jsx("div",{ref:k,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm",children:m})]})}),h.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:w,children:t(w?"resetPassword.updating":"resetPassword.updatePassword")}),h.jsxs("button",{type:"button",onClick:()=>n("/admin"),className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",t("resetPassword.backToLogin")]})]})]})})})}const Cf="Logos",o2=5*1024*1024,Fk=["image/png","image/jpeg","image/jpg","image/webp","image/avif","image/svg+xml"];async function Vk(e,t="companies"){try{const n=N5(e);if(!n.valid)return{error:n.error};const i=e.name.split(".").pop(),s=Date.now(),a=Math.random().toString(36).substring(2,8),l=`${s}_${a}.${i}`,d=t?`${t}/${l}`:l,{data:f,error:m}=await pe.storage.from(Cf).upload(d,e,{cacheControl:"3600",upsert:!1});if(m)return console.error("Upload error:",m),{error:`Upload failed: ${m.message}`};const{data:{publicUrl:y}}=pe.storage.from(Cf).getPublicUrl(d);return{url:y,path:d,error:null}}catch(n){return console.error("Upload service error:",n),{error:`Upload failed: ${n.message}`}}}function N5(e){return e?Fk.includes(e.type)?e.size>o2?{valid:!1,error:`File too large. Maximum size: ${o2/1024/1024}MB`}:{valid:!0,error:null}:{valid:!1,error:"Invalid file type. Allowed: PNG, JPG, WEBP, AVIF, SVG"}:{valid:!1,error:"No file selected"}}async function Hk(){try{const{data:e,error:t}=await pe.storage.listBuckets();return t?{exists:!1,error:`Error accessing storage: ${t.message}`}:e?.some(i=>i.name===Cf)?{exists:!0,error:null}:{exists:!1,error:`Storage bucket "${Cf}" not found. Available buckets: ${e?.map(i=>i.name).join(", ")||"none"}`}}catch(e){return{exists:!1,error:`Error checking storage bucket: ${e.message}`}}}function Zf({currentLogo:e="",onUploadComplete:t,onDelete:n,folder:i="companies",label:s="Upload Logo",showPreview:a=!0,allowDelete:l=!1}){const[d,f]=j.useState(!1),[m,y]=j.useState(null),[v,_]=j.useState(""),w=j.useRef(null),C=async T=>{const k=T.target.files?.[0];if(!k)return;y(null),_("");const A=N5(k);if(!A.valid){y("error"),_(A.error);return}f(!0);const $=await Vk(k,i);f(!1),$.error?(y("error"),_($.error)):(y("success"),_("Upload successful!"),t&&t($.url,$.path),setTimeout(()=>{y(null),_("")},3e3)),w.current&&(w.current.value="")},N=()=>{n&&n()};return h.jsxs("div",{className:"flex flex-col gap-2",children:[a&&e&&h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("img",{src:ur(e),alt:"Current logo",className:"h-12 w-12 object-contain border rounded p-1"}),l&&n&&h.jsx("button",{type:"button",onClick:N,className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove logo",children:h.jsx(_e,{path:ql,size:.7})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{ref:w,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/avif,image/svg+xml",onChange:C,className:"hidden",id:`logo-upload-${i}`}),h.jsx("label",{htmlFor:`logo-upload-${i}`,className:`
            flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-xs
            ${d?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}
            text-white transition-colors whitespace-nowrap
          `,children:d?h.jsxs(h.Fragment,{children:[h.jsx(_e,{path:jk,size:.8,spin:!0}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(_e,{path:Rk,size:.8}),s]})}),m&&h.jsxs("div",{className:"flex items-center gap-2",children:[m==="success"&&h.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[h.jsx(_e,{path:ra,size:.8}),h.jsx("span",{className:"text-sm",children:v})]}),m==="error"&&h.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[h.jsx(_e,{path:A0,size:.8}),h.jsx("span",{className:"text-sm",children:v})]})]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PNG, JPG, WEBP, AVIF, SVG  Max size: 5MB"})]})}Zf.propTypes={currentLogo:Ne.string,onUploadComplete:Ne.func.isRequired,onDelete:Ne.func,folder:Ne.string,label:Ne.string,showPreview:Ne.bool,allowDelete:Ne.bool};Zf.defaultProps={currentLogo:"",onDelete:null,folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!1};function Zk(){const[e,t]=j.useState({checking:!0,exists:!1,error:null}),[n,i]=j.useState(""),[s,a]=j.useState([]),[l,d]=j.useState(null);j.useEffect(()=>{f(),m()},[]);const f=async()=>{t({checking:!0,exists:!1,error:null});const v=await Hk();t({checking:!1,exists:v.exists,error:v.error})},m=async()=>{const{data:{user:v}}=await pe.auth.getUser();d(v)},y=(v,_)=>{i(v),a([{timestamp:new Date().toISOString(),url:v,path:_,success:!0},...s])};return h.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Supabase Storage Test Page"}),h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Authentication Status"}),l?h.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["Authenticated as: ",l.email]})]}):h.jsxs("div",{className:"text-red-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Not authenticated - Please log in first"})]})]}),h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Storage Bucket Status"}),h.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Recheck"})]}),e.checking?h.jsx("div",{className:"text-gray-600",children:"Checking bucket..."}):e.exists?h.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Bucket 'logos' exists and is accessible"})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"text-red-600 flex items-center gap-2 mb-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Bucket 'logos' not found or inaccessible"})]}),e.error&&h.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:["Error: ",e.error]}),h.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[h.jsx("p",{className:"font-semibold mb-2",children:"Setup Required:"}),h.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[h.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),h.jsx("li",{children:"Create a new public bucket named 'logos'"}),h.jsx("li",{children:"Set up RLS policies (see SUPABASE_STORAGE_SETUP.md)"}),h.jsx("li",{children:"Refresh this page"})]})]})]})]}),l&&e.exists&&h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Test Logo Upload"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a test image to verify everything works correctly."}),h.jsx(Zf,{currentLogo:n,onUploadComplete:y,folder:"test",label:"Upload Test Image",showPreview:!0,allowDelete:!0,onDelete:()=>i("")})]}),s.length>0&&h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload History"}),h.jsx("div",{className:"space-y-2",children:s.map((v,_)=>h.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-green-600 font-semibold",children:" Success"}),h.jsx("span",{className:"text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),h.jsxs("div",{className:"text-gray-600",children:[h.jsxs("div",{children:[h.jsx("strong",{children:"URL:"})," ",v.url]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Path:"})," ",v.path]})]}),v.url&&h.jsx("img",{src:v.url,alt:"Uploaded",className:"mt-2 h-20 object-contain border rounded"})]},_))})]}),h.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Documentation"}),h.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"For complete setup instructions, see:"}),h.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[h.jsx("li",{children:"SUPABASE_STORAGE_SETUP.md - Bucket configuration and policies"}),h.jsx("li",{children:"LOGO_UPLOADER_INTEGRATION.md - Integration examples"})]})]})]})}function qk(){const e=Zl(),t=$i(),{t:n}=dt(),i=[{id:"home",labelKey:"navigation.home",icon:_k,path:"/"},{id:"map",labelKey:"navigation.map",icon:O0,path:"/map"},{id:"exhibitors",labelKey:"navigation.exhibitors",icon:vk,path:"/exhibitors"},{id:"schedule",labelKey:"navigation.schedule",icon:Ry,path:"/schedule"}],s=a=>{e(a)};return h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:h.jsx("div",{className:"flex justify-around items-center h-16 max-w-screen-xl mx-auto",children:i.map(a=>{const l=t.pathname===a.path;return h.jsxs("button",{onClick:()=>s(a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[h.jsx(_e,{path:a.icon,size:1.1,className:"mb-1"}),h.jsx("span",{className:`text-xs font-medium ${l?"font-semibold":""}`,children:n(a.labelKey)})]},a.id)})})})}const T5=j.createContext();function Gk({children:e}){const[t,n]=j.useState(po.DEFAULT_LOGO),[i,s]=j.useState(!0);return j.useEffect(()=>{async function a(){try{const{data:d,error:f}=await pe.from("organization_profile").select("logo").eq("id",1).single();if(f){console.error("Error fetching organization logo:",f);return}d&&d.logo&&d.logo.trim()!==""&&n(d.logo)}catch(d){console.error("Error fetching organization logo:",d)}finally{s(!1)}}a();const l=pe.channel("organization-logo-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},d=>{d.new&&d.new.logo&&(d.new.logo.trim()!==""?n(d.new.logo):n(po.DEFAULT_LOGO))}).subscribe();return()=>{pe.removeChannel(l)}},[]),h.jsx(T5.Provider,{value:{organizationLogo:t,loading:i},children:e})}function ua(){const e=j.useContext(T5);if(e===void 0)throw new Error("useOrganizationLogo must be used within OrganizationLogoProvider");return e}function Iy({selectedYear:e,branding:t}){Zl();const{t:n}=dt(),{organizationLogo:i}=ua(),s={name:t?.eventName||"4x4 Vakantiebeurs"};return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white shadow-sm",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[h.jsx("div",{className:"flex justify-end mb-4",children:h.jsx(Pc,{})}),i&&h.jsx("div",{className:"mb-6",children:h.jsx("img",{src:ur(i),alt:s.name,className:"h-24 mx-auto object-contain"})}),h.jsx("p",{className:"text-sm text-orange-600 mb-2",style:{fontFamily:t?.fontFamily},children:n("homePage.subtitle")}),h.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",style:{fontFamily:t?.fontFamily},children:n("homePage.title")}),h.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n("homePage.eventDate")}),h.jsxs("div",{className:"flex justify-center gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"67"}),h.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.exhibitors")})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"2"}),h.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.days")})]})]})]})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.openingHours")]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.openingHoursInfo")})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.location")]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.locationInfo")})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.parking")]}),h.jsx("p",{className:"text-gray-700",children:n("homePage.parkingInfo")})]})]})})]})}Iy.propTypes={selectedYear:Ne.number,branding:Ne.shape({eventName:Ne.string,fontFamily:Ne.string})};Iy.defaultProps={selectedYear:new Date().getFullYear(),branding:null};function k5(e){const t=e||po.DEFAULT_LOGO;return t.startsWith("http://")||t.startsWith("https://")?t:`${Ul()}assets/logos/${t}`}function rd(e,t){return e&&e.trim()!==""?ur(e):k5(t)}function Kk(e){const[t,n]=j.useState([]),i=j.useCallback(f=>t.includes(f),[t]),s=j.useCallback(f=>{n(m=>m.includes(f)?m.filter(y=>y!==f):[...m,f])},[]),a=j.useCallback(f=>{n(m=>m.includes(f)?m:[...m,f])},[]),l=j.useCallback(f=>{n(m=>m.filter(y=>y!==f))},[]),d=j.useCallback(()=>{n([])},[]);return{favorites:t,isFavorite:i,toggleFavorite:s,addFavorite:a,removeFavorite:l,clearAllFavorites:d}}const $5=j.createContext(null);function l2({selectedYear:e,children:t}){const n=Kk();return h.jsx($5.Provider,{value:n,children:t})}function sd(){const e=j.useContext($5);if(!e)throw new Error("useFavoritesContext must be used within FavoritesProvider");return e}function ad({isFavorite:e,onToggle:t,size:n="md",className:i=""}){const s={sm:.8,md:1,lg:1.2},a=s[n]||s.md,l=d=>{d.stopPropagation(),d.preventDefault(),t()};return h.jsx("button",{onClick:l,className:`transition-all ${e?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"} ${i}`,title:e?"Remove from favorites":"Add to favorites","aria-label":e?"Remove from favorites":"Add to favorites",children:h.jsx(_e,{path:e?S5:Lk,size:a,className:"drop-shadow-sm"})})}ad.propTypes={isFavorite:Ne.bool.isRequired,onToggle:Ne.func.isRequired,size:Ne.oneOf(["sm","md","lg"]),className:Ne.string};ad.defaultProps={size:"md",className:""};function Wk(e){const{i18n:t}=dt(),n=t.language;return j.useMemo(()=>{if(!e?.company_translations||e.company_translations.length===0)return e?.info||"";const s=e.company_translations.find(d=>d.language_code===n);if(s?.info)return s.info;const a=e.company_translations.find(d=>d.language_code==="nl");return a?.info?a.info:e.company_translations.find(d=>d.info)?.info||""},[e,n])}function Yk(e,t="nl",n=""){if(!e||e.length===0)return n||"";const i=e.find(l=>l.language_code===t);if(i?.info)return i.info;const s=e.find(l=>l.language_code==="nl");return s?.info?s.info:e.find(l=>l.info)?.info||n||""}const Lg={mdiCarOutline:ak,mdiTent:Mk,mdiTrailer:Ok,mdiCarCog:sk,mdiAirplane:tk,mdiHomeCity:wk,mdiAccountGroup:ek,mdiTerrainIcon:Pk,mdiCellphone:ok,mdiDotsHorizontal:lf};function od(e="nl"){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null),d=j.useCallback(async()=>{try{s(!0),l(null);const{data:N,error:T}=await pe.from("categories").select(`
          id,
          slug,
          icon,
          color,
          sort_order,
          active,
          category_translations(
            language,
            name,
            description
          )
        `).eq("active",!0).order("sort_order");if(T)throw T;const k=N.map(A=>{const $=A.category_translations.find(O=>O.language===e)||A.category_translations.find(O=>O.language==="nl")||A.category_translations[0];return{id:A.id,slug:A.slug,icon:Lg[A.icon]||lf,iconName:A.icon,color:A.color,sort_order:A.sort_order,active:A.active,name:$?.name||A.slug,description:$?.description||"",translations:A.category_translations}});n(k)}catch(N){console.error("Error loading categories:",N),l(N.message),(N.message?.includes("does not exist")||N.code==="42P01")&&(console.warn("Categories table not found. Please run migration 007."),n([]))}finally{s(!1)}},[e]);j.useEffect(()=>{d()},[d]),j.useEffect(()=>{const N=pe.channel("categories-changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>d()).on("postgres_changes",{event:"*",schema:"public",table:"category_translations"},()=>d()).subscribe();return()=>{pe.removeChannel(N)}},[d]);const f=async N=>{try{const{data:T,error:k}=await pe.from("categories").insert({slug:N.slug,icon:N.icon,color:N.color,sort_order:N.sort_order||0}).select().single();if(k)throw k;const A=Object.entries(N.translations||{}).map(([$,O])=>({category_id:T.id,language:$,name:O.name,description:O.description||null}));if(A.length>0){const{error:$}=await pe.from("category_translations").insert(A);if($)throw $}return await d(),{success:!0,data:T}}catch(T){return console.error("Error creating category:",T),{success:!1,error:T.message}}},m=async(N,T)=>{try{const{error:k}=await pe.from("categories").update({slug:T.slug,icon:T.icon,color:T.color,sort_order:T.sort_order,active:T.active}).eq("id",N);if(k)throw k;if(T.translations)for(const[A,$]of Object.entries(T.translations)){const{error:O}=await pe.from("category_translations").upsert({category_id:N,language:A,name:$.name,description:$.description||null},{onConflict:"category_id,language"});if(O)throw O}return await d(),{success:!0}}catch(k){return console.error("Error updating category:",k),{success:!1,error:k.message}}},y=async N=>{try{const{error:T}=await pe.from("categories").delete().eq("id",N);if(T)throw T;return await d(),{success:!0}}catch(T){return console.error("Error deleting category:",T),{success:!1,error:T.message}}},v=j.useCallback(async N=>{try{const{data:T,error:k}=await pe.from("company_categories").select(`
          category_id,
          categories(
            id,
            slug,
            icon,
            color,
            category_translations(language, name)
          )
        `).eq("company_id",N);if(k)throw k;return T.map(A=>{const $=A.categories,O=$.category_translations.find(F=>F.language===e)||$.category_translations[0];return{id:$.id,slug:$.slug,icon:Lg[$.icon]||lf,iconName:$.icon,color:$.color,name:O?.name||$.slug}})}catch(T){return console.error("Error fetching company categories:",T),[]}},[e]),_=j.useCallback(async N=>{try{const{data:T,error:k}=await pe.from("company_categories").select(`
          company_id,
          category_id,
          categories(
            id,
            slug,
            icon,
            color,
            category_translations(language, name)
          )
        `).in("company_id",N);if(k)throw k;const A={};return T.forEach($=>{A[$.company_id]||(A[$.company_id]=[]);const O=$.categories,F=O.category_translations.find(R=>R.language===e)||O.category_translations[0];A[$.company_id].push({id:O.id,slug:O.slug,icon:Lg[O.icon]||lf,iconName:O.icon,color:O.color,name:F?.name||O.slug})}),A}catch(T){return console.error("Error fetching all company categories:",T),{}}},[e]);return{categories:t,loading:i,error:a,createCategory:f,updateCategory:m,deleteCategory:y,getCompanyCategories:v,getAllCompanyCategories:_,assignCategoriesToCompany:async(N,T)=>{try{if(await pe.from("company_categories").delete().eq("company_id",N),T.length>0){const k=T.map($=>({company_id:N,category_id:$})),{error:A}=await pe.from("company_categories").insert(k);if(A)throw A}return{success:!0}}catch(k){return console.error("Error assigning categories:",k),{success:!1,error:k.message}}},getCategoryStats:async()=>{try{const{data:N,error:T}=await pe.from("company_categories").select("category_id");if(T)throw T;const k={};return N.forEach(A=>{k[A.category_id]||(k[A.category_id]=0),k[A.category_id]++}),k}catch(N){return console.error("Error fetching category stats:",N),{}}},refetch:d}}function Xk({markersState:e,selectedYear:t}){const n=Zl(),{organizationLogo:i}=ua(),{t:s,i18n:a}=dt(),[l,d]=j.useState(""),f=`exhibitors_showFavoritesOnly_${t}`,[m,y]=j.useState(()=>{try{return localStorage.getItem(f)==="true"}catch{return!1}}),[v,_]=j.useState(null),[w,C]=j.useState("name"),[N,T]=j.useState("asc"),[k,A]=j.useState(!1),$=j.useRef(null),O=j.useRef(null),F={name:s("exhibitorPage.sortName")||"Name",booth:s("exhibitorPage.sortBooth")||"Booth",favorites:s("exhibitorPage.sortFavoritesBase")||"Favorites"},{favorites:R,isFavorite:Z,toggleFavorite:W}=sd(),{categories:V,loading:Q,getAllCompanyCategories:G}=od(a.language),q=j.useMemo(()=>e.filter(D=>D.id<1e3&&D.name),[e]),de=j.useMemo(()=>{const D={};return q.forEach(te=>{te.companyId&&(D[te.companyId]?(D[te.companyId].boothNumbers.push(te.glyph),D[te.companyId].markerIds.push(te.id)):D[te.companyId]={...te,boothNumbers:[te.glyph],markerIds:[te.id],categories:[]})}),Object.values(D).forEach(te=>{te.boothNumbers.sort((I,fe)=>(parseInt(I)||0)-(parseInt(fe)||0))}),Object.values(D)},[q]),[K,ne]=j.useState([]),[H,Y]=j.useState(!1);j.useEffect(()=>{if(Q)return;if(de.length===0){ne([]),Y(!1);return}(async()=>{const te=de.map(le=>le.companyId),I=await G(te),fe=de.map(le=>({...le,categories:I[le.companyId]||[]}));ne(fe),Y(!0)})()},[de,Q,G,a.language]),j.useEffect(()=>{if(!k)return;const D=te=>{const I=$.current,fe=O.current;!I||!fe||!I.contains(te.target)&&!fe.contains(te.target)&&(A(!1),setTimeout(()=>I&&I.focus(),0))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[k]);const ie=j.useMemo(()=>{let D=K;if(m&&(D=D.filter(te=>te.companyId&&Z(te.companyId))),v&&(D=D.filter(te=>!te.categories||te.categories.length===0?!1:te.categories.some(I=>I.id===v))),l){const te=l.toLowerCase();D=D.filter(I=>I.name?.toLowerCase().includes(te)||I.boothNumbers?.some(fe=>fe?.toLowerCase().includes(te)))}return D},[K,m,v,l,Z]);j.useEffect(()=>{try{localStorage.setItem(f,m?"true":"false")}catch{}},[f,m]),j.useEffect(()=>{if(R&&R.length===0&&m){try{localStorage.setItem(f,"false")}catch{}y(!1)}},[R,f,m]),j.useEffect(()=>{try{const D=localStorage.getItem(f);y(D==="true")}catch{}},[f]);const ke=j.useMemo(()=>{const D=[...ie],te=I=>{if(!I.boothNumbers||I.boothNumbers.length===0)return Number.MAX_SAFE_INTEGER;const fe=I.boothNumbers.map(le=>parseInt(le)).filter(le=>!isNaN(le));return fe.length?Math.min(...fe):Number.MAX_SAFE_INTEGER};return w==="favorites"?(D.sort((I,fe)=>{const le=I.companyId&&Z(I.companyId)?0:1,ve=fe.companyId&&Z(fe.companyId)?0:1;if(le!==ve)return le-ve;const Te=(I.name||"").localeCompare(fe.name||"");return N==="asc"?Te:-Te}),D):w==="name"?(D.sort((I,fe)=>{const le=(I.name||"").localeCompare(fe.name||"");return N==="asc"?le:-le}),D):(w==="booth"&&D.sort((I,fe)=>{const le=te(I)-te(fe);return N==="asc"?le:-le}),D)},[ie,w,N,Z]),B=D=>n(`/map?focus=${D[0]}`);return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s("exhibitorPage.title")}),h.jsxs("div",{className:"relative",children:[h.jsx(_e,{path:yo,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:s("exhibitorPage.searchPlaceholder"),value:l,onChange:D=>d(D.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),h.jsxs("div",{className:"mt-3 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:[s("exhibitorPage.showing")," ",ie.length," ",s("exhibitorPage.of")," ",q.length," ",s("exhibitorPage.exhibitors"),R.length>0&&`  ${R.length} ${s("exhibitorPage.favorited")}`]}),h.jsxs("div",{className:"flex flex-wrap gap-2 items-center relative",children:[h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:w,onChange:D=>C(D.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none","aria-label":s("exhibitorPage.sortBy"),children:[h.jsx("option",{value:"name",children:F.name}),h.jsx("option",{value:"booth",children:F.booth}),R.length>0&&h.jsx("option",{value:"favorites",children:F.favorites})]}),h.jsx("button",{type:"button",onClick:()=>T(N==="asc"?"desc":"asc"),"aria-label":`Toggle sort direction to ${N==="asc"?"descending":"ascending"}`,className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",children:h.jsx(_e,{path:N==="asc"?Ol:Pl,size:.8})})]}),!Q&&V.length>0&&h.jsxs("div",{className:"relative flex items-center gap-1",onKeyDown:D=>{if(D.key==="Escape"){A(!1);const te=$.current;te&&te.focus()}},children:[h.jsxs("button",{type:"button",ref:$,onClick:()=>A(!k),className:`px-3 py-1.5 rounded-lg border text-sm flex items-center gap-1.5 select-none transition-colors ${v?"bg-orange-50 border-orange-300 text-orange-700 hover:bg-orange-100":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,"aria-haspopup":"listbox","aria-expanded":k,"aria-label":s("exhibitorPage.filterByCategory"),children:[h.jsx(_e,{path:R0,size:.7}),h.jsx("span",{className:"font-medium",children:v?V.find(D=>D.id===v)?.name:s("exhibitorPage.allCategories")})]}),v&&h.jsx("button",{type:"button",onClick:D=>{D.stopPropagation(),_(null)},"aria-label":s("exhibitorPage.clearFilters"),className:"px-2 py-1.5 rounded-lg border text-sm flex items-center justify-center transition-colors bg-white border-gray-300 text-gray-700 hover:bg-gray-100",children:h.jsx(_e,{path:mo,size:.6})}),k&&h.jsxs("ul",{role:"listbox",ref:O,tabIndex:-1,className:"absolute left-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-20 py-1 max-h-80 overflow-y-auto",style:{top:"100%"},children:[h.jsx("li",{children:h.jsxs("button",{type:"button",role:"option","aria-selected":!v,onClick:()=>{_(null),A(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 ${v?"text-gray-700":"font-semibold text-blue-700 bg-blue-50"}`,children:[h.jsx(_e,{path:R0,size:.7,className:"opacity-50"}),s("exhibitorPage.allCategories")]})}),h.jsx("div",{className:"border-t border-gray-200 my-1"}),V.map(D=>h.jsx("li",{children:h.jsxs("button",{type:"button",role:"option","aria-selected":v===D.id,onClick:()=>{_(D.id),A(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 ${v===D.id?"font-semibold text-blue-700 bg-blue-50":"text-gray-700"}`,children:[h.jsx(_e,{path:D.icon,size:.7,style:{color:D.color}}),D.name]})},D.id))]})]}),R.length>0&&h.jsxs("button",{onClick:()=>y(!m),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${m?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[h.jsx(_e,{path:b5,size:.7}),s("exhibitorPage.favoritesOnly")]})]})]}),!Q&&v&&ie.length===0&&h.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-center text-sm text-gray-600",children:s("exhibitorPage.noCategoryMatch")})]})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:ie.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500",children:s("exhibitorPage.noExhibitors")})}):h.jsx("div",{className:"space-y-3",children:ke.map(D=>h.jsx("div",{onClick:()=>B(D.markerIds),className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer p-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:h.jsx("img",{src:rd(D.logo,i),alt:D.name,className:"max-w-full max-h-full object-contain p-2"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("h3",{className:"font-semibold text-gray-900 text-lg break-words",children:D.name}),D.companyId&&h.jsx(ad,{isFavorite:Z(D.companyId),onToggle:()=>W(D.companyId),size:"md",className:"flex-shrink-0"})]}),D.boothNumbers&&D.boothNumbers.length>0&&h.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[h.jsx(_e,{path:Rl,size:.7,className:"text-orange-600"}),h.jsxs("span",{className:"text-sm font-medium text-orange-600",children:[s("exhibitorPage.booth")," ",D.boothNumbers.join(", ")]})]}),D.categories&&D.categories.length>0&&h.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:D.categories.map(te=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-white rounded",style:{backgroundColor:te.color},title:te.name,children:[h.jsx(_e,{path:te.icon,size:.5}),te.name]},te.id))}),(()=>{const te=Yk(D.company_translations,a.language,D.info);return te?h.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:te}):null})()]})]})},D.companyId||D.id))})})]})}function A5(){const[e,t]=j.useState({saturday:[],sunday:[]}),[n,i]=j.useState(!0),[s,a]=j.useState(null);j.useEffect(()=>{l();const f=()=>l();return window.addEventListener("eventActivitiesUpdated",f),()=>window.removeEventListener("eventActivitiesUpdated",f)},[]);async function l(){try{i(!0),a(null);const{data:f,error:m}=await pe.from("event_activities").select(`
          *,
          companies!event_activities_company_id_fkey (
            id,
            name
          )
        `).eq("is_active",!0).order("display_order",{ascending:!0});if(m)throw m;const y=f?.filter(_=>_.day==="saturday")||[],v=f?.filter(_=>_.day==="sunday")||[];t({saturday:y,sunday:v})}catch(f){console.error("Error fetching event activities:",f),a(f.message)}finally{i(!1)}}function d(f,m){if(f.location_type==="exhibitor"&&f.companies){const y=f.companies;return{text:y.name,boothNumber:null,companyId:y.id}}return{text:m==="nl"?f.location_nl:m==="de"?f.location_de:f.location_en,boothNumber:null,companyId:null}}return{activities:e,loading:n,error:s,getActivityLocation:d,refetch:l}}function Jk({selectedYear:e}){const{t,i18n:n}=dt(),[i,s]=j.useState("saturday"),a=n.language||"en",{activities:l,loading:d,error:f,getActivityLocation:m}=A5(),y=i==="saturday"?l.saturday:l.sunday;return d?h.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mb-4"}),h.jsx("p",{className:"text-gray-600",children:a==="en"?"Loading schedule...":"Programma laden..."})]})}):f?h.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[h.jsx(_e,{path:A0,size:2,className:"text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:a==="en"?"Unable to load schedule":"Kan programma niet laden"}),h.jsx("p",{className:"text-gray-600",children:f})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white border-b",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:a==="en"?"Program":"Programma"}),h.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 rounded",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(_e,{path:A0,size:1,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-yellow-800 mb-1",children:a==="en"?"Note for Managers":"Let op!"}),h.jsx("p",{className:"text-sm text-yellow-700",children:a==="en"?"This schedule shows 2025 program data (October 11-12, 2025). Please update for the 2026 event (October 10-11, 2026).":"Dit programma toont 2025 gegevens (11-12 oktober 2025). Gelieve bij te werken voor het 2026 evenement (10-11 oktober 2026)."})]})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>s("saturday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="saturday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a==="en"?"Saturday October 10":"Zaterdag 10 oktober"}),h.jsx("button",{onClick:()=>s("sunday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="sunday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a==="en"?"Sunday October 11":"Zondag 11 oktober"})]})]})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:h.jsx("div",{className:"space-y-4",children:y.map(v=>{const _=m(v,n.language);return h.jsxs("div",{className:"bg-white rounded-lg shadow border-l-4 border-l-orange-600 p-4 transition-all hover:shadow-md",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:hk,size:.9,className:"text-gray-600"}),h.jsxs("span",{className:"font-semibold text-gray-900",children:[v.start_time," - ",v.end_time]})]}),(v.badge_nl||v.badge_en||v.badge_de)&&h.jsx("span",{className:"inline-block px-2 py-1 bg-orange-600 text-white text-xs font-semibold rounded",children:a==="nl"?v.badge_nl:a==="de"?v.badge_de:v.badge_en})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a==="nl"?v.title_nl:a==="de"?v.title_de:v.title_en}),(v.description_nl||v.description_en||v.description_de)&&h.jsx("p",{className:"text-gray-700 mb-3",children:a==="nl"?v.description_nl:a==="de"?v.description_de:v.description_en}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(_e,{path:Rl,size:.8,className:"text-orange-600"}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[t("programManagement.location"),":"]})," ",_.text]}),v.show_location_type_badge&&h.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${v.location_type==="exhibitor"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.location_type==="exhibitor"||v.location_type==="company"?t("programManagement.exhibitor"):t("programManagement.venue")})]})]},v.id)})})})]})}function vo(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState({email:null,name:null});return j.useEffect(()=>{const{data:f}=pe.auth.onAuthStateChange((m,y)=>{const v=y?.user,_=v?.user_metadata?.role||null,w=v?.user_metadata?.full_name||v?.user_metadata?.name||null,C=v?.email||null;t(_),a({email:C,name:w}),i(!1)});return()=>{f?.subscription?.unsubscribe()}},[]),{role:e,loading:n,userInfo:s,hasRole:f=>e?e==="super_admin"?!0:e===f:!1,hasAnyRole:f=>e?e==="super_admin"?!0:f.includes(e):!1,isSuperAdmin:e==="super_admin",isSystemManager:e==="system_manager",isEventManager:e==="event_manager"}}function Qk({isOpen:e,onClose:t,newYear:n,onConfirm:i}){const{t:s}=dt();return h.jsx(Rr,{isOpen:e,onClose:t,title:s("admin.yearSwitcher.modalTitle",{year:n}),size:"md",children:h.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm text-gray-700",children:[h.jsx("p",{children:h.jsx(DT,{i18nKey:"admin.yearSwitcher.modalIntro",values:{year:n},components:{strong:h.jsx("strong",{})}})}),h.jsxs("ul",{className:"list-disc list-inside text-sm",children:[h.jsxs("li",{children:[h.jsx("strong",{children:s("admin.yearSwitcher.willChange.subscriptions")}),"  ",s("admin.yearSwitcher.willChange.subscriptionsDesc")]}),h.jsxs("li",{children:[h.jsx("strong",{children:s("admin.yearSwitcher.willChange.assignments")}),"  ",s("admin.yearSwitcher.willChange.assignmentsDesc")]}),h.jsxs("li",{children:[h.jsx("strong",{children:s("admin.yearSwitcher.willChange.program")}),"  ",s("admin.yearSwitcher.willChange.programDesc")]})]}),h.jsx("p",{className:"text-gray-500",children:s("admin.yearSwitcher.wontChangeIntro")}),h.jsx("ul",{className:"list-disc list-inside text-sm text-gray-500",children:h.jsxs("li",{children:[h.jsx("strong",{children:s("admin.yearSwitcher.wontChange.companies")}),"  ",s("admin.yearSwitcher.wontChange.companiesDesc")]})}),h.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[h.jsx("button",{onClick:t,className:"px-3 py-2 bg-white border rounded",children:s("common.cancel")}),h.jsx("button",{onClick:i,className:"px-3 py-2 bg-blue-600 text-white rounded",children:s("admin.yearSwitcher.switchButton",{year:n})})]})]})})}function e$(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const t$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,i$={};function u2(e,t){return(i$.jsx?n$:t$).test(e)}const r$=/[ \t\n\f\r]/g;function s$(e){return typeof e=="object"?e.type==="text"?c2(e.value):!1:c2(e)}function c2(e){return e.replace(r$,"")===""}class ld{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}ld.prototype.normal={};ld.prototype.property={};ld.prototype.space=void 0;function L5(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new ld(n,i,t)}function z0(e){return e.toLowerCase()}class ci{constructor(t,n){this.attribute=n,this.property=t}}ci.prototype.attribute="";ci.prototype.booleanish=!1;ci.prototype.boolean=!1;ci.prototype.commaOrSpaceSeparated=!1;ci.prototype.commaSeparated=!1;ci.prototype.defined=!1;ci.prototype.mustUseProperty=!1;ci.prototype.number=!1;ci.prototype.overloadedBoolean=!1;ci.prototype.property="";ci.prototype.spaceSeparated=!1;ci.prototype.space=void 0;let a$=0;const nt=bo(),ln=bo(),I0=bo(),$e=bo(),Mt=bo(),Nl=bo(),Si=bo();function bo(){return 2**++a$}const B0=Object.freeze(Object.defineProperty({__proto__:null,boolean:nt,booleanish:ln,commaOrSpaceSeparated:Si,commaSeparated:Nl,number:$e,overloadedBoolean:I0,spaceSeparated:Mt},Symbol.toStringTag,{value:"Module"})),Mg=Object.keys(B0);class By extends ci{constructor(t,n,i,s){let a=-1;if(super(t,n),d2(this,"space",s),typeof i=="number")for(;++a<Mg.length;){const l=Mg[a];d2(this,Mg[a],(i&B0[l])===B0[l])}}}By.prototype.defined=!0;function d2(e,t,n){n&&(e[t]=n)}function Gl(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const a=new By(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),t[i]=a,n[z0(i)]=i,n[z0(a.attribute)]=i}return new ld(t,n,e.space)}const M5=Gl({properties:{ariaActiveDescendant:null,ariaAtomic:ln,ariaAutoComplete:null,ariaBusy:ln,ariaChecked:ln,ariaColCount:$e,ariaColIndex:$e,ariaColSpan:$e,ariaControls:Mt,ariaCurrent:null,ariaDescribedBy:Mt,ariaDetails:null,ariaDisabled:ln,ariaDropEffect:Mt,ariaErrorMessage:null,ariaExpanded:ln,ariaFlowTo:Mt,ariaGrabbed:ln,ariaHasPopup:null,ariaHidden:ln,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mt,ariaLevel:$e,ariaLive:null,ariaModal:ln,ariaMultiLine:ln,ariaMultiSelectable:ln,ariaOrientation:null,ariaOwns:Mt,ariaPlaceholder:null,ariaPosInSet:$e,ariaPressed:ln,ariaReadOnly:ln,ariaRelevant:null,ariaRequired:ln,ariaRoleDescription:Mt,ariaRowCount:$e,ariaRowIndex:$e,ariaRowSpan:$e,ariaSelected:ln,ariaSetSize:$e,ariaSort:null,ariaValueMax:$e,ariaValueMin:$e,ariaValueNow:$e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function P5(e,t){return t in e?e[t]:t}function O5(e,t){return P5(e,t.toLowerCase())}const o$=Gl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nl,acceptCharset:Mt,accessKey:Mt,action:null,allow:null,allowFullScreen:nt,allowPaymentRequest:nt,allowUserMedia:nt,alt:null,as:null,async:nt,autoCapitalize:null,autoComplete:Mt,autoFocus:nt,autoPlay:nt,blocking:Mt,capture:null,charSet:null,checked:nt,cite:null,className:Mt,cols:$e,colSpan:null,content:null,contentEditable:ln,controls:nt,controlsList:Mt,coords:$e|Nl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nt,defer:nt,dir:null,dirName:null,disabled:nt,download:I0,draggable:ln,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nt,formTarget:null,headers:Mt,height:$e,hidden:I0,high:$e,href:null,hrefLang:null,htmlFor:Mt,httpEquiv:Mt,id:null,imageSizes:null,imageSrcSet:null,inert:nt,inputMode:null,integrity:null,is:null,isMap:nt,itemId:null,itemProp:Mt,itemRef:Mt,itemScope:nt,itemType:Mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nt,low:$e,manifest:null,max:null,maxLength:$e,media:null,method:null,min:null,minLength:$e,multiple:nt,muted:nt,name:null,nonce:null,noModule:nt,noValidate:nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nt,optimum:$e,pattern:null,ping:Mt,placeholder:null,playsInline:nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nt,referrerPolicy:null,rel:Mt,required:nt,reversed:nt,rows:$e,rowSpan:$e,sandbox:Mt,scope:null,scoped:nt,seamless:nt,selected:nt,shadowRootClonable:nt,shadowRootDelegatesFocus:nt,shadowRootMode:null,shape:null,size:$e,sizes:null,slot:null,span:$e,spellCheck:ln,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$e,step:null,style:null,tabIndex:$e,target:null,title:null,translate:null,type:null,typeMustMatch:nt,useMap:null,value:ln,width:$e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mt,axis:null,background:null,bgColor:null,border:$e,borderColor:null,bottomMargin:$e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nt,declare:nt,event:null,face:null,frame:null,frameBorder:null,hSpace:$e,leftMargin:$e,link:null,longDesc:null,lowSrc:null,marginHeight:$e,marginWidth:$e,noResize:nt,noHref:nt,noShade:nt,noWrap:nt,object:null,profile:null,prompt:null,rev:null,rightMargin:$e,rules:null,scheme:null,scrolling:ln,standby:null,summary:null,text:null,topMargin:$e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nt,disableRemotePlayback:nt,prefix:null,property:null,results:$e,security:null,unselectable:null},space:"html",transform:O5}),l$=Gl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Si,accentHeight:$e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$e,amplitude:$e,arabicForm:null,ascent:$e,attributeName:null,attributeType:null,azimuth:$e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$e,by:null,calcMode:null,capHeight:$e,className:Mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$e,diffuseConstant:$e,direction:null,display:null,dur:null,divisor:$e,dominantBaseline:null,download:nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:$e,enableBackground:null,end:null,event:null,exponent:$e,externalResourcesRequired:null,fill:null,fillOpacity:$e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nl,g2:Nl,glyphName:Nl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$e,horizOriginX:$e,horizOriginY:$e,id:null,ideographic:$e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$e,k:$e,k1:$e,k2:$e,k3:$e,k4:$e,kernelMatrix:Si,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$e,overlineThickness:$e,paintOrder:null,panose1:null,path:null,pathLength:$e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$e,pointsAtY:$e,pointsAtZ:$e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Si,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Si,rev:Si,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Si,requiredFeatures:Si,requiredFonts:Si,requiredFormats:Si,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$e,specularExponent:$e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$e,strikethroughThickness:$e,string:null,stroke:null,strokeDashArray:Si,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$e,strokeOpacity:$e,strokeWidth:null,style:null,surfaceScale:$e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Si,tabIndex:$e,tableValues:null,target:null,targetX:$e,targetY:$e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Si,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$e,underlineThickness:$e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$e,values:null,vAlphabetic:$e,vMathematical:$e,vectorEffect:null,vHanging:$e,vIdeographic:$e,version:null,vertAdvY:$e,vertOriginX:$e,vertOriginY:$e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:P5}),R5=Gl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),D5=Gl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:O5}),z5=Gl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),u$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},c$=/[A-Z]/g,h2=/-[a-z]/g,d$=/^data[-\w.:]+$/i;function h$(e,t){const n=z0(t);let i=t,s=ci;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&d$.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(h2,m$);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!h2.test(a)){let l=a.replace(c$,f$);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=By}return new s(i,t)}function f$(e){return"-"+e.toLowerCase()}function m$(e){return e.charAt(1).toUpperCase()}const p$=L5([M5,o$,R5,D5,z5],"html"),Uy=L5([M5,l$,R5,D5,z5],"svg");function g$(e){return e.join(" ").trim()}var ml={},Pg,f2;function y$(){if(f2)return Pg;f2=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,d=/^\s+|\s+$/g,f=`
`,m="/",y="*",v="",_="comment",w="declaration";function C(T,k){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];k=k||{};var A=1,$=1;function O(K){var ne=K.match(t);ne&&(A+=ne.length);var H=K.lastIndexOf(f);$=~H?K.length-H:$+K.length}function F(){var K={line:A,column:$};return function(ne){return ne.position=new R(K),V(),ne}}function R(K){this.start=K,this.end={line:A,column:$},this.source=k.source}R.prototype.content=T;function Z(K){var ne=new Error(k.source+":"+A+":"+$+": "+K);if(ne.reason=K,ne.filename=k.source,ne.line=A,ne.column=$,ne.source=T,!k.silent)throw ne}function W(K){var ne=K.exec(T);if(ne){var H=ne[0];return O(H),T=T.slice(H.length),ne}}function V(){W(n)}function Q(K){var ne;for(K=K||[];ne=G();)ne!==!1&&K.push(ne);return K}function G(){var K=F();if(!(m!=T.charAt(0)||y!=T.charAt(1))){for(var ne=2;v!=T.charAt(ne)&&(y!=T.charAt(ne)||m!=T.charAt(ne+1));)++ne;if(ne+=2,v===T.charAt(ne-1))return Z("End of comment missing");var H=T.slice(2,ne-2);return $+=2,O(H),T=T.slice(ne),$+=2,K({type:_,comment:H})}}function q(){var K=F(),ne=W(i);if(ne){if(G(),!W(s))return Z("property missing ':'");var H=W(a),Y=K({type:w,property:N(ne[0].replace(e,v)),value:H?N(H[0].replace(e,v)):v});return W(l),Y}}function de(){var K=[];Q(K);for(var ne;ne=q();)ne!==!1&&(K.push(ne),Q(K));return K}return V(),de()}function N(T){return T?T.replace(d,v):v}return Pg=C,Pg}var m2;function v$(){if(m2)return ml;m2=1;var e=ml&&ml.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ml,"__esModule",{value:!0}),ml.default=n;const t=e(y$());function n(i,s){let a=null;if(!i||typeof i!="string")return a;const l=(0,t.default)(i),d=typeof s=="function";return l.forEach(f=>{if(f.type!=="declaration")return;const{property:m,value:y}=f;d?s(m,y,f):y&&(a=a||{},a[m]=y)}),a}return ml}var ac={},p2;function b$(){if(p2)return ac;p2=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(m){return!m||n.test(m)||e.test(m)},l=function(m,y){return y.toUpperCase()},d=function(m,y){return"".concat(y,"-")},f=function(m,y){return y===void 0&&(y={}),a(m)?m:(m=m.toLowerCase(),y.reactCompat?m=m.replace(s,d):m=m.replace(i,d),m.replace(t,l))};return ac.camelCase=f,ac}var oc,g2;function x$(){if(g2)return oc;g2=1;var e=oc&&oc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(v$()),n=b$();function i(s,a){var l={};return!s||typeof s!="string"||(0,t.default)(s,function(d,f){d&&f&&(l[(0,n.camelCase)(d,a)]=f)}),l}return i.default=i,oc=i,oc}var _$=x$();const w$=oa(_$),I5=B5("end"),Fy=B5("start");function B5(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function S$(e){const t=Fy(e),n=I5(e);if(t&&n)return{start:t,end:n}}function _c(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?y2(e.position):"start"in e||"end"in e?y2(e):"line"in e||"column"in e?U0(e):""}function U0(e){return v2(e&&e.line)+":"+v2(e&&e.column)}function y2(e){return U0(e&&e.start)+"-"+U0(e&&e.end)}function v2(e){return e&&typeof e=="number"?e:1}class In extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(l=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){const f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}const d=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=_c(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}In.prototype.file="";In.prototype.name="";In.prototype.reason="";In.prototype.message="";In.prototype.stack="";In.prototype.column=void 0;In.prototype.line=void 0;In.prototype.ancestors=void 0;In.prototype.cause=void 0;In.prototype.fatal=void 0;In.prototype.place=void 0;In.prototype.ruleId=void 0;In.prototype.source=void 0;const Vy={}.hasOwnProperty,C$=new Map,E$=/[A-Z]/g,j$=new Set(["table","tbody","thead","tfoot","tr"]),N$=new Set(["td","th"]),U5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function T$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=R$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=O$(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Uy:p$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=F5(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function F5(e,t,n){if(t.type==="element")return k$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return $$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return L$(e,t,n);if(t.type==="mdxjsEsm")return A$(e,t);if(t.type==="root")return M$(e,t,n);if(t.type==="text")return P$(e,t)}function k$(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Uy,e.schema=s),e.ancestors.push(t);const a=H5(e,t.tagName,!1),l=D$(e,t);let d=Zy(e,t);return j$.has(t.tagName)&&(d=d.filter(function(f){return typeof f=="string"?!s$(f):!0})),V5(e,l,a,t),Hy(l,d),e.ancestors.pop(),e.schema=i,e.create(t,a,l,n)}function $$(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Oc(e,t.position)}function A$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Oc(e,t.position)}function L$(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=Uy,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:H5(e,t.name,!0),l=z$(e,t),d=Zy(e,t);return V5(e,l,a,t),Hy(l,d),e.ancestors.pop(),e.schema=i,e.create(t,a,l,n)}function M$(e,t,n){const i={};return Hy(i,Zy(e,t)),e.create(t,e.Fragment,i,n)}function P$(e,t){return t.value}function V5(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Hy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function O$(e,t,n){return i;function i(s,a,l,d){const m=Array.isArray(l.children)?n:t;return d?m(a,l,d):m(a,l)}}function R$(e,t){return n;function n(i,s,a,l){const d=Array.isArray(a.children),f=Fy(i);return t(s,a,l,d,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function D$(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&Vy.call(t.properties,s)){const a=I$(e,s,t.properties[s]);if(a){const[l,d]=a;e.tableCellAlignToStyle&&l==="align"&&typeof d=="string"&&N$.has(t.tagName)?i=d:n[l]=d}}if(i){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function z$(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const d=l.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else Oc(e,t.position);else{const s=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,a=e.evaluater.evaluateExpression(d.expression)}else Oc(e,t.position);else a=i.value===null?!0:i.value;n[s]=a}return n}function Zy(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:C$;for(;++i<t.children.length;){const a=t.children[i];let l;if(e.passKeys){const f=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(f){const m=s.get(f)||0;l=f+"-"+m,s.set(f,m+1)}}const d=F5(e,a,l);d!==void 0&&n.push(d)}return n}function I$(e,t,n){const i=h$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?e$(n):g$(n)),i.property==="style"){let s=typeof n=="object"?n:B$(e,String(n));return e.stylePropertyNameCase==="css"&&(s=U$(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?u$[i.property]||i.property:i.attribute,n]}}function B$(e,t){try{return w$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new In("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=U5+"#cannot-parse-style-attribute",s}}function H5(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,l;for(;++a<s.length;){const d=u2(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:d,computed:!!(a&&d.type==="Literal"),optional:!1}:d}i=l}else i=u2(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return Vy.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);Oc(e)}function Oc(e,t){const n=new In("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=U5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function U$(e){const t={};let n;for(n in e)Vy.call(e,n)&&(t[F$(n)]=e[n]);return t}function F$(e){let t=e.replace(E$,V$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function V$(e){return"-"+e.toLowerCase()}const Og={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},H$={};function Z$(e,t){const n=H$,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Z5(e,i,s)}function Z5(e,t,n){if(q$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return b2(e.children,t,n)}return Array.isArray(e)?b2(e,t,n):""}function b2(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=Z5(e[s],t,n);return i.join("")}function q$(e){return!!(e&&typeof e=="object")}const x2=document.createElement("i");function qy(e){const t="&"+e+";";x2.innerHTML=t;const n=x2.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Mr(e,t,n,i){const s=e.length;let a=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function Hi(e,t){return e.length>0?(Mr(e,e.length,0,t),e):t}const _2={}.hasOwnProperty;function G$(e){const t={};let n=-1;for(;++n<e.length;)K$(t,e[n]);return t}function K$(e,t){let n;for(n in t){const s=(_2.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){_2.call(s,l)||(s[l]=[]);const d=a[l];W$(s[l],Array.isArray(d)?d:d?[d]:[])}}}function W$(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Mr(e,0,0,i)}function q5(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Tl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tr=ca(/[A-Za-z]/),Ni=ca(/[\dA-Za-z]/),Y$=ca(/[#-'*+\--9=?A-Z^-~]/);function F0(e){return e!==null&&(e<32||e===127)}const V0=ca(/\d/),X$=ca(/[\dA-Fa-f]/),J$=ca(/[!-/:-@[-`{-~]/);function We(e){return e!==null&&e<-2}function li(e){return e!==null&&(e<0||e===32)}function vt(e){return e===-2||e===-1||e===32}const Q$=ca(new RegExp("\\p{P}|\\p{S}","u")),eA=ca(/\s/);function ca(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Kl(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&Ni(e.charCodeAt(n+1))&&Ni(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const d=e.charCodeAt(n+1);a<56320&&d>56319&&d<57344?(l=String.fromCharCode(a,d),s=1):l=""}else l=String.fromCharCode(a);l&&(t.push(e.slice(i,n),encodeURIComponent(l)),i=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function Ot(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(f){return vt(f)?(e.enter(n),d(f)):t(f)}function d(f){return vt(f)&&a++<s?(e.consume(f),d):(e.exit(n),t(f))}}const tA={tokenize:nA};function nA(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ot(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),a(d)}function a(d){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(d)}function l(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return We(d)?(e.consume(d),e.exit("chunkText"),a):(e.consume(d),l)}}const iA={tokenize:rA},w2={tokenize:sA};function rA(e){const t=this,n=[];let i=0,s,a,l;return d;function d($){if(i<n.length){const O=n[i];return t.containerState=O[1],e.attempt(O[0].continuation,f,m)($)}return m($)}function f($){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&A();const O=t.events.length;let F=O,R;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){R=t.events[F][1].end;break}k(i);let Z=O;for(;Z<t.events.length;)t.events[Z][1].end={...R},Z++;return Mr(t.events,F+1,0,t.events.slice(O)),t.events.length=Z,m($)}return d($)}function m($){if(i===n.length){if(!s)return _($);if(s.currentConstruct&&s.currentConstruct.concrete)return C($);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(w2,y,v)($)}function y($){return s&&A(),k(i),_($)}function v($){return t.parser.lazy[t.now().line]=i!==n.length,l=t.now().offset,C($)}function _($){return t.containerState={},e.attempt(w2,w,C)($)}function w($){return i++,n.push([t.currentConstruct,t.containerState]),_($)}function C($){if($===null){s&&A(),k(0),e.consume($);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),N($)}function N($){if($===null){T(e.exit("chunkFlow"),!0),k(0),e.consume($);return}return We($)?(e.consume($),T(e.exit("chunkFlow")),i=0,t.interrupt=void 0,d):(e.consume($),N)}function T($,O){const F=t.sliceStream($);if(O&&F.push(null),$.previous=a,a&&(a.next=$),a=$,s.defineSkip($.start),s.write(F),t.parser.lazy[$.start.line]){let R=s.events.length;for(;R--;)if(s.events[R][1].start.offset<l&&(!s.events[R][1].end||s.events[R][1].end.offset>l))return;const Z=t.events.length;let W=Z,V,Q;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(V){Q=t.events[W][1].end;break}V=!0}for(k(i),R=Z;R<t.events.length;)t.events[R][1].end={...Q},R++;Mr(t.events,W+1,0,t.events.slice(Z)),t.events.length=R}}function k($){let O=n.length;for(;O-- >$;){const F=n[O];t.containerState=F[1],F[0].exit.call(t,e)}n.length=$}function A(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function sA(e,t,n){return Ot(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S2(e){if(e===null||li(e)||eA(e))return 1;if(Q$(e))return 2}function Gy(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!i.includes(a)&&(t=a(t,n),i.push(a))}return t}const H0={name:"attention",resolveAll:aA,tokenize:oA};function aA(e,t){let n=-1,i,s,a,l,d,f,m,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[i][1].end},_={...e[n][1].start};C2(v,-f),C2(_,f),l={type:f>1?"strongSequence":"emphasisSequence",start:v,end:{...e[i][1].end}},d={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:_},a={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...d.end}},e[i][1].end={...l.start},e[n][1].start={...d.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=Hi(m,[["enter",e[i][1],t],["exit",e[i][1],t]])),m=Hi(m,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",a,t]]),m=Hi(m,Gy(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),m=Hi(m,[["exit",a,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,m=Hi(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,Mr(e,i-1,n-i+3,m),n=i+m.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function oA(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=S2(i);let a;return l;function l(f){return a=f,e.enter("attentionSequence"),d(f)}function d(f){if(f===a)return e.consume(f),d;const m=e.exit("attentionSequence"),y=S2(f),v=!y||y===2&&s||n.includes(f),_=!s||s===2&&y||n.includes(i);return m._open=!!(a===42?v:v&&(s||!_)),m._close=!!(a===42?_:_&&(y||!v)),t(f)}}function C2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lA={name:"autolink",tokenize:uA};function uA(e,t,n){let i=0;return s;function s(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(w){return Tr(w)?(e.consume(w),l):w===64?n(w):m(w)}function l(w){return w===43||w===45||w===46||Ni(w)?(i=1,d(w)):m(w)}function d(w){return w===58?(e.consume(w),i=0,f):(w===43||w===45||w===46||Ni(w))&&i++<32?(e.consume(w),d):(i=0,m(w))}function f(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):w===null||w===32||w===60||F0(w)?n(w):(e.consume(w),f)}function m(w){return w===64?(e.consume(w),y):Y$(w)?(e.consume(w),m):n(w)}function y(w){return Ni(w)?v(w):n(w)}function v(w){return w===46?(e.consume(w),i=0,y):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):_(w)}function _(w){if((w===45||Ni(w))&&i++<63){const C=w===45?_:v;return e.consume(w),C}return n(w)}}const qf={partial:!0,tokenize:cA};function cA(e,t,n){return i;function i(a){return vt(a)?Ot(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||We(a)?t(a):n(a)}}const G5={continuation:{tokenize:hA},exit:fA,name:"blockQuote",tokenize:dA};function dA(e,t,n){const i=this;return s;function s(l){if(l===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return vt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function hA(e,t,n){const i=this;return s;function s(l){return vt(l)?Ot(e,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(G5,t,n)(l)}}function fA(e){e.exit("blockQuote")}const K5={name:"characterEscape",tokenize:mA};function mA(e,t,n){return i;function i(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return J$(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const W5={name:"characterReference",tokenize:pA};function pA(e,t,n){const i=this;let s=0,a,l;return d;function d(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),f}function f(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),a=31,l=Ni,y(v))}function m(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=X$,y):(e.enter("characterReferenceValue"),a=7,l=V0,y(v))}function y(v){if(v===59&&s){const _=e.exit("characterReferenceValue");return l===Ni&&!qy(i.sliceSerialize(_))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(v)&&s++<a?(e.consume(v),y):n(v)}}const E2={partial:!0,tokenize:yA},j2={concrete:!0,name:"codeFenced",tokenize:gA};function gA(e,t,n){const i=this,s={partial:!0,tokenize:F};let a=0,l=0,d;return f;function f(R){return m(R)}function m(R){const Z=i.events[i.events.length-1];return a=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,d=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(R)}function y(R){return R===d?(l++,e.consume(R),y):l<3?n(R):(e.exit("codeFencedFenceSequence"),vt(R)?Ot(e,v,"whitespace")(R):v(R))}function v(R){return R===null||We(R)?(e.exit("codeFencedFence"),i.interrupt?t(R):e.check(E2,N,O)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===null||We(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(R)):vt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ot(e,w,"whitespace")(R)):R===96&&R===d?n(R):(e.consume(R),_)}function w(R){return R===null||We(R)?v(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(R))}function C(R){return R===null||We(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(R)):R===96&&R===d?n(R):(e.consume(R),C)}function N(R){return e.attempt(s,O,T)(R)}function T(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),k}function k(R){return a>0&&vt(R)?Ot(e,A,"linePrefix",a+1)(R):A(R)}function A(R){return R===null||We(R)?e.check(E2,N,O)(R):(e.enter("codeFlowValue"),$(R))}function $(R){return R===null||We(R)?(e.exit("codeFlowValue"),A(R)):(e.consume(R),$)}function O(R){return e.exit("codeFenced"),t(R)}function F(R,Z,W){let V=0;return Q;function Q(ne){return R.enter("lineEnding"),R.consume(ne),R.exit("lineEnding"),G}function G(ne){return R.enter("codeFencedFence"),vt(ne)?Ot(R,q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):q(ne)}function q(ne){return ne===d?(R.enter("codeFencedFenceSequence"),de(ne)):W(ne)}function de(ne){return ne===d?(V++,R.consume(ne),de):V>=l?(R.exit("codeFencedFenceSequence"),vt(ne)?Ot(R,K,"whitespace")(ne):K(ne)):W(ne)}function K(ne){return ne===null||We(ne)?(R.exit("codeFencedFence"),Z(ne)):W(ne)}}}function yA(e,t,n){const i=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}const Rg={name:"codeIndented",tokenize:bA},vA={partial:!0,tokenize:xA};function bA(e,t,n){const i=this;return s;function s(m){return e.enter("codeIndented"),Ot(e,a,"linePrefix",5)(m)}function a(m){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?l(m):n(m)}function l(m){return m===null?f(m):We(m)?e.attempt(vA,l,f)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||We(m)?(e.exit("codeFlowValue"),l(m)):(e.consume(m),d)}function f(m){return e.exit("codeIndented"),t(m)}}function xA(e,t,n){const i=this;return s;function s(l){return i.parser.lazy[i.now().line]?n(l):We(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):Ot(e,a,"linePrefix",5)(l)}function a(l){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(l):We(l)?s(l):n(l)}}const _A={name:"codeText",previous:SA,resolve:wA,tokenize:CA};function wA(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function SA(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function CA(e,t,n){let i=0,s,a;return l;function l(v){return e.enter("codeText"),e.enter("codeTextSequence"),d(v)}function d(v){return v===96?(e.consume(v),i++,d):(e.exit("codeTextSequence"),f(v))}function f(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),f):v===96?(a=e.enter("codeTextSequence"),s=0,y(v)):We(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):(e.enter("codeTextData"),m(v))}function m(v){return v===null||v===32||v===96||We(v)?(e.exit("codeTextData"),f(v)):(e.consume(v),m)}function y(v){return v===96?(e.consume(v),s++,y):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(a.type="codeTextData",m(v))}}class EA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&lc(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),lc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),lc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);lc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);lc(this.left,n.reverse())}}}function lc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Y5(e){const t={};let n=-1,i,s,a,l,d,f,m;const y=new EA(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,jA(y,n)),n=t[n],m=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(l=y.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(y.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(i[1].end={...y.get(s)[1].start},d=y.slice(s,n),d.unshift(i),y.splice(s,n-s+1,d))}}return Mr(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function jA(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const a=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const d=l.events,f=[],m={};let y,v,_=-1,w=n,C=0,N=0;const T=[N];for(;w;){for(;e.get(++s)[1]!==w;);a.push(s),w._tokenizer||(y=i.sliceStream(w),w.next||y.push(null),v&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(y),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),v=w,w=w.next}for(w=n;++_<d.length;)d[_][0]==="exit"&&d[_-1][0]==="enter"&&d[_][1].type===d[_-1][1].type&&d[_][1].start.line!==d[_][1].end.line&&(N=_+1,T.push(N),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):T.pop(),_=T.length;_--;){const k=d.slice(T[_],T[_+1]),A=a.pop();f.push([A,A+k.length-1]),e.splice(A,2,k)}for(f.reverse(),_=-1;++_<f.length;)m[C+f[_][0]]=C+f[_][1],C+=f[_][1]-f[_][0]-1;return m}const NA={resolve:kA,tokenize:$A},TA={partial:!0,tokenize:AA};function kA(e){return Y5(e),e}function $A(e,t){let n;return i;function i(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?a(d):We(d)?e.check(TA,l,a)(d):(e.consume(d),s)}function a(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function l(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function AA(e,t,n){const i=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ot(e,a,"linePrefix")}function a(l){if(l===null||We(l))return n(l);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(l):e.interrupt(i.parser.constructs.flow,n,t)(l)}}function X5(e,t,n,i,s,a,l,d,f){const m=f||Number.POSITIVE_INFINITY;let y=0;return v;function v(k){return k===60?(e.enter(i),e.enter(s),e.enter(a),e.consume(k),e.exit(a),_):k===null||k===32||k===41||F0(k)?n(k):(e.enter(i),e.enter(l),e.enter(d),e.enter("chunkString",{contentType:"string"}),N(k))}function _(k){return k===62?(e.enter(a),e.consume(k),e.exit(a),e.exit(s),e.exit(i),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===62?(e.exit("chunkString"),e.exit(d),_(k)):k===null||k===60||We(k)?n(k):(e.consume(k),k===92?C:w)}function C(k){return k===60||k===62||k===92?(e.consume(k),w):w(k)}function N(k){return!y&&(k===null||k===41||li(k))?(e.exit("chunkString"),e.exit(d),e.exit(l),e.exit(i),t(k)):y<m&&k===40?(e.consume(k),y++,N):k===41?(e.consume(k),y--,N):k===null||k===32||k===40||F0(k)?n(k):(e.consume(k),k===92?T:N)}function T(k){return k===40||k===41||k===92?(e.consume(k),N):N(k)}}function J5(e,t,n,i,s,a){const l=this;let d=0,f;return m;function m(w){return e.enter(i),e.enter(s),e.consume(w),e.exit(s),e.enter(a),y}function y(w){return d>999||w===null||w===91||w===93&&!f||w===94&&!d&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(e.exit(a),e.enter(s),e.consume(w),e.exit(s),e.exit(i),t):We(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||w===91||w===93||We(w)||d++>999?(e.exit("chunkString"),y(w)):(e.consume(w),f||(f=!vt(w)),w===92?_:v)}function _(w){return w===91||w===92||w===93?(e.consume(w),d++,v):v(w)}}function Q5(e,t,n,i,s,a){let l;return d;function d(_){return _===34||_===39||_===40?(e.enter(i),e.enter(s),e.consume(_),e.exit(s),l=_===40?41:_,f):n(_)}function f(_){return _===l?(e.enter(s),e.consume(_),e.exit(s),e.exit(i),t):(e.enter(a),m(_))}function m(_){return _===l?(e.exit(a),f(l)):_===null?n(_):We(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),Ot(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===l||_===null||We(_)?(e.exit("chunkString"),m(_)):(e.consume(_),_===92?v:y)}function v(_){return _===l||_===92?(e.consume(_),y):y(_)}}function wc(e,t){let n;return i;function i(s){return We(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):vt(s)?Ot(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const LA={name:"definition",tokenize:PA},MA={partial:!0,tokenize:OA};function PA(e,t,n){const i=this;let s;return a;function a(w){return e.enter("definition"),l(w)}function l(w){return J5.call(i,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function d(w){return s=Tl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),f):n(w)}function f(w){return li(w)?wc(e,m)(w):m(w)}function m(w){return X5(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function y(w){return e.attempt(MA,v,v)(w)}function v(w){return vt(w)?Ot(e,_,"whitespace")(w):_(w)}function _(w){return w===null||We(w)?(e.exit("definition"),i.parser.defined.push(s),t(w)):n(w)}}function OA(e,t,n){return i;function i(d){return li(d)?wc(e,s)(d):n(d)}function s(d){return Q5(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function a(d){return vt(d)?Ot(e,l,"whitespace")(d):l(d)}function l(d){return d===null||We(d)?t(d):n(d)}}const RA={name:"hardBreakEscape",tokenize:DA};function DA(e,t,n){return i;function i(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return We(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const zA={name:"headingAtx",resolve:IA,tokenize:BA};function IA(e,t){let n=e.length-2,i=3,s,a;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},a={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Mr(e,i,n-i+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function BA(e,t,n){let i=0;return s;function s(y){return e.enter("atxHeading"),a(y)}function a(y){return e.enter("atxHeadingSequence"),l(y)}function l(y){return y===35&&i++<6?(e.consume(y),l):y===null||li(y)?(e.exit("atxHeadingSequence"),d(y)):n(y)}function d(y){return y===35?(e.enter("atxHeadingSequence"),f(y)):y===null||We(y)?(e.exit("atxHeading"),t(y)):vt(y)?Ot(e,d,"whitespace")(y):(e.enter("atxHeadingText"),m(y))}function f(y){return y===35?(e.consume(y),f):(e.exit("atxHeadingSequence"),d(y))}function m(y){return y===null||y===35||li(y)?(e.exit("atxHeadingText"),d(y)):(e.consume(y),m)}}const UA=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],N2=["pre","script","style","textarea"],FA={concrete:!0,name:"htmlFlow",resolveTo:ZA,tokenize:qA},VA={partial:!0,tokenize:KA},HA={partial:!0,tokenize:GA};function ZA(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function qA(e,t,n){const i=this;let s,a,l,d,f;return m;function m(I){return y(I)}function y(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),v}function v(I){return I===33?(e.consume(I),_):I===47?(e.consume(I),a=!0,N):I===63?(e.consume(I),s=3,i.interrupt?t:B):Tr(I)?(e.consume(I),l=String.fromCharCode(I),T):n(I)}function _(I){return I===45?(e.consume(I),s=2,w):I===91?(e.consume(I),s=5,d=0,C):Tr(I)?(e.consume(I),s=4,i.interrupt?t:B):n(I)}function w(I){return I===45?(e.consume(I),i.interrupt?t:B):n(I)}function C(I){const fe="CDATA[";return I===fe.charCodeAt(d++)?(e.consume(I),d===fe.length?i.interrupt?t:q:C):n(I)}function N(I){return Tr(I)?(e.consume(I),l=String.fromCharCode(I),T):n(I)}function T(I){if(I===null||I===47||I===62||li(I)){const fe=I===47,le=l.toLowerCase();return!fe&&!a&&N2.includes(le)?(s=1,i.interrupt?t(I):q(I)):UA.includes(l.toLowerCase())?(s=6,fe?(e.consume(I),k):i.interrupt?t(I):q(I)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(I):a?A(I):$(I))}return I===45||Ni(I)?(e.consume(I),l+=String.fromCharCode(I),T):n(I)}function k(I){return I===62?(e.consume(I),i.interrupt?t:q):n(I)}function A(I){return vt(I)?(e.consume(I),A):Q(I)}function $(I){return I===47?(e.consume(I),Q):I===58||I===95||Tr(I)?(e.consume(I),O):vt(I)?(e.consume(I),$):Q(I)}function O(I){return I===45||I===46||I===58||I===95||Ni(I)?(e.consume(I),O):F(I)}function F(I){return I===61?(e.consume(I),R):vt(I)?(e.consume(I),F):$(I)}function R(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),f=I,Z):vt(I)?(e.consume(I),R):W(I)}function Z(I){return I===f?(e.consume(I),f=null,V):I===null||We(I)?n(I):(e.consume(I),Z)}function W(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||li(I)?F(I):(e.consume(I),W)}function V(I){return I===47||I===62||vt(I)?$(I):n(I)}function Q(I){return I===62?(e.consume(I),G):n(I)}function G(I){return I===null||We(I)?q(I):vt(I)?(e.consume(I),G):n(I)}function q(I){return I===45&&s===2?(e.consume(I),H):I===60&&s===1?(e.consume(I),Y):I===62&&s===4?(e.consume(I),D):I===63&&s===3?(e.consume(I),B):I===93&&s===5?(e.consume(I),ke):We(I)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(VA,te,de)(I)):I===null||We(I)?(e.exit("htmlFlowData"),de(I)):(e.consume(I),q)}function de(I){return e.check(HA,K,te)(I)}function K(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),ne}function ne(I){return I===null||We(I)?de(I):(e.enter("htmlFlowData"),q(I))}function H(I){return I===45?(e.consume(I),B):q(I)}function Y(I){return I===47?(e.consume(I),l="",ie):q(I)}function ie(I){if(I===62){const fe=l.toLowerCase();return N2.includes(fe)?(e.consume(I),D):q(I)}return Tr(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),ie):q(I)}function ke(I){return I===93?(e.consume(I),B):q(I)}function B(I){return I===62?(e.consume(I),D):I===45&&s===2?(e.consume(I),B):q(I)}function D(I){return I===null||We(I)?(e.exit("htmlFlowData"),te(I)):(e.consume(I),D)}function te(I){return e.exit("htmlFlow"),t(I)}}function GA(e,t,n){const i=this;return s;function s(l){return We(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}function KA(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(qf,t,n)}}const WA={name:"htmlText",tokenize:YA};function YA(e,t,n){const i=this;let s,a,l;return d;function d(B){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(B),f}function f(B){return B===33?(e.consume(B),m):B===47?(e.consume(B),F):B===63?(e.consume(B),$):Tr(B)?(e.consume(B),W):n(B)}function m(B){return B===45?(e.consume(B),y):B===91?(e.consume(B),a=0,C):Tr(B)?(e.consume(B),A):n(B)}function y(B){return B===45?(e.consume(B),w):n(B)}function v(B){return B===null?n(B):B===45?(e.consume(B),_):We(B)?(l=v,Y(B)):(e.consume(B),v)}function _(B){return B===45?(e.consume(B),w):v(B)}function w(B){return B===62?H(B):B===45?_(B):v(B)}function C(B){const D="CDATA[";return B===D.charCodeAt(a++)?(e.consume(B),a===D.length?N:C):n(B)}function N(B){return B===null?n(B):B===93?(e.consume(B),T):We(B)?(l=N,Y(B)):(e.consume(B),N)}function T(B){return B===93?(e.consume(B),k):N(B)}function k(B){return B===62?H(B):B===93?(e.consume(B),k):N(B)}function A(B){return B===null||B===62?H(B):We(B)?(l=A,Y(B)):(e.consume(B),A)}function $(B){return B===null?n(B):B===63?(e.consume(B),O):We(B)?(l=$,Y(B)):(e.consume(B),$)}function O(B){return B===62?H(B):$(B)}function F(B){return Tr(B)?(e.consume(B),R):n(B)}function R(B){return B===45||Ni(B)?(e.consume(B),R):Z(B)}function Z(B){return We(B)?(l=Z,Y(B)):vt(B)?(e.consume(B),Z):H(B)}function W(B){return B===45||Ni(B)?(e.consume(B),W):B===47||B===62||li(B)?V(B):n(B)}function V(B){return B===47?(e.consume(B),H):B===58||B===95||Tr(B)?(e.consume(B),Q):We(B)?(l=V,Y(B)):vt(B)?(e.consume(B),V):H(B)}function Q(B){return B===45||B===46||B===58||B===95||Ni(B)?(e.consume(B),Q):G(B)}function G(B){return B===61?(e.consume(B),q):We(B)?(l=G,Y(B)):vt(B)?(e.consume(B),G):V(B)}function q(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),s=B,de):We(B)?(l=q,Y(B)):vt(B)?(e.consume(B),q):(e.consume(B),K)}function de(B){return B===s?(e.consume(B),s=void 0,ne):B===null?n(B):We(B)?(l=de,Y(B)):(e.consume(B),de)}function K(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||li(B)?V(B):(e.consume(B),K)}function ne(B){return B===47||B===62||li(B)?V(B):n(B)}function H(B){return B===62?(e.consume(B),e.exit("htmlTextData"),e.exit("htmlText"),t):n(B)}function Y(B){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),ie}function ie(B){return vt(B)?Ot(e,ke,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):ke(B)}function ke(B){return e.enter("htmlTextData"),l(B)}}const Ky={name:"labelEnd",resolveAll:eL,resolveTo:tL,tokenize:nL},XA={tokenize:iL},JA={tokenize:rL},QA={tokenize:sL};function eL(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&Mr(e,0,e.length,n),e}function tL(e,t){let n=e.length,i=0,s,a,l,d;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=n);const f={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},y={type:"labelText",start:{...e[a+i+2][1].end},end:{...e[l-2][1].start}};return d=[["enter",f,t],["enter",m,t]],d=Hi(d,e.slice(a+1,a+i+3)),d=Hi(d,[["enter",y,t]]),d=Hi(d,Gy(t.parser.constructs.insideSpan.null,e.slice(a+i+4,l-3),t)),d=Hi(d,[["exit",y,t],e[l-2],e[l-1],["exit",m,t]]),d=Hi(d,e.slice(l+1)),d=Hi(d,[["exit",f,t]]),Mr(e,a,e.length,d),e}function nL(e,t,n){const i=this;let s=i.events.length,a,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return d;function d(_){return a?a._inactive?v(_):(l=i.parser.defined.includes(Tl(i.sliceSerialize({start:a.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(_),e.exit("labelMarker"),e.exit("labelEnd"),f):n(_)}function f(_){return _===40?e.attempt(XA,y,l?y:v)(_):_===91?e.attempt(JA,y,l?m:v)(_):l?y(_):v(_)}function m(_){return e.attempt(QA,y,v)(_)}function y(_){return t(_)}function v(_){return a._balanced=!0,n(_)}}function iL(e,t,n){return i;function i(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),s}function s(v){return li(v)?wc(e,a)(v):a(v)}function a(v){return v===41?y(v):X5(e,l,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function l(v){return li(v)?wc(e,f)(v):y(v)}function d(v){return n(v)}function f(v){return v===34||v===39||v===40?Q5(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function m(v){return li(v)?wc(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function rL(e,t,n){const i=this;return s;function s(d){return J5.call(i,e,a,l,"reference","referenceMarker","referenceString")(d)}function a(d){return i.parser.defined.includes(Tl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function l(d){return n(d)}}function sL(e,t,n){return i;function i(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const aL={name:"labelStartImage",resolveAll:Ky.resolveAll,tokenize:oL};function oL(e,t,n){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),a}function a(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),l):n(d)}function l(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):t(d)}}const lL={name:"labelStartLink",resolveAll:Ky.resolveAll,tokenize:uL};function uL(e,t,n){const i=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):t(l)}}const Dg={name:"lineEnding",tokenize:cL};function cL(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Ot(e,t,"linePrefix")}}const uf={name:"thematicBreak",tokenize:dL};function dL(e,t,n){let i=0,s;return a;function a(m){return e.enter("thematicBreak"),l(m)}function l(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),f(m)):i>=3&&(m===null||We(m))?(e.exit("thematicBreak"),t(m)):n(m)}function f(m){return m===s?(e.consume(m),i++,f):(e.exit("thematicBreakSequence"),vt(m)?Ot(e,d,"whitespace")(m):d(m))}}const si={continuation:{tokenize:pL},exit:yL,name:"list",tokenize:mL},hL={partial:!0,tokenize:vL},fL={partial:!0,tokenize:gL};function mL(e,t,n){const i=this,s=i.events[i.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return d;function d(w){const C=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:V0(w)){if(i.containerState.type||(i.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(uf,n,m)(w):m(w);if(!i.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(w)}return n(w)}function f(w){return V0(w)&&++l<10?(e.consume(w),f):(!i.interrupt||l<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),m(w)):n(w)}function m(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,e.check(qf,i.interrupt?n:y,e.attempt(hL,_,v))}function y(w){return i.containerState.initialBlankLine=!0,a++,_(w)}function v(w){return vt(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),_):n(w)}function _(w){return i.containerState.size=a+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(w)}}function pL(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(qf,s,a);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ot(e,t,"listItemIndent",i.containerState.size+1)(d)}function a(d){return i.containerState.furtherBlankLines||!vt(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(fL,t,l)(d))}function l(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ot(e,e.attempt(si,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function gL(e,t,n){const i=this;return Ot(e,s,"listItemIndent",i.containerState.size+1);function s(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?t(a):n(a)}}function yL(e){e.exit(this.containerState.type)}function vL(e,t,n){const i=this;return Ot(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=i.events[i.events.length-1];return!vt(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const T2={name:"setextUnderline",resolveTo:bL,tokenize:xL};function bL(e,t){let n=e.length,i,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",l,t]),e.splice(a+1,0,["exit",e[i][1],t]),e[i][1].end={...e[a][1].end}):e[i][1]=l,e.push(["exit",l,t]),e}function xL(e,t,n){const i=this;let s;return a;function a(m){let y=i.events.length,v;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){v=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(e.enter("setextHeadingLine"),s=m,l(m)):n(m)}function l(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),vt(m)?Ot(e,f,"lineSuffix")(m):f(m))}function f(m){return m===null||We(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const _L={tokenize:wL};function wL(e){const t=this,n=e.attempt(qf,i,e.attempt(this.parser.constructs.flowInitial,s,Ot(e,e.attempt(this.parser.constructs.flow,s,e.attempt(NA,s)),"linePrefix")));return n;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const SL={resolveAll:tC()},CL=eC("string"),EL=eC("text");function eC(e){return{resolveAll:tC(e==="text"?jL:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],a=n.attempt(s,l,d);return l;function l(y){return m(y)?a(y):d(y)}function d(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),f}function f(y){return m(y)?(n.exit("data"),a(y)):(n.consume(y),f)}function m(y){if(y===null)return!0;const v=s[y];let _=-1;if(v)for(;++_<v.length;){const w=v[_];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function tC(e){return t;function t(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,i):n}}function jL(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let a=s.length,l=-1,d=0,f;for(;a--;){const m=s[a];if(typeof m=="string"){for(l=m.length;m.charCodeAt(l-1)===32;)d++,l--;if(l)break;l=-1}else if(m===-2)f=!0,d++;else if(m!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const m={type:n===e.length||f||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const NL={42:si,43:si,45:si,48:si,49:si,50:si,51:si,52:si,53:si,54:si,55:si,56:si,57:si,62:G5},TL={91:LA},kL={[-2]:Rg,[-1]:Rg,32:Rg},$L={35:zA,42:uf,45:[T2,uf],60:FA,61:T2,95:uf,96:j2,126:j2},AL={38:W5,92:K5},LL={[-5]:Dg,[-4]:Dg,[-3]:Dg,33:aL,38:W5,42:H0,60:[lA,WA],91:lL,92:[RA,K5],93:Ky,95:H0,96:_A},ML={null:[H0,SL]},PL={null:[42,95]},OL={null:[]},RL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PL,contentInitial:TL,disable:OL,document:NL,flow:$L,flowInitial:kL,insideSpan:ML,string:AL,text:LL},Symbol.toStringTag,{value:"Module"}));function DL(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],d=[];const f={attempt:Z(F),check:Z(R),consume:A,enter:$,exit:O,interrupt:Z(R,{interrupt:!0})},m={code:null,containerState:{},defineSkip:N,events:[],now:C,parser:e,previous:null,sliceSerialize:_,sliceStream:w,write:v};let y=t.tokenize.call(m,f);return t.resolveAll&&a.push(t),m;function v(G){return l=Hi(l,G),T(),l[l.length-1]!==null?[]:(W(t,0),m.events=Gy(a,m.events,m),m.events)}function _(G,q){return IL(w(G),q)}function w(G){return zL(l,G)}function C(){const{_bufferIndex:G,_index:q,line:de,column:K,offset:ne}=i;return{_bufferIndex:G,_index:q,line:de,column:K,offset:ne}}function N(G){s[G.line]=G.column,Q()}function T(){let G;for(;i._index<l.length;){const q=l[i._index];if(typeof q=="string")for(G=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===G&&i._bufferIndex<q.length;)k(q.charCodeAt(i._bufferIndex));else k(q)}}function k(G){y=y(G)}function A(G){We(G)?(i.line++,i.column=1,i.offset+=G===-3?2:1,Q()):G!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=G}function $(G,q){const de=q||{};return de.type=G,de.start=C(),m.events.push(["enter",de,m]),d.push(de),de}function O(G){const q=d.pop();return q.end=C(),m.events.push(["exit",q,m]),q}function F(G,q){W(G,q.from)}function R(G,q){q.restore()}function Z(G,q){return de;function de(K,ne,H){let Y,ie,ke,B;return Array.isArray(K)?te(K):"tokenize"in K?te([K]):D(K);function D(ve){return Te;function Te(be){const ce=be!==null&&ve[be],ae=be!==null&&ve.null,J=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return te(J)(be)}}function te(ve){return Y=ve,ie=0,ve.length===0?H:I(ve[ie])}function I(ve){return Te;function Te(be){return B=V(),ke=ve,ve.partial||(m.currentConstruct=ve),ve.name&&m.parser.constructs.disable.null.includes(ve.name)?le():ve.tokenize.call(q?Object.assign(Object.create(m),q):m,f,fe,le)(be)}}function fe(ve){return G(ke,B),ne}function le(ve){return B.restore(),++ie<Y.length?I(Y[ie]):H}}}function W(G,q){G.resolveAll&&!a.includes(G)&&a.push(G),G.resolve&&Mr(m.events,q,m.events.length-q,G.resolve(m.events.slice(q),m)),G.resolveTo&&(m.events=G.resolveTo(m.events,m))}function V(){const G=C(),q=m.previous,de=m.currentConstruct,K=m.events.length,ne=Array.from(d);return{from:K,restore:H};function H(){i=G,m.previous=q,m.currentConstruct=de,m.events.length=K,d=ne,Q()}}function Q(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function zL(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(i,a)];else{if(l=e.slice(n,s),i>-1){const d=l[0];typeof d=="string"?l[0]=d.slice(i):l.shift()}a>0&&l.push(e[s].slice(0,a))}return l}function IL(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,i.push(l)}return i.join("")}function BL(e){const i={constructs:G$([RL,...(e||{}).extensions||[]]),content:s(tA),defined:[],document:s(iA),flow:s(_L),lazy:{},string:s(CL),text:s(EL)};return i;function s(a){return l;function l(d){return DL(i,a,d)}}}function UL(e){for(;!Y5(e););return e}const k2=/[\0\t\n\r]/g;function FL(){let e=1,t="",n=!0,i;return s;function s(a,l,d){const f=[];let m,y,v,_,w;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),v=0,t="",n&&(a.charCodeAt(0)===65279&&v++,n=void 0);v<a.length;){if(k2.lastIndex=v,m=k2.exec(a),_=m&&m.index!==void 0?m.index:a.length,w=a.charCodeAt(_),!m){t=a.slice(v);break}if(w===10&&v===_&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),v<_&&(f.push(a.slice(v,_)),e+=_-v),w){case 0:{f.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,f.push(-2);e++<y;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}v=_+1}return d&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const VL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HL(e){return e.replace(VL,ZL)}function ZL(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return q5(n.slice(a?2:1),a?16:10)}return qy(n)||e}const nC={}.hasOwnProperty;function qL(e,t,n){return typeof t!="string"&&(n=t,t=void 0),GL(n)(UL(BL(n).document().write(FL()(e,t,!0))))}function GL(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Tt),autolinkProtocol:V,autolinkEmail:V,atxHeading:a(Ke),blockQuote:a(ae),characterEscape:V,characterReference:V,codeFenced:a(J),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(J,l),codeText:a(se,l),codeTextData:V,data:V,codeFlowValue:V,definition:a(Me),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Pe),hardBreakEscape:a(Oe),hardBreakTrailing:a(Oe),htmlFlow:a(xt,l),htmlFlowData:V,htmlText:a(xt,l),htmlTextData:V,image:a(Xt),label:l,link:a(Tt),listItem:a(dn),listItemValue:_,listOrdered:a(kt,v),listUnordered:a(kt),paragraph:a(di),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Ke),strong:a(Dr),thematicBreak:a(Ql)},exit:{atxHeading:f(),atxHeadingSequence:F,autolink:f(),autolinkEmail:ce,autolinkProtocol:be,blockQuote:f(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ve,characterReference:Te,codeFenced:f(T),codeFencedFence:N,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:Q,codeIndented:f(k),codeText:f(ne),codeTextData:Q,data:Q,definition:f(),definitionDestinationString:O,definitionLabelString:A,definitionTitleString:$,emphasis:f(),hardBreakEscape:f(q),hardBreakTrailing:f(q),htmlFlow:f(de),htmlFlowData:Q,htmlText:f(K),htmlTextData:Q,image:f(Y),label:ke,labelText:ie,lineEnding:G,link:f(H),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:fe,resourceDestinationString:B,resourceTitleString:D,resource:te,setextHeading:f(W),setextHeadingLineSequence:Z,setextHeadingText:R,strong:f(),thematicBreak:f()}};iC(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(Se){let Ae={type:"root",children:[]};const Ve={stack:[Ae],tokenStack:[],config:t,enter:d,exit:m,buffer:l,resume:y,data:n},it=[];let ht=-1;for(;++ht<Se.length;)if(Se[ht][1].type==="listOrdered"||Se[ht][1].type==="listUnordered")if(Se[ht][0]==="enter")it.push(ht);else{const An=it.pop();ht=s(Se,An,ht)}for(ht=-1;++ht<Se.length;){const An=t[Se[ht][0]];nC.call(An,Se[ht][1].type)&&An[Se[ht][1].type].call(Object.assign({sliceSerialize:Se[ht][2].sliceSerialize},Ve),Se[ht][1])}if(Ve.tokenStack.length>0){const An=Ve.tokenStack[Ve.tokenStack.length-1];(An[1]||$2).call(Ve,void 0,An[0])}for(Ae.position={start:Qs(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:Qs(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<t.transforms.length;)Ae=t.transforms[ht](Ae)||Ae;return Ae}function s(Se,Ae,Ve){let it=Ae-1,ht=-1,An=!1,Ki,gn,Ut,wn;for(;++it<=Ve;){const _t=Se[it];switch(_t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{_t[0]==="enter"?ht++:ht--,wn=void 0;break}case"lineEndingBlank":{_t[0]==="enter"&&(Ki&&!wn&&!ht&&!Ut&&(Ut=it),wn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wn=void 0}if(!ht&&_t[0]==="enter"&&_t[1].type==="listItemPrefix"||ht===-1&&_t[0]==="exit"&&(_t[1].type==="listUnordered"||_t[1].type==="listOrdered")){if(Ki){let qn=it;for(gn=void 0;qn--;){const hi=Se[qn];if(hi[1].type==="lineEnding"||hi[1].type==="lineEndingBlank"){if(hi[0]==="exit")continue;gn&&(Se[gn][1].type="lineEndingBlank",An=!0),hi[1].type="lineEnding",gn=qn}else if(!(hi[1].type==="linePrefix"||hi[1].type==="blockQuotePrefix"||hi[1].type==="blockQuotePrefixWhitespace"||hi[1].type==="blockQuoteMarker"||hi[1].type==="listItemIndent"))break}Ut&&(!gn||Ut<gn)&&(Ki._spread=!0),Ki.end=Object.assign({},gn?Se[gn][1].start:_t[1].end),Se.splice(gn||it,0,["exit",Ki,_t[2]]),it++,Ve++}if(_t[1].type==="listItemPrefix"){const qn={type:"listItem",_spread:!1,start:Object.assign({},_t[1].start),end:void 0};Ki=qn,Se.splice(it,0,["enter",qn,_t[2]]),it++,Ve++,Ut=void 0,wn=!0}}}return Se[Ae][1]._spread=An,Ve}function a(Se,Ae){return Ve;function Ve(it){d.call(this,Se(it),it),Ae&&Ae.call(this,it)}}function l(){this.stack.push({type:"fragment",children:[]})}function d(Se,Ae,Ve){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Ae,Ve||void 0]),Se.position={start:Qs(Ae.start),end:void 0}}function f(Se){return Ae;function Ae(Ve){Se&&Se.call(this,Ve),m.call(this,Ve)}}function m(Se,Ae){const Ve=this.stack.pop(),it=this.tokenStack.pop();if(it)it[0].type!==Se.type&&(Ae?Ae.call(this,Se,it[0]):(it[1]||$2).call(this,Se,it[0]));else throw new Error("Cannot close `"+Se.type+"` ("+_c({start:Se.start,end:Se.end})+"): its not open");Ve.position.end=Qs(Se.end)}function y(){return Z$(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function _(Se){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function w(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=Se}function C(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=Se}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Se.replace(/(\r?\n|\r)$/g,"")}function A(Se){const Ae=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Ae,Ve.identifier=Tl(this.sliceSerialize(Se)).toLowerCase()}function $(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=Se}function O(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=Se}function F(Se){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const Ve=this.sliceSerialize(Se).length;Ae.depth=Ve}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function Z(Se){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function V(Se){const Ve=this.stack[this.stack.length-1].children;let it=Ve[Ve.length-1];(!it||it.type!=="text")&&(it=_n(),it.position={start:Qs(Se.start),end:void 0},Ve.push(it)),this.stack.push(it)}function Q(Se){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(Se),Ae.position.end=Qs(Se.end)}function G(Se){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=Ae.children[Ae.children.length-1];Ve.position.end=Qs(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ae.type)&&(V.call(this,Se),Q.call(this,Se))}function q(){this.data.atHardBreak=!0}function de(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Se}function K(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Se}function ne(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Se}function H(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Ae,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function Y(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Ae,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ie(Se){const Ae=this.sliceSerialize(Se),Ve=this.stack[this.stack.length-2];Ve.label=HL(Ae),Ve.identifier=Tl(Ae).toLowerCase()}function ke(){const Se=this.stack[this.stack.length-1],Ae=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const it=Se.children;Ve.children=it}else Ve.alt=Ae}function B(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=Se}function D(){const Se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=Se}function te(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function fe(Se){const Ae=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Ae,Ve.identifier=Tl(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function le(Se){this.data.characterReferenceType=Se.type}function ve(Se){const Ae=this.sliceSerialize(Se),Ve=this.data.characterReferenceType;let it;Ve?(it=q5(Ae,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):it=qy(Ae);const ht=this.stack[this.stack.length-1];ht.value+=it}function Te(Se){const Ae=this.stack.pop();Ae.position.end=Qs(Se.end)}function be(Se){Q.call(this,Se);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(Se)}function ce(Se){Q.call(this,Se);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(Se)}function ae(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function Me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pe(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function Oe(){return{type:"break"}}function xt(){return{type:"html",value:""}}function Xt(){return{type:"image",title:null,url:"",alt:null}}function Tt(){return{type:"link",title:null,url:"",children:[]}}function kt(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function dn(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function di(){return{type:"paragraph",children:[]}}function Dr(){return{type:"strong",children:[]}}function _n(){return{type:"text",value:""}}function Ql(){return{type:"thematicBreak"}}}function Qs(e){return{line:e.line,column:e.column,offset:e.offset}}function iC(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?iC(e,i):KL(e,i)}}function KL(e,t){let n;for(n in t)if(nC.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function $2(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+_c({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+_c({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+_c({start:t.start,end:t.end})+") is still open")}function WL(e){const t=this;t.parser=n;function n(i){return qL(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function YL(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function XL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function JL(e,t){const n=t.value?t.value+`
`:"",i={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(i.className=["language-"+s[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function QL(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function e7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function t7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Kl(i.toLowerCase()),a=e.footnoteOrder.indexOf(i);let l,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),l=e.footnoteOrder.length):l=a+1,d+=1,e.footnoteCounts.set(i,d);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,f);const m={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,m),e.applyData(t,m)}function n7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function i7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rC(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=i:s.push({type:"text",value:i}),s}function r7(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return rC(e,t);const s={src:Kl(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function s7(e,t){const n={src:Kl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function a7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function o7(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return rC(e,t);const s={href:Kl(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function l7(e,t){const n={href:Kl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function u7(e,t,n){const i=e.all(t),s=n?c7(n):sC(t),a={},l=[];if(typeof t.checked=="boolean"){const y=i[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const y=i[d];(s||d!==0||y.type!=="element"||y.tagName!=="p")&&l.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!s?l.push(...y.children):l.push(y)}const f=i[i.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,m),e.applyData(t,m)}function c7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=sC(n[i])}return t}function sC(e){const t=e.spread;return t??e.children.length>1}function d7(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const l=i[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function h7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function m7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p7(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=Fy(t.children[1]),f=I5(t.children[t.children.length-1]);d&&f&&(l.position={start:d,end:f}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function g7(e,t,n){const i=n?n.children:void 0,a=(i?i.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,d=l?l.length:t.children.length;let f=-1;const m=[];for(;++f<d;){const v=t.children[f],_={},w=l?l[f]:void 0;w&&(_.align=w);let C={type:"element",tagName:a,properties:_,children:[]};v&&(C.children=e.all(v),e.patch(v,C),C=e.applyData(v,C)),m.push(C)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,y),e.applyData(t,y)}function y7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const A2=9,L2=32;function v7(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const a=[];for(;i;)a.push(M2(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return a.push(M2(t.slice(s),s>0,!1)),a.join("")}function M2(e,t,n){let i=0,s=e.length;if(t){let a=e.codePointAt(i);for(;a===A2||a===L2;)i++,a=e.codePointAt(i)}if(n){let a=e.codePointAt(s-1);for(;a===A2||a===L2;)s--,a=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function b7(e,t){const n={type:"text",value:v7(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function x7(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const _7={blockquote:YL,break:XL,code:JL,delete:QL,emphasis:e7,footnoteReference:t7,heading:n7,html:i7,imageReference:r7,image:s7,inlineCode:a7,linkReference:o7,link:l7,listItem:u7,list:d7,paragraph:h7,root:f7,strong:m7,table:p7,tableCell:y7,tableRow:g7,text:b7,thematicBreak:x7,toml:Xh,yaml:Xh,definition:Xh,footnoteDefinition:Xh};function Xh(){}const aC=-1,Gf=0,Sc=1,Ef=2,Wy=3,Yy=4,Xy=5,Jy=6,oC=7,lC=8,P2=typeof self=="object"?self:globalThis,w7=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),i=s=>{if(e.has(s))return e.get(s);const[a,l]=t[s];switch(a){case Gf:case aC:return n(l,s);case Sc:{const d=n([],s);for(const f of l)d.push(i(f));return d}case Ef:{const d=n({},s);for(const[f,m]of l)d[i(f)]=i(m);return d}case Wy:return n(new Date(l),s);case Yy:{const{source:d,flags:f}=l;return n(new RegExp(d,f),s)}case Xy:{const d=n(new Map,s);for(const[f,m]of l)d.set(i(f),i(m));return d}case Jy:{const d=n(new Set,s);for(const f of l)d.add(i(f));return d}case oC:{const{name:d,message:f}=l;return n(new P2[d](f),s)}case lC:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:d}=new Uint8Array(l);return n(new DataView(d),l)}}return n(new P2[a](l),s)};return i},O2=e=>w7(new Map,e)(0),pl="",{toString:S7}={},{keys:C7}=Object,uc=e=>{const t=typeof e;if(t!=="object"||!e)return[Gf,t];const n=S7.call(e).slice(8,-1);switch(n){case"Array":return[Sc,pl];case"Object":return[Ef,pl];case"Date":return[Wy,pl];case"RegExp":return[Yy,pl];case"Map":return[Xy,pl];case"Set":return[Jy,pl];case"DataView":return[Sc,n]}return n.includes("Array")?[Sc,n]:n.includes("Error")?[oC,n]:[Ef,n]},Jh=([e,t])=>e===Gf&&(t==="function"||t==="symbol"),E7=(e,t,n,i)=>{const s=(l,d)=>{const f=i.push(l)-1;return n.set(d,f),f},a=l=>{if(n.has(l))return n.get(l);let[d,f]=uc(l);switch(d){case Gf:{let y=l;switch(f){case"bigint":d=lC,y=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return s([aC],l)}return s([d,y],l)}case Sc:{if(f){let _=l;return f==="DataView"?_=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(_=new Uint8Array(l)),s([f,[..._]],l)}const y=[],v=s([d,y],l);for(const _ of l)y.push(a(_));return v}case Ef:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const y=[],v=s([d,y],l);for(const _ of C7(l))(e||!Jh(uc(l[_])))&&y.push([a(_),a(l[_])]);return v}case Wy:return s([d,l.toISOString()],l);case Yy:{const{source:y,flags:v}=l;return s([d,{source:y,flags:v}],l)}case Xy:{const y=[],v=s([d,y],l);for(const[_,w]of l)(e||!(Jh(uc(_))||Jh(uc(w))))&&y.push([a(_),a(w)]);return v}case Jy:{const y=[],v=s([d,y],l);for(const _ of l)(e||!Jh(uc(_)))&&y.push(a(_));return v}}const{message:m}=l;return s([d,{name:f,message:m}],l)};return a},R2=(e,{json:t,lossy:n}={})=>{const i=[];return E7(!(t||n),!!t,new Map,i)(e),i},jf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?O2(R2(e,t)):structuredClone(e):(e,t)=>O2(R2(e,t));function j7(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function N7(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function T7(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||j7,i=e.options.footnoteBackLabel||N7,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let f=-1;for(;++f<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[f]);if(!m)continue;const y=e.all(m),v=String(m.identifier).toUpperCase(),_=Kl(v.toLowerCase());let w=0;const C=[],N=e.footnoteCounts.get(v);for(;N!==void 0&&++w<=N;){C.length>0&&C.push({type:"text",value:" "});let A=typeof n=="string"?n:n(f,w);typeof A=="string"&&(A={type:"text",value:A}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+_+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,w),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const T=y[y.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const A=T.children[T.children.length-1];A&&A.type==="text"?A.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...C)}else y.push(...C);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+_},children:e.wrap(y,!0)};e.patch(m,k),d.push(k)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...jf(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const uC=(function(e){if(e==null)return L7;if(typeof e=="function")return Kf(e);if(typeof e=="object")return Array.isArray(e)?k7(e):$7(e);if(typeof e=="string")return A7(e);throw new Error("Expected function, string, or object as test")});function k7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=uC(e[n]);return Kf(i);function i(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function $7(e){const t=e;return Kf(n);function n(i){const s=i;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function A7(e){return Kf(t);function t(n){return n&&n.type===e}}function Kf(e){return t;function t(n,i,s){return!!(M7(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function L7(){return!0}function M7(e){return e!==null&&typeof e=="object"&&"type"in e}const cC=[],P7=!0,D2=!1,O7="skip";function R7(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const a=uC(s),l=i?-1:1;d(e,void 0,[])();function d(f,m,y){const v=f&&typeof f=="object"?f:{};if(typeof v.type=="string"){const w=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(f.type+(w?"<"+w+">":""))+")"})}return _;function _(){let w=cC,C,N,T;if((!t||a(f,m,y[y.length-1]||void 0))&&(w=D7(n(f,y)),w[0]===D2))return w;if("children"in f&&f.children){const k=f;if(k.children&&w[0]!==O7)for(N=(i?k.children.length:-1)+l,T=y.concat(k);N>-1&&N<k.children.length;){const A=k.children[N];if(C=d(A,N,T)(),C[0]===D2)return C;N=typeof C[1]=="number"?C[1]:N+l}}return w}}}function D7(e){return Array.isArray(e)?e:typeof e=="number"?[P7,e]:e==null?cC:[e]}function dC(e,t,n,i){let s,a,l;typeof t=="function"&&typeof n!="function"?(a=void 0,l=t,s=n):(a=t,l=n,s=i),R7(e,a,d,s);function d(f,m){const y=m[m.length-1],v=y?y.children.indexOf(f):void 0;return l(f,v,y)}}const Z0={}.hasOwnProperty,z7={};function I7(e,t){const n=t||z7,i=new Map,s=new Map,a=new Map,l={..._7,...n.handlers},d={all:m,applyData:U7,definitionById:i,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:f,options:n,patch:B7,wrap:V7};return dC(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?i:s,_=String(y.identifier).toUpperCase();v.has(_)||v.set(_,y)}}),d;function f(y,v){const _=y.type,w=d.handlers[_];if(Z0.call(d.handlers,_)&&w)return w(d,y,v);if(d.options.passThrough&&d.options.passThrough.includes(_)){if("children"in y){const{children:N,...T}=y,k=jf(T);return k.children=d.all(y),k}return jf(y)}return(d.options.unknownHandler||F7)(d,y,v)}function m(y){const v=[];if("children"in y){const _=y.children;let w=-1;for(;++w<_.length;){const C=d.one(_[w],y);if(C){if(w&&_[w-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=z2(C.value)),!Array.isArray(C)&&C.type==="element")){const N=C.children[0];N&&N.type==="text"&&(N.value=z2(N.value))}Array.isArray(C)?v.push(...C):v.push(C)}}}return v}}function B7(e,t){e.position&&(t.position=S$(e))}function U7(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,jf(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function F7(e,t){const n=t.data||{},i="value"in t&&!(Z0.call(n,"hProperties")||Z0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function V7(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function z2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function I2(e,t){const n=I7(e,t),i=n.one(e,void 0),s=T7(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function H7(e,t){return e&&"run"in e?async function(n,i){const s=I2(n,{file:i,...t});await e.run(s,i)}:function(n,i){return I2(n,{file:i,...e||t})}}function B2(e){if(e)throw e}var zg,U2;function Z7(){if(U2)return zg;U2=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},a=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var y=e.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!v)return!1;var _;for(_ in m);return typeof _>"u"||e.call(m,_)},l=function(m,y){n&&y.name==="__proto__"?n(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},d=function(m,y){if(y==="__proto__")if(e.call(m,y)){if(i)return i(m,y).value}else return;return m[y]};return zg=function f(){var m,y,v,_,w,C,N=arguments[0],T=1,k=arguments.length,A=!1;for(typeof N=="boolean"&&(A=N,N=arguments[1]||{},T=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});T<k;++T)if(m=arguments[T],m!=null)for(y in m)v=d(N,y),_=d(m,y),N!==_&&(A&&_&&(a(_)||(w=s(_)))?(w?(w=!1,C=v&&s(v)?v:[]):C=v&&a(v)?v:{},l(N,{name:y,newValue:f(A,C,_)})):typeof _<"u"&&l(N,{name:y,newValue:_}));return N},zg}var q7=Z7();const Ig=oa(q7);function q0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function G7(){const e=[],t={run:n,use:i};return t;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);d(null,...s);function d(f,...m){const y=e[++a];let v=-1;if(f){l(f);return}for(;++v<s.length;)(m[v]===null||m[v]===void 0)&&(m[v]=s[v]);s=m,y?K7(y,d)(...m):l(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function K7(e,t){let n;return i;function i(...l){const d=e.length>l.length;let f;d&&l.push(s);try{f=e.apply(this,l)}catch(m){const y=m;if(d&&n)throw y;return s(y)}d||(f&&f.then&&typeof f.then=="function"?f.then(a,s):f instanceof Error?s(f):a(f))}function s(l,...d){n||(n=!0,t(l,...d))}function a(l){s(null,l)}}const Nr={basename:W7,dirname:Y7,extname:X7,join:J7,sep:"/"};function W7(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ud(e);let n=0,i=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else i<0&&(a=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let l=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(i=s):(d=-1,i=l));return n===i?i=l:i<0&&(i=e.length),e.slice(n,i)}function Y7(e){if(ud(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function X7(e){ud(e);let t=e.length,n=-1,i=0,s=-1,a=0,l;for(;t--;){const d=e.codePointAt(t);if(d===47){if(l){i=t+1;break}continue}n<0&&(l=!0,n=t+1),d===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function J7(...e){let t=-1,n;for(;++t<e.length;)ud(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Q7(n)}function Q7(e){ud(e);const t=e.codePointAt(0)===47;let n=eM(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function eM(e,t){let n="",i=0,s=-1,a=0,l=-1,d,f;for(;++l<=e.length;){if(l<e.length)d=e.codePointAt(l);else{if(d===47)break;d=47}if(d===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",i=0,s=l,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),i=l-s-1;s=l,a=0}else d===46&&a>-1?a++:a=-1}return n}function ud(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const tM={cwd:nM};function nM(){return"/"}function G0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function iM(e){if(typeof e=="string")e=new URL(e);else if(!G0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rM(e)}function rM(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Bg=["history","path","basename","stem","extname","dirname"];class hC{constructor(t){let n;t?G0(t)?n={path:t}:typeof t=="string"||sM(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":tM.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Bg.length;){const a=Bg[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)Bg.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Nr.basename(this.path):void 0}set basename(t){Fg(t,"basename"),Ug(t,"basename"),this.path=Nr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Nr.dirname(this.path):void 0}set dirname(t){F2(this.basename,"dirname"),this.path=Nr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Nr.extname(this.path):void 0}set extname(t){if(Ug(t,"extname"),F2(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){G0(t)&&(t=iM(t)),Fg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Nr.basename(this.path,this.extname):void 0}set stem(t){Fg(t,"stem"),Ug(t,"stem"),this.path=Nr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new In(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ug(e,t){if(e&&e.includes(Nr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Nr.sep+"`")}function Fg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function F2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function sM(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const aM=(function(e){const i=this.constructor.prototype,s=i[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),oM={}.hasOwnProperty;class Qy extends aM{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=G7()}copy(){const t=new Qy;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Ig(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Zg("data",this.frozen),this.namespace[t]=n,this):oM.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Zg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qh(t),i=this.parser||this.Parser;return Vg("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Vg("process",this.parser||this.Parser),Hg("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const d=Qh(t),f=i.parse(d);i.run(f,d,function(y,v,_){if(y||!v||!_)return m(y);const w=v,C=i.stringify(w,_);cM(C)?_.value=C:_.result=C,m(y,_)});function m(y,v){y||!v?l(y):a?a(v):n(void 0,v)}}}processSync(t){let n=!1,i;return this.freeze(),Vg("processSync",this.parser||this.Parser),Hg("processSync",this.compiler||this.Compiler),this.process(t,s),H2("processSync","process",n),i;function s(a,l){n=!0,B2(a),i=l}}run(t,n,i){V2(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,d){const f=Qh(n);s.run(t,f,m);function m(y,v,_){const w=v||t;y?d(y):l?l(w):i(void 0,w,_)}}}runSync(t,n){let i=!1,s;return this.run(t,n,a),H2("runSync","run",i),s;function a(l,d){B2(l),s=d,i=!0}}stringify(t,n){this.freeze();const i=Qh(n),s=this.compiler||this.Compiler;return Hg("stringify",s),V2(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(Zg("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(m){if(typeof m=="function")f(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...v]=m;f(y,v)}else l(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function l(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=Ig(!0,s.settings,m.settings))}function d(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const v=m[y];a(v)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function f(m,y){let v=-1,_=-1;for(;++v<i.length;)if(i[v][0]===m){_=v;break}if(_===-1)i.push([m,...y]);else if(y.length>0){let[w,...C]=y;const N=i[_][1];q0(N)&&q0(w)&&(w=Ig(!0,N,w)),i[_]=[m,w,...C]}}}}const lM=new Qy().freeze();function Vg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Hg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Zg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V2(e){if(!q0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function H2(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qh(e){return uM(e)?e:new hC(e)}function uM(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function cM(e){return typeof e=="string"||dM(e)}function dM(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hM="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Z2=[],q2={allowDangerousHtml:!0},fM=/^(https?|ircs?|mailto|xmpp)$/i,mM=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function pM(e){const t=gM(e),n=yM(e);return vM(t.runSync(t.parse(n),n),e)}function gM(e){const t=e.rehypePlugins||Z2,n=e.remarkPlugins||Z2,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...q2}:q2;return lM().use(WL).use(n).use(H7,i).use(t)}function yM(e){const t=e.children||"",n=new hC;return typeof t=="string"&&(n.value=t),n}function vM(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,a=t.disallowedElements,l=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||bM;for(const y of mM)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+hM+y.id,void 0);return dC(e,m),T$(e,{Fragment:h.Fragment,components:s,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function m(y,v,_){if(y.type==="raw"&&_&&typeof v=="number")return l?_.children.splice(v,1):_.children[v]={type:"text",value:y.value},v;if(y.type==="element"){let w;for(w in Og)if(Object.hasOwn(Og,w)&&Object.hasOwn(y.properties,w)){const C=y.properties[w],N=Og[w];(N===null||N.includes(y.tagName))&&(y.properties[w]=f(String(C||""),w,y))}}if(y.type==="element"){let w=n?!n.includes(y.tagName):a?a.includes(y.tagName):!1;if(!w&&i&&typeof v=="number"&&(w=!i(y,v,_)),w&&_&&typeof v=="number")return d&&y.children?_.children.splice(v,1,...y.children):_.children.splice(v,1),v}}}function bM(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||fM.test(e.slice(0,t))?e:""}const G2={dashboard:{title:{en:"Dashboard Overview",nl:"Dashboard Overzicht"},content:{en:`
The dashboard provides a quick overview of your event data:

**Key Metrics:**
- **Total Markers**: All map locations (booths, parking, facilities)
- **Companies**: Registered exhibitor companies
- **Subscriptions**: Companies registered for the selected year
- **Assignments**: Companies assigned to map locations

**Event Stats:**
- View meal counts (breakfast, lunch, BBQ) for Saturday and Sunday
- Track total coins distributed
- All stats update in real-time as you make changes

**Year Selector:**
Use the year dropdown in the top navigation to switch between event years.
      `.trim(),nl:`
Het dashboard biedt een snel overzicht van je event data:

**Belangrijkste Cijfers:**
- **Totaal Markers**: Alle kaartlocaties (stands, parkeren, faciliteiten)
- **Bedrijven**: Geregistreerde exposanten
- **Inschrijvingen**: Bedrijven ingeschreven voor het geselecteerde jaar
- **Toewijzingen**: Bedrijven toegewezen aan kaartlocaties

**Event Statistieken:**
- Bekijk maaltijdaantallen (ontbijt, lunch, BBQ) voor zaterdag en zondag
- Volg totaal uitgedeelde munten
- Alle statistieken updaten real-time bij wijzigingen

**Jaarselector:**
Gebruik de jaarkeuze in de topnavigatie om tussen evenementjaren te wisselen.
      `.trim()},updated:"2025-11-22",tips:{en:["Use the year selector to view past or future events","Stats update automatically when you make changes","Dashboard is read-only - go to specific tabs to edit data"],nl:["Gebruik de jaarselector om verleden of toekomstige events te bekijken","Statistieken updaten automatisch bij wijzigingen","Dashboard is alleen-lezen - ga naar specifieke tabbladen om data te bewerken"]}},mapManagement:{title:{en:"Map Management",nl:"Kaartbeheer"},content:{en:`
The Map Management page lets you place and configure map markers.

**Placing Markers:**
1. Click "Add Marker" or right-click on the map
2. Drag the marker to the desired position
3. Set marker properties (name, type, icon, visibility)
4. Click "Save" to persist changes

**Marker Properties:**
- **Type**: Booth, Parking, Food, Event, etc.
- **Icon & Color**: Visual appearance on map
- **Min/Max Zoom**: Control when marker appears based on zoom level
- **Rotation**: Adjust booth rectangle angle (booths only)
- **Lock**: Prevent accidental moves during event

**Tips:**
- Lock markers before event day to prevent accidental changes
- Use zoom visibility to keep map clean at different zoom levels
- Rectangles (6m x 6m) show booth outlines - only visible in admin view
      `.trim(),nl:`
De Kaartbeheer pagina laat je kaartmarkers plaatsen en configureren.

**Markers Plaatsen:**
1. Klik "Marker Toevoegen" of rechts-klik op de kaart
2. Sleep de marker naar de gewenste positie
3. Stel marker eigenschappen in (naam, type, icoon, zichtbaarheid)
4. Klik "Opslaan" om wijzigingen vast te leggen

**Marker Eigenschappen:**
- **Type**: Stand, Parkeren, Eten, Event, etc.
- **Icoon & Kleur**: Visuele weergave op kaart
- **Min/Max Zoom**: Bepaal wanneer marker verschijnt op basis van zoomniveau
- **Rotatie**: Pas standhoek aan (alleen stands)
- **Vergrendel**: Voorkom onbedoelde verplaatsingen tijdens event

**Tips:**
- Vergrendel markers voor de eventdag om ongelukken te voorkomen
- Gebruik zoomzichtbaarheid om kaart overzichtelijk te houden
- Rechthoeken (6m x 6m) tonen standcontouren - alleen zichtbaar in admin weergave
      `.trim()},updated:"2025-11-22",tips:{en:["Right-click on map for quick marker creation","Lock markers before going live to prevent accidents","Adjust min/max zoom to control marker visibility","Use rectangles to visualize booth layouts"],nl:["Rechts-klik op kaart voor snelle marker creatie","Vergrendel markers voor go-live om ongelukken te voorkomen","Pas min/max zoom aan om marker zichtbaarheid te regelen","Gebruik rechthoeken om standindelingen te visualiseren"]}},companies:{title:{en:"Companies Management",nl:"Bedrijvenbeheer"},content:{en:`
Manage exhibitor companies and their contact information.

**Adding Companies:**
1. Click "Add Company" button
2. Fill in company details (name, contact, phone, email)
3. Click "Save"

**Company Information:**
- **Company Name**: Primary identifier (must be unique)
- **Contact Person**: Main point of contact
- **Phone**: Contact phone number
- **Email**: Contact email address

**Editing Companies:**
- Click on any row to edit company details
- Changes save automatically
- Company data persists across event years
      `.trim(),nl:`
Beheer exposanten en hun contactinformatie.

**Bedrijven Toevoegen:**
1. Klik "Bedrijf Toevoegen" knop
2. Vul bedrijfsgegevens in (naam, contact, telefoon, email)
3. Klik "Opslaan"

**Bedrijfsinformatie:**
- **Bedrijfsnaam**: Primaire identificatie (moet uniek zijn)
- **Contactpersoon**: Hoofdcontact
- **Telefoon**: Contacttelefoonnummer
- **Email**: Contact emailadres

**Bedrijven Bewerken:**
- Klik op een rij om bedrijfsgegevens te bewerken
- Wijzigingen worden automatisch opgeslagen
- Bedrijfsdata blijft behouden over evenementjaren
      `.trim()},updated:"2025-11-22",tips:{en:["Company names must be unique","Use import for bulk company uploads","Contact info is optional but recommended"],nl:["Bedrijfsnamen moeten uniek zijn","Gebruik import voor bulk bedrijfsuploads","Contactinfo is optioneel maar aangeraden"]}},subscriptions:{title:{en:"Event Subscriptions",nl:"Event Inschrijvingen"},content:{en:`
Track company registrations and meal preferences for each event year.

**Managing Subscriptions:**
- View all companies registered for selected year
- See meal selections (breakfast, lunch, BBQ) separately for Saturday and Sunday
- Track coin distribution
- Edit preferences as needed

**Saturday Options:**
- Breakfast, Lunch, BBQ available

**Sunday Options:**
- Breakfast and Lunch (no BBQ on Sunday)

**Importing Subscriptions:**
Use CSV/Excel import for efficient bulk uploads from registration system.
      `.trim(),nl:`
Volg bedrijfsregistraties en maaltijdvoorkeuren per evenementjaar.

**Inschrijvingen Beheren:**
- Bekijk alle bedrijven ingeschreven voor geselecteerd jaar
- Zie maaltijdkeuzes (ontbijt, lunch, BBQ) apart voor zaterdag en zondag
- Volg muntendistributie
- Bewerk voorkeuren indien nodig

**Zaterdag Opties:**
- Ontbijt, Lunch, BBQ beschikbaar

**Zondag Opties:**
- Ontbijt en Lunch (geen BBQ op zondag)

**Inschrijvingen Importeren:**
Gebruik CSV/Excel import voor efficinte bulk uploads vanuit registratiesysteem.
      `.trim()},updated:"2025-11-22",tips:{en:["Import subscriptions at start of event planning","Saturday and Sunday have different meal options","Changes sync to dashboard statistics automatically"],nl:["Importeer inschrijvingen aan start van eventplanning","Zaterdag en zondag hebben verschillende maaltijdopties","Wijzigingen synchroniseren automatisch naar dashboard statistieken"]}},assignments:{title:{en:"Booth Assignments",nl:"Standtoewijzingen"},content:{en:`
Assign companies to specific map locations (booth markers).

**Creating Assignments:**
1. Select event year
2. Choose company from dropdown
3. Select marker (booth) location
4. Click "Assign"

**Assignment Details:**
- Links company to physical booth location
- Displays in public map view
- Can reassign to different location if needed
- One company per booth per year

**Bulk Assignment:**
Import assignments via CSV for efficient setup.
      `.trim(),nl:`
Wijs bedrijven toe aan specifieke kaartlocaties (standmarkers).

**Toewijzingen Maken:**
1. Selecteer evenementjaar
2. Kies bedrijf uit dropdown
3. Selecteer marker (stand) locatie
4. Klik "Toewijzen"

**Toewijzingsdetails:**
- Koppelt bedrijf aan fysieke standlocatie
- Toont in publieke kaartweergave
- Kan hertoegewezen worden naar andere locatie indien nodig
- En bedrijf per stand per jaar

**Bulk Toewijzing:**
Importeer toewijzingen via CSV voor efficinte setup.
      `.trim()},updated:"2025-11-22",tips:{en:["One booth can only be assigned to one company per year","Assignments are year-specific","Use import for efficient bulk assignment"],nl:["En stand kan maar aan n bedrijf per jaar toegewezen worden","Toewijzingen zijn jaar-specifiek","Gebruik import voor efficinte bulk toewijzing"]}},settings:{title:{en:"System Settings",nl:"Systeeminstellingen"},content:{en:`
Configure system-wide settings and preferences.

**Available Settings:**
- **Organization Profile**: Logo, name, branding
- **Map Defaults**: Default layers, zoom levels
- **User Management**: Admin roles and permissions
- **Marker Defaults**: Default icons, colors, sizes
- **Event Defaults**: Saturday/Sunday meal options
- **Branding**: Colors, logo, organization name
- **Program Management**: Event schedule and activities

**Organization Logo:**
Upload your organization logo to appear:
- On map cluster markers
- In admin dashboard header
- In public map branding

**User Roles:**
- **Super Admin**: Full access to all features
- **System Manager**: Dashboard + Map Management
- **Event Manager**: Dashboard + Companies + Subscriptions + Assignments
- **Content Editor**: Program management access

**Important:**
Only Super Admins can access settings. Changes affect all users.
      `.trim(),nl:`
Configureer systeembrede instellingen en voorkeuren.

**Beschikbare Instellingen:**
- **Organisatieprofiel**: Logo, naam, huisstijl
- **Kaart Standaarden**: Standaardlagen, zoomniveaus
- **Gebruikersbeheer**: Admin rollen en rechten
- **Marker Standaarden**: Standaard iconen, kleuren, groottes
- **Event Standaarden**: Zaterdag/zondag maaltijdopties
- **Branding**: Kleuren, logo, organisatienaam
- **Programma Beheer**: Event schema en activiteiten

**Organisatie Logo:**
Upload je organisatie logo om te verschijnen:
- Op kaart cluster markers
- In admin dashboard header
- In publieke kaart branding

**Gebruikersrollen:**
- **Super Admin**: Volledige toegang tot alle features
- **Systeembeheerder**: Dashboard + Kaartbeheer
- **Eventbeheerder**: Dashboard + Bedrijven + Inschrijvingen + Toewijzingen
- **Content Editor**: Programma beheer toegang

**Belangrijk:**
Alleen Super Admins hebben toegang tot instellingen. Wijzigingen benvloeden alle gebruikers.
      `.trim()},updated:"2025-11-22",tips:{en:["Only Super Admins see this section","Test logo uploads in staging first","Changes affect all admin users","Keep user count to 5-10 for best performance"],nl:["Alleen Super Admins zien deze sectie","Test logo uploads eerst in staging","Wijzigingen benvloeden alle admin gebruikers","Houd gebruikersaantal op 5-10 voor beste performance"]}},programManagement:{title:{en:"Program Management",nl:"Programma Beheer"},content:{en:`
Manage your event schedule and activities dynamically.

**Managing Activities:**
- **Add Activity**: Click "Add Activity" to create new schedule item
- **Edit**: Click pencil icon to modify existing activity
- **Delete**: Click trash icon with confirmation
- **Reorder**: Drag activities by the  handle to change order

**Activity Properties:**
- **Title & Description**: Bilingual content (NL/EN)
- **Time**: Start and end time for the activity
- **Location Type**: 
  - **Exhibitor**: Links to company booth
  - **Venue**: Static location text
- **Badge**: Optional label (e.g., "FREE ENTRY!", "Members only")
- **Display Order**: Controls sort order in schedule
- **Active Status**: Hide/show activity from public view
- **Location Badge**: Optional exhibitor/venue indicator

**Day Tabs:**
Switch between Saturday and Sunday to manage each day separately.

**Tips:**
- Drag-to-reorder updates display_order automatically
- Exhibitor activities show company name
- Venue activities use custom location text
- Inactive activities hidden from public schedule
- Location badges help highlight special activities
      `.trim(),nl:`
Beheer je event schema en activiteiten dynamisch.

**Activiteiten Beheren:**
- **Activiteit Toevoegen**: Klik "Activiteit Toevoegen" om nieuw schema-item te creren
- **Bewerken**: Klik potlood icoon om bestaande activiteit te wijzigen
- **Verwijderen**: Klik prullenbak icoon met bevestiging
- **Herschikken**: Sleep activiteiten aan  handvat om volgorde te wijzigen

**Activiteit Eigenschappen:**
- **Titel & Beschrijving**: Tweetalige content (NL/EN)
- **Tijd**: Start- en eindtijd voor de activiteit
- **Locatietype**: 
  - **Standhouder**: Koppelt aan bedrijfsstand
  - **Locatie**: Statische locatietekst
- **Badge**: Optioneel label (bijv. "GRATIS ENTREE!", "Alleen leden")
- **Weergavevolgorde**: Bepaalt sorteervolgorde in schema
- **Actieve Status**: Verberg/toon activiteit in publieke weergave
- **Locatie Badge**: Optionele standhouder/locatie indicator

**Dag Tabbladen:**
Wissel tussen zaterdag en zondag om elke dag apart te beheren.

**Tips:**
- Sleep-om-te-herschikken update weergavevolgorde automatisch
- Standhouder activiteiten tonen bedrijfsnaam
- Locatie activiteiten gebruiken aangepaste locatietekst
- Inactieve activiteiten verborgen in publiek schema
- Locatie badges helpen speciale activiteiten te benadrukken
      `.trim()},updated:"2025-11-22",tips:{en:["Drag activities to reorder them visually","Link exhibitor activities to show booth locations","Use badges to highlight special activities","Set activities inactive to hide from public","Location badges optional - usually not needed"],nl:["Sleep activiteiten om ze visueel te herschikken","Koppel standhouder activiteiten om standlocaties te tonen","Gebruik badges om speciale activiteiten te benadrukken","Zet activiteiten inactief om te verbergen voor publiek","Locatie badges optioneel - meestal niet nodig"]}},general:{title:{en:"Getting Started",nl:"Aan de Slag"},content:{en:`
Welcome to the Event Map Admin Panel!

**Your Role Determines Access:**
- **Super Admin**: Full access to everything
- **System Manager**: Map editing and dashboard
- **Event Manager**: Company and subscription management
- **Content Editor**: Program management access

**Common Workflows:**

**1. Setting Up a New Event Year:**
- Add/update companies in Companies tab
- Import subscriptions for new year
- Assign companies to map locations
- Update event schedule in Program Management

**2. Managing Map:**
- Place markers for booths, parking, facilities
- Adjust visibility by zoom level
- Lock markers before event goes live

**3. Managing Event Program:**
- Add/edit activities in Settings  Program Management
- Link exhibitor activities to company booths
- Drag-to-reorder for easy scheduling
- Set activities active/inactive to control visibility

**4. Day-of-Event:**
- Lock all markers to prevent accidents
- Monitor assignments in real-time
- Public map and schedule update automatically

**Need Help?**
- Hover over (?) icons for quick tips
- Check "What's New" for recent changes
- Contact system administrator for access issues
      `.trim(),nl:`
Welkom bij het Event Kaart Admin Paneel!

**Je Rol Bepaalt Toegang:**
- **Super Admin**: Volledige toegang tot alles
- **Systeembeheerder**: Kaartbewerking en dashboard
- **Eventbeheerder**: Bedrijven- en inschrijvingsbeheer
- **Content Editor**: Programma beheer toegang

**Veelvoorkomende Workflows:**

**1. Nieuw Evenementjaar Instellen:**
- Voeg bedrijven toe/update in Bedrijven tab
- Importeer inschrijvingen voor nieuw jaar
- Wijs bedrijven toe aan kaartlocaties
- Update event schema in Programma Beheer

**2. Kaart Beheren:**
- Plaats markers voor stands, parkeren, faciliteiten
- Pas zichtbaarheid aan per zoomniveau
- Vergrendel markers voor event go-live

**3. Event Programma Beheren:**
- Voeg activiteiten toe/bewerk in Instellingen  Programma Beheer
- Koppel standhouder activiteiten aan bedrijfsstands
- Sleep-om-te-herschikken voor eenvoudig plannen
- Zet activiteiten actief/inactief om zichtbaarheid te regelen

**4. Dag-van-Event:**
- Vergrendel alle markers om ongelukken te voorkomen
- Monitor toewijzingen real-time
- Publieke kaart en schema updaten automatisch

**Hulp Nodig?**
- Hover over (?) iconen voor snelle tips
- Check "Wat is Nieuw" voor recente wijzigingen
- Neem contact op met systeembeheerder voor toegangsproblemen
      `.trim()},updated:"2025-11-22",tips:{en:["Start with dashboard to understand current status","Use year selector to switch between events","Lock markers before going live","Import data saves time vs manual entry","Program management updates public schedule instantly"],nl:["Start met dashboard om huidige status te begrijpen","Gebruik jaarselector om tussen events te wisselen","Vergrendel markers voor go-live","Data importeren bespaart tijd vs handmatige invoer","Programma beheer update publiek schema instant"]}}};function xM(e,t="en"){const n=G2[e]||G2.general;return{title:n.title[t]||n.title.en,content:n.content[t]||n.content.en,updated:n.updated,tips:n.tips[t]||n.tips.en}}function _M(e,t="en"){const i={"/admin":"dashboard","/admin/map":"mapManagement","/admin/companies":"companies","/admin/subscriptions":"subscriptions","/admin/assignments":"assignments","/admin/settings":"settings","/admin/settings/program":"programManagement"}[e]||"general";return xM(i,t)}const wM=[{date:"2025-11-22",changes:[{text:{en:"Program Management: Manage event schedule with database-driven activities",nl:"Programma Beheer: Beheer event schema met database-gedreven activiteiten"},type:"feature"},{text:{en:"Drag-to-reorder activities within Saturday/Sunday schedules",nl:"Sleep-om-te-herschikken activiteiten binnen zaterdag/zondag schema's"},type:"feature"},{text:{en:"Bilingual activity content (NL/EN) with exhibitor linking",nl:"Tweetalige activiteit content (NL/EN) met standhouder koppeling"},type:"feature"},{text:{en:"Optional location type badges for highlighting special activities",nl:"Optionele locatietype badges voor het benadrukken van speciale activiteiten"},type:"feature"},{text:{en:"Content Editor role added for program management access",nl:"Content Editor rol toegevoegd voor programma beheer toegang"},type:"improvement"},{text:{en:"Complete help system now available in English and Dutch",nl:"Compleet helpsysteem nu beschikbaar in Engels en Nederlands"},type:"improvement"}]},{date:"2025-11-21",changes:[{text:{en:"Added in-app help system with contextual guidance",nl:"In-app helpsysteem toegevoegd met contextuele begeleiding"},type:"feature"},{text:{en:"New tooltips on complex controls for easier navigation",nl:"Nieuwe tooltips op complexe bedieningselementen voor eenvoudigere navigatie"},type:"feature"},{text:{en:"Created versioning strategy document for future releases",nl:"Versiebeheerstrategie document gemaakt voor toekomstige releases"},type:"improvement"}]},{date:"2025-11-15",changes:[{text:{en:"Enhanced logo uploader with drag-and-drop support",nl:"Verbeterde logo uploader met drag-and-drop ondersteuning"},type:"feature"},{text:{en:"Improved import validation with better error messages",nl:"Verbeterde import validatie met betere foutmeldingen"},type:"improvement"},{text:{en:"Fixed CSV import encoding issues",nl:"CSV import encoding problemen opgelost"},type:"fix"}]},{date:"2025-11-10",changes:[{text:{en:"Added event subscriptions management tab",nl:"Event inschrijvingen beheer tab toegevoegd"},type:"feature"},{text:{en:"New assignments tab for linking companies to map locations",nl:"Nieuw toewijzingen tab voor koppelen van bedrijven aan kaartlocaties"},type:"feature"},{text:{en:"Improved marker drag performance on map",nl:"Verbeterde marker sleep prestaties op kaart"},type:"improvement"}]},{date:"2025-11-05",changes:[{text:{en:"Map marker rotation with interactive handles",nl:"Kaart marker rotatie met interactieve handgrepen"},type:"feature"},{text:{en:"Role-based navigation (Super Admin, System Manager, Event Manager)",nl:"Rol-gebaseerde navigatie (Super Admin, Systeembeheerder, Eventbeheerder)"},type:"feature"},{text:{en:"Fixed marker lock state persisting correctly",nl:"Marker vergrendelstatus wordt nu correct opgeslagen"},type:"fix"}]},{date:"2025-10-30",changes:[{text:{en:"Initial admin dashboard with key metrics",nl:"Initieel admin dashboard met belangrijkste statistieken"},type:"feature"},{text:{en:"Companies management with import/export",nl:"Bedrijvenbeheer met import/export"},type:"feature"},{text:{en:"Map Management page with marker placement",nl:"Kaartbeheer pagina met marker plaatsing"},type:"feature"}]}];function SM(e=5,t="en"){return wM.slice(0,e).map(n=>({date:n.date,changes:n.changes.map(i=>({text:i.text[t]||i.text.en,type:i.type}))}))}function fC({isOpen:e,onClose:t}){const n=$i(),{t:i,i18n:s}=dt(),{role:a}=vo(),[l,d]=j.useState("current"),[f,m]=j.useState(""),y=_M(n.pathname,s.language),v=SM(5,s.language),_=w=>{const C={feature:"bg-green-100 text-green-800",fix:"bg-red-100 text-red-800",improvement:"bg-blue-100 text-blue-800"};return C[w]||C.improvement};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`fixed inset-0 bg-slate-900/40 z-[9998] transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t,"aria-hidden":"true"}),h.jsxs("div",{className:`fixed right-0 top-0 h-full w-full md:w-[500px] bg-white shadow-2xl z-[9999] flex flex-col transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-label":"Help Panel","aria-modal":"true",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:ik,size:1.2,className:"text-blue-600"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:i("helpPanel.title")})]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":i("helpPanel.closeHelp"),children:h.jsx(_e,{path:mo,size:1,className:"text-gray-600"})})]}),a&&h.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200",children:h.jsxs("span",{className:"text-sm text-gray-600",children:[i("helpPanel.yourRole")," ",h.jsx("span",{className:"font-semibold text-blue-600",children:i(`helpPanel.roles.${a}`,a)})]})}),h.jsxs("div",{className:"flex border-b border-gray-200 px-6 bg-white",children:[h.jsx("button",{onClick:()=>d("current"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${l==="current"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.currentPage")}),h.jsx("button",{onClick:()=>d("whats-new"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${l==="whats-new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.whatsNew")}),h.jsx("button",{onClick:()=>d("quick-start"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${l==="quick-start"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.quickStart")})]}),l==="current"&&h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsxs("div",{className:"relative",children:[h.jsx(_e,{path:yo,size:.8,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:i("helpPanel.searchPlaceholder"),value:f,onChange:w=>m(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[l==="current"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:y.title}),h.jsxs("p",{className:"text-xs text-gray-500",children:[i("helpPanel.lastUpdated")," ",y.updated]})]}),h.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 text-left",children:h.jsx(pM,{components:{h1:({node:w,...C})=>h.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4 mb-2 text-left",...C}),h2:({node:w,...C})=>h.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-4 mb-2 text-left",...C}),h3:({node:w,...C})=>h.jsx("h3",{className:"text-base font-bold text-gray-900 mt-3 mb-2 text-left",...C}),h4:({node:w,...C})=>h.jsx("h4",{className:"text-sm font-semibold text-gray-900 mt-3 mb-2 text-left",...C}),p:({node:w,...C})=>h.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-left",...C}),ul:({node:w,...C})=>h.jsx("ul",{className:"list-disc list-outside mb-4 space-y-2 text-left ml-5",...C}),ol:({node:w,...C})=>h.jsx("ol",{className:"list-decimal list-outside mb-4 space-y-2 text-left ml-5",...C}),li:({node:w,...C})=>h.jsx("li",{className:"text-gray-700 text-left pl-2",...C}),code:({node:w,...C})=>h.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",...C}),a:({node:w,...C})=>h.jsx("a",{className:"text-blue-600 hover:text-blue-800 underline",...C})},children:y.content})}),y.tips&&y.tips.length>0&&h.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(_e,{path:Ek,size:.9,className:"text-amber-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:i("helpPanel.quickTips")}),h.jsx("ul",{className:"space-y-1",children:y.tips.map((w,C)=>h.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[h.jsx(_e,{path:g5,size:.6,className:"flex-shrink-0 mt-0.5"}),h.jsx("span",{children:w})]},C))})]})]})})]}),l==="whats-new"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.whatsNewTitle")}),h.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.whatsNewSubtitle")})]}),h.jsx("div",{className:"space-y-4",children:v.map((w,C)=>h.jsxs("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(_e,{path:$k,size:.7,className:"text-blue-600"}),h.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(w.date).toLocaleDateString(s.language==="nl"?"nl-NL":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),h.jsx("ul",{className:"space-y-2",children:w.changes.map((N,T)=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${_(N.type)}`,children:i(`helpPanel.changeTypes.${N.type}`,N.type)}),h.jsx("span",{className:"text-sm text-gray-700 flex-1",children:N.text})]},T))})]},C))})]}),l==="quick-start"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.quickStartTitle")}),h.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.quickStartSubtitle")})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:i("helpPanel.steps.step1Title")}),h.jsx("p",{className:"text-sm text-blue-800",children:i("helpPanel.steps.step1Text",{role:i(`helpPanel.roles.${a}`,i("helpPanel.roles.unknown"))})})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:i("helpPanel.steps.step2Title")}),h.jsx("p",{className:"text-sm text-green-800",children:i("helpPanel.steps.step2Text")})]}),h.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:i("helpPanel.steps.step3Title")}),h.jsx("p",{className:"text-sm text-purple-800",children:i("helpPanel.steps.step3Text")})]}),h.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:i("helpPanel.steps.step4Title")}),h.jsxs("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[h.jsx("li",{children:i("helpPanel.steps.step4Item1")}),h.jsx("li",{children:i("helpPanel.steps.step4Item2")}),h.jsx("li",{children:i("helpPanel.steps.step4Item3")}),h.jsx("li",{children:i("helpPanel.steps.step4Item4")})]})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i("helpPanel.steps.step5Title")}),h.jsx("p",{className:"text-sm text-gray-700",children:i("helpPanel.steps.step5Text")})]})]})]})]}),h.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:h.jsx("p",{className:"text-xs text-gray-500 text-center",children:i("helpPanel.footer")})})]})]})}fC.propTypes={isOpen:Ne.bool.isRequired,onClose:Ne.func.isRequired};function Dn({to:e,onClick:t,icon:n,label:i,badge:s,isActive:a=!1,isCollapsed:l=!1,iconClass:d="w-8 h-8",labelClass:f="text-sm font-medium text-left",ariaLabel:m}){const C=l?`relative flex items-center px-2 py-2 w-full rounded-lg transition-all duration-500 ease-in-out border no-underline ${a?"bg-blue-50 text-gray-700 hover:text-gray-700 font-semibold border-blue-200":"bg-white text-gray-700 hover:text-gray-700 hover:bg-gray-50 border-transparent"}`:`flex items-center gap-3 px-2 w-full py-2 rounded-lg transition-all duration-500 ease-in-out border no-underline ${a?"bg-blue-50 text-gray-700 hover:text-gray-700 font-semibold border-blue-200":"bg-white text-gray-700 hover:text-gray-700 hover:bg-gray-50 border-gray-200"}`,N=h.jsxs(h.Fragment,{children:[h.jsx("span",{className:`flex-none ${d} flex items-center justify-center text-gray-600 transition-all duration-500 ease-in-out`,children:h.jsx(_e,{path:n,size:1})}),h.jsx("span",{className:`${f} ${l?"absolute left-0 opacity-0 -translate-x-2 pointer-events-none":"flex-1 opacity-100 translate-x-0"}`,children:i}),s!=null&&h.jsx("div",{className:`${l?"opacity-0 pointer-events-none w-0":"text-sm font-semibold text-gray-800"}`,children:s})]});return e?h.jsx(jl,{to:e,className:C,"aria-label":m||i,children:N}):h.jsx("button",{onClick:t,className:C,"aria-label":m||i,children:N})}Dn.propTypes={to:Ne.string,onClick:Ne.func,icon:Ne.string.isRequired,label:Ne.string.isRequired,badge:Ne.oneOfType([Ne.string,Ne.number]),isActive:Ne.bool,isCollapsed:Ne.bool,ariaLabel:Ne.string,iconClass:Ne.string,labelClass:Ne.string};function CM({selectedYear:e,onYearChange:t}){const n=$i(),{t:i}=dt(),s=(y,v="")=>{const _=i(y);return!_||_===y?v:_},[a,l]=j.useState({subscriptions:"-",assignments:"-",program:"-"}),[d,f]=j.useState(!0);j.useEffect(()=>{let y=!0;async function v(){f(!0);try{const[_,w]=await Promise.all([pe.from("event_subscriptions").select("id",{count:"exact",head:!0}).eq("event_year",e),pe.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",e)]);if(!y)return;l({subscriptions:_?.count??"-",assignments:w?.count??"-",program:"-"})}catch(_){console.error("Error fetching sidebar counts",_)}finally{y&&f(!1)}}return v(),()=>{y=!1}},[e]);const m=Array.from({length:5},(y,v)=>new Date().getFullYear()-2+v);return h.jsxs("div",{className:"py-3",children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{htmlFor:"sidebar-year-select",className:"sr-only",children:s("admin.yearScope.viewingYear","Viewing year")}),h.jsx("div",{className:"text-sm text-left",children:h.jsx("select",{id:"sidebar-year-select",value:e,onChange:y=>t?.(parseInt(y.target.value,10)),className:"text-base font-semibold px-3 py-1 h-8 border rounded transition-all duration-300 text-left",children:m.map(y=>h.jsx("option",{value:y,children:y},y))})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Dn,{to:"/admin/subscriptions",icon:p5,label:s("adminNav.eventSubscriptions","Subscriptions"),badge:d?"...":a.subscriptions,isActive:n.pathname==="/admin/subscriptions",ariaLabel:`${s("adminNav.eventSubscriptions","Subscriptions")} ${d?"...":a.subscriptions}`}),h.jsx(Dn,{to:"/admin/assignments",icon:x5,label:s("adminNav.assignments","Assignments"),badge:d?"...":a.assignments,isActive:n.pathname==="/admin/assignments",ariaLabel:`${s("adminNav.assignments","Assignments")} ${d?"...":a.assignments}`}),h.jsx(Dn,{to:"/admin/program",icon:Ry,label:s("adminNav.programManagement","Program Management"),isActive:n.pathname==="/admin/program"})]})]})}function EM({selectedYear:e,t}){const n=$i();return h.jsxs("div",{className:"w-full py-3 flex flex-col",children:[h.jsx("div",{className:"text-gray-700 text-base font-semibold mb-2 h-8 flex items-center justify-center transition-all duration-500 ease-in-out",title:`Event Year: ${e}`,children:e}),h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsx(Dn,{to:"/admin/subscriptions",icon:p5,label:t("adminNav.eventSubscriptions"),isCollapsed:!0,isActive:n.pathname==="/admin/subscriptions",ariaLabel:t("adminNav.eventSubscriptions")}),h.jsx(Dn,{to:"/admin/assignments",icon:x5,label:t("adminNav.assignments"),isCollapsed:!0,isActive:n.pathname==="/admin/assignments",ariaLabel:t("adminNav.assignments")}),h.jsx(Dn,{to:"/admin/program",icon:Ry,label:t("adminNav.programManagement"),isCollapsed:!0,isActive:n.pathname==="/admin/program",ariaLabel:t("adminNav.programManagement")})]})]})}function jM({selectedYear:e,setSelectedYear:t}){const{t:n}=dt(),i=$i(),{role:s,loading:a,hasAnyRole:l,userInfo:d}=vo(),f=new Date().getFullYear();Array.from({length:5},(O,F)=>f-2+F);const[m,y]=j.useState(()=>localStorage.getItem("adminSidebarCollapsed")==="true"),[v,_]=j.useState(!1),[w,C]=j.useState(null),[N,T]=j.useState(!1);j.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",m)},[m]);const k=async()=>{try{await pe.auth.signOut({scope:"local"})}catch(R){console.error("Logout error:",R)}const O="/Map",F=O.endsWith("/")?O:`${O}/`;window.location.href=`${F}#/admin`},$=[{path:"/admin",label:n("adminNav.dashboard"),icon:Dk,roles:["super_admin","system_manager","event_manager"]},{path:"/admin/companies",label:n("adminNav.companiesNav"),icon:$r,roles:["super_admin","event_manager"]}].filter(O=>l(O.roles));return a?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"text-gray-600",children:n("adminNav.loading")})}):h.jsxs("div",{className:"flex h-screen bg-gray-100",children:[h.jsxs("aside",{className:`${m?"w-[66px]":"w-[340px]"} bg-white border-r border-gray-200 flex flex-col transition-all duration-500 ease-in-out overflow-hidden`,children:[h.jsxs("div",{className:`p-4 border-b border-gray-200 flex items-center h-[88px] ${m?"justify-center":"justify-between"}`,children:[h.jsxs("div",{className:`${m?"opacity-0 w-0 h-0 overflow-hidden":"opacity-100 flex-1 min-w-0"}`,children:[h.jsx("h1",{className:"text-xl font-bold text-gray-900 truncate",children:n("adminNav.adminPanel")}),(d?.name||d?.email)&&h.jsx("p",{className:`text-sm text-gray-700 mt-1 font-medium ${m?"truncate":"whitespace-nowrap"}`,children:d.name||d.email}),s&&h.jsx("p",{className:"text-xs text-gray-500 mt-0.5 capitalize truncate",children:n(`adminNav.roles.${s}`)})]}),h.jsx("button",{onClick:()=>y(!m),className:`p-2 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0 ${m?"":"ml-2"}`,title:m?"Expand sidebar":"Collapse sidebar",children:h.jsx(_e,{path:m?g5:uk,size:1,className:"text-gray-700"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h.jsx("nav",{className:"p-2",children:h.jsx("ul",{className:"space-y-1",children:$.map(O=>{const F=i.pathname===O.path;return h.jsx("li",{children:h.jsx(Dn,{to:O.path,icon:O.icon,label:O.label,isActive:F,isCollapsed:m,...O.path==="/admin"?{iconClass:"w-8 h-8",labelClass:"text-sm font-medium text-left"}:{}})},O.path)})})}),h.jsxs("div",{className:"p-2 border-t border-gray-200",children:[h.jsx("div",{className:`${m?"opacity-0 h-0 overflow-hidden":"opacity-100 h-auto"}`,children:h.jsx(CM,{selectedYear:e,onYearChange:O=>{O!==e&&(C(O),T(!0))}})}),h.jsx("div",{className:`${m?"opacity-100 h-auto":"opacity-0 h-0 overflow-hidden"}`,children:h.jsx(EM,{selectedYear:e,t:n})})]}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:m?h.jsxs("div",{className:"py-3 space-y-2",children:[l(["super_admin","system_manager"])&&h.jsx(Dn,{to:"/admin/map",icon:O0,label:n("adminNav.mapManagement"),isCollapsed:m,isActive:i.pathname==="/admin/map"}),l(["super_admin","system_manager","event_manager"])&&h.jsx(Dn,{to:"/admin/settings",icon:M0,label:n("adminNav.settings"),isCollapsed:m,isActive:i.pathname==="/admin/settings"}),l(["super_admin","system_manager","event_manager"])&&h.jsx(Dn,{to:"/admin/feedback",icon:i2,label:n("settings.feedbackRequests.title"),isCollapsed:m,isActive:i.pathname==="/admin/feedback"})]}):h.jsxs("div",{className:"py-3 space-y-2",children:[l(["super_admin","system_manager"])&&h.jsx(Dn,{to:"/admin/map",icon:O0,label:n("adminNav.mapManagement"),isActive:i.pathname==="/admin/map"}),l(["super_admin","system_manager","event_manager"])&&h.jsx(Dn,{to:"/admin/settings",icon:M0,label:n("adminNav.settings"),isActive:i.pathname==="/admin/settings"}),l(["super_admin","system_manager","event_manager"])&&h.jsx(Dn,{to:"/admin/feedback",icon:i2,label:n("settings.feedbackRequests.title"),isActive:i.pathname==="/admin/feedback"})]})})]}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:h.jsx(Dn,{onClick:()=>_(!0),icon:bk,label:n("adminNav.help"),isCollapsed:m,ariaLabel:"Help"})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:h.jsx(Dn,{onClick:k,icon:Tk,label:n("adminNav.logout"),isCollapsed:m,ariaLabel:"Logout"})})]}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:h.jsx("div",{className:"h-full p-4",children:h.jsx(lN,{})})}),h.jsx(fC,{isOpen:v,onClose:()=>_(!1)}),h.jsx(Qk,{isOpen:N,newYear:w||e,onClose:()=>{C(null),T(!1)},onConfirm:()=>{w&&t(w),C(null),T(!1)}})]})}const NM={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function TM(e,t){var n=Array.prototype.slice.call(t);return n.push(NM),e.apply(this,n)}function K2(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),i=t[0].split("."),s=0;s<3;s++){var a=Number(n[s]),l=Number(i[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var kM={}.constructor;function kl(e){return e!=null&&e.constructor===kM}function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,AM(i.key),i)}}function Yf(e,t,n){return t&&$M(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AM(e){var t=LM(e,"string");return Dl(t)=="symbol"?t:t+""}function LM(e,t){if(Dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Dl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MM="1.2.0",PM="1.7.35",W2=" ext. ",OM=/^\d+$/,Bn=(function(){function e(t){Wf(this,e),mC(t),this.metadata=t,pC.call(this,t)}return Yf(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,i){if(n&&OM.test(n)&&(i=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new Y2(this.getCountryMetadata(n),this)}else if(i){if(!this.hasCallingCode(i))throw new Error("Unknown calling code: ".concat(i));this.numberingPlan=new Y2(this.getNumberingPlanMetadata(i),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var i=this.countryCallingCodes()[n];if(i)return i.length===1&&i[0].length===3?void 0:i}},{key:"getCountryCodeForCallingCode",value:function(n){var i=this.getCountryCodesForCallingCode(n);if(i)return i[0]}},{key:"getNumberingPlanMetadata",value:function(n){var i=this.getCountryCodeForCallingCode(n);if(i)return this.getCountryMetadata(i);if(this.nonGeographic()){var s=this.nonGeographic()[n];if(s)return s}else{var a=this.countryCallingCodes()[n];if(a&&a.length===1&&a[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),Y2=(function(){function e(t,n){Wf(this,e),this.globalMetadataObject=n,this.metadata=t,pC.call(this,n.metadata)}return Yf(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,i=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return i.map(function(s){return new RM(s,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&X2(this.types(),n))return new zM(X2(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?W2:this.metadata[13]||W2}}])})(),RM=(function(){function e(t,n){Wf(this,e),this._format=t,this.metadata=n}return Yf(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!DM.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),DM=/^\(?\$1\)?$/,zM=(function(){function e(t,n){Wf(this,e),this.type=t,this.metadata=n}return Yf(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function X2(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function mC(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!kl(e)||!kl(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(kl(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+IM(e)+": "+e,"."))}var IM=function(t){return Dl(t)};function e1(e,t){if(t=new Bn(t),t.hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function BM(e,t){return t.countries.hasOwnProperty(e)}function pC(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?K2(t,MM)===-1?this.v2=!0:K2(t,PM)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function t1(e,t,n){return UM(e,t,void 0,n)}function UM(e,t,n,i){t&&(i=new Bn(i.metadata),i.selectNumberingPlan(t));var s=i.type(n),a=s&&s.possibleLengths()||i.possibleLengths();if(!a)return"IS_POSSIBLE";var l=e.length,d=a[0];return d===l?"IS_POSSIBLE":d>l?"TOO_SHORT":a[a.length-1]<l?"TOO_LONG":a.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function FM(e,t,n){if(t===void 0&&(t={}),n=new Bn(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return gC(e.phone||e.nationalNumber,e.country,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function gC(e,t,n){switch(t1(e,t,n)){case"IS_POSSIBLE":return!0;default:return!1}}function hs(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function VM(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=HM(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HM(e,t){if(e){if(typeof e=="string")return J2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J2(e,t):void 0}}function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ZM=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function n1(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new Bn(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var i=t.v2?e.nationalNumber:e.phone;if(hs(i,n.nationalNumberPattern())){if(qg(i,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||qg(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var s=VM(ZM),a;!(a=s()).done;){var l=a.value;if(qg(i,l,n))return l}}}}function qg(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:hs(e,t.pattern())}function qM(e,t,n){if(t=t||{},n=new Bn(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return n1(e,t,n.metadata)!==void 0;var i=t.v2?e.nationalNumber:e.phone;return hs(i,n.nationalNumberPattern())}function GM(e,t,n){var i=new Bn(n),s=i.getCountryCodesForCallingCode(e);return s?s.filter(function(a){return KM(t,a,n)}):[]}function KM(e,t,n){var i=new Bn(n);return i.selectNumberingPlan(t),i.numberingPlan.possibleLengths().indexOf(e.length)>=0}var i1=2,WM=17,YM=3,cr="0-9---",XM="--",JM="/",QM=".",eP=" ",tP="()\\[\\]",nP="~",Nf="".concat(XM).concat(JM).concat(QM).concat(eP).concat(tP).concat(nP),r1="+",iP=new RegExp("(["+cr+"])");function rP(e,t,n,i){if(t){var s=new Bn(i);s.selectNumberingPlan(t,n);var a=new RegExp(s.IDDPrefix());if(e.search(a)===0){e=e.slice(e.match(a)[0].length);var l=e.match(iP);if(!(l&&l[1]!=null&&l[1].length>0&&l[1]==="0"))return e}}}function sP(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),i=n.exec(e);if(i){var s,a,l=i.length-1,d=l>0&&i[l];if(t.nationalPrefixTransformRule()&&d)s=e.replace(n,t.nationalPrefixTransformRule()),l>1&&(a=i[1]);else{var f=i[0];s=e.slice(f.length),d&&(a=i[1])}var m;if(d){var y=e.indexOf(i[1]),v=e.slice(0,y);v===t.numberingPlan.nationalPrefix()&&(m=t.numberingPlan.nationalPrefix())}else m=i[0];return{nationalNumber:s,nationalPrefix:m,carrierCode:a}}}return{nationalNumber:e}}function aP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=oP(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oP(e,t){if(e){if(typeof e=="string")return Q2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q2(e,t):void 0}}function Q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function lP(e,t){var n=t.countries,i=t.metadata;i=new Bn(i);for(var s=aP(n),a;!(a=s()).done;){var l=a.value;if(i.selectNumberingPlan(l),i.leadingDigits()){if(e&&e.search(i.leadingDigits())===0)return l}else if(n1({phone:e,country:l},void 0,i.metadata))return l}}function yC(e,t){var n=t.nationalNumber,i=t.metadata,s=i.getCountryCodesForCallingCode(e);if(s)return s.length===1?s[0]:lP(n,{countries:s,metadata:i.metadata})}function K0(e,t,n){var i=sP(e,n),s=i.carrierCode,a=i.nationalNumber;if(a!==e){if(!uP(e,a,n))return{nationalNumber:e};if(n.numberingPlan.possibleLengths()&&(t||(t=yC(n.numberingPlan.callingCode(),{nationalNumber:a,metadata:n})),!cP(a,t,n)))return{nationalNumber:e}}return{nationalNumber:a,carrierCode:s}}function uP(e,t,n){return!(hs(e,n.nationalNumberPattern())&&!hs(t,n.nationalNumberPattern()))}function cP(e,t,n){switch(t1(e,t,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function dP(e,t,n,i,s){var a=n?e1(n,s):i;if(e.indexOf(a)===0){s=new Bn(s),s.selectNumberingPlan(n,a);var l=e.slice(a.length),d=K0(l,t,s),f=d.nationalNumber,m=K0(e,t,s),y=m.nationalNumber;if(!hs(y,s.nationalNumberPattern())&&hs(f,s.nationalNumberPattern())||t1(y,t,s)==="TOO_LONG")return{countryCallingCode:a,number:l}}return{number:e}}function vC(e,t,n,i,s){if(!e)return{};var a;if(e[0]!=="+"){var l=rP(e,n,i,s);if(l&&l!==e)a=!0,e="+"+l;else{if(n||i){var d=dP(e,t,n,i,s),f=d.countryCallingCode,m=d.number;if(f)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:f,number:m}}return{number:e}}}if(e[1]==="0")return{};s=new Bn(s);for(var y=2;y-1<=YM&&y<=e.length;){var v=e.slice(1,y);if(s.hasCallingCode(v))return s.selectNumberingPlan(v),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:v,number:e.slice(y)};y++}return{}}function hP(e){return e.replace(new RegExp("[".concat(Nf,"]+"),"g")," ").trim()}var fP=/(\$\d)/;function mP(e,t,n){var i=n.useInternationalFormat,s=n.withNationalPrefix,a=e.replace(new RegExp(t.pattern()),i?t.internationalFormat():s&&t.nationalPrefixFormattingRule()?t.format().replace(fP,t.nationalPrefixFormattingRule()):t.format());return i?hP(a):a}var pP=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function gP(e,t,n){var i=new Bn(n);if(i.selectNumberingPlan(e,t),i.defaultIDDPrefix())return i.defaultIDDPrefix();if(pP.test(i.IDDPrefix()))return i.IDDPrefix()}var yP=";ext=",gl=function(t){return"([".concat(cr,"]{1,").concat(t,"})")};function bC(e){var t="20",n="15",i="9",s="6",a="[ \\t,]*",l="[:\\.]?[ \\t,-]*",d="#?",f="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",m="(?:[x#~]|int|)",y="[- ]+",v="[ \\t]*",_="(?:,{2}|;)",w=yP+gl(t),C=a+f+l+gl(t)+d,N=a+m+l+gl(i)+d,T=y+gl(s)+"#",k=v+_+l+gl(n)+d,A=v+"(?:,)+"+l+gl(i)+d;return w+"|"+C+"|"+N+"|"+T+"|"+k+"|"+A}var vP="["+cr+"]{"+i1+"}",bP="["+r1+"]{0,1}(?:["+Nf+"]*["+cr+"]){3,}["+Nf+cr+"]*",xP=new RegExp("^["+r1+"]{0,1}(?:["+Nf+"]*["+cr+"]){1,2}$","i"),_P=bP+"(?:"+bC()+")?",wP=new RegExp("^"+vP+"$|^"+_P+"$","i");function SP(e){return e.length>=i1&&wP.test(e)}function CP(e){return xP.test(e)}function EP(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}var ew={formatExtension:function(t,n,i){return"".concat(t).concat(i.ext()).concat(n)}};function jP(e,t,n,i){if(n?n=kP({},ew,n):n=ew,i=new Bn(i),e.country&&e.country!=="001"){if(!i.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));i.selectNumberingPlan(e.country)}else if(e.countryCallingCode)i.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var s=i.countryCallingCode(),a=n.v2?e.nationalNumber:e.phone,l;switch(t){case"NATIONAL":return a?(l=Tf(a,e.carrierCode,"NATIONAL",i,n),Gg(l,e.ext,i,n.formatExtension)):"";case"INTERNATIONAL":return a?(l=Tf(a,null,"INTERNATIONAL",i,n),l="+".concat(s," ").concat(l),Gg(l,e.ext,i,n.formatExtension)):"+".concat(s);case"E.164":return"+".concat(s).concat(a);case"RFC3966":return EP({number:"+".concat(s).concat(a),ext:e.ext});case"IDD":if(!n.fromCountry)return;var d=TP(a,e.carrierCode,s,n.fromCountry,i);return Gg(d,e.ext,i,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function Tf(e,t,n,i,s){var a=NP(i.formats(),e);return a?mP(e,a,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&s&&s.nationalPrefix===!1)}):e}function NP(e,t){return $P(e,function(n){if(n.leadingDigitsPatterns().length>0){var i=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(t.search(i)!==0)return!1}return hs(t,n.pattern())})}function Gg(e,t,n,i){return t?i(e,t,n):e}function TP(e,t,n,i,s){var a=e1(i,s.metadata);if(a===n){var l=Tf(e,t,"NATIONAL",s);return n==="1"?n+" "+l:l}var d=gP(i,void 0,s.metadata);if(d)return"".concat(d," ").concat(n," ").concat(Tf(e,null,"INTERNATIONAL",s))}function kP(){for(var e=1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(;e<n.length;){if(n[e])for(var s in n[e])n[0][s]=n[e][s];e++}return n[0]}function $P(e,t){for(var n=0;n<e.length;){if(t(e[n]))return e[n];n++}}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(i){AP(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AP(e,t,n){return(t=xC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xC(i.key),i)}}function PP(e,t,n){return t&&MP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xC(e){var t=OP(e,"string");return Rc(t)=="symbol"?t:t+""}function OP(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Rc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RP=(function(){function e(t,n,i){if(LP(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(kl(n)&&kl(n.countries)){i=n;var s=t;if(!IP.test(s))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=vC(s,void 0,void 0,void 0,i),l=a.countryCallingCode,d=a.number;if(n=d,t=l,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");mC(i);var f=zP(t,i),m=f.country,y=f.countryCallingCode;this.country=m,this.countryCallingCode=y,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return PP(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:GM(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return FM(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return qM(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Bn(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return n1(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,i){return jP(this,n,i?nw(nw({},i),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),DP=function(t){return/^[A-Z]{2}$/.test(t)};function zP(e,t){var n,i,s=new Bn(t);return DP(e)?(n=e,s.selectNumberingPlan(n),i=s.countryCallingCode()):i=e,{country:n,countryCallingCode:i}}var IP=/^\+\d+$/;function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function BP(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function UP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FP(e,t,n){return t=zc(t),VP(e,s1()?Reflect.construct(t,n||[],zc(e).constructor):t.apply(e,n))}function VP(e,t){if(t&&(W0(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HP(e)}function HP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}function Y0(e){var t=typeof Map=="function"?new Map:void 0;return Y0=function(i){if(i===null||!GP(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,s)}function s(){return qP(i,arguments,zc(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Dc(s,i)},Y0(e)}function qP(e,t,n){if(s1())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var s=new(e.bind.apply(e,i));return n&&Dc(s,n.prototype),s}function s1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s1=function(){return!!e})()}function GP(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dc(e,t)}function zc(e){return zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zc(e)}var us=(function(e){function t(n){var i;return UP(this,t),i=FP(this,t,[n]),Object.setPrototypeOf(i,t.prototype),i.name=i.constructor.name,i}return ZP(t,e),BP(t)})(Y0(Error)),iw=new RegExp("(?:"+bC()+")$","i");function KP(e){var t=e.search(iw);if(t<0)return{};for(var n=e.slice(0,t),i=e.match(iw),s=1;s<i.length;){if(i[s])return{number:n,ext:i[s]};s++}}var WP={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function YP(e){return WP[e]}function XP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=JP(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JP(e,t){if(e){if(typeof e=="string")return rw(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rw(e,t):void 0}}function rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function sw(e){for(var t="",n=XP(e.split("")),i;!(i=n()).done;){var s=i.value;t+=QP(s,t)||""}return t}function QP(e,t,n){return e==="+"?t?void 0:"+":YP(e)}var _C="+",eO="[\\-\\.\\(\\)]?",aw="(["+cr+"]|"+eO+")",tO="^\\"+_C+aw+"*["+cr+"]"+aw+"*$",nO=new RegExp(tO,"g"),X0=cr,iO="["+X0+"]+((\\-)*["+X0+"])*",rO="a-zA-Z",sO="["+rO+"]+((\\-)*["+X0+"])*",aO="^("+iO+"\\.)*"+sO+"\\.?$",oO=new RegExp(aO,"g"),ow="tel:",J0=";phone-context=",lO=";isub=";function uO(e){var t=e.indexOf(J0);if(t<0)return null;var n=t+J0.length;if(n>=e.length)return"";var i=e.indexOf(";",n);return i>=0?e.substring(n,i):e.substring(n)}function cO(e){return e===null?!0:e.length===0?!1:nO.test(e)||oO.test(e)}function dO(e,t){var n=t.extractFormattedPhoneNumber,i=uO(e);if(!cO(i))throw new us("NOT_A_NUMBER");var s;if(i===null)s=n(e)||"";else{s="",i.charAt(0)===_C&&(s+=i);var a=e.indexOf(ow),l;a>=0?l=a+ow.length:l=0;var d=e.indexOf(J0);s+=e.substring(l,d)}var f=s.indexOf(lO);if(f>0&&(s=s.substring(0,f)),s!=="")return s}var hO=250,fO=new RegExp("["+r1+cr+"]"),mO=new RegExp("[^"+cr+"#]+$");function pO(e,t,n){if(t=t||{},n=new Bn(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new us("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var i=yO(e,t.v2,t.extract),s=i.number,a=i.ext,l=i.error;if(!s){if(t.v2)throw l==="TOO_SHORT"?new us("TOO_SHORT"):new us("NOT_A_NUMBER");return{}}var d=bO(s,t.defaultCountry,t.defaultCallingCode,n),f=d.country,m=d.nationalNumber,y=d.countryCallingCode,v=d.countryCallingCodeSource,_=d.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new us("INVALID_COUNTRY");return{}}if(!m||m.length<i1){if(t.v2)throw new us("TOO_SHORT");return{}}if(m.length>WM){if(t.v2)throw new us("TOO_LONG");return{}}if(t.v2){var w=new RP(y,m,n.metadata);return f&&(w.country=f),_&&(w.carrierCode=_),a&&(w.ext=a),w.__countryCallingCodeSource=v,w}var C=(t.extended?n.hasSelectedNumberingPlan():f)?hs(m,n.nationalNumberPattern()):!1;return t.extended?{country:f,countryCallingCode:y,carrierCode:_,valid:C,possible:C?!0:!!(t.extended===!0&&n.possibleLengths()&&gC(m,f,n)),phone:m,ext:a}:C?vO(f,m,a):{}}function gO(e,t,n){if(e){if(e.length>hO){if(n)throw new us("TOO_LONG");return}if(t===!1)return e;var i=e.search(fO);if(!(i<0))return e.slice(i).replace(mO,"")}}function yO(e,t,n){var i=dO(e,{extractFormattedPhoneNumber:function(l){return gO(l,n,t)}});if(!i)return{};if(!SP(i))return CP(i)?{error:"TOO_SHORT"}:{};var s=KP(i);return s.ext?s:{number:i}}function vO(e,t,n){var i={country:e,phone:t};return n&&(i.ext=n),i}function bO(e,t,n,i){var s=vC(sw(e),void 0,t,n,i.metadata),a=s.countryCallingCodeSource,l=s.countryCallingCode,d=s.number,f;if(l)i.selectNumberingPlan(l);else if(d&&(t||n))i.selectNumberingPlan(t,n),t&&(f=t),l=n||e1(t,i.metadata);else return{};if(!d)return{countryCallingCodeSource:a,countryCallingCode:l};var m=K0(sw(d),f,i),y=m.nationalNumber,v=m.carrierCode,_=yC(l,{nationalNumber:y,metadata:i});return _&&(f=_,_==="001"||i.selectNumberingPlan(f)),{country:f,countryCallingCode:l,countryCallingCodeSource:a,nationalNumber:y,carrierCode:v}}function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(n),!0).forEach(function(i){xO(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xO(e,t,n){return(t=_O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _O(e){var t=wO(e,"string");return Ic(t)=="symbol"?t:t+""}function wO(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Ic(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SO(e,t,n){return pO(e,uw(uw({},t),{},{v2:!0}),n)}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(n),!0).forEach(function(i){EO(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function EO(e,t,n){return(t=jO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jO(e){var t=NO(e,"string");return Bc(t)=="symbol"?t:t+""}function NO(e,t){if(Bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Bc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TO(e,t){return LO(e)||AO(e,t)||$O(e,t)||kO()}function kO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $O(e,t){if(e){if(typeof e=="string")return dw(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dw(e,t):void 0}}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function AO(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,l,d=[],f=!0,m=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(f=(i=a.call(n)).done)&&(d.push(i.value),d.length!==t);f=!0);}catch(y){m=!0,s=y}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(m)throw s}}return d}}function LO(e){if(Array.isArray(e))return e}function MO(e){var t=Array.prototype.slice.call(e),n=TO(t,4),i=n[0],s=n[1],a=n[2],l=n[3],d,f,m;if(typeof i=="string")d=i;else throw new TypeError("A text for parsing must be a string.");if(!s||typeof s=="string")l?(f=a,m=l):(f=void 0,m=a),s&&(f=CO({defaultCountry:s},f));else if(kl(s))a?(f=s,m=a):m=s;else throw new Error("Invalid second argument: ".concat(s));return{text:d,options:f,metadata:m}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(n),!0).forEach(function(i){PO(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function PO(e,t,n){return(t=OO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e){var t=RO(e,"string");return Uc(t)=="symbol"?t:t+""}function RO(e,t){if(Uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Uc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DO(e,t,n){t&&t.defaultCountry&&!BM(t.defaultCountry,n)&&(t=fw(fw({},t),{},{defaultCountry:void 0}));try{return SO(e,t,n)}catch(i){if(!(i instanceof us))throw i}}function zO(){var e=MO(arguments),t=e.text,n=e.options,i=e.metadata;return DO(t,n,i)}function zl(){return TM(zO,arguments)}function uo(e,t="NL"){if(!e&&e!=="")return null;const n=String(e).trim();if(n==="")return null;let i=zl(n,t);if(i&&i.isValid())return i.format("E.164");let s=n.replace(/[()\s.-]+/g,"");return s.startsWith("00")&&(s="+"+s.slice(2)),i=zl(s),i&&i.isValid()?i.format("E.164"):n.replace(/[^0-9+]+/g,"")||n}function cd(e){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null),d=j.useCallback(async()=>{try{s(!0),l(null);const{data:C,error:N}=await pe.from("event_subscriptions").select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).eq("event_year",e).order("id",{ascending:!0});if(N)throw N;n(C||[])}catch(C){console.error("Error loading event subscriptions:",C),l(C.message)}finally{s(!1)}},[e]),f=async(C,N={})=>{try{const{data:{user:T}}=await pe.auth.getUser(),k=T?.email||"unknown",{data:A}=await pe.from("companies").select("contact, phone, email").eq("id",C).single(),{data:$}=await pe.from("organization_profile").select("default_breakfast_sat, default_lunch_sat, default_bbq_sat, default_breakfast_sun, default_lunch_sun").eq("id",1).single(),O=$?.default_breakfast_sat||0,F=$?.default_lunch_sat||0,R=$?.default_bbq_sat||0,Z=$?.default_breakfast_sun||0,W=$?.default_lunch_sun||0,V=N.phone?uo(N.phone):A?.phone?uo(A.phone):"",Q=(N.email||A?.email||"").toLowerCase().trim(),{data:G,error:q}=await pe.from("event_subscriptions").insert({company_id:C,event_year:e,contact:N.contact||A?.contact||"",phone:V,email:Q,booth_count:N.booth_count||1,area:N.area||"",breakfast_sat:N.breakfast_sat??O,lunch_sat:N.lunch_sat??F,bbq_sat:N.bbq_sat??R,breakfast_sun:N.breakfast_sun??Z,lunch_sun:N.lunch_sun??W,coins:N.coins||0,notes:N.notes||"",created_by:k}).select().single();if(q)throw q;return await d(),{data:G,error:null}}catch(T){return console.error("Error subscribing company:",T),{data:null,error:T.message}}},m=async(C,N)=>{try{typeof N.phone<"u"&&(N.phone=uo(N.phone)),N.email&&(N.email=N.email.toLowerCase().trim());const{data:T,error:k}=await pe.from("event_subscriptions").update(N).eq("id",C).select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).single();if(k)throw k;return await d(),{data:T,error:null}}catch(T){return console.error("Error updating subscription:",T),{data:null,error:T.message}}},y=async C=>{try{const{data:N,error:T}=await pe.from("event_subscriptions").select("company_id, event_year").eq("id",C).single();if(T)throw T;const{error:k}=await pe.from("assignments").delete().eq("company_id",N.company_id).eq("event_year",N.event_year);if(k)throw k;const{error:A}=await pe.from("event_subscriptions").delete().eq("id",C);if(A)throw A;return await d(),{error:null}}catch(N){return console.error("Error unsubscribing company:",N),{error:N.message}}},v=async()=>{try{const{data:{user:C}}=await pe.auth.getUser(),N=C?.email||"unknown",{data:T,error:k}=await pe.rpc("archive_event_subscriptions",{year_to_archive:e,archived_by_user:N});if(k)throw k;return await d(),{data:T,error:null}}catch(C){return console.error("Error archiving subscriptions:",C),{data:null,error:C.message}}},_=async C=>{try{const{data:N,error:T}=await pe.from("event_subscriptions_archive").select("*").eq("event_year",C).order("archived_at",{ascending:!1});if(T)throw T;return{data:N,error:null}}catch(N){return console.error("Error loading archived subscriptions:",N),{data:null,error:N.message}}},w=async C=>{try{const{data:{user:N}}=await pe.auth.getUser(),T=N?.email||"unknown",{data:k,error:A}=await pe.from("event_subscriptions").select("*").eq("event_year",C);if(A)throw A;if(!k||k.length===0)return{data:null,error:"No subscriptions found for source year"};const $=k.map(R=>({company_id:R.company_id,event_year:e,contact:R.contact,phone:R.phone,email:R.email,booth_count:R.booth_count,area:R.area,breakfast_sat:R.breakfast_sat,lunch_sat:R.lunch_sat,bbq_sat:R.bbq_sat,breakfast_sun:R.breakfast_sun,lunch_sun:R.lunch_sun,coins:R.coins,notes:R.notes,created_by:T})),{data:O,error:F}=await pe.from("event_subscriptions").insert($).select();if(F)throw F;return await d(),{data:O,error:null}}catch(N){return console.error("Error copying subscriptions from previous year:",N),{data:null,error:N.message}}};return j.useEffect(()=>{d()},[d]),j.useEffect(()=>{const C=pe.channel("event-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},()=>{d()}).subscribe();return()=>{pe.removeChannel(C)}},[e,d]),{subscriptions:t,loading:i,error:a,subscribeCompany:f,updateSubscription:m,unsubscribeCompany:y,archiveCurrentYear:v,loadArchivedSubscriptions:_,copyFromPreviousYear:w,reload:d}}function wC({scope:e="global"}){const{t}=dt(),n=t(e==="global"?"admin.yearScope.global":"admin.yearScope.eventSpecific"),i=e==="global"?"bg-green-100 text-green-800":"bg-blue-50 text-blue-800";return h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i} border border-transparent`,role:"status","aria-label":n,title:n,children:n})}function IO({selectedYear:e,setSelectedYear:t}){const{t:n}=dt(),{subscriptions:i,loading:s}=cd(e),[a,l]=j.useState({markers:null,companies:null,assignments:null}),[d,f]=j.useState(!1),[m,y]=j.useState(null),[v,_]=j.useState(!0);j.useEffect(()=>{async function T(){_(!0);try{const[k,A,$]=await Promise.all([pe.from("Markers_Core").select("id",{count:"exact",head:!0}).gt("id",0),pe.from("companies").select("id",{count:"exact",head:!0}),pe.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",e)]);l({markers:k.count??0,companies:A.count??0,assignments:$.count??0})}catch(k){console.error("Error fetching dashboard counts:",k)}finally{_(!1)}}T()},[e]);const w=j.useMemo(()=>i.reduce((T,k)=>({breakfast_sat:T.breakfast_sat+(k.breakfast_sat||0),lunch_sat:T.lunch_sat+(k.lunch_sat||0),bbq_sat:T.bbq_sat+(k.bbq_sat||0),breakfast_sun:T.breakfast_sun+(k.breakfast_sun||0),lunch_sun:T.lunch_sun+(k.lunch_sun||0),coins:T.coins+(k.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[i]),C=[{label:n("dashboard.totalMarkers"),value:v?"...":a.markers?.toString()??"-",icon:Rl,color:"blue"},{label:n("dashboard.companies"),value:v?"...":a.companies?.toString()??"-",icon:$r,color:"green"},{label:`${e} ${n("dashboard.subscriptions")}`,value:s?"...":i.length.toString(),icon:rk,color:"orange"},{label:`${e} ${n("dashboard.assignments")}`,value:v?"...":a.assignments?.toString()??"-",icon:dk,color:"purple"}],N={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:[e," ",n("dashboard.eventTotals"),(s||v)&&h.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:n("common.loading")})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:C.map(T=>h.jsx("div",{className:`p-4 rounded-lg border-2 ${N[T.color]}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:T.icon,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:T.value}),h.jsx("div",{className:"text-sm font-medium mt-1",children:T.label})]})]})},T.label))}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:n("dashboard.saturday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:r2,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:w.breakfast_sat}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.breakfast")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:s2,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:w.lunch_sat}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.lunch")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:a2,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:w.bbq_sat}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.bbq")})]})]})})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:n("dashboard.sunday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:r2,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:w.breakfast_sun}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.breakfast")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:s2,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:w.lunch_sun}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.lunch")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:a2,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:"-"}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.noBBQ")})]})]})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:n("dashboard.coins")}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:ck,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:w.coins}),h.jsx("div",{className:"text-sm font-medium",children:n("dashboard.totalCoins")})]})]})})})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:n("dashboard.quickActions")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(jl,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:n("dashboard.addNewCompany")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n("dashboard.addNewCompanyDesc")})]}),h.jsxs(jl,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:n("dashboard.manageSubscriptions")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n("dashboard.manageSubscriptionsDesc")})]}),h.jsxs(jl,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:n("dashboard.assignBooths")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n("dashboard.assignBoothsDesc")})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:n("dashboard.recentActivity")}),h.jsx("p",{className:"text-gray-600",children:n("dashboard.recentActivityPlaceholder")})]})]})}function a1({requiredRole:e,children:t,message:n}){const{role:i,loading:s,hasRole:a,hasAnyRole:l}=vo();return s?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(Array.isArray(e)?l(e):a(e))?h.jsx(h.Fragment,{children:t}):h.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg border-2 border-gray-200",children:[h.jsx(_e,{path:Nk,size:3,className:"text-gray-400 mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Access Restricted"}),h.jsx("p",{className:"text-gray-600 text-center max-w-md",children:n||"You do not have permission to view this section. Contact your administrator if you need access."}),i&&h.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Your role: ",h.jsx("span",{className:"font-semibold",children:i.replace("_"," ")})]})]})}a1.propTypes={requiredRole:Ne.oneOfType([Ne.string,Ne.arrayOf(Ne.string)]).isRequired,children:Ne.node.isRequired,message:Ne.string};a1.defaultProps={message:null};function co(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Ul();return e.startsWith("/assets/icons/")?`${t}${e.slice(1)}`:e.startsWith("icons/")?`${t}assets/icons/${e.slice(6)}`:`${t}assets/icons/${e}`}const BO=["glyph-marker-icon-black.svg","glyph-marker-icon-blue.svg","glyph-marker-icon-gray.svg","glyph-marker-icon-green.svg","glyph-marker-icon-orange.svg","glyph-marker-icon-purple.svg","glyph-marker-icon-red.svg","glyph-marker-icon-yellow.svg"];function SC(e,t){const n=j.useRef(t);j.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const UO=1;function FO(e){return Object.freeze({__version:UO,map:e})}function VO(e,t){return Object.freeze({...e,...t})}const o1=j.createContext(null);function Xf(){const e=j.use(o1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function CC(e){function t(n,i){const{instance:s,context:a}=e(n).current;j.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Ti.createElement(o1,{value:a},l)}return j.forwardRef(t)}function HO(e){function t(n,i){const[s,a]=j.useState(!1),{instance:l}=e(n,a).current;j.useImperativeHandle(i,()=>l),j.useEffect(function(){s&&l.update()},[l,s,n.children]);const d=l._contentNode;return d?JS.createPortal(n.children,d):null}return j.forwardRef(t)}function ZO(e){function t(n,i){const{instance:s}=e(n).current;return j.useImperativeHandle(i,()=>s),null}return j.forwardRef(t)}function l1(e,t){const n=j.useRef(void 0);j.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Jf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function qO(e,t){return function(i,s){const a=Xf(),l=e(Jf(i,a),a);return SC(a.map,i.attribution),l1(l.current,i.eventHandlers),t(l.current,a,i,s),l}}var mc={exports:{}};var GO=mc.exports,mw;function u1(){return mw||(mw=1,(function(e,t){(function(n,i){i(t)})(GO,(function(n){var i="1.9.4";function s(u){var p,b,E,M;for(b=1,E=arguments.length;b<E;b++){M=arguments[b];for(p in M)u[p]=M[p]}return u}var a=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var b=Array.prototype.slice;if(u.bind)return u.bind.apply(u,b.call(arguments,1));var E=b.call(arguments,2);return function(){return u.apply(p,E.length?E.concat(b.call(arguments)):arguments)}}var d=0;function f(u){return"_leaflet_id"in u||(u._leaflet_id=++d),u._leaflet_id}function m(u,p,b){var E,M,z,X;return X=function(){E=!1,M&&(z.apply(b,M),M=!1)},z=function(){E?M=arguments:(u.apply(b,arguments),setTimeout(X,p),E=!0)},z}function y(u,p,b){var E=p[1],M=p[0],z=E-M;return u===E&&b?u:((u-M)%z+z)%z+M}function v(){return!1}function _(u,p){if(p===!1)return u;var b=Math.pow(10,p===void 0?6:p);return Math.round(u*b)/b}function w(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return w(u).split(/\s+/)}function N(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var b in p)u.options[b]=p[b];return u.options}function T(u,p,b){var E=[];for(var M in u)E.push(encodeURIComponent(b?M.toUpperCase():M)+"="+encodeURIComponent(u[M]));return(!p||p.indexOf("?")===-1?"?":"&")+E.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function A(u,p){return u.replace(k,function(b,E){var M=p[E];if(M===void 0)throw new Error("No value provided for variable "+b);return typeof M=="function"&&(M=M(p)),M})}var $=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function O(u,p){for(var b=0;b<u.length;b++)if(u[b]===p)return b;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var Z=0;function W(u){var p=+new Date,b=Math.max(0,16-(p-Z));return Z=p+b,window.setTimeout(u,b)}var V=window.requestAnimationFrame||R("RequestAnimationFrame")||W,Q=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function G(u,p,b){if(b&&V===W)u.call(p);else return V.call(window,l(u,p))}function q(u){u&&Q.call(window,u)}var de={__proto__:null,extend:s,create:a,bind:l,get lastId(){return d},stamp:f,throttle:m,wrapNum:y,falseFn:v,formatNum:_,trim:w,splitWords:C,setOptions:N,getParamString:T,template:A,isArray:$,indexOf:O,emptyImageUrl:F,requestFn:V,cancelFn:Q,requestAnimFrame:G,cancelAnimFrame:q};function K(){}K.extend=function(u){var p=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=p.__super__=this.prototype,E=a(b);E.constructor=p,p.prototype=E;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(p[M]=this[M]);return u.statics&&s(p,u.statics),u.includes&&(ne(u.includes),s.apply(null,[E].concat(u.includes))),s(E,u),delete E.statics,delete E.includes,E.options&&(E.options=b.options?a(b.options):{},s(E.options,u.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,X=E._initHooks.length;z<X;z++)E._initHooks[z].call(this)}},p},K.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},K.mergeOptions=function(u){return s(this.prototype.options,u),this},K.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),b=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function ne(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=$(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(u,p,b){if(typeof u=="object")for(var E in u)this._on(E,u[E],p);else{u=C(u);for(var M=0,z=u.length;M<z;M++)this._on(u[M],p,b)}return this},off:function(u,p,b){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var E in u)this._off(E,u[E],p);else{u=C(u);for(var M=arguments.length===1,z=0,X=u.length;z<X;z++)M?this._off(u[z]):this._off(u[z],p,b)}return this},_on:function(u,p,b,E){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,b)===!1){b===this&&(b=void 0);var M={fn:p,ctx:b};E&&(M.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(M)}},_off:function(u,p,b){var E,M,z;if(this._events&&(E=this._events[u],!!E)){if(arguments.length===1){if(this._firingCount)for(M=0,z=E.length;M<z;M++)E[M].fn=v;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var X=this._listens(u,p,b);if(X!==!1){var ue=E[X];this._firingCount&&(ue.fn=v,this._events[u]=E=E.slice()),E.splice(X,1)}}},fire:function(u,p,b){if(!this.listens(u,b))return this;var E=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var M=this._events[u];if(M){this._firingCount=this._firingCount+1||1;for(var z=0,X=M.length;z<X;z++){var ue=M[z],ge=ue.fn;ue.once&&this.off(u,ge,ue.ctx),ge.call(ue.ctx||this,E)}this._firingCount--}}return b&&this._propagateEvent(E),this},listens:function(u,p,b,E){typeof u!="string"&&console.warn('"string" type argument expected');var M=p;typeof p!="function"&&(E=!!p,M=void 0,b=void 0);var z=this._events&&this._events[u];if(z&&z.length&&this._listens(u,M,b)!==!1)return!0;if(E){for(var X in this._eventParents)if(this._eventParents[X].listens(u,p,b,E))return!0}return!1},_listens:function(u,p,b){if(!this._events)return!1;var E=this._events[u]||[];if(!p)return!!E.length;b===this&&(b=void 0);for(var M=0,z=E.length;M<z;M++)if(E[M].fn===p&&E[M].ctx===b)return M;return!1},once:function(u,p,b){if(typeof u=="object")for(var E in u)this._on(E,u[E],p,!0);else{u=C(u);for(var M=0,z=u.length;M<z;M++)this._on(u[M],p,b,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[f(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[f(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var Y=K.extend(H);function ie(u,p,b){this.x=b?Math.round(u):u,this.y=b?Math.round(p):p}var ke=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(u){return this.clone()._add(B(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(B(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ie(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ie(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ke(this.x),this.y=ke(this.y),this},distanceTo:function(u){u=B(u);var p=u.x-this.x,b=u.y-this.y;return Math.sqrt(p*p+b*b)},equals:function(u){return u=B(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=B(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function B(u,p,b){return u instanceof ie?u:$(u)?new ie(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ie(u.x,u.y):new ie(u,p,b)}function D(u,p){if(u)for(var b=p?[u,p]:u,E=0,M=b.length;E<M;E++)this.extend(b[E])}D.prototype={extend:function(u){var p,b;if(!u)return this;if(u instanceof ie||typeof u[0]=="number"||"x"in u)p=b=B(u);else if(u=te(u),p=u.min,b=u.max,!p||!b)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=b.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(u){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,b;return typeof u[0]=="number"||u instanceof ie?u=B(u):u=te(u),u instanceof D?(p=u.min,b=u.max):p=b=u,p.x>=this.min.x&&b.x<=this.max.x&&p.y>=this.min.y&&b.y<=this.max.y},intersects:function(u){u=te(u);var p=this.min,b=this.max,E=u.min,M=u.max,z=M.x>=p.x&&E.x<=b.x,X=M.y>=p.y&&E.y<=b.y;return z&&X},overlaps:function(u){u=te(u);var p=this.min,b=this.max,E=u.min,M=u.max,z=M.x>p.x&&E.x<b.x,X=M.y>p.y&&E.y<b.y;return z&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,b=this.max,E=Math.abs(p.x-b.x)*u,M=Math.abs(p.y-b.y)*u;return te(B(p.x-E,p.y-M),B(b.x+E,b.y+M))},equals:function(u){return u?(u=te(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function te(u,p){return!u||u instanceof D?u:new D(u,p)}function I(u,p){if(u)for(var b=p?[u,p]:u,E=0,M=b.length;E<M;E++)this.extend(b[E])}I.prototype={extend:function(u){var p=this._southWest,b=this._northEast,E,M;if(u instanceof le)E=u,M=u;else if(u instanceof I){if(E=u._southWest,M=u._northEast,!E||!M)return this}else return u?this.extend(ve(u)||fe(u)):this;return!p&&!b?(this._southWest=new le(E.lat,E.lng),this._northEast=new le(M.lat,M.lng)):(p.lat=Math.min(E.lat,p.lat),p.lng=Math.min(E.lng,p.lng),b.lat=Math.max(M.lat,b.lat),b.lng=Math.max(M.lng,b.lng)),this},pad:function(u){var p=this._southWest,b=this._northEast,E=Math.abs(p.lat-b.lat)*u,M=Math.abs(p.lng-b.lng)*u;return new I(new le(p.lat-E,p.lng-M),new le(b.lat+E,b.lng+M))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof le||"lat"in u?u=ve(u):u=fe(u);var p=this._southWest,b=this._northEast,E,M;return u instanceof I?(E=u.getSouthWest(),M=u.getNorthEast()):E=M=u,E.lat>=p.lat&&M.lat<=b.lat&&E.lng>=p.lng&&M.lng<=b.lng},intersects:function(u){u=fe(u);var p=this._southWest,b=this._northEast,E=u.getSouthWest(),M=u.getNorthEast(),z=M.lat>=p.lat&&E.lat<=b.lat,X=M.lng>=p.lng&&E.lng<=b.lng;return z&&X},overlaps:function(u){u=fe(u);var p=this._southWest,b=this._northEast,E=u.getSouthWest(),M=u.getNorthEast(),z=M.lat>p.lat&&E.lat<b.lat,X=M.lng>p.lng&&E.lng<b.lng;return z&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=fe(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(u,p){return u instanceof I?u:new I(u,p)}function le(u,p,b){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,b!==void 0&&(this.alt=+b)}le.prototype={equals:function(u,p){if(!u)return!1;u=ve(u);var b=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return b<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+_(this.lat,u)+", "+_(this.lng,u)+")"},distanceTo:function(u){return be.distance(this,ve(u))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,b=p/Math.cos(Math.PI/180*this.lat);return fe([this.lat-p,this.lng-b],[this.lat+p,this.lng+b])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function ve(u,p,b){return u instanceof le?u:$(u)&&typeof u[0]!="object"?u.length===3?new le(u[0],u[1],u[2]):u.length===2?new le(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new le(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new le(u,p,b)}var Te={latLngToPoint:function(u,p){var b=this.projection.project(u),E=this.scale(p);return this.transformation._transform(b,E)},pointToLatLng:function(u,p){var b=this.scale(p),E=this.transformation.untransform(u,b);return this.projection.unproject(E)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,b=this.scale(u),E=this.transformation.transform(p.min,b),M=this.transformation.transform(p.max,b);return new D(E,M)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?y(u.lng,this.wrapLng,!0):u.lng,b=this.wrapLat?y(u.lat,this.wrapLat,!0):u.lat,E=u.alt;return new le(b,p,E)},wrapLatLngBounds:function(u){var p=u.getCenter(),b=this.wrapLatLng(p),E=p.lat-b.lat,M=p.lng-b.lng;if(E===0&&M===0)return u;var z=u.getSouthWest(),X=u.getNorthEast(),ue=new le(z.lat-E,z.lng-M),ge=new le(X.lat-E,X.lng-M);return new I(ue,ge)}},be=s({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var b=Math.PI/180,E=u.lat*b,M=p.lat*b,z=Math.sin((p.lat-u.lat)*b/2),X=Math.sin((p.lng-u.lng)*b/2),ue=z*z+Math.cos(E)*Math.cos(M)*X*X,ge=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*ge}}),ce=6378137,ae={R:ce,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,b=this.MAX_LATITUDE,E=Math.max(Math.min(b,u.lat),-b),M=Math.sin(E*p);return new ie(this.R*u.lng*p,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(u){var p=180/Math.PI;return new le((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=ce*Math.PI;return new D([-u,-u],[u,u])})()};function J(u,p,b,E){if($(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=b,this._d=E}J.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new ie((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function se(u,p,b,E){return new J(u,p,b,E)}var Me=s({},be,{code:"EPSG:3857",projection:ae,transformation:(function(){var u=.5/(Math.PI*ae.R);return se(u,.5,-u,.5)})()}),Pe=s({},Me,{code:"EPSG:900913"});function Ke(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Oe(u,p){var b="",E,M,z,X,ue,ge;for(E=0,z=u.length;E<z;E++){for(ue=u[E],M=0,X=ue.length;M<X;M++)ge=ue[M],b+=(M?"L":"M")+ge.x+" "+ge.y;b+=p?ze.svg?"z":"x":""}return b||"M0 0"}var xt=document.documentElement.style,Xt="ActiveXObject"in window,Tt=Xt&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),dn=Gn("webkit"),di=Gn("android"),Dr=Gn("android 2")||Gn("android 3"),_n=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ql=di&&Gn("Google")&&_n<537&&!("AudioNode"in window),Se=!!window.opera,Ae=!kt&&Gn("chrome"),Ve=Gn("gecko")&&!dn&&!Se&&!Xt,it=!Ae&&Gn("safari"),ht=Gn("phantom"),An="OTransition"in xt,Ki=navigator.platform.indexOf("Win")===0,gn=Xt&&"transition"in xt,Ut="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Dr,wn="MozPerspective"in xt,_t=!window.L_DISABLE_3D&&(gn||Ut||wn)&&!An&&!ht,qn=typeof orientation<"u"||Gn("mobile"),hi=qn&&dn,um=qn&&Ut,ha=!window.PointerEvent&&window.MSPointerEvent,fa=!!(window.PointerEvent||ha),ma="ontouchstart"in window||!!window.TouchEvent,zr=!window.L_NO_TOUCH&&(ma||fa),_o=qn&&Se,pa=qn&&Ve,cm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pd=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,p),window.removeEventListener("testPassiveEventSupport",v,p)}catch{}return u})(),eu=(function(){return!!document.createElement("canvas").getContext})(),Ir=!!(document.createElementNS&&Ke("svg").createSVGRect),dm=!!Ir&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),gd=!Ir&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),yd=navigator.platform.indexOf("Mac")===0,vd=navigator.platform.indexOf("Linux")===0;function Gn(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ze={ie:Xt,ielt9:Tt,edge:kt,webkit:dn,android:di,android23:Dr,androidStock:Ql,opera:Se,chrome:Ae,gecko:Ve,safari:it,phantom:ht,opera12:An,win:Ki,ie3d:gn,webkit3d:Ut,gecko3d:wn,any3d:_t,mobile:qn,mobileWebkit:hi,mobileWebkit3d:um,msPointer:ha,pointer:fa,touch:zr,touchNative:ma,mobileOpera:_o,mobileGecko:pa,retina:cm,passiveEvents:pd,canvas:eu,svg:Ir,vml:gd,inlineSvg:dm,mac:yd,linux:vd},tu=ze.msPointer?"MSPointerDown":"pointerdown",nu=ze.msPointer?"MSPointerMove":"pointermove",Wi=ze.msPointer?"MSPointerUp":"pointerup",tn=ze.msPointer?"MSPointerCancel":"pointercancel",yn={touchstart:tu,touchmove:nu,touchend:Wi,touchcancel:tn},Br={touchstart:gs,touchmove:hr,touchend:hr,touchcancel:hr},dr={},bd=!1;function hm(u,p,b){return p==="touchstart"&&ps(),Br[p]?(b=Br[p].bind(this,b),u.addEventListener(yn[p],b,!1),b):(console.warn("wrong event specified:",p),v)}function xd(u,p,b){if(!yn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(yn[p],b,!1)}function ga(u){dr[u.pointerId]=u}function iu(u){dr[u.pointerId]&&(dr[u.pointerId]=u)}function Ur(u){delete dr[u.pointerId]}function ps(){bd||(document.addEventListener(tu,ga,!0),document.addEventListener(nu,iu,!0),document.addEventListener(Wi,Ur,!0),document.addEventListener(tn,Ur,!0),bd=!0)}function hr(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var b in dr)p.touches.push(dr[b]);p.changedTouches=[p],u(p)}}function gs(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&qt(p),hr(u,p)}function nn(u){var p={},b,E;for(E in u)b=u[E],p[E]=b&&b.bind?b.bind(u):b;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var _d=200;function wd(u,p){u.addEventListener("dblclick",p);var b=0,E;function M(z){if(z.detail!==1){E=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var X=Sa(z);if(!(X.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!X.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ue=Date.now();ue-b<=_d?(E++,E===2&&p(nn(z))):E=1,b=ue}}}return u.addEventListener("click",M),{dblclick:p,simDblclick:M}}function Fr(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var fr=ba(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ya=ba(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ru=ya==="webkitTransition"||ya==="OTransition"?ya+"End":"transitionend";function su(u){return typeof u=="string"?document.getElementById(u):u}function va(u,p){var b=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!b||b==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(u,null);b=E?E[p]:null}return b==="auto"?null:b}function rt(u,p,b){var E=document.createElement(u);return E.className=p||"",b&&b.appendChild(E),E}function Ct(u){var p=u.parentNode;p&&p.removeChild(u)}function Kn(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function hn(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function Vr(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function au(u,p){if(u.classList!==void 0)return u.classList.contains(p);var b=wo(u);return b.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(b)}function Xe(u,p){if(u.classList!==void 0)for(var b=C(p),E=0,M=b.length;E<M;E++)u.classList.add(b[E]);else if(!au(u,p)){var z=wo(u);ys(u,(z?z+" ":"")+p)}}function zt(u,p){u.classList!==void 0?u.classList.remove(p):ys(u,w((" "+wo(u)+" ").replace(" "+p+" "," ")))}function ys(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function wo(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Rt(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&ou(u,p)}function ou(u,p){var b=!1,E="DXImageTransform.Microsoft.Alpha";try{b=u.filters.item(E)}catch{if(p===1)return}p=Math.round(p*100),b?(b.Enabled=p!==100,b.Opacity=p):u.style.filter+=" progid:"+E+"(opacity="+p+")"}function ba(u){for(var p=document.documentElement.style,b=0;b<u.length;b++)if(u[b]in p)return u[b];return!1}function Yi(u,p,b){var E=p||new ie(0,0);u.style[fr]=(ze.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(b?" scale("+b+")":"")}function $t(u,p){u._leaflet_pos=p,ze.any3d?Yi(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function mr(u){return u._leaflet_pos||new ie(0,0)}var vs,Ai,lu;if("onselectstart"in document)vs=function(){qe(window,"selectstart",qt)},Ai=function(){bt(window,"selectstart",qt)};else{var bs=ba(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vs=function(){if(bs){var u=document.documentElement.style;lu=u[bs],u[bs]="none"}},Ai=function(){bs&&(document.documentElement.style[bs]=lu,lu=void 0)}}function So(){qe(window,"dragstart",qt)}function xa(){bt(window,"dragstart",qt)}var Co,uu;function xs(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Wn(),Co=u,uu=u.style.outlineStyle,u.style.outlineStyle="none",qe(window,"keydown",Wn))}function Wn(){Co&&(Co.style.outlineStyle=uu,Co=void 0,uu=void 0,bt(window,"keydown",Wn))}function Eo(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function _a(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var _s={__proto__:null,TRANSFORM:fr,TRANSITION:ya,TRANSITION_END:ru,get:su,getStyle:va,create:rt,remove:Ct,empty:Kn,toFront:hn,toBack:Vr,hasClass:au,addClass:Xe,removeClass:zt,setClass:ys,getClass:wo,setOpacity:Rt,testProp:ba,setTransform:Yi,setPosition:$t,getPosition:mr,get disableTextSelection(){return vs},get enableTextSelection(){return Ai},disableImageDrag:So,enableImageDrag:xa,preventOutline:xs,restoreOutline:Wn,getSizedParentNode:Eo,getScale:_a};function qe(u,p,b,E){if(p&&typeof p=="object")for(var M in p)mi(u,M,p[M],b);else{p=C(p);for(var z=0,X=p.length;z<X;z++)mi(u,p[z],b,E)}return this}var fi="_leaflet_events";function bt(u,p,b,E){if(arguments.length===1)cu(u),delete u[fi];else if(p&&typeof p=="object")for(var M in p)wa(u,M,p[M],b);else if(p=C(p),arguments.length===2)cu(u,function(ue){return O(p,ue)!==-1});else for(var z=0,X=p.length;z<X;z++)wa(u,p[z],b,E);return this}function cu(u,p){for(var b in u[fi]){var E=b.split(/\d/)[0];(!p||p(E))&&wa(u,E,null,null,b)}}var Hr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mi(u,p,b,E){var M=p+f(b)+(E?"_"+f(E):"");if(u[fi]&&u[fi][M])return this;var z=function(ue){return b.call(E||u,ue||window.event)},X=z;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?z=hm(u,p,z):ze.touch&&p==="dblclick"?z=wd(u,z):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(Hr[p]||p,z,ze.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(z=function(ue){ue=ue||window.event,Xi(u,ue)&&X(ue)},u.addEventListener(Hr[p],z,!1)):u.addEventListener(p,X,!1):u.attachEvent("on"+p,z),u[fi]=u[fi]||{},u[fi][M]=z}function wa(u,p,b,E,M){M=M||p+f(b)+(E?"_"+f(E):"");var z=u[fi]&&u[fi][M];if(!z)return this;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?xd(u,p,z):ze.touch&&p==="dblclick"?Fr(u,z):"removeEventListener"in u?u.removeEventListener(Hr[p]||p,z,!1):u.detachEvent("on"+p,z),u[fi][M]=null}function pi(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Li(u){return mi(u,"wheel",pi),this}function Zr(u){return qe(u,"mousedown touchstart dblclick contextmenu",pi),u._leaflet_disable_click=!0,this}function qt(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function pr(u){return qt(u),pi(u),this}function Sa(u){if(u.composedPath)return u.composedPath();for(var p=[],b=u.target;b;)p.push(b),b=b.parentNode;return p}function Ca(u,p){if(!p)return new ie(u.clientX,u.clientY);var b=_a(p),E=b.boundingClientRect;return new ie((u.clientX-E.left)/b.x-p.clientLeft,(u.clientY-E.top)/b.y-p.clientTop)}var Sd=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sn(u){return ze.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/Sd:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Xi(u,p){var b=p.relatedTarget;if(!b)return!0;try{for(;b&&b!==u;)b=b.parentNode}catch{return!1}return b!==u}var jo={__proto__:null,on:qe,off:bt,stopPropagation:pi,disableScrollPropagation:Li,disableClickPropagation:Zr,preventDefault:qt,stop:pr,getPropagationPath:Sa,getMousePosition:Ca,getWheelDelta:Sn,isExternalTarget:Xi,addListener:qe,removeListener:bt},ws=Y.extend({run:function(u,p,b,E){this.stop(),this._el=u,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=mr(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,b=this._duration*1e3;p<b?this._runFrame(this._easeOut(p/b),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var b=this._startPos.add(this._offset.multiplyBy(u));p&&b._round(),$t(this._el,b),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),lt=Y.extend({options:{crs:Me,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=N(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(ve(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ya&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qe(this._proxy,ru,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,b){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(ve(u),p,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=s({animate:b.animate},b.zoom),b.pan=s({animate:b.animate,duration:b.duration},b.pan));var E=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,b.zoom):this._tryAnimatedPan(u,b.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,b.pan&&b.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,b){var E=this.getZoomScale(p),M=this.getSize().divideBy(2),z=u instanceof ie?u:this.latLngToContainerPoint(u),X=z.subtract(M).multiplyBy(1-1/E),ue=this.containerPointToLatLng(M.add(X));return this.setView(ue,p,{zoom:b})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():fe(u);var b=B(p.paddingTopLeft||p.padding||[0,0]),E=B(p.paddingBottomRight||p.padding||[0,0]),M=this.getBoundsZoom(u,!1,b.add(E));if(M=typeof p.maxZoom=="number"?Math.min(p.maxZoom,M):M,M===1/0)return{center:u.getCenter(),zoom:M};var z=E.subtract(b).divideBy(2),X=this.project(u.getSouthWest(),M),ue=this.project(u.getNorthEast(),M),ge=this.unproject(X.add(ue).divideBy(2).add(z),M);return{center:ge,zoom:M}},fitBounds:function(u,p){if(u=fe(u),!u.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(u,p);return this.setView(b.center,b.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=B(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ws,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Xe(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,b,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,b){if(b=b||{},b.animate===!1||!ze.any3d)return this.setView(u,p,b);this._stop();var E=this.project(this.getCenter()),M=this.project(u),z=this.getSize(),X=this._zoom;u=ve(u),p=p===void 0?X:p;var ue=Math.max(z.x,z.y),ge=ue*this.getZoomScale(X,p),Ee=M.distanceTo(E)||1,Le=1.42,Be=Le*Le;function et(Ft){var tr=Ft?-1:1,Wr=Ft?ge:ue,Eu=ge*ge-ue*ue+tr*Be*Be*Ee*Ee,Ba=2*Wr*Be*Ee,Ua=Eu/Ba,Cr=Math.sqrt(Ua*Ua+1)-Ua,nr=Cr<1e-9?-18:Math.log(Cr);return nr}function fn(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function Gt(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function Fn(Ft){return fn(Ft)/Gt(Ft)}var ft=et(0);function mt(Ft){return ue*(Gt(ft)/Gt(ft+Le*Ft))}function st(Ft){return ue*(Gt(ft)*Fn(ft+Le*Ft)-fn(ft))/Be}function wr(Ft){return 1-Math.pow(1-Ft,1.5)}var Qn=Date.now(),Bo=(et(1)-ft)/Le,Sr=b.duration?1e3*b.duration:1e3*Bo*.8;function Cu(){var Ft=(Date.now()-Qn)/Sr,tr=wr(Ft)*Bo;Ft<=1?(this._flyToFrame=G(Cu,this),this._move(this.unproject(E.add(M.subtract(E).multiplyBy(st(tr)/Ee)),X),this.getScaleZoom(ue/mt(tr),X),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Cu.call(this),this},flyToBounds:function(u,p){var b=this._getBoundsCenterZoom(u,p);return this.flyTo(b.center,b.zoom,p)},setMaxBounds:function(u){return u=fe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var b=this.getCenter(),E=this._limitCenter(b,this._zoom,fe(u));return b.equals(E)||this.panTo(E,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var b=B(p.paddingTopLeft||p.padding||[0,0]),E=B(p.paddingBottomRight||p.padding||[0,0]),M=this.project(this.getCenter()),z=this.project(u),X=this.getPixelBounds(),ue=te([X.min.add(b),X.max.subtract(E)]),ge=ue.getSize();if(!ue.contains(z)){this._enforcingBounds=!0;var Ee=z.subtract(ue.getCenter()),Le=ue.extend(z).getSize().subtract(ge);M.x+=Ee.x<0?-Le.x:Le.x,M.y+=Ee.y<0?-Le.y:Le.y,this.panTo(this.unproject(M),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),E=p.divideBy(2).round(),M=b.divideBy(2).round(),z=E.subtract(M);return!z.x&&!z.y?this:(u.animate&&u.pan?this.panBy(z):(u.pan&&this._rawPanBy(z),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),b=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,b,u):navigator.geolocation.getCurrentPosition(p,b,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,b=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,b=u.coords.longitude,E=new le(p,b),M=E.toBounds(u.coords.accuracy*2),z=this._locateOptions;if(z.setView){var X=this.getBoundsZoom(M);this.setView(E,z.maxZoom?Math.min(X,z.maxZoom):X)}var ue={latlng:E,bounds:M,timestamp:u.timestamp};for(var ge in u.coords)typeof u.coords[ge]=="number"&&(ue[ge]=u.coords[ge]);this.fire("locationfound",ue)}},addHandler:function(u,p){if(!p)return this;var b=this[u]=new p(this);return this._handlers.push(b),this.options[u]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Ct(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var b="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),E=rt("div",b,p||this._mapPane);return u&&(this._panes[u]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),b=this.unproject(u.getTopRight());return new I(p,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,b){u=fe(u),b=B(b||[0,0]);var E=this.getZoom()||0,M=this.getMinZoom(),z=this.getMaxZoom(),X=u.getNorthWest(),ue=u.getSouthEast(),ge=this.getSize().subtract(b),Ee=te(this.project(ue,E),this.project(X,E)).getSize(),Le=ze.any3d?this.options.zoomSnap:1,Be=ge.x/Ee.x,et=ge.y/Ee.y,fn=p?Math.max(Be,et):Math.min(Be,et);return E=this.getScaleZoom(fn,E),Le&&(E=Math.round(E/(Le/100))*(Le/100),E=p?Math.ceil(E/Le)*Le:Math.floor(E/Le)*Le),Math.max(M,Math.min(z,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var b=this._getTopLeftPoint(u,p);return new D(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var b=this.options.crs;return p=p===void 0?this._zoom:p,b.scale(u)/b.scale(p)},getScaleZoom:function(u,p){var b=this.options.crs;p=p===void 0?this._zoom:p;var E=b.zoom(u*b.scale(p));return isNaN(E)?1/0:E},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(ve(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(B(u),p)},layerPointToLatLng:function(u){var p=B(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(ve(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(ve(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(fe(u))},distance:function(u,p){return this.options.crs.distance(ve(u),ve(p))},containerPointToLayerPoint:function(u){return B(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return B(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(B(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(u)))},mouseEventToContainerPoint:function(u){return Ca(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=su(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qe(p,"scroll",this._onScroll,this),this._containerId=f(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,Xe(u,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=va(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$t(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Xe(u.markerPane,"leaflet-zoom-hide"),Xe(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,b){$t(this._mapPane,new ie(0,0));var E=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var M=this._zoom!==p;this._moveStart(M,b)._move(u,p)._moveEnd(M),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,b,E){p===void 0&&(p=this._zoom);var M=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),E?b&&b.pinch&&this.fire("zoom",b):((M||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){$t(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[f(this._container)]=this;var p=u?bt:qe;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var b=[],E,M=p==="mouseout"||p==="mouseover",z=u.target||u.srcElement,X=!1;z;){if(E=this._targets[f(z)],E&&(p==="click"||p==="preclick")&&this._draggableMoved(E)){X=!0;break}if(E&&E.listens(p,!0)&&(M&&!Xi(z,u)||(b.push(E),M))||z===this._container)break;z=z.parentNode}return!b.length&&!X&&!M&&this.listens(p,!0)&&(b=[this]),b},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var b=u.type;b==="mousedown"&&xs(p),this._fireDOMEvent(u,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,b){if(u.type==="click"){var E=s({},u);E.type="preclick",this._fireDOMEvent(E,E.type,b)}var M=this._findEventTargets(u,p);if(b){for(var z=[],X=0;X<b.length;X++)b[X].listens(p,!0)&&z.push(b[X]);M=z.concat(M)}if(M.length){p==="contextmenu"&&qt(u);var ue=M[0],ge={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Ee=ue.getLatLng&&(!ue._radius||ue._radius<=10);ge.containerPoint=Ee?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(u),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ee?ue.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(X=0;X<M.length;X++)if(M[X].fire(p,ge,!0),ge.originalEvent._stopped||M[X].options.bubblingMouseEvents===!1&&O(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return mr(this._mapPane)||new ie(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var b=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var b=this.getSize()._divideBy(2);return this.project(u,p)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,b){var E=this._getNewPixelOrigin(b,p);return this.project(u,p)._subtract(E)},_latLngBoundsToNewLayerBounds:function(u,p,b){var E=this._getNewPixelOrigin(b,p);return te([this.project(u.getSouthWest(),p)._subtract(E),this.project(u.getNorthWest(),p)._subtract(E),this.project(u.getSouthEast(),p)._subtract(E),this.project(u.getNorthEast(),p)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,b){if(!b)return u;var E=this.project(u,p),M=this.getSize().divideBy(2),z=new D(E.subtract(M),E.add(M)),X=this._getBoundsOffset(z,b,p);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?u:this.unproject(E.add(X),p)},_limitOffset:function(u,p){if(!p)return u;var b=this.getPixelBounds(),E=new D(b.min.add(u),b.max.add(u));return u.add(this._getBoundsOffset(E,p))},_getBoundsOffset:function(u,p,b){var E=te(this.project(p.getNorthEast(),b),this.project(p.getSouthWest(),b)),M=E.min.subtract(u.min),z=E.max.subtract(u.max),X=this._rebound(M.x,-z.x),ue=this._rebound(M.y,-z.y);return new ie(X,ue)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),b=this.getMaxZoom(),E=ze.any3d?this.options.zoomSnap:1;return E&&(u=Math.round(u/E)*E),Math.max(p,Math.min(b,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var b=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,p),!0)},_createAnimProxy:function(){var u=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var b=fr,E=this._proxy.style[b];Yi(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),E===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();Yi(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(p),M=this._getCenterOffset(u)._divideBy(1-1/E);return b.animate!==!0&&!this.getSize().contains(M)?!1:(G(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,b,E){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,Xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function du(u,p){return new lt(u,p)}var Un=K.extend({options:{position:"topright"},initialize:function(u){N(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),b=this.getPosition(),E=u._controlCorners[b];return Xe(p,"leaflet-control"),b.indexOf("bottom")!==-1?E.insertBefore(p,E.firstChild):E.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Ji=function(u){return new Un(u)};lt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",b=this._controlContainer=rt("div",p+"control-container",this._container);function E(M,z){var X=p+M+" "+p+z;u[M+z]=rt("div",X,b)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Ct(this._controlCorners[u]);Ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ea=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,b,E){return b<E?-1:E<b?1:0}},initialize:function(u,p,b){N(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in u)this._addLayer(u[E],E);for(E in p)this._addLayer(p[E],E,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Un.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(f(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=rt("div",u),b=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Zr(p),Li(p);var E=this._section=rt("section",u+"-list");b&&(this._map.on("click",this.collapse,this),qe(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=rt("a",u+"-toggle",p);M.href="#",M.title="Layers",M.setAttribute("role","button"),qe(M,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){qt(z),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=rt("div",u+"-base",E),this._separator=rt("div",u+"-separator",E),this._overlaysList=rt("div",u+"-overlays",E),p.appendChild(E)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&f(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,b){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:b}),this.options.sortLayers&&this._layers.sort(l(function(E,M){return this.options.sortFunction(E.layer,M.layer,E.name,M.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kn(this._baseLayersList),Kn(this._overlaysList),this._layerControlInputs=[];var u,p,b,E,M=0;for(b=0;b<this._layers.length;b++)E=this._layers[b],this._addItem(E),p=p||E.overlay,u=u||!E.overlay,M+=E.overlay?0:1;return this.options.hideSingleBase&&(u=u&&M>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(f(u.target)),b=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;b&&this._map.fire(b,p)},_createRadioElement:function(u,p){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=b,E.firstChild},_addItem:function(u){var p=document.createElement("label"),b=this._map.hasLayer(u.layer),E;u.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=b):E=this._createRadioElement("leaflet-base-layers_"+f(this),b),this._layerControlInputs.push(E),E.layerId=f(u.layer),qe(E,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+u.name;var z=document.createElement("span");p.appendChild(z),z.appendChild(E),z.appendChild(M);var X=u.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,b,E=[],M=[];this._handlingClick=!0;for(var z=u.length-1;z>=0;z--)p=u[z],b=this._getLayer(p.layerId).layer,p.checked?E.push(b):p.checked||M.push(b);for(z=0;z<M.length;z++)this._map.hasLayer(M[z])&&this._map.removeLayer(M[z]);for(z=0;z<E.length;z++)this._map.hasLayer(E[z])||this._map.addLayer(E[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,b,E=this._map.getZoom(),M=u.length-1;M>=0;M--)p=u[M],b=this._getLayer(p.layerId).layer,p.disabled=b.options.minZoom!==void 0&&E<b.options.minZoom||b.options.maxZoom!==void 0&&E>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,qe(u,"click",qt),this.expand();var p=this;setTimeout(function(){bt(u,"click",qt),p._preventClick=!1})}}),Cd=function(u,p,b){return new Ea(u,p,b)},hu=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",b=rt("div",p+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,p+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,p+"-out",b,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,b,E,M){var z=rt("a",b,E);return z.innerHTML=u,z.href="#",z.title=p,z.setAttribute("role","button"),z.setAttribute("aria-label",p),Zr(z),qe(z,"click",pr),qe(z,"click",M,this),qe(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";zt(this._zoomInButton,p),zt(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Xe(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Xe(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0}),lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hu,this.addControl(this.zoomControl))});var fm=function(u){return new hu(u)},Ed=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",b=rt("div",p),E=this.options;return this._addScales(E,p+"-line",b),u.on(E.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),b},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,b){u.metric&&(this._mScale=rt("div",p,b)),u.imperial&&(this._iScale=rt("div",p,b))},_update:function(){var u=this._map,p=u.getSize().y/2,b=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(b)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),b=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,b,p/u)},_updateImperial:function(u){var p=u*3.2808399,b,E,M;p>5280?(b=p/5280,E=this._getRoundNum(b),this._updateScale(this._iScale,E+" mi",E/b)):(M=this._getRoundNum(p),this._updateScale(this._iScale,M+" ft",M/p))},_updateScale:function(u,p,b){u.style.width=Math.round(this.options.maxWidth*b)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),b=u/p;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,p*b}}),fu=function(u){return new Ed(u)},mm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mu=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?mm+" ":"")+"Leaflet</a>"},initialize:function(u){N(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),Zr(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var b=[];this.options.prefix&&b.push(this.options.prefix),u.length&&b.push(u.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0}),lt.addInitHook(function(){this.options.attributionControl&&new mu().addTo(this)});var pm=function(u){return new mu(u)};Un.Layers=Ea,Un.Zoom=hu,Un.Scale=Ed,Un.Attribution=mu,Ji.layers=Cd,Ji.zoom=fm,Ji.scale=fu,Ji.attribution=pm;var Mi=K.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mi.addTo=function(u,p){return u.addHandler(p,this),this};var gm={Events:H},pu=ze.touch?"touchstart mousedown":"mousedown",gr=Y.extend({options:{clickTolerance:3},initialize:function(u,p,b,E){N(this,E),this._element=u,this._dragStartTarget=p||u,this._preventOutline=b},enable:function(){this._enabled||(qe(this._dragStartTarget,pu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gr._dragging===this&&this.finishDrag(!0),bt(this._dragStartTarget,pu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!au(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){gr._dragging===this&&this.finishDrag();return}if(!(gr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(gr._dragging=this,this._preventOutline&&xs(this._element),So(),vs(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,b=Eo(this._element);this._startPoint=new ie(p.clientX,p.clientY),this._startPos=mr(this._element),this._parentScale=_a(b);var E=u.type==="mousedown";qe(document,E?"mousemove":"touchmove",this._onMove,this),qe(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,b=new ie(p.clientX,p.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,qt(u),this._moved||(this.fire("dragstart"),this._moved=!0,Xe(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),$t(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){zt(document.body,"leaflet-dragging"),this._lastTarget&&(zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bt(document,"mousemove touchmove",this._onMove,this),bt(document,"mouseup touchend touchcancel",this._onUp,this),xa(),Ai();var p=this._moved&&this._moving;this._moving=!1,gr._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function jd(u,p,b){var E,M=[1,4,2,8],z,X,ue,ge,Ee,Le,Be,et;for(z=0,Le=u.length;z<Le;z++)u[z]._code=qr(u[z],p);for(ue=0;ue<4;ue++){for(Be=M[ue],E=[],z=0,Le=u.length,X=Le-1;z<Le;X=z++)ge=u[z],Ee=u[X],ge._code&Be?Ee._code&Be||(et=No(Ee,ge,Be,p,b),et._code=qr(et,p),E.push(et)):(Ee._code&Be&&(et=No(Ee,ge,Be,p,b),et._code=qr(et,p),E.push(et)),E.push(ge));u=E}return u}function Nd(u,p){var b,E,M,z,X,ue,ge,Ee,Le;if(!u||u.length===0)throw new Error("latlngs not passed");Yn(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Be=ve([0,0]),et=fe(u),fn=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());fn<1700&&(Be=gu(u));var Gt=u.length,Fn=[];for(b=0;b<Gt;b++){var ft=ve(u[b]);Fn.push(p.project(ve([ft.lat-Be.lat,ft.lng-Be.lng])))}for(ue=ge=Ee=0,b=0,E=Gt-1;b<Gt;E=b++)M=Fn[b],z=Fn[E],X=M.y*z.x-z.y*M.x,ge+=(M.x+z.x)*X,Ee+=(M.y+z.y)*X,ue+=X*3;ue===0?Le=Fn[0]:Le=[ge/ue,Ee/ue];var mt=p.unproject(B(Le));return ve([mt.lat+Be.lat,mt.lng+Be.lng])}function gu(u){for(var p=0,b=0,E=0,M=0;M<u.length;M++){var z=ve(u[M]);p+=z.lat,b+=z.lng,E++}return ve([p/E,b/E])}var yu={__proto__:null,clipPolygon:jd,polygonCenter:Nd,centroid:gu};function Td(u,p){if(!p||!u.length)return u.slice();var b=p*p;return u=vm(u,b),u=$d(u,b),u}function kd(u,p,b){return Math.sqrt(ja(u,p,b,!0))}function ym(u,p,b){return ja(u,p,b)}function $d(u,p){var b=u.length,E=typeof Uint8Array<"u"?Uint8Array:Array,M=new E(b);M[0]=M[b-1]=1,vu(u,M,p,0,b-1);var z,X=[];for(z=0;z<b;z++)M[z]&&X.push(u[z]);return X}function vu(u,p,b,E,M){var z=0,X,ue,ge;for(ue=E+1;ue<=M-1;ue++)ge=ja(u[ue],u[E],u[M],!0),ge>z&&(X=ue,z=ge);z>b&&(p[X]=1,vu(u,p,b,E,X),vu(u,p,b,X,M))}function vm(u,p){for(var b=[u[0]],E=1,M=0,z=u.length;E<z;E++)bm(u[E],u[M])>p&&(b.push(u[E]),M=E);return M<z-1&&b.push(u[z-1]),b}var Ad;function Ld(u,p,b,E,M){var z=E?Ad:qr(u,b),X=qr(p,b),ue,ge,Ee;for(Ad=X;;){if(!(z|X))return[u,p];if(z&X)return!1;ue=z||X,ge=No(u,p,ue,b,M),Ee=qr(ge,b),ue===z?(u=ge,z=Ee):(p=ge,X=Ee)}}function No(u,p,b,E,M){var z=p.x-u.x,X=p.y-u.y,ue=E.min,ge=E.max,Ee,Le;return b&8?(Ee=u.x+z*(ge.y-u.y)/X,Le=ge.y):b&4?(Ee=u.x+z*(ue.y-u.y)/X,Le=ue.y):b&2?(Ee=ge.x,Le=u.y+X*(ge.x-u.x)/z):b&1&&(Ee=ue.x,Le=u.y+X*(ue.x-u.x)/z),new ie(Ee,Le,M)}function qr(u,p){var b=0;return u.x<p.min.x?b|=1:u.x>p.max.x&&(b|=2),u.y<p.min.y?b|=4:u.y>p.max.y&&(b|=8),b}function bm(u,p){var b=p.x-u.x,E=p.y-u.y;return b*b+E*E}function ja(u,p,b,E){var M=p.x,z=p.y,X=b.x-M,ue=b.y-z,ge=X*X+ue*ue,Ee;return ge>0&&(Ee=((u.x-M)*X+(u.y-z)*ue)/ge,Ee>1?(M=b.x,z=b.y):Ee>0&&(M+=X*Ee,z+=ue*Ee)),X=u.x-M,ue=u.y-z,E?X*X+ue*ue:new ie(M,z)}function Yn(u){return!$(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function To(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yn(u)}function Ss(u,p){var b,E,M,z,X,ue,ge,Ee;if(!u||u.length===0)throw new Error("latlngs not passed");Yn(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Le=ve([0,0]),Be=fe(u),et=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());et<1700&&(Le=gu(u));var fn=u.length,Gt=[];for(b=0;b<fn;b++){var Fn=ve(u[b]);Gt.push(p.project(ve([Fn.lat-Le.lat,Fn.lng-Le.lng])))}for(b=0,E=0;b<fn-1;b++)E+=Gt[b].distanceTo(Gt[b+1])/2;if(E===0)Ee=Gt[0];else for(b=0,z=0;b<fn-1;b++)if(X=Gt[b],ue=Gt[b+1],M=X.distanceTo(ue),z+=M,z>E){ge=(z-E)/M,Ee=[ue.x-ge*(ue.x-X.x),ue.y-ge*(ue.y-X.y)];break}var ft=p.unproject(B(Ee));return ve([ft.lat+Le.lat,ft.lng+Le.lng])}var xm={__proto__:null,simplify:Td,pointToSegmentDistance:kd,closestPointOnSegment:ym,clipSegment:Ld,_getEdgeIntersection:No,_getBitCode:qr,_sqClosestPointOnSegment:ja,isFlat:Yn,_flat:To,polylineCenter:Ss},ko={project:function(u){return new ie(u.lng,u.lat)},unproject:function(u){return new le(u.y,u.x)},bounds:new D([-180,-90],[180,90])},$o={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,b=this.R,E=u.lat*p,M=this.R_MINOR/b,z=Math.sqrt(1-M*M),X=z*Math.sin(E),ue=Math.tan(Math.PI/4-E/2)/Math.pow((1-X)/(1+X),z/2);return E=-b*Math.log(Math.max(ue,1e-10)),new ie(u.lng*p*b,E)},unproject:function(u){for(var p=180/Math.PI,b=this.R,E=this.R_MINOR/b,M=Math.sqrt(1-E*E),z=Math.exp(-u.y/b),X=Math.PI/2-2*Math.atan(z),ue=0,ge=.1,Ee;ue<15&&Math.abs(ge)>1e-7;ue++)Ee=M*Math.sin(X),Ee=Math.pow((1-Ee)/(1+Ee),M/2),ge=Math.PI/2-2*Math.atan(z*Ee)-X,X+=ge;return new le(X*p,u.x*p/b)}},Md={__proto__:null,LonLat:ko,Mercator:$o,SphericalMercator:ae},Pd=s({},be,{code:"EPSG:3395",projection:$o,transformation:(function(){var u=.5/(Math.PI*$o.R);return se(u,.5,-u,.5)})()}),bu=s({},be,{code:"EPSG:4326",projection:ko,transformation:se(1/180,1,-1/180,.5)}),Cs=s({},Te,{projection:ko,transformation:se(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var b=p.lng-u.lng,E=p.lat-u.lat;return Math.sqrt(b*b+E*E)},infinite:!0});Te.Earth=be,Te.EPSG3395=Pd,Te.EPSG3857=Me,Te.EPSG900913=Pe,Te.EPSG4326=bu,Te.Simple=Cs;var gi=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[f(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[f(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var b=this.getEvents();p.on(b,this),this.once("remove",function(){p.off(b,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=f(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=f(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return f(u)in this._layers},eachLayer:function(u,p){for(var b in this._layers)u.call(p,this._layers[b]);return this},_addLayers:function(u){u=u?$(u)?u:[u]:[];for(var p=0,b=u.length;p<b;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[f(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=f(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,b=this._getZoomSpan();for(var E in this._zoomBoundLayers){var M=this._zoomBoundLayers[E].options;u=M.minZoom===void 0?u:Math.min(u,M.minZoom),p=M.maxZoom===void 0?p:Math.max(p,M.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Es=gi.extend({initialize:function(u,p){N(this,p),this._layers={};var b,E;if(u)for(b=0,E=u.length;b<E;b++)this.addLayer(u[b])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),b,E;for(b in this._layers)E=this._layers[b],E[u]&&E[u].apply(E,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var b in this._layers)u.call(p,this._layers[b]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return f(u)}}),_m=function(u,p){return new Es(u,p)},Pi=Es.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Es.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Es.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new I;for(var p in this._layers){var b=this._layers[p];u.extend(b.getBounds?b.getBounds():b.getLatLng())}return u}}),Od=function(u,p){return new Pi(u,p)},Oi=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){N(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var b=this._getIconUrl(u);if(!b){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(b,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(E,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(u,p){var b=this.options,E=b[p+"Size"];typeof E=="number"&&(E=[E,E]);var M=B(E),z=B(p==="shadow"&&b.shadowAnchor||b.iconAnchor||M&&M.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(b.className||""),z&&(u.style.marginLeft=-z.x+"px",u.style.marginTop=-z.y+"px"),M&&(u.style.width=M.x+"px",u.style.height=M.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return ze.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Na(u){return new Oi(u)}var Ta=Oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Ta.imagePath!="string"&&(Ta.imagePath=this._detectIconPath()),(this.options.imagePath||Ta.imagePath)+Oi.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(b,E,M){var z=E.exec(b);return z&&z[M]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=rt("div","leaflet-default-icon-path",document.body),p=va(u,"background-image")||va(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),ka=Mi.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new gr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Xe(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,b=p._map,E=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,z=mr(p._icon),X=b.getPixelBounds(),ue=b.getPixelOrigin(),ge=te(X.min._subtract(ue).add(M),X.max._subtract(ue).subtract(M));if(!ge.contains(z)){var Ee=B((Math.max(ge.max.x,z.x)-ge.max.x)/(X.max.x-ge.max.x)-(Math.min(ge.min.x,z.x)-ge.min.x)/(X.min.x-ge.min.x),(Math.max(ge.max.y,z.y)-ge.max.y)/(X.max.y-ge.max.y)-(Math.min(ge.min.y,z.y)-ge.min.y)/(X.min.y-ge.min.y)).multiplyBy(E);b.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),$t(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=G(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,b=p._shadow,E=mr(p._icon),M=p._map.layerPointToLatLng(E);b&&$t(b,E),p._latlng=M,u.latlng=M,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),$a=gi.extend({options:{icon:new Ta,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){N(this,p),this._latlng=ve(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=ve(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=u.icon.createIcon(this._icon),E=!1;b!==this._icon&&(this._icon&&this._removeIcon(),E=!0,u.title&&(b.title=u.title),b.tagName==="IMG"&&(b.alt=u.alt||"")),Xe(b,p),u.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(b,"focus",this._panOnFocus,this);var M=u.icon.createShadow(this._shadow),z=!1;M!==this._shadow&&(this._removeShadow(),z=!0),M&&(Xe(M,p),M.alt=""),this._shadow=M,u.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&z&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(this._icon,"focus",this._panOnFocus,this),Ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ct(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&$t(this._icon,u),this._shadow&&$t(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ka)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ka(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Rt(this._icon,u),this._shadow&&Rt(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,b=p.iconSize?B(p.iconSize):B(0,0),E=p.iconAnchor?B(p.iconAnchor):B(0,0);u.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:b.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rd(u,p){return new $a(u,p)}var Ri=gi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return N(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),js=Ri.extend({options:{fill:!0,radius:10},initialize:function(u,p){N(this,p),this._latlng=ve(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=ve(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return Ri.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,b=this._clickTolerance(),E=[u+b,p+b];this._pxBounds=new D(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dd(u,p){return new js(u,p)}var Ao=js.extend({initialize:function(u,p,b){if(typeof p=="number"&&(p=s({},b,{radius:p})),N(this,p),this._latlng=ve(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ri.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,b=this._map,E=b.options.crs;if(E.distance===be.distance){var M=Math.PI/180,z=this._mRadius/be.R/M,X=b.project([p+z,u]),ue=b.project([p-z,u]),ge=X.add(ue).divideBy(2),Ee=b.unproject(ge).lat,Le=Math.acos((Math.cos(z*M)-Math.sin(p*M)*Math.sin(Ee*M))/(Math.cos(p*M)*Math.cos(Ee*M)))/M;(isNaN(Le)||Le===0)&&(Le=z/Math.cos(Math.PI/180*p)),this._point=ge.subtract(b.getPixelOrigin()),this._radius=isNaN(Le)?0:ge.x-b.project([Ee,u-Le]).x,this._radiusY=ge.y-X.y}else{var Be=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Be).x}this._updateBounds()}});function zd(u,p,b){return new Ao(u,p,b)}var Qi=Ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){N(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,b=null,E=ja,M,z,X=0,ue=this._parts.length;X<ue;X++)for(var ge=this._parts[X],Ee=1,Le=ge.length;Ee<Le;Ee++){M=ge[Ee-1],z=ge[Ee];var Be=E(u,M,z,!0);Be<p&&(p=Be,b=E(u,M,z))}return b&&(b.distance=Math.sqrt(p)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ss(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=ve(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new I,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Yn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],b=Yn(u),E=0,M=u.length;E<M;E++)b?(p[E]=ve(u[E]),this._bounds.extend(p[E])):p[E]=this._convertLatLngs(u[E]);return p},_project:function(){var u=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new ie(u,u);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,b){var E=u[0]instanceof le,M=u.length,z,X;if(E){for(X=[],z=0;z<M;z++)X[z]=this._map.latLngToLayerPoint(u[z]),b.extend(X[z]);p.push(X)}else for(z=0;z<M;z++)this._projectLatlngs(u[z],p,b)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,b,E,M,z,X,ue,ge;for(b=0,M=0,z=this._rings.length;b<z;b++)for(ge=this._rings[b],E=0,X=ge.length;E<X-1;E++)ue=Ld(ge[E],ge[E+1],u,E,!0),ue&&(p[M]=p[M]||[],p[M].push(ue[0]),(ue[1]!==ge[E+1]||E===X-2)&&(p[M].push(ue[1]),M++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,b=0,E=u.length;b<E;b++)u[b]=Td(u[b],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var b,E,M,z,X,ue,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(b=0,z=this._parts.length;b<z;b++)for(ue=this._parts[b],E=0,X=ue.length,M=X-1;E<X;M=E++)if(!(!p&&E===0)&&kd(u,ue[M],ue[E])<=ge)return!0;return!1}});function wm(u,p){return new Qi(u,p)}Qi._flat=To;var Ns=Qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=Qi.prototype._convertLatLngs.call(this,u),b=p.length;return b>=2&&p[0]instanceof le&&p[0].equals(p[b-1])&&p.pop(),p},_setLatLngs:function(u){Qi.prototype._setLatLngs.call(this,u),Yn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,b=new ie(p,p);if(u=new D(u.min.subtract(b),u.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,M=this._rings.length,z;E<M;E++)z=jd(this._rings[E],u,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,b,E,M,z,X,ue,ge,Ee;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(z=0,ge=this._parts.length;z<ge;z++)for(b=this._parts[z],X=0,Ee=b.length,ue=Ee-1;X<Ee;ue=X++)E=b[X],M=b[ue],E.y>u.y!=M.y>u.y&&u.x<(M.x-E.x)*(u.y-E.y)/(M.y-E.y)+E.x&&(p=!p);return p||Qi.prototype._containsPoint.call(this,u,!0)}});function Sm(u,p){return new Ns(u,p)}var er=Pi.extend({initialize:function(u,p){N(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=$(u)?u:u.features,b,E,M;if(p){for(b=0,E=p.length;b<E;b++)M=p[b],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var z=this.options;if(z.filter&&!z.filter(u))return this;var X=vn(u,z);return X?(X.feature=Po(u),X.defaultOptions=X.options,this.resetStyle(X),z.onEachFeature&&z.onEachFeature(u,X),this.addLayer(X)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function vn(u,p){var b=u.type==="Feature"?u.geometry:u,E=b?b.coordinates:null,M=[],z=p&&p.pointToLayer,X=p&&p.coordsToLatLng||Lo,ue,ge,Ee,Le;if(!E&&!b)return null;switch(b.type){case"Point":return ue=X(E),Ts(z,u,ue,p);case"MultiPoint":for(Ee=0,Le=E.length;Ee<Le;Ee++)ue=X(E[Ee]),M.push(Ts(z,u,ue,p));return new Pi(M);case"LineString":case"MultiLineString":return ge=Aa(E,b.type==="LineString"?0:1,X),new Qi(ge,p);case"Polygon":case"MultiPolygon":return ge=Aa(E,b.type==="Polygon"?1:2,X),new Ns(ge,p);case"GeometryCollection":for(Ee=0,Le=b.geometries.length;Ee<Le;Ee++){var Be=vn({geometry:b.geometries[Ee],type:"Feature",properties:u.properties},p);Be&&M.push(Be)}return new Pi(M);case"FeatureCollection":for(Ee=0,Le=b.features.length;Ee<Le;Ee++){var et=vn(b.features[Ee],p);et&&M.push(et)}return new Pi(M);default:throw new Error("Invalid GeoJSON object.")}}function Ts(u,p,b,E){return u?u(p,b):new $a(b,E&&E.markersInheritOptions&&E)}function Lo(u){return new le(u[1],u[0],u[2])}function Aa(u,p,b){for(var E=[],M=0,z=u.length,X;M<z;M++)X=p?Aa(u[M],p-1,b):(b||Lo)(u[M]),E.push(X);return E}function Mo(u,p){return u=ve(u),u.alt!==void 0?[_(u.lng,p),_(u.lat,p),_(u.alt,p)]:[_(u.lng,p),_(u.lat,p)]}function La(u,p,b,E){for(var M=[],z=0,X=u.length;z<X;z++)M.push(p?La(u[z],Yn(u[z])?0:p-1,b,E):Mo(u[z],E));return!p&&b&&M.length>0&&M.push(M[0].slice()),M}function yr(u,p){return u.feature?s({},u.feature,{geometry:p}):Po(p)}function Po(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var vr={toGeoJSON:function(u){return yr(this,{type:"Point",coordinates:Mo(this.getLatLng(),u)})}};$a.include(vr),Ao.include(vr),js.include(vr),Qi.include({toGeoJSON:function(u){var p=!Yn(this._latlngs),b=La(this._latlngs,p?1:0,!1,u);return yr(this,{type:(p?"Multi":"")+"LineString",coordinates:b})}}),Ns.include({toGeoJSON:function(u){var p=!Yn(this._latlngs),b=p&&!Yn(this._latlngs[0]),E=La(this._latlngs,b?2:p?1:0,!0,u);return p||(E=[E]),yr(this,{type:(b?"Multi":"")+"Polygon",coordinates:E})}}),Es.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(b){p.push(b.toGeoJSON(u).geometry.coordinates)}),yr(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var b=p==="GeometryCollection",E=[];return this.eachLayer(function(M){if(M.toGeoJSON){var z=M.toGeoJSON(u);if(b)E.push(z.geometry);else{var X=Po(z);X.type==="FeatureCollection"?E.push.apply(E,X.features):E.push(X)}}}),b?yr(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function Oo(u,p){return new er(u,p)}var Ma=Oo,ks=gi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,b){this._url=u,this._bounds=fe(p),N(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&hn(this._image),this},bringToBack:function(){return this._map&&Vr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=fe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:rt("img");if(Xe(p,"leaflet-image-layer"),this._zoomAnimated&&Xe(p,"leaflet-zoom-animated"),this.options.className&&Xe(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Yi(this._image,b,p)},_reset:function(){var u=this._image,p=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=p.getSize();$t(u,p.min),u.style.width=b.x+"px",u.style.height=b.y+"px"},_updateOpacity:function(){Rt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Id=function(u,p,b){return new ks(u,p,b)},br=ks.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:rt("video");if(Xe(p,"leaflet-image-layer"),this._zoomAnimated&&Xe(p,"leaflet-zoom-animated"),this.options.className&&Xe(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onloadeddata=l(this.fire,this,"load"),u){for(var b=p.getElementsByTagName("source"),E=[],M=0;M<b.length;M++)E.push(b[M].src);this._url=b.length>0?E:[p.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var X=rt("source");X.src=this._url[z],p.appendChild(X)}}});function $s(u,p,b){return new br(u,p,b)}var Ro=ks.extend({_initImage:function(){var u=this._image=this._url;Xe(u,"leaflet-image-layer"),this._zoomAnimated&&Xe(u,"leaflet-zoom-animated"),this.options.className&&Xe(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function Bd(u,p,b){return new Ro(u,p,b)}var bn=gi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof le||$(u))?(this._latlng=ve(u),N(this,p)):(N(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Rt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Rt(this._container,1),this.bringToFront(),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Rt(this._container,0),this._removeTimeout=setTimeout(l(Ct,void 0,this._container),200)):Ct(this._container),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=ve(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hn(this._container),this},bringToBack:function(){return this._map&&Vr(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof Pi){p=null;var b=this._source._layers;for(var E in b)if(b[E]._map){p=b[E];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=B(this.options.offset),b=this._getAnchor();this._zoomAnimated?$t(this._container,u.add(b)):p=p.add(u).add(b);var E=this._containerBottom=-p.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=E+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(u,p,b,E){var M=p;return M instanceof u||(M=new u(E).setContent(p)),b&&M.setLatLng(b),M}}),gi.include({_initOverlay:function(u,p,b,E){var M=b;return M instanceof u?(N(M,E),M._source=this):(M=p&&!E?p:new u(E,this),M.setContent(b)),M}});var Pa=bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,bn.prototype.openOn.call(this,u)},onAdd:function(u){bn.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ri||this._source.on("preclick",pi))},onRemove:function(u){bn.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ri||this._source.off("preclick",pi))},getEvents:function(){var u=bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=rt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=rt("div",u+"-content-wrapper",p);if(this._contentNode=rt("div",u+"-content",b),Zr(p),Li(this._contentNode),qe(p,"contextmenu",pi),this._tipContainer=rt("div",u+"-tip-container",p),this._tip=rt("div",u+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=rt("a",u+"-close-button",p);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',qe(E,"click",function(M){qt(M),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var b=u.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),p.width=b+1+"px",p.whiteSpace="",p.height="";var E=u.offsetHeight,M=this.options.maxHeight,z="leaflet-popup-scrolled";M&&E>M?(p.height=M+"px",Xe(u,z)):zt(u,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),b=this._getAnchor();$t(this._container,p.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(va(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+p,E=this._containerWidth,M=new ie(this._containerLeft,-b-this._containerBottom);M._add(mr(this._container));var z=u.layerPointToContainerPoint(M),X=B(this.options.autoPanPadding),ue=B(this.options.autoPanPaddingTopLeft||X),ge=B(this.options.autoPanPaddingBottomRight||X),Ee=u.getSize(),Le=0,Be=0;z.x+E+ge.x>Ee.x&&(Le=z.x+E-Ee.x+ge.x),z.x-Le-ue.x<0&&(Le=z.x-ue.x),z.y+b+ge.y>Ee.y&&(Be=z.y+b-Ee.y+ge.y),z.y-Be-ue.y<0&&(Be=z.y-ue.y),(Le||Be)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Le,Be]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ud=function(u,p){return new Pa(u,p)};lt.mergeOptions({closePopupOnClick:!0}),lt.include({openPopup:function(u,p,b){return this._initOverlay(Pa,u,p,b).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),gi.include({bindPopup:function(u,p){return this._popup=this._initOverlay(Pa,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Pi||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){pr(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof Ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Oa=bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){bn.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){bn.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=bn.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,b,E=this._map,M=this._container,z=E.latLngToContainerPoint(E.getCenter()),X=E.layerPointToContainerPoint(u),ue=this.options.direction,ge=M.offsetWidth,Ee=M.offsetHeight,Le=B(this.options.offset),Be=this._getAnchor();ue==="top"?(p=ge/2,b=Ee):ue==="bottom"?(p=ge/2,b=0):ue==="center"?(p=ge/2,b=Ee/2):ue==="right"?(p=0,b=Ee/2):ue==="left"?(p=ge,b=Ee/2):X.x<z.x?(ue="right",p=0,b=Ee/2):(ue="left",p=ge+(Le.x+Be.x)*2,b=Ee/2),u=u.subtract(B(p,b,!0)).add(Le).add(Be),zt(M,"leaflet-tooltip-right"),zt(M,"leaflet-tooltip-left"),zt(M,"leaflet-tooltip-top"),zt(M,"leaflet-tooltip-bottom"),Xe(M,"leaflet-tooltip-"+ue),$t(M,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Rt(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cm=function(u,p){return new Oa(u,p)};lt.include({openTooltip:function(u,p,b){return this._initOverlay(Oa,u,p,b).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),gi.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oa,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[p](b),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Pi||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(qe(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),qe(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,b,E;this._tooltip.options.sticky&&u.originalEvent&&(b=this._map.mouseEventToContainerPoint(u.originalEvent),E=this._map.containerPointToLayerPoint(b),p=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(p)}});var Fd=Oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Kn(p),p.appendChild(b.html)):p.innerHTML=b.html!==!1?b.html:"",b.bgPos){var E=B(b.bgPos);p.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Em(u){return new Fd(u)}Oi.Default=Ta;var As=gi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){N(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Ct(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ie?u:new ie(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,b=-u(-1/0,1/0),E=0,M=p.length,z;E<M;E++)z=p[E].style.zIndex,p[E]!==this._container&&z&&(b=u(b,+z));isFinite(b)&&(this.options.zIndex=b+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Rt(this._container,this.options.opacity);var u=+new Date,p=!1,b=!1;for(var E in this._tiles){var M=this._tiles[E];if(!(!M.current||!M.loaded)){var z=Math.min(1,(u-M.loaded)/200);Rt(M.el,z),z<1?p=!0:(M.active?b=!0:this._onOpaqueTile(M),M.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),p&&(q(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===u?(this._levels[b].el.style.zIndex=p-Math.abs(u-b),this._onUpdateLevel(b)):(Ct(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var E=this._levels[u],M=this._map;return E||(E=this._levels[u]={},E.el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=p,E.origin=M.project(M.unproject(M.getPixelOrigin()),u).round(),E.zoom=u,this._setZoomTransform(E,M.getCenter(),M.getZoom()),v(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,p,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var E=p.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Ct(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,b,E){var M=Math.floor(u/2),z=Math.floor(p/2),X=b-1,ue=new ie(+M,+z);ue.z=+X;var ge=this._tileCoordsToKey(ue),Ee=this._tiles[ge];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),X>E?this._retainParent(M,z,X,E):!1)},_retainChildren:function(u,p,b,E){for(var M=2*u;M<2*u+2;M++)for(var z=2*p;z<2*p+2;z++){var X=new ie(M,z);X.z=b+1;var ue=this._tileCoordsToKey(X),ge=this._tiles[ue];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);b+1<E&&this._retainChildren(M,z,b+1,E)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,b,E){var M=Math.round(p);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var z=this.options.updateWhenZooming&&M!==this._tileZoom;(!E||z)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(u),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var b in this._levels)this._setZoomTransform(this._levels[b],u,p)},_setZoomTransform:function(u,p,b){var E=this._map.getZoomScale(b,u.zoom),M=u.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(p,b)).round();ze.any3d?Yi(u.el,M,E):$t(u.el,M)},_resetGrid:function(){var u=this._map,p=u.options.crs,b=this._tileSize=this.getTileSize(),E=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],E).x/b.x),Math.ceil(u.project([0,p.wrapLng[1]],E).x/b.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],E).y/b.x),Math.ceil(u.project([p.wrapLat[1],0],E).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,b=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),E=p.getZoomScale(b,this._tileZoom),M=p.project(u,this._tileZoom).floor(),z=p.getSize().divideBy(E*2);return new D(M.subtract(z),M.add(z))},_update:function(u){var p=this._map;if(p){var b=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(u),M=this._pxBoundsToTileRange(E),z=M.getCenter(),X=[],ue=this.options.keepBuffer,ge=new D(M.getBottomLeft().subtract([ue,-ue]),M.getTopRight().add([ue,-ue]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Le=this._tiles[Ee].coords;(Le.z!==this._tileZoom||!ge.contains(new ie(Le.x,Le.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(u,b);return}for(var Be=M.min.y;Be<=M.max.y;Be++)for(var et=M.min.x;et<=M.max.x;et++){var fn=new ie(et,Be);if(fn.z=this._tileZoom,!!this._isValidTile(fn)){var Gt=this._tiles[this._tileCoordsToKey(fn)];Gt?Gt.current=!0:X.push(fn)}}if(X.sort(function(ft,mt){return ft.distanceTo(z)-mt.distanceTo(z)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fn=document.createDocumentFragment();for(et=0;et<X.length;et++)this._addTile(X[et],Fn);this._level.el.appendChild(Fn)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var b=this._globalTileRange;if(!p.wrapLng&&(u.x<b.min.x||u.x>b.max.x)||!p.wrapLat&&(u.y<b.min.y||u.y>b.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(u);return fe(this.options.bounds).overlaps(E)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,b=this.getTileSize(),E=u.scaleBy(b),M=E.add(b),z=p.unproject(E,u.z),X=p.unproject(M,u.z);return[z,X]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),b=new I(p[0],p[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),b=new ie(+p[0],+p[1]);return b.z=+p[2],b},_removeTile:function(u){var p=this._tiles[u];p&&(Ct(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Xe(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=v,u.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Rt(u,this.options.opacity)},_addTile:function(u,p){var b=this._getTilePos(u),E=this._tileCoordsToKey(u),M=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(M),this.createTile.length<2&&G(l(this._tileReady,this,u,null,M)),$t(M,b),this._tiles[E]={el:M,coords:u,current:!0},p.appendChild(M),this.fire("tileloadstart",{tile:M,coords:u})},_tileReady:function(u,p,b){p&&this.fire("tileerror",{error:p,tile:b,coords:u});var E=this._tileCoordsToKey(u);b=this._tiles[E],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Rt(b.el,0),q(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),p||(Xe(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new ie(this._wrapX?y(u.x,this._wrapX):u.x,this._wrapY?y(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new D(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Vd(u){return new As(u)}var xr=As.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=N(this,p),p.detectRetina&&ze.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var b=document.createElement("img");return qe(b,"load",l(this._tileOnLoad,this,p,b)),qe(b,"error",l(this._tileOnError,this,p,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(u),b},getTileUrl:function(u){var p={r:ze.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=b),p["-y"]=b}return A(this._url,s(p,this.options))},_tileOnLoad:function(u,p){ze.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,b){var E=this.options.errorTileUrl;E&&p.getAttribute("src")!==E&&(p.src=E),u(b,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,b=this.options.zoomReverse,E=this.options.zoomOffset;return b&&(u=p-u),u+E},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=v,p.onerror=v,!p.complete)){p.src=F;var b=this._tiles[u].coords;Ct(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:b})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",F),As.prototype._removeTile.call(this,u)},_tileReady:function(u,p,b){if(!(!this._map||b&&b.getAttribute("src")===F))return As.prototype._tileReady.call(this,u,p,b)}});function Xn(u,p){return new xr(u,p)}var Ra=xr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var b=s({},this.defaultWmsParams);for(var E in p)E in this.options||(b[E]=p[E]);p=N(this,p);var M=p.detectRetina&&ze.retina?2:1,z=this.getTileSize();b.width=z.x*M,b.height=z.y*M,this.wmsParams=b},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,xr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),b=this._crs,E=te(b.project(p[0]),b.project(p[1])),M=E.min,z=E.max,X=(this._wmsVersion>=1.3&&this._crs===bu?[M.y,M.x,z.y,z.x]:[M.x,M.y,z.x,z.y]).join(","),ue=xr.prototype.getTileUrl.call(this,u);return ue+T(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function Jn(u,p){return new Ra(u,p)}xr.WMS=Ra,Xn.wms=Jn;var Ln=gi.extend({options:{padding:.1},initialize:function(u){N(this,u),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var b=this._map.getZoomScale(p,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,p),z=E.multiplyBy(-b).add(M).subtract(this._map._getNewPixelOrigin(u,p));ze.any3d?Yi(this._container,z,b):$t(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),b=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new D(b,b.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Do=Ln.extend({options:{tolerance:0},getEvents:function(){var u=Ln.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");qe(u,"mousemove",this._onMouseMove,this),qe(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qe(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Ct(this._container),bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var u=this._bounds,p=this._container,b=u.getSize(),E=ze.retina?2:1;$t(p,u.min),p.width=E*b.x,p.height=E*b.y,p.style.width=b.x+"px",p.style.height=b.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[f(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,b=p.next,E=p.prev;b?b.prev=E:this._drawLast=E,E?E.next=b:this._drawFirst=b,delete u._order,delete this._layers[f(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),b=[],E,M;for(M=0;M<p.length;M++){if(E=Number(p[M]),isNaN(E))return;b.push(E)}u.options._dashArray=b}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var b=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)u=E.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var b,E,M,z,X=u._parts,ue=X.length,ge=this._ctx;if(ue){for(ge.beginPath(),b=0;b<ue;b++){for(E=0,M=X[b].length;E<M;E++)z=X[b][E],ge[E?"lineTo":"moveTo"](z.x,z.y);p&&ge.closePath()}this._fillStroke(ge,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,b=this._ctx,E=Math.max(Math.round(u._radius),1),M=(Math.max(Math.round(u._radiusY),1)||E)/E;M!==1&&(b.save(),b.scale(1,M)),b.beginPath(),b.arc(p.x,p.y/M,E,0,Math.PI*2,!1),M!==1&&b.restore(),this._fillStroke(b,u)}},_fillStroke:function(u,p){var b=p.options;b.fill&&(u.globalAlpha=b.fillOpacity,u.fillStyle=b.fillColor||b.color,u.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=b.opacity,u.lineWidth=b.weight,u.strokeStyle=b.color,u.lineCap=b.lineCap,u.lineJoin=b.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),b,E,M=this._drawFirst;M;M=M.next)b=M.layer,b.options.interactive&&b._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(b))&&(E=b);this._fireEvent(E?[E]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(zt(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var b,E,M=this._drawFirst;M;M=M.next)b=M.layer,b.options.interactive&&b._containsPoint(p)&&(E=b);E!==this._hoveredLayer&&(this._handleMouseOut(u),E&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([E],u,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,b){this._map._fireDOMEvent(p,b||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var b=p.next,E=p.prev;if(b)b.prev=E;else return;E?E.next=b:b&&(this._drawFirst=b),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var b=p.next,E=p.prev;if(E)E.next=b;else return;b?b.prev=E:E&&(this._drawLast=E),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function Da(u){return ze.canvas?new Do(u):null}var _r=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xu={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=_r("shape");Xe(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=_r("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;Ct(p),u.removeInteractiveTarget(p),delete this._layers[f(u)]},_updateStyle:function(u){var p=u._stroke,b=u._fill,E=u.options,M=u._container;M.stroked=!!E.stroke,M.filled=!!E.fill,E.stroke?(p||(p=u._stroke=_r("stroke")),M.appendChild(p),p.weight=E.weight+"px",p.color=E.color,p.opacity=E.opacity,E.dashArray?p.dashStyle=$(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=E.lineCap.replace("butt","flat"),p.joinstyle=E.lineJoin):p&&(M.removeChild(p),u._stroke=null),E.fill?(b||(b=u._fill=_r("fill")),M.appendChild(b),b.color=E.fillColor||E.color,b.opacity=E.fillOpacity):b&&(M.removeChild(b),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),b=Math.round(u._radius),E=Math.round(u._radiusY||b);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+b+","+E+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){hn(u._container)},_bringToBack:function(u){Vr(u._container)}},Di=ze.vml?_r:Ke,Ls=Ln.extend({_initContainer:function(){this._container=Di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ct(this._container),bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var u=this._bounds,p=u.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,b.setAttribute("width",p.x),b.setAttribute("height",p.y)),$t(b,u.min),b.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Di("path");u.options.className&&Xe(p,u.options.className),u.options.interactive&&Xe(p,"leaflet-interactive"),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Ct(u._path),u.removeInteractiveTarget(u._path),delete this._layers[f(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,b=u.options;p&&(b.stroke?(p.setAttribute("stroke",b.color),p.setAttribute("stroke-opacity",b.opacity),p.setAttribute("stroke-width",b.weight),p.setAttribute("stroke-linecap",b.lineCap),p.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?p.setAttribute("stroke-dasharray",b.dashArray):p.removeAttribute("stroke-dasharray"),b.dashOffset?p.setAttribute("stroke-dashoffset",b.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),b.fill?(p.setAttribute("fill",b.fillColor||b.color),p.setAttribute("fill-opacity",b.fillOpacity),p.setAttribute("fill-rule",b.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,Oe(u._parts,p))},_updateCircle:function(u){var p=u._point,b=Math.max(Math.round(u._radius),1),E=Math.max(Math.round(u._radiusY),1)||b,M="a"+b+","+E+" 0 1,0 ",z=u._empty()?"M0 0":"M"+(p.x-b)+","+p.y+M+b*2+",0 "+M+-b*2+",0 ";this._setPath(u,z)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){hn(u._path)},_bringToBack:function(u){Vr(u._path)}});ze.vml&&Ls.include(xu);function za(u){return ze.svg||ze.vml?new Ls(u):null}lt.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&Da(u)||za(u)}});var Gr=Ns.extend({initialize:function(u,p){Ns.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=fe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function jm(u,p){return new Gr(u,p)}Ls.create=Di,Ls.pointsToPath=Oe,er.geometryToLayer=vn,er.coordsToLatLng=Lo,er.coordsToLatLngs=Aa,er.latLngToCoords=Mo,er.latLngsToCoords=La,er.getFeature=yr,er.asFeature=Po,lt.mergeOptions({boxZoom:!0});var Mn=Mi.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vs(),So(),this._startPoint=this._map.mouseEventToContainerPoint(u),qe(document,{contextmenu:pr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),Xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new D(this._point,this._startPoint),b=p.getSize();$t(this._box,p.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Ct(this._box),zt(this._container,"leaflet-crosshair")),Ai(),xa(),bt(document,{contextmenu:pr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",Mn),lt.mergeOptions({doubleClickZoom:!0});var zo=Mi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,b=p.getZoom(),E=p.options.zoomDelta,M=u.originalEvent.shiftKey?b-E:b+E;p.options.doubleClickZoom==="center"?p.setZoom(M):p.setZoomAround(u.containerPoint,M)}});lt.addInitHook("addHandler","doubleClickZoom",zo),lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zi=Mi.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new gr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zt(this._map._container,"leaflet-grab"),zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=fe(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),b=this._initialWorldOffset,E=this._draggable._newPos.x,M=(E-p+b)%u+p-b,z=(E+p+b)%u-p-b,X=Math.abs(M+b)<Math.abs(z+b)?M:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(u){var p=this._map,b=p.options,E=!b.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),E)p.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,X=b.easeLinearity,ue=M.multiplyBy(X/z),ge=ue.distanceTo([0,0]),Ee=Math.min(b.inertiaMaxSpeed,ge),Le=ue.multiplyBy(Ee/ge),Be=Ee/(b.inertiaDeceleration*X),et=Le.multiplyBy(-Be/2).round();!et.x&&!et.y?p.fire("moveend"):(et=p._limitOffset(et,p.options.maxBounds),G(function(){p.panBy(et,{duration:Be,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});lt.addInitHook("addHandler","dragging",zi),lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _u=Mi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),qe(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,b=u.scrollTop||p.scrollTop,E=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(E,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},b=this.keyCodes,E,M;for(E=0,M=b.left.length;E<M;E++)p[b.left[E]]=[-1*u,0];for(E=0,M=b.right.length;E<M;E++)p[b.right[E]]=[u,0];for(E=0,M=b.down.length;E<M;E++)p[b.down[E]]=[0,u];for(E=0,M=b.up.length;E<M;E++)p[b.up[E]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},b=this.keyCodes,E,M;for(E=0,M=b.zoomIn.length;E<M;E++)p[b.zoomIn[E]]=u;for(E=0,M=b.zoomOut.length;E<M;E++)p[b.zoomOut[E]]=-u},_addHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,b=this._map,E;if(p in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(E=this._panKeys[p],u.shiftKey&&(E=B(E).multiplyBy(3)),b.options.maxBounds&&(E=b._limitOffset(B(E),b.options.maxBounds)),b.options.worldCopyJump){var M=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(E)));b.panTo(M)}else b.panBy(E)}else if(p in this._zoomKeys)b.setZoom(b.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;pr(u)}}});lt.addInitHook("addHandler","keyboard",_u),lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ia=Mi.extend({addHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=Sn(u),b=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var E=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),E),pr(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),b=this._map.options.zoomSnap||0;u._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,z=b?Math.ceil(M/b)*b:M,X=u._limitZoom(p+(this._delta>0?z:-z))-p;this._delta=0,this._startTime=null,X&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+X):u.setZoomAround(this._lastMousePos,p+X))}});lt.addInitHook("addHandler","scrollWheelZoom",Ia);var Kr=600;lt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Io=Mi.extend({addHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new ie(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(qe(document,"touchend",qt),qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),Kr),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){bt(document,"touchend",qt),bt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new ie(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var b=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});b._simulated=!0,p.target.dispatchEvent(b)}});lt.addInitHook("addHandler","tapHold",Io),lt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var wu=Mi.extend({addHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var b=p.mouseEventToContainerPoint(u.touches[0]),E=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(b.add(E)._divideBy(2))),this._startDist=b.distanceTo(E),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),qt(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,b=p.mouseEventToContainerPoint(u.touches[0]),E=p.mouseEventToContainerPoint(u.touches[1]),M=b.distanceTo(E)/this._startDist;if(this._zoom=p.getScaleZoom(M,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&M<1||this._zoom>p.getMaxZoom()&&M>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var z=b._add(E)._divideBy(2)._subtract(this._centerPoint);if(M===1&&z.x===0&&z.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var X=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(X,this,!0),qt(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});lt.addInitHook("addHandler","touchZoom",wu),lt.BoxZoom=Mn,lt.DoubleClickZoom=zo,lt.Drag=zi,lt.Keyboard=_u,lt.ScrollWheelZoom=Ia,lt.TapHold=Io,lt.TouchZoom=wu,n.Bounds=D,n.Browser=ze,n.CRS=Te,n.Canvas=Do,n.Circle=Ao,n.CircleMarker=js,n.Class=K,n.Control=Un,n.DivIcon=Fd,n.DivOverlay=bn,n.DomEvent=jo,n.DomUtil=_s,n.Draggable=gr,n.Evented=Y,n.FeatureGroup=Pi,n.GeoJSON=er,n.GridLayer=As,n.Handler=Mi,n.Icon=Oi,n.ImageOverlay=ks,n.LatLng=le,n.LatLngBounds=I,n.Layer=gi,n.LayerGroup=Es,n.LineUtil=xm,n.Map=lt,n.Marker=$a,n.Mixin=gm,n.Path=Ri,n.Point=ie,n.PolyUtil=yu,n.Polygon=Ns,n.Polyline=Qi,n.Popup=Pa,n.PosAnimation=ws,n.Projection=Md,n.Rectangle=Gr,n.Renderer=Ln,n.SVG=Ls,n.SVGOverlay=Ro,n.TileLayer=xr,n.Tooltip=Oa,n.Transformation=J,n.Util=de,n.VideoOverlay=br,n.bind=l,n.bounds=te,n.canvas=Da,n.circle=zd,n.circleMarker=Dd,n.control=Ji,n.divIcon=Em,n.extend=s,n.featureGroup=Od,n.geoJSON=Oo,n.geoJson=Ma,n.gridLayer=Vd,n.icon=Na,n.imageOverlay=Id,n.latLng=ve,n.latLngBounds=fe,n.layerGroup=_m,n.map=du,n.marker=Rd,n.point=B,n.polygon=Sm,n.polyline=wm,n.popup=Ud,n.rectangle=jm,n.setOptions=N,n.stamp=f,n.svg=za,n.svgOverlay=Bd,n.tileLayer=Xn,n.tooltip=Cm,n.transformation=se,n.version=i,n.videoOverlay=$s;var Su=window.L;n.noConflict=function(){return window.L=Su,this},window.L=n}))})(mc,mc.exports)),mc.exports}var Wl=u1();const Pt=oa(Wl);function Qf(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function em(e,t){return t==null?function(i,s){const a=j.useRef(void 0);return a.current||(a.current=e(i,s)),a}:function(i,s){const a=j.useRef(void 0);a.current||(a.current=e(i,s));const l=j.useRef(i),{instance:d}=a.current;return j.useEffect(function(){l.current!==i&&(t(d,i,l.current),l.current=i)},[d,i,t]),a}}function EC(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function jC(e){return function(n){const i=Xf(),s=e(Jf(n,i),i);return SC(i.map,n.attribution),l1(s.current,n.eventHandlers),EC(s.current,i),s}}function KO(e,t){const n=j.useRef(void 0);j.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function WO(e){return function(n){const i=Xf(),s=e(Jf(n,i),i);return l1(s.current,n.eventHandlers),EC(s.current,i),KO(s.current,n),s}}function YO(e,t){const n=em(e,t),i=jC(n);return CC(i)}function NC(e,t){const n=em(e),i=qO(n,t);return HO(i)}function XO(e,t){const n=em(e,t),i=WO(n);return CC(i)}function JO(e,t){const n=em(e,t),i=jC(n);return ZO(i)}function QO(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function eR(){return Xf().map}function tR({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:a,placeholder:l,style:d,whenReady:f,zoom:m,...y},v){const[_]=j.useState({className:s,id:a,style:d}),[w,C]=j.useState(null),N=j.useRef(void 0);j.useImperativeHandle(v,()=>w?.map??null,[w]);const T=j.useCallback(A=>{if(A!==null&&!N.current){const $=new Wl.Map(A,y);N.current=$,n!=null&&m!=null?$.setView(n,m):e!=null&&$.fitBounds(e,t),f!=null&&$.whenReady(f),C(FO($))}},[]);j.useEffect(()=>()=>{w?.map.remove()},[w]);const k=w?Ti.createElement(o1,{value:w},i):l??null;return Ti.createElement("div",{..._,ref:T},k)}const nR=j.forwardRef(tR),TC=YO(function({position:t,...n},i){const s=new Wl.Marker(t,n);return Qf(s,VO(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),tm=NC(function(t,n){const i=new Wl.Popup(t,n.overlayContainer);return Qf(i,n)},function(t,n,{position:i},s){j.useEffect(function(){const{instance:l}=t;function d(m){m.popup===l&&(l.update(),s(!0))}function f(m){m.popup===l&&s(!1)}return n.map.on({popupopen:d,popupclose:f}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:d,popupclose:f}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),iR=JO(function({url:t,...n},i){const s=new Wl.TileLayer(t,Jf(n,i));return Qf(s,i)},function(t,n,i){QO(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),rR=NC(function(t,n){const i=new Wl.Tooltip(t,n.overlayContainer);return Qf(i,n)},function(t,n,{position:i},s){j.useEffect(function(){const l=n.overlayContainer;if(l==null)return;const{instance:d}=t,f=y=>{y.tooltip===d&&(i!=null&&d.setLatLng(i),d.update(),s(!0))},m=y=>{y.tooltip===d&&s(!1)};return l.on({tooltipopen:f,tooltipclose:m}),l.bindTooltip(d),function(){l.off({tooltipopen:f,tooltipclose:m}),l._map!=null&&l.unbindTooltip()}},[t,n,s,i])});L.Icon.Glyph=L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"",prefix:"",glyph:"home",glyphColor:"white",glyphSize:"11px",glyphAnchor:[0,0]},createIcon:function(){var e=document.createElement("div"),t=this.options;return t.glyph&&e.appendChild(this._createGlyph()),e.style.position="relative",this._setIconStyles(e,t.className),e},_createGlyph:function(){var e,t,n=this.options;n.prefix?n.prefix==="fab"||n.prefix==="fal"||n.prefix==="far"||n.prefix==="fas"?e="fa-"+n.glyph:n.glyph.slice(0,n.prefix.length+1)===n.prefix+"-"?e=n.glyph:e=n.prefix+"-"+n.glyph:(e="",t=n.glyph);var i=L.DomUtil.create("span",n.prefix+" "+e);return i.style.position="absolute",i.style.fontSize=n.glyphSize,i.style.color=n.glyphColor,i.style.width=n.iconSize[0]+"px",i.style.lineHeight=n.iconSize[1]+"px",i.style.textAlign="center",i.style.left=n.glyphAnchor[0]+"px",i.style.top=n.glyphAnchor[1]+"px",i.style.pointerEvents="none",i.style.display="inline-block",t&&(i.innerHTML=t),i},_setIconStyles:function(e,t){if(t==="shadow")return L.Icon.prototype._setIconStyles.call(this,e,t);var n=this.options,i=L.point(n.iconSize),s=L.point(n.iconAnchor);!s&&i&&(s=i.divideBy(2,!0)),e.className="leaflet-marker-icon leaflet-glyph-icon "+t;var a=this._getIconUrl("icon");a&&(e.style.backgroundImage="url('"+a+"')"),n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.bgSize&&(e.style.backgroundSize=n.bgSize.x+"px "+n.bgSize.y+"px"),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px");try{const l=e.querySelectorAll&&e.querySelectorAll("span");l&&l.length&&l.forEach(d=>{d.style.fontSize=n.glyphSize||d.style.fontSize||"",d.style.color=n.glyphColor||d.style.color||"",n.iconSize&&(d.style.width=n.iconSize[0]+"px",d.style.lineHeight=n.iconSize[1]+"px"),n.glyphAnchor&&n.glyphAnchor.length>=2&&(d.style.left=n.glyphAnchor[0]+"px",d.style.top=n.glyphAnchor[1]+"px")})}catch(l){console.warn("Failed to update glyph span styles in-place",l)}}});L.icon.glyph=function(e){return new L.Icon.Glyph(e)};L.Icon.Glyph.prototype.options.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=";function c1({glyph:e,glyphColor:t="white",bgColor:n="white",glyphSize:i="8px",iconUrl:s="/Mapassets/icons/glyph-marker-icon-blue.svg",className:a,iconSize:l,prefix:d,glyphAnchor:f,isActive:m}){let y=i;if(typeof y=="number")y=`${y.toFixed(2)}px`;else if(typeof y=="string"&&!y.endsWith("px")){const k=parseFloat(y.replace(/[^0-9.-]/g,""));Number.isFinite(k)?y=`${k.toFixed(2)}px`:y=`${y}px`}else y||(y="8px");const v=l||[25,41],_=Math.round(v[0]*(41/25)),w=Math.round(v[1]*(41/41)),C=Math.round(_*12/41),N=w,T=Ul();return Pt.icon.glyph({iconUrl:s||`${T}assets/icons/glyph-marker-icon-blue.svg`,iconSize:v,iconAnchor:[Math.round(v[0]/2),v[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:`${T}assets/icons/marker-shadow.png`,shadowSize:[_,w],shadowAnchor:[C,N],prefix:d||"",glyph:e||"",glyphColor:t||"white",bgColor:n,glyphSize:y,glyphAnchor:f||[0,0],className:m?`${a} marker-active`:a||""})}function kC(e,t,n=!1,i=!1){const s=ai.MARKER_SIZING;if(!s||!s.ENABLED||i&&!s.APPLY_IN_ADMIN)return t||(s?s.DEFAULT_SIZE:[25,41]);const a=s.ZOOM_BUCKETS.find(d=>e>=d.minZoom&&e<=d.maxZoom);let l=a?a.size:s.DEFAULT_SIZE;try{if(Array.isArray(t)&&t.length===2&&s.DEFAULT_SIZE&&Array.isArray(s.DEFAULT_SIZE)){const d=s.DEFAULT_SIZE[1]||s.DEFAULT_SIZE[0]||41,m=(t[1]||t[0]||d)/d;l=[Math.round(l[0]*m),Math.round(l[1]*m)]}}catch(d){console.warn("[markerSizing] failed to compute scaled size from baseSize",d)}return n&&s.SPECIAL_MARKER_MULTIPLIER&&(l=[Math.round(l[0]*s.SPECIAL_MARKER_MULTIPLIER),Math.round(l[1]*s.SPECIAL_MARKER_MULTIPLIER)]),l}function sR(e){const t=ai.MARKER_SIZING;if(!t.ENABLED)return"default";const n=t.ZOOM_BUCKETS.find(i=>e>=i.minZoom&&e<=i.maxZoom);return n?`${n.minZoom}-${n.maxZoom}`:"default"}function $l(e,t=[25,41]){if(!Array.isArray(e)||e.length===0)return t;const n=e[0]||t[0],i=e[1]||Math.round(n*(t[1]/t[0]));return[n,i]}function d1(e="md"){const t={sm:"(max-width: 639px)",md:"(max-width: 767px)",lg:"(max-width: 1023px)",xl:"(max-width: 1279px)","2xl":"(max-width: 1535px)"},n=t[e]||t.md,[i,s]=j.useState(()=>typeof window<"u"?window.matchMedia(n).matches:!1);return j.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia(n),l=()=>s(a.matches);return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[n]),i}const h1=j.createContext({});function f1(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const m1=typeof window<"u",$C=m1?j.useLayoutEffect:j.useEffect,nm=j.createContext(null);function p1(e,t){e.indexOf(t)===-1&&e.push(t)}function g1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const fs=(e,t,n)=>n>t?t:n<e?e:n;let y1=()=>{};const ms={},AC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function LC(e){return typeof e=="object"&&e!==null}const MC=e=>/^0[^.\s]+$/u.test(e);function v1(e){let t;return()=>(t===void 0&&(t=e()),t)}const qi=e=>e,aR=(e,t)=>n=>t(e(n)),dd=(...e)=>e.reduce(aR),Fc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class b1{constructor(){this.subscriptions=[]}add(t){return p1(this.subscriptions,t),()=>g1(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ar=e=>e*1e3,Zi=e=>e/1e3;function PC(e,t){return t?e*(1e3/t):0}const OC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,oR=1e-7,lR=12;function uR(e,t,n,i,s){let a,l,d=0;do l=t+(n-t)/2,a=OC(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>oR&&++d<lR);return l}function hd(e,t,n,i){if(e===t&&n===i)return qi;const s=a=>uR(a,0,1,e,n);return a=>a===0||a===1?a:OC(s(a),t,i)}const RC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DC=e=>t=>1-e(1-t),zC=hd(.33,1.53,.69,.99),x1=DC(zC),IC=RC(x1),BC=e=>(e*=2)<1?.5*x1(e):.5*(2-Math.pow(2,-10*(e-1))),_1=e=>1-Math.sin(Math.acos(e)),UC=DC(_1),FC=RC(_1),cR=hd(.42,0,1,1),dR=hd(0,0,.58,1),VC=hd(.42,0,.58,1),hR=e=>Array.isArray(e)&&typeof e[0]!="number",HC=e=>Array.isArray(e)&&typeof e[0]=="number",fR={linear:qi,easeIn:cR,easeInOut:VC,easeOut:dR,circIn:_1,circInOut:FC,circOut:UC,backIn:x1,backInOut:IC,backOut:zC,anticipate:BC},mR=e=>typeof e=="string",pw=e=>{if(HC(e)){y1(e.length===4);const[t,n,i,s]=e;return hd(t,n,i,s)}else if(mR(e))return fR[e];return e},ef=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pR(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(m.schedule(y),e()),y(d)}const m={schedule:(y,v=!1,_=!1)=>{const C=_&&s?n:i;return v&&l.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(d=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,m.process(y))}};return m}const gR=40;function ZC(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ef.reduce(($,O)=>($[O]=pR(a),$),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:y,update:v,preRender:_,render:w,postRender:C}=l,N=()=>{const $=ms.useManualTiming?s.timestamp:performance.now();n=!1,ms.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min($-s.timestamp,gR),1)),s.timestamp=$,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),y.process(s),v.process(s),_.process(s),w.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(N))},T=()=>{n=!0,i=!0,s.isProcessing||e(N)};return{schedule:ef.reduce(($,O)=>{const F=l[O];return $[O]=(R,Z=!1,W=!1)=>(n||T(),F.schedule(R,Z,W)),$},{}),cancel:$=>{for(let O=0;O<ef.length;O++)l[ef[O]].cancel($)},state:s,steps:l}}const{schedule:Bt,cancel:sa,state:$n,steps:Kg}=ZC(typeof requestAnimationFrame<"u"?requestAnimationFrame:qi,!0);let cf;function yR(){cf=void 0}const oi={now:()=>(cf===void 0&&oi.set($n.isProcessing||ms.useManualTiming?$n.timestamp:performance.now()),cf),set:e=>{cf=e,queueMicrotask(yR)}},qC=e=>t=>typeof t=="string"&&t.startsWith(e),w1=qC("--"),vR=qC("var(--"),S1=e=>vR(e)?bR.test(e.split("/*")[0].trim()):!1,bR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vc={...Yl,transform:e=>fs(0,1,e)},tf={...Yl,default:1},Cc=e=>Math.round(e*1e5)/1e5,C1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xR(e){return e==null}const _R=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E1=(e,t)=>n=>!!(typeof n=="string"&&_R.test(n)&&n.startsWith(e)||t&&!xR(n)&&Object.prototype.hasOwnProperty.call(n,t)),GC=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,d]=i.match(C1);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},wR=e=>fs(0,255,e),Wg={...Yl,transform:e=>Math.round(wR(e))},oo={test:E1("rgb","red"),parse:GC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Wg.transform(e)+", "+Wg.transform(t)+", "+Wg.transform(n)+", "+Cc(Vc.transform(i))+")"};function SR(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Q0={test:E1("#"),parse:SR,transform:oo.transform},fd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ta=fd("deg"),Lr=fd("%"),Ge=fd("px"),CR=fd("vh"),ER=fd("vw"),gw={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(e*100)},xl={test:E1("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Lr.transform(Cc(t))+", "+Lr.transform(Cc(n))+", "+Cc(Vc.transform(i))+")"},cn={test:e=>oo.test(e)||Q0.test(e)||xl.test(e),parse:e=>oo.test(e)?oo.parse(e):xl.test(e)?xl.parse(e):Q0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oo.transform(e):xl.transform(e),getAnimatableNone:e=>{const t=cn.parse(e);return t.alpha=0,cn.transform(t)}},jR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NR(e){return isNaN(e)&&typeof e=="string"&&(e.match(C1)?.length||0)+(e.match(jR)?.length||0)>0}const KC="number",WC="color",TR="var",kR="var(",yw="${}",$R=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const d=t.replace($R,f=>(cn.test(f)?(i.color.push(a),s.push(WC),n.push(cn.parse(f))):f.startsWith(kR)?(i.var.push(a),s.push(TR),n.push(f)):(i.number.push(a),s.push(KC),n.push(parseFloat(f))),++a,yw)).split(yw);return{values:n,split:d,indexes:i,types:s}}function YC(e){return Hc(e).values}function XC(e){const{split:t,types:n}=Hc(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const d=n[l];d===KC?a+=Cc(s[l]):d===WC?a+=cn.transform(s[l]):a+=s[l]}return a}}const AR=e=>typeof e=="number"?0:cn.test(e)?cn.getAnimatableNone(e):e;function LR(e){const t=YC(e);return XC(e)(t.map(AR))}const aa={test:NR,parse:YC,createTransformer:XC,getAnimatableNone:LR};function Yg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MR({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=Yg(f,d,e+1/3),a=Yg(f,d,e),l=Yg(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function kf(e,t){return n=>n>0?t:e}const Ht=(e,t,n)=>e+(t-e)*n,Xg=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},PR=[Q0,oo,xl],OR=e=>PR.find(t=>t.test(e));function vw(e){const t=OR(e);if(!t)return!1;let n=t.parse(e);return t===xl&&(n=MR(n)),n}const bw=(e,t)=>{const n=vw(e),i=vw(t);if(!n||!i)return kf(e,t);const s={...n};return a=>(s.red=Xg(n.red,i.red,a),s.green=Xg(n.green,i.green,a),s.blue=Xg(n.blue,i.blue,a),s.alpha=Ht(n.alpha,i.alpha,a),oo.transform(s))},ey=new Set(["none","hidden"]);function RR(e,t){return ey.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function DR(e,t){return n=>Ht(e,t,n)}function j1(e){return typeof e=="number"?DR:typeof e=="string"?S1(e)?kf:cn.test(e)?bw:BR:Array.isArray(e)?JC:typeof e=="object"?cn.test(e)?bw:zR:kf}function JC(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>j1(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function zR(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=j1(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function IR(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],d=e.values[l]??0;n[s]=d,i[a]++}return n}const BR=(e,t)=>{const n=aa.createTransformer(t),i=Hc(e),s=Hc(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?ey.has(e)&&!s.values.length||ey.has(t)&&!i.values.length?RR(e,t):dd(JC(IR(i,s),s.values),n):kf(e,t)};function QC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ht(e,t,n):j1(e)(e,t)}const UR=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Bt.update(t,n),stop:()=>sa(t),now:()=>$n.isProcessing?$n.timestamp:oi.now()}},e4=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},$f=2e4;function N1(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<$f;)t+=n,i=e.next(t);return t>=$f?1/0:t}function FR(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(N1(i),$f);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Zi(s)}}const VR=5;function t4(e,t,n){const i=Math.max(t-VR,0);return PC(n-e(i),t-i)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jg=.001;function HR({duration:e=Yt.duration,bounce:t=Yt.bounce,velocity:n=Yt.velocity,mass:i=Yt.mass}){let s,a,l=1-t;l=fs(Yt.minDamping,Yt.maxDamping,l),e=fs(Yt.minDuration,Yt.maxDuration,Zi(e)),l<1?(s=m=>{const y=m*l,v=y*e,_=y-n,w=ty(m,l),C=Math.exp(-v);return Jg-_/w*C},a=m=>{const v=m*l*e,_=v*n+n,w=Math.pow(l,2)*Math.pow(m,2)*e,C=Math.exp(-v),N=ty(Math.pow(m,2),l);return(-s(m)+Jg>0?-1:1)*((_-w)*C)/N}):(s=m=>{const y=Math.exp(-m*e),v=(m-n)*e+1;return-Jg+y*v},a=m=>{const y=Math.exp(-m*e),v=(n-m)*(e*e);return y*v});const d=5/e,f=qR(s,a,d);if(e=Ar(e),isNaN(f))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:e};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:e}}}const ZR=12;function qR(e,t,n){let i=n;for(let s=1;s<ZR;s++)i=i-e(i)/t(i);return i}function ty(e,t){return e*Math.sqrt(1-t*t)}const GR=["duration","bounce"],KR=["stiffness","damping","mass"];function xw(e,t){return t.some(n=>e[n]!==void 0)}function WR(e){let t={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...e};if(!xw(e,KR)&&xw(e,GR))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*fs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Yt.mass,stiffness:s,damping:a}}else{const n=HR(e);t={...t,...n,mass:Yt.mass},t.isResolvedFromDuration=!0}return t}function Af(e=Yt.visualDuration,t=Yt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:y,duration:v,velocity:_,isResolvedFromDuration:w}=WR({...n,velocity:-Zi(n.velocity||0)}),C=_||0,N=m/(2*Math.sqrt(f*y)),T=l-a,k=Zi(Math.sqrt(f/y)),A=Math.abs(T)<5;i||(i=A?Yt.restSpeed.granular:Yt.restSpeed.default),s||(s=A?Yt.restDelta.granular:Yt.restDelta.default);let $;if(N<1){const F=ty(k,N);$=R=>{const Z=Math.exp(-N*k*R);return l-Z*((C+N*k*T)/F*Math.sin(F*R)+T*Math.cos(F*R))}}else if(N===1)$=F=>l-Math.exp(-k*F)*(T+(C+k*T)*F);else{const F=k*Math.sqrt(N*N-1);$=R=>{const Z=Math.exp(-N*k*R),W=Math.min(F*R,300);return l-Z*((C+N*k*T)*Math.sinh(W)+F*T*Math.cosh(W))/F}}const O={calculatedDuration:w&&v||null,next:F=>{const R=$(F);if(w)d.done=F>=v;else{let Z=F===0?C:0;N<1&&(Z=F===0?Ar(C):t4($,F,R));const W=Math.abs(Z)<=i,V=Math.abs(l-R)<=s;d.done=W&&V}return d.value=d.done?l:R,d},toString:()=>{const F=Math.min(N1(O),$f),R=e4(Z=>O.next(F*Z).value,F,30);return F+"ms "+R},toTransition:()=>{}};return O}Af.applyToOptions=e=>{const t=FR(e,100,Af);return e.ease=t.ease,e.duration=Ar(t.duration),e.type="keyframes",e};function ny({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:m=.5,restSpeed:y}){const v=e[0],_={done:!1,value:v},w=W=>d!==void 0&&W<d||f!==void 0&&W>f,C=W=>d===void 0?f:f===void 0||Math.abs(d-W)<Math.abs(f-W)?d:f;let N=n*t;const T=v+N,k=l===void 0?T:l(T);k!==T&&(N=k-v);const A=W=>-N*Math.exp(-W/i),$=W=>k+A(W),O=W=>{const V=A(W),Q=$(W);_.done=Math.abs(V)<=m,_.value=_.done?k:Q};let F,R;const Z=W=>{w(_.value)&&(F=W,R=Af({keyframes:[_.value,C(_.value)],velocity:t4($,W,_.value),damping:s,stiffness:a,restDelta:m,restSpeed:y}))};return Z(0),{calculatedDuration:null,next:W=>{let V=!1;return!R&&F===void 0&&(V=!0,O(W),Z(W)),F!==void 0&&W>=F?R.next(W-F):(!V&&O(W),_)}}}function YR(e,t,n){const i=[],s=n||ms.mix||QC,a=e.length-1;for(let l=0;l<a;l++){let d=s(e[l],e[l+1]);if(t){const f=Array.isArray(t)?t[l]||qi:t;d=dd(f,d)}i.push(d)}return i}function XR(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(y1(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=YR(t,i,s),f=d.length,m=y=>{if(l&&y<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const _=Fc(e[v],e[v+1],y);return d[v](_)};return n?y=>m(fs(e[0],e[a-1],y)):m}function JR(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Fc(0,t,i);e.push(Ht(n,1,s))}}function QR(e){const t=[0];return JR(t,e.length-1),t}function eD(e,t){return e.map(n=>n*t)}function tD(e,t){return e.map(()=>t||VC).splice(0,e.length-1)}function Ec({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=hR(i)?i.map(pw):pw(i),a={done:!1,value:t[0]},l=eD(n&&n.length===t.length?n:QR(t),e),d=XR(l,t,{ease:Array.isArray(s)?s:tD(t,s)});return{calculatedDuration:e,next:f=>(a.value=d(f),a.done=f>=e,a)}}const nD=e=>e!==null;function T1(e,{repeat:t,repeatType:n="loop"},i,s=1){const a=e.filter(nD),d=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!d||i===void 0?a[d]:i}const iD={decay:ny,inertia:ny,tween:Ec,keyframes:Ec,spring:Af};function n4(e){typeof e.type=="string"&&(e.type=iD[e.type])}class k1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const rD=e=>e/100;class $1 extends k1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==oi.now()&&this.tick(oi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;n4(t);const{type:n=Ec,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:d}=t;const f=n||Ec;f!==Ec&&typeof d[0]!="number"&&(this.mixKeyframes=dd(rD,QC(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=N1(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:_,repeatDelay:w,type:C,onUpdate:N,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let $=this.currentTime,O=i;if(v){const W=Math.min(this.currentTime,s)/d;let V=Math.floor(W),Q=W%1;!Q&&W>=1&&(Q=1),Q===1&&V--,V=Math.min(V,v+1),!!(V%2)&&(_==="reverse"?(Q=1-Q,w&&(Q-=w/d)):_==="mirror"&&(O=l)),$=fs(0,1,Q)*d}const F=A?{done:!1,value:y[0]}:O.next($);a&&(F.value=a(F.value));let{done:R}=F;!A&&f!==null&&(R=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return Z&&C!==ny&&(F.value=T1(y,this.options,T,this.speed)),N&&N(F.value),Z&&this.finish(),F}then(t,n){return this.finished.then(t,n)}get duration(){return Zi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Zi(t)}get time(){return Zi(this.currentTime)}set time(t){t=Ar(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(oi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=UR,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(oi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function sD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lo=e=>e*180/Math.PI,iy=e=>{const t=lo(Math.atan2(e[1],e[0]));return ry(t)},aD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iy,rotateZ:iy,skewX:e=>lo(Math.atan(e[1])),skewY:e=>lo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ry=e=>(e=e%360,e<0&&(e+=360),e),_w=iy,ww=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Sw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),oD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ww,scaleY:Sw,scale:e=>(ww(e)+Sw(e))/2,rotateX:e=>ry(lo(Math.atan2(e[6],e[5]))),rotateY:e=>ry(lo(Math.atan2(-e[2],e[0]))),rotateZ:_w,rotate:_w,skewX:e=>lo(Math.atan(e[4])),skewY:e=>lo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sy(e){return e.includes("scale")?1:0}function ay(e,t){if(!e||e==="none")return sy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=oD,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=aD,s=d}if(!s)return sy(t);const a=i[t],l=s[1].split(",").map(uD);return typeof a=="function"?a(l):l[a]}const lD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ay(n,t)};function uD(e){return parseFloat(e.trim())}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jl=new Set(Xl),Cw=e=>e===Yl||e===Ge,cD=new Set(["x","y","z"]),dD=Xl.filter(e=>!cD.has(e));function hD(e){const t=[];return dD.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ay(t,"x"),y:(e,{transform:t})=>ay(t,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const fo=new Set;let oy=!1,ly=!1,uy=!1;function i4(){if(ly){const e=Array.from(fo).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=hD(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ly=!1,oy=!1,fo.forEach(e=>e.complete(uy)),fo.clear()}function r4(){fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ly=!0)})}function fD(){uy=!0,r4(),i4(),uy=!1}class A1{constructor(t,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),oy||(oy=!0,Bt.read(r4),Bt.resolveKeyframes(i4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const a=s?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const d=i.readValue(n,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}sD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mD=e=>e.startsWith("--");function pD(e,t,n){mD(t)?e.style.setProperty(t,n):e.style[t]=n}const gD=v1(()=>window.ScrollTimeline!==void 0),yD={};function vD(e,t){const n=v1(e);return()=>yD[t]??n()}const s4=vD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Ew={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pc([0,.65,.55,1]),circOut:pc([.55,0,1,.45]),backIn:pc([.31,.01,.66,-.59]),backOut:pc([.33,1.53,.69,.99])};function a4(e,t){if(e)return typeof e=="function"?s4()?e4(e,t):"ease-out":HC(e)?pc(e):Array.isArray(e)?e.map(n=>a4(n,t)||Ew.easeOut):Ew[e]}function bD(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:f}={},m=void 0){const y={[t]:n};f&&(y.offset=f);const v=a4(d,s);Array.isArray(v)&&(y.easing=v);const _={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),e.animate(y,_)}function o4(e){return typeof e=="function"&&"applyToOptions"in e}function xD({type:e,...t}){return o4(e)&&s4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _D extends k1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,y1(typeof t.type!="string");const m=xD(t);this.animation=bD(n,i,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=T1(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):pD(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Zi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Zi(t)}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ar(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&gD()?(this.animation.timeline=t,qi):n(this)}}const l4={anticipate:BC,backInOut:IC,circInOut:FC};function wD(e){return e in l4}function SD(e){typeof e.ease=="string"&&wD(e.ease)&&(e.ease=l4[e.ease])}const jw=10;class CD extends _D{constructor(t){SD(t),n4(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new $1({...l,autoplay:!1}),f=Ar(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-jw).value,d.sample(f).value,jw),d.stop()}}const Nw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(aa.test(e)||e==="0")&&!e.startsWith("url("));function ED(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function jD(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=Nw(s,t),d=Nw(a,t);return!l||!d?!1:ED(e)||(n==="spring"||o4(n))&&i}function cy(e){e.duration=0,e.type="keyframes"}const ND=new Set(["opacity","clipPath","filter","transform"]),TD=v1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kD(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return TD()&&n&&ND.has(n)&&(n!=="transform"||!m)&&!f&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const $D=40;class AD extends k1{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:f,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=oi.now();const _={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:m,element:y,...v},w=y?.KeyframeResolver||A1;this.keyframeResolver=new w(d,(C,N,T)=>this.onKeyframesResolved(C,N,_,!T),f,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:f,isHandoff:m,onUpdate:y}=i;this.resolvedAt=oi.now(),jD(t,a,l,d)||((ms.instantAnimations||!f)&&y?.(T1(t,i,n)),t[0]=t[t.length-1],cy(i),i.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$D?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},w=!m&&kD(_)?new CD({..._,element:_.motionValue.owner.current}):new $1(_);w.finished.then(()=>this.notifyFinished()).catch(qi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),fD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const LD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MD(e){const t=LD.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function u4(e,t,n=1){const[i,s]=MD(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return AC(l)?parseFloat(l):l}return S1(s)?u4(s,t,n+1):s}function L1(e,t){return e?.[t]??e?.default??e}const c4=new Set(["width","height","top","left","right","bottom",...Xl]),PD={test:e=>e==="auto",parse:e=>e},d4=e=>t=>t.test(e),h4=[Yl,Ge,Lr,ta,ER,CR,PD],Tw=e=>h4.find(d4(e));function OD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||MC(e):!0}const RD=new Set(["brightness","contrast","saturate","opacity"]);function DD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(C1)||[];if(!i)return e;const s=n.replace(i,"");let a=RD.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const zD=/\b([a-z-]*)\(.*?\)/gu,dy={...aa,getAnimatableNone:e=>{const t=e.match(zD);return t?t.map(DD).join(" "):e}},kw={...Yl,transform:Math.round},ID={rotate:ta,rotateX:ta,rotateY:ta,rotateZ:ta,scale:tf,scaleX:tf,scaleY:tf,scaleZ:tf,skew:ta,skewX:ta,skewY:ta,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:Vc,originX:gw,originY:gw,originZ:Ge},M1={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...ID,zIndex:kw,fillOpacity:Vc,strokeOpacity:Vc,numOctaves:kw},BD={...M1,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:dy,WebkitFilter:dy},f4=e=>BD[e];function m4(e,t){let n=f4(e);return n!==dy&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const UD=new Set(["auto","none","0"]);function FD(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!UD.has(a)&&Hc(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=m4(n,s)}class VD extends A1{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),S1(m))){const y=u4(m,n.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!c4.has(i)||t.length!==2)return;const[s,a]=t,l=Tw(s),d=Tw(a);if(l!==d)if(Cw(l)&&Cw(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else ho[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||OD(t[s]))&&i.push(s);i.length&&FD(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function HD(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const p4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function g4(e){return LC(e)&&"offsetHeight"in e}const $w=30,ZD=e=>!isNaN(parseFloat(e));class qD{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=oi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=oi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new b1);const i=this.events[t].add(n);return t==="change"?()=>{i(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$w)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$w);return PC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(e,t){return new qD(e,t)}const{schedule:P1}=ZC(queueMicrotask,!1),ar={x:!1,y:!1};function y4(){return ar.x||ar.y}function GD(e){return e==="x"||e==="y"?ar[e]?null:(ar[e]=!0,()=>{ar[e]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}function v4(e,t){const n=HD(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Aw(e){return!(e.pointerType==="touch"||y4())}function KD(e,t,n={}){const[i,s,a]=v4(e,n),l=d=>{if(!Aw(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const y=v=>{Aw(v)&&(m(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,s)};return i.forEach(d=>{d.addEventListener("pointerenter",l,s)}),a}const b4=(e,t)=>t?e===t?!0:b4(e,t.parentElement):!1,O1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,WD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YD(e){return WD.has(e.tagName)||e.tabIndex!==-1}const df=new WeakSet;function Lw(e){return t=>{t.key==="Enter"&&e(t)}}function Qg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const XD=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Lw(()=>{if(df.has(n))return;Qg(n,"down");const s=Lw(()=>{Qg(n,"up")}),a=()=>Qg(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Mw(e){return O1(e)&&!y4()}function JD(e,t,n={}){const[i,s,a]=v4(e,n),l=d=>{const f=d.currentTarget;if(!Mw(d))return;df.add(f);const m=t(f,d),y=(w,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),df.has(f)&&df.delete(f),Mw(w)&&typeof m=="function"&&m(w,{success:C})},v=w=>{y(w,f===window||f===document||n.useGlobalTarget||b4(f,w.target))},_=w=>{y(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",_,s)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,s),g4(d)&&(d.addEventListener("focus",m=>XD(m,s)),!YD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function x4(e){return LC(e)&&"ownerSVGElement"in e}function QD(e){return x4(e)&&e.tagName==="svg"}const zn=e=>!!(e&&e.getVelocity),ez=[...h4,cn,aa],tz=e=>ez.find(d4(e)),R1=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Pw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nz(...e){return t=>{let n=!1;const i=e.map(s=>{const a=Pw(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():Pw(e[s],null)}}}}function iz(...e){return j.useCallback(nz(...e),e)}class rz extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=g4(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sz({children:e,isPresent:t,anchorX:n,root:i}){const s=j.useId(),a=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=j.useContext(R1),f=iz(a,e?.ref);return j.useInsertionEffect(()=>{const{width:m,height:y,top:v,left:_,right:w}=l.current;if(t||!a.current||!m||!y)return;const C=n==="left"?`left: ${_}`:`right: ${w}`;a.current.dataset.motionPopId=s;const N=document.createElement("style");d&&(N.nonce=d);const T=i??document.head;return T.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(N)&&T.removeChild(N)}},[t]),h.jsx(rz,{isPresent:t,childRef:a,sizeRef:l,children:j.cloneElement(e,{ref:f})})}const az=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:d,root:f})=>{const m=f1(oz),y=j.useId();let v=!0,_=j.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:n,custom:s,onExitComplete:w=>{m.set(w,!0);for(const C of m.values())if(!C)return;i&&i()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[n,m,i]);return a&&v&&(_={..._}),j.useMemo(()=>{m.forEach((w,C)=>m.set(C,!1))},[n]),j.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),l==="popLayout"&&(e=h.jsx(sz,{isPresent:n,anchorX:d,root:f,children:e})),h.jsx(nm.Provider,{value:_,children:e})};function oz(){return new Map}function _4(e=!0){const t=j.useContext(nm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=j.useId();j.useEffect(()=>{if(e)return s(a)},[e]);const l=j.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const nf=e=>e.key||"";function Ow(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const lz=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:f})=>{const[m,y]=_4(l),v=j.useMemo(()=>Ow(e),[e]),_=l&&!m?[]:v.map(nf),w=j.useRef(!0),C=j.useRef(v),N=f1(()=>new Map),[T,k]=j.useState(v),[A,$]=j.useState(v);$C(()=>{w.current=!1,C.current=v;for(let R=0;R<A.length;R++){const Z=nf(A[R]);_.includes(Z)?N.delete(Z):N.get(Z)!==!0&&N.set(Z,!1)}},[A,_.length,_.join("-")]);const O=[];if(v!==T){let R=[...v];for(let Z=0;Z<A.length;Z++){const W=A[Z],V=nf(W);_.includes(V)||(R.splice(Z,0,W),O.push(W))}return a==="wait"&&O.length&&(R=O),$(Ow(R)),k(v),null}const{forceRender:F}=j.useContext(h1);return h.jsx(h.Fragment,{children:A.map(R=>{const Z=nf(R),W=l&&!m?!1:v===A||_.includes(Z),V=()=>{if(N.has(Z))N.set(Z,!0);else return;let Q=!0;N.forEach(G=>{G||(Q=!1)}),Q&&(F?.(),$(C.current),l&&y?.(),i&&i())};return h.jsx(az,{isPresent:W,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:f,onExitComplete:W?void 0:V,anchorX:d,children:R},Z)})})},w4=j.createContext({strict:!1}),Rw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const e in Rw)Bl[e]={isEnabled:t=>Rw[e].some(n=>!!t[n])};function uz(e){for(const t in e)Bl[t]={...Bl[t],...e[t]}}const cz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cz.has(e)}let S4=e=>!Lf(e);function dz(e){typeof e=="function"&&(S4=t=>t.startsWith("on")?!Lf(t):e(t))}try{dz(require("@emotion/is-prop-valid").default)}catch{}function hz(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(S4(s)||n===!0&&Lf(s)||!t&&!Lf(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const im=j.createContext({});function rm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zc(e){return typeof e=="string"||Array.isArray(e)}const D1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z1=["initial",...D1];function sm(e){return rm(e.animate)||z1.some(t=>Zc(e[t]))}function C4(e){return!!(sm(e)||e.variants)}function fz(e,t){if(sm(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Zc(n)?n:void 0,animate:Zc(i)?i:void 0}}return e.inherit!==!1?t:{}}function mz(e){const{initial:t,animate:n}=fz(e,j.useContext(im));return j.useMemo(()=>({initial:t,animate:n}),[Dw(t),Dw(n)])}function Dw(e){return Array.isArray(e)?e.join(" "):e}const qc={};function pz(e){for(const t in e)qc[t]=e[t],w1(t)&&(qc[t].isCSSVariable=!0)}function E4(e,{layout:t,layoutId:n}){return Jl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qc[e]||e==="opacity")}const gz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yz=Xl.length;function vz(e,t,n){let i="",s=!0;for(let a=0;a<yz;a++){const l=Xl[a],d=e[l];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(l.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=p4(d,M1[l]);if(!f){s=!1;const y=gz[l]||l;i+=`${y}(${m}) `}n&&(t[l]=m)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function I1(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,d=!1;for(const f in t){const m=t[f];if(Jl.has(f)){l=!0;continue}else if(w1(f)){s[f]=m;continue}else{const y=p4(m,M1[f]);f.startsWith("origin")?(d=!0,a[f]=y):i[f]=y}}if(t.transform||(l||n?i.transform=vz(t,e.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:y=0}=a;i.transformOrigin=`${f} ${m} ${y}`}}const B1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j4(e,t,n){for(const i in t)!zn(t[i])&&!E4(i,n)&&(e[i]=t[i])}function bz({transformTemplate:e},t){return j.useMemo(()=>{const n=B1();return I1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xz(e,t){const n=e.style||{},i={};return j4(i,n,e),Object.assign(i,bz(e,t)),i}function _z(e,t){const n={},i=xz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const wz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sz={offset:"strokeDashoffset",array:"strokeDasharray"};function Cz(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?wz:Sz;e[a.offset]=Ge.transform(-i);const l=Ge.transform(t),d=Ge.transform(n);e[a.array]=`${l} ${d}`}function N4(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...d},f,m,y){if(I1(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:_}=e;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&Cz(v,s,a,l,!1)}const T4=()=>({...B1(),attrs:{}}),k4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ez(e,t,n,i){const s=j.useMemo(()=>{const a=T4();return N4(a,t,k4(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};j4(a,e.style,e),s.style={...a,...s.style}}return s}const jz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U1(e){return typeof e!="string"||e.includes("-")?!1:!!(jz.indexOf(e)>-1||/[A-Z]/u.test(e))}function Nz(e,t,n,{latestValues:i},s,a=!1){const d=(U1(e)?Ez:_z)(t,i,s,e),f=hz(t,typeof e=="string",a),m=e!==j.Fragment?{...f,...d,ref:n}:{},{children:y}=t,v=j.useMemo(()=>zn(y)?y.get():y,[y]);return j.createElement(e,{...m,children:v})}function zw(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function F1(e,t,n,i){if(typeof t=="function"){const[s,a]=zw(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=zw(i);t=t(n!==void 0?n:e.custom,s,a)}return t}function hf(e){return zn(e)?e.get():e}function Tz({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:kz(n,i,s,e),renderState:t()}}function kz(e,t,n,i){const s={},a=i(e,{});for(const _ in a)s[_]=hf(a[_]);let{initial:l,animate:d}=e;const f=sm(e),m=C4(e);t&&m&&!f&&e.inherit!==!1&&(l===void 0&&(l=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const v=y?d:l;if(v&&typeof v!="boolean"&&!rm(v)){const _=Array.isArray(v)?v:[v];for(let w=0;w<_.length;w++){const C=F1(e,_[w]);if(C){const{transitionEnd:N,transition:T,...k}=C;for(const A in k){let $=k[A];if(Array.isArray($)){const O=y?$.length-1:0;$=$[O]}$!==null&&(s[A]=$)}for(const A in N)s[A]=N[A]}}}return s}const $4=e=>(t,n)=>{const i=j.useContext(im),s=j.useContext(nm),a=()=>Tz(e,t,i,s);return n?a():f1(a)};function V1(e,t,n){const{style:i}=e,s={};for(const a in i)(zn(i[a])||t.style&&zn(t.style[a])||E4(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const $z=$4({scrapeMotionValuesFromProps:V1,createRenderState:B1});function A4(e,t,n){const i=V1(e,t,n);for(const s in e)if(zn(e[s])||zn(t[s])){const a=Xl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const Az=$4({scrapeMotionValuesFromProps:A4,createRenderState:T4}),Lz=Symbol.for("motionComponentSymbol");function _l(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mz(e,t,n){return j.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):_l(n)&&(n.current=i))},[t])}const H1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pz="framerAppearId",L4="data-"+H1(Pz),M4=j.createContext({});function Oz(e,t,n,i,s){const{visualElement:a}=j.useContext(im),l=j.useContext(w4),d=j.useContext(nm),f=j.useContext(R1).reducedMotion,m=j.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=m.current,v=j.useContext(M4);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&Rz(m.current,n,s,v);const _=j.useRef(!1);j.useInsertionEffect(()=>{y&&_.current&&y.update(n,d)});const w=n[L4],C=j.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return $C(()=>{y&&(_.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),C.current=!1),y.enteringChildren=void 0)}),y}function Rz(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:P4(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||d&&_l(d),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:m})}function P4(e){if(e)return e.options.allowProjection!==!1?e.projection:P4(e.parent)}function e0(e,{forwardMotionProps:t=!1}={},n,i){n&&uz(n);const s=U1(e)?Az:$z;function a(d,f){let m;const y={...j.useContext(R1),...d,layoutId:Dz(d)},{isStatic:v}=y,_=mz(d),w=s(d,v);if(!v&&m1){zz();const C=Iz(y);m=C.MeasureLayout,_.visualElement=Oz(e,w,y,i,C.ProjectionNode)}return h.jsxs(im.Provider,{value:_,children:[m&&_.visualElement?h.jsx(m,{visualElement:_.visualElement,...y}):null,Nz(e,d,Mz(w,_.visualElement,f),w,v,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=j.forwardRef(a);return l[Lz]=e,l}function Dz({layoutId:e}){const t=j.useContext(h1).id;return t&&e!==void 0?t+"-"+e:e}function zz(e,t){j.useContext(w4).strict}function Iz(e){const{drag:t,layout:n}=Bl;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Bz(e,t){if(typeof Proxy>"u")return e0;const n=new Map,i=(a,l)=>e0(a,l,e,t),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,e0(l,void 0,e,t)),n.get(l))})}function O4({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function Uz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Fz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function t0(e){return e===void 0||e===1}function hy({scale:e,scaleX:t,scaleY:n}){return!t0(e)||!t0(t)||!t0(n)}function no(e){return hy(e)||R4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function R4(e){return Iw(e.x)||Iw(e.y)}function Iw(e){return e&&e!=="0%"}function Mf(e,t,n){const i=e-n,s=t*i;return n+s}function Bw(e,t,n,i,s){return s!==void 0&&(e=Mf(e,s,i)),Mf(e,n,i)+t}function fy(e,t=0,n=1,i,s){e.min=Bw(e.min,t,n,i,s),e.max=Bw(e.max,t,n,i,s)}function D4(e,{x:t,y:n}){fy(e.x,t.translate,t.scale,t.originPoint),fy(e.y,n.translate,n.scale,n.originPoint)}const Uw=.999999999999,Fw=1.0000000000001;function Vz(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let d=0;d<s;d++){a=n[d],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sl(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,D4(e,l)),i&&no(a.latestValues)&&Sl(e,a.latestValues))}t.x<Fw&&t.x>Uw&&(t.x=1),t.y<Fw&&t.y>Uw&&(t.y=1)}function wl(e,t){e.min=e.min+t,e.max=e.max+t}function Vw(e,t,n,i,s=.5){const a=Ht(e.min,e.max,s);fy(e,t,n,a,i)}function Sl(e,t){Vw(e.x,t.x,t.scaleX,t.scale,t.originX),Vw(e.y,t.y,t.scaleY,t.scale,t.originY)}function z4(e,t){return O4(Fz(e.getBoundingClientRect(),t))}function Hz(e,t,n){const i=z4(e,n),{scroll:s}=t;return s&&(wl(i.x,s.offset.x),wl(i.y,s.offset.y)),i}const Hw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:Hw(),y:Hw()}),Zw=()=>({min:0,max:0}),en=()=>({x:Zw(),y:Zw()}),my={current:null},I4={current:!1};function Zz(){if(I4.current=!0,!!m1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>my.current=e.matches;e.addEventListener("change",t),t()}else my.current=!1}const qz=new WeakMap;function Gz(e,t,n){for(const i in t){const s=t[i],a=n[i];if(zn(s))e.addValue(i,s);else if(zn(a))e.addValue(i,Il(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Il(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const qw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kz{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=oi.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Bt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=sm(n),this.isVariantNode=C4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const w=v[_];f[_]!==void 0&&zn(w)&&w.set(f[_])}}mount(t){this.current=t,qz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),I4.current||Zz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Jl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bl){const n=Bl[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<qw.length;i++){const s=qw[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=Gz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Il(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(AC(i)||MC(i))?i=parseFloat(i):!tz(i)&&aa.test(n)&&(i=m4(t,n)),this.setBaseTarget(t,zn(i)?i.get():i)),zn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=F1(this.props,n,this.presenceContext?.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!zn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new b1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){P1.render(this.render)}}class B4 extends Kz{constructor(){super(...arguments),this.KeyframeResolver=VD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function U4(e,{style:t,vars:n},i,s){const a=e.style;let l;for(l in t)a[l]=t[l];s?.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function Wz(e){return window.getComputedStyle(e)}class Yz extends B4{constructor(){super(...arguments),this.type="html",this.renderInstance=U4}readValueFromInstance(t,n){if(Jl.has(n))return this.projection?.isProjecting?sy(n):lD(t,n);{const i=Wz(t),s=(w1(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return z4(t,n)}build(t,n,i){I1(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return V1(t,n,i)}}const F4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xz(e,t,n,i){U4(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(F4.has(s)?s:H1(s),t.attrs[s])}class Jz extends B4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jl.has(n)){const i=f4(n);return i&&i.default||0}return n=F4.has(n)?n:H1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return A4(t,n,i)}build(t,n,i){N4(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){Xz(t,n,i,s)}mount(t){this.isSVGTag=k4(t.tagName),super.mount(t)}}const Qz=(e,t)=>U1(e)?new Jz(t):new Yz(t,{allowProjection:e!==j.Fragment});function Al(e,t,n){const i=e.getProps();return F1(i,t,n!==void 0?n:i.custom,e)}const py=e=>Array.isArray(e);function eI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Il(n))}function tI(e){return py(e)?e[e.length-1]||0:e}function nI(e,t){const n=Al(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const d=tI(a[l]);eI(e,l,d)}}function iI(e){return!!(zn(e)&&e.add)}function gy(e,t){const n=e.getValue("willChange");if(iI(n))return n.add(t);if(!n&&ms.WillChange){const i=new ms.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function V4(e){return e.props[L4]}const rI=e=>e!==null;function sI(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(rI),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[a]}const aI={type:"spring",stiffness:500,damping:25,restSpeed:10},oI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lI={type:"keyframes",duration:.8},uI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cI=(e,{keyframes:t})=>t.length>2?lI:Jl.has(e)?e.startsWith("scale")?oI(t[1]):aI:uI;function dI({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const Z1=(e,t,n,i={},s,a)=>l=>{const d=L1(i,e)||{},f=d.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ar(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:_=>{t.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:a?void 0:s};dI(d)||Object.assign(y,cI(e,y)),y.duration&&(y.duration=Ar(y.duration)),y.repeatDelay&&(y.repeatDelay=Ar(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(cy(y),y.delay===0&&(v=!0)),(ms.instantAnimations||ms.skipAnimations)&&(v=!0,cy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!a&&t.get()!==void 0){const _=sI(y.keyframes,d);if(_!==void 0){Bt.update(()=>{y.onUpdate(_),y.onComplete()});return}}return d.isSync?new $1(y):new AD(y)};function hI({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function H4(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...d}=t;i&&(a=i);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const y in d){const v=e.getValue(y,e.latestValues[y]??null),_=d[y];if(_===void 0||m&&hI(m,y))continue;const w={delay:n,...L1(a||{},y)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===C&&!w.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const k=V4(e);if(k){const A=window.MotionHandoffAnimation(k,y,Bt);A!==null&&(w.startTime=A,N=!0)}}gy(e,y),v.start(Z1(y,v,_,e.shouldReduceMotion&&c4.has(y)?{type:!1}:w,e,N));const T=v.animation;T&&f.push(T)}return l&&Promise.all(f).then(()=>{Bt.update(()=>{l&&nI(e,l)})}),f}function Z4(e,t,n,i=0,s=1){const a=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),l=e.size,d=(l-1)*i;return typeof n=="function"?n(a,l):s===1?a*i:d-a*i}function yy(e,t,n={}){const i=Al(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(H4(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=s;return fI(e,t,f,m,y,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,m]=d==="beforeChildren"?[a,l]:[l,a];return f().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function fI(e,t,n=0,i=0,s=0,a=1,l){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(yy(f,t,{...l,delay:n+(typeof i=="function"?0:i)+Z4(e.variantChildren,f,i,s,a)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function mI(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>yy(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=yy(e,t,n);else{const s=typeof t=="function"?Al(e,t,n.custom):t;i=Promise.all(H4(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function q4(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const pI=z1.length;function G4(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?G4(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<pI;n++){const i=z1[n],s=e.props[i];(Zc(s)||s===!1)&&(t[i]=s)}return t}const gI=[...D1].reverse(),yI=D1.length;function vI(e){return t=>Promise.all(t.map(({animation:n,options:i})=>mI(e,n,i)))}function bI(e){let t=vI(e),n=Gw(),i=!0;const s=f=>(m,y)=>{const v=Al(e,y,f==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:w,...C}=v;m={...m,...C,...w}}return m};function a(f){t=f(e)}function l(f){const{props:m}=e,y=G4(e.parent)||{},v=[],_=new Set;let w={},C=1/0;for(let T=0;T<yI;T++){const k=gI[T],A=n[k],$=m[k]!==void 0?m[k]:y[k],O=Zc($),F=k===f?A.isActive:null;F===!1&&(C=T);let R=$===y[k]&&$!==m[k]&&O;if(R&&i&&e.manuallyAnimateOnMount&&(R=!1),A.protectedKeys={...w},!A.isActive&&F===null||!$&&!A.prevProp||rm($)||typeof $=="boolean")continue;const Z=xI(A.prevProp,$);let W=Z||k===f&&A.isActive&&!R&&O||T>C&&O,V=!1;const Q=Array.isArray($)?$:[$];let G=Q.reduce(s(k),{});F===!1&&(G={});const{prevResolvedValues:q={}}=A,de={...q,...G},K=Y=>{W=!0,_.has(Y)&&(V=!0,_.delete(Y)),A.needsAnimating[Y]=!0;const ie=e.getValue(Y);ie&&(ie.liveStyle=!1)};for(const Y in de){const ie=G[Y],ke=q[Y];if(w.hasOwnProperty(Y))continue;let B=!1;py(ie)&&py(ke)?B=!q4(ie,ke):B=ie!==ke,B?ie!=null?K(Y):_.add(Y):ie!==void 0&&_.has(Y)?K(Y):A.protectedKeys[Y]=!0}A.prevProp=$,A.prevResolvedValues=G,A.isActive&&(w={...w,...G}),i&&e.blockInitialAnimation&&(W=!1);const ne=R&&Z;W&&(!ne||V)&&v.push(...Q.map(Y=>{const ie={type:k};if(typeof Y=="string"&&i&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:ke}=e,B=Al(ke,Y);if(ke.enteringChildren&&B){const{delayChildren:D}=B.transition||{};ie.delay=Z4(ke.enteringChildren,e,D)}}return{animation:Y,options:ie}}))}if(_.size){const T={};if(typeof m.initial!="boolean"){const k=Al(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(T.transition=k.transition)}_.forEach(k=>{const A=e.getBaseTarget(k),$=e.getValue(k);$&&($.liveStyle=!0),T[k]=A??null}),v.push({animation:T})}let N=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(N=!1),i=!1,N?t(v):Promise.resolve()}function d(f,m){if(n[f].isActive===m)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(f,m)),n[f].isActive=m;const y=l(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Gw()}}}function xI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!q4(t,e):!1}function Qa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gw(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class da{constructor(t){this.isMounted=!1,this.node=t}update(){}}class _I extends da{constructor(t){super(t),t.animationState||(t.animationState=bI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wI=0;class SI extends da{constructor(){super(...arguments),this.id=wI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const CI={animation:{Feature:_I},exit:{Feature:SI}};function Gc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function md(e){return{point:{x:e.pageX,y:e.pageY}}}const EI=e=>t=>O1(t)&&e(t,md(t));function jc(e,t,n,i){return Gc(e,t,EI(n),i)}const K4=1e-4,jI=1-K4,NI=1+K4,W4=.01,TI=0-W4,kI=0+W4;function Hn(e){return e.max-e.min}function $I(e,t,n){return Math.abs(e-t)<=n}function Kw(e,t,n,i=.5){e.origin=i,e.originPoint=Ht(t.min,t.max,e.origin),e.scale=Hn(n)/Hn(t),e.translate=Ht(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jI&&e.scale<=NI||isNaN(e.scale))&&(e.scale=1),(e.translate>=TI&&e.translate<=kI||isNaN(e.translate))&&(e.translate=0)}function Nc(e,t,n,i){Kw(e.x,t.x,n.x,i?i.originX:void 0),Kw(e.y,t.y,n.y,i?i.originY:void 0)}function Ww(e,t,n){e.min=n.min+t.min,e.max=e.min+Hn(t)}function AI(e,t,n){Ww(e.x,t.x,n.x),Ww(e.y,t.y,n.y)}function Yw(e,t,n){e.min=t.min-n.min,e.max=e.min+Hn(t)}function Tc(e,t,n){Yw(e.x,t.x,n.x),Yw(e.y,t.y,n.y)}function Vi(e){return[e("x"),e("y")]}const Y4=({current:e})=>e?e.ownerDocument.defaultView:null,Xw=(e,t)=>Math.abs(e-t);function LI(e,t){const n=Xw(e.x,t.x),i=Xw(e.y,t.y);return Math.sqrt(n**2+i**2)}class X4{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=i0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=LI(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:N}=_,{timestamp:T}=$n;this.history.push({...N,timestamp:T});const{onStart:k,onMove:A}=this.handlers;w||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=n0(w,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:C,onSessionEnd:N,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=i0(_.type==="pointercancel"?this.lastMoveEventInfo:n0(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(_,k),N&&N(_,k)},!O1(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=md(t),f=n0(d,this.transformPagePoint),{point:m}=f,{timestamp:y}=$n;this.history=[{...m,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,i0(f,this.history)),this.removeListeners=dd(jc(this.contextWindow,"pointermove",this.handlePointerMove),jc(this.contextWindow,"pointerup",this.handlePointerUp),jc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sa(this.updatePoint)}}function n0(e,t){return t?{point:t(e.point)}:e}function Jw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i0({point:e},t){return{point:e,delta:Jw(e,J4(t)),offset:Jw(e,MI(t)),velocity:PI(t,.1)}}function MI(e){return e[0]}function J4(e){return e[e.length-1]}function PI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=J4(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Ar(t)));)n--;if(!i)return{x:0,y:0};const a=Zi(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function OI(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ht(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ht(n,e,i.max):Math.min(e,n)),e}function Qw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function RI(e,{top:t,left:n,bottom:i,right:s}){return{x:Qw(e.x,n,s),y:Qw(e.y,t,i)}}function e3(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function DI(e,t){return{x:e3(e.x,t.x),y:e3(e.y,t.y)}}function zI(e,t){let n=.5;const i=Hn(e),s=Hn(t);return s>i?n=Fc(t.min,t.max-i,e.min):i>s&&(n=Fc(e.min,e.max-s,t.min)),fs(0,1,n)}function II(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const vy=.35;function BI(e=vy){return e===!1?e=0:e===!0&&(e=vy),{x:t3(e,"left","right"),y:t3(e,"top","bottom")}}function t3(e,t,n){return{min:n3(e,t),max:n3(e,n)}}function n3(e,t){return typeof e=="number"?e:e[t]||0}const UI=new WeakMap;class FI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(md(v).point)},l=(v,_)=>{const{drag:w,dragPropagation:C,onDragStart:N}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GD(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(k=>{let A=this.getAxisMotionValue(k).get()||0;if(Lr.test(A)){const{projection:$}=this.visualElement;if($&&$.layout){const O=$.layout.layoutBox[k];O&&(A=Hn(O)*(parseFloat(A)/100))}}this.originPoint[k]=A}),N&&Bt.postRender(()=>N(v,_)),gy(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:N,onDrag:T}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=_;if(C&&this.currentDirection===null){this.currentDirection=VI(k),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),T&&T(v,_)},f=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new X4(t,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Y4(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Bt.postRender(()=>d(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!rf(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=OI(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&_l(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=RI(i.layoutBox,t):this.constraints=!1,this.elastic=BI(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=II(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_l(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Hz(i,s.root,this.visualElement.getTransformPagePoint());let l=DI(s.layout.layoutBox,a);if(n){const d=n(Uz(l));this.hasMutatedConstraints=!!d,d&&(l=O4(d))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Vi(y=>{if(!rf(y,n,this.currentDirection))return;let v=f&&f[y]||{};l&&(v={min:0,max:0});const _=s?200:1e6,w=s?40:1e7,C={type:"inertia",velocity:i?t[y]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return gy(this.visualElement,t),i.start(Z1(t,i,0,n,this.visualElement,!1))}stopAnimation(){Vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Vi(n=>{const{drag:i}=this.getProps();if(!rf(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[n];a.set(t[n]-Ht(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!_l(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vi(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();s[l]=zI({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vi(l=>{if(!rf(l,t,null))return;const d=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];d.set(Ht(f,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;UI.set(this.visualElement,this);const t=this.visualElement.current,n=jc(t,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();_l(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bt.read(i);const l=Gc(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=vy,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function rf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class HI extends da{constructor(t){super(t),this.removeGroupControls=qi,this.removeListeners=qi,this.controls=new FI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qi}unmount(){this.removeGroupControls(),this.removeListeners()}}const i3=e=>(t,n)=>{e&&Bt.postRender(()=>e(t,n))};class ZI extends da{constructor(){super(...arguments),this.removePointerDownListener=qi}onPointerDown(t){this.session=new X4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:i3(t),onStart:i3(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Bt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=jc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const n=r3(e,t.target.x),i=r3(e,t.target.y);return`${n}% ${i}%`}},qI={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=aa.parse(e);if(s.length>5)return i;const a=aa.createTransformer(e),l=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+l]/=d,s[1+l]/=f;const m=Ht(d,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};let r0=!1;class GI extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;pz(KI),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),r0&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,r0=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Bt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),P1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;r0=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Q4(e){const[t,n]=_4(),i=j.useContext(h1);return h.jsx(GI,{...e,layoutGroup:i,switchLayoutGroup:j.useContext(M4),isPresent:t,safeToRemove:n})}const KI={borderRadius:{...cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cc,borderTopRightRadius:cc,borderBottomLeftRadius:cc,borderBottomRightRadius:cc,boxShadow:qI};function WI(e,t,n){const i=zn(e)?e:Il(e);return i.start(Z1("",i,t,n)),i.animation}const YI=(e,t)=>e.depth-t.depth;class XI{constructor(){this.children=[],this.isDirty=!1}add(t){p1(this.children,t),this.isDirty=!0}remove(t){g1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YI),this.isDirty=!1,this.children.forEach(t)}}function JI(e,t){const n=oi.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(sa(i),e(a-t))};return Bt.setup(i,!0),()=>sa(i)}const e6=["TopLeft","TopRight","BottomLeft","BottomRight"],QI=e6.length,s3=e=>typeof e=="string"?parseFloat(e):e,a3=e=>typeof e=="number"||Ge.test(e);function eB(e,t,n,i,s,a){s?(e.opacity=Ht(0,n.opacity??1,tB(i)),e.opacityExit=Ht(t.opacity??1,0,nB(i))):a&&(e.opacity=Ht(t.opacity??1,n.opacity??1,i));for(let l=0;l<QI;l++){const d=`border${e6[l]}Radius`;let f=o3(t,d),m=o3(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||a3(f)===a3(m)?(e[d]=Math.max(Ht(s3(f),s3(m),i),0),(Lr.test(m)||Lr.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Ht(t.rotate||0,n.rotate||0,i))}function o3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tB=t6(0,.5,UC),nB=t6(.5,.95,qi);function t6(e,t,n){return i=>i<e?0:i>t?1:n(Fc(e,t,i))}function l3(e,t){e.min=t.min,e.max=t.max}function Fi(e,t){l3(e.x,t.x),l3(e.y,t.y)}function u3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function c3(e,t,n,i,s){return e-=t,e=Mf(e,1/n,i),s!==void 0&&(e=Mf(e,1/s,i)),e}function iB(e,t=0,n=1,i=.5,s,a=e,l=e){if(Lr.test(t)&&(t=parseFloat(t),t=Ht(l.min,l.max,t/100)-l.min),typeof t!="number")return;let d=Ht(a.min,a.max,i);e===a&&(d-=t),e.min=c3(e.min,t,n,d,s),e.max=c3(e.max,t,n,d,s)}function d3(e,t,[n,i,s],a,l){iB(e,t[n],t[i],t[s],t.scale,a,l)}const rB=["x","scaleX","originX"],sB=["y","scaleY","originY"];function h3(e,t,n,i){d3(e.x,t,rB,n?n.x:void 0,i?i.x:void 0),d3(e.y,t,sB,n?n.y:void 0,i?i.y:void 0)}function f3(e){return e.translate===0&&e.scale===1}function n6(e){return f3(e.x)&&f3(e.y)}function m3(e,t){return e.min===t.min&&e.max===t.max}function aB(e,t){return m3(e.x,t.x)&&m3(e.y,t.y)}function p3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function i6(e,t){return p3(e.x,t.x)&&p3(e.y,t.y)}function g3(e){return Hn(e.x)/Hn(e.y)}function y3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oB{constructor(){this.members=[]}add(t){p1(this.members,t),t.scheduleRender()}remove(t){if(g1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lB(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=n?.z||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:_,skewX:w,skewY:C}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),w&&(i+=`skewX(${w}deg) `),C&&(i+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const s0=["","X","Y","Z"],uB=1e3;let cB=0;function a0(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function r6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=V4(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&r6(i)}function s6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},d=t?.()){this.id=cB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fB),this.nodes.forEach(yB),this.nodes.forEach(vB),this.nodes.forEach(mB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new XI)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new b1),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=x4(l)&&!QD(l),this.instance=l;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let y,v=0;const _=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{v=window.innerWidth}),e(l,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=JI(_,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(x3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||SB,{onLayoutAnimationStart:N,onLayoutAnimationComplete:T}=m.getProps(),k=!this.targetLayout||!i6(this.targetLayout,w),A=!v&&_;if(this.options.layoutRoot||this.resumeFrom||A||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...L1(C,"layout"),onPlay:N,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,A)}else v||x3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gB),this.nodes.forEach(dB),this.nodes.forEach(hB)):this.nodes.forEach(b3),this.clearAllSnapshots();const d=oi.now();$n.delta=fs(0,1e3/60,d-$n.timestamp),$n.timestamp=d,$n.isProcessing=!0,Kg.update.process($n),Kg.preRender.process($n),Kg.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pB),this.sharedNodes.forEach(xB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hn(this.snapshot.measuredBox.x)&&!Hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!n6(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;l&&this.instance&&(d||no(this.latestValues)||y)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),CB(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return en();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EB))){const{scroll:m}=this.root;m&&(wl(d.x,m.offset.x),wl(d.y,m.offset.y))}return d}removeElementScroll(l){const d=en();if(Fi(d,l),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Fi(d,l),wl(d.x,y.offset.x),wl(d.y,y.offset.y))}return d}applyTransform(l,d=!1){const f=en();Fi(f,l);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Sl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),no(y.latestValues)&&Sl(f,y.latestValues)}return no(this.latestValues)&&Sl(f,this.latestValues),f}removeTransform(l){const d=en();Fi(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!no(m.latestValues))continue;hy(m.latestValues)&&m.updateSnapshot();const y=en(),v=m.measurePageBox();Fi(y,v),h3(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return no(this.latestValues)&&h3(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fi(this.target,this.layout.layoutBox),D4(this.target,this.targetDelta)):Fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),Tc(this.relativeTargetOrigin,this.target,_.target),Fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||R4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Fi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;Vz(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=en());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u3(this.prevProjectionDelta.x,this.projectionDelta.x),u3(this.prevProjectionDelta.y,this.projectionDelta.y)),Nc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!y3(this.projectionDelta.x,this.prevProjectionDelta.x)||!y3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(l,d=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},v=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=en(),w=f?f.source:void 0,C=this.layout?this.layout.source:void 0,N=w!==C,T=this.getStack(),k=!T||T.members.length<=1,A=!!(N&&!k&&this.options.crossfade===!0&&!this.path.some(wB));this.animationProgress=0;let $;this.mixTargetDelta=O=>{const F=O/1e3;_3(v.x,l.x,F),_3(v.y,l.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_B(this.relativeTarget,this.relativeTargetOrigin,_,F),$&&aB(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=en()),Fi($,this.relativeTarget)),N&&(this.animationValues=y,eB(y,m,this.latestValues,F,A,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Il(0)),this.currentAnimation=WI(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:y}=l;if(!(!d||!f||!m)){if(this!==l&&this.layout&&m&&a6(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||en();const v=Hn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const _=Hn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+_}Fi(d,f),Sl(d,y),Nc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new oB),this.sharedNodes.get(l).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&a0("z",l,m,this.animationValues);for(let y=0;y<s0.length;y++)a0(`rotate${s0[y]}`,l,m,this.animationValues),a0(`skew${s0[y]}`,l,m,this.animationValues);l.render();for(const y in m)l.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=hf(d?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=hf(d?.pointerEvents)||""),this.hasProjected&&!no(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=lB(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),l.transform=v;const{x:_,y:w}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${w.origin*100}% 0`,m.animationValues?l.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in qc){if(y[C]===void 0)continue;const{correct:N,applyTo:T,isCSSVariable:k}=qc[C],A=v==="none"?y[C]:N(y[C],m);if(T){const $=T.length;for(let O=0;O<$;O++)l[T[O]]=A}else k?this.options.visualElement.renderState.vars[C]=A:l[C]=A}this.options.layoutId&&(l.pointerEvents=m===this?hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(v3),this.root.sharedNodes.clear()}}}function dB(e){e.updateLayout()}function hB(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Vi(y=>{const v=a?t.measuredBox[y]:t.layoutBox[y],_=Hn(v);v.min=n[y].min,v.max=v.min+_}):a6(s,t.layoutBox,n)&&Vi(y=>{const v=a?t.measuredBox[y]:t.layoutBox[y],_=Hn(n[y]);v.max=v.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+_)});const l=Cl();Nc(l,n,t.layoutBox);const d=Cl();a?Nc(d,e.applyTransform(i,!0),t.measuredBox):Nc(d,n,t.layoutBox);const f=!n6(l);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const w=en();Tc(w,t.layoutBox,v.layoutBox);const C=en();Tc(C,n,_.layoutBox),i6(w,C)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function fB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pB(e){e.clearSnapshot()}function v3(e){e.clearMeasurements()}function b3(e){e.isLayoutDirty=!1}function gB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yB(e){e.resolveTargetDelta()}function vB(e){e.calcProjection()}function bB(e){e.resetSkewAndRotation()}function xB(e){e.removeLeadSnapshot()}function _3(e,t,n){e.translate=Ht(t.translate,0,n),e.scale=Ht(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function w3(e,t,n,i){e.min=Ht(t.min,n.min,i),e.max=Ht(t.max,n.max,i)}function _B(e,t,n,i){w3(e.x,t.x,n.x,i),w3(e.y,t.y,n.y,i)}function wB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SB={duration:.45,ease:[.4,0,.1,1]},S3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),C3=S3("applewebkit/")&&!S3("chrome/")?Math.round:qi;function E3(e){e.min=C3(e.min),e.max=C3(e.max)}function CB(e){E3(e.x),E3(e.y)}function a6(e,t,n){return e==="position"||e==="preserve-aspect"&&!$I(g3(t),g3(n),.2)}function EB(e){return e!==e.root&&e.scroll?.wasRoot}const jB=s6({attachResizeListener:(e,t)=>Gc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),o0={current:void 0},o6=s6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!o0.current){const e=new jB({});e.mount(window),e.setOptions({layoutScroll:!0}),o0.current=e}return o0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NB={pan:{Feature:ZI},drag:{Feature:HI,ProjectionNode:o6,MeasureLayout:Q4}};function j3(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Bt.postRender(()=>a(t,md(t)))}class TB extends da{mount(){const{current:t}=this.node;t&&(this.unmount=KD(t,(n,i)=>(j3(this.node,i,"Start"),s=>j3(this.node,s,"End"))))}unmount(){}}class kB extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dd(Gc(this.node.current,"focus",()=>this.onFocus()),Gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N3(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Bt.postRender(()=>a(t,md(t)))}class $B extends da{mount(){const{current:t}=this.node;t&&(this.unmount=JD(t,(n,i)=>(N3(this.node,i,"Start"),(s,{success:a})=>N3(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,l0=new WeakMap,AB=e=>{const t=by.get(e.target);t&&t(e)},LB=e=>{e.forEach(AB)};function MB({root:e,...t}){const n=e||document;l0.has(n)||l0.set(n,{});const i=l0.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(LB,{root:e,...t})),i[s]}function PB(e,t,n){const i=MB(t);return by.set(e,n),i.observe(e),()=>{by.delete(e),i.unobserve(e)}}const OB={some:0,all:1};class RB extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:OB[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),_=m?y:v;_&&_(f)};return PB(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DB(t,n))&&this.startObserver()}unmount(){}}function DB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zB={inView:{Feature:RB},tap:{Feature:$B},focus:{Feature:kB},hover:{Feature:TB}},IB={layout:{ProjectionNode:o6,MeasureLayout:Q4}},BB={...CI,...zB,...NB,...IB},T3=Bz(BB,Qz),l6=({marker:e,onClose:t})=>{const n=eR(),{organizationLogo:i}=ua(),{isFavorite:s,toggleFavorite:a}=sd(),{i18n:l}=dt(),{getCompanyCategories:d}=od(l.language),[f,m]=j.useState([]);return j.useEffect(()=>(n&&n.dragging.disable(),()=>{n&&n.dragging.enable()}),[n]),j.useEffect(()=>{e?.companyId?d(e.companyId).then(m):m([])},[e?.companyId,d]),e?JS.createPortal(h.jsxs(lz,{children:[h.jsx(T3.div,{className:"bottom-sheet-backdrop",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}},"backdrop"),h.jsxs(T3.div,{className:"bottom-sheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.25,onDragEnd:(y,v)=>{v.offset.y>100&&t()},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[h.jsx("div",{className:"handle"}),h.jsxs("div",{className:"content",children:[h.jsx("div",{className:"w-20 h-20 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:h.jsx("img",{src:rd(e.logo,i),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),h.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[h.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&h.jsx(ad,{isFavorite:s(e.companyId),onToggle:()=>a(e.companyId),size:"md"})]}),e.glyph&&h.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Booth ",e.glyph]}),f&&f.length>0&&h.jsx("div",{className:"mb-2 flex flex-wrap gap-1.5",children:f.map(y=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-white rounded",style:{backgroundColor:y.color},title:y.name,children:[h.jsx(_e,{path:y.icon,size:.5}),y.name]},y.id))}),e.website&&h.jsx("div",{className:"text-sm mb-1",children:h.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:e.website})}),e.info&&h.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",children:e.info}),h.jsx("button",{onClick:t,className:"mt-4 w-full bg-gray-200 py-2 rounded-md text-gray-700 font-medium hover:bg-gray-300",children:"Close"})]})]},"sheet")]}),document.body):null},UB=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId;return h.jsxs("div",{className:"flex items-center gap-2 p-1",children:[n&&h.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white rounded-sm border border-gray-200 overflow-hidden",children:h.jsx("img",{src:rd(e.logo,t),alt:"",className:"max-w-[70%] max-h-[70%] object-contain"})}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[e.glyph&&h.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Booth ",e.glyph]}),e.name?h.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}):h.jsx("div",{className:"text-xs font-medium text-gray-500 italic",children:"Unassigned"})]})]})},FB=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId,{isFavorite:i,toggleFavorite:s}=sd(),a=Wk(e),{i18n:l}=dt(),{getCompanyCategories:d}=od(l.language),[f,m]=j.useState([]);return j.useEffect(()=>{e.companyId?d(e.companyId).then(m):m([])},[e.companyId,d]),h.jsx(tm,{closeButton:!0,className:"marker-popup-scrollable",autoPan:!0,maxWidth:320,minWidth:240,children:h.jsx("div",{className:"popup-scroll-container",children:h.jsxs("div",{className:"popup-scroll-content",children:[n&&h.jsx("div",{className:"w-24 h-24 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden flex-shrink-0",children:h.jsx("img",{src:rd(e.logo,t),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?h.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[h.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&h.jsx(ad,{isFavorite:i(e.companyId),onToggle:()=>s(e.companyId),size:"sm"})]}):h.jsx("div",{className:"text-base font-semibold text-gray-500 italic mb-1",children:"Unassigned Booth"}),e.glyph&&h.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Booth ",e.glyph]}),f&&f.length>0&&h.jsx("div",{className:"mb-2 flex flex-wrap gap-1.5",children:f.map(y=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-white rounded",style:{backgroundColor:y.color},title:y.name,children:[h.jsx(_e,{path:y.icon,size:.5}),y.name]},y.id))}),e.website&&h.jsx("div",{className:"text-sm mb-2",children:h.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",style:{wordBreak:"break-all"},children:e.website})}),a&&h.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:a})]})})})},VB=({marker:e,onMoreInfo:t,organizationLogo:n})=>{const i=e.name||e.companyId;return h.jsx(tm,{closeButton:!0,className:"marker-popup",autoPan:!0,children:h.jsxs("div",{className:"p-2 text-center",children:[i&&h.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:h.jsx("img",{src:rd(e.logo,n),alt:"",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?h.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name}):h.jsx("div",{className:"font-semibold text-gray-500 italic text-sm",children:"Unassigned Booth"}),e.glyph&&h.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:["Booth ",e.glyph]}),i&&h.jsx("button",{onClick:t,className:"bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full hover:bg-blue-600",children:"More Info"})]})})},u6=({marker:e,onMoreInfo:t,isMobile:n,organizationLogo:i})=>{const s=e&&(e.glyph!==void 0&&e.glyph!==null&&e.glyph!==""||e.name);return h.jsxs(h.Fragment,{children:[!n&&h.jsxs(h.Fragment,{children:[s&&h.jsx(rR,{direction:"top",offset:[0,-10],opacity:.95,children:h.jsx(UB,{marker:e,organizationLogo:i})}),h.jsx(FB,{marker:e,organizationLogo:i})]}),n&&h.jsx(VB,{marker:e,onMoreInfo:t,organizationLogo:i})]})};function c6({marker:e,subscriptions:t,assignments:n,onAssign:i,onUnassign:s,isLoading:a,onClose:l}){const[d,f]=j.useState(""),m=j.useRef(null),y=n.find(C=>C.marker_id===e.id),v=t.filter(C=>{const N=n.filter($=>$.company_id===C.company_id),T=N.length,k=C.booth_count||1;return!N.some($=>$.marker_id===e.id)&&T<k}).map(C=>{const T=n.filter($=>$.company_id===C.company_id).length,k=C.booth_count||1,A=k-T;return{id:C.company_id,name:C.company?.name||"Unknown Company",logo:C.company?.logo||null,website:C.company?.website||null,assignedBooths:T,totalBooths:k,remainingBooths:A}}).filter(C=>C.name.toLowerCase().includes(d.toLowerCase()));j.useEffect(()=>{m.current&&m.current.focus()},[]);const _=async C=>{await i(e.id,C),l()},w=async()=>{y&&(await s(e.id,y.company_id),l())};return h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-300",children:h.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(_e,{path:$r,size:.8,className:"text-blue-600"}),e.name||`Marker ${e.id}`]})}),y&&(()=>{const N=n.filter(A=>A.company_id===y.company_id).length,k=t.find(A=>A.company_id===y.company_id)?.booth_count||1;return h.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.company?.logo?h.jsx("img",{src:ur(y.company.logo),alt:y.company.name,className:"w-8 h-8 object-contain flex-shrink-0"}):h.jsx(_e,{path:$r,size:1.2,className:"text-gray-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:y.company?.name||"Unknown"}),h.jsxs("div",{className:"text-xs text-gray-600",children:["Using ",N," of ",k," booth",k!==1?"s":""]})]})]}),h.jsx("button",{onClick:w,disabled:a,className:"ml-2 px-2 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Unassign company",children:h.jsx(_e,{path:mo,size:.55,className:"inline"})})]})})})(),v.length>5&&h.jsxs("div",{className:"mb-2 relative",children:[h.jsx(_e,{path:yo,size:.65,className:"absolute left-2 top-2 text-gray-400"}),h.jsx("input",{ref:m,type:"text",value:d,onChange:C=>f(C.target.value),placeholder:"Search companies...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),h.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?h.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:d?"No companies match your search":y?"No other companies available":"No subscribed companies available"}):h.jsx("div",{className:"space-y-1",children:v.map(C=>h.jsxs("button",{onClick:()=>_(C.id),disabled:a,className:"w-full flex items-center gap-2 p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",title:`Assign ${C.name} (${C.remainingBooths} booth${C.remainingBooths!==1?"s":""} available)`,children:[C.logo?h.jsx("img",{src:ur(C.logo),alt:C.name,className:"w-8 h-8 object-contain flex-shrink-0"}):h.jsx(_e,{path:$r,size:1.2,className:"text-gray-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm text-gray-800 truncate",children:C.name}),h.jsxs("div",{className:"text-xs text-gray-500",children:[C.remainingBooths," of ",C.totalBooths," booth",C.totalBooths!==1?"s":""," available"]})]})]},C.id))})}),a&&h.jsx("div",{className:"mt-2 text-xs text-center text-blue-600",children:"Processing..."})]})}function am(e=new Date().getFullYear()){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null),d=j.useRef(e);j.useEffect(()=>{d.current=e},[e]);const f=j.useCallback(async A=>{try{s(!0),l(null);const $=A!==void 0?A:d.current,{data:O,error:F}=await pe.from("assignments").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).eq("event_year",$).order("marker_id",{ascending:!0});if(F)throw F;n(O||[])}catch($){console.error("Error loading assignments:",$),l($.message)}finally{s(!1)}},[]),m=j.useCallback(async A=>{try{const $={...A,event_year:A.event_year||e},{data:O,error:F}=await pe.from("assignments").insert([$]).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(F)throw F;return n(R=>[...R,O].sort((Z,W)=>Z.marker_id-W.marker_id)),{data:O,error:null}}catch($){return console.error("Error creating assignment:",$),{data:null,error:$.message}}},[e]),y=j.useCallback(async(A,$)=>{try{const{data:O,error:F}=await pe.from("assignments").update($).eq("id",A).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(F)throw F;return n(R=>R.map(Z=>Z.id===A?O:Z).sort((Z,W)=>Z.marker_id-W.marker_id)),{data:O,error:null}}catch(O){return console.error("Error updating assignment:",O),{data:null,error:O.message}}},[]),v=j.useCallback(async A=>{try{const{error:$}=await pe.from("assignments").delete().eq("id",A);if($)throw $;return n(O=>O.filter(F=>F.id!==A)),{error:null}}catch($){return console.error("Error deleting assignment:",$),{error:$.message}}},[]),_=j.useCallback(async(A,$)=>m({marker_id:A,company_id:$}),[m]),w=j.useCallback(async(A,$)=>{try{const{error:O}=await pe.from("assignments").delete().eq("marker_id",A).eq("company_id",$).eq("event_year",e);if(O)throw O;return n(F=>F.filter(R=>!(R.marker_id===A&&R.company_id===$))),{error:null}}catch(O){return console.error("Error unassigning company:",O),{error:O.message}}},[e]),C=j.useCallback(A=>t.filter($=>$.marker_id===A),[t]),N=j.useCallback(A=>t.filter($=>$.company_id===A),[t]),T=j.useCallback(async()=>{try{const{data:A,error:$}=await pe.rpc("archive_assignments",{year_to_archive:e});if($)throw $;return n([]),{data:A,error:null}}catch(A){return console.error("Error archiving assignments:",A),{data:null,error:A.message}}},[e]),k=j.useCallback(async A=>{try{const{data:$,error:O}=await pe.from("assignments_archive").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info))
        `).eq("event_year",A).order("marker_id",{ascending:!0});if(O)throw O;return{data:$,error:null}}catch($){return console.error("Error loading archived assignments:",$),{data:null,error:$.message}}},[]);return j.useEffect(()=>{f()},[f]),j.useEffect(()=>{f()},[e,f]),j.useEffect(()=>{const A=pe.channel(`assignments-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"assignments",filter:`event_year=eq.${e}`},$=>{$.eventType==="INSERT"&&$.new?n(O=>(O.some(R=>R.id===$.new.id)||f(),O)):f()}).subscribe();return()=>{pe.removeChannel(A)}},[e,f]),{assignments:t,loading:i,error:a,createAssignment:m,updateAssignment:y,deleteAssignment:v,assignCompanyToMarker:_,unassignCompanyFromMarker:w,getMarkerAssignments:C,getCompanyAssignments:N,archiveCurrentYear:T,loadArchivedAssignments:k,reload:f}}function q1({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,selectedYear:i,isAdminView:s,selectedMarkerId:a,onMarkerSelect:l,currentZoom:d,applyVisitorSizing:f=!1}){const m=d1("md"),[y,v]=j.useState(null),_=s&&a!==void 0?e.find(q=>q.id===a):y,w=s&&l?q=>l(q?q.id:null):v,{organizationLogo:C}=ua(),[N,T]=j.useState({isOpen:!1,position:null,marker:null}),[k,A]=j.useState(!1),{subscriptions:$}=cd(i||new Date().getFullYear()),{assignments:O,assignCompanyToMarker:F,unassignCompanyFromMarker:R}=am(i||new Date().getFullYear()),{confirm:Z}=ui(),W=j.useCallback(q=>de=>{const{lat:K,lng:ne}=de.target.getLatLng();t(q,{lat:K,lng:ne})},[t]),V=j.useCallback(q=>de=>{s&&(Pt.DomEvent.preventDefault(de),T({isOpen:!0,position:de.latlng,marker:q,timestamp:Date.now()}))},[s]),Q=j.useCallback(async(q,de)=>{const K=O.filter(ne=>ne.marker_id===q);if(K.length>0){const H=$.find(D=>D.company_id===de)?.company?.name||"this company",Y=e.find(D=>D.id===q),ie=Y?.glyph||Y?.id||"this booth";let ke;if(K.length===1){const D=K[0].company?.name||"another company";ke=`Booth ${ie} is already assigned to ${D}.

Assign ${H} as an additional company for this booth?`}else{const D=K.map(te=>te.company?.name).filter(Boolean).join(", ");ke=`Booth ${ie} is already assigned to ${K.length} companies: ${D}.

Assign ${H} as another company for this booth?`}if(!await Z({title:"Multiple Assignments",message:ke,confirmText:"Assign",variant:"warning"}))return}A(!0);try{await F(q,de)}catch(ne){console.error("Error assigning company:",ne)}finally{A(!1)}},[F,O,$,e]),G=j.useCallback(async(q,de)=>{A(!0);try{await R(q,de)}catch(K){console.error("Error unassigning company:",K)}finally{A(!1)}},[R]);return h.jsxs(h.Fragment,{children:[e.filter(q=>q.id>=1001).map(q=>{const de=[q.lat,q.lng],K=$l(Array.isArray(q.iconSize)?q.iconSize:[17,28],[17,28]),H=kC(d,K,!0,s&&!f),Y=c1({className:q.type?`marker-icon marker-type-${q.type}`:"marker-icon",prefix:q.prefix,iconUrl:co(q.iconUrl||`${q.type||"default"}.svg`),iconSize:H,glyph:q.glyph||"?",glyphColor:q.glyphColor||"white",glyphSize:(()=>{if(q.glyphSize){let B=null;typeof q.glyphSize=="number"?B=q.glyphSize:typeof q.glyphSize=="string"&&(B=parseFloat(q.glyphSize.replace(/[^0-9.-]/g,"")));const D=$l(Array.isArray(q.iconSize)?q.iconSize:[17,28],[17,28]),te=D&&D[1]?D[1]:28;if(B&&te)return`${(H[1]*B/te).toFixed(2)}px`;if(typeof q.glyphSize=="number")return`${q.glyphSize.toFixed(2)}px`;if(typeof q.glyphSize=="string"){const I=parseFloat(q.glyphSize.replace(/[^0-9.-]/g,""));return Number.isFinite(I)?`${I.toFixed(2)}px`:q.glyphSize}return""}return`${Math.round(H[1]*.36)}px`})(),glyphAnchor:(()=>{const B=$l(Array.isArray(q.iconSize)?q.iconSize:[17,28],[17,28]),D=B[0]||17,te=B[1]||28,I=H[0]/D,fe=H[1]/te;if(Array.isArray(q.glyphAnchor)&&q.glyphAnchor.length>=2){const le=parseFloat(q.glyphAnchor[0])||0,ve=parseFloat(q.glyphAnchor[1])||0;return[parseFloat((le*I).toFixed(2)),parseFloat((ve*fe).toFixed(2))]}return[parseFloat((0*I).toFixed(2)),parseFloat((-5*fe).toFixed(2))]})(),isActive:_?.id===q.id}),ie=n(q),ke={popupopen:B=>B.target.closeTooltip(),...ie&&{dragend:W(q.id)},...s&&{contextmenu:V(q)}};return h.jsx(TC,{position:de,icon:Y,draggable:ie,eventHandlers:ke,children:h.jsx(u6,{marker:q,isMobile:m,organizationLogo:C,onMoreInfo:()=>{w(q)}})},q.id)}),N.isOpen&&N.marker&&h.jsx(tm,{position:N.position,onClose:()=>T({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:h.jsx(c6,{marker:N.marker,subscriptions:$,assignments:O,onAssign:Q,onUnassign:G,isLoading:k,onClose:()=>T({isOpen:!1,position:null,marker:null})})},`context-${N.marker.id}-${N.timestamp||Date.now()}`),m&&_&&h.jsx(l6,{marker:_,onClose:()=>w(null)})]})}q1.propTypes={safeMarkers:Ne.array,updateMarker:Ne.func,isMarkerDraggable:Ne.func,selectedYear:Ne.number,isAdminView:Ne.bool,selectedMarkerId:Ne.number,onMarkerSelect:Ne.func,currentZoom:Ne.number,applyVisitorSizing:Ne.bool};q1.defaultProps={applyVisitorSizing:!1};var gc={exports:{}},HB=gc.exports,k3;function ZB(){return k3||(k3=1,(function(e,t){(function(n,i){i(t)})(HB,function(n){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var l=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,l?this._withAnimation:this._noAnimation),this._markerCluster=l?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var l=a,d=this._zoom;if(a.__parent)for(;l.__parent._zoom>=d;)l=l.__parent;return this._currentShownBounds.contains(l.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,l):this._animationAddLayerNonAnimated(a,l)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,l){if(!L.Util.isArray(a))return this.addLayer(a);var d=this._featureGroup,f=this._nonPointGroup,m=this.options.chunkedLoading,y=this.options.chunkInterval,v=this.options.chunkProgress,_=a.length,w=0,C=!0,N;if(this._map){var T=new Date().getTime(),k=L.bind(function(){var $=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();w<_;w++){if(m&&w%200===0){var O=new Date().getTime()-$;if(O>y)break}if(N=a[w],N instanceof L.LayerGroup){C&&(a=a.slice(),C=!1),this._extractNonGroupLayers(N,a),_=a.length;continue}if(!N.getLatLng){f.addLayer(N),l||this.fire("layeradd",{layer:N});continue}if(!this.hasLayer(N)&&(this._addLayer(N,this._maxZoom),l||this.fire("layeradd",{layer:N}),N.__parent&&N.__parent.getChildCount()===2)){var F=N.__parent.getAllChildMarkers(),R=F[0]===N?F[1]:F[0];d.removeLayer(R)}}v&&v(w,_,new Date().getTime()-T),w===_?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(k,this.options.chunkDelay)},this);k()}else for(var A=this._needsClustering;w<_;w++){if(N=a[w],N instanceof L.LayerGroup){C&&(a=a.slice(),C=!1),this._extractNonGroupLayers(N,a),_=a.length;continue}if(!N.getLatLng){f.addLayer(N);continue}this.hasLayer(N)||A.push(N)}return this},removeLayers:function(a){var l,d,f=a.length,m=this._featureGroup,y=this._nonPointGroup,v=!0;if(!this._map){for(l=0;l<f;l++){if(d=a[l],d instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(d,a),f=a.length;continue}this._arraySplice(this._needsClustering,d),y.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var _=a.slice(),w=f;for(l=0;l<w;l++){if(d=_[l],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,_),w=_.length;continue}this._unspiderfyLayer(d)}}for(l=0;l<f;l++){if(d=a[l],d instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(d,a),f=a.length;continue}if(!d.__parent){y.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),m.hasLayer(d)&&(m.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var l=this._needsClustering.length-1;l>=0;l--)a.extend(this._needsClustering[l].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,l){var d=this._needsClustering.slice(),f=this._needsRemoving,m,y,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),y=d.length-1;y>=0;y--){for(m=!0,v=f.length-1;v>=0;v--)if(f[v].layer===d[y]){m=!1;break}m&&a.call(l,d[y])}this._nonPointGroup.eachLayer(a,l)},getLayers:function(){var a=[];return this.eachLayer(function(l){a.push(l)}),a},getLayer:function(a){var l=null;return a=parseInt(a,10),this.eachLayer(function(d){L.stamp(d)===a&&(l=d)}),l},hasLayer:function(a){if(!a)return!1;var l,d=this._needsClustering;for(l=d.length-1;l>=0;l--)if(d[l]===a)return!0;for(d=this._needsRemoving,l=d.length-1;l>=0;l--)if(d[l].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,l){var d=this._map;typeof l!="function"&&(l=function(){});var f=function(){(d.hasLayer(a)||d.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",f,this),this.off("animationend",f,this),d.hasLayer(a)?l():a.__parent._icon&&(this.once("spiderfied",l,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?l():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var l,d,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,l=0,d=this._needsRemoving.length;l<d;l++)f=this._needsRemoving[l],f.newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(l=0,d=this._needsRemoving.length;l<d;l++)f=this._needsRemoving[l],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var l=a;l&&!l._icon;)l=l.__parent;return l||null},_arraySplice:function(a,l){for(var d=a.length-1;d>=0;d--)if(a[d]===l)return a.splice(d,1),!0},_removeFromGridUnclustered:function(a,l){for(var d=this._map,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom());l>=m&&f[l].removeObject(a,d.project(a.getLatLng(),l));l--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var l=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),l&&a.target.openPopup()}},_moveChild:function(a,l,d){a._latlng=l,this.removeLayer(a),a._latlng=d,this.addLayer(a)},_childMarkerDragEnd:function(a){var l=a.target.__dragStart;delete a.target.__dragStart,l&&this._moveChild(a.target,l,a.target._latlng)},_removeLayer:function(a,l,d){var f=this._gridClusters,m=this._gridUnclustered,y=this._featureGroup,v=this._map,_=Math.floor(this._map.getMinZoom());l&&this._removeFromGridUnclustered(a,this._maxZoom);var w=a.__parent,C=w._markers,N;for(this._arraySplice(C,a);w&&(w._childCount--,w._boundsNeedUpdate=!0,!(w._zoom<_));)l&&w._childCount<=1?(N=w._markers[0]===a?w._markers[1]:w._markers[0],f[w._zoom].removeObject(w,v.project(w._cLatLng,w._zoom)),m[w._zoom].addObject(N,v.project(N.getLatLng(),w._zoom)),this._arraySplice(w.__parent._childClusters,w),w.__parent._markers.push(N),N.__parent=w.__parent,w._icon&&(y.removeLayer(w),d||y.addLayer(N))):w._iconNeedsUpdate=!0,w=w.__parent;delete a.__parent},_isOrIsParent:function(a,l){for(;l;){if(a===l)return!0;l=l.parentNode}return!1},fire:function(a,l,d){if(l&&l.layer instanceof L.MarkerCluster){if(l.originalEvent&&this._isOrIsParent(l.layer._icon,l.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,l,d)},listens:function(a,l){return L.FeatureGroup.prototype.listens.call(this,a,l)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,l)},_defaultIconCreateFunction:function(a){var l=a.getChildCount(),d=" marker-cluster-";return l<10?d+="small":l<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+l+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,l=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom;(l||f||m)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var l=a.layer,d=l;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===l._childCount&&this.options.spiderfyOnMaxZoom?l.spiderfy():this.options.zoomToBoundsOnClick&&l.zoomToBounds(),this.options.spiderfyOnEveryZoom&&l.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var l=this._map;this._inZoomAnimation||(this._shownPolygon&&l.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),l.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,m=this._map;(a||d||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),m.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),l=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,f=d;typeof d!="function"&&(f=function(){return d}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var m=a;m>=l;m--)this._gridClusters[m]=new L.DistanceGrid(f(m)),this._gridUnclustered[m]=new L.DistanceGrid(f(m));this._topClusterLevel=new this._markerCluster(this,l-1)},_addLayer:function(a,l){var d=this._gridClusters,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom()),y,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);l>=m;l--){y=this._map.project(a.getLatLng(),l);var _=d[l].getNearObject(y);if(_){_._addChild(a),a.__parent=_;return}if(_=f[l].getNearObject(y),_){var w=_.__parent;w&&this._removeLayer(_,!1);var C=new this._markerCluster(this,l,_,a);d[l].addObject(C,this._map.project(C._cLatLng,l)),_.__parent=C,a.__parent=C;var N=C;for(v=l-1;v>w._zoom;v--)N=new this._markerCluster(this,v,N),d[v].addObject(N,this._map.project(_.getLatLng(),v));w._addChild(N),this._removeFromGridUnclustered(_,l);return}f[l].addObject(a,y)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var l=this._maxLat;return l!==void 0&&(a.getNorth()>=l&&(a._northEast.lat=1/0),a.getSouth()<=-l&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,l){if(l===a)this._featureGroup.addLayer(a);else if(l._childCount===2){l._addToMap();var d=l.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else l._updateIcon()},_extractNonGroupLayers:function(a,l){var d=a.getLayers(),f=0,m;for(l=l||[];f<d.length;f++){if(m=d[f],m instanceof L.LayerGroup){this._extractNonGroupLayers(m,l);continue}l.push(m)}return l},_overrideMarkerIcon:function(a){var l=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return l}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,l){this._animationAddLayerNonAnimated(a,l)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,l){var d=this._getExpandedVisibleBounds(),f=this._featureGroup,m=Math.floor(this._map.getMinZoom()),y;this._ignoreMove=!0,this._topClusterLevel._recursively(d,a,m,function(v){var _=v._latlng,w=v._markers,C;for(d.contains(_)||(_=null),v._isSingleParent()&&a+1===l?(f.removeLayer(v),v._recursivelyAddChildrenToMap(null,l,d)):(v.clusterHide(),v._recursivelyAddChildrenToMap(_,l,d)),y=w.length-1;y>=0;y--)C=w[y],d.contains(C._latlng)||f.removeLayer(C)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,l),f.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(d,a,l,function(v){v._recursivelyRestoreChildPositions(l)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,a,m,function(v){f.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,l){this._animationZoomOutSingle(this._topClusterLevel,a-1,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,l){var d=this,f=this._featureGroup;f.addLayer(a),l!==a&&(l._childCount>2?(l._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(l.getLatLng())),a.clusterHide(),this._enqueue(function(){f.removeLayer(a),a.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(l,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,l,d){var f=this._getExpandedVisibleBounds(),m=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(f,m,l+1,d);var y=this;this._forceLayout(),a._recursivelyBecomeVisible(f,d),this._enqueue(function(){if(a._childCount===1){var v=a._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else a._recursively(f,d,m,function(_){_._recursivelyRemoveChildrenFromMap(f,m,l+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,l,d,f){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=l,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),f&&this._addChild(f)},getAllChildMarkers:function(a,l){a=a||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(a,l);for(var f=this._markers.length-1;f>=0;f--)l&&this._markers[f].__dragStart||a.push(this._markers[f]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var l=this._childClusters.slice(),d=this._group._map,f=d.getBoundsZoom(this._bounds),m=this._zoom+1,y=d.getZoom(),v;l.length>0&&f>m;){m++;var _=[];for(v=0;v<l.length;v++)_=_.concat(l[v]._childClusters);l=_}f>m?this._group._map.setView(this._latlng,m):f<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,l){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(l||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(l||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,l=this._childClusters,d=0,f=0,m=this._childCount,y,v,_,w;if(m!==0){for(this._resetBounds(),y=0;y<a.length;y++)_=a[y]._latlng,this._bounds.extend(_),d+=_.lat,f+=_.lng;for(y=0;y<l.length;y++)v=l[y],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),_=v._wLatLng,w=v._childCount,d+=_.lat*w,f+=_.lng*w;this._latlng=this._wLatLng=new L.LatLng(d/m,f/m),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,l,d){this._recursively(a,this._group._map.getMinZoom(),d-1,function(f){var m=f._markers,y,v;for(y=m.length-1;y>=0;y--)v=m[y],v._icon&&(v._setPos(l),v.clusterHide())},function(f){var m=f._childClusters,y,v;for(y=m.length-1;y>=0;y--)v=m[y],v._icon&&(v._setPos(l),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,l,d,f){this._recursively(a,f,l,function(m){m._recursivelyAnimateChildrenIn(a,m._group._map.latLngToLayerPoint(m.getLatLng()).round(),d),m._isSingleParent()&&d-1===f?(m.clusterShow(),m._recursivelyRemoveChildrenFromMap(a,l,d)):m.clusterHide(),m._addToMap()})},_recursivelyBecomeVisible:function(a,l){this._recursively(a,this._group._map.getMinZoom(),l,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(a,l,d){this._recursively(d,this._group._map.getMinZoom()-1,l,function(f){if(l!==f._zoom)for(var m=f._markers.length-1;m>=0;m--){var y=f._markers[m];d.contains(y._latlng)&&(a&&(y._backupLatlng=y.getLatLng(),y.setLatLng(a),y.clusterHide&&y.clusterHide()),f._group._featureGroup.addLayer(y))}},function(f){f._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var l=this._markers.length-1;l>=0;l--){var d=this._markers[l];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(a-1===this._zoom)for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._restorePosition();else for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,l,d,f){var m,y;this._recursively(a,l-1,d-1,function(v){for(y=v._markers.length-1;y>=0;y--)m=v._markers[y],(!f||!f.contains(m._latlng))&&(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(v){for(y=v._childClusters.length-1;y>=0;y--)m=v._childClusters[y],(!f||!f.contains(m._latlng))&&(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(a,l,d,f,m){var y=this._childClusters,v=this._zoom,_,w;if(l<=v&&(f&&f(this),m&&v===d&&m(this)),v<l||v<d)for(_=y.length-1;_>=0;_--)w=y[_],w._boundsNeedUpdate&&w._recalculateBounds(),a.intersects(w._bounds)&&w._recursively(a,l,d,f,m)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,l){var d=this._getCoord(l.x),f=this._getCoord(l.y),m=this._grid,y=m[f]=m[f]||{},v=y[d]=y[d]||[],_=L.Util.stamp(a);this._objectPoint[_]=l,v.push(a)},updateObject:function(a,l){this.removeObject(a),this.addObject(a,l)},removeObject:function(a,l){var d=this._getCoord(l.x),f=this._getCoord(l.y),m=this._grid,y=m[f]=m[f]||{},v=y[d]=y[d]||[],_,w;for(delete this._objectPoint[L.Util.stamp(a)],_=0,w=v.length;_<w;_++)if(v[_]===a)return v.splice(_,1),w===1&&delete y[d],!0},eachObject:function(a,l){var d,f,m,y,v,_,w,C=this._grid;for(d in C){v=C[d];for(f in v)for(_=v[f],m=0,y=_.length;m<y;m++)w=a.call(l,_[m]),w&&(m--,y--)}},getNearObject:function(a){var l=this._getCoord(a.x),d=this._getCoord(a.y),f,m,y,v,_,w,C,N,T=this._objectPoint,k=this._sqCellSize,A=null;for(f=d-1;f<=d+1;f++)if(v=this._grid[f],v){for(m=l-1;m<=l+1;m++)if(_=v[m],_)for(y=0,w=_.length;y<w;y++)C=_[y],N=this._sqDist(T[L.Util.stamp(C)],a),(N<k||N<=k&&A===null)&&(k=N,A=C)}return A},_getCoord:function(a){var l=Math.floor(a/this._cellSize);return isFinite(l)?l:a},_sqDist:function(a,l){var d=l.x-a.x,f=l.y-a.y;return d*d+f*f}},(function(){L.QuickHull={getDistant:function(a,l){var d=l[1].lat-l[0].lat,f=l[0].lng-l[1].lng;return f*(a.lat-l[0].lat)+d*(a.lng-l[0].lng)},findMostDistantPointFromBaseLine:function(a,l){var d=0,f=null,m=[],y,v,_;for(y=l.length-1;y>=0;y--){if(v=l[y],_=this.getDistant(v,a),_>0)m.push(v);else continue;_>d&&(d=_,f=v)}return{maxPoint:f,newPoints:m}},buildConvexHull:function(a,l){var d=[],f=this.findMostDistantPointFromBaseLine(a,l);return f.maxPoint?(d=d.concat(this.buildConvexHull([a[0],f.maxPoint],f.newPoints)),d=d.concat(this.buildConvexHull([f.maxPoint,a[1]],f.newPoints)),d):[a[0]]},getConvexHull:function(a){var l=!1,d=!1,f=!1,m=!1,y=null,v=null,_=null,w=null,C=null,N=null,T;for(T=a.length-1;T>=0;T--){var k=a[T];(l===!1||k.lat>l)&&(y=k,l=k.lat),(d===!1||k.lat<d)&&(v=k,d=k.lat),(f===!1||k.lng>f)&&(_=k,f=k.lng),(m===!1||k.lng<m)&&(w=k,m=k.lng)}d!==l?(N=v,C=y):(N=w,C=_);var A=[].concat(this.buildConvexHull([N,C],a),this.buildConvexHull([C,N],a));return A}}})(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),l=[],d,f;for(f=a.length-1;f>=0;f--)d=a[f].getLatLng(),l.push(d);return L.QuickHull.getConvexHull(l)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),l=this._group,d=l._map,f=d.latLngToLayerPoint(this._latlng),m;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?m=this._group.options.spiderfyShapePositions(a.length,f):a.length>=this._circleSpiralSwitchover?m=this._generatePointsSpiral(a.length,f):(f.y+=10,m=this._generatePointsCircle(a.length,f)),this._animationSpiderfy(a,m)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,l){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),f=d/this._2PI,m=this._2PI/a,y=[],v,_;for(f=Math.max(f,35),y.length=a,v=0;v<a;v++)_=this._circleStartAngle+v*m,y[v]=new L.Point(l.x+f*Math.cos(_),l.y+f*Math.sin(_))._round();return y},_generatePointsSpiral:function(a,l){var d=this._group.options.spiderfyDistanceMultiplier,f=d*this._spiralLengthStart,m=d*this._spiralFootSeparation,y=d*this._spiralLengthFactor*this._2PI,v=0,_=[],w;for(_.length=a,w=a;w>=0;w--)w<a&&(_[w]=new L.Point(l.x+f*Math.cos(v),l.y+f*Math.sin(v))._round()),v+=m/f+w*5e-4,f+=y/v;return _},_noanimationUnspiderfy:function(){var a=this._group,l=a._map,d=a._featureGroup,f=this.getAllChildMarkers(null,!0),m,y;for(a._ignoreMove=!0,this.setOpacity(1),y=f.length-1;y>=0;y--)m=f[y],d.removeLayer(m),m._preSpiderfyLatlng&&(m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng),m.setZIndexOffset&&m.setZIndexOffset(0),m._spiderLeg&&(l.removeLayer(m._spiderLeg),delete m._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:f}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,l){var d=this._group,f=d._map,m=d._featureGroup,y=this._group.options.spiderLegPolylineOptions,v,_,w,C;for(d._ignoreMove=!0,v=0;v<a.length;v++)C=f.layerPointToLatLng(l[v]),_=a[v],w=new L.Polyline([this._latlng,C],y),f.addLayer(w),_._spiderLeg=w,_._preSpiderfyLatlng=_._latlng,_.setLatLng(C),_.setZIndexOffset&&_.setZIndexOffset(1e6),m.addLayer(_);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,l){var d=this,f=this._group,m=f._map,y=f._featureGroup,v=this._latlng,_=m.latLngToLayerPoint(v),w=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),N=C.opacity,T,k,A,$,O,F;for(N===void 0&&(N=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),w?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=N,f._ignoreMove=!0,T=0;T<a.length;T++)k=a[T],F=m.layerPointToLatLng(l[T]),A=new L.Polyline([v,F],C),m.addLayer(A),k._spiderLeg=A,w&&($=A._path,O=$.getTotalLength()+.1,$.style.strokeDasharray=O,$.style.strokeDashoffset=O),k.setZIndexOffset&&k.setZIndexOffset(1e6),k.clusterHide&&k.clusterHide(),y.addLayer(k),k._setPos&&k._setPos(_);for(f._forceLayout(),f._animationStart(),T=a.length-1;T>=0;T--)F=m.layerPointToLatLng(l[T]),k=a[T],k._preSpiderfyLatlng=k._latlng,k.setLatLng(F),k.clusterShow&&k.clusterShow(),w&&(A=k._spiderLeg,$=A._path,$.style.strokeDashoffset=0,A.setStyle({opacity:N}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:d,markers:a})},200)},_animationUnspiderfy:function(a){var l=this,d=this._group,f=d._map,m=d._featureGroup,y=a?f._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):f.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),_=L.Path.SVG,w,C,N,T,k,A;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),C=v.length-1;C>=0;C--)w=v[C],w._preSpiderfyLatlng&&(w.closePopup(),w.setLatLng(w._preSpiderfyLatlng),delete w._preSpiderfyLatlng,A=!0,w._setPos&&(w._setPos(y),A=!1),w.clusterHide&&(w.clusterHide(),A=!1),A&&m.removeLayer(w),_&&(N=w._spiderLeg,T=N._path,k=T.getTotalLength()+.1,T.style.strokeDashoffset=k,N.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var $=0;for(C=v.length-1;C>=0;C--)w=v[C],w._spiderLeg&&$++;for(C=v.length-1;C>=0;C--)w=v[C],w._spiderLeg&&(w.clusterShow&&w.clusterShow(),w.setZIndexOffset&&w.setZIndexOffset(0),$>1&&m.removeLayer(w),f.removeLayer(w._spiderLeg),delete w._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:l,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var l,d;for(l in a)for(d=a[l].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(a){var l,d;for(l in a)d=a[l],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(a,l){var d=this.options.icon;return L.setOptions(d,a),this.setIcon(d),l&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=i,n.MarkerCluster=s,Object.defineProperty(n,"__esModule",{value:!0})})})(gc,gc.exports)),gc.exports}ZB();function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}var qB=["children"];function $3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function A3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(n),!0).forEach(function(i){GB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GB(e,t,n){return(t=KB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KB(e){var t=WB(e,"string");return Kc(t)=="symbol"?t:t+""}function WB(e,t){if(Kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Kc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L3(e,t){return QB(e)||JB(e,t)||XB(e,t)||YB()}function YB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(e,t){if(e){if(typeof e=="string")return M3(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M3(e,t):void 0}}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function JB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,l,d=[],f=!0,m=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(f=(i=a.call(n)).done)&&(d.push(i.value),d.length!==t);f=!0);}catch(y){m=!0,s=y}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(m)throw s}}return d}}function QB(e){if(Array.isArray(e))return e}function eU(e,t){if(e==null)return{};var n,i,s=tU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}Pt.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});Pt.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function nU(e,t){e.children;var n=eU(e,qB),i={},s={};Object.entries(n).forEach(function(l){var d=L3(l,2),f=d[0],m=d[1];return f.startsWith("on")?s[f]=m:i[f]=m});var a=new Pt.MarkerClusterGroup(i);return Object.entries(s).forEach(function(l){var d=L3(l,2),f=d[0],m=d[1],y="cluster".concat(f.substring(2).toLowerCase());a.on(y,m)}),{instance:a,context:A3(A3({},t),{},{layerContainer:a})}}var iU=XO(nU);const eo={CHUNKED_LOADING:!0,SHOW_COVERAGE_ON_HOVER:!0,SPIDERFY_ON_MAX_ZOOM:!1,REMOVE_OUTSIDE_VISIBLE_BOUNDS:!0,DISABLE_CLUSTERING_AT_ZOOM:17,MAX_CLUSTER_RADIUS:400,MAX_MARKER_ID:1001},Ci={SIZE:[15,25],GLYPH_COLOR:"white",GLYPH_ANCHOR:[0,-4]},rU=(e,t=!1)=>t?co("glyph-marker-icon-yellow.svg"):e.iconUrl?co(e.iconUrl):co(`${e.type||"default"}.svg`),sU=(e,t=!1,n=!1,i=17,s=!1)=>{let a=e.type?`marker-icon marker-type-${e.type}`:"marker-icon";t&&(a+=" marker-active"),n&&(a+=" marker-favorited");const l=$l(Array.isArray(e.iconSize)?e.iconSize:Ci.SIZE,Ci.SIZE),d=kC(i,l,!1,s);return c1({className:a,prefix:e.prefix,iconUrl:rU(e,n),iconSize:d,glyph:e.glyph||"",glyphColor:e.glyphColor||Ci.GLYPH_COLOR,glyphSize:(()=>{if(e.glyphSize){let f=null;typeof e.glyphSize=="number"?f=e.glyphSize:typeof e.glyphSize=="string"&&(f=parseFloat(e.glyphSize.replace(/[^0-9.-]/g,"")));const m=$l(Array.isArray(e.iconSize)?e.iconSize:Ci.SIZE,Ci.SIZE),y=m&&m[1]?m[1]:Ci.SIZE[1];if(f&&y)return`${(d[1]*f/y).toFixed(2)}px`;if(typeof e.glyphSize=="number")return`${e.glyphSize.toFixed(2)}px`;if(typeof e.glyphSize=="string"){const v=parseFloat(e.glyphSize.replace(/[^0-9.-]/g,""));return Number.isFinite(v)?`${v.toFixed(2)}px`:e.glyphSize}return""}return`${Math.round(d[1]*.33)}px`})(),glyphAnchor:(()=>{const f=$l(Array.isArray(e.iconSize)?e.iconSize:Ci.SIZE,Ci.SIZE),m=f[0]||Ci.SIZE[0],y=f[1]||Ci.SIZE[1],v=m?d[0]/m:1,_=y?d[1]/y:1;if(Array.isArray(e.glyphAnchor)&&e.glyphAnchor.length>=2){const w=parseFloat(e.glyphAnchor[0])||0,C=parseFloat(e.glyphAnchor[1])||0;return[parseFloat((w*v).toFixed(2)),parseFloat((C*_).toFixed(2))]}return[parseFloat((Ci.GLYPH_ANCHOR[0]*v).toFixed(2)),parseFloat((Ci.GLYPH_ANCHOR[1]*_).toFixed(2))]})()})},aU=e=>`${e.id}-${e.lat}-${e.lng}-${e.iconUrl||""}-${e.glyph||""}`,oU=j.memo(({marker:e,isDraggable:t,icon:n,eventHandlers:i,markerRef:s,isMobile:a,organizationLogo:l,onMarkerSelect:d})=>h.jsx(TC,{position:[e.lat,e.lng],icon:n,draggable:t,eventHandlers:i,ref:s,children:h.jsx(u6,{marker:e,isMobile:a,organizationLogo:l,onMoreInfo:()=>d(e)})}),(e,t)=>{const n=e.icon===t.icon,i=e.isDraggable===t.isDraggable,s=e.eventHandlers===t.eventHandlers;return n&&i&&s?!(e.marker.name!==t.marker.name||e.marker.logo!==t.marker.logo||e.marker.website!==t.marker.website||e.marker.info!==t.marker.info):!1});function G1({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,iconCreateFunction:i,selectedYear:s,isAdminView:a,selectedMarkerId:l,onMarkerSelect:d,focusMarkerId:f,onFocusHandled:m,currentZoom:y,applyVisitorSizing:v=!1}){const _=j.useRef({}),w=d1("md"),[C,N]=j.useState(null),T=a&&l!==void 0?e.find(le=>le.id===l):C,k=a&&d?le=>d(le?le.id:null):N,{organizationLogo:A,loading:$}=ua();let O=null;try{O=sd()}catch{}const F=O?.isFavorite||(()=>!1),[R,Z]=j.useState({isOpen:!1,position:null,marker:null}),[W,V]=j.useState(!1),{subscriptions:Q}=cd(s||new Date().getFullYear()),{assignments:G,assignCompanyToMarker:q,unassignCompanyFromMarker:de}=am(s||new Date().getFullYear()),{confirm:K}=ui(),ne=j.useMemo(()=>e.filter(le=>le.id<eo.MAX_MARKER_ID),[e]),H=j.useCallback(le=>ve=>{const{lat:Te,lng:be}=ve.target.getLatLng();t(le,{lat:Te,lng:be})},[t]),Y=j.useCallback(le=>(_.current[le]||(_.current[le]=Ti.createRef()),_.current[le]),[]),ie=j.useCallback(le=>ve=>{a&&(Pt.DomEvent.preventDefault(ve),Z({isOpen:!0,position:ve.latlng,marker:le,timestamp:Date.now()}))},[a]),ke=j.useCallback(async(le,ve)=>{const Te=G.filter(be=>be.marker_id===le);if(Te.length>0){const ce=Q.find(Pe=>Pe.company_id===ve)?.company?.name||"this company",ae=e.find(Pe=>Pe.id===le),J=ae?.glyph||ae?.id||"this booth";let se;if(Te.length===1){const Pe=Te[0].company?.name||"another company";se=`Booth ${J} is already assigned to ${Pe}.

Assign ${ce} as an additional company for this booth?`}else{const Pe=Te.map(Ke=>Ke.company?.name).filter(Boolean).join(", ");se=`Booth ${J} is already assigned to ${Te.length} companies: ${Pe}.

Assign ${ce} as another company for this booth?`}if(!await K({title:"Multiple Assignments",message:se,confirmText:"Assign",variant:"warning"}))return}V(!0);try{await q(le,ve)}catch(be){console.error("Error assigning company:",be)}finally{V(!1)}},[q,G,Q,e]),B=j.useCallback(async(le,ve)=>{V(!0);try{await de(le,ve)}catch(Te){console.error("Error unassigning company:",Te)}finally{V(!1)}},[de]),D=j.useRef({}),te=j.useCallback(le=>{const ve=`${le.id}-${n?"draggable":"static"}-${a?"admin":"visitor"}`;if(!D.current[ve]){const Te={popupopen:be=>be.target.closeTooltip()};n&&(Te.dragend=H(le.id)),a&&(Te.contextmenu=ie(le)),D.current[ve]=Te}return D.current[ve]},[n,H,a,ie]),I=j.useRef({}),fe=j.useCallback((le,ve)=>{const Te=le.companyId?F(le.companyId):!1,be=sR(y),ce=a&&!v,ae=`${le.id}-${le.iconUrl||""}-${le.glyph||""}-${le.glyphColor||""}-${ve}-${Te}-${be}-${JSON.stringify(le.iconSize||Ci.SIZE)}-${le.glyphSize}-${ce}`;return I.current[ae]||(I.current[ae]=sU(le,ve,Te,y,ce)),I.current[ae]},[F,y,a,v]);return j.useEffect(()=>{const le=new Set(ne.map(ve=>ve.id));Object.keys(D.current).forEach(ve=>{const Te=parseInt(ve.split("-")[0],10);le.has(Te)||delete D.current[ve]}),Object.keys(I.current).forEach(ve=>{const Te=parseInt(ve.split("-")[0],10);le.has(Te)||delete I.current[ve]})},[ne]),j.useEffect(()=>{if(!f)return;const ve=setTimeout(()=>{const Te=_.current[f];Te?.current&&(Te.current.openPopup(),m&&m())},1200);return()=>clearTimeout(ve)},[f,ne,m]),$?null:h.jsxs(h.Fragment,{children:[h.jsx(iU,{chunkedLoading:eo.CHUNKED_LOADING,showCoverageOnHover:eo.SHOW_COVERAGE_ON_HOVER,spiderfyOnMaxZoom:eo.SPIDERFY_ON_MAX_ZOOM,removeOutsideVisibleBounds:eo.REMOVE_OUTSIDE_VISIBLE_BOUNDS,disableClusteringAtZoom:eo.DISABLE_CLUSTERING_AT_ZOOM,maxClusterRadius:eo.MAX_CLUSTER_RADIUS,iconCreateFunction:i,children:ne.map(le=>{const ve=T?.id===le.id,Te=fe(le,ve),be=n(le),ce=aU(le);return h.jsx(oU,{marker:le,isDraggable:be,icon:Te,eventHandlers:te(le),markerRef:Y(le.id),isMobile:w,organizationLogo:A,onMarkerSelect:k},ce)})},"cluster-group"),R.isOpen&&R.marker&&h.jsx(tm,{position:R.position,onClose:()=>Z({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:h.jsx(c6,{marker:R.marker,subscriptions:Q,assignments:G,onAssign:ke,onUnassign:B,isLoading:W,onClose:()=>Z({isOpen:!1,position:null,marker:null})})},`context-${R.marker.id}-${R.timestamp||Date.now()}`),w&&T&&h.jsx(l6,{marker:T,onClose:()=>k(null)})]})}G1.propTypes={safeMarkers:Ne.arrayOf(Ne.shape({id:Ne.number.isRequired,lat:Ne.number.isRequired,lng:Ne.number.isRequired,type:Ne.string,iconUrl:Ne.string,iconSize:Ne.arrayOf(Ne.number),glyph:Ne.string,glyphColor:Ne.string,glyphSize:Ne.oneOfType([Ne.string,Ne.number]),glyphAnchor:Ne.arrayOf(Ne.number),prefix:Ne.string,name:Ne.string,logo:Ne.string,website:Ne.string,info:Ne.string,companyId:Ne.number})).isRequired,updateMarker:Ne.func.isRequired,isMarkerDraggable:Ne.func.isRequired,iconCreateFunction:Ne.func.isRequired,selectedYear:Ne.number,isAdminView:Ne.bool,selectedMarkerId:Ne.number,onMarkerSelect:Ne.func,focusMarkerId:Ne.number,onFocusHandled:Ne.func,currentZoom:Ne.number,applyVisitorSizing:Ne.bool};G1.defaultProps={selectedYear:new Date().getFullYear(),isAdminView:!1,selectedMarkerId:null,onMarkerSelect:null,focusMarkerId:null,onFocusHandled:null,currentZoom:17,applyVisitorSizing:!1};function lU({isAdminView:e,mapInstance:t,updateMarker:n}){const{t:i}=dt(),[s,a]=j.useState(!1),[l,d]=j.useState(!1),[f,m]=j.useState(""),[y,v]=j.useState(""),_=()=>{d(!0),m(""),v("")},w=async()=>{if(!f||isNaN(Number(f))){v(i("mapManagement.errorInvalidId"));return}if(await N(f)){v(i("mapManagement.errorIdExists"));return}d(!1),a(!0),v("")},C=()=>{d(!1),m(""),v("")};j.useEffect(()=>{if(!s||!t||!f)return;const T=k=>{const A=k.latlng,$={...uU({lat:A.lat,lng:A.lng}),id:Number(f)};typeof n=="function"&&n($.id,$,{add:!0}),a(!1),m(""),t.off("click",T)};return t.on("click",T),()=>{t.off("click",T)}},[s,t,n,f]);async function N(T){try{const{supabase:k}=await ed(async()=>{const{supabase:$}=await Promise.resolve().then(()=>OS);return{supabase:$}},void 0),A=["Markers_Core","Markers_Appearance","Markers_Content"];for(const $ of A){const{data:O,error:F}=await k.from($).select("id").eq("id",Number(T));if(F)return!1;if(O&&O.length>0)return!0}return!1}catch{return!1}}return e?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:_,"aria-label":"Add marker",className:"bg-white rounded-full shadow p-2 flex items-center justify-center print-hide",style:{position:"absolute",left:10,top:60,zIndex:1001,width:44,height:44,border:"none",cursor:s?"crosshair":"pointer",background:s?"#e3f2fd":"white"},title:i(s?"mapManagement.addMarkerTooltipActive":"mapManagement.addMarkerTooltip"),children:[h.jsx(h5.Icon,{path:kk,size:1.5,color:"#1976d2","aria-hidden":"true",style:{width:"42px",height:"42px"}}),h.jsx("span",{className:"sr-only",children:i("mapManagement.addMarker")})]}),l&&h.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100svh",background:"rgba(0,0,0,0.3)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{background:"white",borderRadius:8,boxShadow:"0 2px 16px rgba(25,118,210,0.15)",padding:32,minWidth:320,display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx("h2",{style:{color:"#1976d2",fontWeight:700,marginBottom:16},children:i("mapManagement.enterMarkerId")}),h.jsx("input",{type:"number",value:f,onChange:T=>m(T.target.value),style:{fontSize:18,padding:"8px 12px",border:"2px solid #1976d2",borderRadius:4,marginBottom:12,width:"100%"},placeholder:i("mapManagement.markerIdPlaceholder"),min:1}),y&&h.jsx("div",{style:{color:"red",marginBottom:8},children:y}),h.jsxs("div",{style:{display:"flex",gap:12},children:[h.jsx("button",{onClick:w,style:{background:"#1976d2",color:"white",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:i("mapManagement.confirm")}),h.jsx("button",{onClick:C,style:{background:"#eee",color:"#1976d2",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:i("mapManagement.cancel")})]})]})})]}):null}function uU({lat:e,lng:t}){return{id:null,lat:e,lng:t,name:"",label:"",logo:"",coreLocked:!1}}var d6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P3=Ti.createContext&&Ti.createContext(d6),cU=["attr","size","title"];function dU(e,t){if(e==null)return{};var n=hU(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function hU(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pf.apply(this,arguments)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(i){fU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fU(e,t,n){return t=mU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h6(e){return e&&e.map((t,n)=>Ti.createElement(t.tag,Of({key:n},t.attr),h6(t.child)))}function xo(e){return t=>Ti.createElement(gU,Pf({attr:Of({},e.attr)},t),h6(e.child))}function gU(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=dU(e,cU),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Ti.createElement("svg",Pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:f,style:Of(Of({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Ti.createElement("title",null,a),e.children)};return P3!==void 0?Ti.createElement(P3.Consumer,null,n=>t(n)):t(d6)}function yU(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function vU(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function bU(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function xU(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(e)}function f6(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function _U(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function wU(e){return xo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}function SU(e){e&&e.zoomIn()}function CU(e){e&&e.zoomOut()}function EU(e,t,n){e&&e.setView(t,n)}function jU({mapInstance:e}){const t=()=>{window.L&&e&&e.printControl?e.printControl.printMap():window.print()};return h.jsx("button",{onClick:t,className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center","aria-label":"Print map",title:"Print map",type:"button",children:h.jsx(xU,{size:24,color:"#1976d2"})})}const NU={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function TU({mapInstance:e,mapCenter:t,mapZoom:n,searchControlRef:i,isAdminView:s,showLayersMenu:a,setShowLayersMenu:l,activeLayer:d,setActiveLayer:f,showRectanglesAndHandles:m,setShowRectanglesAndHandles:y,MAP_LAYERS:v}){const _=()=>SU(e),w=()=>CU(e),C=()=>EU(e,t,n);return h.jsxs("div",{className:"map-controls-print-hide",style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[h.jsxs("button",{onClick:C,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(bU,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Home"})]}),h.jsxs("button",{onClick:_,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(f6,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Zoom in"})]}),h.jsxs("button",{onClick:w,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(_U,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Zoom out"})]}),s&&h.jsx(jU,{mapInstance:e}),s&&h.jsxs("div",{style:{position:"relative"},children:[h.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>l(N=>!N),children:[h.jsx(_e,{path:Ck,size:1.2,color:"#1976d2"}),h.jsx("span",{className:"sr-only",children:"Map layers"})]}),a&&h.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[h.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),v.map(N=>h.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${d===N.key?"bg-blue-50 font-bold":""}`,onClick:()=>f(N.key),role:"menuitem",style:{color:"#1976d2"},children:N.name},N.key)),h.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),h.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[h.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked),style:NU}),h.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:m?"inline-block":"none"},children:h.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:h.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),h.jsx("span",{style:{marginLeft:m?-8:0},children:"Booth Surface"})]})]})]})]})}function m6({isActive:e,onClick:t,favoritesCount:n}){return h.jsx("button",{onClick:t,className:`
        rounded-full shadow-md
        flex items-center justify-center
        transition-all duration-200
        ${e?"bg-yellow-100 border-2 border-yellow-300":"bg-white border-2 border-transparent hover:bg-gray-50"}
      `,style:{position:"absolute",top:"64px",left:"10px",zIndex:1e3,width:"44px",height:"44px"},title:e?`Showing ${n} favorite${n!==1?"s":""} only`:`Show ${n} favorite${n!==1?"s":""} only`,"aria-label":e?"Show all exhibitors":"Show favorites only","aria-pressed":e,children:h.jsx(_e,{path:S5,size:1,className:e?"text-yellow-600":"text-gray-400"})})}m6.propTypes={isActive:Ne.bool.isRequired,onClick:Ne.func.isRequired,favoritesCount:Ne.number.isRequired};function kU(e){return function(n){const i=k5(e),s="/Map".endsWith("/")?"/Map":"/Map/";return c1({iconUrl:`${s}assets/icons/glyph-marker-icon-orange.svg`,iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='${i}' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}}function $U(e){return e.angle||0}function ea(e,t,n){const i=n*Math.PI/180,s=e*Math.cos(i)-t*Math.sin(i),a=e*Math.sin(i)+t*Math.cos(i);return[s,a]}function dc(e){return e/111320}function hc(e,t){return e/(40075e3*Math.cos(t*Math.PI/180)/360)}function AU(e){return e*111320}function LU(e,t){return e*(40075e3*Math.cos(t*Math.PI/180)/360)}function MU({mapInstance:e,markers:t,rectangleSize:n,isAdminView:i,showRectanglesAndHandles:s,updateMarker:a,rectangleLayerRef:l}){if(!e)return;l.current||(l.current=Pt.layerGroup(),l.current.addTo(e));const d=l.current;d._markerLayers||(d._markerLayers={}),Object.keys(d._markerLayers).forEach(f=>{t.find(m=>m.id===f)||(d.removeLayer(d._markerLayers[f].rectangle),d.removeLayer(d._markerLayers[f].handle),delete d._markerLayers[f])}),t.forEach(f=>{if(f.lat&&f.lng){const m=Pt.latLng(f.lat,f.lng),y=Array.isArray(f.rectangle)&&f.rectangle.length===2?f.rectangle:n,v=Number(y[0])/2,_=Number(y[1])/2,w=$U(f),C="#1976d2",N=[ea(-v,-_,w),ea(v,-_,w),ea(v,_,w),ea(-v,_,w)],T=N.map(([$,O])=>Pt.latLng(m.lat+dc(O),m.lng+hc($,m.lat)));let k,A;if(d._markerLayers[f.id]){k=d._markerLayers[f.id].rectangle,k.setLatLngs(T),A=d._markerLayers[f.id].handle;const[$,O]=N[2],F=Pt.latLng(m.lat+dc(O),m.lng+hc($,m.lat));A.setLatLng(F)}else{k=Pt.polygon(T,{color:C,weight:1});const[$,O]=N[2],F=Pt.latLng(m.lat+dc(O),m.lng+hc($,m.lat));let R;if(i&&!f.coreLocked){const Z=Pt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});R=Pt.marker(F,{icon:Z,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),R.on("dragstart",function(){e&&e.dragging.disable()});let W=w;R.on("drag",function(V){const Q=V.target.getLatLng(),G=LU(Q.lng-m.lng,m.lat),q=AU(Q.lat-m.lat);let K=Math.atan2(q,G)*180/Math.PI;K<0&&(K+=360),W=K;const ne=[ea(-v,-_,W),ea(v,-_,W),ea(v,_,W),ea(-v,_,W)],H=ne.map(([B,D])=>Pt.latLng(m.lat+dc(D),m.lng+hc(B,m.lat)));k.setLatLngs(H);const[Y,ie]=ne[2],ke=Pt.latLng(m.lat+dc(ie),m.lng+hc(Y,m.lat));R.setLatLng(ke)}),R.on("dragend",function(){e&&e.dragging.enable(),a(f.id,{angle:W})})}else{const Z=Pt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});R=Pt.marker(F,{icon:Z,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}d.addLayer(k),d.addLayer(R),d._markerLayers[f.id]={rectangle:k,handle:R}}}}),Object.values(d._markerLayers).forEach(({rectangle:f,handle:m})=>{s?(d.addLayer(f),d.addLayer(m)):(d.removeLayer(f),d.removeLayer(m))})}const p6=e=>[e.name,e.glyph,e.label].filter(Boolean).join(" | "),R3=(e,t)=>t&&e&&e.coreLocked===!1;function PU(){const e=j.useCallback(n=>{},[]),t=j.useCallback(n=>{},[]);return{trackMarkerView:e,trackMapInteraction:t}}function OU(e,t,n={}){const i=j.useRef(null),[s,a]=j.useState(null);return j.useEffect(()=>{if(!e)return;if(t&&typeof t.addLayer=="function"){a(t);return}const l=Pt.layerGroup();(Array.isArray(t)?t:[]).forEach(f=>{if(f&&f.lat&&f.lng){const m=p6(f),y=Pt.marker([f.lat,f.lng],{opacity:0,interactive:!1});y.feature={type:"Feature",properties:{searchText:m}},y.bindPopup(f.name||f.label||""),l.addLayer(y)}}),a(l)},[e,t]),j.useEffect(()=>{if(!e||!s)return;const l={layer:s,propertyName:"searchText",initial:!1,zoom:ai.SEARCH_ZOOM,marker:{icon:!1,animate:!0,circle:{radius:8,color:"#d32f2fff",weight:2,fillOpacity:.15}},textPlaceholder:"Search for name or booth...",position:"topleft"},d=Object.assign({},l,n||{});n&&n.marker&&(d.marker=Object.assign({},l.marker,n.marker),n.marker.circle&&(d.marker.circle=Object.assign({},l.marker.circle,n.marker.circle)));const f=new Pt.Control.Search(d);return e.addControl(f),i.current=f,f.on("search:locationfound",m=>{if(m?.layer?.getLatLng){const y=m.layer.getLatLng();e.flyTo(y,d.zoom,{animate:!0});const v=()=>{try{f._markerSearch?e.hasLayer&&e.hasLayer(f._markerSearch)?e.removeLayer(f._markerSearch):typeof f._markerSearch.remove=="function"&&f._markerSearch.remove():f._marker&&(e.hasLayer&&e.hasLayer(f._marker)?e.removeLayer(f._marker):typeof f._marker.remove=="function"&&f._marker.remove())}catch{}},_=()=>v();e.on&&e.on("zoomstart",_),f._input&&f._input.blur(),f.hideAlert&&f.hideAlert(),f.collapse&&f.collapse()}}),()=>{try{e&&typeof e.off=="function"&&e.off("zoomstart",zoomStartHandler)}catch{}e&&f&&(e.removeControl(f),i.current=null)}},[e,s,JSON.stringify(n)]),i}function om(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(null),l=j.useRef(null),d=j.useCallback(async()=>{try{i(!0);const{data:y,error:v}=await pe.from("organization_settings").select("*").eq("id",1).maybeSingle();if(v){if(v.code==="42P01"||v.message?.includes("does not exist")){console.warn("organization_settings table does not exist. Run migrations 25 & 26."),t(null),a(null),i(!1);return}console.error("Error fetching organization settings:",v),a(v.message),t(null),i(!1);return}if(!y){console.warn("Organization settings row not found (id=1). Database migration may not have run."),t(null),a(null),i(!1);return}t(y),a(null),i(!1)}catch(y){console.error("Error in fetchSettings:",y),a(y.message),t(null),i(!1)}},[]),f=j.useCallback(async(y,v)=>{if(!e)return console.error("Cannot update setting: Settings not loaded"),!1;try{const{data:{user:_}}=await pe.auth.getUser();if(!_)return console.error("Cannot update setting: No user logged in"),!1;const w=e.row_version||0,{data:C,error:N}=await pe.from("organization_settings").update({[y]:v,row_version:w+1,updated_by:_.id}).eq("id",1).eq("row_version",w).select().single();if(N)throw N.code==="PGRST301"||N.message?.includes("permission")?new Error("Permission denied. Only super_admin or system_manager can update organization settings."):(console.error(`Error updating setting ${y}:`,N),new Error(N.message||`Failed to update setting: ${y}`));if(!C)throw await d(),new Error("Organization settings were updated by another admin. Please try again.");return t(C),!0}catch(_){throw console.error("Error in updateSetting:",_),_}},[e,d]),m=j.useCallback(async y=>{if(!e)return console.error("Cannot update settings: Settings not loaded"),!1;try{const{data:{user:v}}=await pe.auth.getUser();if(!v)return console.error("Cannot update settings: No user logged in"),!1;const _=e.row_version||0,{data:w,error:C}=await pe.from("organization_settings").update({...y,row_version:_+1,updated_by:v.id}).eq("id",1).eq("row_version",_).select().single();if(C)throw C.code==="PGRST301"||C.message?.includes("permission")?new Error("Permission denied. Only super_admin or system_manager can update organization settings."):(console.error("Error updating settings:",C),new Error(C.message||"Failed to update organization settings"));if(!w)throw await d(),new Error("Organization settings were updated by another admin. Please try again.");return t(w),!0}catch(v){throw console.error("Error in updateSettings:",v),v}},[e,d]);return j.useEffect(()=>{d()},[d]),j.useEffect(()=>{if(e)return l.current&&(l.current.unsubscribe(),l.current=null),l.current=pe.channel("organization-settings-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"organization_settings",filter:"id=eq.1"},y=>{y.new.row_version>(e.row_version||0)&&t(y.new)}).subscribe(),()=>{l.current&&(l.current.unsubscribe(),l.current=null)}},[e?.row_version]),{settings:e,loading:n,error:s,updateSetting:f,updateSettings:m,refreshSettings:d}}function RU(){const{settings:e,loading:t}=om();return{MAP_CONFIG:j.useMemo(()=>e?{DEFAULT_POSITION:[e.map_center_lat??ai.DEFAULT_POSITION[0],e.map_center_lng??ai.DEFAULT_POSITION[1]],DEFAULT_ZOOM:e.map_default_zoom??ai.DEFAULT_ZOOM,MIN_ZOOM:e.map_min_zoom??ai.MIN_ZOOM,MAX_ZOOM:e.map_max_zoom??ai.MAX_ZOOM,SEARCH_ZOOM:e.map_search_zoom??ai.SEARCH_ZOOM,ZOOM_DELTA:ai.ZOOM_DELTA,ZOOM_SNAP:ai.ZOOM_SNAP,RECTANGLE_SIZE:ai.RECTANGLE_SIZE,MINIMAP:ai.MINIMAP}:ai,[e]),MAP_LAYERS:Ik,BRANDING_CONFIG:po,loading:t}}var u0={exports:{}},D3;function DU(){return D3||(D3=1,(function(e){(function(t){e.exports=t(u1())})(function(t){return t.Control.Search=t.Control.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,i){var s=i.split("."),a=s.pop(),l=s.length,d=s[0],f=1;if(l>0)for(;(n=n[d])&&f<l;)d=s[f++];if(n)return n[a]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){t.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new t.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=t.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof t.Marker||this.options.marker instanceof t.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new t.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=t.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):t.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var i=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){i.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",t.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var i=t.DomUtil.create("div",n,this._container);return i.style.display="none",t.DomEvent.on(i,"click",t.DomEvent.stop,this).on(i,"click",this.hideAlert,this),i},_createInput:function(n,i){var s=this,a=t.DomUtil.create("label",i,this._container),l=t.DomUtil.create("input",i,this._container);return l.type="text",l.size=this._inputMinSize,l.value="",l.autocomplete="off",l.autocorrect="off",l.autocapitalize="off",l.placeholder=n,l.style.display="none",l.role="search",l.id=l.role+l.type+l.size,a.htmlFor=l.id,a.style.display="none",a.value=n,t.DomEvent.disableClickPropagation(l).on(l,"keyup",this._handleKeypress,this).on(l,"paste",function(d){setTimeout(function(f){s._handleKeypress(f)},10,d)},this).on(l,"blur",this.collapseDelayed,this).on(l,"focus",this.collapseDelayedStop,this),l},_createCancel:function(n,i){var s=t.DomUtil.create("a",i,this._container);return s.href="#",s.title=n,s.style.display="none",s.innerHTML="<span>&otimes;</span>",t.DomEvent.on(s,"click",t.DomEvent.stop,this).on(s,"click",this.cancel,this),s},_createButton:function(n,i){var s=t.DomUtil.create("a",i,this._container);return s.href="#",s.title=n,t.DomEvent.on(s,"click",t.DomEvent.stop,this).on(s,"click",this._handleSubmit,this).on(s,"focus",this.collapseDelayedStop,this).on(s,"blur",this.collapseDelayed,this),s},_createTooltip:function(n){var i=this,s=t.DomUtil.create("ul",n,this._container);return s.style.display="none",t.DomEvent.disableClickPropagation(s).on(s,"blur",this.collapseDelayed,this).on(s,"wheel",function(a){i.collapseDelayedStop(),t.DomEvent.stopPropagation(a)},this).on(s,"mouseover",function(a){i.collapseDelayedStop()},this),s},_createTip:function(n,i){var s;if(this.options.buildTip){if(s=this.options.buildTip.call(this,n,i),typeof s=="string"){var a=t.DomUtil.create("div");a.innerHTML=s,s=a.firstChild}}else s=t.DomUtil.create("li",""),s.innerHTML=n;return t.DomUtil.addClass(s,"search-tip"),s._text=n,this.options.tipAutoSubmit&&t.DomEvent.disableClickPropagation(s).on(s,"click",t.DomEvent.stop,this).on(s,"click",function(l){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),s},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,i){var s,a,l,d={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];s=this.options.initial?"^":"",a=this.options.casesensitive?void 0:"i",l=new RegExp(s+n,a);for(let f in i)l.test(f)&&(d[f]=i[f]);return d},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let i in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(i,n[i]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var i=this,s=this.options.propertyName,a=this.options.propertyLoc,l={};if(t.Util.isArray(a))for(let d in n)l[i._getPath(n[d],s)]=t.latLng(i._getPath(n[d],a[0]),i._getPath(n[d],a[1]));else for(let d in n)l[i._getPath(n[d],s)]=t.latLng(i._getPath(n[d],a));return l},_recordsFromJsonp:function(n,i){t.Control.Search.callJsonp=i;var s=t.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),a=t.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return s.type="text/javascript",s.src=a,{abort:function(){s.parentNode.removeChild(s)}}},_recordsFromAjax:function(n,i){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var s=t.Browser.ie&&!window.atob&&document.querySelector,a=s?new XDomainRequest:new XMLHttpRequest,l=t.Util.template(this._getUrl(n),{s:n});return a.open("GET",l),a.onload=function(){i(JSON.parse(a.responseText))},a.onreadystatechange=function(){a.readyState===4&&a.status===200&&this.onload()},a.send(),a},_searchInLayer:function(n,i,s){var a=this,l;n instanceof t.Control.Search.Marker||(n instanceof t.Marker||n instanceof t.CircleMarker?a._getPath(n.options,s)?(l=n.getLatLng(),l.layer=n,i[a._getPath(n.options,s)]=l):a._getPath(n.feature.properties,s)&&(l=n.getLatLng(),l.layer=n,i[a._getPath(n.feature.properties,s)]=l):n instanceof t.Path||n instanceof t.Polyline||n instanceof t.Polygon?a._getPath(n.options,s)?(l=n.getBounds().getCenter(),l.layer=n,i[a._getPath(n.options,s)]=l):a._getPath(n.feature.properties,s)&&(l=n.getBounds().getCenter(),l.layer=n,i[a._getPath(n.feature.properties,s)]=l):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(s)&&(n.getLatLng&&typeof n.getLatLng=="function"?(l=n.getLatLng(),l.layer=n,i[n.feature.properties[s]]=l):n.getBounds&&typeof n.getBounds=="function"&&(l=n.getBounds().getCenter(),l.layer=n,i[n.feature.properties[s]]=l)):n instanceof t.LayerGroup&&n.eachLayer(function(d){a._searchInLayer(d,i,s)}))},_recordsFromLayer:function(){var n=this,i={},s=this.options.propertyName;return this._layer.eachLayer(function(a){n._searchInLayer(a,i,s)}),i},_autoType:function(){var n=this._input.value.length,i=this._tooltip.firstChild?this._tooltip.firstChild._text:"",s=i.length;if(i.indexOf(this._input.value)===0)if(this._input.value=i,this._handleAutoresize(),this._input.createTextRange){var a=this._input.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",s),a.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,s):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=s)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var i=this._input.value.length;n.moveStart("character",i),n.moveEnd("character",i),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var i=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){i._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var i=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:i})},_fillRecordsCache:function(){var n=this,i=this._input.value,s;this._curReq&&this._curReq.abort&&this._curReq.abort(),t.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),s=this._filterData(this._input.value,this._recordsCache),this.showTooltip(s),t.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,i,function(a){n._recordsCache=n._formatData.call(n,a),n.options.sourceData?s=n._filterData(n._input.value,n._recordsCache):s=n._recordsCache,n.showTooltip(s),t.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=83,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var i=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let a=0;a<i.length;a++)t.DomUtil.removeClass(i[a],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=i.length-1)t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select"),this._input.value=i[this._tooltip.currentSelection]._text;var s=i[this._tooltip.currentSelection].offsetTop;s+i[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=s-this._tooltip.clientHeight+i[this._tooltip.currentSelection].clientHeight:s<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=s)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,i,s){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,i){var s=this;return s._map.once("moveend zoomend",function(a){s._markerSearch&&s._markerSearch.addTo(s._map).setLatLng(n)}),s._moveToLocation(n,i,s._map),s.options.autoCollapse&&s.collapse(),s}}),t.Control.Search.Marker=t.Marker.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{icon:new t.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,i){t.setOptions(this,i),i.icon===!0&&(i.icon=new t.Icon.Default),t.Marker.prototype.initialize.call(this,n,i),t.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new t.CircleMarker(n,this.options.circle))},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){t.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return t.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&t.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&t.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,i=200,s=5,a=parseInt(n._radius/s),l=this.options.circle.radius,d=n._radius*2,f=0;n._timerAnimLoc=setInterval(function(){f+=.5,a+=f,d-=a,n.setRadius(d),d<l&&(clearInterval(n._timerAnimLoc),n.setRadius(l))},i)}return this}}),t.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=t.control.search(this.options.searchControl),this.addControl(this.searchControl))}),t.control.search=function(n){return new t.Control.Search(n)},t.Control.Search})})(u0)),u0.exports}DU();var c0={exports:{}},z3;function zU(){return z3||(z3=1,(function(e,t){(function(n,i){e.exports=n(u1()),typeof i<"u"&&i.L&&(i.L.Control.MiniMap=n(L),i.L.control.minimap=function(s,a){return new i.L.Control.MiniMap(s,a)})})(function(n){var i=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(s,a){n.Util.setOptions(this,a),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=s},onAdd:function(s){this._mainMap=s,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var a={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:s.options.crs};return a=n.Util.extend(this.options.mapOptions,a),this._miniMap=new n.Map(this._container,a),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(s){n.Control.prototype.addTo.call(this,s);var a=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(a,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(s){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(s){this._miniMap.removeLayer(this._layer),this._layer=s,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(s,a,l,d,f,m){var y=n.DomUtil.create("a",l,d);y.innerHTML=s,y.href="#",y.title=a;var v=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",v).on(y,"mousedown",v).on(y,"dblclick",v).on(y,"click",n.DomEvent.preventDefault).on(y,"click",f,m),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(s){s!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(s){if(this._miniMapMoving)this._miniMapMoving=!1;else{var a=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(a,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(s){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(s){if(!this.options.centerFixed){var a=this._aimingRect.getBounds(),l=this._miniMap.latLngToContainerPoint(a.getSouthWest()),d=this._miniMap.latLngToContainerPoint(a.getNorthEast());this._lastAimingRectPosition={sw:l,ne:d}}},_onMiniMapMoving:function(s){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(s){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var s=this.options.zoomLevelFixed;return this._isDefined(s)&&this._isInteger(s)},_decideZoom:function(s){if(this._isZoomLevelFixed())return s?this.options.zoomLevelFixed:this._mainMap.getZoom();if(s)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var a=this._miniMap.getZoom()-this._mainMap.getZoom(),l=this._miniMap.getZoom()-this.options.zoomLevelOffset,d;return a>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(d=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):d=this._mainMap.getZoom():d=l,this._lastMiniMapZoom=this._miniMap.getZoom(),d},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(s){return typeof s=="number"},_isDefined:function(s){return typeof s<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var s={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",s),this.fire("toggle",s)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new i().addTo(this))}),i},window)})(c0)),c0.exports}zU();function lm({isAdminView:e,markersState:t,updateMarker:n,selectedYear:i,selectedMarkerId:s,onMarkerSelect:a,previewUseVisitorSizing:l=!1}){const{MAP_CONFIG:d,MAP_LAYERS:f}=RU(),[m,y]=j.useState({}),[v,_]=j.useState(!1),[w,C]=j.useState(f[0].key),[N,T]=j.useState(!1),[k,A]=j.useState(null),[$,O]=j.useState(null),{organizationLogo:F}=ua(),[R,Z]=IN(),W=`exhibitors_showFavoritesOnly_${i}`,[V,Q]=j.useState(()=>{try{return localStorage.getItem(W)==="true"}catch{return!1}}),[G,q]=j.useState(d.DEFAULT_ZOOM);let de=null;try{de=sd()}catch{}const K=de?.favorites||[],ne=de?.isFavorite||(()=>!1),{t:H}=dt(),Y=OU(k,$,{textPlaceholder:H("map.searchPlaceholder")}),ie=j.useRef(null),ke=j.useRef(!1),[B,D]=j.useState(null),te=j.useMemo(()=>kU(F),[F]),I=d1();PU();const fe=j.useMemo(()=>Array.isArray(t)?t:[],[t]),le=j.useMemo(()=>!V||K.length===0?fe:fe.filter(be=>be.companyId&&ne(be.companyId)),[fe,V,K,ne]);j.useEffect(()=>{fe.forEach(be=>{if(be.logo){const ce=new window.Image;ce.src=ur(be.logo)}})},[fe]),j.useEffect(()=>{try{localStorage.setItem(W,V?"true":"false")}catch{}},[W,V]),j.useEffect(()=>{try{const be=localStorage.getItem(W);Q(be==="true")}catch{}},[W]),j.useEffect(()=>{if(K&&K.length===0&&V){try{localStorage.setItem(W,"false")}catch{}Q(!1)}},[K,W,V]),j.useEffect(()=>{if(!k)return;const be=()=>{const ce=k.getZoom();q(ce)};return q(k.getZoom()),k.on("zoomend",be),()=>{k.off("zoomend",be)}},[k]),j.useEffect(()=>{k&&MU({mapInstance:k,markers:fe,rectangleSize:d.RECTANGLE_SIZE,isAdminView:e,showRectanglesAndHandles:N,updateMarker:n,rectangleLayerRef:ie})},[k,fe,e,N,n]),j.useEffect(()=>{if(!k)return;const be=Pt.layerGroup();fe.forEach(ce=>{if(ce.lat&&ce.lng){const ae=p6(ce),J=Pt.marker([ce.lat,ce.lng],{opacity:0,interactive:!1});J.feature={type:"Feature",properties:{searchText:ae}},J.bindPopup(ce.name||ce.label||""),J._markerId=ce.id,be.addLayer(J)}}),O(be)},[k,fe]),j.useEffect(()=>{const be=Y&&Y.current;if(!k||!$||!be)return;const ce=ae=>{if(ae?.layer){const J=ae.layer._markerId;J&&setTimeout(()=>D(J),800),be._input&&be._input.blur(),be.hideAlert&&be.hideAlert(),be.collapse&&be.collapse()}};return be.on("search:locationfound",ce),()=>{be.off("search:locationfound",ce)}},[k,$,!!(Y&&Y.current)]),j.useEffect(()=>{if(k&&!k._minimapControl){const be=Pt.tileLayer(f[0].url,{attribution:"",minZoom:0,maxZoom:16}),ce=new Pt.Control.MiniMap(be,{position:"bottomright",width:d.MINIMAP.WIDTH,height:d.MINIMAP.HEIGHT,zoomLevelFixed:d.MINIMAP.ZOOM_LEVEL,toggleDisplay:!0,centerFixed:d.DEFAULT_POSITION,aimingRectOptions:{color:d.MINIMAP.AIMING_COLOR,weight:2,opacity:.9,fillOpacity:.1,fill:!0},shadowRectOptions:{color:d.MINIMAP.SHADOW_COLOR,weight:1,opacity:.5,fillOpacity:.05,fill:!0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"}});ce.addTo(k),k._minimapControl=ce}},[k]),j.useEffect(()=>{if(!k||!fe.length||ke.current)return;const be=R.get("focus");if(be){const ce=parseInt(be,10),ae=fe.find(J=>J.id===ce);ae&&ae.lat&&ae.lng&&(setTimeout(()=>{k.flyTo([ae.lat,ae.lng],d.SEARCH_ZOOM,{animate:!0,duration:1}),D(ce)},300),ke.current=!0,Z({},{replace:!0}))}},[k,fe,R,Z]);const ve=be=>{const ce=be?.target||be;A(ce)},Te=e?{height:"100%",width:"100%",position:"relative",touchAction:"pan-x pan-y",overflow:"hidden"}:{height:"100svh",width:"100vw",position:"fixed",inset:0,zIndex:0,touchAction:"pan-x pan-y",overflow:"hidden"};return h.jsxs("div",{style:Te,tabIndex:0,"aria-label":"Event Map",role:"region",children:[h.jsx(TU,{mapInstance:k,mapCenter:d.DEFAULT_POSITION,mapZoom:d.DEFAULT_ZOOM,searchControlRef:Y,isAdminView:e,showLayersMenu:v,setShowLayersMenu:_,activeLayer:w,setActiveLayer:C,showRectanglesAndHandles:N,setShowRectanglesAndHandles:T,MAP_LAYERS:f}),e&&h.jsx(lU,{mapInstance:k,isAdminView:e,updateMarker:n}),!e&&K.length>0&&h.jsx(m6,{isActive:V,onClick:()=>Q(!V),favoritesCount:K.length}),h.jsx("div",{id:"map-container",className:e?"w-full h-full":"fixed inset-0 w-full h-full",style:{zIndex:e?"auto":1,height:e?"100%":"100svh",touchAction:"pan-x pan-y",overflow:"hidden"},"aria-label":H("map.ariaLabel"),children:h.jsxs(nR,{center:d.DEFAULT_POSITION,zoom:d.DEFAULT_ZOOM,minZoom:d.MIN_ZOOM,maxZoom:d.MAX_ZOOM,zoomDelta:d.ZOOM_DELTA,zoomSnap:d.ZOOM_SNAP,zoomControl:!1,style:{width:e?"100%":"100vw",height:e?"100%":"100svh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:ve,attributionControl:!1,children:[f.filter(be=>be.key===w).map(be=>h.jsx(iR,{attribution:be.attribution,url:be.url,maxZoom:d.MAX_ZOOM},be.key)),h.jsx(G1,{safeMarkers:le,infoButtonToggled:m,setInfoButtonToggled:y,isMobile:I,updateMarker:n,isMarkerDraggable:be=>R3(be,e),iconCreateFunction:te,selectedYear:i,isAdminView:e,applyVisitorSizing:l,selectedMarkerId:s,onMarkerSelect:a,focusMarkerId:B,onFocusHandled:()=>D(null),currentZoom:G}),h.jsx(q1,{safeMarkers:fe,infoButtonToggled:m,setInfoButtonToggled:y,isMobile:I,updateMarker:n,isMarkerDraggable:be=>R3(be,e),selectedMarkerId:s,onMarkerSelect:a,isAdminView:e,applyVisitorSizing:l,selectedYear:i,currentZoom:G})]})})]})}lm.propTypes={isAdminView:Ne.bool,previewUseVisitorSizing:Ne.bool,markersState:Ne.array,updateMarker:Ne.func.isRequired,selectedYear:Ne.number,selectedMarkerId:Ne.number,onMarkerSelect:Ne.func};lm.defaultProps={isAdminView:!1,markersState:[],selectedYear:new Date().getFullYear(),selectedMarkerId:null,onMarkerSelect:null,previewUseVisitorSizing:!1};const IU=Object.freeze(Object.defineProperty({__proto__:null,default:lm},Symbol.toStringTag,{value:"Module"}));function BU({markersState:e,setMarkersState:t,updateMarker:n,selectedYear:i}){const{t:s}=dt(),[a,l]=j.useState(""),[d,f]=j.useState(null),[m,y]=j.useState(!1),[v,_]=j.useState(null),[w,C]=j.useState("id"),[N,T]=j.useState("asc"),[k,A]=j.useState([]),{toastError:$}=ui();j.useEffect(()=>{async function K(){try{const[ne,H]=await Promise.all([pe.from("Markers_Core").select("*").in("id",[-1,-2]),pe.from("Markers_Appearance").select("*").in("id",[-1,-2])]);if(ne.error)throw ne.error;if(H.error)throw H.error;const Y=(ne.data||[]).map(ie=>{const ke=(H.data||[]).find(B=>B.id===ie.id)||{};return{...ie,...ke}});A(Y)}catch(ne){console.error("Error fetching default markers:",ne)}}K()},[]);const O=j.useMemo(()=>{if(!e)return k;const ne=[...e.filter(H=>{const Y=a.toLowerCase();return H.id.toString().includes(Y)||H.glyph?.toLowerCase().includes(Y)||H.name?.toLowerCase().includes(Y)})].sort((H,Y)=>{let ie=0;switch(w){case"id":ie=H.id-Y.id;break;case"name":ie=(H.glyph||H.name||"").localeCompare(Y.glyph||Y.name||"");break;case"type":H.id>=1e3!=Y.id>=1e3?ie=H.id>=1e3?-1:1:ie=H.id-Y.id;break;default:ie=H.id-Y.id}return N==="desc"?-ie:ie});return a?ne:[...[...k].sort((Y,ie)=>ie.id-Y.id),...ne]},[e,k,a,w,N]),F=j.useMemo(()=>{if(!d)return null;const K=k.find(ne=>ne.id===d);return K||e?.find(ne=>ne.id===d)},[d,e,k]),R=K=>{f(K.id),y(!1)},Z=()=>{F&&(_({...F}),y(!0))},W=()=>{_(null),y(!1)},V=async()=>{if(!v)return;const K=v.id===-1||v.id===-2;try{if(K){const ne={rectWidth:v.rectWidth,rectHeight:v.rectHeight},H={iconUrl:v.iconUrl,iconSize:v.iconSize,glyphColor:v.glyphColor,glyphSize:v.glyphSize,shadowScale:v.shadowScale},[Y,ie]=await Promise.all([pe.from("Markers_Core").update(ne).eq("id",v.id),pe.from("Markers_Appearance").update(H).eq("id",v.id)]);if(Y.error)throw Y.error;if(ie.error)throw ie.error;A(ke=>ke.map(B=>B.id===v.id?{...B,...v}:B))}else{const ne={};if(Object.keys(v).forEach(H=>{v[H]!==F[H]&&(ne[H]=v[H])}),Object.keys(ne).length===0){y(!1),_(null);return}t(H=>H.map(Y=>Y.id===v.id?{...Y,...v}:Y)),await n(v.id,ne)}y(!1),_(null)}catch(ne){console.error("Error saving marker:",ne),$("Failed to save marker. Please try again.")}},Q=(K,ne)=>{_(H=>({...H,[K]:ne}))},G=F&&(F.id===-1||F.id===-2),q=F&&F.id>=1e3,de=F&&F.id>0&&F.id<1e3;return h.jsx(a1,{requiredRole:["super_admin","system_manager"],children:h.jsxs("div",{className:"bg-white rounded-lg shadow",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(_e,{path:yo,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:s("mapManagement.searchPlaceholder"),value:a,onChange:K=>l(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white w-64",children:[h.jsxs("select",{value:w,onChange:K=>C(K.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none","aria-label":s("mapManagement.sortBy"),children:[h.jsx("option",{value:"id",children:s("mapManagement.sortId")}),h.jsx("option",{value:"name",children:s("mapManagement.sortName")}),h.jsx("option",{value:"type",children:s("mapManagement.sortType")})]}),h.jsx("button",{type:"button",onClick:()=>T(N==="asc"?"desc":"asc"),"aria-label":`Toggle sort direction to ${N==="asc"?"descending":"ascending"}`,className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",children:h.jsx(_e,{path:N==="asc"?Ol:Pl,size:.8})})]})]})}),h.jsxs("div",{className:"flex h-[calc(100vh-150px)]",children:[h.jsx("div",{className:"w-64 border-r border-gray-200 overflow-y-auto flex-shrink-0",children:h.jsx("div",{className:"p-2",children:O.map(K=>{const ne=K.id===d,H=K.id===-1||K.id===-2,Y=K.id>=1e3;return h.jsx("button",{onClick:()=>R(K),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${ne?"bg-blue-50 border-2 border-blue-500":H?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-white border border-gray-200 hover:bg-gray-50"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[K.iconUrl&&h.jsx("img",{src:co(K.iconUrl),alt:"icon",className:"w-6 h-6"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-semibold text-gray-900 truncate",children:H?K.id===-1?"Assigned Booth Default":"Unassigned Booth Default":K.glyph||`Marker ${K.id}`}),h.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",K.id,H&&"  Global Default",Y&&" (Special)"]}),K.name&&h.jsx("div",{className:"text-xs text-gray-600 truncate",children:K.name})]})]})},K.id)})})}),h.jsx("div",{className:"flex-1 relative bg-gray-50",children:h.jsx(j.Suspense,{fallback:h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading map..."}),children:h.jsx(lm,{isAdminView:!0,previewUseVisitorSizing:!0,markersState:e,updateMarker:n,selectedYear:i,selectedMarkerId:d,onMarkerSelect:K=>{f(K),y(!1)}})})}),h.jsx("div",{className:"w-96 border-l border-gray-200 overflow-y-auto p-6 flex-shrink-0",children:F?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:G?F.id===-1?"Assigned Booth Default":"Unassigned Booth Default":F.glyph||`Marker ${F.id}`}),h.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",F.id,G&&"  Global Default for Booth Markers",q&&" (Special Marker)",de&&" (Booth - Content managed via Companies/Assignments)"]})]}),!m&&h.jsx("button",{onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit"})]}),m?h.jsx(FU,{marker:v,isDefaultMarker:G,isSpecialMarker:q,isBoothMarker:de,onChange:Q,onSave:V,onCancel:W}):h.jsx(UU,{marker:F,isSpecialMarker:q,isDefaultMarker:G})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s("mapManagement.selectMarker")})})]})]})})}function UU({marker:e,isSpecialMarker:t,isDefaultMarker:n}){return h.jsxs("div",{className:"space-y-6",children:[n&&h.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" About Default Markers"}),h.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"This defines the default appearance for booth markers (ID < 1000) that have a company assigned.":"This defines the default appearance for booth markers (ID < 1000) that have no company assigned."}),h.jsx("p",{className:"text-sm text-amber-800",children:"Individual booth markers can override these defaults by having their own values in the Appearance table."})]}),!n&&h.jsxs(Ll,{title:"Position & Structure",children:[h.jsx(Nn,{label:"Latitude",value:e.lat}),h.jsx(Nn,{label:"Longitude",value:e.lng}),h.jsx(Nn,{label:"Rectangle",value:JSON.stringify(e.rectangle)}),h.jsx(Nn,{label:"Angle",value:e.angle||0})]}),h.jsxs(Ll,{title:n?"Default Visual Styling":"Visual Styling",children:[h.jsx(Nn,{label:"Icon",children:e.iconUrl&&h.jsx("img",{src:co(e.iconUrl),alt:"icon",className:"w-8 h-8"})}),h.jsx(Nn,{label:"Icon Size",value:JSON.stringify(e.iconSize)}),!n&&h.jsx(Nn,{label:"Glyph (Booth Label)",value:e.glyph}),h.jsx(Nn,{label:"Glyph Color",value:e.glyphColor}),h.jsx(Nn,{label:"Glyph Size",value:e.glyphSize}),h.jsx(Nn,{label:"Glyph Anchor",value:e.glyphAnchor?JSON.stringify(e.glyphAnchor):""}),h.jsx(Nn,{label:"Shadow Scale",value:e.shadowScale??"1.0"}),n&&h.jsxs(h.Fragment,{children:[h.jsx(Nn,{label:"Rectangle Width",value:e.rectWidth}),h.jsx(Nn,{label:"Rectangle Height",value:e.rectHeight})]})]}),t&&h.jsxs(Ll,{title:"Content (Special Marker)",children:[h.jsx(Nn,{label:"Name",value:e.name}),h.jsx(Nn,{label:"Logo",children:e.logo&&h.jsx("img",{src:ur(e.logo),alt:"logo",className:"w-12 h-12"})}),h.jsx(Nn,{label:"Website",value:e.website}),h.jsx(Nn,{label:"Info",value:e.info})]})]})}function FU({marker:e,isDefaultMarker:t,isSpecialMarker:n,isBoothMarker:i,onChange:s,onSave:a,onCancel:l}){return h.jsxs("div",{className:"space-y-6",children:[t&&h.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" Editing Global Defaults"}),h.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"Changes here will affect all booth markers (ID < 1000) that have a company assigned, unless they have individual overrides.":"Changes here will affect all booth markers (ID < 1000) that have no company assigned, unless they have individual overrides."})]}),!t&&h.jsxs(Ll,{title:"Position & Structure",children:[h.jsx(Rn,{label:"Latitude",type:"number",step:"0.0001",value:e.lat,onChange:d=>s("lat",parseFloat(d))}),h.jsx(Rn,{label:"Longitude",type:"number",step:"0.0001",value:e.lng,onChange:d=>s("lng",parseFloat(d))}),h.jsx(Rn,{label:"Angle",type:"number",step:"0.1",value:e.angle||0,onChange:d=>s("angle",parseFloat(d))})]}),h.jsxs(Ll,{title:t?"Default Visual Styling":"Visual Styling",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),h.jsx("div",{className:"grid grid-cols-6 gap-2",children:BO.map(d=>h.jsx("button",{onClick:()=>s("iconUrl",d),className:`p-2 border-2 rounded-lg transition-all ${e.iconUrl===d?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:h.jsx("img",{src:co(d),alt:d,className:"w-8 h-8"})},d))})]}),!t&&h.jsx(Rn,{label:"Glyph (Booth Label)",value:e.glyph,onChange:d=>s("glyph",d)}),h.jsx(Rn,{label:"Glyph Color",type:"color",value:e.glyphColor,onChange:d=>s("glyphColor",d)}),h.jsx(Rn,{label:"Glyph Size",type:"number",step:"0.01",value:e.glyphSize,onChange:d=>s("glyphSize",parseFloat(d))}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(Rn,{label:"Glyph Anchor X",type:"number",step:"0.01",value:e.glyphAnchor?e.glyphAnchor[0]:"",onChange:d=>s("glyphAnchor",[parseFloat(d)||0,e.glyphAnchor&&e.glyphAnchor[1]||0])}),h.jsx(Rn,{label:"Glyph Anchor Y",type:"number",step:"0.01",value:e.glyphAnchor?e.glyphAnchor[1]:"",onChange:d=>s("glyphAnchor",[e.glyphAnchor&&e.glyphAnchor[0]||0,parseFloat(d)||0])})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(Rn,{label:"Icon Width",type:"number",step:"0.01",value:e.iconSize?e.iconSize[0]:"",onChange:d=>s("iconSize",[parseFloat(d)||null,e.iconSize?e.iconSize[1]:null])}),h.jsx(Rn,{label:"Icon Height",type:"number",step:"0.01",value:e.iconSize?e.iconSize[1]:"",onChange:d=>s("iconSize",[e.iconSize?e.iconSize[0]:null,parseFloat(d)||null])})]}),h.jsx(Rn,{label:"Shadow Scale",type:"number",step:"0.01",value:e.shadowScale??1,onChange:d=>s("shadowScale",parseFloat(d))}),t&&h.jsxs(h.Fragment,{children:[h.jsx(Rn,{label:"Rectangle Width",type:"number",step:"1",value:e.rectWidth,onChange:d=>s("rectWidth",parseFloat(d))}),h.jsx(Rn,{label:"Rectangle Height",type:"number",step:"1",value:e.rectHeight,onChange:d=>s("rectHeight",parseFloat(d))})]})]}),n&&h.jsxs(Ll,{title:"Content (Special Marker)",children:[h.jsx(Rn,{label:"Name",value:e.name,onChange:d=>s("name",d)}),h.jsx(Rn,{label:"Logo URL",value:e.logo,onChange:d=>s("logo",d)}),h.jsx(Rn,{label:"Website",value:e.website,onChange:d=>s("website",d)}),h.jsx(VU,{label:"Info",value:e.info,onChange:d=>s("info",d)})]}),i&&h.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-sm text-yellow-800",children:[h.jsx("strong",{children:"Note:"})," This is a booth marker. Content (name, logo, website, info) is managed via the Companies and Assignments tabs."]})}),h.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[h.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(_e,{path:mk,size:.9}),"Save Changes"]}),h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:[h.jsx(_e,{path:mo,size:.9}),"Cancel"]})]})]})}function Ll({title:e,children:t}){return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),h.jsx("div",{className:"space-y-3",children:t})]})}function Nn({label:e,value:t,children:n}){return h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e}),n||h.jsx("div",{className:"text-gray-900",children:t||""})]})}function Rn({label:e,value:t,onChange:n,type:i="text",...s}){const a=i==="color"&&!t?"#000000":t||"";return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),h.jsx("input",{type:i,value:a,"aria-label":e,onChange:l=>n(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...s})]})}function VU({label:e,value:t,onChange:n}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),h.jsx("textarea",{value:t||"",onChange:i=>n(i.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}function K1(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(null),l=j.useCallback(async()=>{try{i(!0),a(null);const{data:v,error:_}=await pe.from("companies").select("*").order("name",{ascending:!0});if(_)throw _;t(v||[])}catch(v){console.error("Error loading companies:",v),a(v.message)}finally{i(!1)}},[]),d=j.useCallback(async v=>{try{v?.phone&&(v.phone=uo(v.phone)),v?.email&&(v.email=v.email.toLowerCase().trim());const{data:_,error:w}=await pe.from("companies").insert([v]).select().single();if(w)throw w;return t(C=>[...C,_].sort((N,T)=>N.name.localeCompare(T.name))),{data:_,error:null}}catch(_){return console.error("Error creating company:",_),{data:null,error:_.message}}},[]),f=j.useCallback(async(v,_)=>{try{(_?.phone||_?.phone==="")&&(_.phone=uo(_.phone)),_?.email&&(_.email=_.email.toLowerCase().trim());const{data:w,error:C}=await pe.from("companies").update(_).eq("id",v).select().single();if(C)throw C;return t(N=>N.map(T=>T.id===v?w:T).sort((T,k)=>T.name.localeCompare(k.name))),{data:w,error:null}}catch(w){return console.error("Error updating company:",w),{data:null,error:w.message}}},[]),m=j.useCallback(async v=>{try{const{error:_}=await pe.from("companies").delete().eq("id",v);if(_)throw _;return t(w=>w.filter(C=>C.id!==v)),{error:null}}catch(_){return console.error("Error deleting company:",_),{error:_.message}}},[]),y=j.useCallback(v=>{if(!v)return e;const _=v.toLowerCase();return e.filter(w=>w.name?.toLowerCase().includes(_))},[e]);return j.useEffect(()=>{l()},[l]),j.useEffect(()=>{const v=pe.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},()=>{l()}).subscribe();return()=>{pe.removeChannel(v)}},[l]),{companies:e,loading:n,error:s,createCompany:d,updateCompany:f,deleteCompany:m,searchCompanies:y,reload:l}}function HU(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(null),l=j.useCallback(async()=>{try{i(!0);const{data:f,error:m}=await pe.from("organization_profile").select("*").single();if(m)if(m.code==="PGRST116")console.warn("No organization profile found. A default one should be created by the migration."),t(null);else throw m;t(f),a(null)}catch(f){console.error("Error fetching organization profile:",f),a(f.message)}finally{i(!1)}},[]);return j.useEffect(()=>{l();const f=pe.channel("public:organization_profile").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},m=>{m.new&&t(m.new)}).subscribe();return()=>{pe.removeChannel(f)}},[l]),{profile:e,loading:n,error:s,updateProfile:async f=>{try{(f?.phone||f?.phone==="")&&(f.phone=uo(f.phone)),f?.email&&(f.email=f.email.toLowerCase().trim());const{data:m,error:y}=await pe.from("organization_profile").update(f).eq("id",1).select().single();if(y)throw y;return t(m),{data:m,error:null}}catch(m){return console.error("Error updating organization profile:",m),{data:null,error:m.message}}}}}function ZU({createCompany:e,updateCompany:t,deleteCompany:n,updateProfile:i,organizationLogo:s,confirm:a,toastError:l}){const[d,f]=j.useState(null),[m,y]=j.useState({}),[v,_]=j.useState(!1),[w,C]=j.useState({name:"",logo:s||"",website:"",info:""});return{editingId:d,editForm:m,setEditForm:y,isCreating:v,newCompanyForm:w,setNewCompanyForm:C,handleEdit:R=>{f(R.id),y({...R})},handleSave:async()=>{const R=d;if(R==="organization"){const{name:Z,logo:W,website:V,info:Q,contact:G,phone:q,email:de}=m;await i({name:Z,logo:W,website:V,info:Q,contact:G,phone:q,email:de})}else await t(R,m);f(null),y({})},handleCancel:()=>{f(null),y({})},handleDelete:async(R,Z)=>{if(!await a({title:"Delete Company",message:`Are you sure you want to delete "${Z}"? This will also delete all assignments for this company.`,confirmText:"Delete",variant:"danger"}))return;const{error:V}=await n(R);V&&l(`Error deleting company: ${V}`)},handleCreate:async()=>{if(!w.name.trim()){l("Company name is required");return}const{error:R}=await e(w);R?l(`Error creating company: ${R}`):(_(!1),C({name:"",logo:s,website:"",info:""}))},handleStartCreate:()=>{_(!0),C({name:"",logo:s,website:"",info:""})},handleCancelCreate:()=>{_(!1),C({name:"",logo:s,website:"",info:""})}}}function g6(e){const[t,n]=j.useState({}),[i,s]=j.useState(!1),[a,l]=j.useState(null),d=j.useCallback(async()=>{if(!e){n({});return}try{s(!0),l(null);const{data:_,error:w}=await pe.from("company_translations").select("language_code, info").eq("company_id",e);if(w)throw w;const C={};(_||[]).forEach(N=>{C[N.language_code]=N.info}),n(C)}catch(_){console.error("Error loading translations:",_),l(_.message)}finally{s(!1)}},[e]),f=async(_,w)=>{if(e)try{l(null);const{error:C}=await pe.from("company_translations").upsert({company_id:e,language_code:_,info:w,updated_at:new Date().toISOString()},{onConflict:"company_id,language_code"});if(C)throw C;return n(N=>({...N,[_]:w})),!0}catch(C){return console.error("Error saving translation:",C),l(C.message),!1}},m=async _=>{if(e)try{l(null);const{error:w}=await pe.from("company_translations").delete().eq("company_id",e).eq("language_code",_);if(w)throw w;return n(C=>{const N={...C};return delete N[_],N}),!0}catch(w){return console.error("Error deleting translation:",w),l(w.message),!1}},y=(_,w="nl")=>t[_]||t[w]||"",v=()=>Object.keys(t);return j.useEffect(()=>{d()},[d]),{translations:t,loading:i,error:a,saveTranslation:f,deleteTranslation:m,getTranslation:y,getAvailableLanguages:v,reload:d}}const qU=[{code:"nl",label:"Nederlands",flag:""},{code:"en",label:"English",flag:""},{code:"de",label:"Deutsch",flag:""}];function GU({currentLanguage:e,onLanguageChange:t,translations:n={},className:i=""}){return h.jsx("div",{className:`flex items-center gap-1 ${i}`,children:qU.map(s=>{const a=e===s.code,l=n[s.code]&&n[s.code].trim()!=="";return h.jsxs("button",{type:"button",onClick:()=>t(s.code),className:`px-2 py-1 rounded text-xs font-medium transition flex items-center gap-1 ${a?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[h.jsx("span",{children:s.flag}),h.jsx("span",{children:s.label}),l&&!a&&h.jsx(_e,{path:ra,size:.5,className:"text-green-600"})]},s.code)})})}function KU({translations:e={}}){const t=Object.keys(e).filter(n=>e[n]&&e[n].trim()!=="").length;return t<=1?null:h.jsx("span",{className:"inline-block ml-1 text-blue-600",title:`Available in ${t} languages`,children:""})}function Rf(e){if(!e||e.trim()==="")return"";const t=zl(e);if(!t||!t.isValid())return e;const n=t.countryCallingCode,i=t.nationalNumber;if(t.country==="NL"){const s=i.replace(/^(\d)(\d{8})$/,"(0)$1-$2");return`+${n} ${s}`}else if(t.country==="BE"){const s=i.replace(/^(\d{1,3})(\d{2})(\d{2})(\d{2})$/,"(0)$1-$2-$3-$4");return`+${n} ${s}`}else if(t.country==="DE"){const s=i.replace(/^(\d{2,4})(\d+)$/,"(0)$1-$2");return`+${n} ${s}`}return`+${n} ${i}`}function y6(e){const t={NL:"",BE:"",DE:"",FR:"",GB:"",US:"",ES:"",IT:""};if(!e)return"";const n=zl(e);return n&&n.country?t[n.country]||"":""}const I3={NL:"",BE:"",DE:"",FR:"",GB:"",US:"",ES:"",IT:""};function v6({value:e="",onChange:t,placeholder:n="Phone number (e.g., +31 (0)6-21165748)",className:i="",defaultCountry:s="NL"}){const[a,l]=j.useState(""),[d,f]=j.useState(null),[m,y]=j.useState(null);j.useEffect(()=>{if(e&&e.trim()!==""){const T=Rf(e);l(T)}else l("")},[e]),j.useEffect(()=>{if(!a||a.trim()===""){f(null),y(null);return}const T=a.trim();let k=zl(T,s);if(!k||!k.isValid()){let A=T.replace(/[()\s.-]+/g,"");A.startsWith("00")&&(A="+"+A.slice(2)),k=zl(A,s)}k&&k.isValid()?(f(!0),y(k)):(f(!1),y(null))},[a,s]);const v=T=>{const k=T.target.value;l(k)},_=()=>{if(a&&a.trim()!==""){const T=uo(a,s);if(T&&T!==e){t(T);const k=Rf(T);l(k)}}else a===""&&e!==""&&t("")},w=()=>d===null?"border-gray-300":d===!0?"border-green-500":d===!1?"border-red-500":"border-gray-300",C=()=>d===null?"bg-white":d===!0?"bg-green-50":d===!1?"bg-red-50":"bg-white",N=()=>m&&m.country?I3[m.country]||"":I3[s]||"";return h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("span",{className:"text-xl",children:N()})}),h.jsx("input",{type:"text",value:a,onChange:v,onBlur:_,placeholder:n,className:`w-full pl-12 pr-3 py-2 border rounded transition-colors ${w()} ${C()} text-gray-900 ${i}`})]}),m&&d&&h.jsxs("div",{className:"text-xs mt-1 text-green-600 flex items-center gap-1",children:[h.jsx("span",{children:""}),h.jsx("span",{children:m.country||"International"}),m.getType()&&h.jsxs("span",{className:"text-gray-500",children:["(",m.getType()==="MOBILE"?"Mobile":"Landline",")"]})]}),d===!1&&a&&h.jsx("div",{className:"text-xs mt-1 text-red-600",children:" Invalid phone number"}),!a&&h.jsx("div",{className:"text-xs mt-1 text-gray-500",children:"Format: +31 (0)6-12345678"})]})}function WU({companyId:e,editingLanguage:t,onLanguageChange:n}){const{translations:i,saveTranslation:s}=g6(e),[a,l]=j.useState(""),[d,f]=j.useState(!1);j.useEffect(()=>{l(i[t]||"")},[t,i]);const m=async()=>{if(a!==(i[t]||"")){f(!0);try{await s(t,a)}catch(y){console.error("Failed to save translation:",y)}finally{f(!1)}}};return h.jsxs("div",{className:"space-y-2",children:[h.jsx(GU,{currentLanguage:t,onLanguageChange:n,translations:i,className:"mb-2"}),h.jsx("textarea",{value:a,onChange:y=>l(y.target.value),onBlur:m,className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4,placeholder:`Enter info in ${t==="nl"?"Dutch":"English"}...`,disabled:d}),d&&h.jsx("span",{className:"text-xs text-gray-500 italic",children:"Saving..."})]})}function YU({companyId:e,currentLanguage:t}){const{translations:n,getTranslation:i}=g6(e),s=i(t,"nl");return h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap flex-1",children:s||h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),h.jsx(KU,{translations:n})]})}function XU(){const{companies:e,loading:t,error:n,createCompany:i,updateCompany:s,deleteCompany:a}=K1(),{profile:l,loading:d,error:f,updateProfile:m}=HU(),{organizationLogo:y}=ua(),{confirm:v,toastError:_}=ui(),{i18n:w,t:C}=dt(),{categories:N,getCompanyCategories:T,getAllCompanyCategories:k,assignCategoriesToCompany:A}=od(),[$,O]=j.useState(""),[F,R]=j.useState("nl"),[Z,W]=j.useState("public"),[V,Q]=j.useState({}),[G,q]=j.useState([]),{editingId:de,editForm:K,setEditForm:ne,isCreating:H,newCompanyForm:Y,setNewCompanyForm:ie,handleEdit:ke,handleSave:B,handleCancel:D,handleDelete:te,handleCreate:I,handleStartCreate:fe,handleCancelCreate:le}=ZU({createCompany:i,updateCompany:s,deleteCompany:a,updateProfile:m,organizationLogo:y,confirm:v,toastError:_});j.useEffect(()=>{(async()=>{if(de&&de!=="organization"){const Me=(await T(de)).map(Pe=>Pe.id);q(Me)}else de||q([])})()},[de]),j.useEffect(()=>{const J=async()=>{if(e.length>0){const se=e.map(Pe=>Pe.id),Me=await k(se);Q(Me)}};Z==="public"&&e.length>0&&J()},[Z,e.length]);const ve=async()=>{if(await B(),de&&de!=="organization"){const J=await A(de,G);if(!J.success)console.error("Failed to assign categories:",J.error),alert("Failed to save categories: "+J.error);else{const se=await T(de);Q(Me=>({...Me,[de]:se}))}}q([])},Te=()=>{D(),q([])},be=j.useMemo(()=>{const J=[];if(l&&J.push({...l,id:"organization",isOrganization:!0}),J.push(...e),!$)return J;const se=$.toLowerCase();return J.filter(Me=>Me.name?.toLowerCase().includes(se))},[l,e,$]),ce=t||d,ae=n||f;return ce?h.jsx("div",{className:"p-4",children:"Loading data..."}):ae?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",ae]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:yo,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:C("helpPanel.companies.searchPlaceholder"),value:$,onChange:J=>O(J.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[be.length," of ",e.length+1]})]}),h.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(_e,{path:id,size:.8}),C("helpPanel.companies.addCompany")]})]}),h.jsxs("div",{className:"flex gap-2 mb-4 border-b flex-shrink-0",children:[h.jsx("button",{onClick:()=>W("public"),className:`px-4 py-2 font-medium transition-colors ${Z==="public"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:C("helpPanel.companies.publicInfoTab","Public Info")}),h.jsx("button",{onClick:()=>W("manager"),className:`px-4 py-2 font-medium transition-colors ${Z==="manager"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-900"}`,children:C("helpPanel.companies.privateInfoTab","Private Info")})]}),h.jsx(Rr,{isOpen:H||!!de,onClose:H?le:Te,title:H?C("helpPanel.companies.newCompany"):`Edit: ${K.name||"Company"}`,size:"lg",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-sm mb-3 text-blue-800",children:"Public Info (visible to attendees)"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",placeholder:C("helpPanel.companies.companyNamePlaceholder"),value:H?Y.name:K.name,onChange:J=>H?ie({...Y,name:J.target.value}):ne({...K,name:J.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-900",children:C("helpPanel.companies.companyLogo")}),h.jsx(Zf,{currentLogo:H?Y.logo:K.logo,onUploadComplete:(J,se)=>{H?ie({...Y,logo:J}):ne({...K,logo:J})},folder:de==="organization"?"organization":"companies",label:"Upload Logo",showPreview:!0,allowDelete:!0,onDelete:()=>{H?ie({...Y,logo:y}):ne({...K,logo:y})}}),h.jsx("input",{type:"text",placeholder:C("helpPanel.companies.logoUrlPlaceholder"),value:H?Y.logo:K.logo||"",onChange:J=>H?ie({...Y,logo:J.target.value}):ne({...K,logo:J.target.value}),className:"w-full px-3 py-2 border rounded mt-2 text-sm bg-white text-gray-900"})]}),h.jsx("input",{type:"text",placeholder:"Website URL",value:H?Y.website:K.website||"",onChange:J=>H?ie({...Y,website:J.target.value}):ne({...K,website:J.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900"}),de==="organization"?h.jsx("textarea",{placeholder:C("helpPanel.companies.infoPlaceholder"),value:H?Y.info:K.info||"",onChange:J=>H?ie({...Y,info:J.target.value}):ne({...K,info:J.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900",rows:3}):H?h.jsx("textarea",{placeholder:C("helpPanel.companies.infoPlaceholder"),value:Y.info,onChange:J=>ie({...Y,info:J.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900",rows:3}):h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-900",children:"Info (Multi-language)"}),h.jsx(WU,{companyId:de,editingLanguage:F,onLanguageChange:R})]}),!H&&de!=="organization"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Categories"}),N.length>0?h.jsx("div",{className:"flex flex-col gap-1.5",children:N.map(J=>h.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer px-2.5 py-1.5 rounded text-sm",style:{backgroundColor:G.includes(J.id)?J.color+"30":J.color+"15",color:J.color,border:`1px solid ${J.color}40`},children:[h.jsx("input",{type:"checkbox",checked:G.includes(J.id),onChange:se=>{const Me=se.target.checked?[...G,J.id]:G.filter(Pe=>Pe!==J.id);q(Me)},className:"cursor-pointer"}),J.icon&&h.jsx(_e,{path:J.icon,size:.6}),J.name]},J.id))}):h.jsx("span",{className:"text-red-500 text-sm italic",children:"No categories available"})]})]})]}),h.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-sm mb-3 text-green-800",children:"Manager-Only Info (default contact info)"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[h.jsx("input",{type:"text",placeholder:"Contact Person",value:H?Y.contact||"":K.contact||"",onChange:J=>H?ie({...Y,contact:J.target.value}):ne({...K,contact:J.target.value}),className:"px-3 py-2 border rounded bg-white text-gray-900"}),h.jsx(v6,{value:H?Y.phone||"":K.phone||"",onChange:J=>H?ie({...Y,phone:J}):ne({...K,phone:J}),placeholder:"Phone (e.g., +31612345678)"}),h.jsx("input",{type:"email",placeholder:"Email",value:H?Y.email||"":K.email||"",onChange:J=>{const se=J.target.value.toLowerCase();H?ie({...Y,email:se}):ne({...K,email:se})},className:"px-3 py-2 border rounded bg-white text-gray-900"})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[h.jsx("button",{onClick:H?le:Te,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),h.jsx("button",{onClick:H?I:ve,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:H?"Create":"Save"})]})]})}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full rounded",style:{tableLayout:"fixed",fontSize:"11px"},children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{children:[Z==="public"?h.jsxs(h.Fragment,{children:[h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Name"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Logo"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Website"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Info"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Categories"})]}):h.jsxs(h.Fragment,{children:[h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Name"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Contact"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Phone"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Email"})]}),h.jsx("th",{className:"p-2 bg-gray-100 border-b font-semibold text-gray-900",style:{minWidth:"90px",width:"90px",maxWidth:"120px"},children:"Actions"})]})}),h.jsx("tbody",{children:be.map(J=>{const se=J.isOrganization,Me=se?"bg-gray-700 text-white":"bg-white text-gray-900 hover:bg-gray-50",Pe=Z==="public"?"bg-blue-50":"bg-green-50";return h.jsxs("tr",{className:`${Me} border-b`,children:[h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":Pe}`,children:h.jsx("span",{className:"font-semibold",children:J.name})}),Z==="public"?h.jsxs(h.Fragment,{children:[h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":"bg-blue-50"}`,children:h.jsx("img",{src:ur(J.logo&&J.logo.trim()!==""?J.logo:y),alt:J.name,className:"h-8 object-contain"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":"bg-blue-50"}`,children:J.website?h.jsx("a",{href:J.website.startsWith("http")?J.website:`https://${J.website}`,target:"_blank",rel:"noopener noreferrer",className:se?"text-blue-300 hover:underline":"text-blue-600 hover:underline",children:J.website.replace(/^https?:\/\//,"").substring(0,30)}):h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left max-w-xs ${se?"":"bg-blue-50"}`,children:se?h.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap",children:J.info||h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}):h.jsx(YU,{companyId:J.id,currentLanguage:de===J.id?w.language:"nl"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":"bg-blue-50"}`,children:se?h.jsx("span",{className:"text-gray-400 text-xs italic",children:"N/A"}):h.jsxs("div",{className:"flex flex-wrap gap-1",children:[(V[J.id]||[]).map(Ke=>h.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded inline-flex items-center gap-1",style:{backgroundColor:Ke.color+"20",color:Ke.color},children:[Ke.icon&&h.jsx(_e,{path:Ke.icon,size:.5}),Ke.name]},Ke.id)),(!V[J.id]||V[J.id].length===0)&&h.jsx("span",{className:"text-gray-400 text-xs italic",children:"None"})]})})]}):h.jsxs(h.Fragment,{children:[h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":"bg-green-50"}`,children:h.jsx("span",{className:"text-xs",children:J.contact||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":"bg-green-50"}`,children:J.phone?h.jsxs("span",{className:"text-xs flex items-center gap-1",children:[h.jsx("span",{children:y6(J.phone)}),h.jsx("span",{children:Rf(J.phone)})]}):h.jsx("span",{className:"text-gray-400 italic text-xs",children:"Not set"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${se?"":"bg-green-50"}`,children:h.jsx("span",{className:"text-xs",children:J.email||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]}),h.jsx("td",{className:"py-2 px-3 border-b text-left",children:h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:()=>ke(J),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:h.jsx(_e,{path:Hf,size:.8})}),!se&&h.jsx("button",{onClick:()=>te(J.id,J.name),className:"p-1.5 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete",children:h.jsx(_e,{path:ql,size:.8})}),se&&h.jsx("div",{className:"flex items-center justify-center pt-1 text-gray-300",children:h.jsx(_e,{path:$r,size:.8})})]})})]},J.id)})})]}),be.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:C($?"helpPanel.companies.noResults":"helpPanel.companies.noCompanies")})]})]})}function b6(e){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null);return j.useEffect(()=>{async function d(){try{s(!0),l(null);const{data:f,error:m}=await pe.from("Markers_Core").select("id").lt("id",1e3).order("id",{ascending:!0});if(m)throw m;const{data:y,error:v}=await pe.from("Markers_Appearance").select("id, glyph").lt("id",1e3);if(v)throw v;const _={};(y||[]).forEach(C=>{C&&C.id&&(_[C.id]=C.glyph||"")});const w=(f||[]).map(C=>({id:C.id,glyph:_[C.id]||C.id.toString()}));n(w)}catch(f){console.error("Error loading markers:",f),l(f)}finally{s(!1)}}d()},[e]),{markers:t,loading:i,error:a}}function JU({selectedYear:e}){const{t}=dt(),{organizationLogo:n}=ua(),{subscriptions:i,loading:s,error:a,subscribeCompany:l,updateSubscription:d,unsubscribeCompany:f,archiveCurrentYear:m,copyFromPreviousYear:y}=cd(e),{companies:v}=K1(),{assignments:_}=am(e),{markers:w}=b6(e),[C,N]=j.useState(""),[T,k]=j.useState(null),[A,$]=j.useState({}),[O,F]=j.useState(!1),[R,Z]=j.useState(""),[W,V]=j.useState("company"),[Q,G]=j.useState("asc"),{confirm:q,toastError:de,toastSuccess:K,toastWarning:ne}=ui(),H=j.useMemo(()=>{const ae=new Set(i.map(J=>J.company_id));return v.filter(J=>!ae.has(J.id))},[v,i]),Y=j.useMemo(()=>{const ae={};return _.forEach(J=>{ae[J.company_id]||(ae[J.company_id]=[]),ae[J.company_id].push(J)}),ae},[_]),ie=j.useMemo(()=>{const ae={};return w.forEach(J=>{ae[J.id]=J.glyph}),ae},[w]),ke=j.useCallback(ae=>{const J=Y[ae]||[];if(J.length===0)return"-";const se=J.sort((Me,Pe)=>Me.marker_id-Pe.marker_id).map(Me=>ie[Me.marker_id]||Me.marker_id.toString()).filter(Boolean);return se.length>0?se.join(", "):"-"},[Y,ie]),B=j.useMemo(()=>{let ae=i;if(C){const se=C.toLowerCase();ae=ae.filter(Me=>Me.company?.name?.toLowerCase().includes(se))}return[...ae].sort((se,Me)=>{let Pe=0;if(W==="company"){const Ke=(se.company?.name||"").toLowerCase(),Oe=(Me.company?.name||"").toLowerCase();Pe=Ke.localeCompare(Oe)}else if(W==="booths"){const Ke=ke(se.company_id),Oe=ke(Me.company_id);if(Ke==="-"&&Oe!=="-")return 1;if(Ke!=="-"&&Oe==="-")return-1;if(Ke==="-"&&Oe==="-")return 0;Pe=Ke.localeCompare(Oe,void 0,{numeric:!0})}return Q==="asc"?Pe:-Pe})},[i,C,W,Q,ke]),D=j.useMemo(()=>B.reduce((ae,J)=>(ae.booth_count+=J.booth_count||0,ae.breakfast_sat+=J.breakfast_sat||0,ae.lunch_sat+=J.lunch_sat||0,ae.bbq_sat+=J.bbq_sat||0,ae.breakfast_sun+=J.breakfast_sun||0,ae.lunch_sun+=J.lunch_sun||0,ae.coins+=J.coins||0,ae),{booth_count:0,breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[B]),te=ae=>{k(ae.id),$({...ae})},I=async()=>{const{id:ae,company:J,...se}=A;await d(ae,se),k(null),$({})},fe=()=>{k(null),$({})},le=async ae=>{const J=ae.company?.name||"this company",se=ke(ae.company_id),Me=se?` and their booth assignments (${se})`:"";if(!await q({title:"Unsubscribe Company",message:`Unsubscribe ${J} from ${e}? This will delete their subscription${Me}.`,confirmText:"Unsubscribe",variant:"danger"}))return;const{error:Ke}=await f(ae.id);Ke&&de(`Error unsubscribing company: ${Ke}`)},ve=async()=>{if(!R){ne("Please select a company");return}const{error:ae}=await l(parseInt(R));ae?de(`Error subscribing company: ${ae}`):(F(!1),Z(""))},Te=async()=>{if(!await q({title:"Archive Subscriptions",message:`Archive all subscriptions for ${e}? This will move them to the archive and clear the active list.`,confirmText:"Archive",variant:"warning"}))return;const{data:J,error:se}=await m();se?de(`Error archiving: ${se}`):K(`Archived ${J} subscriptions for ${e}`)},be=async()=>{const ae=e-1;if(!await q({title:"Copy Subscriptions",message:`Copy all subscriptions from ${ae} to ${e}?`,confirmText:"Copy",variant:"default"}))return;const{error:se}=await y(ae);se?de(`Error copying subscriptions: ${se}`):K(`Subscriptions copied from ${ae} to ${e}`)},ce=ae=>{W===ae?G(Q==="asc"?"desc":"asc"):(V(ae),G("asc"))};return s?h.jsx("div",{className:"p-4",children:"Loading subscriptions..."}):a?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",a]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:yo,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:t("helpPanel.subscriptions.searchPlaceholder"),value:C,onChange:ae=>N(ae.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[B.length," of ",i.length]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",title:`Copy from ${e-1}`,children:[h.jsx(_e,{path:fk,size:.8}),"Copy from ",e-1]}),h.jsxs("button",{onClick:Te,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[h.jsx(_e,{path:Vf,size:.8}),"Archive ",e]}),h.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(_e,{path:id,size:.8}),"Subscribe Company"]})]})]}),O&&h.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-blue-50 flex-shrink-0",children:[h.jsxs("h3",{className:"font-bold mb-3",children:["Subscribe Company to ",e]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("select",{value:R,onChange:ae=>Z(ae.target.value),className:"flex-1 px-3 py-2 border rounded",children:[h.jsx("option",{value:"",children:"Select a company..."}),H.map(ae=>h.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),h.jsxs("button",{onClick:ve,className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[h.jsx(_e,{path:ra,size:.7}),"Subscribe"]}),h.jsxs("button",{onClick:()=>{F(!1),Z("")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:[h.jsx(_e,{path:mo,size:.7}),"Cancel"]})]}),H.length===0&&h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["All companies are already subscribed to ",e]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[h.jsxs("thead",{className:"bg-gray-100 text-gray-900 sticky top-0 z-10",children:[h.jsxs("tr",{children:[h.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>ce("booths"),title:"Click to sort by booth labels",rowSpan:3,children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"Booths"}),W==="booths"&&h.jsx(_e,{path:Q==="asc"?Ol:Pl,size:.6,className:"text-blue-600"})]})}),h.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>ce("company"),title:"Click to sort by company name",rowSpan:3,children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"Company"}),W==="company"&&h.jsx(_e,{path:Q==="asc"?Ol:Pl,size:.6,className:"text-blue-600"})]})}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.contact")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.phone")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.email")}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:t("helpPanel.subscriptions.boothCount")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.area")}),h.jsx("th",{className:"p-2 text-center border-b bg-blue-50",colSpan:3,children:h.jsx("span",{className:"font-bold text-blue-700",children:t("helpPanel.subscriptions.saturday")})}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",colSpan:2,children:h.jsx("span",{className:"font-bold text-green-700",children:t("helpPanel.subscriptions.sunday")})}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:t("helpPanel.subscriptions.coins")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.notes")}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",rowSpan:3,style:{minWidth:"80px"},children:t("helpPanel.subscriptions.actions")})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.breakfast")}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.lunch")}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.bbq")}),h.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.breakfast")}),h.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.lunch")}),h.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:D.booth_count}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:D.breakfast_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:D.lunch_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:D.bbq_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:D.breakfast_sun}),h.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:D.lunch_sun}),h.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:D.coins})]})]}),h.jsx("tbody",{children:B.map(ae=>{const J=T===ae.id,se=ae.company,Me=ke(ae.company_id);return h.jsxs("tr",{className:"bg-white hover:bg-gray-50 border-b",children:[h.jsx("td",{className:"p-2 text-left",children:h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:Me})}),h.jsx("td",{className:"p-2 text-left",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:ur(se?.logo||n),alt:se?.name,className:"w-8 h-8 object-contain"}),h.jsx("span",{className:"font-semibold text-gray-700",children:se?.name})]})}),h.jsx("td",{className:"p-2 text-left",children:J?h.jsx("input",{type:"text",value:A.contact||"",onChange:Pe=>$({...A,contact:Pe.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:ae.contact||"-"})}),h.jsx("td",{className:"p-2 text-left",children:J?h.jsx(v6,{value:A.phone||"",onChange:Pe=>$({...A,phone:Pe}),placeholder:"+31612345678",className:"text-xs"}):ae.phone?h.jsxs("span",{className:"text-xs text-gray-700 flex items-center gap-1",children:[h.jsx("span",{children:y6(ae.phone)}),h.jsx("span",{children:Rf(ae.phone)})]}):h.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),h.jsx("td",{className:"p-2 text-left",children:J?h.jsx("input",{type:"email",value:A.email||"",onChange:Pe=>$({...A,email:Pe.target.value.toLowerCase()}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:ae.email||"-"})}),h.jsx("td",{className:"p-2 text-center",children:J?h.jsx("input",{type:"number",min:"1",value:A.booth_count||1,onChange:Pe=>$({...A,booth_count:parseInt(Pe.target.value)}),className:"w-16 px-2 py-1 border rounded text-xs text-center bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:ae.booth_count})}),h.jsx("td",{className:"p-2",children:J?h.jsx("input",{type:"text",value:A.area||"",onChange:Pe=>$({...A,area:Pe.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",placeholder:t("helpPanel.subscriptions.areaPlaceholder")}):h.jsx("span",{className:"text-xs text-gray-700",children:ae.area||"-"})}),["breakfast_sat","lunch_sat","bbq_sat"].map(Pe=>h.jsx("td",{className:"p-2 text-center bg-blue-50",children:J?h.jsx("input",{type:"number",min:"0",value:A[Pe]||0,onChange:Ke=>$({...A,[Pe]:parseInt(Ke.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):h.jsx("span",{className:"text-xs text-gray-700",children:ae[Pe]})},Pe)),["breakfast_sun","lunch_sun"].map(Pe=>h.jsx("td",{className:"p-2 text-center bg-green-50",children:J?h.jsx("input",{type:"number",min:"0",value:A[Pe]||0,onChange:Ke=>$({...A,[Pe]:parseInt(Ke.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):h.jsx("span",{className:"text-xs text-gray-700",children:ae[Pe]})},Pe)),h.jsx("td",{className:"p-2 text-center",children:J?h.jsx("input",{type:"number",min:"0",value:A.coins||0,onChange:Pe=>$({...A,coins:parseInt(Pe.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:ae.coins})}),h.jsx("td",{className:"p-2 text-left",children:J?h.jsx("textarea",{value:A.notes||"",onChange:Pe=>$({...A,notes:Pe.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",rows:2}):h.jsx("span",{className:"text-xs text-gray-700",children:ae.notes||"-"})}),h.jsx("td",{className:"p-2 text-center",children:J?h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:I,className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:h.jsx(_e,{path:ra,size:.6})}),h.jsx("button",{onClick:fe,className:"p-1 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:h.jsx(_e,{path:mo,size:.6})})]}):h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:()=>te(ae),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:h.jsx(_e,{path:Hf,size:.6})}),h.jsx("button",{onClick:()=>le(ae),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Unsubscribe",children:h.jsx(_e,{path:ql,size:.6})})]})})]},ae.id)})})]}),B.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:C?"No subscriptions found matching your search":`No companies subscribed to ${e} yet. Click "Subscribe Company" to add one.`})]})]})}function QU({activity:e=null,day:t="saturday",onSave:n=()=>{},onClose:i=()=>{}}){const{t:s,i18n:a}=dt(),[l,d]=j.useState("nl"),f=a&&a.language==="nl"?"nl":"en",[m,y]=j.useState(e?.title_nl||""),[v,_]=j.useState(e?.title_en||""),[w,C]=j.useState(e?.title_de||""),[N,T]=j.useState(e?.description_nl||""),[k,A]=j.useState(e?.description_en||""),[$,O]=j.useState(e?.description_de||""),[F,R]=j.useState(e?.location_nl||""),[Z,W]=j.useState(e?.location_en||""),[V,Q]=j.useState(e?.location_de||""),[G,q]=j.useState(e?.badge_nl||""),[de,K]=j.useState(e?.badge_en||""),[ne,H]=j.useState(e?.badge_de||""),[Y,ie]=j.useState(e?.start_time||""),[ke,B]=j.useState(e?.end_time||""),[D,te]=j.useState(e?.display_order??0),[I,fe]=j.useState(e?.is_active??!0),[le,ve]=j.useState(e?.show_location_type_badge??!1),[Te,be]=j.useState(e?.location_type||(e?.company_id?"company":"venue")),[ce,ae]=j.useState(e?.company_id??null),J=e?.id??"new",{toastSuccess:se,toastError:Me}=ui(),{companies:Pe}=K1();j.useEffect(()=>{y(e?.title_nl||""),_(e?.title_en||""),C(e?.title_de||""),T(e?.description_nl||""),A(e?.description_en||""),O(e?.description_de||""),R(e?.location_nl||""),W(e?.location_en||""),Q(e?.location_de||""),q(e?.badge_nl||""),K(e?.badge_en||""),H(e?.badge_de||""),ie(e?.start_time||""),B(e?.end_time||""),te(e?.display_order||0),fe(e?.is_active??!0),ve(e?.show_location_type_badge??!1),be(e?.location_type||(e?.company_id?"company":"venue")),ae(e?.company_id||null)},[e]);const Ke=async Oe=>{Oe&&Oe.preventDefault&&Oe.preventDefault();const xt=ce!=null&&ce!==""?Number(ce):null,Xt={day:t,start_time:Y||null,end_time:ke||null,display_order:D||null,title_nl:m||null,title_en:v||null,title_de:w||null,description_nl:N||null,description_en:k||null,description_de:$||null,location_type:Te||"venue",company_id:xt,location_nl:F||null,location_en:Z||null,location_de:V||null,badge_nl:G||null,badge_en:de||null,badge_de:ne||null,is_active:!!I,show_location_type_badge:!!le};try{if(console.debug("ActivityForm payload",Xt),!e?.id&&(!D||D===0)){const{data:Tt,error:kt}=await pe.from("event_activities").select("display_order").eq("day",t).order("display_order",{ascending:!1}).limit(1).maybeSingle();!kt&&Tt&&typeof Tt.display_order=="number"?Xt.display_order=Tt.display_order+1:Xt.display_order=1}if(e&&e.id){const{error:Tt}=await pe.from("event_activities").update(Xt).eq("id",e.id);if(Tt)throw Tt;const{data:kt,error:dn}=await pe.from("event_activities").select().eq("id",e.id).maybeSingle();if(dn&&console.warn("Failed to fetch updated activity:",dn),kt&&typeof kt.show_location_type_badge<"u"){const di=!!kt.show_location_type_badge;if(di!==Xt.show_location_type_badge){console.warn("Persisted show_location_type_badge does not match requested value",{requested:Xt.show_location_type_badge,persisted:di,id:e?.id});try{Me(s("activityForm.savePersistMismatch"))}catch{}}ve(di)}}else{const{error:Tt}=await pe.from("event_activities").insert([{...Xt}]);if(Tt)throw Tt;const{data:kt,error:dn}=await pe.from("event_activities").select().eq("day",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();dn&&console.warn("Failed to fetch inserted activity:",dn),kt&&typeof kt.show_location_type_badge<"u"&&ve(!!kt.show_location_type_badge)}await n();try{se(s("activityForm.saveSuccess"))}catch{}try{window.dispatchEvent(new Event("eventActivitiesUpdated"))}catch{}i()}catch(Tt){console.error("Error saving activity:",Tt);try{Me(s("activityForm.saveError")+(Tt.message?": "+Tt.message:""))}catch{alert(s("activityForm.saveError")+(Tt.message?": "+Tt.message:""))}}};return h.jsxs(Rr,{isOpen:!0,onClose:i,title:s("activityForm.createTitle"),size:"lg",children:[h.jsxs("div",{className:"px-6 pt-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("button",{type:"button",onClick:()=>d("nl"),className:`px-3 py-1 rounded ${l==="nl"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"NL"}),h.jsx("button",{type:"button",onClick:()=>d("en"),className:`px-3 py-1 rounded ${l==="en"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"EN"}),h.jsx("button",{type:"button",onClick:()=>d("de"),className:`px-3 py-1 rounded ${l==="de"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"DE"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[l==="nl"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`title-nl-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.titleNL",{lng:f})}),h.jsx("input",{id:`title-nl-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:m,onChange:Oe=>y(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`description-nl-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.descriptionNL")}),h.jsx("textarea",{id:`description-nl-${J}`,rows:4,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:N,onChange:Oe=>T(Oe.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-nl-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.locationNL")}),h.jsx("input",{id:`location-nl-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:F,onChange:Oe=>R(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`badge-nl-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.badgeNL")," ",h.jsx("span",{className:"text-xs text-gray-400",children:s("activityForm.optional")})]}),h.jsx("input",{id:`badge-nl-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:G,onChange:Oe=>q(Oe.target.value)})]})]})]}),l==="en"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`title-en-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.titleEN",{lng:f})}),h.jsx("input",{id:`title-en-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:v,onChange:Oe=>_(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`description-en-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.descriptionEN")}),h.jsx("textarea",{id:`description-en-${J}`,rows:4,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:k,onChange:Oe=>A(Oe.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-en-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.locationEN")}),h.jsx("input",{id:`location-en-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:Z,onChange:Oe=>W(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`badge-en-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.badgeEN")," ",h.jsx("span",{className:"text-xs text-gray-400",children:s("activityForm.optional")})]}),h.jsx("input",{id:`badge-en-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:de,onChange:Oe=>K(Oe.target.value)})]})]})]}),l==="de"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`title-de-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (DE)"}),h.jsx("input",{id:`title-de-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:w,onChange:Oe=>C(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`description-de-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (DE)"}),h.jsx("textarea",{id:`description-de-${J}`,rows:4,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:$,onChange:Oe=>O(Oe.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-de-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Location (DE)"}),h.jsx("input",{id:`location-de-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:V,onChange:Oe=>Q(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`badge-de-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Badge (DE) ",h.jsx("span",{className:"text-xs text-gray-400",children:s("activityForm.optional")})]}),h.jsx("input",{id:`badge-de-${J}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:ne,onChange:Oe=>H(Oe.target.value)})]})]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`start-time-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.startTime")}),h.jsx("input",{id:`start-time-${J}`,type:"time",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:Y||"",onChange:Oe=>ie(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`end-time-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.endTime")}),h.jsx("input",{id:`end-time-${J}`,type:"time",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:ke||"",onChange:Oe=>B(Oe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-type-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.locationType")}),h.jsxs("select",{id:`location-type-${J}`,className:"w-full px-3 py-2 border rounded",value:Te,onChange:Oe=>be(Oe.target.value),children:[h.jsx("option",{value:"venue",children:s("activityForm.venue")}),h.jsx("option",{value:"exhibitor",children:s("activityForm.exhibitor")}),h.jsx("option",{value:"company",children:"Company"})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{htmlFor:`company-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.company")}),h.jsx("div",{className:"ml-2",children:h.jsx(wC,{scope:"global"})})]}),h.jsxs("select",{id:`company-${J}`,className:"w-full px-3 py-2 border rounded",value:ce||"",onChange:Oe=>ae(Oe.target.value||null),children:[h.jsx("option",{value:"",children:s("activityForm.selectCompany")}),Pe.map(Oe=>h.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:s("activityForm.companyScopeHint")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`display-order-${J}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.displayOrder")}),h.jsx("input",{id:`display-order-${J}`,type:"number",className:"w-full px-3 py-2 border rounded",value:D||0,onChange:Oe=>te(Number(Oe.target.value)),"aria-describedby":`display-order-help-${J}`}),h.jsx("p",{id:`display-order-help-${J}`,className:"text-xs text-gray-400 mt-1",children:s("activityForm.displayOrderHelp")})]}),h.jsx("div",{className:"flex items-start gap-3",children:h.jsxs("label",{htmlFor:`isActive-${J}`,className:"flex items-start gap-3 cursor-pointer",children:[h.jsx("input",{id:`isActive-${J}`,type:"checkbox",className:"h-5 w-5 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-400",checked:I,onChange:Oe=>fe(Oe.target.checked)}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm",children:s("activityForm.isActive")}),h.jsx("div",{className:"text-xs text-gray-400",children:s("activityForm.isActiveHelp")})]})]})}),h.jsx("div",{className:"flex items-start gap-3",children:h.jsxs("label",{htmlFor:`showLocBadge-${J}`,className:"flex items-start gap-3 cursor-pointer",children:[h.jsx("input",{id:`showLocBadge-${J}`,type:"checkbox",className:"h-5 w-5 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-400",checked:le,onChange:Oe=>ve(Oe.target.checked)}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm",children:s("activityForm.showLocationBadge")}),h.jsx("div",{className:"text-xs text-gray-400",children:s("activityForm.showLocationBadgeHelp")})]})]})})]})]})]}),h.jsx("form",{onSubmit:Ke,className:"px-6 py-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-white text-gray-900 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300","aria-label":s("activityForm.cancel"),children:s("activityForm.cancel")}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300","aria-label":s("activityForm.save"),children:s("activityForm.save")})]})})]})}function eF(){const{t:e,i18n:t}=dt(),{activities:n,loading:i,error:s,getActivityLocation:a,refetch:l}=A5(),[d,f]=j.useState("saturday"),[m,y]=j.useState(null),[v,_]=j.useState(!1),[w,C]=j.useState(!1),[N,T]=j.useState(null),[k,A]=j.useState(null),[$,O]=j.useState(!1),F=n[d]||[],R=async G=>{if(!(!m||m.id!==G)){_(!0);try{const{error:q}=await pe.from("event_activities").delete().eq("id",G);if(q)throw q;await l(),y(null)}catch(q){console.error("Error deleting activity:",q),alert(e("programManagement.deleteError")+": "+q.message)}finally{_(!1)}}},Z=(G,q,de)=>{A({activity:q,index:de}),G.dataTransfer.effectAllowed="move",G.currentTarget.style.opacity="0.4"},W=G=>{G.currentTarget.style.opacity="1",A(null)},V=G=>{G.preventDefault(),G.dataTransfer.dropEffect="move"},Q=async(G,q)=>{if(G.preventDefault(),!(!k||k.index===q)){O(!0);try{const de=[...F],[K]=de.splice(k.index,1);de.splice(q,0,K);const ne=de.map((H,Y)=>({id:H.id,display_order:Y+1}));for(const H of ne){const{error:Y}=await pe.from("event_activities").update({display_order:H.display_order}).eq("id",H.id);if(Y)throw Y}await l()}catch(de){console.error("Error reordering activities:",de),alert(e("programManagement.reorderError")+": "+de.message)}finally{O(!1)}}};return i?h.jsxs("div",{className:"flex justify-center items-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("programManagement.loading")})]}):s?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-red-800",children:[e("programManagement.error"),": ",s.message]})}):h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e("programManagement.title")}),h.jsx("div",{children:h.jsx(wC,{scope:"year"})})]}),h.jsxs("button",{onClick:()=>{T(null),C(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(f6,{className:"text-xl"}),h.jsx("span",{children:e("programManagement.addActivity")})]})]})}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("div",{className:"flex",children:[h.jsxs("button",{onClick:()=>f("saturday"),className:`px-6 py-3 font-medium transition-colors ${d==="saturday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.saturday")," (",n.saturday?.length||0,")"]}),h.jsxs("button",{onClick:()=>f("sunday"),className:`px-6 py-3 font-medium transition-colors ${d==="sunday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.sunday")," (",n.sunday?.length||0,")"]})]})}),h.jsx("div",{className:"divide-y divide-gray-200",children:F.length===0?h.jsxs("div",{className:"px-6 py-12 text-center",children:[h.jsx("p",{className:"text-gray-500",children:e("programManagement.noActivitiesFound")}),h.jsx("button",{onClick:()=>{T(null),C(!0)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e("programManagement.addFirstActivity")})]}):F.map((G,q)=>{const de=a(G,t.language),K=t.language||"en",ne=K==="nl"?G.title_nl:K==="de"?G.title_de:G.title_en,H=K==="nl"?G.description_nl:K==="de"?G.description_de:G.description_en,Y=K==="nl"?G.badge_nl:K==="de"?G.badge_de:G.badge_en;return h.jsx("div",{draggable:!$,onDragStart:ie=>Z(ie,G,q),onDragEnd:W,onDragOver:V,onDrop:ie=>Q(ie,q),className:`px-6 py-4 hover:bg-gray-50 transition-colors ${$?"opacity-50 cursor-wait":"cursor-move"}`,children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("button",{className:`mt-1 text-gray-400 hover:text-gray-600 ${$?"cursor-wait":"cursor-move"}`,title:e("programManagement.dragToReorder"),disabled:$,children:h.jsx(vU,{className:"text-2xl"})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-gray-600 bg-gray-100 rounded",children:G.display_order}),h.jsxs("span",{className:"text-sm text-gray-500",children:[G.start_time," - ",G.end_time]}),Y&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded",children:Y})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:ne}),h.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:H}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsxs("span",{className:"text-gray-500",children:[e("programManagement.location"),":"]}),h.jsx("span",{className:"font-medium text-gray-700",children:de.text}),G.show_location_type_badge&&h.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${G.location_type==="exhibitor"||G.location_type==="company"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:G.location_type==="exhibitor"||G.location_type==="company"?e("programManagement.exhibitor"):e("programManagement.venue")})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{T(G),C(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:e("programManagement.edit"),children:h.jsx(wU,{className:"text-xl"})}),h.jsx("button",{onClick:()=>y({id:G.id,title:ne}),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:e("programManagement.delete"),children:h.jsx(yU,{className:"text-xl"})})]})]})})]})},G.id)})}),F.length>0&&h.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:h.jsxs("p",{className:"text-sm text-gray-600",children:[e("programManagement.totalActivities"),": ",h.jsx("span",{className:"font-medium",children:F.length})]})}),h.jsxs(Rr,{isOpen:!!m,onClose:()=>y(null),title:e("programManagement.confirmDelete"),size:"md",children:[h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-gray-700",children:e("programManagement.confirmDeleteMessage")}),h.jsxs("p",{className:"mt-2 font-medium text-gray-900",children:['"',m?.title,'"']})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3 border-t border-gray-200",children:[h.jsx("button",{onClick:()=>y(null),disabled:v,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:e("programManagement.cancel")}),h.jsx("button",{onClick:()=>R(m?.id),disabled:v,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:v?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("programManagement.deleting")]}):e("programManagement.deleteButton")})]})]}),w&&h.jsx(QU,{activity:N,day:d,onSave:l,onClose:()=>{C(!1),T(null)}})]})}const B3="assignmentsTab_sortPreferences";function tF({selectedYear:e}){const{t}=dt(),[n,i]=j.useState(""),{preferences:s,loading:a,updatePreferences:l}=Oy(),d=j.useRef(null),m=(()=>{try{const ce=localStorage.getItem(B3);if(ce)return JSON.parse(ce)}catch(ce){console.error("Error loading sort preferences:",ce)}return{sortBy:"alphabetic",sortDirection:"asc",columnSort:"markerId",columnSortDirection:"asc"}})(),[y,v]=j.useState(m.sortBy),[_,w]=j.useState(m.sortDirection),[C,N]=j.useState(m.columnSort),[T,k]=j.useState(m.columnSortDirection);j.useEffect(()=>{if(!a&&s){const ce=s.assignments_sort_by||"alphabetic",ae=s.assignments_sort_direction||"asc",J=s.assignments_column_sort||"markerId",se=s.assignments_column_sort_direction||"asc";d.current={sortBy:ce,sortDirection:ae,columnSort:J,columnSortDirection:se},v(ce),w(ae),N(J),k(se)}},[a,s]);const{markers:A,loading:$}=b6(),{assignments:O,loading:F,error:R,assignCompanyToMarker:Z,unassignCompanyFromMarker:W,archiveCurrentYear:V,loadArchivedAssignments:Q}=am(e),{subscriptions:G}=cd(e),{confirm:q,toastError:de,toastSuccess:K,toastInfo:ne}=ui(),H=j.useMemo(()=>G.map(ce=>({id:ce.company_id,name:ce.company?.name||"Unknown",logo:ce.company?.logo||""})),[G]);j.useEffect(()=>{try{const ce={sortBy:y,sortDirection:_,columnSort:C,columnSortDirection:T};localStorage.setItem(B3,JSON.stringify(ce))}catch(ce){console.error("Error saving sort preferences to localStorage:",ce)}if(!a&&s){const ce=s.assignments_sort_by!==y||s.assignments_sort_direction!==_||s.assignments_column_sort!==C||s.assignments_column_sort_direction!==T,ae=!d.current||d.current.sortBy!==y||d.current.sortDirection!==_||d.current.columnSort!==C||d.current.columnSortDirection!==T;ce&&ae&&l({assignments_sort_by:y,assignments_sort_direction:_,assignments_column_sort:C,assignments_column_sort_direction:T})}},[y,_,C,T,a,s,l]);const Y=j.useMemo(()=>{const ce={};return O.forEach(ae=>{ce[ae.company_id]=(ce[ae.company_id]||0)+1}),ce},[O]),ie=j.useMemo(()=>{const ce={};return O.forEach(ae=>{(!ce[ae.company_id]||ae.marker_id<ce[ae.company_id])&&(ce[ae.company_id]=ae.marker_id)}),ce},[O]),ke=j.useMemo(()=>[...n?H.filter(J=>J.name?.toLowerCase().includes(n.toLowerCase())):H].sort((J,se)=>{const Me=Y[J.id]||0,Pe=Y[se.id]||0,Ke=ie[J.id],Oe=ie[se.id];let xt=0;switch(y){case"byMarker":!Ke&&Oe?xt=1:Ke&&!Oe?xt=-1:!Ke&&!Oe?xt=J.name.localeCompare(se.name):Ke!==Oe?xt=Ke-Oe:xt=J.name.localeCompare(se.name);break;case"unassignedFirst":Me===0&&Pe>0?xt=-1:Me>0&&Pe===0?xt=1:Me===0&&Pe===0?xt=J.name.localeCompare(se.name):!Ke&&Oe?xt=1:Ke&&!Oe?xt=-1:Ke!==Oe?xt=Ke-Oe:xt=J.name.localeCompare(se.name);break;case"alphabetic":default:xt=J.name.localeCompare(se.name);break}return _==="desc"?-xt:xt}),[H,n,y,_,Y,ie]),B=j.useMemo(()=>[...A].sort((ae,J)=>{let se=0;return C==="glyphText"?se=ae.glyph.localeCompare(J.glyph,void 0,{numeric:!0,sensitivity:"base"}):se=ae.id-J.id,T==="desc"?-se:se}),[A,C,T]),D=j.useMemo(()=>{const ce={};return O.forEach(ae=>{const J=`${ae.company_id}_${ae.marker_id}`;ce[J]=ae}),ce},[O]),te=j.useMemo(()=>{const ce=new Set;return O.forEach(ae=>{ce.add(ae.marker_id)}),ce},[O]),I=ce=>te.has(ce),fe=(ce,ae)=>{const J=`${ce}_${ae}`;return!!D[J]},le=(ce,ae)=>{const J=`${ce}_${ae}`;return D[J]},ve=async(ce,ae)=>{if(le(ce,ae)){const{error:se}=await W(ae,ce);se&&de(`Error removing assignment: ${se}`)}else{const se=O.filter(Pe=>Pe.marker_id===ae);if(se.length>0){const Ke=H.find(kt=>kt.id===ce)?.name||"this company",xt=B.find(kt=>kt.id===ae)?.glyph||ae;let Xt;if(se.length===1){const dn=H.find(di=>di.id===se[0].company_id)?.name||"another company";Xt=`Booth ${xt} is already assigned to ${dn}.

Assign ${Ke} as an additional company for this booth?`}else{const kt=se.map(dn=>H.find(Dr=>Dr.id===dn.company_id)?.name).filter(Boolean).join(", ");Xt=`Booth ${xt} is already assigned to ${se.length} companies: ${kt}.

Assign ${Ke} as another company for this booth?`}if(!await q({title:"Multiple Assignments",message:Xt,confirmText:"Assign",variant:"warning"}))return}const{error:Me}=await Z(ae,ce,null);Me&&de(`Error creating assignment: ${Me}`)}},Te=async()=>{if(!await q({title:"Archive Assignments",message:`Archive all assignments for ${e}? This will move them to the archive and clear the current year.`,confirmText:"Archive",variant:"warning"}))return;const{error:ae}=await V();ae?de(`Error archiving: ${ae}`):K(`Successfully archived ${O.length} assignments for ${e}`)},be=async ce=>{const{error:ae}=await Q(ce);ae?de(`Error loading archived assignments: ${ae}`):ne(`Archived data loaded for ${ce}. Feature coming soon: display in table.`)};return F||$?h.jsx("div",{className:"p-4",children:"Loading assignments..."}):R?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",R]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:yo,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:t("helpPanel.assignments.searchPlaceholder"),value:n,onChange:ce=>i(ce.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[ke.length," of ",H.length]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>be(e),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",title:`View archived assignments for ${e}`,children:[h.jsx(_e,{path:xk,size:.8}),h.jsx("span",{children:t("helpPanel.assignments.archive")})]}),h.jsx("button",{onClick:Te,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:O.length===0,title:`Archive all assignments for ${e}`,children:h.jsx(_e,{path:Vf,size:.8})}),h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("helpPanel.assignments.sortCompanies")}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:y,onChange:ce=>v(ce.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none",title:"Sort table rows",children:[h.jsx("option",{value:"alphabetic",children:"A-Z"}),h.jsx("option",{value:"byMarker",children:t("helpPanel.assignments.byMarker")}),h.jsx("option",{value:"unassignedFirst",children:t("helpPanel.assignments.unassignedFirst")})]}),h.jsx("button",{onClick:()=>w(_==="asc"?"desc":"asc"),className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:_==="asc"?"Ascending":"Descending",children:h.jsx(_e,{path:_==="asc"?Ol:Pl,size:.8})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("helpPanel.assignments.sortMarkers")}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:C,onChange:ce=>N(ce.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none",title:"Sort table columns",children:[h.jsx("option",{value:"markerId",children:t("helpPanel.assignments.markerId")}),h.jsx("option",{value:"glyphText",children:t("helpPanel.assignments.glyphText")})]}),h.jsx("button",{onClick:()=>k(T==="asc"?"desc":"asc"),className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:T==="asc"?"Ascending":"Descending",children:h.jsx(_e,{path:T==="asc"?Ol:Pl,size:.8})})]})]})]})]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg relative",style:{maxHeight:"calc(100vh - 8rem)"},children:[h.jsxs("table",{className:"w-full table-auto border-separate",style:{fontSize:"11px"},children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[h.jsx("th",{className:"p-2 text-left font-semibold border-b border-r bg-gray-200 sticky left-0 top-0 z-20",style:{minWidth:"200px",top:0,left:0,background:"#f3f4f6"},children:"Company"}),B.map(ce=>{const ae=I(ce.id);return h.jsx("th",{className:`p-1 text-center border-b ${ae?"":"bg-gray-200"}`,style:{minWidth:"45px",maxWidth:"45px"},title:`Marker ID: ${ce.id}, Booth: ${ce.glyph}${ae?"":" (Unassigned)"}`,children:h.jsx("div",{className:`font-semibold ${ae?"":"text-gray-500"}`,children:ce.glyph})},ce.id)})]})}),h.jsx("tbody",{children:ke.map(ce=>{const ae=Y[ce.id]||0;return h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"p-2 border-b border-r bg-white sticky left-0 z-10",children:h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("div",{className:"font-semibold text-gray-900 truncate",title:ce.name,children:ce.name}),h.jsx("span",{className:`inline-flex items-center justify-center min-w-[24px] h-5 px-1.5 rounded-full text-xs font-medium ${ae===0?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-700"}`,title:`${ae} assignment${ae!==1?"s":""}`,children:ae})]})}),B.map(J=>{const se=fe(ce.id,J.id),Me=I(J.id);return h.jsx("td",{className:`p-0 border-b border-r text-center ${Me?"":"bg-gray-100"}`,children:h.jsx("button",{onClick:()=>ve(ce.id,J.id),className:`w-full h-full p-2 transition-colors ${se?"bg-green-100 hover:bg-green-200 text-green-700":Me?"bg-white hover:bg-gray-100 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-400"}`,title:se?`${ce.name}  Booth ${J.glyph}`:`Assign ${ce.name} to Booth ${J.glyph}`,children:se&&h.jsx(_e,{path:ra,size:.6})})},J.id)})]},ce.id)})})]}),ke.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"No companies found matching your search":"No companies available. Add companies in the Companies tab."})]}),h.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center",children:h.jsx(_e,{path:ra,size:.5,className:"text-green-700"})}),h.jsx("span",{className:"font-medium",children:t("helpPanel.assignments.assigned")})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 bg-white rounded"}),h.jsx("span",{className:"font-medium",children:t("helpPanel.assignments.notAssigned")})]})]}),h.jsxs("div",{className:"text-sm text-gray-900",children:[h.jsxs("strong",{children:["Statistics for ",e,":"]})," ",O.length," assignments,"," ",new Set(O.map(ce=>ce.company_id)).size," unique companies,"," ",new Set(O.map(ce=>ce.marker_id)).size," markers assigned"]})]})]})}const nF=[{name:"mdiCarOutline",label:"Car"},{name:"mdiTent",label:"Tent"},{name:"mdiTrailer",label:"Trailer"},{name:"mdiCarCog",label:"Car Parts"},{name:"mdiAirplane",label:"Airplane"},{name:"mdiHomeCity",label:"Building"},{name:"mdiAccountGroup",label:"People"},{name:"mdiTerrainIcon",label:"Terrain"},{name:"mdiCellphone",label:"Phone"},{name:"mdiDotsHorizontal",label:"Other"}],iF=["#1976d2","#2e7d32","#f57c00","#d32f2f","#00796b","#5d4037","#303f9f","#689f38","#7b1fa2","#616161","#c62828","#00897b","#5e35b1","#455a64","#6d4c41","#d84315"];function x6(){const{t:e,i18n:t}=dt(),{categories:n,loading:i,error:s,createCategory:a,updateCategory:l,deleteCategory:d,getCategoryStats:f}=od(t.language),{confirm:m,toastSuccess:y,toastError:v}=ui(),[_,w]=j.useState(!1),[C,N]=j.useState(null),[T,k]=j.useState({}),[A,$]=j.useState({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:0,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}});j.useEffect(()=>{i||(async()=>{const Q=await f();k(Q)})()},[i,f,n]);const O=()=>{$({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:n.length+1,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}}),N(null)},F=()=>{O(),w(!0)},R=V=>{N(V);const Q={nl:{},en:{},de:{}};Array.isArray(V.translations)&&V.translations.forEach(G=>{Q[G.language]&&(Q[G.language]={name:G.name||"",description:G.description||""})}),["nl","en","de"].forEach(G=>{Q[G].name||(Q[G]={name:V.name||"",description:V.description||""})}),$({slug:V.slug,icon:V.iconName,color:V.color,sort_order:V.sort_order,translations:Q}),w(!0)},Z=async(V,Q)=>{if(!await m({title:e("helpPanel.categories.deleteCategory"),message:e("helpPanel.categories.confirmDelete",{name:Q}),confirmText:e("common.delete"),variant:"danger"}))return;const q=await d(V);q.success?y(e("helpPanel.categories.deleteSuccess")):v(e("helpPanel.categories.deleteError",{error:q.error}))},W=async V=>{V.preventDefault();const Q={slug:A.slug,icon:A.icon,color:A.color,sort_order:A.sort_order,translations:A.translations};let G;C?G=await l(C.id,Q,A.translations):G=await a(Q),G.success?(w(!1),O(),y(e(C?"helpPanel.categories.updateSuccess":"helpPanel.categories.createSuccess"))):v(e("helpPanel.categories.saveError",{error:G.error}))};return i?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):s?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-red-800",children:[e("common.error"),": ",s]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("helpPanel.categories.title")}),h.jsx("p",{className:"text-gray-600 mt-1",children:e("helpPanel.categories.description")})]}),h.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(_e,{path:id,size:.8}),e("helpPanel.categories.createNew")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.order")}),h.jsx("th",{className:"px-3 py-3 w-12"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.category")}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.slug")}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.exhibitors")}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("common.actions")})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(V=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(_e,{path:pk,size:.8,className:"cursor-move"}),h.jsx("span",{className:"font-medium",children:V.sort_order})]})}),h.jsx("td",{className:"px-3 py-4 whitespace-nowrap w-12",children:h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:V.color},children:h.jsx(_e,{path:V.icon,size:.7,className:"text-white"})})}),h.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-left",children:[h.jsx("div",{className:"font-medium text-gray-900 truncate",children:V.name}),V.description&&h.jsx("div",{className:"text-xs text-gray-500 truncate",children:V.description})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:h.jsx("code",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded font-mono",children:V.slug})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:lk,size:.7,className:"text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-600",children:T[V.id]||0})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[h.jsx("button",{onClick:()=>R(V),className:"text-blue-600 hover:text-blue-900 mr-3",children:h.jsx(_e,{path:Hf,size:.8})}),h.jsx("button",{onClick:()=>Z(V.id,V.name),className:"text-red-600 hover:text-red-900",disabled:T[V.id]>0,title:T[V.id]>0?e("helpPanel.categories.cannotDelete"):"",children:h.jsx(_e,{path:ql,size:.8})})]})]},V.id))})]}),n.length===0&&h.jsx("div",{className:"text-center py-12 text-gray-500",children:e("helpPanel.categories.noCategories")})]}),h.jsx(Rr,{isOpen:_,onClose:()=>{w(!1),O()},title:e(C?"helpPanel.categories.editCategory":"helpPanel.categories.createCategory"),size:"lg",children:h.jsxs("form",{onSubmit:W,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("helpPanel.categories.slug")," *"]}),h.jsx("input",{type:"text",required:!0,value:A.slug,onChange:V=>$({...A,slug:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"vehicles-dealers"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("helpPanel.categories.slugHelp")})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("helpPanel.categories.icon")}),h.jsx("select",{value:A.icon,onChange:V=>$({...A,icon:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:nF.map(V=>h.jsx("option",{value:V.name,children:V.label},V.name))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("helpPanel.categories.color")}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"color",value:A.color,onChange:V=>$({...A,color:V.target.value}),className:"w-16 h-10 border border-gray-300 rounded cursor-pointer"}),h.jsx("input",{type:"text",value:A.color,onChange:V=>$({...A,color:V.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"#1976d2"})]}),h.jsx("div",{className:"flex gap-1 mt-2",children:iF.map(V=>h.jsx("button",{type:"button",onClick:()=>$({...A,color:V}),className:"w-6 h-6 rounded border-2 border-gray-200 hover:border-gray-400",style:{backgroundColor:V},title:V},V))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("helpPanel.categories.sortOrder")}),h.jsx("input",{type:"number",value:A.sort_order,onChange:V=>$({...A,sort_order:parseInt(V.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:e("helpPanel.categories.translations")}),["nl","en","de"].map(V=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[h.jsx("h5",{className:"font-medium text-gray-700 uppercase",children:V}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("helpPanel.categories.name")," (",V,") *"]}),h.jsx("input",{type:"text",required:!0,value:A.translations[V].name,onChange:Q=>$({...A,translations:{...A.translations,[V]:{...A.translations[V],name:Q.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("helpPanel.categories.description")," (",V,")"]}),h.jsx("textarea",{value:A.translations[V].description,onChange:Q=>$({...A,translations:{...A.translations,[V]:{...A.translations[V],description:Q.target.value}}}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]},V))]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx("button",{type:"button",onClick:()=>{w(!1),O()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("common.cancel")}),h.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(_e,{path:ra,size:.8}),e(C?"common.save":"common.create")]})]})]})})]})}function rF(){const{t:e}=dt(),{isSuperAdmin:t}=vo(),{confirm:n}=ui(),[i,s]=j.useState([]),[a,l]=j.useState(!0),[d,f]=j.useState(null),[m,y]=j.useState(!1),[v,_]=j.useState(""),[w,C]=j.useState("event_manager"),[N,T]=j.useState(!1),[k,A]=j.useState(!1),[$,O]=j.useState(null);j.useEffect(()=>{F()},[]);const F=async()=>{try{l(!0),f(null);let Q,G;try{const K=await pe.rpc("get_user_roles_with_email");Q=K.data,G=K.error}catch{console.warn("get_user_roles_with_email not available, using fallback");const ne=await pe.from("user_roles").select("user_id, role, created_at, updated_at").order("created_at",{ascending:!1});Q=ne.data,G=ne.error}if(G)throw G;const{data:{user:q}}=await pe.auth.getUser(),de=(Q||[]).map(K=>{const ne=q?.id===K.user_id;return{id:K.user_id,email:K.email||(ne?q.email:`user-${K.user_id.substring(0,8)}...`),role:K.role,created_at:K.created_at,last_sign_in_at:K.last_sign_in_at||(ne?q.last_sign_in_at:null),isCurrentUser:ne}});s(de),l(!1)}catch(Q){console.error("Error fetching users:",Q),f(e("settings.userManagement.errors.fetchFailed")),l(!1)}},R=async Q=>{Q.preventDefault(),T(!0),f(null);try{const de=`${window.location.origin}/Map#/reset-password`,K=Math.random().toString(36).slice(-12)+"A1!",{data:ne,error:H}=await pe.auth.signUp({email:v,password:K,options:{data:{role:w},emailRedirectTo:de}});if(H)throw H;if(ne?.user?.id){const{error:ie}=await pe.from("user_roles").insert({user_id:ne.user.id,role:w});ie&&console.warn("Failed to add user to user_roles:",ie)}const{error:Y}=await pe.auth.resetPasswordForEmail(v,{redirectTo:de});Y&&console.warn("Password reset email failed:",Y),A(!0),setTimeout(()=>{y(!1),A(!1),_(""),C("event_manager"),F()},8e3)}catch(G){console.error("Error inviting user:",G),f(G.message||e("settings.userManagement.errors.inviteFailed"))}finally{T(!1)}},Z=async(Q,G)=>{if(await n({title:e("settings.userManagement.deleteUser"),message:e("settings.userManagement.confirmDelete",{email:G}),confirmText:e("common.delete"),variant:"danger"}))try{f(null);const{error:de}=await pe.from("user_roles").delete().eq("user_id",Q);if(de)throw de;await F()}catch(de){console.error("Error deleting user:",de),f(e("settings.userManagement.errors.deleteFailed"))}},W={super_admin:e("settings.userManagement.roles.superAdmin"),system_manager:e("settings.userManagement.roles.systemManager"),event_manager:e("settings.userManagement.roles.eventManager")},V={super_admin:"bg-purple-100 text-purple-800 border-purple-200",system_manager:"bg-blue-100 text-blue-800 border-blue-200",event_manager:"bg-green-100 text-green-800 border-green-200"};return a?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx("div",{className:"text-gray-500",children:e("settings.userManagement.loading")})})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(_e,{path:f5,size:1}),e("settings.userManagement.title")]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.userManagement.description")})]}),h.jsxs("button",{onClick:()=>y(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(_e,{path:id,size:.8}),e("settings.userManagement.inviteUser")]})]}),d&&h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg mb-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(_e,{path:td,size:.8,className:"mr-2"}),h.jsx("span",{className:"text-sm",children:d})]})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.email")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.role")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.created")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.lastLogin")}),h.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.actions")})]})}),h.jsx("tbody",{children:i.map(Q=>h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 px-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:gk,size:.7,className:"text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-900",children:Q.email})]})}),h.jsx("td",{className:"py-3 px-4",children:h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${V[Q.role]||"bg-gray-100 text-gray-800"}`,children:W[Q.role]||Q.role})}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:new Date(Q.created_at).toLocaleDateString()}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:Q.last_sign_in_at?new Date(Q.last_sign_in_at).toLocaleDateString():"-"}),h.jsx("td",{className:"py-3 px-4 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>O(Q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:e("settings.userManagement.editRole"),children:h.jsx(_e,{path:Hf,size:.7})}),t&&h.jsx("button",{onClick:()=>Z(Q.id,Q.email),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("settings.userManagement.deleteUser"),children:h.jsx(_e,{path:ql,size:.7})})]})})]},Q.id))})]})})]}),h.jsx(Rr,{isOpen:m,onClose:()=>y(!1),title:e("settings.userManagement.inviteUser"),size:"md",children:h.jsx("div",{className:"p-6",children:k?h.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(_e,{path:ra,size:.8,className:"mr-2"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e("settings.userManagement.inviteSuccess")}),h.jsx("p",{className:"text-sm mt-1",children:e("settings.userManagement.inviteSuccessMessage")})]})]})}):h.jsxs("form",{onSubmit:R,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label-base",children:e("settings.userManagement.emailLabel")}),h.jsx("input",{type:"email",value:v,onChange:Q=>_(Q.target.value),className:"input-base",placeholder:"manager@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label-base",children:e("settings.userManagement.roleLabel")}),h.jsxs("select",{value:w,onChange:Q=>C(Q.target.value),className:"input-base",children:[h.jsx("option",{value:"event_manager",children:W.event_manager}),h.jsx("option",{value:"system_manager",children:W.system_manager}),t&&h.jsx("option",{value:"super_admin",children:W.super_admin})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e(`settings.userManagement.roleDescriptions.${w}`)})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:e("settings.userManagement.cancel")}),h.jsx("button",{type:"submit",disabled:N,className:"flex-1 btn-primary",children:e(N?"settings.userManagement.sending":"settings.userManagement.sendInvite")})]})]})})})]})}function sF(){const{t:e}=dt(),{settings:t,loading:n,updateSettings:i}=om(),{toastError:s,toastWarning:a}=ui(),[l,d]=j.useState(!1),[f,m]=j.useState(!1),[y,v]=j.useState(null),[_,w]=j.useState(0),[C,N]=j.useState(0),[T,k]=j.useState(0),[A,$]=j.useState(0),[O,F]=j.useState(0),[R,Z]=j.useState(!0),[W,V]=j.useState(!0),[Q,G]=j.useState(!0);j.useEffect(()=>{if(t&&(w(t.default_breakfast_sat??0),N(t.default_lunch_sat??0),k(t.default_bbq_sat??0),$(t.default_breakfast_sun??0),F(t.default_lunch_sun??0),t.notification_settings)){const K=typeof t.notification_settings=="string"?JSON.parse(t.notification_settings):t.notification_settings;Z(K.emailNotifications??!0),V(K.newSubscriptionNotify??!0),G(K.assignmentChangeNotify??!0)}},[t]);const q=async K=>{K.preventDefault(),d(!0),v(null),m(!1);try{if(!await i({default_breakfast_sat:_,default_lunch_sat:C,default_bbq_sat:T,default_breakfast_sun:A,default_lunch_sun:O,notification_settings:{emailNotifications:R,newSubscriptionNotify:W,assignmentChangeNotify:Q}}))throw new Error("Failed to update settings");m(!0),setTimeout(()=>m(!1),3e3)}catch(ne){console.error("Failed to save settings:",ne),ne.message?.includes("updated by another admin")?(a(ne.message),v(e("settings.eventDefaults.errors.saveFailed"))):(s(ne.message||e("settings.eventDefaults.errors.saveFailed")),v(ne.message||e("settings.eventDefaults.errors.saveFailed")))}finally{d(!1)}},de=()=>{if(t&&(w(t.default_breakfast_sat??0),N(t.default_lunch_sat??0),k(t.default_bbq_sat??0),$(t.default_breakfast_sun??0),F(t.default_lunch_sun??0),t.notification_settings)){const K=typeof t.notification_settings=="string"?JSON.parse(t.notification_settings):t.notification_settings;Z(K.emailNotifications??!0),V(K.newSubscriptionNotify??!0),G(K.assignmentChangeNotify??!0)}};return n?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center justify-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("settings.eventDefaults.loading")})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.eventDefaults.title")}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-orange-50 border border-orange-200 rounded-lg",children:[h.jsx(_e,{path:$r,size:.6,className:"text-orange-600"}),h.jsx("span",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Organization Setting"})]})]}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.description")})]}),f&&h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start",children:[h.jsx(_e,{path:nd,size:1,className:"text-green-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-green-800",children:e("settings.eventDefaults.saveSuccess")}),h.jsx("p",{className:"text-sm text-green-700",children:e("settings.eventDefaults.saveSuccessMessage")})]})]}),y&&h.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start",children:[h.jsx(_e,{path:td,size:1,className:"text-red-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-red-800",children:e("settings.eventDefaults.error")}),h.jsx("p",{className:"text-sm text-red-700",children:y})]})]}),h.jsxs("form",{onSubmit:q,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(_e,{path:yk,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.mealDefaults.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.mealDefaults.description")}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.saturday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"breakfastSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),h.jsx("input",{type:"number",id:"breakfastSat",min:"0",max:"9999",value:_,onChange:K=>w(parseInt(K.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lunchSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),h.jsx("input",{type:"number",id:"lunchSat",min:"0",max:"9999",value:C,onChange:K=>N(parseInt(K.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"bbqSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.bbq")}),h.jsx("input",{type:"number",id:"bbqSat",min:"0",max:"9999",value:T,onChange:K=>k(parseInt(K.target.value)||0),className:"input-base"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.sunday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"breakfastSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),h.jsx("input",{type:"number",id:"breakfastSun",min:"0",max:"9999",value:A,onChange:K=>$(parseInt(K.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lunchSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),h.jsx("input",{type:"number",id:"lunchSun",min:"0",max:"9999",value:O,onChange:K=>F(parseInt(K.target.value)||0),className:"input-base"})]}),h.jsxs("div",{className:"opacity-50",children:[h.jsx("label",{className:"label-base text-gray-400",children:e("settings.eventDefaults.mealDefaults.bbq")}),h.jsx("span",{className:"input-base bg-gray-100 cursor-not-allowed block w-full h-[2.5rem] rounded text-center text-gray-400","aria-disabled":"true",children:""}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("settings.eventDefaults.mealDefaults.sundayNoBbq")})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(_e,{path:nk,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.notifications.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.notifications.description")}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"emailNotifications",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.emailNotifications")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.emailNotificationsDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":R,onClick:()=>Z(!R),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${R?"bg-orange-600":"bg-gray-300"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${R?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newSubscriptionNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.newSubscription")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.newSubscriptionDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":W,onClick:()=>V(!W),disabled:!R,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${W&&R?"bg-orange-600":"bg-gray-300"} ${R?"":"opacity-50 cursor-not-allowed"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${W?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"assignmentChangeNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.assignmentChange")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.assignmentChangeDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":Q,onClick:()=>G(!Q),disabled:!R,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${Q&&R?"bg-orange-600":"bg-gray-300"} ${R?"":"opacity-50 cursor-not-allowed"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${Q?"translate-x-5":"translate-x-0"}`})})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 bg-white rounded-lg shadow p-6",children:[h.jsx("button",{type:"button",onClick:de,disabled:l,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e("settings.eventDefaults.reset")}),h.jsx("button",{type:"submit",disabled:l,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(l?"settings.eventDefaults.saving":"settings.eventDefaults.save")})]})]})]})}function aF(){const{t:e}=dt(),{settings:t,loading:n,updateSettings:i}=om(),{toastError:s,toastWarning:a}=ui(),[l,d]=j.useState(!1),[f,m]=j.useState(!1),[y,v]=j.useState("#3b82f6"),[_,w]=j.useState("Arvo, serif");j.useEffect(()=>{t&&(v(t.theme_color||"#3b82f6"),w(t.font_family||"Arvo, serif"))},[t]);const C=async()=>{try{if(d(!0),!await i({theme_color:y,font_family:_}))throw new Error("Failed to update branding settings");m(!0),setTimeout(()=>m(!1),3e3)}catch(T){console.error("Error saving branding settings:",T),T.message?.includes("updated by another admin")?a(T.message):s(T.message||e("settings.branding.errors.saveFailed"))}finally{d(!1)}},N=()=>{t&&(v(t.theme_color||"#3b82f6"),w(t.font_family||"Arvo, serif"))};return n?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-500",children:e("settings.branding.loading")})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:_5,size:1,className:"text-orange-600"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.branding.title")})]}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-orange-50 border border-orange-200 rounded-lg",children:[h.jsx(_e,{path:$r,size:.6,className:"text-orange-600"}),h.jsx("span",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Organization Setting"})]})]}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.branding.description")}),h.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[" ",e("settings.branding.note")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.themeColor.label")}),h.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.themeColor.description")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"color",value:y,onChange:T=>v(T.target.value),className:"h-12 w-24 border border-gray-300 rounded cursor-pointer"}),h.jsx("input",{type:"text",value:y,onChange:T=>v(T.target.value),placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:7})]}),h.jsxs("div",{className:"mt-3 space-y-2",children:[h.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:y,borderColor:y},children:[h.jsx("p",{className:"font-bold text-white text-lg",children:"Preview Text (White on Color)"}),h.jsx("p",{className:"text-white text-sm opacity-90",children:"The quick brown fox jumps over the lazy dog"})]}),h.jsxs("div",{className:"p-4 rounded-lg border-2 border-gray-300 bg-white",children:[h.jsx("p",{className:"font-bold text-lg",style:{color:y},children:"Preview Text (Color on White)"}),h.jsx("p",{className:"text-sm",style:{color:y},children:"The quick brown fox jumps over the lazy dog"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.fontFamily.label")}),h.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.fontFamily.description")}),h.jsxs("select",{value:_,onChange:T=>w(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"Arvo, Sans-serif",children:"Arvo (Default)"}),h.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),h.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),h.jsx("option",{value:"Georgia, serif",children:"Georgia"}),h.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),h.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),h.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),h.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),h.jsx("option",{value:"Impact, sans-serif",children:"Impact"})]}),h.jsxs("div",{className:"mt-3 p-4 rounded-lg border border-gray-300 bg-white",style:{fontFamily:_},children:[h.jsx("p",{className:"text-lg text-gray-900 font-semibold",children:"The quick brown fox jumps over the lazy dog"}),h.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"1234567890 !@#$%^&*()"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("button",{onClick:N,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:e("settings.branding.reset")}),h.jsx("button",{onClick:C,disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?e("common.saving"):f?h.jsxs(h.Fragment,{children:[h.jsx(_e,{path:nd,size:.8}),e("settings.branding.saveSuccess")]}):e("common.save")})]})]})}function oF(){const{t:e}=dt();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:D0,size:1.2,className:"text-blue-600"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.uiLanguage.title")}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.uiLanguage.description")})]})]}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-lg",children:[h.jsx(_e,{path:m5,size:.6,className:"text-blue-600"}),h.jsx("span",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Personal Setting"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(_e,{path:D0,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("p",{className:"font-semibold mb-1",children:e("settings.uiLanguage.note.title")}),h.jsx("p",{children:e("settings.uiLanguage.note.description")})]})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("settings.uiLanguage.selectLanguage")}),h.jsx(Pc,{})]})]})]})}function lF(){return h.jsx(x6,{})}function uF(){const{t:e}=dt(),{settings:t,loading:n,updateSettings:i}=om(),{toastError:s,toastWarning:a}=ui(),[l,d]=j.useState(!1),[f,m]=j.useState(!1),[y,v]=j.useState(null),[_,w]=j.useState(51.898095),[C,N]=j.useState(5.772961),[T,k]=j.useState(17),[A,$]=j.useState(14),[O,F]=j.useState(22),[R,Z]=j.useState(21);j.useEffect(()=>{t&&(w(t.map_center_lat??51.898095),N(t.map_center_lng??5.772961),k(t.map_default_zoom??17),$(t.map_min_zoom??14),F(t.map_max_zoom??22),Z(t.map_search_zoom??21))},[t]);const W=async Q=>{Q.preventDefault(),d(!0),v(null),m(!1);try{if(A>T||T>O)throw new Error(e("settings.mapDefaults.errors.invalidZoomLevels"));if(R<A||R>O)throw new Error(e("settings.mapDefaults.errors.invalidSearchZoom"));if(!await i({map_center_lat:parseFloat(_),map_center_lng:parseFloat(C),map_default_zoom:parseInt(T),map_min_zoom:parseInt(A),map_max_zoom:parseInt(O),map_search_zoom:parseInt(R)}))throw new Error("Failed to update map settings");m(!0),setTimeout(()=>m(!1),3e3)}catch(G){console.error("Failed to save map settings:",G),G.message?.includes("updated by another admin")?(a(G.message),v(e("settings.mapDefaults.errors.saveFailed"))):(s(G.message||e("settings.mapDefaults.errors.saveFailed")),v(G.message||e("settings.mapDefaults.errors.saveFailed")))}finally{d(!1)}},V=()=>{t&&(w(t.map_center_lat??51.898095),N(t.map_center_lng??5.772961),k(t.map_default_zoom??17),$(t.map_min_zoom??14),F(t.map_max_zoom??22),Z(t.map_search_zoom??21))};return n?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center justify-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("settings.mapDefaults.loading")})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.mapDefaults.title")}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-orange-50 border border-orange-200 rounded-lg",children:[h.jsx(_e,{path:$r,size:.6,className:"text-orange-600"}),h.jsx("span",{className:"text-xs font-semibold text-orange-700 uppercase tracking-wide",children:"Organization Setting"})]})]}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.mapDefaults.description")})]}),f&&h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start",children:[h.jsx(_e,{path:nd,size:1,className:"text-green-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-green-800",children:e("settings.mapDefaults.saveSuccess")}),h.jsx("p",{className:"text-sm text-green-700",children:e("settings.mapDefaults.saveSuccessMessage")})]})]}),y&&h.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start",children:[h.jsx(_e,{path:td,size:1,className:"text-red-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-red-800",children:e("settings.mapDefaults.error")}),h.jsx("p",{className:"text-sm text-red-700",children:y})]})]}),h.jsxs("form",{onSubmit:W,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(_e,{path:Rl,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.mapDefaults.mapCenter.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.mapDefaults.mapCenter.description")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mapCenterLat",className:"label-base",children:e("settings.mapDefaults.mapCenter.latitude")}),h.jsx("input",{type:"number",id:"mapCenterLat",step:"0.000001",min:"-90",max:"90",value:_,onChange:Q=>w(Q.target.value),className:"input-base",placeholder:"51.898095"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("settings.mapDefaults.mapCenter.latitudeRange")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mapCenterLng",className:"label-base",children:e("settings.mapDefaults.mapCenter.longitude")}),h.jsx("input",{type:"number",id:"mapCenterLng",step:"0.000001",min:"-180",max:"180",value:C,onChange:Q=>N(Q.target.value),className:"input-base",placeholder:"5.772961"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("settings.mapDefaults.mapCenter.longitudeRange")})]})]}),h.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-2",children:[h.jsx(_e,{path:Sk,size:.8,className:"text-blue-600 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-sm text-blue-800",children:e("settings.mapDefaults.mapCenter.hint")})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(_e,{path:Rl,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.mapDefaults.zoomLevels.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.mapDefaults.zoomLevels.description")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mapDefaultZoom",className:"label-base",children:e("settings.mapDefaults.zoomLevels.defaultZoom")}),h.jsx("input",{type:"number",id:"mapDefaultZoom",min:"1",max:"22",value:T,onChange:Q=>k(Q.target.value),className:"input-base"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("settings.mapDefaults.zoomLevels.defaultZoomDesc")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mapSearchZoom",className:"label-base",children:e("settings.mapDefaults.zoomLevels.searchZoom")}),h.jsx("input",{type:"number",id:"mapSearchZoom",min:"1",max:"22",value:R,onChange:Q=>Z(Q.target.value),className:"input-base"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("settings.mapDefaults.zoomLevels.searchZoomDesc")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mapMinZoom",className:"label-base",children:e("settings.mapDefaults.zoomLevels.minZoom")}),h.jsx("input",{type:"number",id:"mapMinZoom",min:"1",max:"22",value:A,onChange:Q=>$(Q.target.value),className:"input-base"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("settings.mapDefaults.zoomLevels.minZoomDesc")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mapMaxZoom",className:"label-base",children:e("settings.mapDefaults.zoomLevels.maxZoom")}),h.jsx("input",{type:"number",id:"mapMaxZoom",min:"1",max:"22",value:O,onChange:Q=>F(Q.target.value),className:"input-base"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("settings.mapDefaults.zoomLevels.maxZoomDesc")})]})]}),h.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:h.jsxs("p",{className:"text-sm text-amber-800",children:[h.jsxs("span",{className:"font-medium",children:[e("settings.mapDefaults.zoomLevels.constraint"),":"]})," ",e("settings.mapDefaults.zoomLevels.constraintDesc")]})})]}),h.jsxs("div",{className:"flex justify-end gap-3 bg-white rounded-lg shadow p-6",children:[h.jsx("button",{type:"button",onClick:V,disabled:l,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e("settings.mapDefaults.reset")}),h.jsx("button",{type:"submit",disabled:l,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(l?"settings.mapDefaults.saving":"settings.mapDefaults.save")})]})]})]})}function cF(){const{t:e}=dt(),{role:t,isSuperAdmin:n}=vo(),[i,s]=j.useState("user-management"),l=[{id:"ui-language",label:e("settings.uiLanguage.title"),icon:D0,roles:["super_admin","system_manager","event_manager"],component:h.jsx(oF,{}),scope:"personal",description:"Your personal language preference"},{id:"user-management",label:e("settings.userManagement.title"),icon:f5,roles:["super_admin","system_manager"],component:h.jsx(rF,{}),scope:"organization",description:"Manage user accounts and roles"},{id:"category-settings",label:e("settings.categoryManagement.title"),icon:R0,roles:["super_admin","system_manager"],component:h.jsx(lF,{}),scope:"organization",description:"Company categories for all users"},{id:"branding",label:e("settings.branding.title"),icon:_5,roles:["super_admin","system_manager"],component:h.jsx(aF,{}),scope:"organization",description:"Logo, colors, and app name"},{id:"map-defaults",label:e("settings.mapDefaults.title"),icon:Rl,roles:["super_admin","system_manager"],component:h.jsx(uF,{}),scope:"organization",description:"Default map position and zoom"},{id:"event-defaults",label:e("settings.eventDefaults.title"),icon:M0,roles:["super_admin","system_manager","event_manager"],component:h.jsx(sF,{}),scope:"organization",description:"Default meal counts for events"},{id:"advanced",label:e("settings.advanced.title"),icon:td,roles:["super_admin"],component:h.jsx(dF,{}),scope:"organization",description:"System configuration (danger zone)"}].filter(f=>n?!0:f.roles.includes(t));Ti.useEffect(()=>{l.find(f=>f.id===i)||s(l[0]?.id||"event-defaults")},[t]);const d=l.find(f=>f.id===i)?.component;return h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("settings.title")}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e("settings.subtitle"),h.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium capitalize",children:t?.replace("_"," ")})]})]}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:h.jsxs("nav",{className:"p-4 space-y-4",children:[l.filter(f=>f.scope==="personal").length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-1",children:[h.jsx(_e,{path:m5,size:.7,className:"text-blue-600"}),h.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Personal Settings"})]}),h.jsx("div",{className:"space-y-1",children:l.filter(f=>f.scope==="personal").map(f=>h.jsxs("button",{onClick:()=>s(f.id),className:`w-full flex items-start gap-3 px-4 py-3 rounded-lg text-left transition-colors ${i===f.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,title:f.description,children:[h.jsx(_e,{path:f.icon,size:.9,className:"flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium",children:f.label}),h.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:f.description})]})]},f.id))})]}),l.filter(f=>f.scope==="organization").length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mb-1",children:[h.jsx(_e,{path:$r,size:.7,className:"text-orange-600"}),h.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Organization Settings"})]}),h.jsx("div",{className:"space-y-1",children:l.filter(f=>f.scope==="organization").map(f=>h.jsxs("button",{onClick:()=>s(f.id),className:`w-full flex items-start gap-3 px-4 py-3 rounded-lg text-left transition-colors ${i===f.id?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,title:f.description,children:[h.jsx(_e,{path:f.icon,size:.9,className:"flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium",children:f.label}),h.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:f.description})]})]},f.id))})]})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:d})]})]})}function dF(){const{t:e}=dt();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(_e,{path:td,size:1,className:"text-red-600"}),e("settings.advanced.title")]}),h.jsx("p",{className:"text-gray-600",children:e("settings.advanced.description")}),h.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-800",children:" Advanced Settings (Danger Zone) coming soon..."})})]})}function _6(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(null),[l,d]=j.useState(null),[f,m]=j.useState(new Set);j.useEffect(()=>{(async()=>{const{data:{user:O}}=await pe.auth.getUser();d(O?.id||null)})()},[]);const y=j.useCallback(async($={})=>{try{i(!0),a(null);let O=pe.from("feedback_requests").select("*").order("created_at",{ascending:!1});$.type&&(O=O.eq("type",$.type)),$.status&&(O=O.eq("status",$.status)),$.userId&&(O=O.eq("user_id",$.userId));const{data:F,error:R}=await O;if(R)throw R;if(t(F||[]),l){const{data:Z}=await pe.from("feedback_votes").select("request_id").eq("user_id",l);m(new Set(Z?.map(W=>W.request_id)||[]))}}catch(O){console.error("Error loading feedback requests:",O),a(O.message)}finally{i(!1)}},[l]),v=async $=>{try{const{data:{user:O}}=await pe.auth.getUser();if(!O)throw new Error("User not authenticated");const{data:F,error:R}=await pe.from("feedback_requests").insert({user_id:O.id,user_email:O.email,type:$.type,title:$.title,description:$.description||""}).select().single();if(R)throw R;return await y(),{data:F,error:null}}catch(O){return console.error("Error creating request:",O),{data:null,error:O.message}}},_=async($,O)=>{try{const{data:F,error:R}=await pe.from("feedback_requests").update(O).eq("id",$).select().single();if(R)throw R;return await y(),{data:F,error:null}}catch(F){return console.error("Error updating request:",F),{data:null,error:F.message}}},w=async $=>{try{const{error:O}=await pe.from("feedback_requests").delete().eq("id",$);if(O)throw O;return await y(),{error:null}}catch(O){return console.error("Error deleting request:",O),{error:O.message}}},C=async $=>{try{const{data:{user:O}}=await pe.auth.getUser();if(!O)throw new Error("User not authenticated");const{error:F}=await pe.from("feedback_votes").insert({request_id:$,user_id:O.id});if(F)throw F;return m(R=>new Set([...R,$])),t(R=>R.map(Z=>Z.id===$?{...Z,votes:Z.votes+1}:Z)),{error:null}}catch(O){return console.error("Error adding vote:",O),{error:O.message}}},N=async $=>{try{const{data:{user:O}}=await pe.auth.getUser();if(!O)throw new Error("User not authenticated");const{error:F}=await pe.from("feedback_votes").delete().eq("request_id",$).eq("user_id",O.id);if(F)throw F;return m(R=>{const Z=new Set(R);return Z.delete($),Z}),t(R=>R.map(Z=>Z.id===$?{...Z,votes:Math.max(0,Z.votes-1)}:Z)),{error:null}}catch(O){return console.error("Error removing vote:",O),{error:O.message}}},T=async $=>{try{const{data:O,error:F}=await pe.from("feedback_comments").select("*").eq("request_id",$).order("created_at",{ascending:!0});if(F)throw F;return{data:O||[],error:null}}catch(O){return console.error("Error loading comments:",O),{data:[],error:O.message}}},k=async($,O)=>{try{const{data:{user:F}}=await pe.auth.getUser();if(!F)throw new Error("User not authenticated");const{data:R,error:Z}=await pe.from("feedback_comments").insert({request_id:$,user_id:F.id,user_email:F.email,comment:O}).select().single();if(Z)throw Z;return t(W=>W.map(V=>V.id===$?{...V,comments_count:V.comments_count+1}:V)),{data:R,error:null}}catch(F){return console.error("Error adding comment:",F),{data:null,error:F.message}}},A=async($,O)=>{try{const{error:F}=await pe.from("feedback_comments").delete().eq("id",$);if(F)throw F;return t(R=>R.map(Z=>Z.id===O?{...Z,comments_count:Math.max(0,Z.comments_count-1)}:Z)),{error:null}}catch(F){return console.error("Error deleting comment:",F),{error:F.message}}};return j.useEffect(()=>{const $=pe.channel("feedback_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests"},()=>{y()}).subscribe(),O=pe.channel("feedback_votes_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_votes"},R=>{(R?.new||R?.old)&&t(Z=>{const W=[...Z],V=R.new?.request_id||R.old?.request_id;return W.findIndex(G=>G.id===V)!==-1&&y(),W})}).subscribe(),F=pe.channel("feedback_comments_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_comments"},R=>{if(R?.new||R?.old){const Z=R.new?.request_id||R.old?.request_id;t(W=>W.map(V=>V.id===Z?{...V}:V)),y()}}).subscribe();return()=>{pe.removeChannel($),pe.removeChannel(O),pe.removeChannel(F)}},[y]),{requests:e,loading:n,error:s,userVotes:f,currentUserId:l,loadRequests:y,createRequest:v,updateRequest:_,deleteRequest:w,addVote:C,removeVote:N,loadComments:T,addComment:k,deleteComment:A}}function hF({request:e,onClose:t,onUpdate:n}){const{t:i}=dt(),{role:s}=vo(),{confirm:a}=ui(),l=s==="super_admin",{userVotes:d,currentUserId:f,addVote:m,removeVote:y,loadComments:v,addComment:_,deleteComment:w,updateRequest:C}=_6(),[N,T]=j.useState([]),[k,A]=j.useState(""),[$,O]=j.useState(!0),[F,R]=j.useState(!1),[Z,W]=j.useState(!1),[V,Q]=j.useState(e.status),[G,q]=j.useState(e.priority||""),[de,K]=j.useState(e.version_completed||""),[ne,H]=j.useState(!1),[Y,ie]=j.useState(e.votes),[ke,B]=j.useState(e.comments_count||0);j.useEffect(()=>{ie(e.votes),B(e.comments_count||0)},[e.id,e.votes,e.comments_count]),j.useEffect(()=>{(async()=>{O(!0);const{data:ce}=await v(e.id);T(ce||[]),O(!1)})()},[e.id]);const D=async()=>{if(d.has(e.id)){const{error:be}=await y(e.id);be||ie(ce=>Math.max(0,ce-1))}else{const{error:be}=await m(e.id);be||ie(ce=>ce+1)}},te=async be=>{if(be.preventDefault(),!k.trim())return;R(!0);const{data:ce,error:ae}=await _(e.id,k.trim());!ae&&ce&&(T([...N,ce]),A(""),B(J=>J+1)),R(!1)},I=async be=>{if(!await a({title:i("settings.feedbackRequests.detail.deleteComment"),message:i("common.confirmDelete"),confirmText:i("common.delete"),variant:"danger"}))return;const{error:ae}=await w(be,e.id);ae||(T(N.filter(J=>J.id!==be)),B(J=>Math.max(0,J-1)))},fe=async()=>{H(!0);const be={status:V,priority:G||null,version_completed:de||null};V==="completed"&&e.status!=="completed"&&(be.completed_at=new Date().toISOString(),be.completed_by=f);const{error:ce,data:ae}=await C(e.id,be);ce||(W(!1),n&&n(ae)),H(!1)},le=be=>{if(!be)return"open";switch(be.toLowerCase()){case"in_progress":case"inprogress":case"in progress":return"in_progress";case"completed":return"completed";case"archived":return"archived";case"open":default:return"open"}},ve=be=>{switch(le(be),be){case"completed":return nd;case"in_progress":return w5;case"archived":return Vf;default:return y5}},Te=be=>{switch(le(be)){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}};return h.jsxs(Rr,{isOpen:!0,onClose:t,size:"lg",showCloseButton:!1,children:[h.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.type==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[h.jsx(_e,{path:e.type==="issue"?L0:P0,size:.5,className:"mr-1"}),i(`settings.feedbackRequests.types.${e.type}`)]})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[h.jsx("span",{children:e.user_email}),h.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.version_completed&&!Z&&h.jsxs("span",{className:"text-green-600 font-medium",children:["v",e.version_completed]})]})]})}),h.jsxs("div",{className:"px-6 py-4",children:[e.description&&h.jsx("div",{className:"mb-6",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})}),l&&h.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-left flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-semibold text-blue-900",children:i("settings.feedbackRequests.detail.status")}),Z?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>W(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:i("common.cancel")}),h.jsx("button",{onClick:fe,disabled:ne,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:i(ne?"common.saving":"common.save")})]}):h.jsx("button",{onClick:()=>W(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:i("common.edit")})]}),(()=>{const be={open:"open",in_progress:"inProgress",completed:"completed",archived:"archived"},ce=le(e.status),ae=be[ce]||"open";return h.jsxs("div",{className:"mt-2 space-y-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"feedback-status-select",className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.statusCurrent")||i("settings.feedbackRequests.detail.status")||"Status"}),Z?h.jsxs("select",{id:"feedback-status-select","aria-label":i("settings.feedbackRequests.detail.statusAriaEdit")||"Edit status",value:V,onChange:J=>Q(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[h.jsx("option",{value:"open",children:i("settings.feedbackRequests.statuses.open")}),h.jsx("option",{value:"in_progress",children:i("settings.feedbackRequests.statuses.inProgress")}),h.jsx("option",{value:"completed",children:i("settings.feedbackRequests.statuses.completed")}),h.jsx("option",{value:"archived",children:i("settings.feedbackRequests.statuses.archived")})]}):h.jsxs("span",{role:"status","data-testid":"feedback-status-badge","aria-label":`Current status: ${i(`settings.feedbackRequests.statuses.${ae}`)}`,className:`inline-flex items-center gap-2 px-2 py-1 rounded-md border text-sm font-medium ${Te(ce)}`,children:[h.jsx(_e,{path:ve(ce),size:.8}),i(`settings.feedbackRequests.statuses.${ae}`)]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.priority")}),Z?h.jsxs("select",{value:G,onChange:J=>q(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm","aria-label":i("settings.feedbackRequests.detail.priorityAriaEdit")||"Edit priority",children:[h.jsx("option",{value:"",children:i("settings.feedbackRequests.priorities.none")||"No priority"}),h.jsx("option",{value:"low",children:i("settings.feedbackRequests.priorities.low")}),h.jsx("option",{value:"medium",children:i("settings.feedbackRequests.priorities.medium")}),h.jsx("option",{value:"high",children:i("settings.feedbackRequests.priorities.high")})]}):h.jsx("span",{className:`inline-flex items-center gap-2 px-2 py-1 rounded-md border text-sm font-medium ${e.priority==="high"?"border-red-300 bg-red-50 text-red-700":e.priority==="medium"?"border-yellow-300 bg-yellow-50 text-yellow-700":e.priority==="low"?"border-green-300 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600"}`,"data-testid":"feedback-priority-badge",role:"status","aria-label":`Current priority: ${e.priority?i(`settings.feedbackRequests.priorities.${e.priority}`):i("settings.feedbackRequests.priorities.none")||"No priority"}`,children:e.priority?i(`settings.feedbackRequests.priorities.${e.priority}`):i("settings.feedbackRequests.priorities.none")||"No priority"})]}),Z&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.version")}),h.jsx("input",{type:"text",value:de,onChange:J=>K(J.target.value),placeholder:"e.g., 1.2.0",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})})()]}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:D,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${d.has(e.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(_e,{path:C5,size:.8}),h.jsx("span",{className:"font-medium",children:d.has(e.id)?i("common.voted"):i("common.vote")}),h.jsxs("span",{className:"text-sm","aria-label":`Total votes: ${Y}`,children:["(",Y,")"]})]})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(_e,{path:v5,size:.8}),i("settings.feedbackRequests.detail.comments")," (",ke,")"]}),$?h.jsx("div",{className:"text-center py-4 text-gray-500",children:i("common.loading")}):N.length===0?h.jsx("p",{className:"text-gray-500 text-sm mb-4",children:i("settings.feedbackRequests.detail.noComments")}):h.jsx("div",{className:"space-y-3 mb-4",children:N.map(be=>h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"font-medium text-gray-900",children:be.user_email}),h.jsx("span",{className:"text-gray-500 ml-2",children:new Date(be.created_at).toLocaleDateString()})]}),(be.user_id===f||l)&&h.jsx("button",{onClick:()=>I(be.id),className:"text-red-600 hover:text-red-700",children:h.jsx(_e,{path:ql,size:.6})})]}),h.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:be.comment})]},be.id))}),h.jsxs("form",{onSubmit:te,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:k,onChange:be=>A(be.target.value),placeholder:i("settings.feedbackRequests.detail.addComment"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsxs("button",{type:"submit",disabled:F||!k.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[h.jsx(_e,{path:Ak,size:.7}),i("settings.feedbackRequests.detail.postComment")]})]})]})]})]})}function fF(){const{t:e}=dt(),{role:t}=vo(),n=t==="super_admin",{preferences:i,loading:s,updatePreference:a}=Oy(),{requests:l,loading:d,error:f,userVotes:m,currentUserId:y,loadRequests:v,createRequest:_,addVote:w,removeVote:C}=_6(),[N,T]=j.useState("all"),[k,A]=j.useState([]),[$,O]=j.useState([]),[F,R]=j.useState(""),[Z,W]=j.useState(null),[V,Q]=j.useState(!1),[G,q]=j.useState(!1),de=j.useRef(null),K=j.useRef(null),[ne,H]=j.useState(!1);j.useEffect(()=>{i&&!s&&(T(i.feedback_active_tab||"all"),A(i.feedback_filter_types||[]),O(i.feedback_filter_statuses||[]),H(!0),console.log("FeedbackRequests: Preferences loaded and applied (sync)"))},[i,s]),j.useEffect(()=>{const se=Me=>{de.current&&!de.current.contains(Me.target)&&Q(!1),K.current&&!K.current.contains(Me.target)&&q(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[]);const[Y,ie]=j.useState("feature"),[ke,B]=j.useState(""),[D,te]=j.useState(""),[I,fe]=j.useState(!1);j.useEffect(()=>{const se={};N==="my"&&y&&(se.userId=y),v(se)},[N,y,v]),j.useEffect(()=>{if(i&&!s&&ne&&N!==i.feedback_active_tab){console.log("FeedbackRequests: Saving activeTab",N);const se=setTimeout(()=>{a("feedback_active_tab",N),console.log("FeedbackRequests: activeTab saved")},500);return()=>clearTimeout(se)}},[N,i,s,ne,a]),j.useEffect(()=>{if(i&&!s&&ne&&JSON.stringify(k)!==JSON.stringify(i.feedback_filter_types)){console.log("FeedbackRequests: Saving filterTypes",k);const se=setTimeout(()=>{a("feedback_filter_types",k),console.log("FeedbackRequests: filterTypes saved")},500);return()=>clearTimeout(se)}},[k,i,s,ne,a]),j.useEffect(()=>{if(i&&!s&&ne&&JSON.stringify($)!==JSON.stringify(i.feedback_filter_statuses)){console.log("FeedbackRequests: Saving filterStatuses",$);const se=setTimeout(()=>{a("feedback_filter_statuses",$),console.log("FeedbackRequests: filterStatuses saved")},500);return()=>clearTimeout(se)}},[$,i,s,ne,a]);const le=l.filter(se=>{if(F){const Me=F.toLowerCase();if(!(se.title.toLowerCase().includes(Me)||se.description?.toLowerCase().includes(Me)||se.user_email.toLowerCase().includes(Me)))return!1}if(k.length>0&&!k.includes(se.type))return!1;if($.length>0){const Me=se.status||"open";if(!$.includes(Me))return!1}return!0}),ve=async se=>{m.has(se)?await C(se):await w(se)},Te=async se=>{if(se.preventDefault(),!ke.trim())return;fe(!0);const{error:Me}=await _({type:Y,title:ke.trim(),description:D.trim()});Me||(B(""),te(""),T("all")),fe(!1)},be=se=>{switch(se){case"completed":return nd;case"in_progress":return w5;case"archived":return Vf;default:return y5}},ce=se=>{switch(se){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}},ae=se=>{if(!se)return"open";const Me=se.toLowerCase();return Me==="in_progress"||Me==="inprogress"||Me==="in progress"?"inProgress":Me==="completed"?"completed":Me==="archived"?"archived":"open"},J=se=>se==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800";return d&&l.length===0?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("settings.feedbackRequests.title")}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.feedbackRequests.description")})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsx("button",{onClick:()=>T("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.all")}),h.jsx("button",{onClick:()=>T("my"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="my"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.myRequests")}),h.jsxs("button",{onClick:()=>T("submit"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="submit"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(_e,{path:id,size:.7,className:"inline mr-1"}),e("settings.feedbackRequests.tabs.submit")]})]})}),(N==="all"||N==="my")&&h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[h.jsx(_e,{path:b5,size:.8}),h.jsx("span",{className:"font-medium",children:e("settings.feedbackRequests.filters.title")})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("input",{type:"text",placeholder:e("settings.feedbackRequests.filters.search"),value:F,onChange:se=>R(se.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsxs("div",{className:"relative",ref:de,children:[h.jsxs("button",{type:"button",onClick:()=>Q(!V),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-left flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-gray-900",children:k.length===0?e("settings.feedbackRequests.filters.allTypes"):k.length===1?e(`settings.feedbackRequests.types.${k[0]}`):`${k.length} ${e("settings.feedbackRequests.filters.selectedTypes")||"selected types"}`}),h.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),V&&h.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg",children:h.jsxs("div",{className:"p-2 space-y-1",children:[h.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:k.length===0,onChange:()=>A([]),className:"mr-2"}),h.jsx("span",{className:"text-sm text-gray-900",children:e("settings.feedbackRequests.filters.allTypes")})]}),["issue","feature"].map(se=>h.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:k.includes(se),onChange:Me=>{Me.target.checked?A([...k,se]):A(k.filter(Pe=>Pe!==se))},className:"mr-2"}),h.jsx("span",{className:"text-sm text-gray-900",children:e(`settings.feedbackRequests.types.${se}`)})]},se))]})})]}),h.jsxs("div",{className:"relative",ref:K,children:[h.jsxs("button",{type:"button",onClick:()=>q(!G),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-left flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-gray-900",children:$.length===0?e("settings.feedbackRequests.filters.allStatuses"):$.length===1?e(`settings.feedbackRequests.statuses.${ae($[0])}`):`${$.length} ${e("settings.feedbackRequests.filters.selectedStatuses")}`}),h.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),G&&h.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg",children:h.jsxs("div",{className:"p-2 space-y-1",children:[h.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:$.length===0,onChange:()=>O([]),className:"mr-2"}),h.jsx("span",{className:"text-sm text-gray-900",children:e("settings.feedbackRequests.filters.allStatuses")})]}),["open","in_progress","completed","archived"].map(se=>h.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:$.includes(se),onChange:Me=>{Me.target.checked?O([...$,se]):O($.filter(Pe=>Pe!==se))},className:"mr-2"}),h.jsx("span",{className:"text-sm text-gray-900",children:e(`settings.feedbackRequests.statuses.${ae(se)}`)})]},se))]})})]})]})]}),N==="submit"?h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("settings.feedbackRequests.submit.title")}),h.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.type")}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"feature",checked:Y==="feature",onChange:se=>ie(se.target.value),className:"mr-2"}),h.jsx(_e,{path:P0,size:.8,className:"mr-1 text-blue-600"}),e("settings.feedbackRequests.types.feature")]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"issue",checked:Y==="issue",onChange:se=>ie(se.target.value),className:"mr-2"}),h.jsx(_e,{path:L0,size:.8,className:"mr-1 text-red-600"}),e("settings.feedbackRequests.types.issue")]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e("settings.feedbackRequests.submit.title")," *"]}),h.jsx("input",{type:"text",value:ke,onChange:se=>B(se.target.value),placeholder:e("settings.feedbackRequests.submit.titlePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.description")}),h.jsx("textarea",{value:D,onChange:se=>te(se.target.value),placeholder:e("settings.feedbackRequests.submit.descriptionPlaceholder"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ke&&h.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[" ",e("settings.feedbackRequests.submit.duplicateHint")]}),h.jsx("button",{type:"submit",disabled:I||!ke.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(I?"common.saving":"settings.feedbackRequests.submit.button")})]})]}):h.jsxs("div",{className:"space-y-3",children:[f&&h.jsx("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg",children:f}),le.length===0?h.jsx("div",{className:"text-center py-12 text-gray-500",children:e("settings.feedbackRequests.noRequests")}):le.map(se=>h.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>W(se),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${J(se.type)}`,children:[h.jsx(_e,{path:se.type==="issue"?L0:P0,size:.5,className:"mr-1"}),e(`settings.feedbackRequests.types.${se.type}`)]}),h.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${ce(se.status)}`,role:"status","data-testid":"feedback-status-list-badge","aria-label":`Status: ${e(`settings.feedbackRequests.statuses.${ae(se.status)}`)}`,children:[h.jsx(_e,{path:be(se.status),size:.6}),e(`settings.feedbackRequests.statuses.${ae(se.status)}`)]}),se.priority&&n&&h.jsx("span",{className:"text-xs text-gray-500",children:e(`settings.feedbackRequests.priorities.${se.priority}`)})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:se.title}),se.description&&h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:se.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[h.jsx("span",{children:se.user_email}),h.jsx("span",{children:new Date(se.created_at).toLocaleDateString()}),se.version_completed&&h.jsxs("span",{className:"text-green-600 font-medium",children:["v",se.version_completed]})]})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[h.jsxs("button",{onClick:Me=>{Me.stopPropagation(),ve(se.id)},className:`flex items-center gap-1 px-3 py-1 rounded-full border ${m.has(se.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(_e,{path:C5,size:.6}),h.jsx("span",{className:"font-medium",children:se.votes})]}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[h.jsx(_e,{path:v5,size:.6}),h.jsx("span",{className:"text-sm",children:se.comments_count})]})]})]})},se.id))]}),Z&&h.jsx(hF,{request:Z,onClose:()=>W(null),onUpdate:se=>{if(se){const Me=l.findIndex(Pe=>Pe.id===se.id);Me!==-1&&(l[Me]={...l[Me],...se})}W(null),v()}})]})}const mF=j.lazy(()=>ed(()=>Promise.resolve().then(()=>IU),void 0));j.lazy(()=>ed(()=>import("./AccessibilityToggle-Bmc14mb1.js"),[]));j.lazy(()=>ed(()=>import("./FeedbackForm-_YKw2hdb.js"),[]));function pF({branding:e,user:t,markersState:n,updateMarker:i,setMarkersState:s,onLogin:a,selectedYear:l,setSelectedYear:d}){const f=({children:m})=>h.jsx(Ng,{children:h.jsxs(l2,{selectedYear:l,children:[h.jsx(WT,{}),h.jsx("main",{className:"pb-16",children:m}),h.jsx(qk,{})]})});return h.jsxs(cN,{children:[h.jsx(Tn,{path:"/",element:h.jsx(f,{children:h.jsx(Iy,{selectedYear:l,branding:e})})}),h.jsx(Tn,{path:"/map",element:h.jsx(f,{children:h.jsx(j.Suspense,{fallback:h.jsx("div",{children:"Loading map..."}),children:h.jsx(mF,{isAdminView:!1,markersState:n,updateMarker:i,setMarkersState:s,selectedYear:l})})})}),h.jsx(Tn,{path:"/exhibitors",element:h.jsx(f,{children:h.jsx(Xk,{markersState:n,selectedYear:l})})}),h.jsx(Tn,{path:"/schedule",element:h.jsx(f,{children:h.jsx(Jk,{selectedYear:l})})}),h.jsx(Tn,{path:"/reset-password",element:h.jsx(Ng,{children:h.jsx(j.Suspense,{fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:h.jsx(Uk,{branding:e})})})}),h.jsxs(Tn,{path:"/admin",element:t?h.jsx(l2,{selectedYear:l,children:h.jsx(jM,{selectedYear:l,setSelectedYear:d})}):h.jsx(Ng,{children:h.jsx(j.Suspense,{fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:h.jsx(Bk,{onLogin:a,branding:e})})}),children:[h.jsx(Tn,{index:!0,element:h.jsx(IO,{selectedYear:l,setSelectedYear:d})}),h.jsx(Tn,{path:"map",element:h.jsx(BU,{markersState:n,setMarkersState:s,updateMarker:i,selectedYear:l})}),h.jsx(Tn,{path:"companies",element:h.jsx(XU,{})}),h.jsx(Tn,{path:"subscriptions",element:h.jsx(JU,{selectedYear:l})}),h.jsx(Tn,{path:"program",element:h.jsx(eF,{})}),h.jsx(Tn,{path:"assignments",element:h.jsx(tF,{selectedYear:l})}),h.jsx(Tn,{path:"categories",element:h.jsx(x6,{})}),h.jsx(Tn,{path:"settings",element:h.jsx(cF,{})}),h.jsx(Tn,{path:"feedback",element:h.jsx(fF,{})})]}),h.jsx(Tn,{path:"/storage-test",element:h.jsx(Zk,{})})]})}const gF="Event Map App",yF="Welcome to the event!",vF="Home",bF={yearScope:{global:"Global (all years)",eventSpecific:"Event-specific (changes with year)",title:"Year-scoped data",viewingYear:"Viewing year",subscriptions:"Subscriptions",assignments:"Assignments",program:"Program",preview:"Preview changes"},yearSwitcher:{bannerBold:"Note:",bannerText:"Companies are shared across all years. Subscriptions, assignments and the program schedule are scoped to the selected year  switching the year will change those datasets.",bannerLink:"What changes when I switch the year?",modalTitle:"Switch to {{year}}?",modalIntro:"Are you sure you want to switch the admin view to <strong>{{year}}</strong>? The following data will update to reflect the selected year:",willChange:{subscriptions:"Subscriptions",subscriptionsDesc:"registrations and meal/coin selections for that event year",assignments:"Assignments",assignmentsDesc:"booth assignments and marker-to-company mappings for that year",program:"Program Management",programDesc:"the schedule / activities for the selected year"},wontChangeIntro:"The following data is not affected when switching years:",wontChange:{companies:"Companies",companiesDesc:"company profiles and master data are global and shared across years"},switchButton:"Switch to {{year}}"}},xF={adminPanel:"Admin Panel",dashboard:"Dashboard",mapManagement:"Map Management",companiesNav:"Companies",eventSubscriptions:"Subscriptions",programManagement:"Program Management",assignments:"Assignments",categories:"Categories",settings:"Settings",eventYear:"Event Year",help:"Help",logout:"Logout",loading:"Loading...",roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor"}},_F={home:"Home",map:"Map",exhibitors:"Exhibitors",schedule:"Schedule"},wF={loading:"Loading...",saving:"Saving...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this?",vote:"Vote",voted:"Voted"},SF={event:"Event",parking:"Parking",food:"Food"},CF={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},EF={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},jF={title:"Settings",subtitle:"Manage system configuration and preferences",categoryManagement:{title:"Category Management",description:"Manage exhibitor categories for filtering and organization"},userManagement:{title:"User Management",description:"Manage admin users, roles, and permissions",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Manager invitation sent!",inviteSuccessMessage:"The new manager will receive 2 emails: (1) Confirmation email - IGNORE THIS, it will not work. (2) Password reset email - USE THIS to set password and access the admin panel.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding Settings",description:"Configure visual branding (colors, fonts)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI Language",description:"Change the language of buttons, menus, and interface elements",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Map Defaults",description:"Default map layers, zoom levels, and map settings",loading:"Loading map settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Map settings saved successfully",saveSuccessMessage:"Your map configuration has been updated.",error:"Error",mapCenter:{title:"Map Center",description:"Set the default center point for the map when it loads",latitude:"Latitude",longitude:"Longitude",latitudeRange:"Range: -90 to 90",longitudeRange:"Range: -180 to 180",hint:" Tip: You can find coordinates by right-clicking on Google Maps and selecting the coordinates."},zoomLevels:{title:"Zoom Levels",description:"Configure default and allowed zoom levels for the map",defaultZoom:"Default Zoom",defaultZoomDesc:"Initial zoom level when map loads",searchZoom:"Search Zoom",searchZoomDesc:"Zoom level when viewing search results",minZoom:"Minimum Zoom",minZoomDesc:"Users cannot zoom out beyond this level",maxZoom:"Maximum Zoom",maxZoomDesc:"Users cannot zoom in beyond this level",constraint:"Constraint",constraintDesc:"Min Zoom  Default Zoom  Max Zoom, and Search Zoom must be within range"},errors:{invalidZoomLevels:"Invalid zoom levels: Min  Default  Max required",invalidSearchZoom:"Search zoom must be within min/max range",saveFailed:"Failed to save map settings. Please check your connection."}},eventDefaults:{title:"Event Defaults",description:"Default meal counts, booth sizes, and event preferences",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature Requests",description:"Submit issues, request features, and track progress",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses",selectedStatuses:"selected statuses",selectedTypes:"selected types"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{none:"No Priority",low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",statusCurrent:"Status",statusAriaEdit:"Edit status",priority:"Priority",priorityAriaEdit:"Edit priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Advanced Settings",description:"System maintenance, data management, and danger zone"}},NF={subtitle:"Your Next Adventure Starts Here!",title:"The 4x4 Holiday Fair",eventDate:"October 10-11, 2026",exhibitors:"Exhibitors",days:"Days",openingHours:"Opening Hours",openingHoursInfo:`Saturday 10:00 - 17:00
Sunday 10:00 - 16:00`,location:"Location",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parking",parkingInfo:"Free parking available at Strandpark Slijk-Ewijk",phaseNote:"<strong>Note:</strong> This is a Phase 1 placeholder. In Phase 2, this page will show real event data, welcome messages, and upcoming activities."},TF={title:"Exhibitors",searchPlaceholder:"Search exhibitors or booth number...",showing:"Showing",of:"of",exhibitors:"exhibitors",favorited:"favorited",favoritesOnly:"Favorites Only",sortBy:"Sort by",sortNameAsc:"Name (AZ)",sortNameDesc:"Name (ZA)",sortBoothAsc:"Booth (LowHigh)",sortBoothDesc:"Booth (HighLow)",sortFavorites:"Favorites First",sortName:"Name",sortBooth:"Booth",sortFavoritesBase:"Favorites",noExhibitors:"No exhibitors found",booth:"Booth",categoriesComingSoon:"Coming Soon: Categories",categories:"Categories",allCategories:"All Categories",filterByCategory:"Filter by category",clearFilters:"Clear filters",noCategoryMatch:"No exhibitors match the selected categories.",phaseNote:"Note:",comingInFuturePhases:"Coming in future phases:",categoryFiltering:"Category filtering",sortOptions:"Sort options"},kF={searchPlaceholder:"Search for name or booth...",ariaLabel:"Interactive event map"},$F={sortId:"ID",sortName:"Name",sortType:"Type",addMarker:"Add marker",addMarkerTooltipActive:"Click on map to place marker",addMarkerTooltip:"Add marker",enterMarkerId:"Enter Marker ID",markerIdPlaceholder:"Marker ID (integer)",confirm:"Confirm",cancel:"Cancel",errorInvalidId:"Please enter a valid numeric ID.",errorIdExists:"ID already exists. Please choose another.",searchPlaceholder:"Search by ID, booth label, or name...",selectMarker:"Select a marker to view details"},AF={title:"Program Management",addActivity:"Add Activity",addFirstActivity:"Add Your First Activity",noActivitiesFound:"No activities found for this day",saturday:"Saturday",sunday:"Sunday",location:"Location",exhibitor:"Exhibitor",venue:"Venue",edit:"Edit",delete:"Delete",dragToReorder:"Drag to reorder",totalActivities:"Total Activities",loading:"Loading activities...",error:"Error loading activities",confirmDelete:"Delete Activity",confirmDeleteMessage:"Are you sure you want to delete this activity? This action cannot be undone.",cancel:"Cancel",deleteButton:"Delete",deleting:"Deleting...",deleteError:"Failed to delete activity",reorderError:"Failed to reorder activities"},LF={createTitle:"Create Activity",editTitle:"Edit Activity",titleNL:"Title (NL)",titleEN:"Title (EN)",descriptionNL:"Description (NL)",descriptionEN:"Description (EN)",startTime:"Start Time",endTime:"End Time",locationType:"Location Type",venue:"Venue",exhibitor:"Exhibitor",locationNL:"Location (NL)",locationEN:"Location (EN)",company:"Company",selectCompany:"Select a company...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optional",displayOrder:"Display Order",displayOrderHelp:"Lower numbers appear first in the schedule",companyScopeHint:"Companies are shared across all years  selecting a company links the activity to that company across events.",isActive:"Active",isActiveHelp:"Inactive activities won't be shown to visitors",showLocationBadge:"Show Location Type Badge",showLocationBadgeHelp:'Show "exhibitor" or "location" badge in the schedule (usually not needed)',cancel:"Cancel",save:"Save",saving:"Saving...",saveError:"Failed to save activity",saveSuccess:"Activity saved",savePersistMismatch:"Saved but the badge value wasn't applied  you may not have permission to change this. Please check your role or contact an administrator."},MF={totalMarkers:"Total Markers",companies:"Companies",subscriptions:"Subscriptions",assignments:"Assignments",eventTotals:"Event Totals",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",noBBQ:"No BBQ",coins:"Coins",totalCoins:"Total Coins",quickActions:"Quick Actions",addNewCompany:"Add New Company",addNewCompanyDesc:"Register a new company in the system",manageSubscriptions:"Manage Subscriptions",manageSubscriptionsDesc:"Add or update event subscriptions",assignBooths:"Assign Booths",assignBoothsDesc:"Manage booth assignments for companies",recentActivity:"Recent Activity",recentActivityPlaceholder:"Activity tracking will be added in a future update."},PF={title:"Help & Guide",closeHelp:"Close help panel",yourRole:"Your role:",tabs:{currentPage:"Current Page",whatsNew:"What's New",quickStart:"Quick Start"},searchPlaceholder:"Search help content...",lastUpdated:"Last updated:",quickTips:"Quick Tips",whatsNewTitle:"What's New",whatsNewSubtitle:"Recent updates and changes",changeTypes:{feature:"feature",fix:"fix",improvement:"improvement"},quickStartTitle:"Quick Start Guide",quickStartSubtitle:"Get started with the admin panel",steps:{step1Title:"1. Understand Your Role",step1Text:"Your role ({role}) determines which features you can access. Check the navigation menu to see available sections.",step2Title:"2. Select Event Year",step2Text:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific.",step3Title:"3. Explore the Dashboard",step3Text:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data.",step4Title:"4. Common Workflows",step4Item1:"Add companies in the Companies tab",step4Item2:"Import subscriptions via Excel/CSV",step4Item3:"Assign companies to map locations",step4Item4:"Lock markers before event day",step5Title:"5. Get Contextual Help",step5Text:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'},roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor",unknown:"Unknown"},footer:"Need more help? Contact your system administrator",categories:{title:"Category Management",description:"Description",createNew:"Create Category",editCategory:"Edit Category",createCategory:"Create Category",order:"Order",category:"Category",slug:"Slug",exhibitors:"Exhibitors",icon:"Icon",color:"Color",sortOrder:"Sort Order",translations:"Translations",name:"Name",slugHelp:"Unique identifier (lowercase, no spaces, use hyphens)",noCategories:"No categories yet. Create your first category to get started.",confirmDelete:'Are you sure you want to delete "{{name}}"?',cannotDelete:"Cannot delete category with assigned exhibitors",createSuccess:"Category created successfully",updateSuccess:"Category updated successfully",deleteSuccess:"Category deleted successfully",deleteError:"Failed to delete category: {{error}}",saveError:"Failed to save category: {{error}}"},subscriptions:{searchPlaceholder:"Search subscribed companies...",booths:"Booths",company:"Company",contact:"Contact",phone:"Phone",email:"Email",boothCount:"Booth Count",area:"Area",saturday:"Saturday",sunday:"Sunday",coins:"Coins",notes:"Notes",actions:"Actions",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"large field, small field..."},assignments:{searchPlaceholder:"Search companies...",archive:"Archive",sortCompanies:"Sort Companies",sortMarkers:"Sort Markers",byMarker:"Marker",unassignedFirst:"Unassigned",markerId:"ID",glyphText:"Label",assigned:"Assigned",notAssigned:"Not assigned"},companies:{publicInfoTab:"Public Info",privateInfoTab:"Private Info",categoriesLabel:"Categories",searchPlaceholder:"Search companies...",addCompany:"Add Company",newCompany:"New Company",noCompanies:'No companies yet. Click "Add Company" to create one.',noResults:"No items found matching your search",companyNamePlaceholder:"Company Name *",companyLogo:"Company Logo",logoUrlPlaceholder:"Or paste external logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contact Person",phonePlaceholder:"Phone",emailPlaceholder:"Email",name:"Name",logo:"Logo",website:"Website",info:"Info",categories:"Categories",contact:"Contact",phone:"Phone",email:"Email",actions:"Actions",notSet:"Not set",none:"None",orPasteUrl:"Or paste URL",organizationInfo:"Organization info"}},OF={appTitle:gF,welcome:yF,home:vF,admin:bF,adminNav:xF,navigation:_F,common:wF,marker:SF,adminLogin:CF,resetPassword:EF,settings:jF,homePage:NF,exhibitorPage:TF,map:kF,mapManagement:$F,programManagement:AF,activityForm:LF,dashboard:MF,helpPanel:PF},RF="Evenementenkaart App",DF="Welkom op het evenement!",zF="Startpagina",IF={yearScope:{global:"Globaal (alle jaren)",eventSpecific:"Evenement-specifiek (wijzigt met geselecteerd jaar)",title:"Evenement-specifieke gegevens",viewingYear:"Geselecteerd jaar",subscriptions:"Inschrijvingen",assignments:"Toewijzingen",program:"Programma",preview:"Voorvertoning"},yearSwitcher:{bannerBold:"Opmerking:",bannerText:"Bedrijven worden gedeeld over alle jaren. Inschrijvingen, toewijzingen en het programma zijn gekoppeld aan het geselecteerde jaar  het wisselen van jaar verandert deze gegevens.",bannerLink:"Wat verandert er als ik het jaar wijzig?",modalTitle:"Overschakelen naar {{year}}?",modalIntro:"Weet u zeker dat u de beheerdersweergave wilt overschakelen naar <strong>{{year}}</strong>? De volgende gegevens worden bijgewerkt voor het geselecteerde jaar:",willChange:{subscriptions:"Inschrijvingen",subscriptionsDesc:"registraties en maaltijd/coin keuzes voor dat evenementjaar",assignments:"Toewijzingen",assignmentsDesc:"standtoewijzingen en markerbedrijf koppelingen voor dat jaar",program:"Programmabeheer",programDesc:"het schema / activiteiten voor het geselecteerde jaar"},wontChangeIntro:"De volgende gegevens worden niet gewijzigd bij het wisselen van jaar:",wontChange:{companies:"Bedrijven",companiesDesc:"Bedrijfsprofielen en masterdata blijven globaal en gelijk voor alle jaren"},switchButton:"Overschakelen naar {{year}}"}},BF={adminPanel:"Beheerderspaneel",dashboard:"Dashboard",mapManagement:"Kaartbeheer",companiesNav:"Bedrijven",eventSubscriptions:"Inschrijvingen",programManagement:"Programmabeheer",assignments:"Toewijzingen",categories:"Categorien",settings:"Instellingen",eventYear:"Evenementjaar",help:"Help",logout:"Uitloggen",loading:"Laden...",roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Evenementbeheerder",content_editor:"Contentbeheerder"}},UF={loading:"Laden...",saving:"Opslaan...",save:"Opslaan",cancel:"Annuleren",edit:"Bewerken",delete:"Verwijderen",confirmDelete:"Weet je zeker dat je dit wilt verwijderen?",vote:"Stem",voted:"Gestemd"},FF={event:"Evenement",parking:"Parkeren",food:"Eten"},VF={title:"Manager Inloggen",subtitle:"Inloggen om evenementgegevens te beheren",email:"E-mail",emailPlaceholder:"Voer uw e-mailadres in",password:"Wachtwoord",passwordPlaceholder:"Voer uw wachtwoord in",show:"Toon",hide:"Verberg",forgotPassword:"Wachtwoord vergeten?",resetPassword:"Wachtwoord Resetten",backToLogin:"Terug naar inloggen",sendResetLink:"Verstuur Reset Link",resetEmailSent:"Wachtwoord reset link is verzonden naar uw e-mail",resetInstructions:"Voer uw e-mailadres in en we sturen u een link om uw wachtwoord te resetten.",loginButton:"Inloggen",loggingIn:"Bezig met inloggen...",rememberMe:"Onthoud mijn e-mail",rememberMeTooltip:"Uw browser zal ook aanbieden om uw wachtwoord veilig op te slaan",errors:{invalidCredentials:"Ongeldig e-mailadres of wachtwoord",emailRequired:"E-mail is verplicht",passwordRequired:"Wachtwoord is verplicht",networkError:"Netwerkfout. Controleer uw verbinding.",unknownError:"Er is een fout opgetreden. Probeer het opnieuw.",resetFailed:"Kon reset e-mail niet verzenden. Probeer het opnieuw."}},HF={title:"Nieuw wachtwoord instellen",instructions:"Voer hieronder uw nieuwe wachtwoord in. Maak het veilig!",newPassword:"Nieuw wachtwoord",newPasswordPlaceholder:"Voer nieuw wachtwoord in",confirmPassword:"Bevestig wachtwoord",confirmPasswordPlaceholder:"Voer nieuw wachtwoord opnieuw in",showPassword:"Toon wachtwoord",hidePassword:"Verberg wachtwoord",passwordRequirements:"Minimaal 6 tekens",updatePassword:"Wachtwoord bijwerken",updating:"Aan het bijwerken...",success:"Wachtwoord succesvol bijgewerkt!",redirecting:"Doorverwijzen naar inlogpagina...",backToLogin:"Terug naar inloggen",requestNewLink:"Nieuwe Reset Link Aanvragen",errors:{linkExpiredTitle:"Reset Link Verlopen",invalidToken:"Deze reset link is ongeldig of verlopen. Vraag een nieuwe aan.",tokenExpired:"Deze reset link is verlopen. Reset links zijn slechts 60 seconden geldig nadat ze zijn verzonden. Ga terug naar de inlogpagina en vraag een nieuwe reset link aan.",passwordTooShort:"Wachtwoord moet minimaal 6 tekens zijn",passwordMismatch:"Wachtwoorden komen niet overeen",updateFailed:"Kon wachtwoord niet bijwerken. Probeer het opnieuw."}},ZF={title:"Instellingen",subtitle:"Beheer systeemconfiguratie en voorkeuren",categoryManagement:{title:"Categoriebeheer",description:"Beheer exposantcategorien voor filtering en organisatie"},userManagement:{title:"Gebruikersbeheer",description:"Beheer admin gebruikers, rollen en rechten",loading:"Gebruikers laden...",inviteUser:"Gebruiker uitnodigen",emailLabel:"E-mailadres",roleLabel:"Gebruikersrol",sendInvite:"Uitnodiging versturen",sending:"Verzenden...",cancel:"Annuleren",editRole:"Rol bewerken",deleteUser:"Gebruiker verwijderen",confirmDelete:"Weet u zeker dat u {{email}} wilt verwijderen?",inviteSuccess:"Manager uitnodiging verzonden!",inviteSuccessMessage:"De nieuwe manager ontvangt 2 emails: (1) Bevestigingsmail - NEGEER DEZE, (2) Wachtwoordherstel-mail - GEBRUIK DEZE om wachtwoord in te stellen.",table:{email:"E-mail",role:"Rol",created:"Aangemaakt",lastLogin:"Laatste login",actions:"Acties"},roles:{superAdmin:"Super Admin",systemManager:"Systeembeheerder",eventManager:"Evenementbeheerder"},roleDescriptions:{super_admin:"Volledige toegang tot alle functies",system_manager:"Kaartbeheer en gebruikersadministratie",event_manager:"Bedrijven, inschrijvingen en toewijzingen"},errors:{fetchFailed:"Kan gebruikers niet laden",inviteFailed:"Kan uitnodiging niet verzenden",updateFailed:"Kan gebruikersrol niet bijwerken",deleteFailed:"Kan gebruiker niet verwijderen"}},organization:{title:"Organisatieprofiel",description:"Organisatienaam, logo en contactinformatie"},branding:{title:"Branding Instellingen",description:"Configureer visuele branding (kleuren, lettertypen)",note:"Organisatienaam en logo worden beheerd in het Bedrijven-tabblad",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Standaardinstellingen Herstellen",saveSuccess:"Opgeslagen!",themeColor:{label:"Themakleur",description:"Primaire kleur gebruikt in de hele applicatie"},fontFamily:{label:"Lettertype",description:"Lettertype gebruikt voor koppen en tekst"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},uiLanguage:{title:"UI Taal",description:"Wijzig de taal van knoppen, menu's en interface-elementen",selectLanguage:"Selecteer je voorkeurstaal",note:{title:"Manager Interface Taal",description:"Dit wijzigt de taal van knoppen, menu's en instellingen. Het heeft GEEN invloed op inhoudvertalingen (bedrijfsinformatie, markeerbeschrijvingen). Inhoudvertalingen worden apart beheerd."}},mapDefaults:{title:"Kaart Standaardinstellingen",description:"Standaard kaartlagen, zoomniveaus en kaartinstellingen",loading:"Kaartinstellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Resetten",saveSuccess:"Kaartinstellingen succesvol opgeslagen",saveSuccessMessage:"Je kaartconfiguratie is bijgewerkt.",error:"Fout",mapCenter:{title:"Kaart Middelpunt",description:"Stel het standaard middelpunt van de kaart in wanneer deze wordt geladen",latitude:"Breedtegraad",longitude:"Lengtegraad",latitudeRange:"Bereik: -90 tot 90",longitudeRange:"Bereik: -180 tot 180",hint:" Tip: Je kunt cordinaten vinden door met de rechtermuisknop op Google Maps te klikken en de cordinaten te selecteren."},zoomLevels:{title:"Zoomniveaus",description:"Configureer standaard en toegestane zoomniveaus voor de kaart",defaultZoom:"Standaard Zoom",defaultZoomDesc:"Initieel zoomniveau wanneer de kaart wordt geladen",searchZoom:"Zoek Zoom",searchZoomDesc:"Zoomniveau bij het bekijken van zoekresultaten",minZoom:"Minimale Zoom",minZoomDesc:"Gebruikers kunnen niet verder uitzoomen dan dit niveau",maxZoom:"Maximale Zoom",maxZoomDesc:"Gebruikers kunnen niet verder inzoomen dan dit niveau",constraint:"Beperking",constraintDesc:"Min Zoom  Standaard Zoom  Max Zoom, en Zoek Zoom moet binnen bereik liggen"},errors:{invalidZoomLevels:"Ongeldige zoomniveaus: Min  Standaard  Max vereist",invalidSearchZoom:"Zoek zoom moet binnen min/max bereik liggen",saveFailed:"Kan kaartinstellingen niet opslaan. Controleer je verbinding."}},eventDefaults:{title:"Evenement Standaardinstellingen",description:"Standaard maaltijdaantallen, standgrootte en evenementvoorkeuren",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Resetten",saveSuccess:"Instellingen succesvol opgeslagen",saveSuccessMessage:"Je wijzigingen zijn toegepast.",error:"Fout",mealDefaults:{title:"Standaard Maaltijdaantallen",description:"Stel standaard maaltijdhoeveelheden in voor nieuwe evenementinschrijvingen. Deze waarden worden vooraf ingevuld maar kunnen per inschrijving worden aangepast.",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"Geen BBQ op zondag"},notifications:{title:"Meldingsvoorkeuren",description:"Configureer e-mailmeldingen voor evenementmanagers",emailNotifications:"E-mailmeldingen Inschakelen",emailNotificationsDesc:"Hoofdschakelaar voor alle e-mailmeldingen",newSubscription:"Nieuwe Inschrijvingsmeldingen",newSubscriptionDesc:"Ontvang een melding wanneer bedrijven zich registreren voor het evenement",assignmentChange:"Toewijzingswijzigingen",assignmentChangeDesc:"Ontvang een melding wanneer standtoewijzingen worden gewijzigd"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},feedbackRequests:{title:"Feedback & Functieverzoeken",description:"Meld problemen, vraag functies aan en volg voortgang",tabs:{all:"Alle Verzoeken",myRequests:"Mijn Verzoeken",submit:"Nieuwe Indienen"},filters:{title:"Filters",search:"Zoek verzoeken...",allTypes:"Alle Types",allStatuses:"Alle Statussen",selectedStatuses:"geselecteerde statussen",selectedTypes:"geselecteerde types"},types:{issue:"Probleem",feature:"Functieverzoek"},statuses:{open:"Open",inProgress:"In Behandeling",completed:"Voltooid",archived:"Gearchiveerd"},priorities:{none:"Geen Prioriteit",low:"Lage Prioriteit",medium:"Gemiddelde Prioriteit",high:"Hoge Prioriteit"},submit:{title:"Nieuw Verzoek Indienen",type:"Type",titleLabel:"Titel",titlePlaceholder:"Korte samenvatting van je verzoek",description:"Beschrijving",descriptionPlaceholder:"Geef details over je verzoek...",duplicateHint:"Controleer de lijst hieronder om te zien of een soortgelijk verzoek al bestaat",button:"Verzoek Indienen"},noRequests:"Geen verzoeken gevonden",detail:{comments:"Reacties",addComment:"Voeg reactie toe...",postComment:"Plaatsen",noComments:"Nog geen reacties. Wees de eerste die reageert!",status:"Status",statusCurrent:"Huidige Status",statusAriaEdit:"Status bewerken",priority:"Prioriteit",priorityAriaEdit:"Prioriteit bewerken",version:"Versie Uitgerold",updateStatus:"Status Bijwerken",setPriority:"Prioriteit Instellen",markCompleted:"Markeren als Voltooid",delete:"Verzoek Verwijderen"}},advanced:{title:"Geavanceerde Instellingen",description:"Systeemonderhoud, gegevensbeheer en gevarenzone"}},qF={subtitle:"Jouw Volgende Avontuur Start Hier!",title:"D 4x4 Vakantiebeurs",eventDate:"10-11 oktober 2026",exhibitors:"Exposanten",days:"Dagen",openingHours:"Openingstijden",openingHoursInfo:`Zaterdag 10:00 - 17:00 uur
Zondag 10:00 - 16:00 uur`,location:"Locatie",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parkeren",parkingInfo:"Gratis parkeren bij Strandpark Slijk-Ewijk",phaseNote:"<strong>Let op:</strong> Dit is een Fase 1 tijdelijke versie. In Fase 2 zal deze pagina echte evenementgegevens, welkomstberichten en aankomende activiteiten tonen."},GF={title:"Exposanten",searchPlaceholder:"Zoek exposanten of standnummer...",showing:"Toont",of:"van",exhibitors:"exposanten",favorited:"favoriet",favoritesOnly:"Alleen Favorieten",sortBy:"Sorteren op",sortNameAsc:"Naam (AZ)",sortNameDesc:"Naam (ZA)",sortBoothAsc:"Stand (LaagHoog)",sortBoothDesc:"Stand (HoogLaag)",sortFavorites:"Favorieten Eerst",sortName:"Naam",sortBooth:"Stand",sortFavoritesBase:"Favorieten",noExhibitors:"Geen exposanten gevonden",booth:"Stand",categoriesComingSoon:"Binnenkort: Categorien",categories:"Categorien",allCategories:"Alle Categorien",filterByCategory:"Filteren op categorie",clearFilters:"Filters wissen",noCategoryMatch:"Geen exposanten komen overeen met de geselecteerde categorien.",phaseNote:"Let op:",comingInFuturePhases:"Binnenkort beschikbaar:",categoryFiltering:"Filteren op categorie",sortOptions:"Sorteeropties"},KF={searchPlaceholder:"Zoek op naam of standnummer...",ariaLabel:"Interactieve evenementenkaart"},WF={addMarker:"Marker toevoegen",sortId:"ID",sortName:"Naam",sortType:"Type",addMarkerTooltipActive:"Klik op de kaart om marker te plaatsen",addMarkerTooltip:"Marker toevoegen",enterMarkerId:"Voer Marker ID in",markerIdPlaceholder:"Marker ID (geheel getal)",confirm:"Bevestigen",cancel:"Annuleren",errorInvalidId:"Voer een geldig numeriek ID in.",errorIdExists:"ID bestaat al. Kies een ander ID.",searchPlaceholder:"Zoek op ID, standlabel of naam...",selectMarker:"Selecteer een marker om details te bekijken"},YF={home:"Home",map:"Plattegrond",exhibitors:"Standhouders",schedule:"Programma"},XF={title:"Programma Beheer",addActivity:"Activiteit Toevoegen",addFirstActivity:"Voeg Je Eerste Activiteit Toe",noActivitiesFound:"Geen activiteiten gevonden voor deze dag",saturday:"Zaterdag",sunday:"Zondag",location:"Locatie",exhibitor:"Exposant",venue:"Locatie",edit:"Bewerken",delete:"Verwijderen",dragToReorder:"Sleep om te herschikken",totalActivities:"Totaal Activiteiten",loading:"Activiteiten laden...",error:"Fout bij laden activiteiten",confirmDelete:"Activiteit Verwijderen",confirmDeleteMessage:"Weet je zeker dat je deze activiteit wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.",cancel:"Annuleren",deleteButton:"Verwijderen",deleting:"Verwijderen...",deleteError:"Fout bij verwijderen activiteit",reorderError:"Fout bij herschikken activiteiten"},JF={createTitle:"Activiteit Aanmaken",editTitle:"Activiteit Bewerken",titleNL:"Titel (NL)",titleEN:"Titel (EN)",descriptionNL:"Beschrijving (NL)",descriptionEN:"Beschrijving (EN)",startTime:"Starttijd",endTime:"Eindtijd",locationType:"Locatie Type",venue:"Locatie",exhibitor:"Exposant",locationNL:"Locatie (NL)",locationEN:"Locatie (EN)",company:"Bedrijf",selectCompany:"Selecteer een bedrijf...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optioneel",displayOrder:"Volgorde",displayOrderHelp:"Lagere nummers verschijnen eerst in het programma",isActive:"Actief",isActiveHelp:"Alleen actieve activiteiten worden getoond aan bezoekers",showLocationBadge:"Toon Locatietype Badge",showLocationBadgeHelp:'Toon "standhouder" of "locatie" badge in het programma (meestal niet nodig)',cancel:"Annuleren",save:"Opslaan",saving:"Opslaan...",saveError:"Fout bij opslaan activiteit",saveSuccess:"Activiteit opgeslagen",savePersistMismatch:"Opgeslagen maar de badge-waarde is niet doorgevoerd  mogelijk heeft u geen toestemming. Controleer uw rol of neem contact op met een beheerder."},QF={totalMarkers:"Totaal Markers",companies:"Bedrijven",subscriptions:"Inschrijvingen",assignments:"Toewijzingen",eventTotals:"Evenement Totalen",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",noBBQ:"Geen BBQ",coins:"Munten",totalCoins:"Totaal Munten",quickActions:"Snelle Acties",addNewCompany:"Nieuw Bedrijf Toevoegen",addNewCompanyDesc:"Registreer een nieuw bedrijf in het systeem",manageSubscriptions:"Inschrijvingen Beheren",manageSubscriptionsDesc:"Voeg inschrijvingen toe of werk ze bij",assignBooths:"Stands Toewijzen",assignBoothsDesc:"Beheer standtoewijzingen voor bedrijven",recentActivity:"Recente Activiteit",recentActivityPlaceholder:"Activiteitentracking wordt toegevoegd in een toekomstige update."},eV={title:"Hulp & Gids",closeHelp:"Hulppaneel sluiten",yourRole:"Jouw rol:",tabs:{currentPage:"Huidige Pagina",whatsNew:"Wat is Nieuw",quickStart:"Snel Starten"},searchPlaceholder:"Zoek hulp inhoud...",lastUpdated:"Laatst bijgewerkt:",quickTips:"Snelle Tips",whatsNewTitle:"Wat is Nieuw",whatsNewSubtitle:"Recente updates en wijzigingen",changeTypes:{feature:"functie",fix:"fix",improvement:"verbetering"},quickStartTitle:"Snel Start Gids",quickStartSubtitle:"Aan de slag met het admin paneel",steps:{step1Title:"1. Begrijp je Rol",step1Text:"Je rol ({role}) bepaalt welke functies je kunt gebruiken. Bekijk het navigatiemenu om beschikbare secties te zien.",step2Title:"2. Selecteer Evenementjaar",step2Text:"Gebruik de jaarselector in de topnavigatie om tussen verschillende evenementjaren te wisselen. Alle data (inschrijvingen, toewijzingen) is jaar-specifiek.",step3Title:"3. Verken het Dashboard",step3Text:"Start bij het Dashboard om een overzicht te zien van markers, bedrijven en event statistieken. Dit geeft je een snelle momentopname van je huidige data.",step4Title:"4. Veelvoorkomende Workflows",step4Item1:"Voeg bedrijven toe in het Bedrijven tabblad",step4Item2:"Importeer inschrijvingen via Excel/CSV",step4Item3:"Wijs bedrijven toe aan kaartlocaties",step4Item4:"Vergrendel markers voor de eventdag",step5Title:"5. Krijg Contextuele Hulp",step5Text:'Klik op "Huidige Pagina" tabblad in dit hulppaneel om specifieke begeleiding voor elke sectie te zien. Hover over (?) iconen voor snelle tooltips.'},roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Eventbeheerder",content_editor:"Content Editor",unknown:"Onbekend"},footer:"Meer hulp nodig? Neem contact op met je systeembeheerder",categories:{title:"Categoriebeheer",description:"Beheer exposantencategorien voor filtering en organisatie",createNew:"Categorie Aanmaken",editCategory:"Categorie Bewerken",createCategory:"Categorie Aanmaken",order:"Volgorde",category:"Categorie",slug:"Slug",exhibitors:"Exposanten",icon:"Icoon",color:"Kleur",sortOrder:"Sorteervolgorde",translations:"Vertalingen",name:"Naam",slugHelp:"Unieke identificatie (kleine letters, geen spaties, gebruik streepjes)",noCategories:"Nog geen categorien. Maak je eerste categorie aan om te beginnen.",confirmDelete:'Weet je zeker dat je "{{name}}" wilt verwijderen?',cannotDelete:"Kan categorie met toegewezen exposanten niet verwijderen",createSuccess:"Categorie succesvol aangemaakt",updateSuccess:"Categorie succesvol bijgewerkt",deleteSuccess:"Categorie succesvol verwijderd",deleteError:"Kan categorie niet verwijderen: {{error}}",saveError:"Kan categorie niet opslaan: {{error}}"},subscriptions:{searchPlaceholder:"Zoek ingeschreven bedrijven...",booths:"Stands",company:"Bedrijf",contact:"Contact",phone:"Telefoon",email:"E-mail",boothCount:"Aantal Stands",area:"Gebied",saturday:"Zaterdag",sunday:"Zondag",coins:"Munten",notes:"Notities",actions:"Acties",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"groot veld, klein veld..."},assignments:{searchPlaceholder:"Zoek bedrijven...",archive:"Archief",sortCompanies:"Sorteer Bedrijven",sortMarkers:"Sorteer Markers",byMarker:"Marker",unassignedFirst:"Niet toegewezen",markerId:"ID",glyphText:"Label",assigned:"Toegewezen",notAssigned:"Niet toegewezen"},companies:{publicInfoTab:"Publieke Info",privateInfoTab:"Priv Info",categoriesLabel:"Categorien",searchPlaceholder:"Zoek bedrijven...",addCompany:"Bedrijf Toevoegen",newCompany:"Nieuw Bedrijf",noCompanies:'Nog geen bedrijven. Klik op "Bedrijf Toevoegen" om er een aan te maken.',noResults:"Geen items gevonden die overeenkomen met uw zoekopdracht",companyNamePlaceholder:"Bedrijfsnaam *",companyLogo:"Bedrijfslogo",logoUrlPlaceholder:"Of plak externe logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contactpersoon",phonePlaceholder:"Telefoon",emailPlaceholder:"E-mail",name:"Naam",logo:"Logo",website:"Website",info:"Info",categories:"Categorien",contact:"Contact",phone:"Telefoon",email:"E-mail",actions:"Acties",notSet:"Niet ingesteld",none:"Geen",orPasteUrl:"Of plak URL",organizationInfo:"Organisatie info"}},tV={appTitle:RF,welcome:DF,home:zF,admin:IF,adminNav:BF,common:UF,marker:FF,adminLogin:VF,resetPassword:HF,settings:ZF,homePage:qF,exhibitorPage:GF,map:KF,mapManagement:WF,navigation:YF,programManagement:XF,activityForm:JF,dashboard:QF,helpPanel:eV},nV="Event Map App (DE)",iV="Willkommen zum Event!",rV="Startseite",sV={yearScope:{global:"Global (alle Jahre)",eventSpecific:"Ereignis-spezifisch (ndert sich mit Jahr)",title:"Jahresbezogene Daten",viewingYear:"Anzeigjahr",subscriptions:"Anmeldungen",assignments:"Zuweisungen",program:"Programm",preview:"Vorschau"},yearSwitcher:{bannerBold:"Hinweis:",bannerText:"Unternehmen werden fr alle Jahre geteilt. Abonnements, Zuweisungen und das Programm sind an das ausgewhlte Jahr gebunden  ein Wechsel des Jahres ndert diese Daten.",bannerLink:"Was ndert sich, wenn ich das Jahr wechsle?",modalTitle:"Zu {{year}} wechseln?",modalIntro:"Mchten Sie die Admin-Ansicht auf <strong>{{year}}</strong> ndern? Folgende Daten werden fr das ausgewhlte Jahr aktualisiert:",willChange:{subscriptions:"Abonnements",subscriptionsDesc:"Registrierungen und Mahlzeiten/Mnzen-Auswahlen fr dieses Eventjahr",assignments:"Zuweisungen",assignmentsDesc:"Standzuweisungen und MarkerUnternehmen Verknpfungen fr dieses Jahr",program:"Programmverwaltung",programDesc:"Der Zeitplan / Aktivitten fr das ausgewhlte Jahr"},wontChangeIntro:"Die folgenden Daten sind beim Wechsel des Jahres nicht betroffen:",wontChange:{companies:"Unternehmen",companiesDesc:"Unternehmensprofile und Stammdaten sind global und ber Jahre gleich"},switchButton:"Zu {{year}} wechseln"}},aV={adminPanel:"Admin Panel",dashboard:"Dashboard",mapManagement:"Kartenverwaltung",companiesNav:"Unternehmen",eventSubscriptions:"Abonnements",programManagement:"Programmverwaltung",assignments:"Zuweisungen",categories:"Kategorien",settings:"Einstellungen",eventYear:"Eventjahr",help:"Hilfe",logout:"Abmelden",loading:"Laden...",roles:{super_admin:"Super Admin",system_manager:"Systemmanager",event_manager:"Eventmanager",content_editor:"Inhaltseditor"}},oV={home:"Startseite",map:"Karte",exhibitors:"Aussteller",schedule:"Programm"},lV={loading:"Laden...",saving:"Speichern...",save:"Speichern",cancel:"Abbrechen",edit:"Bearbeiten",delete:"Lschen",confirmDelete:"Sind Sie sicher, dass Sie dies lschen mchten?",vote:"Abstimmen",voted:"Abgestimmt"},uV={event:"Event",parking:"Parken",food:"Essen"},cV={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},dV={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},hV={title:"Einstellungen",subtitle:"Systemkonfiguration und Einstellungen verwalten",categoryManagement:{title:"Kategorienverwaltung",description:"Verwalten Sie Ausstellerkategorien fr Filterung und Organisation"},userManagement:{title:"Benutzerverwaltung",description:"Admin-Benutzer, Rollen und Berechtigungen verwalten",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Manager invitation sent!",inviteSuccessMessage:"The new manager will receive 2 emails: (1) Confirmation email - IGNORE THIS, it will not work. (2) Password reset email - USE THIS to set password and access the admin panel.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding-Einstellungen",description:"Visuelles Branding konfigurieren (Farben, Schriftarten)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI-Sprache",description:"Sprache der Benutzeroberflche ndern",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Karten-Standardeinstellungen",description:"Standard-Kartenebenen, Zoomstufen und Einstellungen",loading:"Karteneinstellungen laden...",save:"nderungen Speichern",saving:"Speichern...",reset:"Zurcksetzen",saveSuccess:"Karteneinstellungen erfolgreich gespeichert",saveSuccessMessage:"Ihre Kartenkonfiguration wurde aktualisiert.",error:"Fehler",mapCenter:{title:"Kartenmittelpunkt",description:"Legen Sie den Standard-Mittelpunkt der Karte beim Laden fest",latitude:"Breitengrad",longitude:"Lngengrad",latitudeRange:"Bereich: -90 bis 90",longitudeRange:"Bereich: -180 bis 180",hint:" Tipp: Sie knnen Koordinaten finden, indem Sie mit der rechten Maustaste auf Google Maps klicken und die Koordinaten auswhlen."},zoomLevels:{title:"Zoomstufen",description:"Konfigurieren Sie Standard- und erlaubte Zoomstufen fr die Karte",defaultZoom:"Standard-Zoom",defaultZoomDesc:"Anfngliche Zoomstufe beim Laden der Karte",searchZoom:"Such-Zoom",searchZoomDesc:"Zoomstufe beim Anzeigen von Suchergebnissen",minZoom:"Minimaler Zoom",minZoomDesc:"Benutzer knnen nicht weiter herauszoomen als diese Stufe",maxZoom:"Maximaler Zoom",maxZoomDesc:"Benutzer knnen nicht weiter hineinzoomen als diese Stufe",constraint:"Einschrnkung",constraintDesc:"Min. Zoom  Standard-Zoom  Max. Zoom, und Such-Zoom muss im Bereich liegen"},errors:{invalidZoomLevels:"Ungltige Zoomstufen: Min.  Standard  Max. erforderlich",invalidSearchZoom:"Such-Zoom muss im Min./Max.-Bereich liegen",saveFailed:"Karteneinstellungen konnten nicht gespeichert werden. Bitte berprfen Sie Ihre Verbindung."}},eventDefaults:{title:"Event-Standardeinstellungen",description:"Standardwerte fr Mahlzeiten, Standgren und Eventprferenzen",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature-Anfragen",description:"Probleme melden, Features anfragen und Fortschritt verfolgen",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{none:"No Priority",low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",statusCurrent:"Status",statusAriaEdit:"Edit status",priority:"Priority",priorityAriaEdit:"Edit priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Erweiterte Einstellungen",description:"Systemwartung, Datenverwaltung und Gefahrenzone"}},fV={subtitle:"Dein nchstes Abenteuer beginnt hier!",title:"Die 4x4 Ferienmesse",eventDate:"10.-11. Oktober 2026",exhibitors:"Aussteller",days:"Tage",openingHours:"ffnungszeiten",openingHoursInfo:`Samstag 10:00 - 17:00
Sonntag 10:00 - 16:00`,location:"Veranstaltungsort",locationInfo:`Eventlocation WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parken",parkingInfo:"Kostenlose Parkpltze am Strandpark Slijk-Ewijk verfgbar",phaseNote:"<strong>Hinweis:</strong> Dies ist eine Phase-1-Vorabversion. In Phase 2 werden hier echte Eventdaten, Willkommensnachrichten und kommende Aktivitten angezeigt."},mV={title:"Exhibitors",searchPlaceholder:"Search exhibitors or booth number...",showing:"Showing",of:"of",exhibitors:"exhibitors",favorited:"favorited",favoritesOnly:"Favorites Only",sortBy:"Sort by",sortNameAsc:"Name (AZ)",sortNameDesc:"Name (ZA)",sortBoothAsc:"Booth (LowHigh)",sortBoothDesc:"Booth (HighLow)",sortFavorites:"Favorites First",sortName:"Name",sortBooth:"Booth",sortFavoritesBase:"Favorites",noExhibitors:"No exhibitors found",booth:"Booth",categoriesComingSoon:"Coming Soon: Categories",categories:"Categories",allCategories:"All Categories",filterByCategory:"Filter by category",clearFilters:"Clear filters",noCategoryMatch:"No exhibitors match the selected categories.",phaseNote:"Note:",comingInFuturePhases:"Coming in future phases:",categoryFiltering:"Category filtering",sortOptions:"Sort options"},pV={searchPlaceholder:"Suche nach Name oder Standnummer...",ariaLabel:"Interactive event map"},gV={sortId:"ID",sortName:"Name",sortType:"Type",addMarker:"Add marker",addMarkerTooltipActive:"Click on map to place marker",addMarkerTooltip:"Add marker",enterMarkerId:"Enter Marker ID",markerIdPlaceholder:"Marker ID (integer)",confirm:"Confirm",cancel:"Cancel",errorInvalidId:"Please enter a valid numeric ID.",errorIdExists:"ID already exists. Please choose another.",searchPlaceholder:"Search by ID, booth label, or name...",selectMarker:"Select a marker to view details"},yV={title:"Program Management",addActivity:"Add Activity",addFirstActivity:"Add Your First Activity",noActivitiesFound:"No activities found for this day",saturday:"Saturday",sunday:"Sunday",location:"Location",exhibitor:"Exhibitor",venue:"Venue",edit:"Edit",delete:"Delete",dragToReorder:"Drag to reorder",totalActivities:"Total Activities",loading:"Loading activities...",error:"Error loading activities",confirmDelete:"Delete Activity",confirmDeleteMessage:"Are you sure you want to delete this activity? This action cannot be undone.",cancel:"Cancel",deleteButton:"Delete",deleting:"Deleting...",deleteError:"Failed to delete activity",reorderError:"Failed to reorder activities"},vV={createTitle:"Create Activity",editTitle:"Edit Activity",titleNL:"Title (NL)",titleEN:"Title (EN)",descriptionNL:"Description (NL)",descriptionEN:"Description (EN)",startTime:"Start Time",endTime:"End Time",locationType:"Location Type",venue:"Venue",exhibitor:"Exhibitor",locationNL:"Location (NL)",locationEN:"Location (EN)",company:"Company",selectCompany:"Select a company...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optional",displayOrder:"Display Order",displayOrderHelp:"Lower numbers appear first in the schedule",companyScopeHint:"Unternehmen werden ber alle Jahre geteilt  die Auswahl eines Unternehmens verknpft die Aktivitt mit diesem Unternehmen ber Ereignisse hinweg.",isActive:"Active",isActiveHelp:"Inactive activities won't be shown to visitors",showLocationBadge:"Show Location Type Badge",showLocationBadgeHelp:'Show "exhibitor" or "location" badge in the schedule (usually not needed)',cancel:"Cancel",save:"Save",saving:"Saving...",saveError:"Failed to save activity",savePersistMismatch:"Gespeichert, aber der Badge-Wert wurde nicht bernommen  Sie haben mglicherweise keine Berechtigung. Bitte berprfen Sie Ihre Rolle oder kontaktieren Sie den Administrator."},bV={totalMarkers:"Total Markers",companies:"Companies",subscriptions:"Subscriptions",assignments:"Assignments",eventTotals:"Event Totals",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",noBBQ:"No BBQ",coins:"Coins",totalCoins:"Total Coins",quickActions:"Quick Actions",addNewCompany:"Add New Company",addNewCompanyDesc:"Register a new company in the system",manageSubscriptions:"Manage Subscriptions",manageSubscriptionsDesc:"Add or update event subscriptions",assignBooths:"Assign Booths",assignBoothsDesc:"Manage booth assignments for companies",recentActivity:"Recent Activity",recentActivityPlaceholder:"Activity tracking will be added in a future update."},xV={title:"Help & Guide",closeHelp:"Close help panel",yourRole:"Your role:",tabs:{currentPage:"Current Page",whatsNew:"What's New",quickStart:"Quick Start"},searchPlaceholder:"Search help content...",lastUpdated:"Last updated:",quickTips:"Quick Tips",whatsNewTitle:"What's New",whatsNewSubtitle:"Recent updates and changes",changeTypes:{feature:"feature",fix:"fix",improvement:"improvement"},quickStartTitle:"Quick Start Guide",quickStartSubtitle:"Get started with the admin panel",steps:{step1Title:"1. Understand Your Role",step1Text:"Your role ({role}) determines which features you can access. Check the navigation menu to see available sections.",step2Title:"2. Select Event Year",step2Text:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific.",step3Title:"3. Explore the Dashboard",step3Text:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data.",step4Title:"4. Common Workflows",step4Item1:"Add companies in the Companies tab",step4Item2:"Import subscriptions via Excel/CSV",step4Item3:"Assign companies to map locations",step4Item4:"Lock markers before event day",step5Title:"5. Get Contextual Help",step5Text:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'},roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor",unknown:"Unknown"},footer:"Need more help? Contact your system administrator",categories:{title:"Kategorienverwaltung",description:"Ausstellerkategorien fr Filterung und Organisation verwalten",createNew:"Kategorie erstellen",editCategory:"Kategorie bearbeiten",createCategory:"Kategorie erstellen",order:"Reihenfolge",category:"Kategorie",slug:"Slug",exhibitors:"Aussteller",icon:"Icon",color:"Farbe",sortOrder:"Sortierreihenfolge",translations:"bersetzungen",name:"Name",slugHelp:"Eindeutiger Bezeichner (Kleinbuchstaben, keine Leerzeichen, Bindestriche verwenden)",noCategories:"Noch keine Kategorien. Erstellen Sie Ihre erste Kategorie, um zu beginnen.",confirmDelete:'Sind Sie sicher, dass Sie "{{name}}" lschen mchten?',cannotDelete:"Kategorie mit zugewiesenen Ausstellern kann nicht gelscht werden",createSuccess:"Kategorie erfolgreich erstellt",updateSuccess:"Kategorie erfolgreich aktualisiert",deleteSuccess:"Kategorie erfolgreich gelscht",deleteError:"Fehler beim Lschen der Kategorie: {{error}}",saveError:"Fehler beim Speichern der Kategorie: {{error}}"},subscriptions:{searchPlaceholder:"Search subscribed companies...",booths:"Booths",company:"Company",contact:"Contact",phone:"Phone",email:"Email",boothCount:"Booth Count",area:"Area",saturday:"Saturday",sunday:"Sunday",coins:"Coins",notes:"Notes",actions:"Actions",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"large field, small field..."},assignments:{searchPlaceholder:"Search companies...",archive:"Archive",sortCompanies:"Sort Companies",sortMarkers:"Sort Markers",byMarker:"Marker",unassignedFirst:"Unassigned",markerId:"ID",glyphText:"Label",assigned:"Assigned",notAssigned:"Not assigned"},companies:{publicInfoTab:"Public Info",privateInfoTab:"Private Info",categoriesLabel:"Categories",searchPlaceholder:"Search companies...",addCompany:"Add Company",newCompany:"New Company",noCompanies:'No companies yet. Click "Add Company" to create one.',noResults:"No items found matching your search",companyNamePlaceholder:"Company Name *",companyLogo:"Company Logo",logoUrlPlaceholder:"Or paste external logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contact Person",phonePlaceholder:"Phone",emailPlaceholder:"Email",name:"Name",logo:"Logo",website:"Website",info:"Info",categories:"Categories",contact:"Contact",phone:"Phone",email:"Email",actions:"Actions",notSet:"Not set",none:"None",orPasteUrl:"Or paste URL",organizationInfo:"Organization info"}},_V={nl:"Niederlndisch",en:"Englisch",de:"Deutsch"},wV={appTitle:nV,welcome:iV,home:rV,admin:sV,adminNav:aV,navigation:oV,common:lV,marker:uV,adminLogin:cV,resetPassword:dV,settings:hV,homePage:fV,exhibitorPage:mV,map:pV,mapManagement:gV,programManagement:yV,activityForm:vV,dashboard:bV,helpPanel:xV,language:_V};Zn.use(OT).init({resources:{en:{translation:OF},nl:{translation:tV},de:{translation:wV}},lng:"nl",fallbackLng:"nl",interpolation:{escapeValue:!1}});function SV(){const e=new Date().getFullYear(),{i18n:t}=dt(),{preferences:n,loading:i,updatePreference:s}=c5();j.useEffect(()=>{const T=localStorage.getItem("preferredLanguage");T&&t.language!==T&&t.changeLanguage(T)},[t]),j.useEffect(()=>{if(!i&&n?.preferred_language){const T=t.language,k=n.preferred_language;T!==k&&(t.changeLanguage(k),localStorage.setItem("preferredLanguage",k))}},[i,n?.preferred_language,t]);const[a,l]=j.useState(()=>{const T=localStorage.getItem("selectedEventYear");return T?parseInt(T,10):e}),d=j.useRef(!1);j.useEffect(()=>{if(!i&&n?.default_year){const T=n.default_year;T!==a&&(d.current=!0,l(T),localStorage.setItem("selectedEventYear",T.toString()))}},[i,n?.default_year,n?.row_version]),j.useEffect(()=>{if(!i&&n&&a!==n.default_year){if(d.current){d.current=!1;return}s("default_year",a),localStorage.setItem("selectedEventYear",a.toString())}},[a,i,s]);const{markers:f}=GT(a),[m,y,v]=qT(f),[_,w]=j.useState({logo:null,themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif",eventName:"4x4 Vakantiebeurs"});j.useEffect(()=>{async function T(){const{data:A,error:$}=await pe.from("organization_profile").select("*").eq("id",1).single();if($){console.error("Error fetching organization_profile:",$);return}if(A){const O=A.logo||"";w({logo:O?ur(O):null,eventName:A.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}T();const k=pe.channel("organization-profile-branding-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},A=>{if(A.new){const $=A.new.logo||"";w({logo:$?ur($):null,eventName:A.new.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}).subscribe();return()=>{pe.removeChannel(k)}},[]);const[C,N]=j.useState(null);return j.useEffect(()=>{pe.auth.getSession().then(({data:k})=>{N(k?.session?.user||null)});const{data:T}=pe.auth.onAuthStateChange((k,A)=>{N(A?.user||null)});return()=>{T?.subscription?.unsubscribe()}},[]),h.jsx(j5,{children:h.jsx(Gk,{children:h.jsx(PN,{children:h.jsx(pF,{branding:_,user:C,markersState:m,updateMarker:y,setMarkersState:v,onLogin:N,selectedYear:a,setSelectedYear:l})})})})}function CV(){return h.jsx(KT,{children:h.jsx(SV,{})})}const d0=Ul();Pt.Icon.Default.mergeOptions({iconRetinaUrl:`${d0}assets/icons/marker-icon-2x.png`,iconUrl:`${d0}assets/icons/glyph-marker-icon-blue.svg`,shadowUrl:`${d0}assets/icons/marker-shadow.png`});KE.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(CV,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(`${Ul()}service-worker.js`)});export{Ti as R,h as j,j as r};
