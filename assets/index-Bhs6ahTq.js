(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var bm={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function NL(){if(Pb)return zu;Pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return zu.Fragment=e,zu.jsx=n,zu.jsxs=n,zu}var Rb;function PL(){return Rb||(Rb=1,bm.exports=NL()),bm.exports}var y=PL(),xm={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function RL(){if(Db)return Ke;Db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function O(U,ie,D){this.props=U,this.context=ie,this.refs=j,this.updater=D||E}O.prototype.isReactComponent={},O.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function P(){}P.prototype=O.prototype;function N(U,ie,D){this.props=U,this.context=ie,this.refs=j,this.updater=D||E}var V=N.prototype=new P;V.constructor=N,T(V,O.prototype),V.isPureReactComponent=!0;var q=Array.isArray;function I(){}var K={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function ee(U,ie,D){var Z=D.ref;return{$$typeof:t,type:U,key:ie,ref:Z!==void 0?Z:null,props:D}}function he(U,ie){return ee(U.type,ie,U.props)}function Q(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function te(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(D){return ie[D]})}var pe=/\/+/g;function ce(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?te(""+U.key):ie.toString(36)}function Y(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(I,I):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function H(U,ie,D,Z,ne){var de=typeof U;(de==="undefined"||de==="boolean")&&(U=null);var we=!1;if(U===null)we=!0;else switch(de){case"bigint":case"string":case"number":we=!0;break;case"object":switch(U.$$typeof){case t:case e:we=!0;break;case g:return we=U._init,H(we(U._payload),ie,D,Z,ne)}}if(we)return ne=ne(U),we=Z===""?"."+ce(U,0):Z,q(ne)?(D="",we!=null&&(D=we.replace(pe,"$&/")+"/"),H(ne,ie,D,"",function(Le){return Le})):ne!=null&&(Q(ne)&&(ne=he(ne,D+(ne.key==null||U&&U.key===ne.key?"":(""+ne.key).replace(pe,"$&/")+"/")+we)),ie.push(ne)),1;we=0;var Re=Z===""?".":Z+":";if(q(U))for(var ve=0;ve<U.length;ve++)Z=U[ve],de=Re+ce(Z,ve),we+=H(Z,ie,D,de,ne);else if(ve=S(U),typeof ve=="function")for(U=ve.call(U),ve=0;!(Z=U.next()).done;)Z=Z.value,de=Re+ce(Z,ve++),we+=H(Z,ie,D,de,ne);else if(de==="object"){if(typeof U.then=="function")return H(Y(U),ie,D,Z,ne);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(U,ie,D){if(U==null)return U;var Z=[],ne=0;return H(U,Z,"","",function(de){return ie.call(D,de,ne++)}),Z}function se(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(D){(U._status===0||U._status===-1)&&(U._status=1,U._result=D)},function(D){(U._status===0||U._status===-1)&&(U._status=2,U._result=D)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var xe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},B={map:W,forEach:function(U,ie,D){W(U,function(){ie.apply(this,arguments)},D)},count:function(U){var ie=0;return W(U,function(){ie++}),ie},toArray:function(U){return W(U,function(ie){return ie})||[]},only:function(U){if(!Q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ke.Activity=v,Ke.Children=B,Ke.Component=O,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=N,Ke.StrictMode=r,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(U){return K.H.useMemoCache(U)}},Ke.cache=function(U){return function(){return U.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(U,ie,D){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Z=T({},U.props),ne=U.key;if(ie!=null)for(de in ie.key!==void 0&&(ne=""+ie.key),ie)!oe.call(ie,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&ie.ref===void 0||(Z[de]=ie[de]);var de=arguments.length-2;if(de===1)Z.children=D;else if(1<de){for(var we=Array(de),Re=0;Re<de;Re++)we[Re]=arguments[Re+2];Z.children=we}return ee(U.type,ne,Z)},Ke.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ke.createElement=function(U,ie,D){var Z,ne={},de=null;if(ie!=null)for(Z in ie.key!==void 0&&(de=""+ie.key),ie)oe.call(ie,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=ie[Z]);var we=arguments.length-2;if(we===1)ne.children=D;else if(1<we){for(var Re=Array(we),ve=0;ve<we;ve++)Re[ve]=arguments[ve+2];ne.children=Re}if(U&&U.defaultProps)for(Z in we=U.defaultProps,we)ne[Z]===void 0&&(ne[Z]=we[Z]);return ee(U,de,ne)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(U){return{$$typeof:h,render:U}},Ke.isValidElement=Q,Ke.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:se}},Ke.memo=function(U,ie){return{$$typeof:m,type:U,compare:ie===void 0?null:ie}},Ke.startTransition=function(U){var ie=K.T,D={};K.T=D;try{var Z=U(),ne=K.S;ne!==null&&ne(D,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(I,xe)}catch(de){xe(de)}finally{ie!==null&&D.types!==null&&(ie.types=D.types),K.T=ie}},Ke.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Ke.use=function(U){return K.H.use(U)},Ke.useActionState=function(U,ie,D){return K.H.useActionState(U,ie,D)},Ke.useCallback=function(U,ie){return K.H.useCallback(U,ie)},Ke.useContext=function(U){return K.H.useContext(U)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(U,ie){return K.H.useDeferredValue(U,ie)},Ke.useEffect=function(U,ie){return K.H.useEffect(U,ie)},Ke.useEffectEvent=function(U){return K.H.useEffectEvent(U)},Ke.useId=function(){return K.H.useId()},Ke.useImperativeHandle=function(U,ie,D){return K.H.useImperativeHandle(U,ie,D)},Ke.useInsertionEffect=function(U,ie){return K.H.useInsertionEffect(U,ie)},Ke.useLayoutEffect=function(U,ie){return K.H.useLayoutEffect(U,ie)},Ke.useMemo=function(U,ie){return K.H.useMemo(U,ie)},Ke.useOptimistic=function(U,ie){return K.H.useOptimistic(U,ie)},Ke.useReducer=function(U,ie,D){return K.H.useReducer(U,ie,D)},Ke.useRef=function(U){return K.H.useRef(U)},Ke.useState=function(U){return K.H.useState(U)},Ke.useSyncExternalStore=function(U,ie,D){return K.H.useSyncExternalStore(U,ie,D)},Ke.useTransition=function(){return K.H.useTransition()},Ke.version="19.2.0",Ke}var zb;function Ec(){return zb||(zb=1,xm.exports=RL()),xm.exports}var M=Ec();const mi=eo(M);var wm={exports:{}},Bu={},Sm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function DL(){return Bb||(Bb=1,(function(t){function e(H,W){var se=H.length;H.push(W);e:for(;0<se;){var xe=se-1>>>1,B=H[xe];if(0<a(B,W))H[xe]=W,H[se]=B,se=xe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],se=H.pop();if(se!==W){H[0]=se;e:for(var xe=0,B=H.length,U=B>>>1;xe<U;){var ie=2*(xe+1)-1,D=H[ie],Z=ie+1,ne=H[Z];if(0>a(D,se))Z<B&&0>a(ne,D)?(H[xe]=ne,H[Z]=se,xe=Z):(H[xe]=D,H[ie]=se,xe=ie);else if(Z<B&&0>a(ne,se))H[xe]=ne,H[Z]=se,xe=Z;else break e}}return W}function a(H,W){var se=H.sortIndex-W.sortIndex;return se!==0?se:H.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,v=null,w=3,S=!1,E=!1,T=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function V(H){for(var W=n(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=H)r(m),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(m)}}function q(H){if(T=!1,V(H),!E)if(n(f)!==null)E=!0,I||(I=!0,te());else{var W=n(m);W!==null&&Y(q,W.startTime-H)}}var I=!1,K=-1,oe=5,ee=-1;function he(){return j?!0:!(t.unstable_now()-ee<oe)}function Q(){if(j=!1,I){var H=t.unstable_now();ee=H;var W=!0;try{e:{E=!1,T&&(T=!1,P(K),K=-1),S=!0;var se=w;try{t:{for(V(H),v=n(f);v!==null&&!(v.expirationTime>H&&he());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,w=v.priorityLevel;var B=xe(v.expirationTime<=H);if(H=t.unstable_now(),typeof B=="function"){v.callback=B,V(H),W=!0;break t}v===n(f)&&r(f),V(H)}else r(f);v=n(f)}if(v!==null)W=!0;else{var U=n(m);U!==null&&Y(q,U.startTime-H),W=!1}}break e}finally{v=null,w=se,S=!1}W=void 0}}finally{W?te():I=!1}}}var te;if(typeof N=="function")te=function(){N(Q)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ce=pe.port2;pe.port1.onmessage=Q,te=function(){ce.postMessage(null)}}else te=function(){O(Q,0)};function Y(H,W){K=O(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var se=w;w=W;try{return H()}finally{w=se}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=w;w=H;try{return W()}finally{w=se}},t.unstable_scheduleCallback=function(H,W,se){var xe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?xe+se:xe):se=xe,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=se+B,H={id:g++,callback:W,priorityLevel:H,startTime:se,expirationTime:B,sortIndex:-1},se>xe?(H.sortIndex=se,e(m,H),n(f)===null&&H===n(m)&&(T?(P(K),K=-1):T=!0,Y(q,se-xe))):(H.sortIndex=B,e(f,H),E||S||(E=!0,I||(I=!0,te()))),H},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(H){var W=w;return function(){var se=w;w=W;try{return H.apply(this,arguments)}finally{w=se}}}})(Cm)),Cm}var Ib;function zL(){return Ib||(Ib=1,Sm.exports=DL()),Sm.exports}var Em={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function BL(){if(Ub)return En;Ub=1;var t=Ec();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},En.flushSync=function(f){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=g,r.d.f()}},En.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},En.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},En.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},En.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},En.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},En.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},En.requestFormReset=function(f){r.d.r(f)},En.unstable_batchedUpdates=function(f,m){return f(m)},En.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},En.useFormStatus=function(){return u.H.useHostTransitionStatus()},En.version="19.2.0",En}var Vb;function dS(){if(Vb)return Em.exports;Vb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Em.exports=BL(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function IL(){if(Hb)return Bu;Hb=1;var t=zL(),e=Ec(),n=dS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,p=s;;){var b=c.return;if(b===null)break;var x=b.alternate;if(x===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===c)return f(b),i;if(x===p)return f(b),s;x=x.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=x;else{for(var k=!1,z=b.child;z;){if(z===c){k=!0,c=b,p=x;break}if(z===p){k=!0,p=b,c=x;break}z=z.sibling}if(!k){for(z=x.child;z;){if(z===c){k=!0,c=x,p=b;break}if(z===p){k=!0,p=x,c=b;break}z=z.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===pe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case q:return"Suspense";case I:return"SuspenseList";case ee:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case N:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case V:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:ce(i.type)||"Memo";case oe:s=i._payload,i=i._init;try{return ce(i(s))}catch{}}return null}var Y=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},xe=[],B=-1;function U(i){return{current:i}}function ie(i){0>B||(i.current=xe[B],xe[B]=null,B--)}function D(i,s){B++,xe[B]=i.current,i.current=s}var Z=U(null),ne=U(null),de=U(null),we=U(null);function Re(i,s){switch(D(de,s),D(ne,i),D(Z,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ib(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ib(s),i=rb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(Z),D(Z,i)}function ve(){ie(Z),ie(ne),ie(de)}function Le(i){i.memoizedState!==null&&D(we,i);var s=Z.current,c=rb(s,i.type);s!==c&&(D(ne,i),D(Z,c))}function Ve(i){ne.current===i&&(ie(Z),ie(ne)),we.current===i&&(ie(we),Nu._currentValue=se)}var De,He;function gt(i){if(De===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);De=s&&s[1]||"",He=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+i+He}var Rt=!1;function Qn(i,s){if(!i||Rt)return"";Rt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(fe){var ue=fe}Reflect.construct(i,[],be)}else{try{be.call()}catch(fe){ue=fe}i.call(be.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),k=x[0],z=x[1];if(k&&z){var $=k.split(`
`),ae=z.split(`
`);for(b=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ae.length&&!ae[b].includes("DetermineComponentFrameRoot");)b++;if(p===$.length||b===ae.length)for(p=$.length-1,b=ae.length-1;1<=p&&0<=b&&$[p]!==ae[b];)b--;for(;1<=p&&0<=b;p--,b--)if($[p]!==ae[b]){if(p!==1||b!==1)do if(p--,b--,0>b||$[p]!==ae[b]){var me=`
`+$[p].replace(" at new "," at ");return i.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",i.displayName)),me}while(1<=p&&0<=b);break}}}finally{Rt=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?gt(c):""}function Pi(i,s){switch(i.tag){case 26:case 27:case 5:return gt(i.type);case 16:return gt("Lazy");case 13:return i.child!==s&&s!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return Qn(i.type,!1);case 11:return Qn(i.type.render,!1);case 1:return Qn(i.type,!0);case 31:return gt("Activity");default:return""}}function Ri(i){try{var s="",c=null;do s+=Pi(i,c),c=i,i=i.return;while(i);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ns=Object.prototype.hasOwnProperty,Er=t.unstable_scheduleCallback,Tr=t.unstable_cancelCallback,so=t.unstable_shouldYield,ao=t.unstable_requestPaint,mn=t.unstable_now,Pl=t.unstable_getCurrentPriorityLevel,ge=t.unstable_ImmediatePriority,Ce=t.unstable_UserBlockingPriority,Ie=t.unstable_NormalPriority,et=t.unstable_LowPriority,lt=t.unstable_IdlePriority,wn=t.log,Di=t.unstable_setDisableYieldValue,cn=null,Dt=null;function gn(i){if(typeof wn=="function"&&Di(i),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(cn,i)}catch{}}var yt=Math.clz32?Math.clz32:Tf,Rn=Math.log,ei=Math.LN2;function Tf(i){return i>>>=0,i===0?32:31-(Rn(i)/ei|0)|0}var Js=256,Qs=262144,ea=4194304;function Lr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function oo(i,s,c){var p=i.pendingLanes;if(p===0)return 0;var b=0,x=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var z=p&134217727;return z!==0?(p=z&~x,p!==0?b=Lr(p):(k&=z,k!==0?b=Lr(k):c||(c=z&~i,c!==0&&(b=Lr(c))))):(z=p&~x,z!==0?b=Lr(z):k!==0?b=Lr(k):c||(c=p&~i,c!==0&&(b=Lr(c)))),b===0?0:s!==0&&s!==b&&(s&x)===0&&(x=b&-b,c=s&-s,x>=c||x===32&&(c&4194048)!==0)?s:b}function ta(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Lf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var i=ea;return ea<<=1,(ea&62914560)===0&&(ea=4194304),i}function Rl(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Ar(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Af(i,s,c,p,b,x){var k=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var z=i.entanglements,$=i.expirationTimes,ae=i.hiddenUpdates;for(c=k&~c;0<c;){var me=31-yt(c),be=1<<me;z[me]=0,$[me]=-1;var ue=ae[me];if(ue!==null)for(ae[me]=null,me=0;me<ue.length;me++){var fe=ue[me];fe!==null&&(fe.lane&=-536870913)}c&=~be}p!==0&&Uc(i,p,0),x!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=x&~(k&~s))}function Uc(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var p=31-yt(s);i.entangledLanes|=s,i.entanglements[p]=i.entanglements[p]|1073741824|c&261930}function Vc(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var p=31-yt(c),b=1<<p;b&s|i[p]&s&&(i[p]|=s),c&=~b}}function Hc(i,s){var c=s&-s;return c=(c&42)!==0?1:Dn(c),(c&(i.suspendedLanes|s))!==0?0:c}function Dn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ne(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dl(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:Lb(i.type))}function zl(i,s){var c=W.p;try{return W.p=i,s()}finally{W.p=c}}var zi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+zi,hn="__reactProps$"+zi,kr="__reactContainer$"+zi,tr="__reactEvents$"+zi,Fc="__reactListeners$"+zi,kf="__reactHandles$"+zi,$c="__reactResources$"+zi,na="__reactMarker$"+zi;function Bl(i){delete i[Wt],delete i[hn],delete i[tr],delete i[Fc],delete i[kf]}function jr(i){var s=i[Wt];if(s)return s;for(var c=i.parentNode;c;){if(s=c[kr]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=hb(i);i!==null;){if(c=i[Wt])return c;i=hb(i)}return s}i=c,c=i.parentNode}return null}function is(i){if(i=i[Wt]||i[kr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function nr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function rs(i){var s=i[$c];return s||(s=i[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Yt(i){i[na]=!0}var qc=new Set,Zc={};function Or(i,s){ir(i,s),ir(i+"Capture",s)}function ir(i,s){for(Zc[i]=s,i=0;i<s.length;i++)qc.add(s[i])}var ia=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Ul={};function ra(i){return ns.call(Ul,i)?!0:ns.call(Il,i)?!1:ia.test(i)?Ul[i]=!0:(Il[i]=!0,!1)}function tt(i,s,c){if(ra(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function bt(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function zn(i,s,c,p){if(p===null)i.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+p)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Mr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vl(i,s,c){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,x=p.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return b.call(this)},set:function(k){c=""+k,x.call(this,k)}}),Object.defineProperty(i,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ge(i){if(!i._valueTracker){var s=Mr(i)?"checked":"value";i._valueTracker=Vl(i,s,""+i[s])}}function Ot(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return i&&(p=Mr(i)?i.checked?"true":"false":i.value),i=p,i!==c?(s.setValue(i),!0):!1}function ss(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lo=/[\n"\\]/g;function kt(i){return i.replace(lo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hl(i,s,c,p,b,x,k,z){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),s!=null?k==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+sn(s)):i.value!==""+sn(s)&&(i.value=""+sn(s)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),s!=null?Bi(i,k,sn(s)):c!=null?Bi(i,k,sn(c)):p!=null&&i.removeAttribute("value"),b==null&&x!=null&&(i.defaultChecked=!!x),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+sn(z):i.removeAttribute("name")}function sa(i,s,c,p,b,x,k,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){Ge(i);return}c=c!=null?""+sn(c):"",s=s!=null?""+sn(s):c,z||s===i.value||(i.value=s),i.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=z?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Ge(i)}function Bi(i,s,c){s==="number"&&ss(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ct(i,s,c,p){if(i=i.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=s.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&p&&(i[c].defaultSelected=!0)}else{for(c=""+sn(c),s=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}s!==null||i[b].disabled||(s=i[b])}s!==null&&(s.selected=!0)}}function rr(i,s,c){if(s!=null&&(s=""+sn(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+sn(c):""}function as(i,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(Y(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=sn(s),i.defaultValue=c,p=i.textContent,p===c&&p!==""&&p!==null&&(i.value=p),Ge(i)}function gi(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Fl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function os(i,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":p?i.setProperty(s,c):typeof c!="number"||c===0||Fl.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function uo(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&os(i,b,p)}else for(var x in s)s.hasOwnProperty(x)&&os(i,x,s[x])}function aa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(i){return $l.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Bn(){}var ho=null;function oa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var us=null,Fe=null;function ti(i){var s=is(i);if(s&&(i=s.stateNode)){var c=i[hn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Hl(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==i&&p.form===i.form){var b=p[hn]||null;if(!b)throw Error(r(90));Hl(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===i.form&&Ot(p)}break e;case"textarea":rr(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ct(i,!!c.multiple,s,!1)}}}var mt=!1;function ql(i,s,c){if(mt)return i(s,c);mt=!0;try{var p=i(s);return p}finally{if(mt=!1,(us!==null||Fe!==null)&&(Hh(),us&&(s=us,i=Fe,Fe=us=null,ti(s),i)))for(s=0;s<i.length;s++)ti(i[s])}}function Nr(i,s){var c=i.stateNode;if(c===null)return null;var p=c[hn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(ni)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){la=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{la=!1}var yi=null,Pr=null,Vt=null;function sr(){if(Vt)return Vt;var i,s=Pr,c=s.length,p,b="value"in yi?yi.value:yi.textContent,x=b.length;for(i=0;i<c&&s[i]===b[i];i++);var k=c-i;for(p=1;p<=k&&s[c-p]===b[x-p];p++);return Vt=b.slice(i,1<p?1-p:void 0)}function ua(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ca(){return!0}function Gc(){return!1}function yn(i){function s(c,p,b,x,k){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(c=i[z],this[z]=c?c(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ca:Gc,this.isPropagationStopped=Gc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=yn(Ii),cs=v({},Ii,{view:0,detail:0}),st=yn(cs),Zl,jn,Ui,ha=v({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Zl=i.screenX-Ui.screenX,jn=i.screenY-Ui.screenY):jn=Zl=0,Ui=i),Zl)},movementY:function(i){return"movementY"in i?i.movementY:jn}}),Kc=yn(ha),Gl=v({},ha,{dataTransfer:0}),jf=yn(Gl),Wc=v({},cs,{relatedTarget:0}),Kl=yn(Wc),Of=v({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=yn(Of),Mf=v({},Ii,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vi=yn(Mf),Nf=v({},Ii,{data:0}),Yl=yn(Nf),ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xc[i])?!!s[i]:!1}function Jl(){return Xl}var Jc=v({},cs,{key:function(i){if(i.key){var s=ar[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(i){return i.type==="keypress"?ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qc=yn(Jc),Pf=v({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=yn(Pf),Ql=v({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),Rf=yn(Ql),th=v({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),nh=yn(th),po=v({},ha,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=yn(po),Df=v({},Ii,{newState:0,oldState:0}),da=yn(Df),In=[9,13,27,32],mo=ni&&"CompositionEvent"in window,hs=null;ni&&"documentMode"in document&&(hs=document.documentMode);var zf=ni&&"TextEvent"in window&&!hs,go=ni&&(!mo||hs&&8<hs&&11>=hs),yo=" ",ih=!1;function rh(i,s){switch(i){case"keyup":return In.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ds=!1;function ri(i,s){switch(i){case"compositionend":return eu(s);case"keypress":return s.which!==32?null:(ih=!0,yo);case"textInput":return i=s.data,i===yo&&ih?null:i;default:return null}}function fs(i,s){if(ds)return i==="compositionend"||!mo&&rh(i,s)?(i=sr(),Vt=Pr=yi=null,ds=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return go&&s.locale!=="ko"?null:s.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _i(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Bf[i.type]:s==="textarea"}function sh(i,s,c,p){us?Fe?Fe.push(p):Fe=[p]:us=p,s=Wh(s,"onChange"),0<s.length&&(c=new fo("onChange","change",null,c,p),i.push({event:c,listeners:s}))}var bi=null,fa=null;function pa(i){X0(i,0)}function ma(i){var s=nr(i);if(Ot(s))return i}function ga(i,s){if(i==="change")return s}var ah=!1;if(ni){var xi;if(ni){var ps="oninput"in document;if(!ps){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),ps=typeof oh.oninput=="function"}xi=ps}else xi=!1;ah=xi&&(!document.documentMode||9<document.documentMode)}function vo(){bi&&(bi.detachEvent("onpropertychange",lh),fa=bi=null)}function lh(i){if(i.propertyName==="value"&&ma(fa)){var s=[];sh(s,fa,i,oa(i)),ql(pa,s)}}function Vi(i,s,c){i==="focusin"?(vo(),bi=s,fa=c,bi.attachEvent("onpropertychange",lh)):i==="focusout"&&vo()}function If(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ma(fa)}function ms(i,s){if(i==="click")return ma(s)}function Uf(i,s){if(i==="input"||i==="change")return ma(s)}function Hi(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var dn=typeof Object.is=="function"?Object.is:Hi;function gs(i,s){if(dn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!ns.call(s,b)||!dn(i[b],s[b]))return!1}return!0}function _o(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ya(i,s){var c=_o(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=s&&p>=s)return{node:c,offset:s-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_o(c)}}function bo(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?bo(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function va(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ss(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=ss(i.document)}return s}function or(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var xo=ni&&"documentMode"in document&&11>=document.documentMode,lr=null,wo=null,_a=null,ys=!1;function uh(i,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ys||lr==null||lr!==ss(p)||(p=lr,"selectionStart"in p&&or(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),_a&&gs(_a,p)||(_a=p,p=Wh(wo,"onSelect"),0<p.length&&(s=new fo("onSelect","select",null,s,c),i.push({event:s,listeners:p}),s.target=lr)))}function ur(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var vs={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},So={},ch={};ni&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function fn(i){if(So[i])return So[i];if(!vs[i])return i;var s=vs[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in ch)return So[i]=s[c];return i}var ba=fn("animationend"),hh=fn("animationiteration"),xa=fn("animationstart"),Vf=fn("transitionrun"),dh=fn("transitionstart"),Hf=fn("transitioncancel"),_s=fn("transitionend"),fh=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function Un(i,s){fh.set(i,s),Or(s,[i])}var wa=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vn=[],Sn=0,Co=0;function Sa(){for(var i=Sn,s=Co=Sn=0;s<i;){var c=Vn[s];Vn[s++]=null;var p=Vn[s];Vn[s++]=null;var b=Vn[s];Vn[s++]=null;var x=Vn[s];if(Vn[s++]=null,p!==null&&b!==null){var k=p.pending;k===null?b.next=b:(b.next=k.next,k.next=b),p.pending=b}x!==0&&bs(c,b,x)}}function hr(i,s,c,p){Vn[Sn++]=i,Vn[Sn++]=s,Vn[Sn++]=c,Vn[Sn++]=p,Co|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function tu(i,s,c,p){return hr(i,s,c,p),Ca(i)}function wi(i,s){return hr(i,null,null,s),Ca(i)}function bs(i,s,c){i.lanes|=c;var p=i.alternate;p!==null&&(p.lanes|=c);for(var b=!1,x=i.return;x!==null;)x.childLanes|=c,p=x.alternate,p!==null&&(p.childLanes|=c),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(b=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,b&&s!==null&&(b=31-yt(c),i=x.hiddenUpdates,p=i[b],p===null?i[b]=[s]:p.push(s),s.lane=c|536870912),x):null}function Ca(i){if(50<Tu)throw Tu=0,$p=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Dr={};function Ff(i,s,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,s,c,p){return new Ff(i,s,c,p)}function Eo(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Si(i,s){var c=i.alternate;return c===null?(c=Cn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function nu(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ea(i,s,c,p,b,x){var k=0;if(p=i,typeof i=="function")Eo(i)&&(k=1);else if(typeof i=="string")k=xL(i,c,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ee:return i=Cn(31,c,s,b),i.elementType=ee,i.lanes=x,i;case T:return zr(c.children,b,x,s);case j:k=8,b|=24;break;case O:return i=Cn(12,c,s,b|2),i.elementType=O,i.lanes=x,i;case q:return i=Cn(13,c,s,b),i.elementType=q,i.lanes=x,i;case I:return i=Cn(19,c,s,b),i.elementType=I,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:k=10;break e;case P:k=9;break e;case V:k=11;break e;case K:k=14;break e;case oe:k=16,p=null;break e}k=29,c=Error(r(130,i===null?"null":typeof i,"")),p=null}return s=Cn(k,c,s,b),s.elementType=i,s.type=p,s.lanes=x,s}function zr(i,s,c,p){return i=Cn(7,i,p,s),i.lanes=c,i}function To(i,s,c){return i=Cn(6,i,null,s),i.lanes=c,i}function iu(i){var s=Cn(18,null,null,0);return s.stateNode=i,s}function ru(i,s,c){return s=Cn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var l=new WeakMap;function d(i,s){if(typeof i=="object"&&i!==null){var c=l.get(i);return c!==void 0?c:(s={value:i,source:s,stack:Ri(s)},l.set(i,s),s)}return{value:i,source:s,stack:Ri(s)}}var _=[],C=0,A=null,R=0,F=[],J=0,le=null,_e=1,Ee="";function Pe(i,s){_[C++]=R,_[C++]=A,A=i,R=s}function Xe(i,s,c){F[J++]=_e,F[J++]=Ee,F[J++]=le,le=i;var p=_e;i=Ee;var b=32-yt(p)-1;p&=~(1<<b),c+=1;var x=32-yt(s)+b;if(30<x){var k=b-b%5;x=(p&(1<<k)-1).toString(32),p>>=k,b-=k,_e=1<<32-yt(s)+b|c<<b|p,Ee=x+i}else _e=1<<x|c<<b|p,Ee=i}function an(i){i.return!==null&&(Pe(i,1),Xe(i,1,0))}function Ht(i){for(;i===A;)A=_[--C],_[C]=null,R=_[--C],_[C]=null;for(;i===le;)le=F[--J],F[J]=null,Ee=F[--J],F[J]=null,_e=F[--J],F[J]=null}function On(i,s){F[J++]=_e,F[J++]=Ee,F[J++]=le,_e=s.id,Ee=s.overflow,le=i}var ut=null,ct=null,nt=!1,dr=null,Hn=!1,Lo=Error(r(519));function fr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ta(d(s,i)),Lo}function su(i){var s=i.stateNode,c=i.type,p=i.memoizedProps;switch(s[Wt]=i,s[hn]=p,c){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(c=0;c<Au.length;c++)rt(Au[c],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),sa(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),as(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||tb(s.textContent,c)?(p.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),p.onScroll!=null&&rt("scroll",s),p.onScrollEnd!=null&&rt("scrollend",s),p.onClick!=null&&(s.onclick=Bn),s=!0):s=!1,s||fr(i,!0)}function zt(i){for(ut=i.return;ut;)switch(ut.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:ut=ut.return}}function Fi(i){if(i!==ut)return!1;if(!nt)return zt(i),nt=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||sm(i.type,i.memoizedProps)),c=!c),c&&ct&&fr(i),zt(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ct=cb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ct=cb(i)}else s===27?(s=ct,Ps(i.type)?(i=cm,cm=null,ct=i):ct=s):ct=ut?Ei(i.stateNode.nextSibling):null;return!0}function Br(){ct=ut=null,nt=!1}function au(){var i=dr;return i!==null&&(Zn===null?Zn=i:Zn.push.apply(Zn,i),dr=null),i}function Ta(i){dr===null?dr=[i]:dr.push(i)}var La=U(null),pr=null,$i=null;function xs(i,s,c){D(La,s._currentValue),s._currentValue=c}function Ir(i){i._currentValue=La.current,ie(La)}function $f(i,s,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===c)break;i=i.return}}function qf(i,s,c,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var x=b.dependencies;if(x!==null){var k=b.child;x=x.firstContext;e:for(;x!==null;){var z=x;x=b;for(var $=0;$<s.length;$++)if(z.context===s[$]){x.lanes|=c,z=x.alternate,z!==null&&(z.lanes|=c),$f(x.return,c,i),p||(k=null);break e}x=z.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(r(341));k.lanes|=c,x=k.alternate,x!==null&&(x.lanes|=c),$f(k,c,i),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===i){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function Ao(i,s,c,p){i=null;for(var b=s,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var z=b.type;dn(b.pendingProps.value,k.value)||(i!==null?i.push(z):i=[z])}}else if(b===we.current){if(k=b.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Nu):i=[Nu])}b=b.return}i!==null&&qf(s,i,c,p),s.flags|=262144}function ph(i){for(i=i.firstContext;i!==null;){if(!dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){pr=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vn(i){return Uv(pr,i)}function mh(i,s){return pr===null&&Aa(i),Uv(i,s)}function Uv(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},$i===null){if(i===null)throw Error(r(308));$i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else $i=$i.next=s;return c}var y2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,p){i.push(p)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},v2=t.unstable_scheduleCallback,_2=t.unstable_NormalPriority,Xt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new y2,data:new Map,refCount:0}}function ou(i){i.refCount--,i.refCount===0&&v2(_2,function(){i.controller.abort()})}var lu=null,Gf=0,ko=0,jo=null;function b2(i,s){if(lu===null){var c=lu=[];Gf=0,ko=Yp(),jo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Gf++,s.then(Vv,Vv),s}function Vv(){if(--Gf===0&&lu!==null){jo!==null&&(jo.status="fulfilled");var i=lu;lu=null,ko=0,jo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function x2(i,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var Hv=H.S;H.S=function(i,s){E0=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&b2(i,s),Hv!==null&&Hv(i,s)};var ka=U(null);function Kf(){var i=ka.current;return i!==null?i:Et.pooledCache}function gh(i,s){s===null?D(ka,ka.current):D(ka,s.pool)}function Fv(){var i=Kf();return i===null?null:{parent:Xt._currentValue,pool:i}}var Oo=Error(r(460)),Wf=Error(r(474)),yh=Error(r(542)),vh={then:function(){}};function $v(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qv(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Bn,Bn),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Gv(i),i;default:if(typeof s.status=="string")s.then(Bn,Bn);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Gv(i),i}throw Oa=s,Oo}}function ja(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Oa=c,Oo):c}}var Oa=null;function Zv(){if(Oa===null)throw Error(r(459));var i=Oa;return Oa=null,i}function Gv(i){if(i===Oo||i===yh)throw Error(r(483))}var Mo=null,uu=0;function _h(i){var s=uu;return uu+=1,Mo===null&&(Mo=[]),qv(Mo,i,s)}function cu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function bh(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Kv(i){function s(X,G){if(i){var re=X.deletions;re===null?(X.deletions=[G],X.flags|=16):re.push(G)}}function c(X,G){if(!i)return null;for(;G!==null;)s(X,G),G=G.sibling;return null}function p(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function b(X,G){return X=Si(X,G),X.index=0,X.sibling=null,X}function x(X,G,re){return X.index=re,i?(re=X.alternate,re!==null?(re=re.index,re<G?(X.flags|=67108866,G):re):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function k(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function z(X,G,re,ye){return G===null||G.tag!==6?(G=To(re,X.mode,ye),G.return=X,G):(G=b(G,re),G.return=X,G)}function $(X,G,re,ye){var ze=re.type;return ze===T?me(X,G,re.props.children,ye,re.key):G!==null&&(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===oe&&ja(ze)===G.type)?(G=b(G,re.props),cu(G,re),G.return=X,G):(G=Ea(re.type,re.key,re.props,null,X.mode,ye),cu(G,re),G.return=X,G)}function ae(X,G,re,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==re.containerInfo||G.stateNode.implementation!==re.implementation?(G=ru(re,X.mode,ye),G.return=X,G):(G=b(G,re.children||[]),G.return=X,G)}function me(X,G,re,ye,ze){return G===null||G.tag!==7?(G=zr(re,X.mode,ye,ze),G.return=X,G):(G=b(G,re),G.return=X,G)}function be(X,G,re){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=To(""+G,X.mode,re),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return re=Ea(G.type,G.key,G.props,null,X.mode,re),cu(re,G),re.return=X,re;case E:return G=ru(G,X.mode,re),G.return=X,G;case oe:return G=ja(G),be(X,G,re)}if(Y(G)||te(G))return G=zr(G,X.mode,re,null),G.return=X,G;if(typeof G.then=="function")return be(X,_h(G),re);if(G.$$typeof===N)return be(X,mh(X,G),re);bh(X,G)}return null}function ue(X,G,re,ye){var ze=G!==null?G.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return ze!==null?null:z(X,G,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return re.key===ze?$(X,G,re,ye):null;case E:return re.key===ze?ae(X,G,re,ye):null;case oe:return re=ja(re),ue(X,G,re,ye)}if(Y(re)||te(re))return ze!==null?null:me(X,G,re,ye,null);if(typeof re.then=="function")return ue(X,G,_h(re),ye);if(re.$$typeof===N)return ue(X,G,mh(X,re),ye);bh(X,re)}return null}function fe(X,G,re,ye,ze){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return X=X.get(re)||null,z(G,X,""+ye,ze);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return X=X.get(ye.key===null?re:ye.key)||null,$(G,X,ye,ze);case E:return X=X.get(ye.key===null?re:ye.key)||null,ae(G,X,ye,ze);case oe:return ye=ja(ye),fe(X,G,re,ye,ze)}if(Y(ye)||te(ye))return X=X.get(re)||null,me(G,X,ye,ze,null);if(typeof ye.then=="function")return fe(X,G,re,_h(ye),ze);if(ye.$$typeof===N)return fe(X,G,re,mh(G,ye),ze);bh(G,ye)}return null}function je(X,G,re,ye){for(var ze=null,ht=null,Oe=G,Je=G=0,ot=null;Oe!==null&&Je<re.length;Je++){Oe.index>Je?(ot=Oe,Oe=null):ot=Oe.sibling;var dt=ue(X,Oe,re[Je],ye);if(dt===null){Oe===null&&(Oe=ot);break}i&&Oe&&dt.alternate===null&&s(X,Oe),G=x(dt,G,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt,Oe=ot}if(Je===re.length)return c(X,Oe),nt&&Pe(X,Je),ze;if(Oe===null){for(;Je<re.length;Je++)Oe=be(X,re[Je],ye),Oe!==null&&(G=x(Oe,G,Je),ht===null?ze=Oe:ht.sibling=Oe,ht=Oe);return nt&&Pe(X,Je),ze}for(Oe=p(Oe);Je<re.length;Je++)ot=fe(Oe,X,Je,re[Je],ye),ot!==null&&(i&&ot.alternate!==null&&Oe.delete(ot.key===null?Je:ot.key),G=x(ot,G,Je),ht===null?ze=ot:ht.sibling=ot,ht=ot);return i&&Oe.forEach(function(Is){return s(X,Is)}),nt&&Pe(X,Je),ze}function Ue(X,G,re,ye){if(re==null)throw Error(r(151));for(var ze=null,ht=null,Oe=G,Je=G=0,ot=null,dt=re.next();Oe!==null&&!dt.done;Je++,dt=re.next()){Oe.index>Je?(ot=Oe,Oe=null):ot=Oe.sibling;var Is=ue(X,Oe,dt.value,ye);if(Is===null){Oe===null&&(Oe=ot);break}i&&Oe&&Is.alternate===null&&s(X,Oe),G=x(Is,G,Je),ht===null?ze=Is:ht.sibling=Is,ht=Is,Oe=ot}if(dt.done)return c(X,Oe),nt&&Pe(X,Je),ze;if(Oe===null){for(;!dt.done;Je++,dt=re.next())dt=be(X,dt.value,ye),dt!==null&&(G=x(dt,G,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt);return nt&&Pe(X,Je),ze}for(Oe=p(Oe);!dt.done;Je++,dt=re.next())dt=fe(Oe,X,Je,dt.value,ye),dt!==null&&(i&&dt.alternate!==null&&Oe.delete(dt.key===null?Je:dt.key),G=x(dt,G,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt);return i&&Oe.forEach(function(ML){return s(X,ML)}),nt&&Pe(X,Je),ze}function St(X,G,re,ye){if(typeof re=="object"&&re!==null&&re.type===T&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case S:e:{for(var ze=re.key;G!==null;){if(G.key===ze){if(ze=re.type,ze===T){if(G.tag===7){c(X,G.sibling),ye=b(G,re.props.children),ye.return=X,X=ye;break e}}else if(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===oe&&ja(ze)===G.type){c(X,G.sibling),ye=b(G,re.props),cu(ye,re),ye.return=X,X=ye;break e}c(X,G);break}else s(X,G);G=G.sibling}re.type===T?(ye=zr(re.props.children,X.mode,ye,re.key),ye.return=X,X=ye):(ye=Ea(re.type,re.key,re.props,null,X.mode,ye),cu(ye,re),ye.return=X,X=ye)}return k(X);case E:e:{for(ze=re.key;G!==null;){if(G.key===ze)if(G.tag===4&&G.stateNode.containerInfo===re.containerInfo&&G.stateNode.implementation===re.implementation){c(X,G.sibling),ye=b(G,re.children||[]),ye.return=X,X=ye;break e}else{c(X,G);break}else s(X,G);G=G.sibling}ye=ru(re,X.mode,ye),ye.return=X,X=ye}return k(X);case oe:return re=ja(re),St(X,G,re,ye)}if(Y(re))return je(X,G,re,ye);if(te(re)){if(ze=te(re),typeof ze!="function")throw Error(r(150));return re=ze.call(re),Ue(X,G,re,ye)}if(typeof re.then=="function")return St(X,G,_h(re),ye);if(re.$$typeof===N)return St(X,G,mh(X,re),ye);bh(X,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,G!==null&&G.tag===6?(c(X,G.sibling),ye=b(G,re),ye.return=X,X=ye):(c(X,G),ye=To(re,X.mode,ye),ye.return=X,X=ye),k(X)):c(X,G)}return function(X,G,re,ye){try{uu=0;var ze=St(X,G,re,ye);return Mo=null,ze}catch(Oe){if(Oe===Oo||Oe===yh)throw Oe;var ht=Cn(29,Oe,null,X.mode);return ht.lanes=ye,ht.return=X,ht}finally{}}}var Ma=Kv(!0),Wv=Kv(!1),ws=!1;function Yf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Cs(i,s,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(ft&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Ca(i),bs(i,null,c),s}return hr(i,p,s,c),Ca(i)}function hu(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,Vc(i,c)}}function Jf(i,s){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?b=x=k:x=x.next=k,c=c.next}while(c!==null);x===null?b=x=s:x=x.next=s}else b=x=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Qf=!1;function du(){if(Qf){var i=jo;if(i!==null)throw i}}function fu(i,s,c,p){Qf=!1;var b=i.updateQueue;ws=!1;var x=b.firstBaseUpdate,k=b.lastBaseUpdate,z=b.shared.pending;if(z!==null){b.shared.pending=null;var $=z,ae=$.next;$.next=null,k===null?x=ae:k.next=ae,k=$;var me=i.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==k&&(z===null?me.firstBaseUpdate=ae:z.next=ae,me.lastBaseUpdate=$))}if(x!==null){var be=b.baseState;k=0,me=ae=$=null,z=x;do{var ue=z.lane&-536870913,fe=ue!==z.lane;if(fe?(at&ue)===ue:(p&ue)===ue){ue!==0&&ue===ko&&(Qf=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var je=i,Ue=z;ue=s;var St=c;switch(Ue.tag){case 1:if(je=Ue.payload,typeof je=="function"){be=je.call(St,be,ue);break e}be=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ue.payload,ue=typeof je=="function"?je.call(St,be,ue):je,ue==null)break e;be=v({},be,ue);break e;case 2:ws=!0}}ue=z.callback,ue!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=b.callbacks,fe===null?b.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(ae=me=fe,$=be):me=me.next=fe,k|=ue;if(z=z.next,z===null){if(z=b.shared.pending,z===null)break;fe=z,z=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);me===null&&($=be),b.baseState=$,b.firstBaseUpdate=ae,b.lastBaseUpdate=me,x===null&&(b.shared.lanes=0),ks|=k,i.lanes=k,i.memoizedState=be}}function Yv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Xv(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Yv(c[i],s)}var No=U(null),xh=U(0);function Jv(i,s){i=Kr,D(xh,i),D(No,s),Kr=i|s.baseLanes}function ep(){D(xh,Kr),D(No,No.current)}function tp(){Kr=xh.current,ie(No),ie(xh)}var si=U(null),Ci=null;function Es(i){var s=i.alternate;D(Zt,Zt.current&1),D(si,i),Ci===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(Ci=i)}function np(i){D(Zt,Zt.current),D(si,i),Ci===null&&(Ci=i)}function Qv(i){i.tag===22?(D(Zt,Zt.current),D(si,i),Ci===null&&(Ci=i)):Ts()}function Ts(){D(Zt,Zt.current),D(si,si.current)}function ai(i){ie(si),Ci===i&&(Ci=null),ie(Zt)}var Zt=U(0);function wh(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||lm(c)||um(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ur=0,Ye=null,xt=null,Jt=null,Sh=!1,Po=!1,Na=!1,Ch=0,pu=0,Ro=null,w2=0;function Ft(){throw Error(r(321))}function ip(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!dn(i[c],s[c]))return!1;return!0}function rp(i,s,c,p,b,x){return Ur=x,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?D_:_p,Na=!1,x=c(p,b),Na=!1,Po&&(x=t_(s,c,p,b)),e_(i),x}function e_(i){H.H=yu;var s=xt!==null&&xt.next!==null;if(Ur=0,Jt=xt=Ye=null,Sh=!1,pu=0,Ro=null,s)throw Error(r(300));i===null||Qt||(i=i.dependencies,i!==null&&ph(i)&&(Qt=!0))}function t_(i,s,c,p){Ye=i;var b=0;do{if(Po&&(Ro=null),pu=0,Po=!1,25<=b)throw Error(r(301));if(b+=1,Jt=xt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=z_,x=s(c,p)}while(Po);return x}function S2(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?mu(s):s,i=i.useState()[0],(xt!==null?xt.memoizedState:null)!==i&&(Ye.flags|=1024),s}function sp(){var i=Ch!==0;return Ch=0,i}function ap(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function op(i){if(Sh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sh=!1}Ur=0,Jt=xt=Ye=null,Po=!1,pu=Ch=0,Ro=null}function Mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function Gt(){if(xt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=xt.next;var s=Jt===null?Ye.memoizedState:Jt.next;if(s!==null)Jt=s,xt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));xt=i,i={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(i){var s=pu;return pu+=1,Ro===null&&(Ro=[]),i=qv(Ro,i,s),s=Ye,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?D_:_p),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return mu(i);if(i.$$typeof===N)return vn(i)}throw Error(r(438,String(i)))}function lp(i){var s=null,c=Ye.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ye.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Eh(),Ye.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),p=0;p<i;p++)c[p]=he;return s.index++,c}function Vr(i,s){return typeof s=="function"?s(i):s}function Lh(i){var s=Gt();return up(s,xt,i)}function up(i,s,c){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=i.baseQueue,x=p.pending;if(x!==null){if(b!==null){var k=b.next;b.next=x.next,x.next=k}s.baseQueue=b=x,p.pending=null}if(x=i.baseState,b===null)i.memoizedState=x;else{s=b.next;var z=k=null,$=null,ae=s,me=!1;do{var be=ae.lane&-536870913;if(be!==ae.lane?(at&be)===be:(Ur&be)===be){var ue=ae.revertLane;if(ue===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),be===ko&&(me=!0);else if((Ur&ue)===ue){ae=ae.next,ue===ko&&(me=!0);continue}else be={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(z=$=be,k=x):$=$.next=be,Ye.lanes|=ue,ks|=ue;be=ae.action,Na&&c(x,be),x=ae.hasEagerState?ae.eagerState:c(x,be)}else ue={lane:be,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(z=$=ue,k=x):$=$.next=ue,Ye.lanes|=be,ks|=be;ae=ae.next}while(ae!==null&&ae!==s);if($===null?k=x:$.next=z,!dn(x,i.memoizedState)&&(Qt=!0,me&&(c=jo,c!==null)))throw c;i.memoizedState=x,i.baseState=k,i.baseQueue=$,p.lastRenderedState=x}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function cp(i){var s=Gt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=c.dispatch,b=c.pending,x=s.memoizedState;if(b!==null){c.pending=null;var k=b=b.next;do x=i(x,k.action),k=k.next;while(k!==b);dn(x,s.memoizedState)||(Qt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,p]}function n_(i,s,c){var p=Ye,b=Gt(),x=nt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=s();var k=!dn((xt||b).memoizedState,c);if(k&&(b.memoizedState=c,Qt=!0),b=b.queue,fp(s_.bind(null,p,b,i),[i]),b.getSnapshot!==s||k||Jt!==null&&Jt.memoizedState.tag&1){if(p.flags|=2048,Do(9,{destroy:void 0},r_.bind(null,p,b,c,s),null),Et===null)throw Error(r(349));x||(Ur&127)!==0||i_(p,s,c)}return c}function i_(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Ye.updateQueue,s===null?(s=Eh(),Ye.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function r_(i,s,c,p){s.value=c,s.getSnapshot=p,a_(s)&&o_(i)}function s_(i,s,c){return c(function(){a_(s)&&o_(i)})}function a_(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!dn(i,c)}catch{return!0}}function o_(i){var s=wi(i,2);s!==null&&Gn(s,i,2)}function hp(i){var s=Mn();if(typeof i=="function"){var c=i;if(i=c(),Na){gn(!0);try{c()}finally{gn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:i},s}function l_(i,s,c,p){return i.baseState=c,up(i,xt,typeof p=="function"?p:Vr)}function C2(i,s,c,p,b){if(jh(i))throw Error(r(485));if(i=s.action,i!==null){var x={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){x.listeners.push(k)}};H.T!==null?c(!0):x.isTransition=!1,p(x),c=s.pending,c===null?(x.next=s.pending=x,u_(s,x)):(x.next=c.next,s.pending=c.next=x)}}function u_(i,s){var c=s.action,p=s.payload,b=i.state;if(s.isTransition){var x=H.T,k={};H.T=k;try{var z=c(b,p),$=H.S;$!==null&&$(k,z),c_(i,s,z)}catch(ae){dp(i,s,ae)}finally{x!==null&&k.types!==null&&(x.types=k.types),H.T=x}}else try{x=c(b,p),c_(i,s,x)}catch(ae){dp(i,s,ae)}}function c_(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){h_(i,s,p)},function(p){return dp(i,s,p)}):h_(i,s,c)}function h_(i,s,c){s.status="fulfilled",s.value=c,d_(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,u_(i,c)))}function dp(i,s,c){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,d_(s),s=s.next;while(s!==p)}i.action=null}function d_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function f_(i,s){return s}function p_(i,s){if(nt){var c=Et.formState;if(c!==null){e:{var p=Ye;if(nt){if(ct){t:{for(var b=ct,x=Hn;b.nodeType!==8;){if(!x){b=null;break t}if(b=Ei(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){ct=Ei(b.nextSibling),p=b.data==="F!";break e}}fr(p)}p=!1}p&&(s=c[0])}}return c=Mn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:s},c.queue=p,c=N_.bind(null,Ye,p),p.dispatch=c,p=hp(!1),x=vp.bind(null,Ye,!1,p.queue),p=Mn(),b={state:s,dispatch:null,action:i,pending:null},p.queue=b,c=C2.bind(null,Ye,b,x,c),b.dispatch=c,p.memoizedState=i,[s,c,!1]}function m_(i){var s=Gt();return g_(s,xt,i)}function g_(i,s,c){if(s=up(i,s,f_)[0],i=Lh(Vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=mu(s)}catch(k){throw k===Oo?yh:k}else p=s;s=Gt();var b=s.queue,x=b.dispatch;return c!==s.memoizedState&&(Ye.flags|=2048,Do(9,{destroy:void 0},E2.bind(null,b,c),null)),[p,x,i]}function E2(i,s){i.action=s}function y_(i){var s=Gt(),c=xt;if(c!==null)return g_(s,c,i);Gt(),s=s.memoizedState,c=Gt();var p=c.queue.dispatch;return c.memoizedState=i,[s,p,!1]}function Do(i,s,c,p){return i={tag:i,create:c,deps:p,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Eh(),Ye.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,s.lastEffect=i),i}function v_(){return Gt().memoizedState}function Ah(i,s,c,p){var b=Mn();Ye.flags|=i,b.memoizedState=Do(1|s,{destroy:void 0},c,p===void 0?null:p)}function kh(i,s,c,p){var b=Gt();p=p===void 0?null:p;var x=b.memoizedState.inst;xt!==null&&p!==null&&ip(p,xt.memoizedState.deps)?b.memoizedState=Do(s,x,c,p):(Ye.flags|=i,b.memoizedState=Do(1|s,x,c,p))}function __(i,s){Ah(8390656,8,i,s)}function fp(i,s){kh(2048,8,i,s)}function T2(i){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=Eh(),Ye.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function b_(i){var s=Gt().memoizedState;return T2({ref:s,nextImpl:i}),function(){if((ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function x_(i,s){return kh(4,2,i,s)}function w_(i,s){return kh(4,4,i,s)}function S_(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function C_(i,s,c){c=c!=null?c.concat([i]):null,kh(4,4,S_.bind(null,s,i),c)}function pp(){}function E_(i,s){var c=Gt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&ip(s,p[1])?p[0]:(c.memoizedState=[i,s],i)}function T_(i,s){var c=Gt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&ip(s,p[1]))return p[0];if(p=i(),Na){gn(!0);try{i()}finally{gn(!1)}}return c.memoizedState=[p,s],p}function mp(i,s,c){return c===void 0||(Ur&1073741824)!==0&&(at&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=L0(),Ye.lanes|=i,ks|=i,c)}function L_(i,s,c,p){return dn(c,s)?c:No.current!==null?(i=mp(i,c,p),dn(i,s)||(Qt=!0),i):(Ur&42)===0||(Ur&1073741824)!==0&&(at&261930)===0?(Qt=!0,i.memoizedState=c):(i=L0(),Ye.lanes|=i,ks|=i,s)}function A_(i,s,c,p,b){var x=W.p;W.p=x!==0&&8>x?x:8;var k=H.T,z={};H.T=z,vp(i,!1,s,c);try{var $=b(),ae=H.S;if(ae!==null&&ae(z,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var me=x2($,p);gu(i,s,me,ui(i))}else gu(i,s,p,ui(i))}catch(be){gu(i,s,{then:function(){},status:"rejected",reason:be},ui())}finally{W.p=x,k!==null&&z.types!==null&&(k.types=z.types),H.T=k}}function L2(){}function gp(i,s,c,p){if(i.tag!==5)throw Error(r(476));var b=k_(i).queue;A_(i,b,s,se,c===null?L2:function(){return j_(i),c(p)})}function k_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:se},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function j_(i){var s=k_(i);s.next===null&&(s=i.alternate.memoizedState),gu(i,s.next.queue,{},ui())}function yp(){return vn(Nu)}function O_(){return Gt().memoizedState}function M_(){return Gt().memoizedState}function A2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=ui();i=Ss(c);var p=Cs(s,i,c);p!==null&&(Gn(p,s,c),hu(p,s,c)),s={cache:Zf()},i.payload=s;return}s=s.return}}function k2(i,s,c){var p=ui();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},jh(i)?P_(s,c):(c=tu(i,s,c,p),c!==null&&(Gn(c,i,p),R_(c,s,p)))}function N_(i,s,c){var p=ui();gu(i,s,c,p)}function gu(i,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(jh(i))P_(s,b);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var k=s.lastRenderedState,z=x(k,c);if(b.hasEagerState=!0,b.eagerState=z,dn(z,k))return hr(i,s,b,0),Et===null&&Sa(),!1}catch{}finally{}if(c=tu(i,s,b,p),c!==null)return Gn(c,i,p),R_(c,s,p),!0}return!1}function vp(i,s,c,p){if(p={lane:2,revertLane:Yp(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jh(i)){if(s)throw Error(r(479))}else s=tu(i,c,p,2),s!==null&&Gn(s,i,2)}function jh(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function P_(i,s){Po=Sh=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function R_(i,s,c){if((c&4194048)!==0){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,Vc(i,c)}}var yu={readContext:vn,use:Th,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};yu.useEffectEvent=Ft;var D_={readContext:vn,use:Th,useCallback:function(i,s){return Mn().memoizedState=[i,s===void 0?null:s],i},useContext:vn,useEffect:__,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Ah(4194308,4,S_.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Ah(4194308,4,i,s)},useInsertionEffect:function(i,s){Ah(4,2,i,s)},useMemo:function(i,s){var c=Mn();s=s===void 0?null:s;var p=i();if(Na){gn(!0);try{i()}finally{gn(!1)}}return c.memoizedState=[p,s],p},useReducer:function(i,s,c){var p=Mn();if(c!==void 0){var b=c(s);if(Na){gn(!0);try{c(s)}finally{gn(!1)}}}else b=s;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=k2.bind(null,Ye,i),[p.memoizedState,i]},useRef:function(i){var s=Mn();return i={current:i},s.memoizedState=i},useState:function(i){i=hp(i);var s=i.queue,c=N_.bind(null,Ye,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:pp,useDeferredValue:function(i,s){var c=Mn();return mp(c,i,s)},useTransition:function(){var i=hp(!1);return i=A_.bind(null,Ye,i.queue,!0,!1),Mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var p=Ye,b=Mn();if(nt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Et===null)throw Error(r(349));(at&127)!==0||i_(p,s,c)}b.memoizedState=c;var x={value:c,getSnapshot:s};return b.queue=x,__(s_.bind(null,p,x,i),[i]),p.flags|=2048,Do(9,{destroy:void 0},r_.bind(null,p,x,c,s),null),c},useId:function(){var i=Mn(),s=Et.identifierPrefix;if(nt){var c=Ee,p=_e;c=(p&~(1<<32-yt(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Ch++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=w2++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:yp,useFormState:p_,useActionState:p_,useOptimistic:function(i){var s=Mn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=vp.bind(null,Ye,!0,c),c.dispatch=s,[i,s]},useMemoCache:lp,useCacheRefresh:function(){return Mn().memoizedState=A2.bind(null,Ye)},useEffectEvent:function(i){var s=Mn(),c={impl:i};return s.memoizedState=c,function(){if((ft&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},_p={readContext:vn,use:Th,useCallback:E_,useContext:vn,useEffect:fp,useImperativeHandle:C_,useInsertionEffect:x_,useLayoutEffect:w_,useMemo:T_,useReducer:Lh,useRef:v_,useState:function(){return Lh(Vr)},useDebugValue:pp,useDeferredValue:function(i,s){var c=Gt();return L_(c,xt.memoizedState,i,s)},useTransition:function(){var i=Lh(Vr)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:mu(i),s]},useSyncExternalStore:n_,useId:O_,useHostTransitionStatus:yp,useFormState:m_,useActionState:m_,useOptimistic:function(i,s){var c=Gt();return l_(c,xt,i,s)},useMemoCache:lp,useCacheRefresh:M_};_p.useEffectEvent=b_;var z_={readContext:vn,use:Th,useCallback:E_,useContext:vn,useEffect:fp,useImperativeHandle:C_,useInsertionEffect:x_,useLayoutEffect:w_,useMemo:T_,useReducer:cp,useRef:v_,useState:function(){return cp(Vr)},useDebugValue:pp,useDeferredValue:function(i,s){var c=Gt();return xt===null?mp(c,i,s):L_(c,xt.memoizedState,i,s)},useTransition:function(){var i=cp(Vr)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:mu(i),s]},useSyncExternalStore:n_,useId:O_,useHostTransitionStatus:yp,useFormState:y_,useActionState:y_,useOptimistic:function(i,s){var c=Gt();return xt!==null?l_(c,xt,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:lp,useCacheRefresh:M_};z_.useEffectEvent=b_;function bp(i,s,c,p){s=i.memoizedState,c=c(p,s),c=c==null?s:v({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var xp={enqueueSetState:function(i,s,c){i=i._reactInternals;var p=ui(),b=Ss(p);b.payload=s,c!=null&&(b.callback=c),s=Cs(i,b,p),s!==null&&(Gn(s,i,p),hu(s,i,p))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var p=ui(),b=Ss(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Cs(i,b,p),s!==null&&(Gn(s,i,p),hu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=ui(),p=Ss(c);p.tag=2,s!=null&&(p.callback=s),s=Cs(i,p,c),s!==null&&(Gn(s,i,c),hu(s,i,c))}};function B_(i,s,c,p,b,x,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,k):s.prototype&&s.prototype.isPureReactComponent?!gs(c,p)||!gs(b,x):!0}function I_(i,s,c,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==i&&xp.enqueueReplaceState(s,s.state,null)}function Pa(i,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(i=i.defaultProps){c===s&&(c=v({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function U_(i){wa(i)}function V_(i){console.error(i)}function H_(i){wa(i)}function Oh(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function F_(i,s,c){try{var p=i.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function wp(i,s,c){return c=Ss(c),c.tag=3,c.payload={element:null},c.callback=function(){Oh(i,s)},c}function $_(i){return i=Ss(i),i.tag=3,i}function q_(i,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var x=p.value;i.payload=function(){return b(x)},i.callback=function(){F_(s,c,p)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){F_(s,c,p),typeof b!="function"&&(js===null?js=new Set([this]):js.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function j2(i,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Ao(s,c,b,!0),c=si.current,c!==null){switch(c.tag){case 31:case 13:return Ci===null?Fh():c.alternate===null&&$t===0&&($t=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===vh?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Gp(i,p,b)),!1;case 22:return c.flags|=65536,p===vh?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Gp(i,p,b)),!1}throw Error(r(435,c.tag))}return Gp(i,p,b),Fh(),!1}if(nt)return s=si.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Lo&&(i=Error(r(422),{cause:p}),Ta(d(i,c)))):(p!==Lo&&(s=Error(r(423),{cause:p}),Ta(d(s,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=d(p,c),b=wp(i.stateNode,p,b),Jf(i,b),$t!==4&&($t=2)),!1;var x=Error(r(520),{cause:p});if(x=d(x,c),Eu===null?Eu=[x]:Eu.push(x),$t!==4&&($t=2),s===null)return!0;p=d(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=wp(c.stateNode,p,i),Jf(c,i),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(js===null||!js.has(x))))return c.flags|=65536,b&=-b,c.lanes|=b,b=$_(b),q_(b,i,c,p),Jf(c,b),!1}c=c.return}while(c!==null);return!1}var Sp=Error(r(461)),Qt=!1;function _n(i,s,c,p){s.child=i===null?Wv(s,null,c,p):Ma(s,i.child,c,p)}function Z_(i,s,c,p,b){c=c.render;var x=s.ref;if("ref"in p){var k={};for(var z in p)z!=="ref"&&(k[z]=p[z])}else k=p;return Aa(s),p=rp(i,s,c,k,x,b),z=sp(),i!==null&&!Qt?(ap(i,s,b),Hr(i,s,b)):(nt&&z&&an(s),s.flags|=1,_n(i,s,p,b),s.child)}function G_(i,s,c,p,b){if(i===null){var x=c.type;return typeof x=="function"&&!Eo(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,K_(i,s,x,p,b)):(i=Ea(c.type,null,p,s,s.mode,b),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!Op(i,b)){var k=x.memoizedProps;if(c=c.compare,c=c!==null?c:gs,c(k,p)&&i.ref===s.ref)return Hr(i,s,b)}return s.flags|=1,i=Si(x,p),i.ref=s.ref,i.return=s,s.child=i}function K_(i,s,c,p,b){if(i!==null){var x=i.memoizedProps;if(gs(x,p)&&i.ref===s.ref)if(Qt=!1,s.pendingProps=p=x,Op(i,b))(i.flags&131072)!==0&&(Qt=!0);else return s.lanes=i.lanes,Hr(i,s,b)}return Cp(i,s,c,p,b)}function W_(i,s,c,p){var b=p.children,x=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~x}else p=0,s.child=null;return Y_(i,s,x,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gh(s,x!==null?x.cachePool:null),x!==null?Jv(s,x):ep(),Qv(s);else return p=s.lanes=536870912,Y_(i,s,x!==null?x.baseLanes|c:c,c,p)}else x!==null?(gh(s,x.cachePool),Jv(s,x),Ts(),s.memoizedState=null):(i!==null&&gh(s,null),ep(),Ts());return _n(i,s,b,c),s.child}function vu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Y_(i,s,c,p,b){var x=Kf();return x=x===null?null:{parent:Xt._currentValue,pool:x},s.memoizedState={baseLanes:c,cachePool:x},i!==null&&gh(s,null),ep(),Qv(s),i!==null&&Ao(i,s,p,!0),s.childLanes=b,null}function Mh(i,s){return s=Ph({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function X_(i,s,c){return Ma(s,i.child,null,c),i=Mh(s,s.pendingProps),i.flags|=2,ai(s),s.memoizedState=null,i}function O2(i,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(nt){if(p.mode==="hidden")return i=Mh(s,p),s.lanes=536870912,vu(null,i);if(np(s),(i=ct)?(i=ub(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:le!==null?{id:_e,overflow:Ee}:null,retryLane:536870912,hydrationErrors:null},c=iu(i),c.return=s,s.child=c,ut=s,ct=null)):i=null,i===null)throw fr(s);return s.lanes=536870912,null}return Mh(s,p)}var x=i.memoizedState;if(x!==null){var k=x.dehydrated;if(np(s),b)if(s.flags&256)s.flags&=-257,s=X_(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Qt||Ao(i,s,c,!1),b=(c&i.childLanes)!==0,Qt||b){if(p=Et,p!==null&&(k=Hc(p,c),k!==0&&k!==x.retryLane))throw x.retryLane=k,wi(i,k),Gn(p,i,k),Sp;Fh(),s=X_(i,s,c)}else i=x.treeContext,ct=Ei(k.nextSibling),ut=s,nt=!0,dr=null,Hn=!1,i!==null&&On(s,i),s=Mh(s,p),s.flags|=4096;return s}return i=Si(i.child,{mode:p.mode,children:p.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Nh(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function Cp(i,s,c,p,b){return Aa(s),c=rp(i,s,c,p,void 0,b),p=sp(),i!==null&&!Qt?(ap(i,s,b),Hr(i,s,b)):(nt&&p&&an(s),s.flags|=1,_n(i,s,c,b),s.child)}function J_(i,s,c,p,b,x){return Aa(s),s.updateQueue=null,c=t_(s,p,c,b),e_(i),p=sp(),i!==null&&!Qt?(ap(i,s,x),Hr(i,s,x)):(nt&&p&&an(s),s.flags|=1,_n(i,s,c,x),s.child)}function Q_(i,s,c,p,b){if(Aa(s),s.stateNode===null){var x=Dr,k=c.contextType;typeof k=="object"&&k!==null&&(x=vn(k)),x=new c(p,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=xp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=p,x.state=s.memoizedState,x.refs={},Yf(s),k=c.contextType,x.context=typeof k=="object"&&k!==null?vn(k):Dr,x.state=s.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(bp(s,c,k,p),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(k=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),k!==x.state&&xp.enqueueReplaceState(x,x.state,null),fu(s,p,x,b),du(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(i===null){x=s.stateNode;var z=s.memoizedProps,$=Pa(c,z);x.props=$;var ae=x.context,me=c.contextType;k=Dr,typeof me=="object"&&me!==null&&(k=vn(me));var be=c.getDerivedStateFromProps;me=typeof be=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,me||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||ae!==k)&&I_(s,x,p,k),ws=!1;var ue=s.memoizedState;x.state=ue,fu(s,p,x,b),du(),ae=s.memoizedState,z||ue!==ae||ws?(typeof be=="function"&&(bp(s,c,be,p),ae=s.memoizedState),($=ws||B_(s,c,$,p,ue,ae,k))?(me||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ae),x.props=p,x.state=ae,x.context=k,p=$):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{x=s.stateNode,Xf(i,s),k=s.memoizedProps,me=Pa(c,k),x.props=me,be=s.pendingProps,ue=x.context,ae=c.contextType,$=Dr,typeof ae=="object"&&ae!==null&&($=vn(ae)),z=c.getDerivedStateFromProps,(ae=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==be||ue!==$)&&I_(s,x,p,$),ws=!1,ue=s.memoizedState,x.state=ue,fu(s,p,x,b),du();var fe=s.memoizedState;k!==be||ue!==fe||ws||i!==null&&i.dependencies!==null&&ph(i.dependencies)?(typeof z=="function"&&(bp(s,c,z,p),fe=s.memoizedState),(me=ws||B_(s,c,me,p,ue,fe,$)||i!==null&&i.dependencies!==null&&ph(i.dependencies))?(ae||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,fe,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,fe,$)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===i.memoizedProps&&ue===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ue===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=fe),x.props=p,x.state=fe,x.context=$,p=me):(typeof x.componentDidUpdate!="function"||k===i.memoizedProps&&ue===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ue===i.memoizedState||(s.flags|=1024),p=!1)}return x=p,Nh(i,s),p=(s.flags&128)!==0,x||p?(x=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,i!==null&&p?(s.child=Ma(s,i.child,null,b),s.child=Ma(s,null,c,b)):_n(i,s,c,b),s.memoizedState=x.state,i=s.child):i=Hr(i,s,b),i}function e0(i,s,c,p){return Br(),s.flags|=256,_n(i,s,c,p),s.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(i){return{baseLanes:i,cachePool:Fv()}}function Lp(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=li),i}function t0(i,s,c){var p=s.pendingProps,b=!1,x=(s.flags&128)!==0,k;if((k=x)||(k=i!==null&&i.memoizedState===null?!1:(Zt.current&2)!==0),k&&(b=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,i===null){if(nt){if(b?Es(s):Ts(),(i=ct)?(i=ub(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:le!==null?{id:_e,overflow:Ee}:null,retryLane:536870912,hydrationErrors:null},c=iu(i),c.return=s,s.child=c,ut=s,ct=null)):i=null,i===null)throw fr(s);return um(i)?s.lanes=32:s.lanes=536870912,null}var z=p.children;return p=p.fallback,b?(Ts(),b=s.mode,z=Ph({mode:"hidden",children:z},b),p=zr(p,b,c,null),z.return=s,p.return=s,z.sibling=p,s.child=z,p=s.child,p.memoizedState=Tp(c),p.childLanes=Lp(i,k,c),s.memoizedState=Ep,vu(null,p)):(Es(s),Ap(s,z))}var $=i.memoizedState;if($!==null&&(z=$.dehydrated,z!==null)){if(x)s.flags&256?(Es(s),s.flags&=-257,s=kp(i,s,c)):s.memoizedState!==null?(Ts(),s.child=i.child,s.flags|=128,s=null):(Ts(),z=p.fallback,b=s.mode,p=Ph({mode:"visible",children:p.children},b),z=zr(z,b,c,null),z.flags|=2,p.return=s,z.return=s,p.sibling=z,s.child=p,Ma(s,i.child,null,c),p=s.child,p.memoizedState=Tp(c),p.childLanes=Lp(i,k,c),s.memoizedState=Ep,s=vu(null,p));else if(Es(s),um(z)){if(k=z.nextSibling&&z.nextSibling.dataset,k)var ae=k.dgst;k=ae,p=Error(r(419)),p.stack="",p.digest=k,Ta({value:p,source:null,stack:null}),s=kp(i,s,c)}else if(Qt||Ao(i,s,c,!1),k=(c&i.childLanes)!==0,Qt||k){if(k=Et,k!==null&&(p=Hc(k,c),p!==0&&p!==$.retryLane))throw $.retryLane=p,wi(i,p),Gn(k,i,p),Sp;lm(z)||Fh(),s=kp(i,s,c)}else lm(z)?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,ct=Ei(z.nextSibling),ut=s,nt=!0,dr=null,Hn=!1,i!==null&&On(s,i),s=Ap(s,p.children),s.flags|=4096);return s}return b?(Ts(),z=p.fallback,b=s.mode,$=i.child,ae=$.sibling,p=Si($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,ae!==null?z=Si(ae,z):(z=zr(z,b,c,null),z.flags|=2),z.return=s,p.return=s,p.sibling=z,s.child=p,vu(null,p),p=s.child,z=i.child.memoizedState,z===null?z=Tp(c):(b=z.cachePool,b!==null?($=Xt._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=Fv(),z={baseLanes:z.baseLanes|c,cachePool:b}),p.memoizedState=z,p.childLanes=Lp(i,k,c),s.memoizedState=Ep,vu(i.child,p)):(Es(s),c=i.child,i=c.sibling,c=Si(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,i!==null&&(k=s.deletions,k===null?(s.deletions=[i],s.flags|=16):k.push(i)),s.child=c,s.memoizedState=null,c)}function Ap(i,s){return s=Ph({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ph(i,s){return i=Cn(22,i,null,s),i.lanes=0,i}function kp(i,s,c){return Ma(s,i.child,null,c),i=Ap(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function n0(i,s,c){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),$f(i.return,s,c)}function jp(i,s,c,p,b,x){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:x}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=c,k.tailMode=b,k.treeForkCount=x)}function i0(i,s,c){var p=s.pendingProps,b=p.revealOrder,x=p.tail;p=p.children;var k=Zt.current,z=(k&2)!==0;if(z?(k=k&1|2,s.flags|=128):k&=1,D(Zt,k),_n(i,s,p,c),p=nt?R:0,!z&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n0(i,c,s);else if(i.tag===19)n0(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)i=c.alternate,i!==null&&wh(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),jp(s,!1,b,c,x,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(i=b.alternate,i!==null&&wh(i)===null){s.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}jp(s,!0,c,null,x,p);break;case"together":jp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Hr(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),ks|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(Ao(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=Si(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Si(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Op(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ph(i)))}function M2(i,s,c){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),xs(s,Xt,i.memoizedState.cache),Br();break;case 27:case 5:Le(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,np(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Es(s),s.flags|=128,null):(c&s.child.childLanes)!==0?t0(i,s,c):(Es(s),i=Hr(i,s,c),i!==null?i.sibling:null);Es(s);break;case 19:var b=(i.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Ao(i,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return i0(i,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),D(Zt,Zt.current),p)break;return null;case 22:return s.lanes=0,W_(i,s,c,s.pendingProps);case 24:xs(s,Xt,i.memoizedState.cache)}return Hr(i,s,c)}function r0(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Op(i,c)&&(s.flags&128)===0)return Qt=!1,M2(i,s,c);Qt=(i.flags&131072)!==0}else Qt=!1,nt&&(s.flags&1048576)!==0&&Xe(s,R,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(i=ja(s.elementType),s.type=i,typeof i=="function")Eo(i)?(p=Pa(i,p),s.tag=1,s=Q_(null,s,i,p,c)):(s.tag=0,s=Cp(null,s,i,p,c));else{if(i!=null){var b=i.$$typeof;if(b===V){s.tag=11,s=Z_(null,s,i,p,c);break e}else if(b===K){s.tag=14,s=G_(null,s,i,p,c);break e}}throw s=ce(i)||i,Error(r(306,s,""))}}return s;case 0:return Cp(i,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=Pa(p,s.pendingProps),Q_(i,s,p,b,c);case 3:e:{if(Re(s,s.stateNode.containerInfo),i===null)throw Error(r(387));p=s.pendingProps;var x=s.memoizedState;b=x.element,Xf(i,s),fu(s,p,null,c);var k=s.memoizedState;if(p=k.cache,xs(s,Xt,p),p!==x.cache&&qf(s,[Xt],c,!0),du(),p=k.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=e0(i,s,p,c);break e}else if(p!==b){b=d(Error(r(424)),s),Ta(b),s=e0(i,s,p,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ct=Ei(i.firstChild),ut=s,nt=!0,dr=null,Hn=!0,c=Wv(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Br(),p===b){s=Hr(i,s,c);break e}_n(i,s,p,c)}s=s.child}return s;case 26:return Nh(i,s),i===null?(c=mb(s.type,null,s.pendingProps,null))?s.memoizedState=c:nt||(c=s.type,i=s.pendingProps,p=Yh(de.current).createElement(c),p[Wt]=s,p[hn]=i,bn(p,c,i),Yt(p),s.stateNode=p):s.memoizedState=mb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Le(s),i===null&&nt&&(p=s.stateNode=db(s.type,s.pendingProps,de.current),ut=s,Hn=!0,b=ct,Ps(s.type)?(cm=b,ct=Ei(p.firstChild)):ct=b),_n(i,s,s.pendingProps.children,c),Nh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&nt&&((b=p=ct)&&(p=lL(p,s.type,s.pendingProps,Hn),p!==null?(s.stateNode=p,ut=s,ct=Ei(p.firstChild),Hn=!1,b=!0):b=!1),b||fr(s)),Le(s),b=s.type,x=s.pendingProps,k=i!==null?i.memoizedProps:null,p=x.children,sm(b,x)?p=null:k!==null&&sm(b,k)&&(s.flags|=32),s.memoizedState!==null&&(b=rp(i,s,S2,null,null,c),Nu._currentValue=b),Nh(i,s),_n(i,s,p,c),s.child;case 6:return i===null&&nt&&((i=c=ct)&&(c=uL(c,s.pendingProps,Hn),c!==null?(s.stateNode=c,ut=s,ct=null,i=!0):i=!1),i||fr(s)),null;case 13:return t0(i,s,c);case 4:return Re(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Ma(s,null,p,c):_n(i,s,p,c),s.child;case 11:return Z_(i,s,s.type,s.pendingProps,c);case 7:return _n(i,s,s.pendingProps,c),s.child;case 8:return _n(i,s,s.pendingProps.children,c),s.child;case 12:return _n(i,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,xs(s,s.type,p.value),_n(i,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Aa(s),b=vn(b),p=p(b),s.flags|=1,_n(i,s,p,c),s.child;case 14:return G_(i,s,s.type,s.pendingProps,c);case 15:return K_(i,s,s.type,s.pendingProps,c);case 19:return i0(i,s,c);case 31:return O2(i,s,c);case 22:return W_(i,s,c,s.pendingProps);case 24:return Aa(s),p=vn(Xt),i===null?(b=Kf(),b===null&&(b=Et,x=Zf(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=c),b=x),s.memoizedState={parent:p,cache:b},Yf(s),xs(s,Xt,b)):((i.lanes&c)!==0&&(Xf(i,s),fu(s,null,null,c),du()),b=i.memoizedState,x=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),xs(s,Xt,p)):(p=x.cache,xs(s,Xt,p),p!==b.cache&&qf(s,[Xt],c,!0))),_n(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fr(i){i.flags|=4}function Mp(i,s,c,p,b){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(O0())i.flags|=8192;else throw Oa=vh,Wf}else i.flags&=-16777217}function s0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bb(s))if(O0())i.flags|=8192;else throw Oa=vh,Wf}function Rh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ic():536870912,i.lanes|=s,Uo|=s)}function _u(i,s){if(!nt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function jt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(s)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=c,s}function N2(i,s,c){var p=s.pendingProps;switch(Ht(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return c=s.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ir(Xt),ve(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Fi(s)?Fr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,au())),jt(s),null;case 26:var b=s.type,x=s.memoizedState;return i===null?(Fr(s),x!==null?(jt(s),s0(s,x)):(jt(s),Mp(s,b,null,p,c))):x?x!==i.memoizedState?(Fr(s),jt(s),s0(s,x)):(jt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==p&&Fr(s),jt(s),Mp(s,b,i,p,c)),null;case 27:if(Ve(s),c=de.current,b=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Fr(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return jt(s),null}i=Z.current,Fi(s)?su(s):(i=db(b,p,c),s.stateNode=i,Fr(s))}return jt(s),null;case 5:if(Ve(s),b=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Fr(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return jt(s),null}if(x=Z.current,Fi(s))su(s);else{var k=Yh(de.current);switch(x){case 1:x=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=k.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?x.multiple=!0:p.size&&(x.size=p.size);break;default:x=typeof p.is=="string"?k.createElement(b,{is:p.is}):k.createElement(b)}}x[Wt]=s,x[hn]=p;e:for(k=s.child;k!==null;){if(k.tag===5||k.tag===6)x.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===s)break e;for(;k.sibling===null;){if(k.return===null||k.return===s)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}s.stateNode=x;e:switch(bn(x,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Fr(s)}}return jt(s),Mp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==p&&Fr(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(i=de.current,Fi(s)){if(i=s.stateNode,c=s.memoizedProps,p=null,b=ut,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Wt]=s,i=!!(i.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||tb(i.nodeValue,c)),i||fr(s,!0)}else i=Yh(i).createTextNode(p),i[Wt]=s,s.stateNode=i}return jt(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(p=Fi(s),c!==null){if(i===null){if(!p)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Wt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),i=!1}else c=au(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(ai(s),s):(ai(s),null);if((s.flags&128)!==0)throw Error(r(558))}return jt(s),null;case 13:if(p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Fi(s),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Wt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),b=!1}else b=au(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(ai(s),s):(ai(s),null)}return ai(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,i=i!==null&&i.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),x=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==b&&(p.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),Rh(s,s.updateQueue),jt(s),null);case 4:return ve(),i===null&&em(s.stateNode.containerInfo),jt(s),null;case 10:return Ir(s.type),jt(s),null;case 19:if(ie(Zt),p=s.memoizedState,p===null)return jt(s),null;if(b=(s.flags&128)!==0,x=p.rendering,x===null)if(b)_u(p,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(x=wh(i),x!==null){for(s.flags|=128,_u(p,!1),i=x.updateQueue,s.updateQueue=i,Rh(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)nu(c,i),c=c.sibling;return D(Zt,Zt.current&1|2),nt&&Pe(s,p.treeForkCount),s.child}i=i.sibling}p.tail!==null&&mn()>Uh&&(s.flags|=128,b=!0,_u(p,!1),s.lanes=4194304)}else{if(!b)if(i=wh(x),i!==null){if(s.flags|=128,b=!0,i=i.updateQueue,s.updateQueue=i,Rh(s,i),_u(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!nt)return jt(s),null}else 2*mn()-p.renderingStartTime>Uh&&c!==536870912&&(s.flags|=128,b=!0,_u(p,!1),s.lanes=4194304);p.isBackwards?(x.sibling=s.child,s.child=x):(i=p.last,i!==null?i.sibling=x:s.child=x,p.last=x)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=mn(),i.sibling=null,c=Zt.current,D(Zt,b?c&1|2:c&1),nt&&Pe(s,p.treeForkCount),i):(jt(s),null);case 22:case 23:return ai(s),tp(),p=s.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),c=s.updateQueue,c!==null&&Rh(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),i!==null&&ie(ka),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ir(Xt),jt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function P2(i,s){switch(Ht(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ir(Xt),ve(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 31:if(s.memoizedState!==null){if(ai(s),s.alternate===null)throw Error(r(340));Br()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(ai(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Br()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ie(Zt),null;case 4:return ve(),null;case 10:return Ir(s.type),null;case 22:case 23:return ai(s),tp(),i!==null&&ie(ka),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ir(Xt),null;case 25:return null;default:return null}}function a0(i,s){switch(Ht(s),s.tag){case 3:Ir(Xt),ve();break;case 26:case 27:case 5:Ve(s);break;case 4:ve();break;case 31:s.memoizedState!==null&&ai(s);break;case 13:ai(s);break;case 19:ie(Zt);break;case 10:Ir(s.type);break;case 22:case 23:ai(s),tp(),i!==null&&ie(ka);break;case 24:Ir(Xt)}}function bu(i,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){p=void 0;var x=c.create,k=c.inst;p=x(),k.destroy=p}c=c.next}while(c!==b)}}catch(z){_t(s,s.return,z)}}function Ls(i,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var x=b.next;p=x;do{if((p.tag&i)===i){var k=p.inst,z=k.destroy;if(z!==void 0){k.destroy=void 0,b=s;var $=c,ae=z;try{ae()}catch(me){_t(b,$,me)}}}p=p.next}while(p!==x)}}catch(me){_t(s,s.return,me)}}function o0(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Xv(s,c)}catch(p){_t(i,i.return,p)}}}function l0(i,s,c){c.props=Pa(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(p){_t(i,s,p)}}function xu(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(b){_t(i,s,b)}}function mr(i,s){var c=i.ref,p=i.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){_t(i,s,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){_t(i,s,b)}else c.current=null}function u0(i){var s=i.type,c=i.memoizedProps,p=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){_t(i,i.return,b)}}function Np(i,s,c){try{var p=i.stateNode;nL(p,i.type,c,s),p[hn]=s}catch(b){_t(i,i.return,b)}}function c0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ps(i.type)||i.tag===4}function Pp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rp(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Bn));else if(p!==4&&(p===27&&Ps(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Rp(i,s,c),i=i.sibling;i!==null;)Rp(i,s,c),i=i.sibling}function Dh(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(p!==4&&(p===27&&Ps(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Dh(i,s,c),i=i.sibling;i!==null;)Dh(i,s,c),i=i.sibling}function h0(i){var s=i.stateNode,c=i.memoizedProps;try{for(var p=i.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);bn(s,p,c),s[Wt]=i,s[hn]=c}catch(x){_t(i,i.return,x)}}var $r=!1,en=!1,Dp=!1,d0=typeof WeakSet=="function"?WeakSet:Set,pn=null;function R2(i,s){if(i=i.containerInfo,im=id,i=va(i),or(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var k=0,z=-1,$=-1,ae=0,me=0,be=i,ue=null;t:for(;;){for(var fe;be!==c||b!==0&&be.nodeType!==3||(z=k+b),be!==x||p!==0&&be.nodeType!==3||($=k+p),be.nodeType===3&&(k+=be.nodeValue.length),(fe=be.firstChild)!==null;)ue=be,be=fe;for(;;){if(be===i)break t;if(ue===c&&++ae===b&&(z=k),ue===x&&++me===p&&($=k),(fe=be.nextSibling)!==null)break;be=ue,ue=be.parentNode}be=fe}c=z===-1||$===-1?null:{start:z,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(rm={focusedElem:i,selectionRange:c},id=!1,pn=s;pn!==null;)if(s=pn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,pn=i;else for(;pn!==null;){switch(s=pn,x=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,c=s,b=x.memoizedProps,x=x.memoizedState,p=c.stateNode;try{var je=Pa(c.type,b);i=p.getSnapshotBeforeUpdate(je,x),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){_t(c,c.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)om(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,pn=i;break}pn=s.return}}function f0(i,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Zr(i,c),p&4&&bu(5,c);break;case 1:if(Zr(i,c),p&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(k){_t(c,c.return,k)}else{var b=Pa(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(b,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){_t(c,c.return,k)}}p&64&&o0(c),p&512&&xu(c,c.return);break;case 3:if(Zr(i,c),p&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Xv(i,s)}catch(k){_t(c,c.return,k)}}break;case 27:s===null&&p&4&&h0(c);case 26:case 5:Zr(i,c),s===null&&p&4&&u0(c),p&512&&xu(c,c.return);break;case 12:Zr(i,c);break;case 31:Zr(i,c),p&4&&g0(i,c);break;case 13:Zr(i,c),p&4&&y0(i,c),p&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=$2.bind(null,c),cL(i,c))));break;case 22:if(p=c.memoizedState!==null||$r,!p){s=s!==null&&s.memoizedState!==null||en,b=$r;var x=en;$r=p,(en=s)&&!x?Gr(i,c,(c.subtreeFlags&8772)!==0):Zr(i,c),$r=b,en=x}break;case 30:break;default:Zr(i,c)}}function p0(i){var s=i.alternate;s!==null&&(i.alternate=null,p0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Bl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,Fn=!1;function qr(i,s,c){for(c=c.child;c!==null;)m0(i,s,c),c=c.sibling}function m0(i,s,c){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(cn,c)}catch{}switch(c.tag){case 26:en||mr(c,s),qr(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||mr(c,s);var p=Mt,b=Fn;Ps(c.type)&&(Mt=c.stateNode,Fn=!1),qr(i,s,c),ju(c.stateNode),Mt=p,Fn=b;break;case 5:en||mr(c,s);case 6:if(p=Mt,b=Fn,Mt=null,qr(i,s,c),Mt=p,Fn=b,Mt!==null)if(Fn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(c.stateNode)}catch(x){_t(c,s,x)}else try{Mt.removeChild(c.stateNode)}catch(x){_t(c,s,x)}break;case 18:Mt!==null&&(Fn?(i=Mt,ob(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Ko(i)):ob(Mt,c.stateNode));break;case 4:p=Mt,b=Fn,Mt=c.stateNode.containerInfo,Fn=!0,qr(i,s,c),Mt=p,Fn=b;break;case 0:case 11:case 14:case 15:Ls(2,c,s),en||Ls(4,c,s),qr(i,s,c);break;case 1:en||(mr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&l0(c,s,p)),qr(i,s,c);break;case 21:qr(i,s,c);break;case 22:en=(p=en)||c.memoizedState!==null,qr(i,s,c),en=p;break;default:qr(i,s,c)}}function g0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ko(i)}catch(c){_t(s,s.return,c)}}}function y0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ko(i)}catch(c){_t(s,s.return,c)}}function D2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new d0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new d0),s;default:throw Error(r(435,i.tag))}}function zh(i,s){var c=D2(i);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=q2.bind(null,i,p);p.then(b,b)}})}function $n(i,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],x=i,k=s,z=k;e:for(;z!==null;){switch(z.tag){case 27:if(Ps(z.type)){Mt=z.stateNode,Fn=!1;break e}break;case 5:Mt=z.stateNode,Fn=!1;break e;case 3:case 4:Mt=z.stateNode.containerInfo,Fn=!0;break e}z=z.return}if(Mt===null)throw Error(r(160));m0(x,k,b),Mt=null,Fn=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)v0(s,i),s=s.sibling}var qi=null;function v0(i,s){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(s,i),qn(i),p&4&&(Ls(3,i,i.return),bu(3,i),Ls(5,i,i.return));break;case 1:$n(s,i),qn(i),p&512&&(en||c===null||mr(c,c.return)),p&64&&$r&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=qi;if($n(s,i),qn(i),p&512&&(en||c===null||mr(c,c.return)),p&4){var x=c!==null?c.memoizedState:null;if(p=i.memoizedState,c===null)if(p===null)if(i.stateNode===null){e:{p=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":x=b.getElementsByTagName("title")[0],(!x||x[na]||x[Wt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(p),b.head.insertBefore(x,b.querySelector("head > title"))),bn(x,p,c),x[Wt]=i,Yt(x),p=x;break e;case"link":var k=vb("link","href",b).get(p+(c.href||""));if(k){for(var z=0;z<k.length;z++)if(x=k[z],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(z,1);break t}}x=b.createElement(p),bn(x,p,c),b.head.appendChild(x);break;case"meta":if(k=vb("meta","content",b).get(p+(c.content||""))){for(z=0;z<k.length;z++)if(x=k[z],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(z,1);break t}}x=b.createElement(p),bn(x,p,c),b.head.appendChild(x);break;default:throw Error(r(468,p))}x[Wt]=i,Yt(x),p=x}i.stateNode=p}else _b(b,i.type,i.stateNode);else i.stateNode=yb(b,p,i.memoizedProps);else x!==p?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,p===null?_b(b,i.type,i.stateNode):yb(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Np(i,i.memoizedProps,c.memoizedProps)}break;case 27:$n(s,i),qn(i),p&512&&(en||c===null||mr(c,c.return)),c!==null&&p&4&&Np(i,i.memoizedProps,c.memoizedProps);break;case 5:if($n(s,i),qn(i),p&512&&(en||c===null||mr(c,c.return)),i.flags&32){b=i.stateNode;try{gi(b,"")}catch(je){_t(i,i.return,je)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,Np(i,b,c!==null?c.memoizedProps:b)),p&1024&&(Dp=!0);break;case 6:if($n(s,i),qn(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,c=i.stateNode;try{c.nodeValue=p}catch(je){_t(i,i.return,je)}}break;case 3:if(Qh=null,b=qi,qi=Xh(s.containerInfo),$n(s,i),qi=b,qn(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ko(s.containerInfo)}catch(je){_t(i,i.return,je)}Dp&&(Dp=!1,_0(i));break;case 4:p=qi,qi=Xh(i.stateNode.containerInfo),$n(s,i),qn(i),qi=p;break;case 12:$n(s,i),qn(i);break;case 31:$n(s,i),qn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zh(i,p)));break;case 13:$n(s,i),qn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ih=mn()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zh(i,p)));break;case 22:b=i.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,ae=$r,me=en;if($r=ae||b,en=me||$,$n(s,i),en=me,$r=ae,qn(i),p&8192)e:for(s=i.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||$||$r||en||Ra(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){$=c=s;try{if(x=$.stateNode,b)k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{z=$.stateNode;var be=$.memoizedProps.style,ue=be!=null&&be.hasOwnProperty("display")?be.display:null;z.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(je){_t($,$.return,je)}}}else if(s.tag===6){if(c===null){$=s;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(je){_t($,$.return,je)}}}else if(s.tag===18){if(c===null){$=s;try{var fe=$.stateNode;b?lb(fe,!0):lb($.stateNode,!1)}catch(je){_t($,$.return,je)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=i.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,zh(i,c))));break;case 19:$n(s,i),qn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zh(i,p)));break;case 30:break;case 21:break;default:$n(s,i),qn(i)}}function qn(i){var s=i.flags;if(s&2){try{for(var c,p=i.return;p!==null;){if(c0(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,x=Pp(i);Dh(i,x,b);break;case 5:var k=c.stateNode;c.flags&32&&(gi(k,""),c.flags&=-33);var z=Pp(i);Dh(i,z,k);break;case 3:case 4:var $=c.stateNode.containerInfo,ae=Pp(i);Rp(i,ae,$);break;default:throw Error(r(161))}}catch(me){_t(i,i.return,me)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function _0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;_0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)f0(i,s.alternate,s),s=s.sibling}function Ra(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),Ra(s);break;case 1:mr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&l0(s,s.return,c),Ra(s);break;case 27:ju(s.stateNode);case 26:case 5:mr(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}i=i.sibling}}function Gr(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=i,x=s,k=x.flags;switch(x.tag){case 0:case 11:case 15:Gr(b,x,c),bu(4,x);break;case 1:if(Gr(b,x,c),p=x,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ae){_t(p,p.return,ae)}if(p=x,b=p.updateQueue,b!==null){var z=p.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)Yv($[b],z)}catch(ae){_t(p,p.return,ae)}}c&&k&64&&o0(x),xu(x,x.return);break;case 27:h0(x);case 26:case 5:Gr(b,x,c),c&&p===null&&k&4&&u0(x),xu(x,x.return);break;case 12:Gr(b,x,c);break;case 31:Gr(b,x,c),c&&k&4&&g0(b,x);break;case 13:Gr(b,x,c),c&&k&4&&y0(b,x);break;case 22:x.memoizedState===null&&Gr(b,x,c),xu(x,x.return);break;case 30:break;default:Gr(b,x,c)}s=s.sibling}}function zp(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&ou(c))}function Bp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i))}function Zi(i,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b0(i,s,c,p),s=s.sibling}function b0(i,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(i,s,c,p),b&2048&&bu(9,s);break;case 1:Zi(i,s,c,p);break;case 3:Zi(i,s,c,p),b&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i)));break;case 12:if(b&2048){Zi(i,s,c,p),i=s.stateNode;try{var x=s.memoizedProps,k=x.id,z=x.onPostCommit;typeof z=="function"&&z(k,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){_t(s,s.return,$)}}else Zi(i,s,c,p);break;case 31:Zi(i,s,c,p);break;case 13:Zi(i,s,c,p);break;case 23:break;case 22:x=s.stateNode,k=s.alternate,s.memoizedState!==null?x._visibility&2?Zi(i,s,c,p):wu(i,s):x._visibility&2?Zi(i,s,c,p):(x._visibility|=2,zo(i,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&zp(k,s);break;case 24:Zi(i,s,c,p),b&2048&&Bp(s.alternate,s);break;default:Zi(i,s,c,p)}}function zo(i,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=i,k=s,z=c,$=p,ae=k.flags;switch(k.tag){case 0:case 11:case 15:zo(x,k,z,$,b),bu(8,k);break;case 23:break;case 22:var me=k.stateNode;k.memoizedState!==null?me._visibility&2?zo(x,k,z,$,b):wu(x,k):(me._visibility|=2,zo(x,k,z,$,b)),b&&ae&2048&&zp(k.alternate,k);break;case 24:zo(x,k,z,$,b),b&&ae&2048&&Bp(k.alternate,k);break;default:zo(x,k,z,$,b)}s=s.sibling}}function wu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,p=s,b=p.flags;switch(p.tag){case 22:wu(c,p),b&2048&&zp(p.alternate,p);break;case 24:wu(c,p),b&2048&&Bp(p.alternate,p);break;default:wu(c,p)}s=s.sibling}}var Su=8192;function Bo(i,s,c){if(i.subtreeFlags&Su)for(i=i.child;i!==null;)x0(i,s,c),i=i.sibling}function x0(i,s,c){switch(i.tag){case 26:Bo(i,s,c),i.flags&Su&&i.memoizedState!==null&&wL(c,qi,i.memoizedState,i.memoizedProps);break;case 5:Bo(i,s,c);break;case 3:case 4:var p=qi;qi=Xh(i.stateNode.containerInfo),Bo(i,s,c),qi=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Su,Su=16777216,Bo(i,s,c),Su=p):Bo(i,s,c));break;default:Bo(i,s,c)}}function w0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Cu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];pn=p,C0(p,i)}w0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)S0(i),i=i.sibling}function S0(i){switch(i.tag){case 0:case 11:case 15:Cu(i),i.flags&2048&&Ls(9,i,i.return);break;case 3:Cu(i);break;case 12:Cu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Bh(i)):Cu(i);break;default:Cu(i)}}function Bh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];pn=p,C0(p,i)}w0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),Bh(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Bh(s));break;default:Bh(s)}i=i.sibling}}function C0(i,s){for(;pn!==null;){var c=pn;switch(c.tag){case 0:case 11:case 15:Ls(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:ou(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,pn=p;else e:for(c=i;pn!==null;){p=pn;var b=p.sibling,x=p.return;if(p0(p),p===c){pn=null;break e}if(b!==null){b.return=x,pn=b;break e}pn=x}}}var z2={getCacheForType:function(i){var s=vn(Xt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return vn(Xt).controller.signal}},B2=typeof WeakMap=="function"?WeakMap:Map,ft=0,Et=null,it=null,at=0,vt=0,oi=null,As=!1,Io=!1,Ip=!1,Kr=0,$t=0,ks=0,Da=0,Up=0,li=0,Uo=0,Eu=null,Zn=null,Vp=!1,Ih=0,E0=0,Uh=1/0,Vh=null,js=null,on=0,Os=null,Vo=null,Wr=0,Hp=0,Fp=null,T0=null,Tu=0,$p=null;function ui(){return(ft&2)!==0&&at!==0?at&-at:H.T!==null?Yp():Dl()}function L0(){if(li===0)if((at&536870912)===0||nt){var i=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),li=i}else li=536870912;return i=si.current,i!==null&&(i.flags|=32),li}function Gn(i,s,c){(i===Et&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(Ho(i,0),Ms(i,at,li,!1)),Ar(i,c),((ft&2)===0||i!==Et)&&(i===Et&&((ft&2)===0&&(Da|=c),$t===4&&Ms(i,at,li,!1)),gr(i))}function A0(i,s,c){if((ft&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&i.expiredLanes)===0||ta(i,s),b=p?V2(i,s):Zp(i,s,!0),x=p;do{if(b===0){Io&&!p&&Ms(i,s,0,!1);break}else{if(c=i.current.alternate,x&&!I2(c)){b=Zp(i,s,!1),x=!1;continue}if(b===2){if(x=s,i.errorRecoveryDisabledLanes&x)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var z=i;b=Eu;var $=z.current.memoizedState.isDehydrated;if($&&(Ho(z,k).flags|=256),k=Zp(z,k,!1),k!==2){if(Ip&&!$){z.errorRecoveryDisabledLanes|=x,Da|=x,b=4;break e}x=Zn,Zn=b,x!==null&&(Zn===null?Zn=x:Zn.push.apply(Zn,x))}b=k}if(x=!1,b!==2)continue}}if(b===1){Ho(i,0),Ms(i,s,0,!0);break}e:{switch(p=i,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ms(p,s,li,!As);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Ih+300-mn(),10<b)){if(Ms(p,s,li,!As),oo(p,0,!0)!==0)break e;Wr=s,p.timeoutHandle=sb(k0.bind(null,p,c,Zn,Vh,Vp,s,li,Da,Uo,As,x,"Throttled",-0,0),b);break e}k0(p,c,Zn,Vh,Vp,s,li,Da,Uo,As,x,null,-0,0)}}break}while(!0);gr(i)}function k0(i,s,c,p,b,x,k,z,$,ae,me,be,ue,fe){if(i.timeoutHandle=-1,be=s.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},x0(s,x,be);var je=(x&62914560)===x?Ih-mn():(x&4194048)===x?E0-mn():0;if(je=SL(be,je),je!==null){Wr=x,i.cancelPendingCommit=je(z0.bind(null,i,s,x,c,p,b,k,z,$,me,be,null,ue,fe)),Ms(i,x,k,!ae);return}}z0(i,s,x,c,p,b,k,z,$)}function I2(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],x=b.getSnapshot;b=b.value;try{if(!dn(x(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(i,s,c,p){s&=~Up,s&=~Da,i.suspendedLanes|=s,i.pingedLanes&=~s,p&&(i.warmLanes|=s),p=i.expirationTimes;for(var b=s;0<b;){var x=31-yt(b),k=1<<x;p[x]=-1,b&=~k}c!==0&&Uc(i,c,s)}function Hh(){return(ft&6)===0?(Lu(0),!1):!0}function qp(){if(it!==null){if(vt===0)var i=it.return;else i=it,$i=pr=null,op(i),Mo=null,uu=0,i=it;for(;i!==null;)a0(i.alternate,i),i=i.return;it=null}}function Ho(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,sL(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Wr=0,qp(),Et=i,it=c=Si(i.current,null),at=s,vt=0,oi=null,As=!1,Io=ta(i,s),Ip=!1,Uo=li=Up=Da=ks=$t=0,Zn=Eu=null,Vp=!1,(s&8)!==0&&(s|=s&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=s;0<p;){var b=31-yt(p),x=1<<b;s|=i[b],p&=~x}return Kr=s,Sa(),c}function j0(i,s){Ye=null,H.H=yu,s===Oo||s===yh?(s=Zv(),vt=3):s===Wf?(s=Zv(),vt=4):vt=s===Sp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,it===null&&($t=1,Oh(i,d(s,i.current)))}function O0(){var i=si.current;return i===null?!0:(at&4194048)===at?Ci===null:(at&62914560)===at||(at&536870912)!==0?i===Ci:!1}function M0(){var i=H.H;return H.H=yu,i===null?yu:i}function N0(){var i=H.A;return H.A=z2,i}function Fh(){$t=4,As||(at&4194048)!==at&&si.current!==null||(Io=!0),(ks&134217727)===0&&(Da&134217727)===0||Et===null||Ms(Et,at,li,!1)}function Zp(i,s,c){var p=ft;ft|=2;var b=M0(),x=N0();(Et!==i||at!==s)&&(Vh=null,Ho(i,s)),s=!1;var k=$t;e:do try{if(vt!==0&&it!==null){var z=it,$=oi;switch(vt){case 8:qp(),k=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(s=!0);var ae=vt;if(vt=0,oi=null,Fo(i,z,$,ae),c&&Io){k=0;break e}break;default:ae=vt,vt=0,oi=null,Fo(i,z,$,ae)}}U2(),k=$t;break}catch(me){j0(i,me)}while(!0);return s&&i.shellSuspendCounter++,$i=pr=null,ft=p,H.H=b,H.A=x,it===null&&(Et=null,at=0,Sa()),k}function U2(){for(;it!==null;)P0(it)}function V2(i,s){var c=ft;ft|=2;var p=M0(),b=N0();Et!==i||at!==s?(Vh=null,Uh=mn()+500,Ho(i,s)):Io=ta(i,s);e:do try{if(vt!==0&&it!==null){s=it;var x=oi;t:switch(vt){case 1:vt=0,oi=null,Fo(i,s,x,1);break;case 2:case 9:if($v(x)){vt=0,oi=null,R0(s);break}s=function(){vt!==2&&vt!==9||Et!==i||(vt=7),gr(i)},x.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:$v(x)?(vt=0,oi=null,R0(s)):(vt=0,oi=null,Fo(i,s,x,7));break;case 5:var k=null;switch(it.tag){case 26:k=it.memoizedState;case 5:case 27:var z=it;if(k?bb(k):z.stateNode.complete){vt=0,oi=null;var $=z.sibling;if($!==null)it=$;else{var ae=z.return;ae!==null?(it=ae,$h(ae)):it=null}break t}}vt=0,oi=null,Fo(i,s,x,5);break;case 6:vt=0,oi=null,Fo(i,s,x,6);break;case 8:qp(),$t=6;break e;default:throw Error(r(462))}}H2();break}catch(me){j0(i,me)}while(!0);return $i=pr=null,H.H=p,H.A=b,ft=c,it!==null?0:(Et=null,at=0,Sa(),$t)}function H2(){for(;it!==null&&!so();)P0(it)}function P0(i){var s=r0(i.alternate,i,Kr);i.memoizedProps=i.pendingProps,s===null?$h(i):it=s}function R0(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=J_(c,s,s.pendingProps,s.type,void 0,at);break;case 11:s=J_(c,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:op(s);default:a0(c,s),s=it=nu(s,Kr),s=r0(c,s,Kr)}i.memoizedProps=i.pendingProps,s===null?$h(i):it=s}function Fo(i,s,c,p){$i=pr=null,op(s),Mo=null,uu=0;var b=s.return;try{if(j2(i,b,s,c,at)){$t=1,Oh(i,d(c,i.current)),it=null;return}}catch(x){if(b!==null)throw it=b,x;$t=1,Oh(i,d(c,i.current)),it=null;return}s.flags&32768?(nt||p===1?i=!0:Io||(at&536870912)!==0?i=!1:(As=i=!0,(p===2||p===9||p===3||p===6)&&(p=si.current,p!==null&&p.tag===13&&(p.flags|=16384))),D0(s,i)):$h(s)}function $h(i){var s=i;do{if((s.flags&32768)!==0){D0(s,As);return}i=s.return;var c=N2(s.alternate,s,Kr);if(c!==null){it=c;return}if(s=s.sibling,s!==null){it=s;return}it=s=i}while(s!==null);$t===0&&($t=5)}function D0(i,s){do{var c=P2(i.alternate,i);if(c!==null){c.flags&=32767,it=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){it=i;return}it=i=c}while(i!==null);$t=6,it=null}function z0(i,s,c,p,b,x,k,z,$){i.cancelPendingCommit=null;do qh();while(on!==0);if((ft&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Co,Af(i,c,x,k,z,$),i===Et&&(it=Et=null,at=0),Vo=s,Os=i,Wr=c,Hp=x,Fp=b,T0=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Z2(Ie,function(){return H0(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=H.T,H.T=null,b=W.p,W.p=2,k=ft,ft|=4;try{R2(i,s,c)}finally{ft=k,W.p=b,H.T=p}}on=1,B0(),I0(),U0()}}function B0(){if(on===1){on=0;var i=Os,s=Vo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var p=W.p;W.p=2;var b=ft;ft|=4;try{v0(s,i);var x=rm,k=va(i.containerInfo),z=x.focusedElem,$=x.selectionRange;if(k!==z&&z&&z.ownerDocument&&bo(z.ownerDocument.documentElement,z)){if($!==null&&or(z)){var ae=$.start,me=$.end;if(me===void 0&&(me=ae),"selectionStart"in z)z.selectionStart=ae,z.selectionEnd=Math.min(me,z.value.length);else{var be=z.ownerDocument||document,ue=be&&be.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),je=z.textContent.length,Ue=Math.min($.start,je),St=$.end===void 0?Ue:Math.min($.end,je);!fe.extend&&Ue>St&&(k=St,St=Ue,Ue=k);var X=ya(z,Ue),G=ya(z,St);if(X&&G&&(fe.rangeCount!==1||fe.anchorNode!==X.node||fe.anchorOffset!==X.offset||fe.focusNode!==G.node||fe.focusOffset!==G.offset)){var re=be.createRange();re.setStart(X.node,X.offset),fe.removeAllRanges(),Ue>St?(fe.addRange(re),fe.extend(G.node,G.offset)):(re.setEnd(G.node,G.offset),fe.addRange(re))}}}}for(be=[],fe=z;fe=fe.parentNode;)fe.nodeType===1&&be.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<be.length;z++){var ye=be[z];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}id=!!im,rm=im=null}finally{ft=b,W.p=p,H.T=c}}i.current=s,on=2}}function I0(){if(on===2){on=0;var i=Os,s=Vo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var p=W.p;W.p=2;var b=ft;ft|=4;try{f0(i,s.alternate,s)}finally{ft=b,W.p=p,H.T=c}}on=3}}function U0(){if(on===4||on===3){on=0,ao();var i=Os,s=Vo,c=Wr,p=T0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,Vo=Os=null,V0(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(js=null),Ne(c),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(cn,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=H.T,b=W.p,W.p=2,H.T=null;try{for(var x=i.onRecoverableError,k=0;k<p.length;k++){var z=p[k];x(z.value,{componentStack:z.stack})}}finally{H.T=s,W.p=b}}(Wr&3)!==0&&qh(),gr(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===$p?Tu++:(Tu=0,$p=i):Tu=0,Lu(0)}}function V0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ou(s)))}function qh(){return B0(),I0(),U0(),H0()}function H0(){if(on!==5)return!1;var i=Os,s=Hp;Hp=0;var c=Ne(Wr),p=H.T,b=W.p;try{W.p=32>c?32:c,H.T=null,c=Fp,Fp=null;var x=Os,k=Wr;if(on=0,Vo=Os=null,Wr=0,(ft&6)!==0)throw Error(r(331));var z=ft;if(ft|=4,S0(x.current),b0(x,x.current,k,c),ft=z,Lu(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(cn,x)}catch{}return!0}finally{W.p=b,H.T=p,V0(i,s)}}function F0(i,s,c){s=d(c,s),s=wp(i.stateNode,s,2),i=Cs(i,s,2),i!==null&&(Ar(i,2),gr(i))}function _t(i,s,c){if(i.tag===3)F0(i,i,c);else for(;s!==null;){if(s.tag===3){F0(s,i,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(js===null||!js.has(p))){i=d(c,i),c=$_(2),p=Cs(s,c,2),p!==null&&(q_(c,p,s,i),Ar(p,2),gr(p));break}}s=s.return}}function Gp(i,s,c){var p=i.pingCache;if(p===null){p=i.pingCache=new B2;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(Ip=!0,b.add(c),i=F2.bind(null,i,s,c),s.then(i,i))}function F2(i,s,c){var p=i.pingCache;p!==null&&p.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Et===i&&(at&c)===c&&($t===4||$t===3&&(at&62914560)===at&&300>mn()-Ih?(ft&2)===0&&Ho(i,0):Up|=c,Uo===at&&(Uo=0)),gr(i)}function $0(i,s){s===0&&(s=Ic()),i=wi(i,s),i!==null&&(Ar(i,s),gr(i))}function $2(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),$0(i,c)}function q2(i,s){var c=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),$0(i,c)}function Z2(i,s){return Er(i,s)}var Zh=null,$o=null,Kp=!1,Gh=!1,Wp=!1,Ns=0;function gr(i){i!==$o&&i.next===null&&($o===null?Zh=$o=i:$o=$o.next=i),Gh=!0,Kp||(Kp=!0,K2())}function Lu(i,s){if(!Wp&&Gh){Wp=!0;do for(var c=!1,p=Zh;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var x=0;else{var k=p.suspendedLanes,z=p.pingedLanes;x=(1<<31-yt(42|i)+1)-1,x&=b&~(k&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,K0(p,x))}else x=at,x=oo(p,p===Et?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||ta(p,x)||(c=!0,K0(p,x));p=p.next}while(c);Wp=!1}}function G2(){q0()}function q0(){Gh=Kp=!1;var i=0;Ns!==0&&rL()&&(i=Ns);for(var s=mn(),c=null,p=Zh;p!==null;){var b=p.next,x=Z0(p,s);x===0?(p.next=null,c===null?Zh=b:c.next=b,b===null&&($o=c)):(c=p,(i!==0||(x&3)!==0)&&(Gh=!0)),p=b}on!==0&&on!==5||Lu(i),Ns!==0&&(Ns=0)}function Z0(i,s){for(var c=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var k=31-yt(x),z=1<<k,$=b[k];$===-1?((z&c)===0||(z&p)!==0)&&(b[k]=Lf(z,s)):$<=s&&(i.expiredLanes|=z),x&=~z}if(s=Et,c=at,c=oo(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,c===0||i===s&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Tr(p),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ta(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(p!==null&&Tr(p),Ne(c)){case 2:case 8:c=Ce;break;case 32:c=Ie;break;case 268435456:c=lt;break;default:c=Ie}return p=G0.bind(null,i),c=Er(c,p),i.callbackPriority=s,i.callbackNode=c,s}return p!==null&&p!==null&&Tr(p),i.callbackPriority=2,i.callbackNode=null,2}function G0(i,s){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(qh()&&i.callbackNode!==c)return null;var p=at;return p=oo(i,i===Et?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(A0(i,p,s),Z0(i,mn()),i.callbackNode!=null&&i.callbackNode===c?G0.bind(null,i):null)}function K0(i,s){if(qh())return null;A0(i,s,!0)}function K2(){aL(function(){(ft&6)!==0?Er(ge,G2):q0()})}function Yp(){if(Ns===0){var i=ko;i===0&&(i=Js,Js<<=1,(Js&261888)===0&&(Js=256)),Ns=i}return Ns}function W0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ls(""+i)}function Y0(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function W2(i,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var x=W0((b[hn]||null).action),k=p.submitter;k&&(s=(s=k[hn]||null)?W0(s.formAction):k.getAttribute("formAction"),s!==null&&(x=s,k=null));var z=new fo("action","action",null,p,b);i.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ns!==0){var $=k?Y0(b,k):new FormData(b);gp(c,{pending:!0,data:$,method:b.method,action:x},null,$)}}else typeof x=="function"&&(z.preventDefault(),$=k?Y0(b,k):new FormData(b),gp(c,{pending:!0,data:$,method:b.method,action:x},x,$))},currentTarget:b}]})}}for(var Xp=0;Xp<cr.length;Xp++){var Jp=cr[Xp],Y2=Jp.toLowerCase(),X2=Jp[0].toUpperCase()+Jp.slice(1);Un(Y2,"on"+X2)}Un(ba,"onAnimationEnd"),Un(hh,"onAnimationIteration"),Un(xa,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Vf,"onTransitionRun"),Un(dh,"onTransitionStart"),Un(Hf,"onTransitionCancel"),Un(_s,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function X0(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],b=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var k=p.length-1;0<=k;k--){var z=p[k],$=z.instance,ae=z.currentTarget;if(z=z.listener,$!==x&&b.isPropagationStopped())break e;x=z,b.currentTarget=ae;try{x(b)}catch(me){wa(me)}b.currentTarget=null,x=$}else for(k=0;k<p.length;k++){if(z=p[k],$=z.instance,ae=z.currentTarget,z=z.listener,$!==x&&b.isPropagationStopped())break e;x=z,b.currentTarget=ae;try{x(b)}catch(me){wa(me)}b.currentTarget=null,x=$}}}}function rt(i,s){var c=s[tr];c===void 0&&(c=s[tr]=new Set);var p=i+"__bubble";c.has(p)||(J0(s,i,2,!1),c.add(p))}function Qp(i,s,c){var p=0;s&&(p|=4),J0(c,i,p,s)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function em(i){if(!i[Kh]){i[Kh]=!0,qc.forEach(function(c){c!=="selectionchange"&&(J2.has(c)||Qp(c,!1,i),Qp(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Kh]||(s[Kh]=!0,Qp("selectionchange",!1,s))}}function J0(i,s,c,p){switch(Lb(s)){case 2:var b=TL;break;case 8:b=LL;break;default:b=mm}c=b.bind(null,s,c,i),b=void 0,!la||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(s,c,{capture:!0,passive:b}):i.addEventListener(s,c,!0):b!==void 0?i.addEventListener(s,c,{passive:b}):i.addEventListener(s,c,!1)}function tm(i,s,c,p,b){var x=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var z=p.stateNode.containerInfo;if(z===b)break;if(k===4)for(k=p.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;z!==null;){if(k=jr(z),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){p=x=k;continue e}z=z.parentNode}}p=p.return}ql(function(){var ae=x,me=oa(c),be=[];e:{var ue=fh.get(i);if(ue!==void 0){var fe=fo,je=i;switch(i){case"keypress":if(ua(c)===0)break e;case"keydown":case"keyup":fe=Qc;break;case"focusin":je="focus",fe=Kl;break;case"focusout":je="blur",fe=Kl;break;case"beforeblur":case"afterblur":fe=Kl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Rf;break;case ba:case hh:case xa:fe=Wl;break;case _s:fe=nh;break;case"scroll":case"scrollend":fe=st;break;case"wheel":fe=Rr;break;case"copy":case"cut":case"paste":fe=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=eh;break;case"toggle":case"beforetoggle":fe=da}var Ue=(s&4)!==0,St=!Ue&&(i==="scroll"||i==="scrollend"),X=Ue?ue!==null?ue+"Capture":null:ue;Ue=[];for(var G=ae,re;G!==null;){var ye=G;if(re=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||re===null||X===null||(ye=Nr(G,X),ye!=null&&Ue.push(ku(G,ye,re))),St)break;G=G.return}0<Ue.length&&(ue=new fe(ue,je,null,c,me),be.push({event:ue,listeners:Ue}))}}if((s&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ue&&c!==ho&&(je=c.relatedTarget||c.fromElement)&&(jr(je)||je[kr]))break e;if((fe||ue)&&(ue=me.window===me?me:(ue=me.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(je=c.relatedTarget||c.toElement,fe=ae,je=je?jr(je):null,je!==null&&(St=o(je),Ue=je.tag,je!==St||Ue!==5&&Ue!==27&&Ue!==6)&&(je=null)):(fe=null,je=ae),fe!==je)){if(Ue=Kc,ye="onMouseLeave",X="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=eh,ye="onPointerLeave",X="onPointerEnter",G="pointer"),St=fe==null?ue:nr(fe),re=je==null?ue:nr(je),ue=new Ue(ye,G+"leave",fe,c,me),ue.target=St,ue.relatedTarget=re,ye=null,jr(me)===ae&&(Ue=new Ue(X,G+"enter",je,c,me),Ue.target=re,Ue.relatedTarget=St,ye=Ue),St=ye,fe&&je)t:{for(Ue=Q2,X=fe,G=je,re=0,ye=X;ye;ye=Ue(ye))re++;ye=0;for(var ze=G;ze;ze=Ue(ze))ye++;for(;0<re-ye;)X=Ue(X),re--;for(;0<ye-re;)G=Ue(G),ye--;for(;re--;){if(X===G||G!==null&&X===G.alternate){Ue=X;break t}X=Ue(X),G=Ue(G)}Ue=null}else Ue=null;fe!==null&&Q0(be,ue,fe,Ue,!1),je!==null&&St!==null&&Q0(be,St,je,Ue,!0)}}e:{if(ue=ae?nr(ae):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var ht=ga;else if(_i(ue))if(ah)ht=Uf;else{ht=If;var Oe=Vi}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ae&&aa(ae.elementType)&&(ht=ga):ht=ms;if(ht&&(ht=ht(i,ae))){sh(be,ht,c,me);break e}Oe&&Oe(i,ue,ae),i==="focusout"&&ae&&ue.type==="number"&&ae.memoizedProps.value!=null&&Bi(ue,"number",ue.value)}switch(Oe=ae?nr(ae):window,i){case"focusin":(_i(Oe)||Oe.contentEditable==="true")&&(lr=Oe,wo=ae,_a=null);break;case"focusout":_a=wo=lr=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,uh(be,c,me);break;case"selectionchange":if(xo)break;case"keydown":case"keyup":uh(be,c,me)}var Je;if(mo)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ds?rh(i,c)&&(ot="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(go&&c.locale!=="ko"&&(ds||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ds&&(Je=sr()):(yi=me,Pr="value"in yi?yi.value:yi.textContent,ds=!0)),Oe=Wh(ae,ot),0<Oe.length&&(ot=new Yl(ot,i,null,c,me),be.push({event:ot,listeners:Oe}),Je?ot.data=Je:(Je=eu(c),Je!==null&&(ot.data=Je)))),(Je=zf?ri(i,c):fs(i,c))&&(ot=Wh(ae,"onBeforeInput"),0<ot.length&&(Oe=new Yl("onBeforeInput","beforeinput",null,c,me),be.push({event:Oe,listeners:ot}),Oe.data=Je)),W2(be,i,ae,c,me)}X0(be,s)})}function ku(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Wh(i,s){for(var c=s+"Capture",p=[];i!==null;){var b=i,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Nr(i,c),b!=null&&p.unshift(ku(i,b,x)),b=Nr(i,s),b!=null&&p.push(ku(i,b,x))),i.tag===3)return p;i=i.return}return[]}function Q2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q0(i,s,c,p,b){for(var x=s._reactName,k=[];c!==null&&c!==p;){var z=c,$=z.alternate,ae=z.stateNode;if(z=z.tag,$!==null&&$===p)break;z!==5&&z!==26&&z!==27||ae===null||($=ae,b?(ae=Nr(c,x),ae!=null&&k.unshift(ku(c,ae,$))):b||(ae=Nr(c,x),ae!=null&&k.push(ku(c,ae,$)))),c=c.return}k.length!==0&&i.push({event:s,listeners:k})}var eL=/\r\n?/g,tL=/\u0000|\uFFFD/g;function eb(i){return(typeof i=="string"?i:""+i).replace(eL,`
`).replace(tL,"")}function tb(i,s){return s=eb(s),eb(i)===s}function wt(i,s,c,p,b,x){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||gi(i,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&gi(i,""+p);break;case"className":bt(i,"class",p);break;case"tabIndex":bt(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":bt(i,c,p);break;case"style":uo(i,p,x);break;case"data":if(s!=="object"){bt(i,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=ls(""+p),i.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&wt(i,s,"name",b.name,b,null),wt(i,s,"formEncType",b.formEncType,b,null),wt(i,s,"formMethod",b.formMethod,b,null),wt(i,s,"formTarget",b.formTarget,b,null)):(wt(i,s,"encType",b.encType,b,null),wt(i,s,"method",b.method,b,null),wt(i,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=ls(""+p),i.setAttribute(c,p);break;case"onClick":p!=null&&(i.onclick=Bn);break;case"onScroll":p!=null&&rt("scroll",i);break;case"onScrollEnd":p!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}c=ls(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""+p):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":p===!0?i.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,p):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(c,p):i.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(c):i.setAttribute(c,p);break;case"popover":rt("beforetoggle",i),rt("toggle",i),tt(i,"popover",p);break;case"xlinkActuate":zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":zn(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":zn(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":zn(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":zn(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":tt(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=co.get(c)||c,tt(i,c,p))}}function nm(i,s,c,p,b,x){switch(c){case"style":uo(i,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof p=="string"?gi(i,p):(typeof p=="number"||typeof p=="bigint")&&gi(i,""+p);break;case"onScroll":p!=null&&rt("scroll",i);break;case"onScrollEnd":p!=null&&rt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),x=i[hn]||null,x=x!=null?x[c]:null,typeof x=="function"&&i.removeEventListener(s,x,b),typeof p=="function")){typeof x!="function"&&x!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,p,b);break e}c in i?i[c]=p:p===!0?i.setAttribute(c,""):tt(i,c,p)}}}function bn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var p=!1,b=!1,x;for(x in c)if(c.hasOwnProperty(x)){var k=c[x];if(k!=null)switch(x){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,x,k,c,null)}}b&&wt(i,s,"srcSet",c.srcSet,c,null),p&&wt(i,s,"src",c.src,c,null);return;case"input":rt("invalid",i);var z=x=k=b=null,$=null,ae=null;for(p in c)if(c.hasOwnProperty(p)){var me=c[p];if(me!=null)switch(p){case"name":b=me;break;case"type":k=me;break;case"checked":$=me;break;case"defaultChecked":ae=me;break;case"value":x=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,s));break;default:wt(i,s,p,me,c,null)}}sa(i,x,z,$,ae,k,b,!1);return;case"select":rt("invalid",i),p=k=x=null;for(b in c)if(c.hasOwnProperty(b)&&(z=c[b],z!=null))switch(b){case"value":x=z;break;case"defaultValue":k=z;break;case"multiple":p=z;default:wt(i,s,b,z,c,null)}s=x,c=k,i.multiple=!!p,s!=null?Ct(i,!!p,s,!1):c!=null&&Ct(i,!!p,c,!0);return;case"textarea":rt("invalid",i),x=b=p=null;for(k in c)if(c.hasOwnProperty(k)&&(z=c[k],z!=null))switch(k){case"value":p=z;break;case"defaultValue":b=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:wt(i,s,k,z,c,null)}as(i,p,b,x);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(p=c[$],p!=null))switch($){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:wt(i,s,$,p,c,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(p=0;p<Au.length;p++)rt(Au[p],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in c)if(c.hasOwnProperty(ae)&&(p=c[ae],p!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,ae,p,c,null)}return;default:if(aa(s)){for(me in c)c.hasOwnProperty(me)&&(p=c[me],p!==void 0&&nm(i,s,me,p,c,void 0));return}}for(z in c)c.hasOwnProperty(z)&&(p=c[z],p!=null&&wt(i,s,z,p,c,null))}function nL(i,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,k=null,z=null,$=null,ae=null,me=null;for(fe in c){var be=c[fe];if(c.hasOwnProperty(fe)&&be!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":$=be;default:p.hasOwnProperty(fe)||wt(i,s,fe,null,p,be)}}for(var ue in p){var fe=p[ue];if(be=c[ue],p.hasOwnProperty(ue)&&(fe!=null||be!=null))switch(ue){case"type":x=fe;break;case"name":b=fe;break;case"checked":ae=fe;break;case"defaultChecked":me=fe;break;case"value":k=fe;break;case"defaultValue":z=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:fe!==be&&wt(i,s,ue,fe,p,be)}}Hl(i,k,z,$,ae,me,x,b);return;case"select":fe=k=z=ue=null;for(x in c)if($=c[x],c.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":fe=$;default:p.hasOwnProperty(x)||wt(i,s,x,null,p,$)}for(b in p)if(x=p[b],$=c[b],p.hasOwnProperty(b)&&(x!=null||$!=null))switch(b){case"value":ue=x;break;case"defaultValue":z=x;break;case"multiple":k=x;default:x!==$&&wt(i,s,b,x,p,$)}s=z,c=k,p=fe,ue!=null?Ct(i,!!c,ue,!1):!!p!=!!c&&(s!=null?Ct(i,!!c,s,!0):Ct(i,!!c,c?[]:"",!1));return;case"textarea":fe=ue=null;for(z in c)if(b=c[z],c.hasOwnProperty(z)&&b!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:wt(i,s,z,null,p,b)}for(k in p)if(b=p[k],x=c[k],p.hasOwnProperty(k)&&(b!=null||x!=null))switch(k){case"value":ue=b;break;case"defaultValue":fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&wt(i,s,k,b,p,x)}rr(i,ue,fe);return;case"option":for(var je in c)if(ue=c[je],c.hasOwnProperty(je)&&ue!=null&&!p.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:wt(i,s,je,null,p,ue)}for($ in p)if(ue=p[$],fe=c[$],p.hasOwnProperty($)&&ue!==fe&&(ue!=null||fe!=null))switch($){case"selected":i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:wt(i,s,$,ue,p,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in c)ue=c[Ue],c.hasOwnProperty(Ue)&&ue!=null&&!p.hasOwnProperty(Ue)&&wt(i,s,Ue,null,p,ue);for(ae in p)if(ue=p[ae],fe=c[ae],p.hasOwnProperty(ae)&&ue!==fe&&(ue!=null||fe!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:wt(i,s,ae,ue,p,fe)}return;default:if(aa(s)){for(var St in c)ue=c[St],c.hasOwnProperty(St)&&ue!==void 0&&!p.hasOwnProperty(St)&&nm(i,s,St,void 0,p,ue);for(me in p)ue=p[me],fe=c[me],!p.hasOwnProperty(me)||ue===fe||ue===void 0&&fe===void 0||nm(i,s,me,ue,p,fe);return}}for(var X in c)ue=c[X],c.hasOwnProperty(X)&&ue!=null&&!p.hasOwnProperty(X)&&wt(i,s,X,null,p,ue);for(be in p)ue=p[be],fe=c[be],!p.hasOwnProperty(be)||ue===fe||ue==null&&fe==null||wt(i,s,be,ue,p,fe)}function nb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],x=b.transferSize,k=b.initiatorType,z=b.duration;if(x&&z&&nb(k)){for(k=0,z=b.responseEnd,p+=1;p<c.length;p++){var $=c[p],ae=$.startTime;if(ae>z)break;var me=$.transferSize,be=$.initiatorType;me&&nb(be)&&($=$.responseEnd,k+=me*($<z?1:(z-ae)/($-ae)))}if(--p,s+=8*(x+k)/(b.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var im=null,rm=null;function Yh(i){return i.nodeType===9?i:i.ownerDocument}function ib(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function sm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var am=null;function rL(){var i=window.event;return i&&i.type==="popstate"?i===am?!1:(am=i,!0):(am=null,!1)}var sb=typeof setTimeout=="function"?setTimeout:void 0,sL=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,aL=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(i){return ab.resolve(null).then(i).catch(oL)}:sb;function oL(i){setTimeout(function(){throw i})}function Ps(i){return i==="head"}function ob(i,s){var c=s,p=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){i.removeChild(b),Ko(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")ju(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,ju(c);for(var x=c.firstChild;x;){var k=x.nextSibling,z=x.nodeName;x[na]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=k}}else c==="body"&&ju(i.ownerDocument.body);c=b}while(c);Ko(s)}function lb(i,s){var c=i;i=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=p}while(c)}function om(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":om(c),Bl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function lL(i,s,c,p){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[na])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ei(i.nextSibling),i===null)break}return null}function uL(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ei(i.nextSibling),i===null))return null;return i}function ub(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ei(i.nextSibling),i===null))return null;return i}function lm(i){return i.data==="$?"||i.data==="$~"}function um(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function cL(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var cm=null;function cb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return Ei(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function hb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function db(i,s,c){switch(s=Yh(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ju(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Bl(i)}var Ti=new Map,fb=new Set;function Xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yr=W.d;W.d={f:hL,r:dL,D:fL,C:pL,L:mL,m:gL,X:vL,S:yL,M:_L};function hL(){var i=Yr.f(),s=Hh();return i||s}function dL(i){var s=is(i);s!==null&&s.tag===5&&s.type==="form"?j_(s):Yr.r(i)}var qo=typeof document>"u"?null:document;function pb(i,s,c){var p=qo;if(p&&typeof s=="string"&&s){var b=kt(s);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),fb.has(b)||(fb.add(b),i={rel:i,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),bn(s,"link",i),Yt(s),p.head.appendChild(s)))}}function fL(i){Yr.D(i),pb("dns-prefetch",i,null)}function pL(i,s){Yr.C(i,s),pb("preconnect",i,s)}function mL(i,s,c){Yr.L(i,s,c);var p=qo;if(p&&i&&s){var b='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+kt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+kt(c.imageSizes)+'"]')):b+='[href="'+kt(i)+'"]';var x=b;switch(s){case"style":x=Zo(i);break;case"script":x=Go(i)}Ti.has(x)||(i=v({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Ti.set(x,i),p.querySelector(b)!==null||s==="style"&&p.querySelector(Ou(x))||s==="script"&&p.querySelector(Mu(x))||(s=p.createElement("link"),bn(s,"link",i),Yt(s),p.head.appendChild(s)))}}function gL(i,s){Yr.m(i,s);var c=qo;if(c&&i){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+kt(p)+'"][href="'+kt(i)+'"]',x=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Go(i)}if(!Ti.has(x)&&(i=v({rel:"modulepreload",href:i},s),Ti.set(x,i),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Mu(x)))return}p=c.createElement("link"),bn(p,"link",i),Yt(p),c.head.appendChild(p)}}}function yL(i,s,c){Yr.S(i,s,c);var p=qo;if(p&&i){var b=rs(p).hoistableStyles,x=Zo(i);s=s||"default";var k=b.get(x);if(!k){var z={loading:0,preload:null};if(k=p.querySelector(Ou(x)))z.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Ti.get(x))&&hm(i,c);var $=k=p.createElement("link");Yt($),bn($,"link",i),$._p=new Promise(function(ae,me){$.onload=ae,$.onerror=me}),$.addEventListener("load",function(){z.loading|=1}),$.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Jh(k,s,p)}k={type:"stylesheet",instance:k,count:1,state:z},b.set(x,k)}}}function vL(i,s){Yr.X(i,s);var c=qo;if(c&&i){var p=rs(c).hoistableScripts,b=Go(i),x=p.get(b);x||(x=c.querySelector(Mu(b)),x||(i=v({src:i,async:!0},s),(s=Ti.get(b))&&dm(i,s),x=c.createElement("script"),Yt(x),bn(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(b,x))}}function _L(i,s){Yr.M(i,s);var c=qo;if(c&&i){var p=rs(c).hoistableScripts,b=Go(i),x=p.get(b);x||(x=c.querySelector(Mu(b)),x||(i=v({src:i,async:!0,type:"module"},s),(s=Ti.get(b))&&dm(i,s),x=c.createElement("script"),Yt(x),bn(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(b,x))}}function mb(i,s,c,p){var b=(b=de.current)?Xh(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Zo(c.href),c=rs(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Zo(c.href);var x=rs(b).hoistableStyles,k=x.get(i);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,k),(x=b.querySelector(Ou(i)))&&!x._p&&(k.instance=x,k.state.loading=5),Ti.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ti.set(i,c),x||bL(b,i,c,k.state))),s&&p===null)throw Error(r(528,""));return k}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Go(c),c=rs(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zo(i){return'href="'+kt(i)+'"'}function Ou(i){return'link[rel="stylesheet"]['+i+"]"}function gb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function bL(i,s,c,p){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=i.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),bn(s,"link",c),Yt(s),i.head.appendChild(s))}function Go(i){return'[src="'+kt(i)+'"]'}function Mu(i){return"script[async]"+i}function yb(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=i.querySelector('style[data-href~="'+kt(c.href)+'"]');if(p)return s.instance=p,Yt(p),p;var b=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Yt(p),bn(p,"style",b),Jh(p,c.precedence,i),s.instance=p;case"stylesheet":b=Zo(c.href);var x=i.querySelector(Ou(b));if(x)return s.state.loading|=4,s.instance=x,Yt(x),x;p=gb(c),(b=Ti.get(b))&&hm(p,b),x=(i.ownerDocument||i).createElement("link"),Yt(x);var k=x;return k._p=new Promise(function(z,$){k.onload=z,k.onerror=$}),bn(x,"link",p),s.state.loading|=4,Jh(x,c.precedence,i),s.instance=x;case"script":return x=Go(c.src),(b=i.querySelector(Mu(x)))?(s.instance=b,Yt(b),b):(p=c,(b=Ti.get(x))&&(p=v({},c),dm(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),Yt(b),bn(b,"link",p),i.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Jh(p,c.precedence,i));return s.instance}function Jh(i,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,x=b,k=0;k<p.length;k++){var z=p[k];if(z.dataset.precedence===s)x=z;else if(x!==b)break}x?x.parentNode.insertBefore(i,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function hm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Qh=null;function vb(i,s,c){if(Qh===null){var p=new Map,b=Qh=new Map;b.set(c,p)}else b=Qh,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(i))return p;for(p.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var x=c[b];if(!(x[na]||x[Wt]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var k=x.getAttribute(s)||"";k=i+k;var z=p.get(k);z?z.push(x):p.set(k,[x])}}return p}function _b(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function xL(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function bb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function wL(i,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Zo(p.href),x=s.querySelector(Ou(b));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ed.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=x,Yt(x);return}x=s.ownerDocument||s,p=gb(p),(b=Ti.get(b))&&hm(p,b),x=x.createElement("link"),Yt(x);var k=x;k._p=new Promise(function(z,$){k.onload=z,k.onerror=$}),bn(x,"link",p),c.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=ed.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var fm=0;function SL(i,s){return i.stylesheets&&i.count===0&&nd(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var p=setTimeout(function(){if(i.stylesheets&&nd(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+s);0<i.imgBytes&&fm===0&&(fm=62500*iL());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nd(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>fm?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var td=null;function nd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,td=new Map,s.forEach(CL,i),td=null,ed.call(i))}function CL(i,s){if(!(s.state.loading&4)){var c=td.get(i);if(c)var p=c.get(null);else{c=new Map,td.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var k=b[x];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),p=k)}p&&c.set(null,p)}b=s.instance,k=b.getAttribute("data-precedence"),x=c.get(k)||p,x===p&&c.set(null,b),c.set(k,b),this.count++,p=ed.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),x?x.parentNode.insertBefore(b,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),s.state.loading|=4}}var Nu={$$typeof:N,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function EL(i,s,c,p,b,x,k,z,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function xb(i,s,c,p,b,x,k,z,$,ae,me,be){return i=new EL(i,s,c,k,$,ae,me,be,z),s=1,x===!0&&(s|=24),x=Cn(3,null,null,s),i.current=x,x.stateNode=i,s=Zf(),s.refCount++,i.pooledCache=s,s.refCount++,x.memoizedState={element:p,isDehydrated:c,cache:s},Yf(x),i}function wb(i){return i?(i=Dr,i):Dr}function Sb(i,s,c,p,b,x){b=wb(b),p.context===null?p.context=b:p.pendingContext=b,p=Ss(s),p.payload={element:c},x=x===void 0?null:x,x!==null&&(p.callback=x),c=Cs(i,p,s),c!==null&&(Gn(c,i,s),hu(c,i,s))}function Cb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function pm(i,s){Cb(i,s),(i=i.alternate)&&Cb(i,s)}function Eb(i){if(i.tag===13||i.tag===31){var s=wi(i,67108864);s!==null&&Gn(s,i,67108864),pm(i,67108864)}}function Tb(i){if(i.tag===13||i.tag===31){var s=ui();s=Dn(s);var c=wi(i,s);c!==null&&Gn(c,i,s),pm(i,s)}}var id=!0;function TL(i,s,c,p){var b=H.T;H.T=null;var x=W.p;try{W.p=2,mm(i,s,c,p)}finally{W.p=x,H.T=b}}function LL(i,s,c,p){var b=H.T;H.T=null;var x=W.p;try{W.p=8,mm(i,s,c,p)}finally{W.p=x,H.T=b}}function mm(i,s,c,p){if(id){var b=gm(p);if(b===null)tm(i,s,p,rd,c),Ab(i,p);else if(kL(b,i,s,c,p))p.stopPropagation();else if(Ab(i,p),s&4&&-1<AL.indexOf(i)){for(;b!==null;){var x=is(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var k=Lr(x.pendingLanes);if(k!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;k;){var $=1<<31-yt(k);z.entanglements[1]|=$,k&=~$}gr(x),(ft&6)===0&&(Uh=mn()+500,Lu(0))}}break;case 31:case 13:z=wi(x,2),z!==null&&Gn(z,x,2),Hh(),pm(x,2)}if(x=gm(p),x===null&&tm(i,s,p,rd,c),x===b)break;b=x}b!==null&&p.stopPropagation()}else tm(i,s,p,null,c)}}function gm(i){return i=oa(i),ym(i)}var rd=null;function ym(i){if(rd=null,i=jr(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=u(s),i!==null)return i;i=null}else if(c===31){if(i=h(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return rd=i,null}function Lb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pl()){case ge:return 2;case Ce:return 8;case Ie:case et:return 32;case lt:return 268435456;default:return 32}default:return 32}}var vm=!1,Rs=null,Ds=null,zs=null,Pu=new Map,Ru=new Map,Bs=[],AL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,s){switch(i){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(s.pointerId)}}function Du(i,s,c,p,b,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[b]},s!==null&&(s=is(s),s!==null&&Eb(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),i)}function kL(i,s,c,p,b){switch(s){case"focusin":return Rs=Du(Rs,i,s,c,p,b),!0;case"dragenter":return Ds=Du(Ds,i,s,c,p,b),!0;case"mouseover":return zs=Du(zs,i,s,c,p,b),!0;case"pointerover":var x=b.pointerId;return Pu.set(x,Du(Pu.get(x)||null,i,s,c,p,b)),!0;case"gotpointercapture":return x=b.pointerId,Ru.set(x,Du(Ru.get(x)||null,i,s,c,p,b)),!0}return!1}function kb(i){var s=jr(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){i.blockedOn=s,zl(i.priority,function(){Tb(c)});return}}else if(s===31){if(s=h(c),s!==null){i.blockedOn=s,zl(i.priority,function(){Tb(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=gm(i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);ho=p,c.target.dispatchEvent(p),ho=null}else return s=is(c),s!==null&&Eb(s),i.blockedOn=c,!1;s.shift()}return!0}function jb(i,s,c){sd(i)&&c.delete(s)}function jL(){vm=!1,Rs!==null&&sd(Rs)&&(Rs=null),Ds!==null&&sd(Ds)&&(Ds=null),zs!==null&&sd(zs)&&(zs=null),Pu.forEach(jb),Ru.forEach(jb)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,vm||(vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jL)))}var od=null;function Ob(i){od!==i&&(od=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){od===i&&(od=null);for(var s=0;s<i.length;s+=3){var c=i[s],p=i[s+1],b=i[s+2];if(typeof p!="function"){if(ym(p||c)===null)continue;break}var x=is(c);x!==null&&(i.splice(s,3),s-=3,gp(x,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function Ko(i){function s($){return ad($,i)}Rs!==null&&ad(Rs,i),Ds!==null&&ad(Ds,i),zs!==null&&ad(zs,i),Pu.forEach(s),Ru.forEach(s);for(var c=0;c<Bs.length;c++){var p=Bs[c];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Bs.length&&(c=Bs[0],c.blockedOn===null);)kb(c),c.blockedOn===null&&Bs.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],x=c[p+1],k=b[hn]||null;if(typeof x=="function")k||Ob(c);else if(k){var z=null;if(x&&x.hasAttribute("formAction")){if(b=x,k=x[hn]||null)z=k.formAction;else if(ym(b)!==null)continue}else z=k.action;typeof z=="function"?c[p+1]=z:(c.splice(p,3),p-=3),Ob(c)}}}function Mb(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function _m(i){this._internalRoot=i}ld.prototype.render=_m.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=ui();Sb(c,p,i,s,null,null)},ld.prototype.unmount=_m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Sb(i.current,2,null,i,null,null),Hh(),s[kr]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var s=Dl();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Bs.length&&s!==0&&s<Bs[c].priority;c++);Bs.splice(c,0,i),c===0&&kb(i)}};var Nb=e.version;if(Nb!=="19.2.0")throw Error(r(527,Nb,"19.2.0"));W.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var OL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{cn=ud.inject(OL),Dt=ud}catch{}}return Bu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,p="",b=U_,x=V_,k=H_;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),s=xb(i,1,!1,null,null,c,p,null,b,x,k,Mb),i[kr]=s.current,em(i),new _m(s)},Bu.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var p=!1,b="",x=U_,k=V_,z=H_,$=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),s=xb(i,1,!0,s,c??null,p,b,$,x,k,z,Mb),s.context=wb(null),c=s.current,p=ui(),p=Dn(p),b=Ss(p),b.callback=null,Cs(c,b,p),c=p,s.current.lanes=c,Ar(s,c),gr(s),i[kr]=s.current,em(i),new ld(s)},Bu.version="19.2.0",Bu}var Fb;function UL(){if(Fb)return wm.exports;Fb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wm.exports=IL(),wm.exports}var VL=UL();function wl(){const t="/Map";return t.endsWith("/")?t:`${t}/`}function Ji(t){if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=wl();return t.startsWith("/assets/logos/")?`${e}${t.slice(1)}`:t.startsWith("logos/")?`${e}assets/logos/${t.slice(6)}`:`${e}assets/logos/${t}`}var Sg=function(t,e){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Sg(t,e)};function fS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var zd=function(){return zd=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zd.apply(this,arguments)};function Sl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function pS(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var h=t.length-1;h>=0;h--)(u=t[h])&&(o=(a<3?u(o):a>3?u(e,n,o):u(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function mS(t,e){return function(n,r){e(n,r,t)}}function gS(t,e,n,r,a,o){function u(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var h=r.kind,f=h==="getter"?"get":h==="setter"?"set":"value",m=!e&&t?r.static?t:t.prototype:null,g=e||(m?Object.getOwnPropertyDescriptor(m,r.name):{}),v,w=!1,S=n.length-1;S>=0;S--){var E={};for(var T in r)E[T]=T==="access"?{}:r[T];for(var T in r.access)E.access[T]=r.access[T];E.addInitializer=function(O){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(O||null))};var j=(0,n[S])(h==="accessor"?{get:g.get,set:g.set}:g[f],E);if(h==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(v=u(j.get))&&(g.get=v),(v=u(j.set))&&(g.set=v),(v=u(j.init))&&a.unshift(v)}else(v=u(j))&&(h==="field"?a.unshift(v):g[f]=v)}m&&Object.defineProperty(m,r.name,g),w=!0}function yS(t,e,n){for(var r=arguments.length>2,a=0;a<e.length;a++)n=r?e[a].call(t,n):e[a].call(t);return r?n:void 0}function vS(t){return typeof t=="symbol"?t:"".concat(t)}function _S(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function bS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Me(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(g){try{m(r.next(g))}catch(v){u(v)}}function f(g){try{m(r.throw(g))}catch(v){u(v)}}function m(g){g.done?o(g.value):a(g.value).then(h,f)}m((r=r.apply(t,e||[])).next())})}function xS(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(g){return f([m,g])}}function f(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(g){m=[6,g],a=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var nf=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function wS(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&nf(e,t,n)}function Bd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xy(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(h){u={error:h}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function SS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xy(arguments[e]));return t}function CS(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],u=0,h=o.length;u<h;u++,a++)r[a]=o[u];return r}function ES(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function gl(t){return this instanceof gl?(this.v=t,this):new gl(t)}function TS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(S){return function(E){return Promise.resolve(E).then(S,v)}}function h(S,E){r[S]&&(a[S]=function(T){return new Promise(function(j,O){o.push([S,T,j,O])>1||f(S,T)})},E&&(a[S]=E(a[S])))}function f(S,E){try{m(r[S](E))}catch(T){w(o[0][3],T)}}function m(S){S.value instanceof gl?Promise.resolve(S.value.v).then(g,v):w(o[0][2],S)}function g(S){f("next",S)}function v(S){f("throw",S)}function w(S,E){S(E),o.shift(),o.length&&f(o[0][0],o[0][1])}}function LS(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(u){return(n=!n)?{value:gl(t[a](u)),done:!1}:o?o(u):u}:o}}function AS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bd=="function"?Bd(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(u){return new Promise(function(h,f){u=t[o](u),a(h,f,u.done,u.value)})}}function a(o,u,h,f){Promise.resolve(f).then(function(m){o({value:m,done:h})},u)}}function kS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var HL=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Cg=function(t){return Cg=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Cg(t)};function jS(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Cg(t),r=0;r<n.length;r++)n[r]!=="default"&&nf(e,t,n[r]);return HL(e,t),e}function OS(t){return t&&t.__esModule?t:{default:t}}function MS(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function NS(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}function PS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function RS(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var FL=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function DS(t){function e(o){t.error=t.hasError?new FL(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(a,function(u){return e(u),a()})}else r|=1}catch(u){e(u)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function zS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,a,o,u){return r?e?".jsx":".js":a&&(!o||!u)?n:a+o+"."+u.toLowerCase()+"js"}):t}const $L={__extends:fS,__assign:zd,__rest:Sl,__decorate:pS,__param:mS,__esDecorate:gS,__runInitializers:yS,__propKey:vS,__setFunctionName:_S,__metadata:bS,__awaiter:Me,__generator:xS,__createBinding:nf,__exportStar:wS,__values:Bd,__read:xy,__spread:SS,__spreadArrays:CS,__spreadArray:ES,__await:gl,__asyncGenerator:TS,__asyncDelegator:LS,__asyncValues:AS,__makeTemplateObject:kS,__importStar:jS,__importDefault:OS,__classPrivateFieldGet:MS,__classPrivateFieldSet:NS,__classPrivateFieldIn:PS,__addDisposableResource:RS,__disposeResources:DS,__rewriteRelativeImportExtension:zS},qL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:RS,get __assign(){return zd},__asyncDelegator:LS,__asyncGenerator:TS,__asyncValues:AS,__await:gl,__awaiter:Me,__classPrivateFieldGet:MS,__classPrivateFieldIn:PS,__classPrivateFieldSet:NS,__createBinding:nf,__decorate:pS,__disposeResources:DS,__esDecorate:gS,__exportStar:wS,__extends:fS,__generator:xS,__importDefault:OS,__importStar:jS,__makeTemplateObject:kS,__metadata:bS,__param:mS,__propKey:vS,__read:xy,__rest:Sl,__rewriteRelativeImportExtension:zS,__runInitializers:yS,__setFunctionName:_S,__spread:SS,__spreadArray:ES,__spreadArrays:CS,__values:Bd,default:$L},Symbol.toStringTag,{value:"Module"})),ZL="modulepreload",GL=function(t){return"/Map/"+t},$b={},Qi=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(n.map(m=>{if(m=GL(m),m in $b)return;$b[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":ZL,g||(w.as="script"),w.crossOrigin="",w.href=m,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((S,E)=>{w.addEventListener("load",S),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},KL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>to);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class wy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class qb extends wy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zb extends wy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gb extends wy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Eg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Eg||(Eg={}));class WL{constructor(e,{headers:n={},customFetch:r,region:a=Eg.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=KL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Me(this,arguments,void 0,function*(n,r={}){var a;try{const{headers:o,method:u,body:h,signal:f}=r;let m={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(m["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let w;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(m["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(m["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;const S=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:w,signal:f}).catch(O=>{throw O.name==="AbortError"?O:new qb(O)}),E=S.headers.get("x-relay-error");if(E&&E==="true")throw new Zb(S);if(!S.ok)throw new Gb(S);let T=((a=S.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return T==="application/json"?j=yield S.json():T==="application/octet-stream"||T==="application/pdf"?j=yield S.blob():T==="text/event-stream"?j=S:T==="multipart/form-data"?j=yield S.formData():j=yield S.text(),{data:j,error:null,response:S}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new qb(o)}:{data:null,error:o,response:o instanceof Gb||o instanceof Zb?o.context:void 0}}})}}var Tn={};const Cl=hS(qL);var cd={},hd={},dd={},fd={},pd={},YL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yl=YL();const XL=yl.fetch,BS=yl.fetch.bind(yl),IS=yl.Headers,JL=yl.Request,QL=yl.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:IS,Request:JL,Response:QL,default:BS,fetch:XL},Symbol.toStringTag,{value:"Module"})),eA=hS(to);var md={},Kb;function US(){if(Kb)return md;Kb=1,Object.defineProperty(md,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return md.default=t,md}var Wb;function VS(){if(Wb)return pd;Wb=1,Object.defineProperty(pd,"__esModule",{value:!0});const t=Cl,e=t.__importDefault(eA),n=t.__importDefault(US());class r{constructor(o){var u,h;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(h=o.isMaybeSingle)!==null&&h!==void 0?h:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,w,S;let E=null,T=null,j=null,O=m.status,P=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?T=I:T=JSON.parse(I))}const V=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),q=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");V&&q&&q.length>1&&(j=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(E={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,j=null,O=406,P="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const V=await m.text();try{E=JSON.parse(V),Array.isArray(E)&&m.status===404&&(T=[],E=null,O=200,P="OK")}catch{m.status===404&&V===""?(O=204,P="No Content"):E={message:V}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,O=200,P="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:T,count:j,status:O,statusText:P}});return this.shouldThrowOnError||(f=f.catch(m=>{var g,v,w;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,u)}returns(){return this}overrideTypes(){return this}}return pd.default=r,pd}var Yb;function HS(){if(Yb)return fd;Yb=1,Object.defineProperty(fd,"__esModule",{value:!0});const e=Cl.__importDefault(VS());class n extends e.default{select(a){let o=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const m=f?`${f}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(m,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:m="text"}={}){var g;const v=[a?"analyze":null,o?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return fd.default=n,fd}var Xb;function Sy(){if(Xb)return dd;Xb=1,Object.defineProperty(dd,"__esModule",{value:!0});const e=Cl.__importDefault(HS());class n extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const u=Array.from(new Set(o)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${m}.${o}`),this}match(a){return Object.entries(a).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(a,o,u){return this.url.searchParams.append(a,`not.${o}.${u}`),this}or(a,{foreignTable:o,referencedTable:u=o}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,o,u){return this.url.searchParams.append(a,`${o}.${u}`),this}}return dd.default=n,dd}var Jb;function FS(){if(Jb)return hd;Jb=1,Object.defineProperty(hd,"__esModule",{value:!0});const e=Cl.__importDefault(Sy());class n{constructor(a,{headers:o={},schema:u,fetch:h}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=h}select(a,o){const{head:u=!1,count:h}=o??{},f=u?"HEAD":"GET";let m=!1;const g=(a??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var h;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(v.length>0){const w=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:o}={}){var u;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return hd.default=n,hd}var Qb;function tA(){if(Qb)return cd;Qb=1,Object.defineProperty(cd,"__esModule",{value:!0});const t=Cl,e=t.__importDefault(FS()),n=t.__importDefault(Sy());class r{constructor(o,{headers:u={},schema:h,fetch:f}={}){this.url=o,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:h=!1,get:f=!1,count:m}={}){var g;let v;const w=new URL(`${this.url}/rpc/${o}`);let S;h||f?(v=h?"HEAD":"GET",Object.entries(u).filter(([T,j])=>j!==void 0).map(([T,j])=>[T,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([T,j])=>{w.searchParams.append(T,j)})):(v="POST",S=u);const E=new Headers(this.headers);return m&&E.set("Prefer",`count=${m}`),new n.default({method:v,url:w,headers:E,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return cd.default=r,cd}var ex;function nA(){if(ex)return Tn;ex=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.PostgrestError=Tn.PostgrestBuilder=Tn.PostgrestTransformBuilder=Tn.PostgrestFilterBuilder=Tn.PostgrestQueryBuilder=Tn.PostgrestClient=void 0;const t=Cl,e=t.__importDefault(tA());Tn.PostgrestClient=e.default;const n=t.__importDefault(FS());Tn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Sy());Tn.PostgrestFilterBuilder=r.default;const a=t.__importDefault(HS());Tn.PostgrestTransformBuilder=a.default;const o=t.__importDefault(VS());Tn.PostgrestBuilder=o.default;const u=t.__importDefault(US());return Tn.PostgrestError=u.default,Tn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},Tn}var iA=nA();const rA=eo(iA),{PostgrestClient:sA,PostgrestQueryBuilder:MU,PostgrestFilterBuilder:NU,PostgrestTransformBuilder:PU,PostgrestBuilder:RU,PostgrestError:DU}=rA;class aA{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oA="2.76.1",lA=`realtime-js/${oA}`,uA="1.0.0",Tg=1e4,cA=1e3,hA=100;var Ju;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ju||(Ju={}));var un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(un||(un={}));var Xi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xi||(Xi={}));var Lg;(function(t){t.websocket="websocket"})(Lg||(Lg={}));var Fa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fa||(Fa={}));class dA{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),o=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+a));u=u+a;const f=r.decode(e.slice(u,u+o));u=u+o;const m=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:f,payload:m}}}class $S{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));const tx=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=fA(u,t,e,a),o),{}):{}},fA=(t,e,n,r)=>{const a=e.find(h=>h.name===t),o=a?.type,u=n[t];return o&&!r.includes(o)?qS(o,u):Ag(u)},qS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return yA(e,n)}switch(t){case Tt.bool:return pA(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return mA(e);case Tt.json:case Tt.jsonb:return gA(e);case Tt.timestamp:return vA(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Ag(e);default:return Ag(e)}},Ag=t=>t,pA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>qS(e,h))}return t},vA=t=>typeof t=="string"?t.replace(" ","T"):t,ZS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Tm{constructor(e,n,r={},a=Tg){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(nx||(nx={}));class Qu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qu.syncState(this.state,a,o,u),this.pendingDiffs.forEach(f=>{this.state=Qu.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qu.syncDiff(this.state,a,o,u),h())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const o=this.cloneDeep(e),u=this.transformState(n),h={},f={};return this.map(o,(m,g)=>{u[m]||(f[m]=g)}),this.map(u,(m,g)=>{const v=o[m];if(v){const w=g.map(j=>j.presence_ref),S=v.map(j=>j.presence_ref),E=g.filter(j=>S.indexOf(j.presence_ref)<0),T=v.filter(j=>w.indexOf(j.presence_ref)<0);E.length>0&&(h[m]=E),T.length>0&&(f[m]=T)}else h[m]=g}),this.syncDiff(o,{joins:h,leaves:f},r,a)}static syncDiff(e,n,r,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(h,f)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),g.length>0){const v=e[h].map(S=>S.presence_ref),w=g.filter(S=>v.indexOf(S.presence_ref)<0);e[h].unshift(...w)}r(h,g,f)}),this.map(u,(h,f)=>{let m=e[h];if(!m)return;const g=f.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=m,a(h,m,f),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ix;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ix||(ix={}));var ec;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ec||(ec={}));var Xr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class Cy{constructor(e,n={config:{}},r){var a,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tm(this,Xi.join,this.params,this.timeout),this.rejoinTimer=new $S(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xi.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Qu(this),this.broadcastEndpointURL=ZS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==un.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,m=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[ec.PRESENCE]&&this.bindings[ec.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Xr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Xr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket.setAuth(),S===void 0){e?.(Xr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,j=(E=T?.length)!==null&&E!==void 0?E:0,O=[];for(let P=0;P<j;P++){const N=T[P],{filter:{event:V,schema:q,table:I,filter:K}}=N,oe=S&&S[P];if(oe&&oe.event===V&&oe.schema===q&&oe.table===I&&oe.filter===K)O.push(Object.assign(Object.assign({},N),{id:oe.id}));else{this.unsubscribe(),this.state=un.errored,e?.(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(Xr.SUBSCRIBED);return}}).receive("error",S=>{this.state=un.errored,e?.(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===un.joined&&e===ec.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,f;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Tm(this,Xi.leave,{},e),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=un.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Tm(this,e,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hA){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,o;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:g}=Xi;if(r&&[h,f,m,g].indexOf(u)>=0&&r!==this._joinRef())return;let w=this._onMessage(u,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var E,T,j;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((j=(T=S.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(S=>S.callback(w,r)):(o=this.bindings[u])===null||o===void 0||o.filter(S=>{var E,T,j,O,P,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const V=S.id,q=(E=S.filter)===null||E===void 0?void 0:E.event;return V&&((T=n.ids)===null||T===void 0?void 0:T.includes(V))&&(q==="*"||q?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const V=(P=(O=S?.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return V==="*"||V===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:T,table:j,commit_timestamp:O,type:P,errors:N}=E;w=Object.assign(Object.assign({},{schema:T,table:j,commit_timestamp:O,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(E))}S.callback(w,r)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Cy.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xi.close,{},e)}_onError(e){this._on(Xi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=tx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=tx(e.columns,e.old_record)),n}}const Lm=()=>{},gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_A=[1e3,2e3,5e3,1e4],bA=1e4,xA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wA{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tg,this.transport=null,this.heartbeatIntervalMs=gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lm,this.ref=0,this.reconnectTimer=null,this.logger=Lm,this.conn=null,this.sendBuffer=[],this.serializer=new dA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...u)=>Qi(async()=>{const{default:h}=await Promise.resolve().then(()=>to);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...u)=>o(...u)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Lg.websocket}`,this.httpEndpoint=ZS(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uA}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ju.connecting:return Fa.Connecting;case Ju.open:return Fa.Open;case Ju.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new Cy(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:a,ref:o}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cA,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:o,ref:u}=n,h=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${a} ${h}`.trim(),o),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(a,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([xA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:lA};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Xi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $S(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,a,o,u,h,f,m,g;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Tg,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:gd.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Lm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>_A[v-1]||bA),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((v,w)=>w(JSON.stringify(v))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ey extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class SA extends Ey{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kg extends Ey{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Ty=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>to);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},CA=()=>Me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qi(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),jg=t=>{if(Array.isArray(t))return t.map(n=>jg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=jg(r)}),e},EA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Am=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TA=(t,e,n)=>Me(void 0,void 0,void 0,function*(){const r=yield CA();t instanceof r&&!n?.noResolveJson?t.json().then(a=>{const o=t.status||500,u=a?.statusCode||o+"";e(new SA(Am(a),o,u))}).catch(a=>{e(new kg(Am(a),a))}):e(new kg(Am(t),t))}),LA=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!r?a:(EA(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function Tc(t,e,n,r,a,o){return Me(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,LA(e,r,a,o)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>TA(f,h,r))})})}function cc(t,e,n,r){return Me(this,void 0,void 0,function*(){return Tc(t,"GET",e,n,r)})}function Yi(t,e,n,r,a){return Me(this,void 0,void 0,function*(){return Tc(t,"POST",e,r,a,n)})}function Og(t,e,n,r,a){return Me(this,void 0,void 0,function*(){return Tc(t,"PUT",e,r,a,n)})}function AA(t,e,n,r){return Me(this,void 0,void 0,function*(){return Tc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ly(t,e,n,r,a){return Me(this,void 0,void 0,function*(){return Tc(t,"DELETE",e,r,a,n)})}class kA{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}var GS;class jA{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[GS]="BlobDownloadBuilder",this.promise=null}asStream(){return new kA(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}GS=Symbol.toStringTag;const OA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MA{constructor(e,n={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ty(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,a){return Me(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},rx),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),v=yield(e=="PUT"?Og:Yi)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Bt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return Me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:rx.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield Og(this.fetch,h.toString(),f,{headers:g});return{data:{path:o,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Bt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const o=yield Yi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),u=new URL(this.url+o.url),h=u.searchParams.get("token");if(!h)throw new Ey("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}copy(e,n,r){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return Me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Yi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return Me(this,void 0,void 0,function*(){try{const a=yield Yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",h=this._getFinalPath(e),f=()=>cc(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new jA(f,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield cc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}exists(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield AA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r)&&r instanceof kg){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${m}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ly(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Me(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},OA),n),{prefix:e||""});return{data:yield Yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}listV2(e,n){return Me(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const KS="2.76.1",WS={"X-Client-Info":`storage-js/${KS}`};class NA{constructor(e,n={},r,a){this.shouldThrowOnError=!1;const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WS),n),this.fetch=Ty(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}createBucket(e){return Me(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ly(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}class PA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WS),n),this.fetch=Ty(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,o=yield cc(this.fetch,a,{headers:this.headers});return{data:Array.isArray(o)?o.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ly(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}const Ay={"X-Client-Info":`storage-js/${KS}`,"Content-Type":"application/json"};class YS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function di(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class km extends YS{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RA extends YS{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var sx;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sx||(sx={}));const ky=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>to);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},DA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ax=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zA=(t,e,n)=>Me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(u=>{const h=u?.statusCode||u?.code||a+"";e(new km(ax(u),a,h))}).catch(()=>{const u=a+"",h=o.statusText||`HTTP ${a} error`;e(new km(h,a,u))});else{const u=a+"",h=o.statusText||`HTTP ${a} error`;e(new km(h,a,u))}}else e(new RA(ax(t),t))}),BA=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return r?(DA(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n)):a};function IA(t,e,n,r,a,o){return Me(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,BA(e,r,a,o)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>zA(f,h,r))})})}function fi(t,e,n,r,a){return Me(this,void 0,void 0,function*(){return IA(t,"POST",e,r,a,n)})}class UA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ay),n),this.fetch=ky(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield fi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}})}listIndexes(e){return Me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Me(this,void 0,void 0,function*(){try{return{data:(yield fi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}})}}class VA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ay),n),this.fetch=ky(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}getVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}listVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield fi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}queryVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}}class HA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ay),n),this.fetch=ky(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield fi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}listBuckets(){return Me(this,arguments,void 0,function*(e={}){try{return{data:yield fi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield fi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}})}}class FA extends HA{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new $A(this.url,this.headers,e,this.fetch)}}class $A extends UA{constructor(e,n,r,a){super(e,n,a),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new qA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class qA extends VA{constructor(e,n,r,a,o){super(e,n,o),this.vectorBucketName=r,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ZA extends NA{constructor(e,n={},r,a){super(e,n,r,a)}from(e){return new MA(this.url,this.headers,e,this.fetch)}get vectors(){return new FA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PA(this.url+"/iceberg",this.headers,this.fetch)}}const GA="2.76.1";let Ku="";typeof Deno<"u"?Ku="deno":typeof document<"u"?Ku="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ku="react-native":Ku="node";const KA={"X-Client-Info":`supabase-js-${Ku}/${GA}`},WA={headers:KA},YA={schema:"public"},XA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JA={},QA=t=>{let e;return t?e=t:typeof fetch>"u"?e=BS:e=fetch,(...n)=>e(...n)},ek=()=>typeof Headers>"u"?IS:Headers,tk=(t,e,n)=>{const r=QA(n),a=ek();return async(o,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},u),{headers:m}))}};function nk(t){return t.endsWith("/")?t:t+"/"}function ik(t,e){var n,r;const{db:a,auth:o,realtime:u,global:h}=t,{db:f,auth:m,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(r=h?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function rk(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const XS="2.76.1",il=30*1e3,Mg=3,jm=Mg*il,sk="http://localhost:9999",ak="supabase.auth.token",ok={"X-Client-Info":`gotrue-js/${XS}`},Ng="X-Supabase-Api-Version",JS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uk=600*1e3;class hc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ck extends hc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function hk(t){return Be(t)&&t.name==="AuthApiError"}class $a extends hc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ks extends hc{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class Fs extends Ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dk(t){return Be(t)&&t.name==="AuthSessionMissingError"}class Wo extends Ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yd extends Ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vd extends Ks{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fk(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class ox extends Ks{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pg extends Ks{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Om(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class lx extends Ks{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Rg extends Ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ux=` 	
\r=`.split(""),pk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ux.length;e+=1)t[ux[e].charCodeAt(0)]=-2;for(let e=0;e<Id.length;e+=1)t[Id[e].charCodeAt(0)]=e;return t})();function cx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Id[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Id[r]),e.queuedBits-=6}}function QS(t,e,n){const r=pk[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hx(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{yk(u,r,n)};for(let u=0;u<t.length;u+=1)QS(t.charCodeAt(u),a,o);return e.join("")}function mk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gk(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}mk(r,e)}}function yk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function cl(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)QS(t.charCodeAt(a),n,r);return new Uint8Array(e)}function vk(t){const e=[];return gk(t,n=>e.push(n)),new Uint8Array(e)}function qa(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>cx(a,n,r)),cx(null,n,r),e.join("")}function _k(t){return Math.round(Date.now()/1e3)+t}function bk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const hi=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},eC=()=>{if(!hi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function xk(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const tC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>to);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},wk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ba=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Us=async(t,e)=>{await t.removeItem(e)};class rf{constructor(){this.promise=new rf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rf.promiseConstructor=Promise;function Mm(t){const e=t.split(".");if(e.length!==3)throw new Rg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lk.test(e[r]))throw new Rg("JWT not in base64url format");return{header:JSON.parse(hx(e[0])),payload:JSON.parse(hx(e[1])),signature:cl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ck(t,e){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){r(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function Ek(t){return("0"+t.toString(16)).substr(-2)}function Tk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,Ek).join("")}async function Lk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Ak(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Lk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yo(t,e,n=!1){const r=Tk();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await rl(t,`${e}-code-verifier`,a);const o=await Ak(r);return[o,r===o?"plain":"s256"]}const kk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jk(t){const e=t.headers.get(Ng);if(!e||!e.match(kk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ok(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Mk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xo(t){if(!Nk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dx(t){return JSON.parse(JSON.stringify(t))}const Va=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pk=[502,503,504];async function fx(t){var e;if(!wk(t))throw new Pg(Va(t),0);if(Pk.includes(t.status))throw new Pg(Va(t),t.status);let n;try{n=await t.json()}catch(o){throw new $a(Va(o),o)}let r;const a=jk(t);if(a&&a.getTime()>=JS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lx(Va(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Fs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new lx(Va(n),t.status,n.weak_password.reasons);throw new ck(Va(n),t.status||500,r)}const Rk=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function We(t,e,n,r){var a;const o=Object.assign({},r?.headers);o[Ng]||(o[Ng]=JS["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const u=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Dk(t,e,n+h,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function Dk(t,e,n,r,a,o){const u=Rk(e,r,a,o);let h;try{h=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new Pg(Va(f),0)}if(h.ok||await fx(h),r?.noResolveJson)return h;try{return await h.json()}catch(f){await fx(f)}}function Ki(t){var e;let n=null;Ik(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_k(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function px(t){const e=Ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zk(t){return{data:t,error:null}}function Bk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=t,u=Sl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function mx(t){return t}function Ik(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pm=["global","local","others"];class Uk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=tC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Pm[0]){if(Pm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pm.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Sl(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Bk,redirectTo:n?.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,o,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:mx});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);m[`${j}Page`]=T}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Xo(e);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Xo(e);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:qs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Xo(e);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:qs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Xo(e.userId);try{const{data:n,error:r}=await We(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Xo(e.userId),Xo(e.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,a,o,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:mx});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);m[`${j}Page`]=T}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Be(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}}function gx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Jo={debug:!!(globalThis&&eC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vk extends nC{}async function Hk(t,e,n){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Vk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Fk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $k(t){return parseInt(t,16)}function qk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Zk(t){var e;const{chainId:n,domain:r,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:f,resources:m,scheme:g,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=iC(t.address),E=g?`${g}://${r}`:r,T=t.statement?`${t.statement}
`:"",j=`${E} wants you to sign in with your Ethereum account:
${S}

${T}`;let O=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(O+=`
Expiration Time: ${a.toISOString()}`),h&&(O+=`
Not Before: ${h.toISOString()}`),f&&(O+=`
Request ID: ${f}`),m){let P=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}O+=P}return`${j}
${O}`}class nn extends Error{constructor({message:e,code:n,cause:r,name:a}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=a??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ud extends nn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Gk({error:t,options:e}){var n,r,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(rC(u)){if(o.rp.id!==u)return new nn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Kk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(rC(r)){if(n.rpId!==r)return new nn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Wk{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Yk=new Wk;function Xk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,a=Sl(t,["challenge","user","excludeCredentials"]),o=cl(e).buffer,u=Object.assign(Object.assign({},n),{id:cl(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:o,user:u});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:cl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function Jk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Sl(t,["challenge","allowCredentials"]),a=cl(e).buffer,o=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:cl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function Qk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:qa(new Uint8Array(t.response.attestationObject)),clientDataJSON:qa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ej(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qa(new Uint8Array(a.authenticatorData)),clientDataJSON:qa(new Uint8Array(a.clientDataJSON)),signature:qa(new Uint8Array(a.signature)),userHandle:a.userHandle?qa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function yx(){var t,e;return!!(hi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ud("Browser returned unexpected credential type",e)}:{data:null,error:new Ud("Empty credential response",e)}}catch(e){return{data:null,error:Gk({error:e,options:t})}}}async function nj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ud("Browser returned unexpected credential type",e)}:{data:null,error:new Ud("Empty credential response",e)}}catch(e){return{data:null,error:Kk({error:e,options:t})}}}const ij={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},rj={userVerification:"preferred",hints:["security-key"]};function Vd(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))r[o]=u;else if(n(u))r[o]=u;else if(e(u)){const h=r[o];e(h)?r[o]=Vd(h,u):r[o]=Vd(u)}else r[o]=u}return r}function sj(t,e){return Vd(ij,t,e||{})}function aj(t,e){return Vd(rj,t,e||{})}class oj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:a},o){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:h};const f=a??Yk.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=sj(u.webauthn.credential_options.publicKey,o?.create),{data:g,error:v}=await tj({publicKey:m,signal:f});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const m=aj(u.webauthn.credential_options.publicKey,o?.request),{data:g,error:v}=await nj(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new $a("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}},o){if(!n)return{data:null,error:new hc("rpId is required for WebAuthn authentication")};try{if(!yx())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:o});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new $a("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a},o){if(!n)return{data:null,error:new hc("rpId is required for WebAuthn registration")};try{if(!yx())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new $a("Unexpected error in register",u)}}}}Fk();const lj={url:sk,storageKey:ak,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ok,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vx(t,e,n){return await n()}const Qo={};class dc{get jwks(){var e,n;return(n=(e=Qo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dc.nextInstanceID,dc.nextInstanceID+=1,this.instanceID>0&&hi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},lj),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Uk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=tC(a.fetch),this.lock=a.lock||vx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:hi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Hk:this.lock=vx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oj(this)},this.persistSession?(a.storage?this.storage=a.storage:eC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=gx(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=xk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),hi()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),fk(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new $a("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ki}),{data:u,error:h}=o;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,a;try{let o;if("email"in e){const{email:g,password:v,options:w}=e;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await Yo(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:E},xform:Ki})}else if("phone"in e){const{phone:g,password:v,options:w}=e;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ki})}else throw new yd("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:h}=e;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:px})}else if("phone"in e){const{phone:o,password:u,options:h}=e;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:px})}else throw new yd("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,a,o,u,h,f,m,g,v,w;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:T,wallet:j,statement:O,options:P}=e;let N;if(hi())if(typeof j=="object")N=j;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")N=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const V=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),q=await N.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=iC(q[0]);let K=(r=P?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!K){const ee=await N.request({method:"eth_chainId"});K=$k(ee)}const oe={domain:V.host,address:I,statement:O,uri:V.href,version:"1",chainId:K,nonce:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=Zk(oe),E=await N.request({method:"personal_sign",params:[qk(S),I]})}try{const{data:T,error:j}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ki});if(j)throw j;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Wo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:j})}catch(T){if(Be(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(e){var n,r,a,o,u,h,f,m,g,v,w,S;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:j,wallet:O,statement:P,options:N}=e;let V;if(hi())if(typeof O=="object")V=O;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))V=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=O}const q=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const I=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),P?{statement:P}:null));let K;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")K=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)K=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)E=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),T=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${q.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(a=(r=N?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const I=await V.signMessage(new TextEncoder().encode(E),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=I}}try{const{data:j,error:O}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:qa(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ki});if(O)throw O;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Wo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:O})}catch(j){if(Be(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Ba(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ki});if(await Us(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Wo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(Be(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:o,nonce:u}=e,h=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ki}),{data:f,error:m}=h;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Wo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,o,u;try{if("email"in e){const{email:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Yo(this.storage,this.storageKey));const{error:v}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:g}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new yd("You must provide either an email or phone number.")}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ki});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await Yo(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:zk})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Fs;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:o}=e,{error:u}=await We(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:a,options:o}=e,{data:u,error:h}=await We(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new yd("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<jm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Ba(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Nm()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,g))})}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qs}):await this._useSession(async n=>{var r,a,o;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fs}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:qs})})}catch(n){if(Be(n))return dk(n)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new Fs;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Yo(this.storage,this.storageKey));const{data:m,error:g}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:qs});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fs;const n=Date.now()/1e3;let r=n,a=!0,o=null;const{payload:u}=Mm(e.access_token);if(u.exp&&(r=u.exp,a=r<=n),a){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Fs;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!hi())throw new vd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ox("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ox("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:h,expires_at:f,token_type:m}=e;if(!o||!h||!u||!m)throw new vd("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let w=g+v;f&&(w=parseInt(f));const S=w-g;S*1e3<=il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const E=w-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,g);const{data:T,error:j}=await this._getUser(o);if(j)throw j;const O={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:v,expires_at:w,refresh_token:u,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(Be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ba(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{error:o};const u=(r=a.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(hk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=bk(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Yo(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var u,h,f,m,g;const{data:v,error:w}=o;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return hi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Be(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:u,provider:h,token:f,access_token:m,nonce:g}=e,v=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ki}),{data:w,error:S}=v;return S?{data:{user:null,session:null},error:S}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Wo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:S})}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)throw u;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ck(async a=>(a>0&&await Sk(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ki})),(a,o)=>{const u=200*Math.pow(2,a);return o&&Om(o)&&Date.now()+u-r<il})}catch(r){if(this._debug(n,"error",r),Be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),hi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Ba(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await rl(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:Nm()}else if(a&&!a.user&&!a.user){const u=await Ba(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Us(this.storage,this.storageKey+"-user"),await rl(this.storage,this.storageKey,a)):a.user=Nm()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${jm}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Om(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new rf;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new Fs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),Be(o)){const u={data:null,error:o};return Om(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await rl(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=dx(a);await rl(this.storage,this.storageKey,o)}else{const a=dx(n);await rl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),il);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${il}ms, refresh threshold is ${Mg} ticks`),a<=Mg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,u]=await Yo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await We(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Qk(e.webauthn.credential_response):ej(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Xk(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Jk(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Mm(a.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+uk>a)return r;const{data:o,error:u}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,r=o.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:S,error:E}=await this.getSession();if(E||!S.session)return{data:null,error:E};r=S.session.access_token}const{header:a,payload:o,signature:u,raw:{header:h,payload:f}}=Mm(r);n?.allowExpired||Ok(o.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:o,header:a,signature:u},error:null}}const g=Mk(a.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,vk(`${h}.${f}`)))throw new Rg("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}dc.nextInstanceID=0;const uj=dc;class cj extends uj{constructor(e){super(e)}}class hj{constructor(e,n,r){var a,o,u;this.supabaseUrl=e,this.supabaseKey=n;const h=rk(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:YA,realtime:JA,auth:Object.assign(Object.assign({},XA),{storageKey:f}),global:WA},g=ik(r??{},m);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=tk(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new sA(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new ZA(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new WL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:u,flowType:h,lock:f,debug:m},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cj({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:o,flowType:h,lock:f,debug:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dj=(t,e,n)=>new hj(t,e,n);function fj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pj="https://xtkbvnnkovogqwcwdhkg.supabase.co",mj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0a2J2bm5rb3ZvZ3F3Y3dkaGtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMzg5ODEsImV4cCI6MjA3NjgxNDk4MX0.71MqQy05baMcDaGI5Xq_fUbcjgGvA0rjnNuXtacEwKs",Te=dj(pj,mj,{auth:{storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),sC=Object.freeze(Object.defineProperty({__proto__:null,supabase:Te},Symbol.toStringTag,{value:"Module"}));/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _x="popstate";function gj(t={}){function e(a,o){let{pathname:u="/",search:h="",hash:f=""}=no(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Dg("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof o=="string"?o:fc(o))}function r(a,o){Mi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return vj(e,n,r,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yj(){return Math.random().toString(36).substring(2,10)}function bx(t,e){return{usr:t.state,key:t.key,idx:e}}function Dg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:n,key:e&&e.key||r||yj()}}function fc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function vj(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let j=g(),O=j==null?null:j-m;m=j,f&&f({action:h,location:T.location,delta:O})}function w(j,O){h="PUSH";let P=Dg(T.location,j,O);n&&n(P,j),m=g()+1;let N=bx(P,m),V=T.createHref(P);try{u.pushState(N,"",V)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(V)}o&&f&&f({action:h,location:T.location,delta:1})}function S(j,O){h="REPLACE";let P=Dg(T.location,j,O);n&&n(P,j),m=g();let N=bx(P,m),V=T.createHref(P);u.replaceState(N,"",V),o&&f&&f({action:h,location:T.location,delta:0})}function E(j){return _j(j)}let T={get action(){return h},get location(){return t(a,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(_x,v),f=j,()=>{a.removeEventListener(_x,v),f=null}},createHref(j){return e(a,j)},createURL:E,encodeLocation(j){let O=E(j);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:S,go(j){return u.go(j)}};return T}function _j(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aC(t,e,n="/"){return bj(t,e,n,!1)}function bj(t,e,n,r){let a=typeof e=="string"?no(e):e,o=Qr(a.pathname||"/",n);if(o==null)return null;let u=oC(t);xj(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=Mj(o);h=jj(u[f],m,r)}return h}function oC(t,e=[],n=[],r="",a=!1){let o=(u,h,f=a,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;Ut(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Jr([r,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(Ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),oC(u.children,e,w,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:Aj(v,u.index),routesMeta:w})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of lC(u.path))o(u,h,!0,f)}),e}function lC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=lC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function xj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wj=/^:[\w-]+$/,Sj=3,Cj=2,Ej=1,Tj=10,Lj=-2,xx=t=>t==="*";function Aj(t,e){let n=t.split("/"),r=n.length;return n.some(xx)&&(r+=Lj),e&&(r+=Cj),n.filter(a=>!xx(a)).reduce((a,o)=>a+(wj.test(o)?Sj:o===""?Ej:Tj),r)}function kj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function jj(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Hd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),w=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Hd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Jr([o,v.pathname]),pathnameBase:Dj(Jr([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Jr([o,v.pathnameBase]))}return u}function Hd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Oj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},w)=>{if(g==="*"){let E=h[w]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[w];return v&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function Oj(t,e=!1,n=!0){Mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Mj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Nj(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?no(t):t;return{pathname:n?n.startsWith("/")?n:Pj(n,e):e,search:zj(r),hash:Bj(a)}}function Pj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uC(t){let e=Rj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function cC(t,e,n,r=!1){let a;typeof t=="string"?a=no(t):(a={...t},Ut(!a.pathname||!a.pathname.includes("?"),Rm("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),Rm("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),Rm("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}h=v>=0?e[v]:"/"}let f=Nj(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Jr=t=>t.join("/").replace(/\/\/+/g,"/"),Dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hC=["POST","PUT","PATCH","DELETE"];new Set(hC);var Uj=["GET",...hC];new Set(Uj);var El=M.createContext(null);El.displayName="DataRouter";var sf=M.createContext(null);sf.displayName="DataRouterState";M.createContext(!1);var dC=M.createContext({isTransitioning:!1});dC.displayName="ViewTransition";var Vj=M.createContext(new Map);Vj.displayName="Fetchers";var Hj=M.createContext(null);Hj.displayName="Await";var Sr=M.createContext(null);Sr.displayName="Navigation";var Lc=M.createContext(null);Lc.displayName="Location";var Cr=M.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var jy=M.createContext(null);jy.displayName="RouteError";function Fj(t,{relative:e}={}){Ut(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Sr),{hash:a,pathname:o,search:u}=kc(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Jr([n,o])),r.createHref({pathname:h,search:u,hash:a})}function Ac(){return M.useContext(Lc)!=null}function er(){return Ut(Ac(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Lc).location}var fC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pC(t){M.useContext(Sr).static||M.useLayoutEffect(t)}function Tl(){let{isDataRoute:t}=M.useContext(Cr);return t?rO():$j()}function $j(){Ut(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(El),{basename:e,navigator:n}=M.useContext(Sr),{matches:r}=M.useContext(Cr),{pathname:a}=er(),o=JSON.stringify(uC(r)),u=M.useRef(!1);return pC(()=>{u.current=!0}),M.useCallback((f,m={})=>{if(Mi(u.current,fC),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=cC(f,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,a,t])}var qj=M.createContext(null);function Zj(t){let e=M.useContext(Cr).outlet;return M.useMemo(()=>e&&M.createElement(qj.Provider,{value:t},e),[e,t])}function kc(t,{relative:e}={}){let{matches:n}=M.useContext(Cr),{pathname:r}=er(),a=JSON.stringify(uC(n));return M.useMemo(()=>cC(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Gj(t,e){return mC(t,e)}function mC(t,e,n,r,a){Ut(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Sr),{matches:u}=M.useContext(Cr),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let P=v&&v.path||"";gC(m,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=er(),S;if(e){let P=typeof e=="string"?no(e):e;Ut(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=w;let E=S.pathname||"/",T=E;if(g!=="/"){let P=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=aC(t,{pathname:T});Mi(v||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Jj(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Jr([g,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Jr([g,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,n,r,a);return e&&O?M.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function Kj(){let t=iO(),e=Ij(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,u)}var Wj=M.createElement(Kj,null),Yj=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(Cr.Provider,{value:this.props.routeContext},M.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xj({routeContext:t,match:e,children:n}){let r=M.useContext(El);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Cr.Provider,{value:t},n)}function Jj(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:w}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let w,S=!1,E=null,T=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,E=g.route.errorElement||Wj,h&&(f<0&&v===0?(gC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):f===v&&(S=!0,T=g.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),O=()=>{let P;return w?P=E:S?P=T:g.route.Component?P=M.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,M.createElement(Xj,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?M.createElement(Yj,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):O()},null)}function Oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qj(t){let e=M.useContext(El);return Ut(e,Oy(t)),e}function eO(t){let e=M.useContext(sf);return Ut(e,Oy(t)),e}function tO(t){let e=M.useContext(Cr);return Ut(e,Oy(t)),e}function My(t){let e=tO(t),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nO(){return My("useRouteId")}function iO(){let t=M.useContext(jy),e=eO("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function rO(){let{router:t}=Qj("useNavigate"),e=My("useNavigate"),n=M.useRef(!1);return pC(()=>{n.current=!0}),M.useCallback(async(a,o={})=>{Mi(n.current,fC),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var wx={};function gC(t,e,n){!e&&!wx[t]&&(wx[t]=!0,Mi(!1,n))}M.memo(sO);function sO({routes:t,future:e,state:n,unstable_onError:r}){return mC(t,void 0,n,r,e)}function aO(t){return Zj(t.context)}function Kn(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Ut(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=no(n));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:w="default"}=n,S=M.useMemo(()=>{let E=Qr(f,u);return E==null?null:{location:{pathname:E,search:m,hash:g,state:v,key:w},navigationType:r}},[u,f,m,g,v,w,r]);return Mi(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(Sr.Provider,{value:h},M.createElement(Lc.Provider,{children:e,value:S}))}function lO({children:t,location:e}){return Gj(zg(t),e)}function zg(t,e=[]){let n=[];return M.Children.forEach(t,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){n.push.apply(n,zg(r.props.children,o));return}Ut(r.type===Kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=zg(r.props.children,o)),n.push(u)}),n}var jd="get",Od="application/x-www-form-urlencoded";function af(t){return t!=null&&typeof t.tagName=="string"}function uO(t){return af(t)&&t.tagName.toLowerCase()==="button"}function cO(t){return af(t)&&t.tagName.toLowerCase()==="form"}function hO(t){return af(t)&&t.tagName.toLowerCase()==="input"}function dO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fO(t,e){return t.button===0&&(!e||e==="_self")&&!dO(t)}function Bg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function pO(t,e){let n=Bg(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}var _d=null;function mO(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var gO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(t){return t!=null&&!gO.has(t)?(Mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):t}function yO(t,e){let n,r,a,o,u;if(cO(t)){let h=t.getAttribute("action");r=h?Qr(h,e):null,n=t.getAttribute("method")||jd,a=Dm(t.getAttribute("enctype"))||Od,o=new FormData(t)}else if(uO(t)||hO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Qr(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||jd,a=Dm(t.getAttribute("formenctype"))||Dm(h.getAttribute("enctype"))||Od,o=new FormData(h,t),!mO()){let{name:m,type:g,value:v}=t;if(g==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,v)}}else{if(af(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jd,r=null,a=Od,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _O(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xO(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await _O(o,n);return u.links?u.links():[]}return[]}));return EO(r.flat(1).filter(bO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Sx(t,e,n,r,a,o){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wO(t,e,{includeHydrateFallback:n}={}){return SO(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function SO(t){return[...new Set(t)]}function CO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function EO(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(CO(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function yC(){let t=M.useContext(El);return Ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TO(){let t=M.useContext(sf);return Ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=M.createContext(void 0);Py.displayName="FrameworkContext";function vC(){let t=M.useContext(Py);return Ny(t,"You must render this element inside a <HydratedRouter> element"),t}function LO(t,e){let n=M.useContext(Py),[r,a]=M.useState(!1),[o,u]=M.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let T=O=>{O.forEach(P=>{u(P.isIntersecting)})},j=new IntersectionObserver(T,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[t]),M.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{a(!0)},E=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Iu(h,S),onBlur:Iu(f,E),onMouseEnter:Iu(m,S),onMouseLeave:Iu(g,E),onTouchStart:Iu(v,S)}]:[!1,w,{}]}function Iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AO({page:t,...e}){let{router:n}=yC(),r=M.useMemo(()=>aC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(jO,{page:t,matches:r,...e}):null}function kO(t){let{manifest:e,routeModules:n}=vC(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return xO(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function jO({page:t,matches:e,...n}){let r=er(),{manifest:a,routeModules:o}=vC(),{basename:u}=yC(),{loaderData:h,matches:f}=TO(),m=M.useMemo(()=>Sx(t,e,f,a,r,"data"),[t,e,f,a,r]),g=M.useMemo(()=>Sx(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(O=>{let P=a.routes[O.route.id];!P||!P.hasLoader||(!m.some(N=>N.route.id===O.route.id)&&O.route.id in h&&o[O.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:E.add(O.route.id))}),E.size===0)return[];let j=vO(t,u,"data");return T&&E.size>0&&j.searchParams.set("_routes",e.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[j.pathname+j.search]},[u,h,r,a,m,e,t,o]),w=M.useMemo(()=>wO(g,a),[g,a]),S=kO(g);return M.createElement(M.Fragment,null,v.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),w.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:T})=>M.createElement("link",{key:E,nonce:n.nonce,...T})))}function OO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_C&&(window.__reactRouterVersion="7.9.4")}catch{}function MO({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=gj({window:n,v5Compat:!0}));let a=r.current,[o,u]=M.useState({action:a.action,location:a.location}),h=M.useCallback(f=>{M.startTransition(()=>u(f))},[u]);return M.useLayoutEffect(()=>a.listen(h),[a,h]),M.createElement(oO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var bC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hl=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:v,...w},S){let{basename:E}=M.useContext(Sr),T=typeof m=="string"&&bC.test(m),j,O=!1;if(typeof m=="string"&&T&&(j=m,_C))try{let ee=new URL(window.location.href),he=m.startsWith("//")?new URL(ee.protocol+m):new URL(m),Q=Qr(he.pathname,E);he.origin===ee.origin&&Q!=null?m=Q+he.search+he.hash:O=!0}catch{Mi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=Fj(m,{relative:a}),[N,V,q]=LO(r,w),I=DO(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:v});function K(ee){e&&e(ee),ee.defaultPrevented||I(ee)}let oe=M.createElement("a",{...w,...q,href:j||P,onClick:O||o?e:K,ref:OO(S,V),target:f,"data-discover":!T&&n==="render"?"true":void 0});return N&&!T?M.createElement(M.Fragment,null,oe,M.createElement(AO,{page:P})):oe});hl.displayName="Link";var NO=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...m},g){let v=kc(u,{relative:m.relative}),w=er(),S=M.useContext(sf),{navigator:E,basename:T}=M.useContext(Sr),j=S!=null&&HO(v)&&h===!0,O=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,P=w.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(P=P.toLowerCase(),N=N?N.toLowerCase():null,O=O.toLowerCase()),N&&T&&(N=Qr(N,T)||N);const V=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=P===O||!a&&P.startsWith(O)&&P.charAt(V)==="/",I=N!=null&&(N===O||!a&&N.startsWith(O)&&N.charAt(O.length)==="/"),K={isActive:q,isPending:I,isTransitioning:j},oe=q?e:void 0,ee;typeof r=="function"?ee=r(K):ee=[r,q?"active":null,I?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let he=typeof o=="function"?o(K):o;return M.createElement(hl,{...m,"aria-current":oe,className:ee,ref:g,style:he,to:u,viewTransition:h},typeof f=="function"?f(K):f)});NO.displayName="NavLink";var PO=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=jd,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:v,...w},S)=>{let E=UO(),T=VO(h,{relative:m}),j=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&bC.test(h),P=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let V=N.nativeEvent.submitter,q=V?.getAttribute("formmethod")||u;E(V||N.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return M.createElement("form",{ref:S,method:j,action:T,onSubmit:r?f:P,...w,"data-discover":!O&&t==="render"?"true":void 0})});PO.displayName="Form";function RO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xC(t){let e=M.useContext(El);return Ut(e,RO(t)),e}function DO(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Tl(),f=er(),m=kc(t,{relative:o});return M.useCallback(g=>{if(fO(g,e)){g.preventDefault();let v=n!==void 0?n:fc(f)===fc(m);h(t,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,m,n,r,e,t,a,o,u])}function zO(t){Mi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Bg(t)),n=M.useRef(!1),r=er(),a=M.useMemo(()=>pO(r.search,n.current?null:e.current),[r.search]),o=Tl(),u=M.useCallback((h,f)=>{const m=Bg(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,o("?"+m,f)},[o,a]);return[a,u]}var BO=0,IO=()=>`__${String(++BO)}__`;function UO(){let{router:t}=xC("useSubmit"),{basename:e}=M.useContext(Sr),n=nO();return M.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=yO(r,e);if(a.navigate===!1){let g=a.fetcherKey||IO();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function VO(t,{relative:e}={}){let{basename:n}=M.useContext(Sr),r=M.useContext(Cr);Ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...kc(t||".",{relative:e})},u=er();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Jr([n,o.pathname])),fc(o)}function HO(t,{relative:e}={}){let n=M.useContext(dC);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xC("useViewTransitionState"),a=kc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hd(a.pathname,u)!=null||Hd(a.pathname,o)!=null}var wC=dS();function FO(t=[]){const[e,n]=M.useState(t);M.useEffect(()=>{Array.isArray(t)&&n(t)},[t]);const r=["id","lat","lng","rectangle","angle","coreLocked"],a=["iconUrl","iconSize","iconColor","className","prefix","glyph","glyphColor","glyphSize","glyphAnchor","appearanceLocked"],o=["name","logo","website","info","contentLocked"],u=M.useCallback(async(h,f)=>{async function m(v,w,S){const{data:E,error:T}=await v.from(w).select("id").eq("id",S);if(!T&&(!E||E.length===0)){let j={id:S};return w==="Markers_Core"&&(j.coreLocked=!1),w==="Markers_Appearance"&&(j.appearanceLocked=!1),w==="Markers_Content"&&(j.contentLocked=!1),await v.from(w).insert([j]),!0}return!0}const g=typeof h=="string"&&h.startsWith("m")?parseInt(h.slice(1),10):h;n(v=>v.map(w=>w.id===h?{...w,...f}:w));try{const{supabase:v}=await Qi(async()=>{const{supabase:S}=await Promise.resolve().then(()=>sC);return{supabase:S}},[]),w=[{name:"Markers_Core",fields:r},{name:"Markers_Appearance",fields:a},{name:"Markers_Content",fields:o}];for(const{name:S}of w)await m(v,S,g);for(const[S,E]of Object.entries(f)){let T=null;if(r.includes(S)?T="Markers_Core":a.includes(S)?T="Markers_Appearance":o.includes(S)&&(T="Markers_Content"),T){if(!await m(v,T,g))continue;await v.from(T).update({[S]:E}).eq("id",g)}}}catch{}},[]);return[e,u,n]}function $O(t=new Date().getFullYear()){const e=typeof window<"u"?localStorage.getItem("eventMarkers"):null,n=typeof navigator<"u"?navigator.onLine:!0,[r,a]=M.useState(n),[o,u]=M.useState(()=>!n&&e?JSON.parse(e):[]),[h,f]=M.useState(()=>!(!n&&e)),m=M.useRef(t);M.useEffect(()=>{m.current=t},[t]);const g=M.useCallback(async v=>{const w=m.current;if(f(!0),!v&&e){u(JSON.parse(e)),f(!1);return}try{const[S,E,T,j,O]=await Promise.all([Te.from("Markers_Core").select("*"),Te.from("Markers_Appearance").select("*"),Te.from("Markers_Content").select("*"),Te.from("assignments").select(`
            *,
            company:companies(id, name, logo, website, info)
          `).eq("event_year",w),Te.from("event_subscriptions").select("*").eq("event_year",w)]);if(S.error)throw S.error;if(E.error)throw E.error;if(T.error)throw T.error;if(j.error)throw j.error;if(O.error)throw O.error;const P={};for(const ee of E.data||[])ee&&ee.id&&(P[ee.id]=ee);const N={};for(const ee of T.data||[])ee&&ee.id&&(N[ee.id]=ee);const V={appearance:P[-1]||{},core:(S.data||[]).find(ee=>ee.id===-1)||{}},q={appearance:P[-2]||{},core:(S.data||[]).find(ee=>ee.id===-2)||{}},I={};for(const ee of O.data||[])ee&&ee.company_id&&(I[ee.company_id]=ee);const K={};for(const ee of j.data||[])!ee||!ee.marker_id||(K[ee.marker_id]||(K[ee.marker_id]=[]),K[ee.marker_id].push({assignmentId:ee.id,companyId:ee.company_id,...ee.company}));const oe=(S.data||[]).filter(ee=>ee.id>0).map(ee=>{const he=P[ee.id]||{},Q=N[ee.id]||{},te=K[ee.id]||[];let pe={},ce={};if(ee.id<1e3){const Y=te[0]||{},H=!!Y.companyId;pe={name:Y.name,logo:Y.logo,website:Y.website,info:Y.info,companyId:Y.companyId,assignmentId:Y.assignmentId};const W=H?V:q,se={...W.appearance,...he},xe={...W.core,...ee};if(Object.assign(ee,xe),Object.assign(he,se),Y.companyId){const B=I[Y.companyId]||{};ce={contact:B.contact,phone:B.phone,email:B.email,boothCount:B.booth_count,area:B.area,coins:B.coins,breakfast:B.breakfast_sat,lunch:B.lunch_sat,bbq:B.bbq_sat,notes:B.notes}}}else pe={name:Q.name,logo:Q.logo,website:Q.website,info:Q.info},ce={};return{...ee,...he,...pe,...ce,assignments:te}});u(oe),localStorage.setItem("eventMarkers",JSON.stringify(oe))}catch(S){console.error("Error loading markers:",S)}finally{f(!1)}},[e]);return M.useEffect(()=>{g(r);function v(){a(!0),g(!0)}function w(){a(!1);const N=localStorage.getItem("eventMarkers");N&&u(JSON.parse(N)),f(!1)}window.addEventListener("online",v),window.addEventListener("offline",w);const S=Te.channel("markers-core-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Core"},()=>{g(!0)}).subscribe(),E=Te.channel("markers-appearance-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Appearance"},()=>{g(!0)}).subscribe(),T=Te.channel("markers-content-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Content"},()=>{g(!0)}).subscribe(),j=Te.channel("markers-assignments-changes").on("postgres_changes",{event:"*",schema:"public",table:"assignments"},async N=>{if(N.eventType==="DELETE")g(!0);else if(N.eventType==="INSERT"||N.eventType==="UPDATE"){if(N.new?.event_year!==m.current)return;g(!0)}}).subscribe(),O=Te.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},N=>{if(N.eventType==="UPDATE"&&N.new){const V=N.new;u(q=>q.map(I=>I.companyId===V.id?{...I,name:V.name,logo:V.logo,website:V.website,info:V.info}:I)),u(q=>(localStorage.setItem("eventMarkers",JSON.stringify(q)),q))}else g(!0)}).subscribe(),P=Te.channel(`event-subscriptions-changes-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${t}`},N=>{g(!0)}).subscribe();return()=>{window.removeEventListener("online",v),window.removeEventListener("offline",w),Te.removeChannel(S),Te.removeChannel(E),Te.removeChannel(T),Te.removeChannel(j),Te.removeChannel(O),Te.removeChannel(P)}},[r,g]),M.useEffect(()=>{g(r)},[t,r,g]),{markers:o,loading:h,isOnline:r,reload:()=>g(r)}}class zm extends mi.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught:",e,n)}render(){return this.state.hasError?y.jsxs("div",{style:{color:"red",padding:"2rem"},children:[y.jsx("h2",{children:"Something went wrong in a component."}),y.jsx("pre",{children:typeof this.state.error=="string"?this.state.error:JSON.stringify(this.state.error,null,2)})]}):y.jsx("div",{style:{width:"100%",minHeight:"100svh",boxSizing:"border-box",position:"relative"},children:this.props.children})}}function qO(){const[t,e]=M.useState(typeof navigator<"u"?navigator.onLine:!0);return M.useEffect(()=>{function n(){e(!0)}function r(){e(!1)}return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t?null:y.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-900 px-4 py-2 rounded shadow-lg z-50",role:"status","aria-live":"polite",children:y.jsx("span",{"aria-label":"Offline mode",children:"You are offline. Some features may be unavailable."})})}const Ze=t=>typeof t=="string",Uu=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},Cx=t=>t==null?"":""+t,ZO=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},GO=/###/g,Ex=t=>t&&t.indexOf("###")>-1?t.replace(GO,"."):t,Tx=t=>!t||Ze(t),tc=(t,e,n)=>{const r=Ze(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(Tx(t))return{};const o=Ex(r[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return Tx(t)?{}:{obj:t,k:Ex(r[a])}},Lx=(t,e,n)=>{const{obj:r,k:a}=tc(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),h=tc(t,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=tc(t,u,Object),h?.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},KO=(t,e,n,r)=>{const{obj:a,k:o}=tc(t,e,Object);a[o]=a[o]||[],a[o].push(n)},Fd=(t,e)=>{const{obj:n,k:r}=tc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},WO=(t,e,n)=>{const r=Fd(t,n);return r!==void 0?r:Fd(e,n)},SC=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ze(t[r])||t[r]instanceof String||Ze(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):SC(t[r],e[r],n):t[r]=e[r]);return t},el=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var YO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const XO=t=>Ze(t)?t.replace(/[&<>"'\/]/g,e=>YO[e]):t;class JO{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const QO=[" ",",","?","!",";"],eM=new JO(20),tM=(t,e,n)=>{e=e||"",n=n||"";const r=QO.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const a=eM.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(t);if(!o){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(o=!0)}return o},Ig=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,h="";for(let f=o;f<r.length;++f)if(f!==o&&(h+=n),h+=r[f],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;o+=f-o+1;break}a=u}return a},pc=t=>t?.replace("_","-"),nM={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class $d{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||nM,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(Ze(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new $d(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new $d(this.logger,e)}}var _r=new $d;class of{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...n])})}}class Ax extends of{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],r&&(Array.isArray(r)?h.push(...r):Ze(r)&&o?h.push(...r.split(o)):h.push(r)));const f=Fd(this.data,h);return!f&&!n&&!r&&e.indexOf(".")>-1&&(e=h[0],n=h[1],r=h.slice(2).join(".")),f||!u||!Ze(r)?f:Ig(this.data?.[e]?.[n],r,o)}addResource(e,n,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,n];r&&(h=h.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(h=e.split("."),a=n,n=h[1]),this.addNamespaces(n),Lx(this.data,h,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const o in r)(Ze(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o,u={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),a=r,r=n,n=h[1]),this.addNamespaces(n);let f=Fd(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?SC(f,r,o):f={...f,...r},Lx(this.data,h,f),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var CC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{e=this.processors[o]?.process(e,n,r,a)??e}),e}};const EC=Symbol("i18next/PATH_KEY");function iM(){const t=[],e=Object.create(null);let n;return e.get=(r,a)=>(n?.revoke?.(),a===EC?t:(t.push(a),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ug(t,e){const{[EC]:n}=t(iM());return n.join(e?.keySeparator??".")}const kx={},Bm=t=>!Ze(t)&&typeof t!="boolean"&&typeof t!="number";class qd extends of{constructor(e,n={}){super(),ZO(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_r.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const a=this.resolve(e,r);if(a?.res===void 0)return!1;const o=Bm(a.res);return!(r.returnObjects===!1&&o)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!tM(e,r,a);if(u&&!h){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Ze(o)?[o]:o};const m=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(a)}return{key:e,namespaces:Ze(o)?[o]:o}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Ug(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:f}=this.extractFromKey(e[e.length-1],a),m=f[f.length-1];let g=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=a.lng||this.language,w=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return w?o?{res:`${m}${g}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${g}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:h;const S=this.resolve(e,a);let E=S?.res;const T=S?.usedKey||h,j=S?.exactUsedKey||h,O=["[object Number]","[object Function]","[object RegExp]"],P=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,V=a.count!==void 0&&!Ze(a.count),q=qd.hasDefaultValue(a),I=V?this.pluralResolver.getSuffix(v,a.count,a):"",K=a.ordinal&&V?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",oe=V&&!a.ordinal&&a.count===0,ee=oe&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${I}`]||a[`defaultValue${K}`]||a.defaultValue;let he=E;N&&!E&&q&&(he=ee);const Q=Bm(he),te=Object.prototype.toString.apply(he);if(N&&he&&Q&&O.indexOf(te)<0&&!(Ze(P)&&Array.isArray(he))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const pe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,he,{...a,ns:f}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(S.res=pe,S.usedParams=this.getUsedParamsDetails(a),S):pe}if(u){const pe=Array.isArray(he),ce=pe?[]:{},Y=pe?j:T;for(const H in he)if(Object.prototype.hasOwnProperty.call(he,H)){const W=`${Y}${u}${H}`;q&&!E?ce[H]=this.translate(W,{...a,defaultValue:Bm(ee)?ee[H]:void 0,joinArrays:!1,ns:f}):ce[H]=this.translate(W,{...a,joinArrays:!1,ns:f}),ce[H]===W&&(ce[H]=he[H])}E=ce}}else if(N&&Ze(P)&&Array.isArray(E))E=E.join(P),E&&(E=this.extendTranslation(E,e,a,r));else{let pe=!1,ce=!1;!this.isValidLookup(E)&&q&&(pe=!0,E=ee),this.isValidLookup(E)||(ce=!0,E=h);const H=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ce?void 0:E,W=q&&ee!==E&&this.options.updateMissing;if(ce||pe||W){if(this.logger.log(W?"updateKey":"missingKey",v,m,h,W?ee:E),u){const U=this.resolve(h,{...a,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let se=[];const xe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&xe&&xe[0])for(let U=0;U<xe.length;U++)se.push(xe[U]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(a.lng||this.language):se.push(a.lng||this.language);const B=(U,ie,D)=>{const Z=q&&D!==E?D:H;this.options.missingKeyHandler?this.options.missingKeyHandler(U,m,ie,Z,W,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(U,m,ie,Z,W,a),this.emit("missingKey",U,m,ie,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?se.forEach(U=>{const ie=this.pluralResolver.getSuffixes(U,a);oe&&a[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(D=>{B([U],h+D,a[`defaultValue${D}`]||ee)})}):B(se,h,ee))}E=this.extendTranslation(E,e,a,S,r),ce&&E===h&&this.options.appendNamespaceToMissingKey&&(E=`${m}${g}${h}`),(ce||pe)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${g}${h}`:h,pe?E:void 0,a))}return o?(S.res=E,S.usedParams=this.getUsedParamsDetails(a),S):E}extendTranslation(e,n,r,a,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=Ze(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(f){const v=e.match(this.interpolator.nestingRegexp);m=v&&v.length}let g=r.replace&&!Ze(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||a.usedLng,r),f){const v=e.match(this.interpolator.nestingRegexp),w=v&&v.length;m<w&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>o?.[0]===v[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=Ze(u)?[u]:u;return e!=null&&h?.length&&r.applyPostProcessor!==!1&&(e=CC.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,o,u,h;return Ze(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,n),g=m.key;a=g;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=n.count!==void 0&&!Ze(n.count),S=w&&!n.ordinal&&n.count===0,E=n.context!==void 0&&(Ze(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(j=>{this.isValidLookup(r)||(h=j,!kx[`${T[0]}-${j}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(kx[`${T[0]}-${j}`]=!0,this.logger.warn(`key "${a}" for languages "${T.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(O=>{if(this.isValidLookup(r))return;u=O;const P=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,g,O,j,n);else{let V;w&&(V=this.pluralResolver.getSuffix(O,n.count,n));const q=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&V.indexOf(I)===0&&P.push(g+V.replace(I,this.options.pluralSeparator)),P.push(g+V),S&&P.push(g+q)),E){const K=`${g}${this.options.contextSeparator||"_"}${n.context}`;P.push(K),w&&(n.ordinal&&V.indexOf(I)===0&&P.push(K+V.replace(I,this.options.pluralSeparator)),P.push(K+V),S&&P.push(K+q))}}let N;for(;N=P.pop();)this.isValidLookup(r)||(o=N,r=this.getResource(O,j,N,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ze(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class jx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_r.create("languageUtils")}getScriptPartFromCode(e){if(e=pc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=pc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ze(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ze(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ze(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Ze(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const Ox={zero:0,one:1,two:2,few:3,many:4,other:5},Mx={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rM{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=_r.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=pc(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Mx;if(!e.match(/-|_/))return Mx;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>Ox[a]-Ox[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Nx=(t,e,n,r=".",a=!0)=>{let o=WO(t,e,n);return!o&&a&&Ze(n)&&(o=Ig(t,n,r),o===void 0&&(o=Ig(e,n,r))),o},Im=t=>t.replace(/\$/g,"$$$$");class sM{constructor(e={}){this.logger=_r.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:f,formatSeparator:m,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:S,nestingSuffix:E,nestingSuffixEscaped:T,nestingOptionsSeparator:j,maxReplaces:O,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:XO,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?el(o):u||"{{",this.suffix=h?el(h):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=w?el(w):S||el("$t("),this.nestingSuffix=E?el(E):T||el(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=O||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,a){let o,u,h;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=S=>{if(S.indexOf(this.formatSeparator)<0){const O=Nx(n,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,r,{...a,...n,interpolationkey:S}):O}const E=S.split(this.formatSeparator),T=E.shift().trim(),j=E.join(this.formatSeparator).trim();return this.format(Nx(n,f,T,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...a,...n,interpolationkey:T})};this.resetRegExp();const g=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>Im(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?Im(this.escape(S)):Im(S)}].forEach(S=>{for(h=0;o=S.regex.exec(e);){const E=o[1].trim();if(u=m(E),u===void 0)if(typeof g=="function"){const j=g(e,o,a);u=Ze(j)?j:""}else if(a&&Object.prototype.hasOwnProperty.call(a,E))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),u="";else!Ze(u)&&!this.useRawValueToEscape&&(u=Cx(u));const T=S.safeValue(u);if(e=e.replace(o[0],T),v?(S.regex.lastIndex+=u.length,S.regex.lastIndex-=o[0].length):S.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,o,u;const h=(f,m)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const v=f.split(new RegExp(`${g}[ ]*{`));let w=`{${v[1]}`;f=v[0],w=this.interpolate(w,u);const S=w.match(/'/g),E=w.match(/"/g);((S?.length??0)%2===0&&!E||E.length%2!==0)&&(w=w.replace(/'/g,'"'));try{u=JSON.parse(w),m&&(u={...m,...u})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,T),`${f}${g}${w}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;a=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!Ze(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(f=a[1].slice(m).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),o=n(h.call(this,a[1].trim(),u),u),o&&a[0]===e&&!Ze(o))return o;Ze(o)||(o=Cx(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),f.length&&(o=f.reduce((g,v)=>this.format(g,v,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const aM=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),g=h.trim();n[g]||(n[g]=m),m==="false"&&(n[g]=!1),m==="true"&&(n[g]=!0),isNaN(m)||(n[g]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},Px=t=>{const e={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let h=e[u];return h||(h=t(pc(r),a),e[u]=h),h(n)}},oM=t=>(e,n,r)=>t(pc(n),r)(e);class lM{constructor(e={}){this.logger=_r.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Px:oM;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return h=>u.format(h)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return h=>u.format(h)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return h=>u.format(h)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return h=>u.format(h,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return h=>u.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Px(n)}format(e,n,r,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,f)=>{const{formatName:m,formatOptions:g}=aM(f);if(this.formats[m]){let v=h;try{const w=a?.formatParams?.[a.interpolationkey]||{},S=w.locale||w.lng||a.locale||a.lng||r;v=this.formats[m](h,S,{...g,...a,...w})}catch(w){this.logger.warn(w)}return v}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const uM=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class cM extends of{constructor(e,n,r,a={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=_r.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(e,n,r,a){const o={},u={},h={},f={};return e.forEach(m=>{let g=!0;n.forEach(v=>{const w=`${m}|${v}`;!r.reload&&this.store.hasResourceBundle(m,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?u[w]===void 0&&(u[w]=!0):(this.state[w]=1,g=!1,u[w]===void 0&&(u[w]=!0),o[w]===void 0&&(o[w]=!0),f[v]===void 0&&(f[v]=!0)))}),g||(h[m]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}loaded(e,n,r){const a=e.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const h={};this.queue.forEach(f=>{KO(f.loaded,[o],u),uM(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{h[m]||(h[m]={});const g=f.loaded[m];g.length&&g.forEach(v=>{h[m][v]===void 0&&(h[m][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(f=>!f.done)}read(e,n,r,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(m,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&g&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,u)},o);return}u(m,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,n);m&&typeof m.then=="function"?m.then(g=>h(null,g)).catch(h):h(null,m)}catch(m){h(m)}return}return f(e,n,h)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ze(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ze(n)&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,h),this.loaded(e,u,h)})}saveMissing(e,n,r,a,o,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const f={...u,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let g;m.length===5?g=m(e,n,r,a,f):g=m(e,n,r,a),g&&typeof g.then=="function"?g.then(v=>h(null,v)).catch(h):h(null,g)}catch(g){h(g)}else m(e,n,r,a,h,f)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const Rx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ze(t[1])&&(e.defaultValue=t[1]),Ze(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Dx=t=>(Ze(t.ns)&&(t.ns=[t.ns]),Ze(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ze(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),bd=()=>{},hM=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class mc extends of{constructor(e={},n){if(super(),this.options=Dx(e),this.services={},this.logger=_r,this.modules={external:[]},hM(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ze(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Rx();this.options={...r,...this.options,...Dx(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?_r.init(a(this.modules.logger),this.options):_r.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=lM;const g=new jx(this.options);this.store=new Ax(this.options.resources,this.options);const v=this.services;v.logger=_r,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new rM(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=a(m),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new sM(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new cM(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(S,...E)=>{this.emit(S,...E)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new qd(this.services,this.options),this.translator.on("*",(S,...E)=>{this.emit(S,...E)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,n||(n=bd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...g)=>this.store[m](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...g)=>(this.store[m](...g),this)});const h=Uu(),f=()=>{const m=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),h}loadResources(e,n=bd){let r=n;const a=Ze(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&o.indexOf(m)<0&&o.push(m)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const a=Uu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=bd),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Uu();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,f)=>{f?this.isLanguageChangingTo===e&&(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...m)=>this.t(...m)),n&&n(h,(...m)=>this.t(...m))},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const f=Ze(h)?h:h&&h[0],m=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ze(h)?[h]:h);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,g=>{o(g,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const a=(o,u,...h)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(h)):f={...u},f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const m=this.options.keySeparator||".";let g;return f.keyPrefix&&Array.isArray(o)?g=o.map(v=>(typeof v=="function"&&(v=Ug(v,{...this.options,...u})),`${f.keyPrefix}${m}${v}`)):(typeof o=="function"&&(o=Ug(o,{...this.options,...u})),g=f.keyPrefix?`${f.keyPrefix}${m}${o}`:o),this.t(g,f)};return Ze(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,f)=>{const m=this.services.backendConnector.state[`${h}|${f}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!a||u(o,e)))}loadNamespaces(e,n){const r=Uu();return this.options.ns?(Ze(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Uu();Ze(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new jx(Rx());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new mc(e,n)}cloneInstance(e={},n=bd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new mc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const h=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},f[m]=Object.keys(f[m]).reduce((g,v)=>(g[v]={...f[m][v]},g),f[m]),f),{});o.store=new Ax(h,a),o.services.resourceStore=o.store}return o.translator=new qd(o.services,a),o.translator.on("*",(h,...f)=>{o.emit(h,...f)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const An=mc.createInstance();An.createInstance=mc.createInstance;An.createInstance;An.dir;An.init;An.loadResources;An.reloadResources;An.use;An.changeLanguage;An.getFixedT;An.t;An.exists;An.setDefaultNamespace;An.hasLoadedNamespace;An.loadNamespaces;An.loadLanguages;const dM=(t,e,n,r)=>{const a=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);Xa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},zx={},TC=(t,e,n,r)=>{Xa(n)&&zx[n]||(Xa(n)&&(zx[n]=new Date),dM(t,e,n,r))},LC=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Vg=(t,e,n)=>{t.loadNamespaces(e,LC(t,n))},Bx=(t,e,n,r)=>{if(Xa(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Vg(t,n,r);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,LC(t,r))},fM=(t,e,n={})=>!e.languages||!e.languages.length?(TC(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,t))return!1}}),Xa=t=>typeof t=="string",pM=t=>typeof t=="object"&&t!==null,mM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gM={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yM=t=>gM[t],vM=t=>t.replace(mM,yM);let Hg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vM};const _M=(t={})=>{Hg={...Hg,...t}},bM=()=>Hg;let AC;const xM=t=>{AC=t},wM=()=>AC,SM={type:"3rdParty",init(t){_M(t.options.react),xM(t)}},CM=M.createContext();class EM{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Um={exports:{}},Vm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function TM(){if(Ix)return Vm;Ix=1;var t=Ec();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function h(v,w){var S=w(),E=r({inst:{value:S,getSnapshot:w}}),T=E[0].inst,j=E[1];return o(function(){T.value=S,T.getSnapshot=w,f(T)&&j({inst:T})},[v,S,w]),a(function(){return f(T)&&j({inst:T}),v(function(){f(T)&&j({inst:T})})},[v]),u(S),S}function f(v){var w=v.getSnapshot;v=v.value;try{var S=w();return!n(v,S)}catch{return!0}}function m(v,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Vm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Vm}var Ux;function LM(){return Ux||(Ux=1,Um.exports=TM()),Um.exports}var AM=LM();const kM=(t,e)=>Xa(e)?e:pM(e)&&Xa(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,jM={t:kM,ready:!1},OM=()=>()=>{},Ni=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:a}=M.useContext(CM)||{},o=n||r||wM();o&&!o.reportNamespaces&&(o.reportNamespaces=new EM),o||TC(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=M.useMemo(()=>({...bM(),...o?.options?.react,...e}),[o,e]),{useSuspense:h,keyPrefix:f}=u,m=M.useMemo(()=>{const N=a||o?.options?.defaultNS;return Xa(N)?[N]:N||["translation"]},[t,a,o]);o?.reportNamespaces?.addUsedNamespaces?.(m);const g=M.useCallback(N=>{if(!o)return OM;const{bindI18n:V,bindI18nStore:q}=u;return V&&o.on(V,N),q&&o.store.on(q,N),()=>{V&&V.split(" ").forEach(I=>o.off(I,N)),q&&q.split(" ").forEach(I=>o.store.off(I,N))}},[o,u]),v=M.useRef(),w=M.useCallback(()=>{if(!o)return jM;const N=!!(o.isInitialized||o.initializedStoreOnce)&&m.every(K=>fM(K,o,u)),V=o.getFixedT(e.lng||o.language,u.nsMode==="fallback"?m:m[0],f),q=v.current;if(q&&q.ready===N&&q.lng===(e.lng||o.language)&&q.keyPrefix===f)return q;const I={t:V,ready:N,lng:e.lng||o.language,keyPrefix:f};return v.current=I,I},[o,m,f,u,e.lng]),[S,E]=M.useState(0),{t:T,ready:j}=AM.useSyncExternalStore(g,w,w);M.useEffect(()=>{if(o&&!j&&!h){const N=()=>E(V=>V+1);e.lng?Bx(o,e.lng,m,N):Vg(o,m,N)}},[o,e.lng,m,j,h,S]);const O=o||{},P=M.useMemo(()=>{const N=[T,O,j];return N.t=T,N.i18n=O,N.ready=j,N},[T,O,j]);if(o&&h&&!j)throw new Promise(N=>{const V=()=>N();e.lng?Bx(o,e.lng,m,V):Vg(o,m,V)});return P},MM=[{code:"en",label:"English",flag:""},{code:"nl",label:"Nederlands",flag:""}];function Fg({className:t=""}){const{i18n:e}=Ni(),n=e.language;return y.jsx("div",{className:`flex items-center gap-2 ${t}`,children:MM.map(r=>y.jsxs("button",{onClick:()=>e.changeLanguage(r.code),className:`px-2 py-1 rounded border text-xs font-semibold transition focus:outline-none flex items-center gap-1 ${n===r.code?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-300 hover:bg-blue-50"}`,"aria-pressed":n===r.code,children:[y.jsx("span",{style:{fontSize:"1.1em"},children:r.flag}),r.label]},r.code))})}const ln={DEFAULT_POSITION:[51.898095078807025,5.772961378097534],DEFAULT_ZOOM:17,MIN_ZOOM:14,MAX_ZOOM:22,SEARCH_ZOOM:21,ZOOM_DELTA:.5,ZOOM_SNAP:.5,RECTANGLE_SIZE:[6,6],MINIMAP:{WIDTH:120,HEIGHT:120,ZOOM_LEVEL:15,AIMING_COLOR:"#1976d2",SHADOW_COLOR:"#90caf9"}},vl={DEFAULT_LOGO:"4x4Vakantiebeurs.png",getDefaultLogoPath:()=>{const t="/Map";return`${t.endsWith("/")?t:`${t}/`}assets/logos/${vl.DEFAULT_LOGO}`}},xd=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function NM({onLogin:t,branding:e}){const{t:n}=Ni(),[r,a]=M.useState(""),[o,u]=M.useState(""),[h,f]=M.useState(!1),[m,g]=M.useState(!1),[v,w]=M.useState(null),[S,E]=M.useState(!1),[T,j]=M.useState(!1),[O,P]=M.useState(""),[N,V]=M.useState(!1),[q,I]=M.useState(!1),K=M.useRef(null);M.useEffect(()=>{const te=localStorage.getItem("adminRememberEmail");te&&(a(te),g(!0))},[]),M.useEffect(()=>{v&&K.current&&K.current.focus()},[v]);const oe=async te=>{te.preventDefault(),E(!0),w(null),m?localStorage.setItem("adminRememberEmail",r):localStorage.removeItem("adminRememberEmail");const{data:pe,error:ce}=await Te.auth.signInWithPassword({email:r,password:o});E(!1),ce?ce.message.includes("Invalid login credentials")?w(n("adminLogin.errors.invalidCredentials")):ce.message.includes("Email not confirmed")?w(ce.message):ce.message.includes("Network")?w(n("adminLogin.errors.networkError")):w(n("adminLogin.errors.unknownError")):t(pe.user)},ee=async te=>{te.preventDefault(),V(!0),w(null);const ce=`${window.location.origin}/Map#/reset-password`,{error:Y}=await Te.auth.resetPasswordForEmail(O,{redirectTo:ce});V(!1),Y?w(n("adminLogin.errors.resetFailed")):(I(!0),setTimeout(()=>{j(!1),I(!1),P("")},5e3))},he=e?.eventName||"4x4 Vakantiebeurs",Q=e?.logo||vl.getDefaultLogoPath();return T?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:y.jsx("div",{className:"w-full max-w-md",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[y.jsx("div",{className:"flex justify-end mb-6",children:y.jsx(Fg,{})}),y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:y.jsx("img",{src:Q,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),y.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:he}),y.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),y.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:n("adminLogin.resetPassword")}),y.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n("adminLogin.resetInstructions")}),q?y.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",role:"alert","aria-live":"polite",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-xl mr-3",children:""}),y.jsx("span",{children:n("adminLogin.resetEmailSent")})]})}):y.jsxs("form",{onSubmit:ee,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"reset-email",className:"label-base",children:n("adminLogin.email")}),y.jsx("input",{id:"reset-email",type:"email",value:O,onChange:te=>P(te.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),required:!0})]}),v&&y.jsx("div",{ref:K,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-xl mr-3",children:""}),y.jsx("span",{className:"text-sm",children:v})]})}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,children:n(N?"adminLogin.loggingIn":"adminLogin.sendResetLink")}),y.jsxs("button",{type:"button",onClick:()=>{j(!1),w(null),P("")},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",n("adminLogin.backToLogin")]})]})]})})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[y.jsx("div",{className:"flex justify-end mb-6",children:y.jsx(Fg,{})}),y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:y.jsx("img",{src:Q,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),y.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:he}),y.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),y.jsx("h2",{className:"text-lg font-semibold mb-6 text-gray-700 text-center",children:n("adminLogin.subtitle")}),y.jsxs("form",{onSubmit:oe,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"label-base",children:n("adminLogin.email")}),y.jsx("input",{id:"email",type:"email",value:r,onChange:te=>a(te.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),"aria-required":"true",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"label-base",children:n("adminLogin.password")}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"password",type:h?"text":"password",value:o,onChange:te=>u(te.target.value),className:"input-base pr-20",placeholder:n("adminLogin.passwordPlaceholder"),"aria-label":n("adminLogin.password"),"aria-required":"true",required:!0}),y.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>f(te=>!te),"aria-label":n(h?"adminLogin.hide":"adminLogin.show"),tabIndex:-1,children:h?"":""})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("label",{htmlFor:"remember-me",className:"flex items-center cursor-pointer group",children:[y.jsx("input",{id:"remember-me",type:"checkbox",checked:m,onChange:te=>g(te.target.checked),className:"mr-2 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 cursor-pointer","aria-label":n("adminLogin.rememberMe")}),y.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:n("adminLogin.rememberMe")})]}),y.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:n("adminLogin.forgotPassword")})]}),v&&y.jsx("div",{ref:K,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-xl mr-3",children:""}),y.jsx("span",{className:"text-sm font-medium",children:v})]})}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",disabled:S,children:S?y.jsxs("span",{className:"flex items-center justify-center",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("adminLogin.loggingIn")]}):n("adminLogin.loginButton")})]})]}),y.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:y.jsx("p",{children:"Secure manager access only"})})]})})}function PM({branding:t}){const{t:e}=Ni();Tl();const[n,r]=M.useState(""),[a,o]=M.useState(""),[u,h]=M.useState(!1),[f,m]=M.useState(null),[g,v]=M.useState(!1),[w,S]=M.useState(!1),E=M.useRef(null);M.useEffect(()=>{f&&E.current&&E.current.focus()},[f]),M.useEffect(()=>{(async()=>{const{data:{session:N}}=await Te.auth.getSession();N||(m(e("resetPassword.errors.invalidToken")),setTimeout(()=>{const V="/Map",q=V.endsWith("/")?V:`${V}/`;window.location.href=`${q}#/admin`},3e3))})()},[e]);const T=async P=>{if(P.preventDefault(),m(null),n.length<6){m(e("resetPassword.errors.passwordTooShort"));return}if(n!==a){m(e("resetPassword.errors.passwordMismatch"));return}v(!0);const{error:N}=await Te.auth.updateUser({password:n});v(!1),N?m(e("resetPassword.errors.updateFailed")):(S(!0),setTimeout(()=>{const V="/Map",q=V.endsWith("/")?V:`${V}/`;window.location.href=`${q}#/admin`},3e3))},j=t?.eventName||"4x4 Vakantiebeurs",O=t?.logo||vl.getDefaultLogoPath();return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:y.jsx("div",{className:"w-full max-w-md",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[y.jsx("div",{className:"flex justify-end mb-6",children:y.jsx(Fg,{})}),y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:y.jsx("img",{src:O,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),y.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:j}),y.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),y.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:e("resetPassword.title")}),y.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("resetPassword.instructions")}),w?y.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"polite",children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx("span",{className:"text-xl mr-3",children:""}),y.jsx("span",{className:"font-semibold",children:e("resetPassword.success")})]}),y.jsx("p",{className:"text-sm ml-8",children:e("resetPassword.redirecting")})]}):y.jsxs("form",{onSubmit:T,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"new-password",className:"label-base",children:e("resetPassword.newPassword")}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"new-password",type:u?"text":"password",value:n,onChange:P=>r(P.target.value),className:"input-base",placeholder:e("resetPassword.newPasswordPlaceholder"),"aria-label":e("resetPassword.newPassword"),required:!0,minLength:6}),y.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors text-sm","aria-label":e(u?"resetPassword.hidePassword":"resetPassword.showPassword"),children:u?"":""})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("resetPassword.passwordRequirements")})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirm-password",className:"label-base",children:e("resetPassword.confirmPassword")}),y.jsx("input",{id:"confirm-password",type:u?"text":"password",value:a,onChange:P=>o(P.target.value),className:"input-base",placeholder:e("resetPassword.confirmPasswordPlaceholder"),"aria-label":e("resetPassword.confirmPassword"),required:!0})]}),f&&y.jsx("div",{ref:E,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-xl mr-3",children:""}),y.jsx("span",{className:"text-sm",children:f})]})}),y.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:g,children:e(g?"resetPassword.updating":"resetPassword.updatePassword")}),y.jsxs("button",{type:"button",onClick:()=>{const P="/Map",N=P.endsWith("/")?P:`${P}/`;window.location.href=`${N}#/admin`},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",e("resetPassword.backToLogin")]})]})]})})})}var Hm={exports:{}},Fm,Vx;function RM(){if(Vx)return Fm;Vx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fm=t,Fm}var $m,Hx;function DM(){if(Hx)return $m;Hx=1;var t=RM();function e(){}function n(){}return n.resetWarningCache=e,$m=function(){function r(u,h,f,m,g,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},$m}var Fx;function kC(){return Fx||(Fx=1,Hm.exports=DM()()),Hm.exports}var zM=kC();const ke=eo(zM);var qm,$x;function BM(){return $x||($x=1,qm=(function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(r,a,o){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var u in r)n.d(o,u,(function(h){return r[h]}).bind(null,u));return o},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=2)})([function(t,e){t.exports=kC()},function(t,e){t.exports=Ec()},function(t,e,n){n.r(e);var r=n(1),a=n(0),o=function(){return(o=Object.assign||function(E){for(var T,j=1,O=arguments.length;j<O;j++)for(var P in T=arguments[j])Object.prototype.hasOwnProperty.call(T,P)&&(E[P]=T[P]);return E}).apply(this,arguments)},u=function(E,T){var j={};for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&T.indexOf(O)<0&&(j[O]=E[O]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(O=Object.getOwnPropertySymbols(E);P<O.length;P++)T.indexOf(O[P])<0&&Object.prototype.propertyIsEnumerable.call(E,O[P])&&(j[O[P]]=E[O[P]])}return j},h=0,f=r.forwardRef((function(E,T){var j=E.title,O=j===void 0?null:j,P=E.description,N=P===void 0?null:P,V=E.size,q=V===void 0?null:V,I=E.color,K=I===void 0?"currentColor":I,oe=E.horizontal,ee=oe===void 0?null:oe,he=E.vertical,Q=he===void 0?null:he,te=E.rotate,pe=te===void 0?null:te,ce=E.spin,Y=ce===void 0?null:ce,H=E.style,W=H===void 0?{}:H,se=E.children,xe=u(E,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);h++;var B,U=Y!==null&&Y,ie=r.Children.map(se,(function(de){var we=de;U!==!0&&(U=(Y===null?we.props.spin:Y)===!0);var Re=we.props.size;typeof q=="number"&&typeof we.props.size=="number"&&(Re=we.props.size/q);var ve={size:Re,color:K===null?we.props.color:K,horizontal:ee===null?we.props.horizontal:ee,vertical:Q===null?we.props.vertical:Q,rotate:pe===null?we.props.rotate:pe,spin:Y===null?we.props.spin:Y,inStack:!0};return r.cloneElement(we,ve)}));q!==null&&(W.width=typeof q=="string"?q:1.5*q+"rem");var D,Z="stack_labelledby_"+h,ne="stack_describedby_"+h;if(O)B=N?Z+" "+ne:Z;else if(D="presentation",N)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:T,viewBox:"0 0 24 24",style:W,role:D,"aria-labelledby":B},xe),O&&r.createElement("title",{id:Z},O),N&&r.createElement("desc",{id:ne},N),U&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),ie)}));f.displayName="Stack",f.propTypes={size:a.oneOfType([a.number,a.string]),color:a.string,horizontal:a.bool,vertical:a.bool,rotate:a.number,spin:a.oneOfType([a.bool,a.number]),children:a.oneOfType([a.arrayOf(a.node),a.node]).isRequired,className:a.string,style:a.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var m=f;n.d(e,"Icon",(function(){return S})),n.d(e,"Stack",(function(){return m}));var g=function(){return(g=Object.assign||function(E){for(var T,j=1,O=arguments.length;j<O;j++)for(var P in T=arguments[j])Object.prototype.hasOwnProperty.call(T,P)&&(E[P]=T[P]);return E}).apply(this,arguments)},v=function(E,T){var j={};for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&T.indexOf(O)<0&&(j[O]=E[O]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(O=Object.getOwnPropertySymbols(E);P<O.length;P++)T.indexOf(O[P])<0&&Object.prototype.propertyIsEnumerable.call(E,O[P])&&(j[O[P]]=E[O[P]])}return j},w=0,S=r.forwardRef((function(E,T){var j=E.path,O=E.id,P=O===void 0?++w:O,N=E.title,V=N===void 0?null:N,q=E.description,I=q===void 0?null:q,K=E.size,oe=K===void 0?null:K,ee=E.color,he=ee===void 0?"currentColor":ee,Q=E.horizontal,te=Q!==void 0&&Q,pe=E.vertical,ce=pe!==void 0&&pe,Y=E.rotate,H=Y===void 0?0:Y,W=E.spin,se=W!==void 0&&W,xe=E.style,B=xe===void 0?{}:xe,U=E.inStack,ie=U!==void 0&&U,D=v(E,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),Z={},ne=[];oe!==null&&(ie?ne.push("scale("+oe+")"):(B.width=typeof oe=="string"?oe:1.5*oe+"rem",B.height=B.width)),te&&ne.push("scaleX(-1)"),ce&&ne.push("scaleY(-1)"),H!==0&&ne.push("rotate("+H+"deg)"),he!==null&&(Z.fill=he);var de=r.createElement("path",g({d:j,style:Z},ie?D:{})),we=de;ne.length>0&&(B.transform=ne.join(" "),B.transformOrigin="center",ie&&(we=r.createElement("g",{style:B},de,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Re,ve=we,Le=se===!0||typeof se!="number"?2:se,Ve=!ie&&(te||ce);if(Le<0&&(Ve=!Ve),se&&(ve=r.createElement("g",{style:{animation:"spin"+(Ve?"-inverse":"")+" linear "+Math.abs(Le)+"s infinite",transformOrigin:"center"}},we,!(te||ce||H!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),ie)return ve;var De,He="icon_labelledby_"+P,gt="icon_describedby_"+P;if(V)Re=I?He+" "+gt:He;else if(De="presentation",I)throw new Error("title attribute required when description is set");return r.createElement("svg",g({ref:T,viewBox:"0 0 24 24",style:B,role:De,"aria-labelledby":Re},D),V&&r.createElement("title",{id:He},V),I&&r.createElement("desc",{id:gt},I),!ie&&se&&(Ve?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),ve)}));S.displayName="Icon",S.propTypes={path:a.string.isRequired,size:a.oneOfType([a.number,a.string]),color:a.string,horizontal:a.bool,vertical:a.bool,rotate:a.number,spin:a.oneOfType([a.bool,a.number]),style:a.object,inStack:a.bool,className:a.string},S.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},e.default=S}])),qm}var jC=BM();const Ae=eo(jC);var IM="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",UM="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",OC="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",MC="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",qx="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",Zx="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",VM="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",HM="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",FM="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",$M="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",Ja="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",Gx="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",qM="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",NC="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Kx="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",ZM="M15 4A8 8 0 1 1 7 12A8 8 0 0 1 15 4M3 12A6 6 0 0 0 7 17.65V19.74A8 8 0 0 1 7 4.26V6.35A6 6 0 0 0 3 12Z",GM="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z",KM="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",Qa="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",PC="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",WM="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",YM="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Ry="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",Ka="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z",XM="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",Wx="M22,19L19,17L22,15V19M15,15L19,9L22,13L18,16L15,15M5,17L2,19V15L5,17M9,15L6,16L2,13L5,9L9,15M14,6L18,8L13,15H11L6,8L10,6H14Z",Yx="M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z",JM="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",Xx="M8.06,2C7.88,3.17 8.17,4.16 8.95,4.97C9.45,5.47 9.61,6.14 9.42,7H10.41C10.53,6.45 10.55,6 10.45,5.55C10.36,5.13 10.05,4.63 9.5,4.03C9.05,3.47 8.89,2.8 9.05,2H8.06M10.55,2C10.36,3.17 10.66,4.16 11.44,4.97C11.94,5.47 12.09,6.14 11.91,7H12.89C13,6.45 13.03,6 12.94,5.55C12.84,5.13 12.53,4.63 12,4.03C11.53,3.47 11.38,2.8 11.53,2H10.55M13.08,2C12.89,3.17 13.19,4.16 13.97,4.97C14.47,5.47 14.61,6.14 14.39,7H15.42C15.55,6.45 15.56,6 15.47,5.55C15.38,5.13 15.06,4.63 14.53,4.03C14.06,3.47 13.91,2.8 14.06,2H13.08M5,8C5,9.42 5.39,10.7 6.14,11.84C6.87,12.96 7.91,13.85 9.14,14.39L5.16,20.44C5.06,20.56 5,20.75 5,21C5,21.41 5.16,21.69 5.44,21.84C5.56,21.94 5.75,22 6,22C6.41,22 6.69,21.84 6.84,21.56L7.83,19.97H14.2C14.41,20.55 14.79,21.05 15.28,21.42C15.78,21.8 16.36,22 17,22C17.83,22 18.53,21.69 19.13,21.09C19.72,20.5 20,19.8 20,19C20,18.17 19.72,17.47 19.13,16.88C18.53,16.28 17.83,16 17,16C16.36,16 15.78,16.17 15.28,16.55C14.78,16.92 14.42,17.41 14.2,18H9.14L11.11,14.95C11.27,15 11.56,15 12,15C12.44,15 12.73,15 12.89,14.95L13.88,16.5C14.29,15.96 14.84,15.54 15.47,15.28L14.91,14.39C16.03,13.89 17,13 17.79,11.77C18.59,10.5 19,9.27 19,8H5M17,18C17.3,18 17.53,18.09 17.72,18.28C17.91,18.47 18,18.72 18,19C18,19.27 17.91,19.5 17.72,19.71C17.54,19.91 17.28,20 17,20C16.74,20 16.5,19.91 16.29,19.71C16.09,19.5 16,19.26 16,19C16,18.7 16.09,18.47 16.29,18.28C16.5,18.09 16.73,18 17,18Z",QM="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",eN="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",tN="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",nN="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",iN="M12 0L3 7L4.63 8.27L12 14L19.36 8.27L21 7L12 0M19.37 10.73L12 16.47L4.62 10.74L3 12L12 19L21 12L19.37 10.73M19.37 15.73L12 21.47L4.62 15.74L3 17L12 24L21 17L19.37 15.73Z",rN="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",sN="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",aN="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",oN="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",io="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",RC="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z",lf="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",lN="M14,11.5A2.5,2.5 0 0,0 16.5,9A2.5,2.5 0 0,0 14,6.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 14,11.5M14,2C17.86,2 21,5.13 21,9C21,14.25 14,22 14,22C14,22 7,14.25 7,9A7,7 0 0,1 14,2M5,9C5,13.5 10.08,19.66 11,20.81L10,22C10,22 3,14.25 3,9C3,5.83 5.11,3.15 8,2.29C6.16,3.94 5,6.33 5,9Z",uN="M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z",cN="M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z",hN="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",DC="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",zC="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",dN="M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z",fN="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",pN="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",mN="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",gN="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z";const Zd="Logos",Jx=5*1024*1024,yN=["image/png","image/jpeg","image/jpg","image/webp","image/avif","image/svg+xml"];async function vN(t,e="companies"){try{const n=BC(t);if(!n.valid)return{error:n.error};const r=t.name.split(".").pop(),a=Date.now(),o=Math.random().toString(36).substring(2,8),u=`${a}_${o}.${r}`,h=e?`${e}/${u}`:u,{data:f,error:m}=await Te.storage.from(Zd).upload(h,t,{cacheControl:"3600",upsert:!1});if(m)return console.error("Upload error:",m),{error:`Upload failed: ${m.message}`};const{data:{publicUrl:g}}=Te.storage.from(Zd).getPublicUrl(h);return{url:g,path:h,error:null}}catch(n){return console.error("Upload service error:",n),{error:`Upload failed: ${n.message}`}}}function BC(t){return t?yN.includes(t.type)?t.size>Jx?{valid:!1,error:`File too large. Maximum size: ${Jx/1024/1024}MB`}:{valid:!0,error:null}:{valid:!1,error:"Invalid file type. Allowed: PNG, JPG, WEBP, AVIF, SVG"}:{valid:!1,error:"No file selected"}}async function _N(){try{const{data:t,error:e}=await Te.storage.listBuckets();return e?{exists:!1,error:`Error accessing storage: ${e.message}`}:t?.some(r=>r.name===Zd)?{exists:!0,error:null}:{exists:!1,error:`Storage bucket "${Zd}" not found. Available buckets: ${t?.map(r=>r.name).join(", ")||"none"}`}}catch(t){return{exists:!1,error:`Error checking storage bucket: ${t.message}`}}}function gc({currentLogo:t="",onUploadComplete:e,onDelete:n,folder:r="companies",label:a="Upload Logo",showPreview:o=!0,allowDelete:u=!1}){const[h,f]=M.useState(!1),[m,g]=M.useState(null),[v,w]=M.useState(""),S=M.useRef(null),E=async j=>{const O=j.target.files?.[0];if(!O)return;g(null),w("");const P=BC(O);if(!P.valid){g("error"),w(P.error);return}f(!0);const N=await vN(O,r);f(!1),N.error?(g("error"),w(N.error)):(g("success"),w("Upload successful!"),e&&e(N.url,N.path),setTimeout(()=>{g(null),w("")},3e3)),S.current&&(S.current.value="")},T=()=>{n&&n()};return y.jsxs("div",{className:"flex flex-col gap-2",children:[o&&t&&y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("img",{src:Ji(t),alt:"Current logo",className:"h-12 w-12 object-contain border rounded p-1"}),u&&n&&y.jsx("button",{type:"button",onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove logo",children:y.jsx(Ae,{path:Ry,size:.7})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{ref:S,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/avif,image/svg+xml",onChange:E,className:"hidden",id:`logo-upload-${r}`}),y.jsx("label",{htmlFor:`logo-upload-${r}`,className:`
            flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-xs
            ${h?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}
            text-white transition-colors whitespace-nowrap
          `,children:h?y.jsxs(y.Fragment,{children:[y.jsx(Ae,{path:sN,size:.8,spin:!0}),"Uploading..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Ae,{path:mN,size:.8}),a]})}),m&&y.jsxs("div",{className:"flex items-center gap-2",children:[m==="success"&&y.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[y.jsx(Ae,{path:Ja,size:.8}),y.jsx("span",{className:"text-sm",children:v})]}),m==="error"&&y.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[y.jsx(Ae,{path:UM,size:.8}),y.jsx("span",{className:"text-sm",children:v})]})]})]}),y.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PNG, JPG, WEBP, AVIF, SVG  Max size: 5MB"})]})}gc.propTypes={currentLogo:ke.string,onUploadComplete:ke.func.isRequired,onDelete:ke.func,folder:ke.string,label:ke.string,showPreview:ke.bool,allowDelete:ke.bool};gc.defaultProps={currentLogo:"",onDelete:null,folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!1};function bN(){const[t,e]=M.useState({checking:!0,exists:!1,error:null}),[n,r]=M.useState(""),[a,o]=M.useState([]),[u,h]=M.useState(null);M.useEffect(()=>{f(),m()},[]);const f=async()=>{e({checking:!0,exists:!1,error:null});const v=await _N();e({checking:!1,exists:v.exists,error:v.error})},m=async()=>{const{data:{user:v}}=await Te.auth.getUser();h(v)},g=(v,w)=>{r(v),o([{timestamp:new Date().toISOString(),url:v,path:w,success:!0},...a])};return y.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Supabase Storage Test Page"}),y.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Authentication Status"}),u?y.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[y.jsx("span",{children:""}),y.jsxs("span",{children:["Authenticated as: ",u.email]})]}):y.jsxs("div",{className:"text-red-600 flex items-center gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"Not authenticated - Please log in first"})]})]}),y.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"Storage Bucket Status"}),y.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Recheck"})]}),t.checking?y.jsx("div",{className:"text-gray-600",children:"Checking bucket..."}):t.exists?y.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"Bucket 'logos' exists and is accessible"})]}):y.jsxs("div",{children:[y.jsxs("div",{className:"text-red-600 flex items-center gap-2 mb-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"Bucket 'logos' not found or inaccessible"})]}),t.error&&y.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:["Error: ",t.error]}),y.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[y.jsx("p",{className:"font-semibold mb-2",children:"Setup Required:"}),y.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[y.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),y.jsx("li",{children:"Create a new public bucket named 'logos'"}),y.jsx("li",{children:"Set up RLS policies (see SUPABASE_STORAGE_SETUP.md)"}),y.jsx("li",{children:"Refresh this page"})]})]})]})]}),u&&t.exists&&y.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white",children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Test Logo Upload"}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a test image to verify everything works correctly."}),y.jsx(gc,{currentLogo:n,onUploadComplete:g,folder:"test",label:"Upload Test Image",showPreview:!0,allowDelete:!0,onDelete:()=>r("")})]}),a.length>0&&y.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload History"}),y.jsx("div",{className:"space-y-2",children:a.map((v,w)=>y.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"text-green-600 font-semibold",children:" Success"}),y.jsx("span",{className:"text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),y.jsxs("div",{className:"text-gray-600",children:[y.jsxs("div",{children:[y.jsx("strong",{children:"URL:"})," ",v.url]}),y.jsxs("div",{children:[y.jsx("strong",{children:"Path:"})," ",v.path]})]}),v.url&&y.jsx("img",{src:v.url,alt:"Uploaded",className:"mt-2 h-20 object-contain border rounded"})]},w))})]}),y.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Documentation"}),y.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"For complete setup instructions, see:"}),y.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[y.jsx("li",{children:"SUPABASE_STORAGE_SETUP.md - Bucket configuration and policies"}),y.jsx("li",{children:"LOGO_UPLOADER_INTEGRATION.md - Integration examples"})]})]})]})}function xN(){const t=Tl(),e=er(),n=[{id:"home",label:"Home",icon:tN,path:"/"},{id:"map",label:"Map",icon:RC,path:"/map"},{id:"exhibitors",label:"Exhibitors",icon:JM,path:"/exhibitors"},{id:"schedule",label:"Schedule",icon:$M,path:"/schedule"}],r=a=>{t(a)};return y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:y.jsx("div",{className:"flex justify-around items-center h-16 max-w-screen-xl mx-auto",children:n.map(a=>{const o=e.pathname===a.path;return y.jsxs("button",{onClick:()=>r(a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${o?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[y.jsx(Ae,{path:a.icon,size:1.1,className:"mb-1"}),y.jsx("span",{className:`text-xs font-medium ${o?"font-semibold":""}`,children:a.label})]},a.id)})})})}const IC=M.createContext();function wN({children:t}){const[e,n]=M.useState(vl.DEFAULT_LOGO),[r,a]=M.useState(!0);return M.useEffect(()=>{async function o(){try{const{data:h,error:f}=await Te.from("Organization_Profile").select("logo").eq("id",1).single();if(f){console.error("Error fetching organization logo:",f);return}h&&h.logo&&h.logo.trim()!==""&&n(h.logo)}catch(h){console.error("Error fetching organization logo:",h)}finally{a(!1)}}o();const u=Te.channel("organization-logo-sync").on("postgres_changes",{event:"*",schema:"public",table:"Organization_Profile",filter:"id=eq.1"},h=>{h.new&&h.new.logo&&(h.new.logo.trim()!==""?n(h.new.logo):n(vl.DEFAULT_LOGO))}).subscribe();return()=>{Te.removeChannel(u)}},[]),y.jsx(IC.Provider,{value:{organizationLogo:e,loading:r},children:t})}function Ws(){const t=M.useContext(IC);if(t===void 0)throw new Error("useOrganizationLogo must be used within OrganizationLogoProvider");return t}function Dy({selectedYear:t,branding:e}){const n=Tl(),{organizationLogo:r}=Ws(),a={name:e?.eventName||"4x4 Vakantiebeurs",date:"October 10-11, 2026",location:"WaterGoed, BeNeLux",hours:"10:00 - 18:00"};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[y.jsx("div",{className:"bg-white shadow-sm",children:y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[r&&y.jsx("div",{className:"mb-6",children:y.jsx("img",{src:Ji(r),alt:a.name,className:"h-24 mx-auto object-contain"})}),y.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",style:{fontFamily:e?.fontFamily},children:["Welcome to ",a.name]}),y.jsx("p",{className:"text-lg text-gray-600 mb-6",children:a.date}),y.jsxs("div",{className:"flex justify-center gap-6 mb-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"67"}),y.jsx("div",{className:"text-sm text-gray-600",children:"Exhibitors"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"2"}),y.jsx("div",{className:"text-sm text-gray-600",children:"Days"})]})]}),y.jsx("button",{onClick:()=>n("/map"),className:"bg-orange-600 hover:bg-orange-700 text-white font-semibold px-8 py-3 rounded-lg text-lg transition-colors",children:"View Interactive Map"})]})}),y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[y.jsx("span",{children:""}),"Opening Hours"]}),y.jsx("p",{className:"text-gray-700",children:a.hours})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[y.jsx("span",{children:""}),"Location"]}),y.jsx("p",{className:"text-gray-700",children:a.location})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[y.jsx("span",{children:""}),"Parking"]}),y.jsx("p",{className:"text-gray-700",children:"Free parking available on site"})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[y.jsx("span",{children:""}),"WiFi"]}),y.jsx("p",{className:"text-gray-700",children:"Network: Event-Guest"})]})]}),y.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:y.jsxs("p",{className:"text-sm text-blue-800",children:[" ",y.jsx("strong",{children:"Note:"})," This is a Phase 1 placeholder. In Phase 2, this page will show real event data, welcome messages, and upcoming activities."]})})]})]})}Dy.propTypes={selectedYear:ke.number,branding:ke.shape({eventName:ke.string,fontFamily:ke.string})};Dy.defaultProps={selectedYear:new Date().getFullYear(),branding:null};function UC(t){const e=t||vl.DEFAULT_LOGO;return`${wl()}assets/logos/${e}`}function jc(t,e){return t&&t.trim()!==""?Ji(t):UC(e)}function SN(t){const[e,n]=M.useState([]),r=M.useCallback(f=>e.includes(f),[e]),a=M.useCallback(f=>{n(m=>m.includes(f)?m.filter(g=>g!==f):[...m,f])},[]),o=M.useCallback(f=>{n(m=>m.includes(f)?m:[...m,f])},[]),u=M.useCallback(f=>{n(m=>m.filter(g=>g!==f))},[]),h=M.useCallback(()=>{n([])},[]);return{favorites:e,isFavorite:r,toggleFavorite:a,addFavorite:o,removeFavorite:u,clearAllFavorites:h}}const VC=M.createContext(null);function Qx({selectedYear:t,children:e}){const n=SN();return y.jsx(VC.Provider,{value:n,children:e})}function uf(){const t=M.useContext(VC);if(!t)throw new Error("useFavoritesContext must be used within FavoritesProvider");return t}function Oc({isFavorite:t,onToggle:e,size:n="md",className:r=""}){const a={sm:.8,md:1,lg:1.2},o=a[n]||a.md,u=h=>{h.stopPropagation(),h.preventDefault(),e()};return y.jsx("button",{onClick:u,className:`transition-all ${t?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"} ${r}`,title:t?"Remove from favorites":"Add to favorites","aria-label":t?"Remove from favorites":"Add to favorites",children:y.jsx(Ae,{path:t?fN:pN,size:o,className:"drop-shadow-sm"})})}Oc.propTypes={isFavorite:ke.bool.isRequired,onToggle:ke.func.isRequired,size:ke.oneOf(["sm","md","lg"]),className:ke.string};Oc.defaultProps={size:"md",className:""};function CN({markersState:t,selectedYear:e}){const n=Tl(),{organizationLogo:r}=Ws(),[a,o]=M.useState(""),[u,h]=M.useState(!1),{favorites:f,isFavorite:m,toggleFavorite:g}=uf(),v=M.useMemo(()=>t.filter(E=>E.id<1e3&&E.name).sort((E,T)=>{const j=(E.name||"").toLowerCase(),O=(T.name||"").toLowerCase();return j.localeCompare(O)}),[t]),w=M.useMemo(()=>{let E=v;if(u&&(E=E.filter(T=>T.companyId&&m(T.companyId))),a){const T=a.toLowerCase();E=E.filter(j=>j.name?.toLowerCase().includes(T)||j.glyph?.toLowerCase().includes(T))}return E},[v,a,u,m]),S=E=>{n(`/map?focus=${E}`)};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[y.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Exhibitors"}),y.jsxs("div",{className:"relative",children:[y.jsx(Ae,{path:io,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search exhibitors or booth number...",value:a,onChange:E=>o(E.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),y.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",w.length," of ",v.length," exhibitors",f.length>0&&`  ${f.length} favorited`]}),f.length>0&&y.jsxs("button",{onClick:()=>h(!u),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${u?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[y.jsx(Ae,{path:XM,size:.7}),"Favorites Only"]})]})]})}),y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[w.length===0?y.jsx("div",{className:"text-center py-12",children:y.jsx("p",{className:"text-gray-500",children:"No exhibitors found"})}):y.jsx("div",{className:"space-y-3",children:w.map(E=>y.jsx("div",{onClick:()=>S(E.id),className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer p-4",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:y.jsx("img",{src:jc(E.logo,r),alt:E.name,className:"max-w-full max-h-full object-contain p-2"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:E.name}),E.companyId&&y.jsx(Oc,{isFavorite:m(E.companyId),onToggle:()=>g(E.companyId),size:"md",className:"flex-shrink-0"})]}),E.glyph&&y.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[y.jsx(Ae,{path:lf,size:.7,className:"text-orange-600"}),y.jsxs("span",{className:"text-sm font-medium text-orange-600",children:["Booth ",E.glyph]})]}),y.jsx("div",{className:"mt-2",children:y.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Coming Soon: Categories"})}),E.info&&y.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:E.info})]})]})},E.id))}),y.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:y.jsxs("p",{className:"text-sm text-blue-800",children:[" ",y.jsx("strong",{children:"Note:"})," Coming in future phases:",y.jsxs("ul",{className:"list-disc list-inside mt-2",children:[y.jsx("li",{children:"Category filtering"}),y.jsx("li",{children:"Sort options"})]})]})})]})]})}function EN({selectedYear:t}){const e=[{id:1,title:"RC Car Demonstrations",description:"Watch professional RC drivers perform stunts and show off their skills",startTime:"10:00",endTime:"11:30",location:"RC Arena",status:"upcoming"},{id:2,title:"Flight Demonstrations",description:"Drone and aircraft flight shows featuring the latest technology",startTime:"12:00",endTime:"13:00",location:"Outdoor Field",status:"upcoming"},{id:3,title:"4x4 Off-Road Workshop",description:"Learn advanced off-road driving techniques from experienced instructors",startTime:"14:00",endTime:"15:30",location:"Workshop Tent",status:"upcoming"}],n=a=>{switch(a){case"current":return"border-l-orange-600 bg-orange-50";case"upcoming":return"border-l-blue-600 bg-blue-50";case"past":return"border-l-gray-300 bg-gray-50 opacity-60";default:return"border-l-gray-300"}},r=a=>{switch(a){case"current":return y.jsx("span",{className:"inline-block px-2 py-1 bg-red-600 text-white text-xs font-semibold rounded",children:" LIVE"});case"upcoming":return y.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600 text-white text-xs font-semibold rounded",children:"Upcoming"});case"past":return y.jsx("span",{className:"inline-block px-2 py-1 bg-gray-400 text-white text-xs font-semibold rounded",children:"Ended"});default:return null}};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[y.jsx("div",{className:"bg-white border-b",children:y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Event Schedule"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Plan your day at the event"})]})}),y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[y.jsx("div",{className:"space-y-4",children:e.map(a=>y.jsxs("div",{className:`bg-white rounded-lg shadow border-l-4 ${n(a.status)} p-4 transition-all hover:shadow-md`,children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ae,{path:KM,size:.9,className:"text-gray-600"}),y.jsxs("span",{className:"font-semibold text-gray-900",children:[a.startTime," - ",a.endTime]})]}),r(a.status)]}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a.title}),y.jsx("p",{className:"text-gray-700 mb-3",children:a.description}),y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx(Ae,{path:lf,size:.8,className:"text-orange-600"}),y.jsxs("span",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:"Location:"})," ",a.location]})]})]},a.id))}),y.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(Ae,{path:nN,size:1,className:"text-blue-600 flex-shrink-0 mt-0.5"}),y.jsxs("div",{className:"text-sm text-blue-800",children:[y.jsx("p",{className:"font-semibold mb-1",children:"Phase 1 Placeholder"}),y.jsx("p",{className:"mb-2",children:"This is sample data. In Phase 6, this schedule will be:"}),y.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[y.jsx("li",{children:"Connected to Event_Schedule database table"}),y.jsx("li",{children:'Show real-time "LIVE" status for current activities'}),y.jsx("li",{children:"Allow tapping location to view on map"}),y.jsx("li",{children:"Automatically updated when admins add/edit activities"}),y.jsx("li",{children:"Highlight upcoming activities (within 30 minutes)"})]})]})]})})]})]})}function cf(){const[t,e]=M.useState(null),[n,r]=M.useState(!0);return M.useEffect(()=>{Te.auth.getSession().then(({data:h})=>{const f=h?.session?.user?.user_metadata?.role||null;e(f),r(!1)});const{data:u}=Te.auth.onAuthStateChange((h,f)=>{const m=f?.user?.user_metadata?.role||null;e(m),r(!1)});return()=>{u?.subscription?.unsubscribe()}},[]),{role:t,loading:n,hasRole:u=>t?t==="super_admin"?!0:t===u:!1,hasAnyRole:u=>t?t==="super_admin"?!0:u.includes(t):!1,isSuperAdmin:t==="super_admin",isSystemManager:t==="system_manager",isEventManager:t==="event_manager"}}function TN(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const LN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kN={};function e1(t,e){return(kN.jsx?AN:LN).test(t)}const jN=/[ \t\n\f\r]/g;function ON(t){return typeof t=="object"?t.type==="text"?t1(t.value):!1:t1(t)}function t1(t){return t.replace(jN,"")===""}class Mc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Mc.prototype.normal={};Mc.prototype.property={};Mc.prototype.space=void 0;function HC(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new Mc(n,r,e)}function $g(t){return t.toLowerCase()}class Jn{constructor(e,n){this.attribute=n,this.property=e}}Jn.prototype.attribute="";Jn.prototype.booleanish=!1;Jn.prototype.boolean=!1;Jn.prototype.commaOrSpaceSeparated=!1;Jn.prototype.commaSeparated=!1;Jn.prototype.defined=!1;Jn.prototype.mustUseProperty=!1;Jn.prototype.number=!1;Jn.prototype.overloadedBoolean=!1;Jn.prototype.property="";Jn.prototype.spaceSeparated=!1;Jn.prototype.space=void 0;let MN=0;const Qe=ro(),tn=ro(),qg=ro(),Se=ro(),Lt=ro(),dl=ro(),ci=ro();function ro(){return 2**++MN}const Zg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:tn,commaOrSpaceSeparated:ci,commaSeparated:dl,number:Se,overloadedBoolean:qg,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),Zm=Object.keys(Zg);class zy extends Jn{constructor(e,n,r,a){let o=-1;if(super(e,n),n1(this,"space",a),typeof r=="number")for(;++o<Zm.length;){const u=Zm[o];n1(this,Zm[o],(r&Zg[u])===Zg[u])}}}zy.prototype.defined=!0;function n1(t,e,n){n&&(t[e]=n)}function Ll(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const o=new zy(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[$g(r)]=r,n[$g(o.attribute)]=r}return new Mc(e,n,t.space)}const FC=Ll({properties:{ariaActiveDescendant:null,ariaAtomic:tn,ariaAutoComplete:null,ariaBusy:tn,ariaChecked:tn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:tn,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:tn,ariaFlowTo:Lt,ariaGrabbed:tn,ariaHasPopup:null,ariaHidden:tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:Se,ariaLive:null,ariaModal:tn,ariaMultiLine:tn,ariaMultiSelectable:tn,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:tn,ariaReadOnly:tn,ariaRelevant:null,ariaRequired:tn,ariaRoleDescription:Lt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:tn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function $C(t,e){return e in t?t[e]:e}function qC(t,e){return $C(t,e.toLowerCase())}const NN=Ll({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dl,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:Lt,autoFocus:Qe,autoPlay:Qe,blocking:Lt,capture:null,charSet:null,checked:Qe,cite:null,className:Lt,cols:Se,colSpan:null,content:null,contentEditable:tn,controls:Qe,controlsList:Lt,coords:Se|dl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:qg,draggable:tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:Lt,height:Se,hidden:qg,high:Se,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:Qe,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:Se,pattern:null,ping:Lt,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:Lt,required:Qe,reversed:Qe,rows:Se,rowSpan:Se,sandbox:Lt,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:tn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:tn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:qC}),PN=Ll({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ci,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dl,g2:dl,glyphName:dl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:ci,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ci,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ci,rev:ci,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ci,requiredFeatures:ci,requiredFonts:ci,requiredFormats:ci,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:ci,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ci,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ci,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$C}),ZC=Ll({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),GC=Ll({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qC}),KC=Ll({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),RN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},DN=/[A-Z]/g,i1=/-[a-z]/g,zN=/^data[-\w.:]+$/i;function BN(t,e){const n=$g(e);let r=e,a=Jn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zN.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(i1,UN);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!i1.test(o)){let u=o.replace(DN,IN);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=zy}return new a(r,e)}function IN(t){return"-"+t.toLowerCase()}function UN(t){return t.charAt(1).toUpperCase()}const VN=HC([FC,NN,ZC,GC,KC],"html"),By=HC([FC,PN,ZC,GC,KC],"svg");function HN(t){return t.join(" ").trim()}var tl={},Gm,r1;function FN(){if(r1)return Gm;r1=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,f=`
`,m="/",g="*",v="",w="comment",S="declaration";function E(j,O){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];O=O||{};var P=1,N=1;function V(ce){var Y=ce.match(e);Y&&(P+=Y.length);var H=ce.lastIndexOf(f);N=~H?ce.length-H:N+ce.length}function q(){var ce={line:P,column:N};return function(Y){return Y.position=new I(ce),ee(),Y}}function I(ce){this.start=ce,this.end={line:P,column:N},this.source=O.source}I.prototype.content=j;function K(ce){var Y=new Error(O.source+":"+P+":"+N+": "+ce);if(Y.reason=ce,Y.filename=O.source,Y.line=P,Y.column=N,Y.source=j,!O.silent)throw Y}function oe(ce){var Y=ce.exec(j);if(Y){var H=Y[0];return V(H),j=j.slice(H.length),Y}}function ee(){oe(n)}function he(ce){var Y;for(ce=ce||[];Y=Q();)Y!==!1&&ce.push(Y);return ce}function Q(){var ce=q();if(!(m!=j.charAt(0)||g!=j.charAt(1))){for(var Y=2;v!=j.charAt(Y)&&(g!=j.charAt(Y)||m!=j.charAt(Y+1));)++Y;if(Y+=2,v===j.charAt(Y-1))return K("End of comment missing");var H=j.slice(2,Y-2);return N+=2,V(H),j=j.slice(Y),N+=2,ce({type:w,comment:H})}}function te(){var ce=q(),Y=oe(r);if(Y){if(Q(),!oe(a))return K("property missing ':'");var H=oe(o),W=ce({type:S,property:T(Y[0].replace(t,v)),value:H?T(H[0].replace(t,v)):v});return oe(u),W}}function pe(){var ce=[];he(ce);for(var Y;Y=te();)Y!==!1&&(ce.push(Y),he(ce));return ce}return ee(),pe()}function T(j){return j?j.replace(h,v):v}return Gm=E,Gm}var s1;function $N(){if(s1)return tl;s1=1;var t=tl&&tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=n;const e=t(FN());function n(r,a){let o=null;if(!r||typeof r!="string")return o;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(f=>{if(f.type!=="declaration")return;const{property:m,value:g}=f;h?a(m,g,f):g&&(o=o||{},o[m]=g)}),o}return tl}var Vu={},a1;function qN(){if(a1)return Vu;a1=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(m){return!m||n.test(m)||t.test(m)},u=function(m,g){return g.toUpperCase()},h=function(m,g){return"".concat(g,"-")},f=function(m,g){return g===void 0&&(g={}),o(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(a,h):m=m.replace(r,h),m.replace(e,u))};return Vu.camelCase=f,Vu}var Hu,o1;function ZN(){if(o1)return Hu;o1=1;var t=Hu&&Hu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t($N()),n=qN();function r(a,o){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,f){h&&f&&(u[(0,n.camelCase)(h,o)]=f)}),u}return r.default=r,Hu=r,Hu}var GN=ZN();const KN=eo(GN),WC=YC("end"),Iy=YC("start");function YC(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function WN(t){const e=Iy(t),n=WC(t);if(e&&n)return{start:e,end:n}}function nc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?l1(t.position):"start"in t||"end"in t?l1(t):"line"in t||"column"in t?Gg(t):""}function Gg(t){return u1(t&&t.line)+":"+u1(t&&t.column)}function l1(t){return Gg(t&&t.start)+"-"+Gg(t&&t.end)}function u1(t){return t&&typeof t=="number"?t:1}class kn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(u=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=nc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kn.prototype.file="";kn.prototype.name="";kn.prototype.reason="";kn.prototype.message="";kn.prototype.stack="";kn.prototype.column=void 0;kn.prototype.line=void 0;kn.prototype.ancestors=void 0;kn.prototype.cause=void 0;kn.prototype.fatal=void 0;kn.prototype.place=void 0;kn.prototype.ruleId=void 0;kn.prototype.source=void 0;const Uy={}.hasOwnProperty,YN=new Map,XN=/[A-Z]/g,JN=new Set(["table","tbody","thead","tfoot","tr"]),QN=new Set(["td","th"]),XC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eP(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=lP(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=oP(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?By:VN,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=JC(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function JC(t,e,n){if(e.type==="element")return tP(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return nP(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return rP(t,e,n);if(e.type==="mdxjsEsm")return iP(t,e);if(e.type==="root")return sP(t,e,n);if(e.type==="text")return aP(t,e)}function tP(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=By,t.schema=a),t.ancestors.push(e);const o=eE(t,e.tagName,!1),u=uP(t,e);let h=Hy(t,e);return JN.has(e.tagName)&&(h=h.filter(function(f){return typeof f=="string"?!ON(f):!0})),QC(t,u,o,e),Vy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function nP(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}yc(t,e.position)}function iP(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);yc(t,e.position)}function rP(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=By,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:eE(t,e.name,!0),u=cP(t,e),h=Hy(t,e);return QC(t,u,o,e),Vy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function sP(t,e,n){const r={};return Vy(r,Hy(t,e)),t.create(e,t.Fragment,r,n)}function aP(t,e){return e.value}function QC(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Vy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function oP(t,e,n){return r;function r(a,o,u,h){const m=Array.isArray(u.children)?n:e;return h?m(o,u,h):m(o,u)}}function lP(t,e){return n;function n(r,a,o,u){const h=Array.isArray(o.children),f=Iy(r);return e(a,o,u,h,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function uP(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&Uy.call(e.properties,a)){const o=hP(t,a,e.properties[a]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&QN.has(e.tagName)?r=h:n[u]=h}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function cP(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else yc(t,e.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const h=r.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else yc(t,e.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function Hy(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:YN;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const m=a.get(f)||0;u=f+"-"+m,a.set(f,m+1)}}const h=JC(t,o,u);h!==void 0&&n.push(h)}return n}function hP(t,e,n){const r=BN(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?TN(n):HN(n)),r.property==="style"){let a=typeof n=="object"?n:dP(t,String(n));return t.stylePropertyNameCase==="css"&&(a=fP(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?RN[r.property]||r.property:r.attribute,n]}}function dP(t,e){try{return KN(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new kn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=XC+"#cannot-parse-style-attribute",a}}function eE(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,u;for(;++o<a.length;){const h=e1(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=u}else r=e1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return Uy.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);yc(t)}function yc(t,e){const n=new kn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=XC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function fP(t){const e={};let n;for(n in t)Uy.call(t,n)&&(e[pP(n)]=t[n]);return e}function pP(t){let e=t.replace(XN,mP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function mP(t){return"-"+t.toLowerCase()}const Km={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},gP={};function yP(t,e){const n=gP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tE(t,r,a)}function tE(t,e,n){if(vP(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return c1(t.children,e,n)}return Array.isArray(t)?c1(t,e,n):""}function c1(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=tE(t[a],e,n);return r.join("")}function vP(t){return!!(t&&typeof t=="object")}const h1=document.createElement("i");function Fy(t){const e="&"+t+";";h1.innerHTML=e;const n=h1.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function wr(t,e,n,r){const a=t.length;let o=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function ki(t,e){return t.length>0?(wr(t,t.length,0,e),t):e}const d1={}.hasOwnProperty;function _P(t){const e={};let n=-1;for(;++n<t.length;)bP(e,t[n]);return e}function bP(t,e){let n;for(n in e){const a=(d1.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){d1.call(a,u)||(a[u]=[]);const h=o[u];xP(a[u],Array.isArray(h)?h:h?[h]:[])}}}function xP(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);wr(t,0,0,r)}function nE(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vr=Ys(/[A-Za-z]/),pi=Ys(/[\dA-Za-z]/),wP=Ys(/[#-'*+\--9=?A-Z^-~]/);function Kg(t){return t!==null&&(t<32||t===127)}const Wg=Ys(/\d/),SP=Ys(/[\dA-Fa-f]/),CP=Ys(/[!-/:-@[-`{-~]/);function qe(t){return t!==null&&t<-2}function Xn(t){return t!==null&&(t<0||t===32)}function pt(t){return t===-2||t===-1||t===32}const EP=Ys(new RegExp("\\p{P}|\\p{S}","u")),TP=Ys(/\s/);function Ys(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Al(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&pi(t.charCodeAt(n+1))&&pi(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function At(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return pt(f)?(t.enter(n),h(f)):e(f)}function h(f){return pt(f)&&o++<a?(t.consume(f),h):(t.exit(n),e(f))}}const LP={tokenize:AP};function AP(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),At(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),o(h)}function o(h){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return qe(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const kP={tokenize:jP},f1={tokenize:OP};function jP(t){const e=this,n=[];let r=0,a,o,u;return h;function h(N){if(r<n.length){const V=n[r];return e.containerState=V[1],t.attempt(V[0].continuation,f,m)(N)}return m(N)}function f(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&P();const V=e.events.length;let q=V,I;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){I=e.events[q][1].end;break}O(r);let K=V;for(;K<e.events.length;)e.events[K][1].end={...I},K++;return wr(e.events,q+1,0,e.events.slice(V)),e.events.length=K,m(N)}return h(N)}function m(N){if(r===n.length){if(!a)return w(N);if(a.currentConstruct&&a.currentConstruct.concrete)return E(N);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(f1,g,v)(N)}function g(N){return a&&P(),O(r),w(N)}function v(N){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,E(N)}function w(N){return e.containerState={},t.attempt(f1,S,E)(N)}function S(N){return r++,n.push([e.currentConstruct,e.containerState]),w(N)}function E(N){if(N===null){a&&P(),O(0),t.consume(N);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),T(N)}function T(N){if(N===null){j(t.exit("chunkFlow"),!0),O(0),t.consume(N);return}return qe(N)?(t.consume(N),j(t.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(t.consume(N),T)}function j(N,V){const q=e.sliceStream(N);if(V&&q.push(null),N.previous=o,o&&(o.next=N),o=N,a.defineSkip(N.start),a.write(q),e.parser.lazy[N.start.line]){let I=a.events.length;for(;I--;)if(a.events[I][1].start.offset<u&&(!a.events[I][1].end||a.events[I][1].end.offset>u))return;const K=e.events.length;let oe=K,ee,he;for(;oe--;)if(e.events[oe][0]==="exit"&&e.events[oe][1].type==="chunkFlow"){if(ee){he=e.events[oe][1].end;break}ee=!0}for(O(r),I=K;I<e.events.length;)e.events[I][1].end={...he},I++;wr(e.events,oe+1,0,e.events.slice(K)),e.events.length=I}}function O(N){let V=n.length;for(;V-- >N;){const q=n[V];e.containerState=q[1],q[0].exit.call(e,t)}n.length=N}function P(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function OP(t,e,n){return At(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function p1(t){if(t===null||Xn(t)||TP(t))return 1;if(EP(t))return 2}function $y(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const Yg={name:"attention",resolveAll:MP,tokenize:NP};function MP(t,e){let n=-1,r,a,o,u,h,f,m,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[r][1].end},w={...t[n][1].start};m1(v,-f),m1(w,f),u={type:f>1?"strongSequence":"emphasisSequence",start:v,end:{...t[r][1].end}},h={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:f>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[r][1].end={...u.start},t[n][1].start={...h.end},m=[],t[r][1].end.offset-t[r][1].start.offset&&(m=ki(m,[["enter",t[r][1],e],["exit",t[r][1],e]])),m=ki(m,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",o,e]]),m=ki(m,$y(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),m=ki(m,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,m=ki(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,wr(t,r-1,n-r+3,m),n=r+m.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function NP(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=p1(r);let o;return u;function u(f){return o=f,t.enter("attentionSequence"),h(f)}function h(f){if(f===o)return t.consume(f),h;const m=t.exit("attentionSequence"),g=p1(f),v=!g||g===2&&a||n.includes(f),w=!a||a===2&&g||n.includes(r);return m._open=!!(o===42?v:v&&(a||!w)),m._close=!!(o===42?w:w&&(g||!v)),e(f)}}function m1(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const PP={name:"autolink",tokenize:RP};function RP(t,e,n){let r=0;return a;function a(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(S){return vr(S)?(t.consume(S),u):S===64?n(S):m(S)}function u(S){return S===43||S===45||S===46||pi(S)?(r=1,h(S)):m(S)}function h(S){return S===58?(t.consume(S),r=0,f):(S===43||S===45||S===46||pi(S))&&r++<32?(t.consume(S),h):(r=0,m(S))}function f(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||Kg(S)?n(S):(t.consume(S),f)}function m(S){return S===64?(t.consume(S),g):wP(S)?(t.consume(S),m):n(S)}function g(S){return pi(S)?v(S):n(S)}function v(S){return S===46?(t.consume(S),r=0,g):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):w(S)}function w(S){if((S===45||pi(S))&&r++<63){const E=S===45?w:v;return t.consume(S),E}return n(S)}}const hf={partial:!0,tokenize:DP};function DP(t,e,n){return r;function r(o){return pt(o)?At(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||qe(o)?e(o):n(o)}}const iE={continuation:{tokenize:BP},exit:IP,name:"blockQuote",tokenize:zP};function zP(t,e,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return pt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function BP(t,e,n){const r=this;return a;function a(u){return pt(u)?At(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(iE,e,n)(u)}}function IP(t){t.exit("blockQuote")}const rE={name:"characterEscape",tokenize:UP};function UP(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return CP(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const sE={name:"characterReference",tokenize:VP};function VP(t,e,n){const r=this;let a=0,o,u;return h;function h(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),f}function f(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),o=31,u=pi,g(v))}function m(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=SP,g):(t.enter("characterReferenceValue"),o=7,u=Wg,g(v))}function g(v){if(v===59&&a){const w=t.exit("characterReferenceValue");return u===pi&&!Fy(r.sliceSerialize(w))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(v)&&a++<o?(t.consume(v),g):n(v)}}const g1={partial:!0,tokenize:FP},y1={concrete:!0,name:"codeFenced",tokenize:HP};function HP(t,e,n){const r=this,a={partial:!0,tokenize:q};let o=0,u=0,h;return f;function f(I){return m(I)}function m(I){const K=r.events[r.events.length-1];return o=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,h=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(I)}function g(I){return I===h?(u++,t.consume(I),g):u<3?n(I):(t.exit("codeFencedFenceSequence"),pt(I)?At(t,v,"whitespace")(I):v(I))}function v(I){return I===null||qe(I)?(t.exit("codeFencedFence"),r.interrupt?e(I):t.check(g1,T,V)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(I))}function w(I){return I===null||qe(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(I)):pt(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),At(t,S,"whitespace")(I)):I===96&&I===h?n(I):(t.consume(I),w)}function S(I){return I===null||qe(I)?v(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(I))}function E(I){return I===null||qe(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(I)):I===96&&I===h?n(I):(t.consume(I),E)}function T(I){return t.attempt(a,V,j)(I)}function j(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),O}function O(I){return o>0&&pt(I)?At(t,P,"linePrefix",o+1)(I):P(I)}function P(I){return I===null||qe(I)?t.check(g1,T,V)(I):(t.enter("codeFlowValue"),N(I))}function N(I){return I===null||qe(I)?(t.exit("codeFlowValue"),P(I)):(t.consume(I),N)}function V(I){return t.exit("codeFenced"),e(I)}function q(I,K,oe){let ee=0;return he;function he(Y){return I.enter("lineEnding"),I.consume(Y),I.exit("lineEnding"),Q}function Q(Y){return I.enter("codeFencedFence"),pt(Y)?At(I,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):te(Y)}function te(Y){return Y===h?(I.enter("codeFencedFenceSequence"),pe(Y)):oe(Y)}function pe(Y){return Y===h?(ee++,I.consume(Y),pe):ee>=u?(I.exit("codeFencedFenceSequence"),pt(Y)?At(I,ce,"whitespace")(Y):ce(Y)):oe(Y)}function ce(Y){return Y===null||qe(Y)?(I.exit("codeFencedFence"),K(Y)):oe(Y)}}}function FP(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Wm={name:"codeIndented",tokenize:qP},$P={partial:!0,tokenize:ZP};function qP(t,e,n){const r=this;return a;function a(m){return t.enter("codeIndented"),At(t,o,"linePrefix",5)(m)}function o(m){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(m):n(m)}function u(m){return m===null?f(m):qe(m)?t.attempt($P,u,f)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||qe(m)?(t.exit("codeFlowValue"),u(m)):(t.consume(m),h)}function f(m){return t.exit("codeIndented"),e(m)}}function ZP(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):qe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):At(t,o,"linePrefix",5)(u)}function o(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):qe(u)?a(u):n(u)}}const GP={name:"codeText",previous:WP,resolve:KP,tokenize:YP};function KP(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function WP(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function YP(t,e,n){let r=0,a,o;return u;function u(v){return t.enter("codeText"),t.enter("codeTextSequence"),h(v)}function h(v){return v===96?(t.consume(v),r++,h):(t.exit("codeTextSequence"),f(v))}function f(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),f):v===96?(o=t.enter("codeTextSequence"),a=0,g(v)):qe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),f):(t.enter("codeTextData"),m(v))}function m(v){return v===null||v===32||v===96||qe(v)?(t.exit("codeTextData"),f(v)):(t.consume(v),m)}function g(v){return v===96?(t.consume(v),a++,g):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(o.type="codeTextData",m(v))}}class XP{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Fu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Fu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fu(this.left,n.reverse())}}}function Fu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function aE(t){const e={};let n=-1,r,a,o,u,h,f,m;const g=new XP(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,JP(g,n)),n=e[n],m=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(g.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...g.get(a)[1].start},h=g.slice(a,n),h.unshift(r),g.splice(a,n-a+1,h))}}return wr(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function JP(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,f=[],m={};let g,v,w=-1,S=n,E=0,T=0;const j=[T];for(;S;){for(;t.get(++a)[1]!==S;);o.push(a),S._tokenizer||(g=r.sliceStream(S),S.next||g.push(null),v&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=S,S=S.next}for(S=n;++w<h.length;)h[w][0]==="exit"&&h[w-1][0]==="enter"&&h[w][1].type===h[w-1][1].type&&h[w][1].start.line!==h[w][1].end.line&&(T=w+1,j.push(T),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):j.pop(),w=j.length;w--;){const O=h.slice(j[w],j[w+1]),P=o.pop();f.push([P,P+O.length-1]),t.splice(P,2,O)}for(f.reverse(),w=-1;++w<f.length;)m[E+f[w][0]]=E+f[w][1],E+=f[w][1]-f[w][0]-1;return m}const QP={resolve:tR,tokenize:nR},eR={partial:!0,tokenize:iR};function tR(t){return aE(t),t}function nR(t,e){let n;return r;function r(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):qe(h)?t.check(eR,u,o)(h):(t.consume(h),a)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function iR(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),At(t,o,"linePrefix")}function o(u){if(u===null||qe(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function oE(t,e,n,r,a,o,u,h,f){const m=f||Number.POSITIVE_INFINITY;let g=0;return v;function v(O){return O===60?(t.enter(r),t.enter(a),t.enter(o),t.consume(O),t.exit(o),w):O===null||O===32||O===41||Kg(O)?n(O):(t.enter(r),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),T(O))}function w(O){return O===62?(t.enter(o),t.consume(O),t.exit(o),t.exit(a),t.exit(r),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),S(O))}function S(O){return O===62?(t.exit("chunkString"),t.exit(h),w(O)):O===null||O===60||qe(O)?n(O):(t.consume(O),O===92?E:S)}function E(O){return O===60||O===62||O===92?(t.consume(O),S):S(O)}function T(O){return!g&&(O===null||O===41||Xn(O))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(r),e(O)):g<m&&O===40?(t.consume(O),g++,T):O===41?(t.consume(O),g--,T):O===null||O===32||O===40||Kg(O)?n(O):(t.consume(O),O===92?j:T)}function j(O){return O===40||O===41||O===92?(t.consume(O),T):T(O)}}function lE(t,e,n,r,a,o){const u=this;let h=0,f;return m;function m(S){return t.enter(r),t.enter(a),t.consume(S),t.exit(a),t.enter(o),g}function g(S){return h>999||S===null||S===91||S===93&&!f||S===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(t.exit(o),t.enter(a),t.consume(S),t.exit(a),t.exit(r),e):qe(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||S===91||S===93||qe(S)||h++>999?(t.exit("chunkString"),g(S)):(t.consume(S),f||(f=!pt(S)),S===92?w:v)}function w(S){return S===91||S===92||S===93?(t.consume(S),h++,v):v(S)}}function uE(t,e,n,r,a,o){let u;return h;function h(w){return w===34||w===39||w===40?(t.enter(r),t.enter(a),t.consume(w),t.exit(a),u=w===40?41:w,f):n(w)}function f(w){return w===u?(t.enter(a),t.consume(w),t.exit(a),t.exit(r),e):(t.enter(o),m(w))}function m(w){return w===u?(t.exit(o),f(u)):w===null?n(w):qe(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),At(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===u||w===null||qe(w)?(t.exit("chunkString"),m(w)):(t.consume(w),w===92?v:g)}function v(w){return w===u||w===92?(t.consume(w),g):g(w)}}function ic(t,e){let n;return r;function r(a){return qe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):pt(a)?At(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const rR={name:"definition",tokenize:aR},sR={partial:!0,tokenize:oR};function aR(t,e,n){const r=this;let a;return o;function o(S){return t.enter("definition"),u(S)}function u(S){return lE.call(r,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return a=fl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),f):n(S)}function f(S){return Xn(S)?ic(t,m)(S):m(S)}function m(S){return oE(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function g(S){return t.attempt(sR,v,v)(S)}function v(S){return pt(S)?At(t,w,"whitespace")(S):w(S)}function w(S){return S===null||qe(S)?(t.exit("definition"),r.parser.defined.push(a),e(S)):n(S)}}function oR(t,e,n){return r;function r(h){return Xn(h)?ic(t,a)(h):n(h)}function a(h){return uE(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return pt(h)?At(t,u,"whitespace")(h):u(h)}function u(h){return h===null||qe(h)?e(h):n(h)}}const lR={name:"hardBreakEscape",tokenize:uR};function uR(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return qe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const cR={name:"headingAtx",resolve:hR,tokenize:dR};function hR(t,e){let n=t.length-2,r=3,a,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},wr(t,r,n-r+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function dR(t,e,n){let r=0;return a;function a(g){return t.enter("atxHeading"),o(g)}function o(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&r++<6?(t.consume(g),u):g===null||Xn(g)?(t.exit("atxHeadingSequence"),h(g)):n(g)}function h(g){return g===35?(t.enter("atxHeadingSequence"),f(g)):g===null||qe(g)?(t.exit("atxHeading"),e(g)):pt(g)?At(t,h,"whitespace")(g):(t.enter("atxHeadingText"),m(g))}function f(g){return g===35?(t.consume(g),f):(t.exit("atxHeadingSequence"),h(g))}function m(g){return g===null||g===35||Xn(g)?(t.exit("atxHeadingText"),h(g)):(t.consume(g),m)}}const fR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],v1=["pre","script","style","textarea"],pR={concrete:!0,name:"htmlFlow",resolveTo:yR,tokenize:vR},mR={partial:!0,tokenize:bR},gR={partial:!0,tokenize:_R};function yR(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function vR(t,e,n){const r=this;let a,o,u,h,f;return m;function m(D){return g(D)}function g(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),v}function v(D){return D===33?(t.consume(D),w):D===47?(t.consume(D),o=!0,T):D===63?(t.consume(D),a=3,r.interrupt?e:B):vr(D)?(t.consume(D),u=String.fromCharCode(D),j):n(D)}function w(D){return D===45?(t.consume(D),a=2,S):D===91?(t.consume(D),a=5,h=0,E):vr(D)?(t.consume(D),a=4,r.interrupt?e:B):n(D)}function S(D){return D===45?(t.consume(D),r.interrupt?e:B):n(D)}function E(D){const Z="CDATA[";return D===Z.charCodeAt(h++)?(t.consume(D),h===Z.length?r.interrupt?e:te:E):n(D)}function T(D){return vr(D)?(t.consume(D),u=String.fromCharCode(D),j):n(D)}function j(D){if(D===null||D===47||D===62||Xn(D)){const Z=D===47,ne=u.toLowerCase();return!Z&&!o&&v1.includes(ne)?(a=1,r.interrupt?e(D):te(D)):fR.includes(u.toLowerCase())?(a=6,Z?(t.consume(D),O):r.interrupt?e(D):te(D)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):o?P(D):N(D))}return D===45||pi(D)?(t.consume(D),u+=String.fromCharCode(D),j):n(D)}function O(D){return D===62?(t.consume(D),r.interrupt?e:te):n(D)}function P(D){return pt(D)?(t.consume(D),P):he(D)}function N(D){return D===47?(t.consume(D),he):D===58||D===95||vr(D)?(t.consume(D),V):pt(D)?(t.consume(D),N):he(D)}function V(D){return D===45||D===46||D===58||D===95||pi(D)?(t.consume(D),V):q(D)}function q(D){return D===61?(t.consume(D),I):pt(D)?(t.consume(D),q):N(D)}function I(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),f=D,K):pt(D)?(t.consume(D),I):oe(D)}function K(D){return D===f?(t.consume(D),f=null,ee):D===null||qe(D)?n(D):(t.consume(D),K)}function oe(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||Xn(D)?q(D):(t.consume(D),oe)}function ee(D){return D===47||D===62||pt(D)?N(D):n(D)}function he(D){return D===62?(t.consume(D),Q):n(D)}function Q(D){return D===null||qe(D)?te(D):pt(D)?(t.consume(D),Q):n(D)}function te(D){return D===45&&a===2?(t.consume(D),H):D===60&&a===1?(t.consume(D),W):D===62&&a===4?(t.consume(D),U):D===63&&a===3?(t.consume(D),B):D===93&&a===5?(t.consume(D),xe):qe(D)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(mR,ie,pe)(D)):D===null||qe(D)?(t.exit("htmlFlowData"),pe(D)):(t.consume(D),te)}function pe(D){return t.check(gR,ce,ie)(D)}function ce(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),Y}function Y(D){return D===null||qe(D)?pe(D):(t.enter("htmlFlowData"),te(D))}function H(D){return D===45?(t.consume(D),B):te(D)}function W(D){return D===47?(t.consume(D),u="",se):te(D)}function se(D){if(D===62){const Z=u.toLowerCase();return v1.includes(Z)?(t.consume(D),U):te(D)}return vr(D)&&u.length<8?(t.consume(D),u+=String.fromCharCode(D),se):te(D)}function xe(D){return D===93?(t.consume(D),B):te(D)}function B(D){return D===62?(t.consume(D),U):D===45&&a===2?(t.consume(D),B):te(D)}function U(D){return D===null||qe(D)?(t.exit("htmlFlowData"),ie(D)):(t.consume(D),U)}function ie(D){return t.exit("htmlFlow"),e(D)}}function _R(t,e,n){const r=this;return a;function a(u){return qe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function bR(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(hf,e,n)}}const xR={name:"htmlText",tokenize:wR};function wR(t,e,n){const r=this;let a,o,u;return h;function h(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),f}function f(B){return B===33?(t.consume(B),m):B===47?(t.consume(B),q):B===63?(t.consume(B),N):vr(B)?(t.consume(B),oe):n(B)}function m(B){return B===45?(t.consume(B),g):B===91?(t.consume(B),o=0,E):vr(B)?(t.consume(B),P):n(B)}function g(B){return B===45?(t.consume(B),S):n(B)}function v(B){return B===null?n(B):B===45?(t.consume(B),w):qe(B)?(u=v,W(B)):(t.consume(B),v)}function w(B){return B===45?(t.consume(B),S):v(B)}function S(B){return B===62?H(B):B===45?w(B):v(B)}function E(B){const U="CDATA[";return B===U.charCodeAt(o++)?(t.consume(B),o===U.length?T:E):n(B)}function T(B){return B===null?n(B):B===93?(t.consume(B),j):qe(B)?(u=T,W(B)):(t.consume(B),T)}function j(B){return B===93?(t.consume(B),O):T(B)}function O(B){return B===62?H(B):B===93?(t.consume(B),O):T(B)}function P(B){return B===null||B===62?H(B):qe(B)?(u=P,W(B)):(t.consume(B),P)}function N(B){return B===null?n(B):B===63?(t.consume(B),V):qe(B)?(u=N,W(B)):(t.consume(B),N)}function V(B){return B===62?H(B):N(B)}function q(B){return vr(B)?(t.consume(B),I):n(B)}function I(B){return B===45||pi(B)?(t.consume(B),I):K(B)}function K(B){return qe(B)?(u=K,W(B)):pt(B)?(t.consume(B),K):H(B)}function oe(B){return B===45||pi(B)?(t.consume(B),oe):B===47||B===62||Xn(B)?ee(B):n(B)}function ee(B){return B===47?(t.consume(B),H):B===58||B===95||vr(B)?(t.consume(B),he):qe(B)?(u=ee,W(B)):pt(B)?(t.consume(B),ee):H(B)}function he(B){return B===45||B===46||B===58||B===95||pi(B)?(t.consume(B),he):Q(B)}function Q(B){return B===61?(t.consume(B),te):qe(B)?(u=Q,W(B)):pt(B)?(t.consume(B),Q):ee(B)}function te(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),a=B,pe):qe(B)?(u=te,W(B)):pt(B)?(t.consume(B),te):(t.consume(B),ce)}function pe(B){return B===a?(t.consume(B),a=void 0,Y):B===null?n(B):qe(B)?(u=pe,W(B)):(t.consume(B),pe)}function ce(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Xn(B)?ee(B):(t.consume(B),ce)}function Y(B){return B===47||B===62||Xn(B)?ee(B):n(B)}function H(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function W(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),se}function se(B){return pt(B)?At(t,xe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):xe(B)}function xe(B){return t.enter("htmlTextData"),u(B)}}const qy={name:"labelEnd",resolveAll:TR,resolveTo:LR,tokenize:AR},SR={tokenize:kR},CR={tokenize:jR},ER={tokenize:OR};function TR(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&wr(t,0,t.length,n),t}function LR(t,e){let n=t.length,r=0,a,o,u,h;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",f,e],["enter",m,e]],h=ki(h,t.slice(o+1,o+r+3)),h=ki(h,[["enter",g,e]]),h=ki(h,$y(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),h=ki(h,[["exit",g,e],t[u-2],t[u-1],["exit",m,e]]),h=ki(h,t.slice(u+1)),h=ki(h,[["exit",f,e]]),wr(t,o,t.length,h),t}function AR(t,e,n){const r=this;let a=r.events.length,o,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return h;function h(w){return o?o._inactive?v(w):(u=r.parser.defined.includes(fl(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),f):n(w)}function f(w){return w===40?t.attempt(SR,g,u?g:v)(w):w===91?t.attempt(CR,g,u?m:v)(w):u?g(w):v(w)}function m(w){return t.attempt(ER,g,v)(w)}function g(w){return e(w)}function v(w){return o._balanced=!0,n(w)}}function kR(t,e,n){return r;function r(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),a}function a(v){return Xn(v)?ic(t,o)(v):o(v)}function o(v){return v===41?g(v):oE(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return Xn(v)?ic(t,f)(v):g(v)}function h(v){return n(v)}function f(v){return v===34||v===39||v===40?uE(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function m(v){return Xn(v)?ic(t,g)(v):g(v)}function g(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function jR(t,e,n){const r=this;return a;function a(h){return lE.call(r,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(fl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function OR(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const MR={name:"labelStartImage",resolveAll:qy.resolveAll,tokenize:NR};function NR(t,e,n){const r=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):e(h)}}const PR={name:"labelStartLink",resolveAll:qy.resolveAll,tokenize:RR};function RR(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Ym={name:"lineEnding",tokenize:DR};function DR(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),At(t,e,"linePrefix")}}const Md={name:"thematicBreak",tokenize:zR};function zR(t,e,n){let r=0,a;return o;function o(m){return t.enter("thematicBreak"),u(m)}function u(m){return a=m,h(m)}function h(m){return m===a?(t.enter("thematicBreakSequence"),f(m)):r>=3&&(m===null||qe(m))?(t.exit("thematicBreak"),e(m)):n(m)}function f(m){return m===a?(t.consume(m),r++,f):(t.exit("thematicBreakSequence"),pt(m)?At(t,h,"whitespace")(m):h(m))}}const Wn={continuation:{tokenize:VR},exit:FR,name:"list",tokenize:UR},BR={partial:!0,tokenize:$R},IR={partial:!0,tokenize:HR};function UR(t,e,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(S){const E=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Wg(S)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(Md,n,m)(S):m(S);if(!r.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(S)}return n(S)}function f(S){return Wg(S)&&++u<10?(t.consume(S),f):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),m(S)):n(S)}function m(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,t.check(hf,r.interrupt?n:g,t.attempt(BR,w,v))}function g(S){return r.containerState.initialBlankLine=!0,o++,w(S)}function v(S){return pt(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),w):n(S)}function w(S){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function VR(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(hf,a,o);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,At(t,e,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!pt(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(IR,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,At(t,t.attempt(Wn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function HR(t,e,n){const r=this;return At(t,a,"listItemIndent",r.containerState.size+1);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function FR(t){t.exit(this.containerState.type)}function $R(t,e,n){const r=this;return At(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=r.events[r.events.length-1];return!pt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const _1={name:"setextUnderline",resolveTo:qR,tokenize:ZR};function qR(t,e){let n=t.length,r,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function ZR(t,e,n){const r=this;let a;return o;function o(m){let g=r.events.length,v;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){v=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(t.enter("setextHeadingLine"),a=m,u(m)):n(m)}function u(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===a?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),pt(m)?At(t,f,"lineSuffix")(m):f(m))}function f(m){return m===null||qe(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const GR={tokenize:KR};function KR(t){const e=this,n=t.attempt(hf,r,t.attempt(this.parser.constructs.flowInitial,a,At(t,t.attempt(this.parser.constructs.flow,a,t.attempt(QP,a)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const WR={resolveAll:hE()},YR=cE("string"),XR=cE("text");function cE(t){return{resolveAll:hE(t==="text"?JR:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],o=n.attempt(a,u,h);return u;function u(g){return m(g)?o(g):h(g)}function h(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),f}function f(g){return m(g)?(n.exit("data"),o(g)):(n.consume(g),f)}function m(g){if(g===null)return!0;const v=a[g];let w=-1;if(v)for(;++w<v.length;){const S=v[w];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function hE(t){return e;function e(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,r):n}}function JR(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let o=a.length,u=-1,h=0,f;for(;o--;){const m=a[o];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(m===-2)f=!0,h++;else if(m!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const m={type:n===t.length||f||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const QR={42:Wn,43:Wn,45:Wn,48:Wn,49:Wn,50:Wn,51:Wn,52:Wn,53:Wn,54:Wn,55:Wn,56:Wn,57:Wn,62:iE},e5={91:rR},t5={[-2]:Wm,[-1]:Wm,32:Wm},n5={35:cR,42:Md,45:[_1,Md],60:pR,61:_1,95:Md,96:y1,126:y1},i5={38:sE,92:rE},r5={[-5]:Ym,[-4]:Ym,[-3]:Ym,33:MR,38:sE,42:Yg,60:[PP,xR],91:PR,92:[lR,rE],93:qy,95:Yg,96:GP},s5={null:[Yg,WR]},a5={null:[42,95]},o5={null:[]},l5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:a5,contentInitial:e5,disable:o5,document:QR,flow:n5,flowInitial:t5,insideSpan:s5,string:i5,text:r5},Symbol.toStringTag,{value:"Module"}));function u5(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const f={attempt:K(q),check:K(I),consume:P,enter:N,exit:V,interrupt:K(I,{interrupt:!0})},m={code:null,containerState:{},defineSkip:T,events:[],now:E,parser:t,previous:null,sliceSerialize:w,sliceStream:S,write:v};let g=e.tokenize.call(m,f);return e.resolveAll&&o.push(e),m;function v(Q){return u=ki(u,Q),j(),u[u.length-1]!==null?[]:(oe(e,0),m.events=$y(o,m.events,m),m.events)}function w(Q,te){return h5(S(Q),te)}function S(Q){return c5(u,Q)}function E(){const{_bufferIndex:Q,_index:te,line:pe,column:ce,offset:Y}=r;return{_bufferIndex:Q,_index:te,line:pe,column:ce,offset:Y}}function T(Q){a[Q.line]=Q.column,he()}function j(){let Q;for(;r._index<u.length;){const te=u[r._index];if(typeof te=="string")for(Q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Q&&r._bufferIndex<te.length;)O(te.charCodeAt(r._bufferIndex));else O(te)}}function O(Q){g=g(Q)}function P(Q){qe(Q)?(r.line++,r.column=1,r.offset+=Q===-3?2:1,he()):Q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=Q}function N(Q,te){const pe=te||{};return pe.type=Q,pe.start=E(),m.events.push(["enter",pe,m]),h.push(pe),pe}function V(Q){const te=h.pop();return te.end=E(),m.events.push(["exit",te,m]),te}function q(Q,te){oe(Q,te.from)}function I(Q,te){te.restore()}function K(Q,te){return pe;function pe(ce,Y,H){let W,se,xe,B;return Array.isArray(ce)?ie(ce):"tokenize"in ce?ie([ce]):U(ce);function U(de){return we;function we(Re){const ve=Re!==null&&de[Re],Le=Re!==null&&de.null,Ve=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return ie(Ve)(Re)}}function ie(de){return W=de,se=0,de.length===0?H:D(de[se])}function D(de){return we;function we(Re){return B=ee(),xe=de,de.partial||(m.currentConstruct=de),de.name&&m.parser.constructs.disable.null.includes(de.name)?ne():de.tokenize.call(te?Object.assign(Object.create(m),te):m,f,Z,ne)(Re)}}function Z(de){return Q(xe,B),Y}function ne(de){return B.restore(),++se<W.length?D(W[se]):H}}}function oe(Q,te){Q.resolveAll&&!o.includes(Q)&&o.push(Q),Q.resolve&&wr(m.events,te,m.events.length-te,Q.resolve(m.events.slice(te),m)),Q.resolveTo&&(m.events=Q.resolveTo(m.events,m))}function ee(){const Q=E(),te=m.previous,pe=m.currentConstruct,ce=m.events.length,Y=Array.from(h);return{from:ce,restore:H};function H(){r=Q,m.previous=te,m.currentConstruct=pe,m.events.length=ce,h=Y,he()}}function he(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function c5(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,o)];else{if(u=t.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}o>0&&u.push(t[a].slice(0,o))}return u}function h5(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,r.push(u)}return r.join("")}function d5(t){const r={constructs:_P([l5,...(t||{}).extensions||[]]),content:a(LP),defined:[],document:a(kP),flow:a(GR),lazy:{},string:a(YR),text:a(XR)};return r;function a(o){return u;function u(h){return u5(r,o,h)}}}function f5(t){for(;!aE(t););return t}const b1=/[\0\t\n\r]/g;function p5(){let t=1,e="",n=!0,r;return a;function a(o,u,h){const f=[];let m,g,v,w,S;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),v=0,e="",n&&(o.charCodeAt(0)===65279&&v++,n=void 0);v<o.length;){if(b1.lastIndex=v,m=b1.exec(o),w=m&&m.index!==void 0?m.index:o.length,S=o.charCodeAt(w),!m){e=o.slice(v);break}if(S===10&&v===w&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),v<w&&(f.push(o.slice(v,w)),t+=w-v),S){case 0:{f.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,f.push(-2);t++<g;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}v=w+1}return h&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const m5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function g5(t){return t.replace(m5,y5)}function y5(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return nE(n.slice(o?2:1),o?16:10)}return Fy(n)||t}const dE={}.hasOwnProperty;function v5(t,e,n){return typeof e!="string"&&(n=e,e=void 0),_5(n)(f5(d5(n).document().write(p5()(t,e,!0))))}function _5(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ns),autolinkProtocol:ee,autolinkEmail:ee,atxHeading:o(Rt),blockQuote:o(Le),characterEscape:ee,characterReference:ee,codeFenced:o(Ve),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Ve,u),codeText:o(De,u),codeTextData:ee,data:ee,codeFlowValue:ee,definition:o(He),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(gt),hardBreakEscape:o(Qn),hardBreakTrailing:o(Qn),htmlFlow:o(Pi,u),htmlFlowData:ee,htmlText:o(Pi,u),htmlTextData:ee,image:o(Ri),label:u,link:o(ns),listItem:o(Tr),listItemValue:w,listOrdered:o(Er,v),listUnordered:o(Er),paragraph:o(so),reference:D,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Rt),strong:o(ao),thematicBreak:o(Pl)},exit:{atxHeading:f(),atxHeadingSequence:q,autolink:f(),autolinkEmail:ve,autolinkProtocol:Re,blockQuote:f(),characterEscapeValue:he,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:de,characterReference:we,codeFenced:f(j),codeFencedFence:T,codeFencedFenceInfo:S,codeFencedFenceMeta:E,codeFlowValue:he,codeIndented:f(O),codeText:f(Y),codeTextData:he,data:he,definition:f(),definitionDestinationString:V,definitionLabelString:P,definitionTitleString:N,emphasis:f(),hardBreakEscape:f(te),hardBreakTrailing:f(te),htmlFlow:f(pe),htmlFlowData:he,htmlText:f(ce),htmlTextData:he,image:f(W),label:xe,labelText:se,lineEnding:Q,link:f(H),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Z,resourceDestinationString:B,resourceTitleString:U,resource:ie,setextHeading:f(oe),setextHeadingLineSequence:K,setextHeadingText:I,strong:f(),thematicBreak:f()}};fE(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Ce={type:"root",children:[]};const Ie={stack:[Ce],tokenStack:[],config:e,enter:h,exit:m,buffer:u,resume:g,data:n},et=[];let lt=-1;for(;++lt<ge.length;)if(ge[lt][1].type==="listOrdered"||ge[lt][1].type==="listUnordered")if(ge[lt][0]==="enter")et.push(lt);else{const wn=et.pop();lt=a(ge,wn,lt)}for(lt=-1;++lt<ge.length;){const wn=e[ge[lt][0]];dE.call(wn,ge[lt][1].type)&&wn[ge[lt][1].type].call(Object.assign({sliceSerialize:ge[lt][2].sliceSerialize},Ie),ge[lt][1])}if(Ie.tokenStack.length>0){const wn=Ie.tokenStack[Ie.tokenStack.length-1];(wn[1]||x1).call(Ie,void 0,wn[0])}for(Ce.position={start:Vs(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Vs(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)Ce=e.transforms[lt](Ce)||Ce;return Ce}function a(ge,Ce,Ie){let et=Ce-1,lt=-1,wn=!1,Di,cn,Dt,gn;for(;++et<=Ie;){const yt=ge[et];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?lt++:lt--,gn=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(Di&&!gn&&!lt&&!Dt&&(Dt=et),gn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gn=void 0}if(!lt&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||lt===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(Di){let Rn=et;for(cn=void 0;Rn--;){const ei=ge[Rn];if(ei[1].type==="lineEnding"||ei[1].type==="lineEndingBlank"){if(ei[0]==="exit")continue;cn&&(ge[cn][1].type="lineEndingBlank",wn=!0),ei[1].type="lineEnding",cn=Rn}else if(!(ei[1].type==="linePrefix"||ei[1].type==="blockQuotePrefix"||ei[1].type==="blockQuotePrefixWhitespace"||ei[1].type==="blockQuoteMarker"||ei[1].type==="listItemIndent"))break}Dt&&(!cn||Dt<cn)&&(Di._spread=!0),Di.end=Object.assign({},cn?ge[cn][1].start:yt[1].end),ge.splice(cn||et,0,["exit",Di,yt[2]]),et++,Ie++}if(yt[1].type==="listItemPrefix"){const Rn={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};Di=Rn,ge.splice(et,0,["enter",Rn,yt[2]]),et++,Ie++,Dt=void 0,gn=!0}}}return ge[Ce][1]._spread=wn,Ie}function o(ge,Ce){return Ie;function Ie(et){h.call(this,ge(et),et),Ce&&Ce.call(this,et)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ge,Ce,Ie){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ce,Ie||void 0]),ge.position={start:Vs(Ce.start),end:void 0}}function f(ge){return Ce;function Ce(Ie){ge&&ge.call(this,Ie),m.call(this,Ie)}}function m(ge,Ce){const Ie=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==ge.type&&(Ce?Ce.call(this,ge,et[0]):(et[1]||x1).call(this,ge,et[0]));else throw new Error("Cannot close `"+ge.type+"` ("+nc({start:ge.start,end:ge.end})+"): its not open");Ie.position.end=Vs(ge.end)}function g(){return yP(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function w(ge){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ge}function E(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ge}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function O(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge.replace(/(\r?\n|\r)$/g,"")}function P(ge){const Ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Ce,Ie.identifier=fl(this.sliceSerialize(ge)).toLowerCase()}function N(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ge}function V(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ge}function q(ge){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Ie=this.sliceSerialize(ge).length;Ce.depth=Ie}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function K(ge){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function oe(){this.data.setextHeadingSlurpLineEnding=void 0}function ee(ge){const Ie=this.stack[this.stack.length-1].children;let et=Ie[Ie.length-1];(!et||et.type!=="text")&&(et=mn(),et.position={start:Vs(ge.start),end:void 0},Ie.push(et)),this.stack.push(et)}function he(ge){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ge),Ce.position.end=Vs(ge.end)}function Q(ge){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=Ce.children[Ce.children.length-1];Ie.position.end=Vs(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(ee.call(this,ge),he.call(this,ge))}function te(){this.data.atHardBreak=!0}function pe(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function ce(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function Y(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function H(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function W(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function se(ge){const Ce=this.sliceSerialize(ge),Ie=this.stack[this.stack.length-2];Ie.label=g5(Ce),Ie.identifier=fl(Ce).toLowerCase()}function xe(){const ge=this.stack[this.stack.length-1],Ce=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const et=ge.children;Ie.children=et}else Ie.alt=Ce}function B(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ge}function U(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ge}function ie(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function Z(ge){const Ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Ce,Ie.identifier=fl(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function ne(ge){this.data.characterReferenceType=ge.type}function de(ge){const Ce=this.sliceSerialize(ge),Ie=this.data.characterReferenceType;let et;Ie?(et=nE(Ce,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=Fy(Ce);const lt=this.stack[this.stack.length-1];lt.value+=et}function we(ge){const Ce=this.stack.pop();Ce.position.end=Vs(ge.end)}function Re(ge){he.call(this,ge);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ge)}function ve(ge){he.call(this,ge);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ge)}function Le(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function Rt(){return{type:"heading",depth:0,children:[]}}function Qn(){return{type:"break"}}function Pi(){return{type:"html",value:""}}function Ri(){return{type:"image",title:null,url:"",alt:null}}function ns(){return{type:"link",title:null,url:"",children:[]}}function Er(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Tr(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function so(){return{type:"paragraph",children:[]}}function ao(){return{type:"strong",children:[]}}function mn(){return{type:"text",value:""}}function Pl(){return{type:"thematicBreak"}}}function Vs(t){return{line:t.line,column:t.column,offset:t.offset}}function fE(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?fE(t,r):b5(t,r)}}function b5(t,e){let n;for(n in e)if(dE.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function x1(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+nc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+nc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+nc({start:e.start,end:e.end})+") is still open")}function x5(t){const e=this;e.parser=n;function n(r){return v5(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function w5(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function S5(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function C5(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function E5(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function T5(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function L5(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=Al(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,h=t.footnoteCounts.get(r);h===void 0?(h=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(r,h);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,f);const m={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,m),t.applyData(e,m)}function A5(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function k5(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pE(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function j5(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pE(t,e);const a={src:Al(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function O5(t,e){const n={src:Al(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function M5(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function N5(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pE(t,e);const a={href:Al(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function P5(t,e){const n={href:Al(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function R5(t,e,n){const r=t.all(e),a=n?D5(n):mE(e),o={},u=[];if(typeof e.checked=="boolean"){const g=r[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const g=r[h];(a||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!a?u.push(...g.children):u.push(g)}const f=r[r.length-1];f&&(a||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,m),t.applyData(e,m)}function D5(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=mE(n[r])}return e}function mE(t){const e=t.spread;return e??t.children.length>1}function z5(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function B5(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I5(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function U5(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function V5(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=Iy(e.children[1]),f=WC(e.children[e.children.length-1]);h&&f&&(u.position={start:h,end:f}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function H5(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let f=-1;const m=[];for(;++f<h;){const v=e.children[f],w={},S=u?u[f]:void 0;S&&(w.align=S);let E={type:"element",tagName:o,properties:w,children:[]};v&&(E.children=t.all(v),t.patch(v,E),E=t.applyData(v,E)),m.push(E)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,g),t.applyData(e,g)}function F5(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const w1=9,S1=32;function $5(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const o=[];for(;r;)o.push(C1(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return o.push(C1(e.slice(a),a>0,!1)),o.join("")}function C1(t,e,n){let r=0,a=t.length;if(e){let o=t.codePointAt(r);for(;o===w1||o===S1;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(a-1);for(;o===w1||o===S1;)a--,o=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function q5(t,e){const n={type:"text",value:$5(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Z5(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const G5={blockquote:w5,break:S5,code:C5,delete:E5,emphasis:T5,footnoteReference:L5,heading:A5,html:k5,imageReference:j5,image:O5,inlineCode:M5,linkReference:N5,link:P5,listItem:R5,list:z5,paragraph:B5,root:I5,strong:U5,table:V5,tableCell:F5,tableRow:H5,text:q5,thematicBreak:Z5,toml:wd,yaml:wd,definition:wd,footnoteDefinition:wd};function wd(){}const gE=-1,df=0,rc=1,Gd=2,Zy=3,Gy=4,Ky=5,Wy=6,yE=7,vE=8,E1=typeof self=="object"?self:globalThis,K5=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),r=a=>{if(t.has(a))return t.get(a);const[o,u]=e[a];switch(o){case df:case gE:return n(u,a);case rc:{const h=n([],a);for(const f of u)h.push(r(f));return h}case Gd:{const h=n({},a);for(const[f,m]of u)h[r(f)]=r(m);return h}case Zy:return n(new Date(u),a);case Gy:{const{source:h,flags:f}=u;return n(new RegExp(h,f),a)}case Ky:{const h=n(new Map,a);for(const[f,m]of u)h.set(r(f),r(m));return h}case Wy:{const h=n(new Set,a);for(const f of u)h.add(r(f));return h}case yE:{const{name:h,message:f}=u;return n(new E1[h](f),a)}case vE:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new E1[o](u),a)};return r},T1=t=>K5(new Map,t)(0),nl="",{toString:W5}={},{keys:Y5}=Object,$u=t=>{const e=typeof t;if(e!=="object"||!t)return[df,e];const n=W5.call(t).slice(8,-1);switch(n){case"Array":return[rc,nl];case"Object":return[Gd,nl];case"Date":return[Zy,nl];case"RegExp":return[Gy,nl];case"Map":return[Ky,nl];case"Set":return[Wy,nl];case"DataView":return[rc,n]}return n.includes("Array")?[rc,n]:n.includes("Error")?[yE,n]:[Gd,n]},Sd=([t,e])=>t===df&&(e==="function"||e==="symbol"),X5=(t,e,n,r)=>{const a=(u,h)=>{const f=r.push(u)-1;return n.set(h,f),f},o=u=>{if(n.has(u))return n.get(u);let[h,f]=$u(u);switch(h){case df:{let g=u;switch(f){case"bigint":h=vE,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return a([gE],u)}return a([h,g],u)}case rc:{if(f){let w=u;return f==="DataView"?w=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(w=new Uint8Array(u)),a([f,[...w]],u)}const g=[],v=a([h,g],u);for(const w of u)g.push(o(w));return v}case Gd:{if(f)switch(f){case"BigInt":return a([f,u.toString()],u);case"Boolean":case"Number":case"String":return a([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const g=[],v=a([h,g],u);for(const w of Y5(u))(t||!Sd($u(u[w])))&&g.push([o(w),o(u[w])]);return v}case Zy:return a([h,u.toISOString()],u);case Gy:{const{source:g,flags:v}=u;return a([h,{source:g,flags:v}],u)}case Ky:{const g=[],v=a([h,g],u);for(const[w,S]of u)(t||!(Sd($u(w))||Sd($u(S))))&&g.push([o(w),o(S)]);return v}case Wy:{const g=[],v=a([h,g],u);for(const w of u)(t||!Sd($u(w)))&&g.push(o(w));return v}}const{message:m}=u;return a([h,{name:f,message:m}],u)};return o},L1=(t,{json:e,lossy:n}={})=>{const r=[];return X5(!(e||n),!!e,new Map,r)(t),r},Kd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?T1(L1(t,e)):structuredClone(t):(t,e)=>T1(L1(t,e));function J5(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Q5(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function eD(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||J5,r=t.options.footnoteBackLabel||Q5,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let f=-1;for(;++f<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[f]);if(!m)continue;const g=t.all(m),v=String(m.identifier).toUpperCase(),w=Al(v.toLowerCase());let S=0;const E=[],T=t.footnoteCounts.get(v);for(;T!==void 0&&++S<=T;){E.length>0&&E.push({type:"text",value:" "});let P=typeof n=="string"?n:n(f,S);typeof P=="string"&&(P={type:"text",value:P}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,S),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const j=g[g.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const P=j.children[j.children.length-1];P&&P.type==="text"?P.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...E)}else g.push(...E);const O={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(g,!0)};t.patch(m,O),h.push(O)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Kd(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const _E=(function(t){if(t==null)return rD;if(typeof t=="function")return ff(t);if(typeof t=="object")return Array.isArray(t)?tD(t):nD(t);if(typeof t=="string")return iD(t);throw new Error("Expected function, string, or object as test")});function tD(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=_E(t[n]);return ff(r);function r(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function nD(t){const e=t;return ff(n);function n(r){const a=r;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function iD(t){return ff(e);function e(n){return n&&n.type===t}}function ff(t){return e;function e(n,r,a){return!!(sD(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function rD(){return!0}function sD(t){return t!==null&&typeof t=="object"&&"type"in t}const bE=[],aD=!0,A1=!1,oD="skip";function lD(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const o=_E(a),u=r?-1:1;h(t,void 0,[])();function h(f,m,g){const v=f&&typeof f=="object"?f:{};if(typeof v.type=="string"){const S=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(f.type+(S?"<"+S+">":""))+")"})}return w;function w(){let S=bE,E,T,j;if((!e||o(f,m,g[g.length-1]||void 0))&&(S=uD(n(f,g)),S[0]===A1))return S;if("children"in f&&f.children){const O=f;if(O.children&&S[0]!==oD)for(T=(r?O.children.length:-1)+u,j=g.concat(O);T>-1&&T<O.children.length;){const P=O.children[T];if(E=h(P,T,j)(),E[0]===A1)return E;T=typeof E[1]=="number"?E[1]:T+u}}return S}}}function uD(t){return Array.isArray(t)?t:typeof t=="number"?[aD,t]:t==null?bE:[t]}function xE(t,e,n,r){let a,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,a=n):(o=e,u=n,a=r),lD(t,o,h,a);function h(f,m){const g=m[m.length-1],v=g?g.children.indexOf(f):void 0;return u(f,v,g)}}const Xg={}.hasOwnProperty,cD={};function hD(t,e){const n=e||cD,r=new Map,a=new Map,o=new Map,u={...G5,...n.handlers},h={all:m,applyData:fD,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:dD,wrap:mD};return xE(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?r:a,w=String(g.identifier).toUpperCase();v.has(w)||v.set(w,g)}}),h;function f(g,v){const w=g.type,S=h.handlers[w];if(Xg.call(h.handlers,w)&&S)return S(h,g,v);if(h.options.passThrough&&h.options.passThrough.includes(w)){if("children"in g){const{children:T,...j}=g,O=Kd(j);return O.children=h.all(g),O}return Kd(g)}return(h.options.unknownHandler||pD)(h,g,v)}function m(g){const v=[];if("children"in g){const w=g.children;let S=-1;for(;++S<w.length;){const E=h.one(w[S],g);if(E){if(S&&w[S-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=k1(E.value)),!Array.isArray(E)&&E.type==="element")){const T=E.children[0];T&&T.type==="text"&&(T.value=k1(T.value))}Array.isArray(E)?v.push(...E):v.push(E)}}}return v}}function dD(t,e){t.position&&(e.position=WN(t))}function fD(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Kd(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function pD(t,e){const n=e.data||{},r="value"in e&&!(Xg.call(n,"hProperties")||Xg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function mD(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function k1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function j1(t,e){const n=hD(t,e),r=n.one(t,void 0),a=eD(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function gD(t,e){return t&&"run"in t?async function(n,r){const a=j1(n,{file:r,...e});await t.run(a,r)}:function(n,r){return j1(n,{file:r,...t||e})}}function O1(t){if(t)throw t}var Xm,M1;function yD(){if(M1)return Xm;M1=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},o=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var g=t.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!v)return!1;var w;for(w in m);return typeof w>"u"||t.call(m,w)},u=function(m,g){n&&g.name==="__proto__"?n(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},h=function(m,g){if(g==="__proto__")if(t.call(m,g)){if(r)return r(m,g).value}else return;return m[g]};return Xm=function f(){var m,g,v,w,S,E,T=arguments[0],j=1,O=arguments.length,P=!1;for(typeof T=="boolean"&&(P=T,T=arguments[1]||{},j=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});j<O;++j)if(m=arguments[j],m!=null)for(g in m)v=h(T,g),w=h(m,g),T!==w&&(P&&w&&(o(w)||(S=a(w)))?(S?(S=!1,E=v&&a(v)?v:[]):E=v&&o(v)?v:{},u(T,{name:g,newValue:f(P,E,w)})):typeof w<"u"&&u(T,{name:g,newValue:w}));return T},Xm}var vD=yD();const Jm=eo(vD);function Jg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function _D(){const t=[],e={run:n,use:r};return e;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(f,...m){const g=t[++o];let v=-1;if(f){u(f);return}for(;++v<a.length;)(m[v]===null||m[v]===void 0)&&(m[v]=a[v]);a=m,g?bD(g,h)(...m):u(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function bD(t,e){let n;return r;function r(...u){const h=t.length>u.length;let f;h&&u.push(a);try{f=t.apply(this,u)}catch(m){const g=m;if(h&&n)throw g;return a(g)}h||(f&&f.then&&typeof f.then=="function"?f.then(o,a):f instanceof Error?a(f):o(f))}function a(u,...h){n||(n=!0,e(u,...h))}function o(u){a(null,u)}}const yr={basename:xD,dirname:wD,extname:SD,join:CD,sep:"/"};function xD(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Nc(t);let n=0,r=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function wD(t){if(Nc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function SD(t){Nc(t);let e=t.length,n=-1,r=0,a=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function CD(...t){let e=-1,n;for(;++e<t.length;)Nc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ED(n)}function ED(t){Nc(t);const e=t.codePointAt(0)===47;let n=TD(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function TD(t,e){let n="",r=0,a=-1,o=0,u=-1,h,f;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",r=0,a=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function Nc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const LD={cwd:AD};function AD(){return"/"}function Qg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function kD(t){if(typeof t=="string")t=new URL(t);else if(!Qg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return jD(t)}function jD(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Qm=["history","path","basename","stem","extname","dirname"];class wE{constructor(e){let n;e?Qg(e)?n={path:e}:typeof e=="string"||OD(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":LD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Qm.length;){const o=Qm[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)Qm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?yr.basename(this.path):void 0}set basename(e){tg(e,"basename"),eg(e,"basename"),this.path=yr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?yr.dirname(this.path):void 0}set dirname(e){N1(this.basename,"dirname"),this.path=yr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?yr.extname(this.path):void 0}set extname(e){if(eg(e,"extname"),N1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Qg(e)&&(e=kD(e)),tg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?yr.basename(this.path,this.extname):void 0}set stem(e){tg(e,"stem"),eg(e,"stem"),this.path=yr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new kn(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function eg(t,e){if(t&&t.includes(yr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+yr.sep+"`")}function tg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function N1(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function OD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const MD=(function(t){const r=this.constructor.prototype,a=r[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),ND={}.hasOwnProperty;class Yy extends MD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_D()}copy(){const e=new Yy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Jm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(rg("data",this.frozen),this.namespace[e]=n,this):ND.call(this.namespace,e)&&this.namespace[e]||void 0:e?(rg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Cd(e),r=this.parser||this.Parser;return ng("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ng("process",this.parser||this.Parser),ig("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Cd(e),f=r.parse(h);r.run(f,h,function(g,v,w){if(g||!v||!w)return m(g);const S=v,E=r.stringify(S,w);DD(E)?w.value=E:w.result=E,m(g,w)});function m(g,v){g||!v?u(g):o?o(v):n(void 0,v)}}}processSync(e){let n=!1,r;return this.freeze(),ng("processSync",this.parser||this.Parser),ig("processSync",this.compiler||this.Compiler),this.process(e,a),R1("processSync","process",n),r;function a(o,u){n=!0,O1(o),r=u}}run(e,n,r){P1(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,h){const f=Cd(n);a.run(e,f,m);function m(g,v,w){const S=v||e;g?h(g):u?u(S):r(void 0,S,w)}}}runSync(e,n){let r=!1,a;return this.run(e,n,o),R1("runSync","run",r),a;function o(u,h){O1(u),a=h,r=!0}}stringify(e,n){this.freeze();const r=Cd(n),a=this.compiler||this.Compiler;return ig("stringify",a),P1(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(rg("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(m){if(typeof m=="function")f(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...v]=m;f(g,v)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(a.settings=Jm(!0,a.settings,m.settings))}function h(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const v=m[g];o(v)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function f(m,g){let v=-1,w=-1;for(;++v<r.length;)if(r[v][0]===m){w=v;break}if(w===-1)r.push([m,...g]);else if(g.length>0){let[S,...E]=g;const T=r[w][1];Jg(T)&&Jg(S)&&(S=Jm(!0,T,S)),r[w]=[m,S,...E]}}}}const PD=new Yy().freeze();function ng(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ig(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function rg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function P1(t){if(!Jg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function R1(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Cd(t){return RD(t)?t:new wE(t)}function RD(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function DD(t){return typeof t=="string"||zD(t)}function zD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const BD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",D1=[],z1={allowDangerousHtml:!0},ID=/^(https?|ircs?|mailto|xmpp)$/i,UD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function VD(t){const e=HD(t),n=FD(t);return $D(e.runSync(e.parse(n),n),t)}function HD(t){const e=t.rehypePlugins||D1,n=t.remarkPlugins||D1,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...z1}:z1;return PD().use(x5).use(n).use(gD,r).use(e)}function FD(t){const e=t.children||"",n=new wE;return typeof e=="string"&&(n.value=e),n}function $D(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,f=e.urlTransform||qD;for(const g of UD)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+BD+g.id,void 0);return xE(t,m),eP(t,{Fragment:y.Fragment,components:a,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function m(g,v,w){if(g.type==="raw"&&w&&typeof v=="number")return u?w.children.splice(v,1):w.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let S;for(S in Km)if(Object.hasOwn(Km,S)&&Object.hasOwn(g.properties,S)){const E=g.properties[S],T=Km[S];(T===null||T.includes(g.tagName))&&(g.properties[S]=f(String(E||""),S,g))}}if(g.type==="element"){let S=n?!n.includes(g.tagName):o?o.includes(g.tagName):!1;if(!S&&r&&typeof v=="number"&&(S=!r(g,v,w)),S&&w&&typeof v=="number")return h&&g.children?w.children.splice(v,1,...g.children):w.children.splice(v,1),v}}}function qD(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||ID.test(t.slice(0,e))?t:""}const B1={dashboard:{title:"Dashboard Overview",content:`
The dashboard provides a quick overview of your event data:

**Key Metrics:**
- **Total Markers**: All map locations (booths, parking, facilities)
- **Companies**: Registered exhibitor companies
- **Subscriptions**: Companies registered for the selected year
- **Assignments**: Companies assigned to map locations

**Event Stats:**
- View meal counts (breakfast, lunch, BBQ) for Saturday and Sunday
- Track total coins distributed
- All stats update in real-time as you make changes

**Year Selector:**
Use the year dropdown in the top navigation to switch between event years.
    `.trim(),updated:"2025-11-21",tips:["Use the year selector to view past or future events","Stats update automatically when you make changes","Dashboard is read-only - go to specific tabs to edit data"]},mapManagement:{title:"Map Management",content:`
The Map Management page lets you place and configure map markers.

**Placing Markers:**
1. Click "Add Marker" or right-click on the map
2. Drag the marker to the desired position
3. Set marker properties (name, type, icon, visibility)
4. Click "Save" to persist changes

**Marker Properties:**
- **Type**: Booth, Parking, Food, Event, etc.
- **Icon & Color**: Visual appearance on map
- **Min/Max Zoom**: Control when marker appears based on zoom level
- **Rotation**: Adjust booth rectangle angle (booths only)
- **Lock**: Prevent accidental moves during event

**Tips:**
- Lock markers before event day to prevent accidental changes
- Use zoom visibility to keep map clean at different zoom levels
- Rectangles (6m x 6m) show booth outlines - only visible in admin view
    `.trim(),updated:"2025-11-21",tips:["Right-click on map for quick marker creation","Lock markers before going live to prevent accidents","Adjust min/max zoom to control marker visibility","Use rectangles to visualize booth layouts"]},companies:{title:"Companies Management",content:`
Manage exhibitor companies and their contact information.

**Adding Companies:**
1. Click "Add Company" button
2. Fill in company details (name, contact, phone, email)
3. Click "Save"

**Company Information:**
- **Company Name**: Primary identifier (must be unique)
- **Contact Person**: Main point of contact
- **Phone**: Contact phone number
- **Email**: Contact email address

**Editing Companies:**
- Click on any row to edit company details
- Changes save automatically
- Company data persists across event years

**Importing Companies:**
See the import section for bulk company uploads via CSV/Excel.
    `.trim(),updated:"2025-11-21",tips:["Company names must be unique","Contact info becomes default for new subscriptions","Use import feature for bulk company additions","Companies persist across years - no need to re-add"]},subscriptions:{title:"Event Subscriptions",content:`
Track which companies are participating in each event year.

**What is a Subscription?**
A subscription represents a company's participation in a specific event year, including:
- Booth allocation count
- Meal orders (breakfast, lunch, BBQ for Sat/Sun)
- Coin distribution
- Internal notes

**Creating Subscriptions:**
1. Select event year from dropdown
2. Click "Add Subscription"
3. Select company from list
4. Enter booth count and meal numbers
5. Save

**Importing Subscriptions:**
Use the import feature to bulk-upload subscription data from Excel/CSV.
See "Import Guide" for detailed instructions.

**Important:**
- Each company can only have one subscription per year
- Meal counts and coins are used for event planning
- Notes field is for internal use only (not visible to exhibitors)
    `.trim(),updated:"2025-11-21",tips:["One subscription per company per year","Import Excel file to save time on bulk data entry","Use notes field for internal tracking","Meal counts help with catering planning"]},assignments:{title:"Map Assignments",content:`
Link companies to their map locations (markers).

**What is an Assignment?**
An assignment connects a company's subscription to a specific map marker (booth location).

**Creating Assignments:**
1. Select event year
2. Click "Assign to Map"
3. Choose company subscription
4. Select map marker (booth location)
5. Save assignment

**Assignment Rules:**
- Company must have a subscription for that year
- Each marker can only be assigned to one company per year
- Assignments are year-specific (2025 assignments don't affect 2026)

**Viewing on Map:**
- Public map shows company name and logo at assigned marker
- Click marker to view company details
- Search function finds companies by name or booth number
    `.trim(),updated:"2025-11-21",tips:["Company needs subscription before assignment","One company per marker per year","Assignments appear immediately on public map","Use year selector to manage different event years"]},import:{title:"Data Import Guide",content:`
Import company and subscription data from Excel/CSV files.

**Prerequisites:**
1. You need a valid JWT authentication token
2. Prepare your Excel file with required columns
3. Company names in Excel must match database company names

**Getting Your JWT Token:**
1. Open browser DevTools (F12 or Right-click  Inspect)
2. Go to **Application** tab  **Local Storage**
3. Find \`supabase.auth.token\` key
4. Copy the \`access_token\` value (long string starting with "eyJ...")

**Running Import:**
\`\`\`bash
./run-import.sh 'YOUR_JWT_TOKEN_HERE'
\`\`\`

**Excel File Format:**
Required columns:
- **Bedrijfsnaam**: Company name (must match existing company)
- **Volledige naam**: Contact person
- **telefoon nr**: Phone number
- **e-mail**: Email address
- **Aantal kramen**: Booth count
- **Aantal munten**: Coins
- **Ontbijt za/zo**: Breakfast counts
- **Lunch za/zo**: Lunch counts
- **BBQ za**: BBQ count

**Troubleshooting:**
- "Company not found": Check company name spelling
- "JWT expired": Get a fresh token from DevTools
- "Column missing": Verify Excel file has all required columns

For detailed instructions, see \`IMPORT_README.md\` file.
    `.trim(),updated:"2025-11-21",tips:["JWT tokens expire - get fresh token if import fails","Company names must match exactly (case-insensitive)","Test with small file first","Backup data before large imports"]},settings:{title:"System Settings",content:`
Configure system-wide settings and preferences.

**Available Settings:**
- **Organization Profile**: Logo, name, branding
- **Map Defaults**: Default layers, zoom levels
- **User Management**: Admin roles and permissions
- **Marker Defaults**: Default icons, colors, sizes

**Organization Logo:**
Upload your organization logo to appear:
- On map cluster markers
- In admin dashboard header
- In public map branding

**User Roles:**
- **Super Admin**: Full access to all features
- **System Manager**: Dashboard + Map Management
- **Event Manager**: Dashboard + Companies + Subscriptions + Assignments

**Important:**
Only Super Admins can access settings. Changes affect all users.
    `.trim(),updated:"2025-11-21",tips:["Only Super Admins see this section","Test logo uploads in staging first","Changes affect all admin users","Keep user count to 5-10 for best performance"]},general:{title:"Getting Started",content:`
Welcome to the Event Map Admin Panel!

**Your Role Determines Access:**
- **Super Admin**: Full access to everything
- **System Manager**: Map editing and dashboard
- **Event Manager**: Company and subscription management

**Common Workflows:**

**1. Setting Up a New Event Year:**
- Add/update companies in Companies tab
- Import subscriptions for new year
- Assign companies to map locations

**2. Managing Map:**
- Place markers for booths, parking, facilities
- Adjust visibility by zoom level
- Lock markers before event goes live

**3. Day-of-Event:**
- Lock all markers to prevent accidents
- Monitor assignments in real-time
- Public map updates automatically

**Need Help?**
- Hover over (?) icons for quick tips
- Check "What's New" for recent changes
- Contact system administrator for access issues
    `.trim(),updated:"2025-11-21",tips:["Start with dashboard to understand current status","Use year selector to switch between events","Lock markers before going live","Import data saves time vs manual entry"]}};function ZD(t){return B1[t]||B1.general}function GD(t){const n={"/admin":"dashboard","/admin/map":"mapManagement","/admin/companies":"companies","/admin/subscriptions":"subscriptions","/admin/assignments":"assignments","/admin/settings":"settings"}[t]||"general";return ZD(n)}const KD=[{date:"2025-11-21",changes:[{text:"Added in-app help system with contextual guidance",type:"feature"},{text:"New tooltips on complex controls for easier navigation",type:"feature"},{text:"Created versioning strategy document for future releases",type:"improvement"}]},{date:"2025-11-15",changes:[{text:"Enhanced logo uploader with drag-and-drop support",type:"feature"},{text:"Improved import validation with better error messages",type:"improvement"},{text:"Fixed CSV import encoding issues",type:"fix"}]},{date:"2025-11-10",changes:[{text:"Added event subscriptions management tab",type:"feature"},{text:"New assignments tab for linking companies to map locations",type:"feature"},{text:"Improved marker drag performance on map",type:"improvement"}]},{date:"2025-11-05",changes:[{text:"Map marker rotation with interactive handles",type:"feature"},{text:"Role-based navigation (Super Admin, System Manager, Event Manager)",type:"feature"},{text:"Fixed marker popup display on mobile devices",type:"fix"}]},{date:"2025-11-01",changes:[{text:"Initial admin dashboard launch",type:"feature"},{text:"Companies management with CRUD operations",type:"feature"},{text:"Year selector for multi-year event management",type:"feature"}]}];function WD(t=5){return KD.slice(0,t)}function SE({isOpen:t,onClose:e}){const n=er(),{role:r}=cf(),[a,o]=M.useState("current"),[u,h]=M.useState(""),f=GD(n.pathname),m=WD(5),g=w=>{const S={feature:"bg-green-100 text-green-800",fix:"bg-red-100 text-red-800",improvement:"bg-blue-100 text-blue-800"};return S[w]||S.improvement},v={super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager"};return t?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:e,"aria-hidden":"true"}),y.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[500px] bg-white shadow-2xl z-[9999] flex flex-col",role:"dialog","aria-label":"Help Panel","aria-modal":"true",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ae,{path:VM,size:1.2,className:"text-blue-600"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Help & Guide"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":"Close help panel",children:y.jsx(Ae,{path:Qa,size:1,className:"text-gray-600"})})]}),r&&y.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200",children:y.jsxs("span",{className:"text-sm text-gray-600",children:["Your role: ",y.jsx("span",{className:"font-semibold text-blue-600",children:v[r]})]})}),y.jsxs("div",{className:"flex border-b border-gray-200 px-6 bg-white",children:[y.jsx("button",{onClick:()=>o("current"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${a==="current"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Current Page"}),y.jsx("button",{onClick:()=>o("whats-new"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${a==="whats-new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"What's New"}),y.jsx("button",{onClick:()=>o("quick-start"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${a==="quick-start"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Quick Start"})]}),a==="current"&&y.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:y.jsxs("div",{className:"relative",children:[y.jsx(Ae,{path:io,size:.8,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search help content...",value:u,onChange:w=>h(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[a==="current"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:f.title}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",f.updated]})]}),y.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 text-left",children:y.jsx(VD,{components:{h1:({node:w,...S})=>y.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4 mb-2 text-left",...S}),h2:({node:w,...S})=>y.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-4 mb-2 text-left",...S}),h3:({node:w,...S})=>y.jsx("h3",{className:"text-base font-bold text-gray-900 mt-3 mb-2 text-left",...S}),h4:({node:w,...S})=>y.jsx("h4",{className:"text-sm font-semibold text-gray-900 mt-3 mb-2 text-left",...S}),p:({node:w,...S})=>y.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-left",...S}),ul:({node:w,...S})=>y.jsx("ul",{className:"list-disc list-outside mb-4 space-y-2 text-left ml-5",...S}),ol:({node:w,...S})=>y.jsx("ol",{className:"list-decimal list-outside mb-4 space-y-2 text-left ml-5",...S}),li:({node:w,...S})=>y.jsx("li",{className:"text-gray-700 text-left pl-2",...S}),code:({node:w,...S})=>y.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",...S}),a:({node:w,...S})=>y.jsx("a",{className:"text-blue-600 hover:text-blue-800 underline",...S})},children:f.content})}),f.tips&&f.tips.length>0&&y.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(Ae,{path:rN,size:.9,className:"text-amber-600 flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Quick Tips"}),y.jsx("ul",{className:"space-y-1",children:f.tips.map((w,S)=>y.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[y.jsx(Ae,{path:NC,size:.6,className:"flex-shrink-0 mt-0.5"}),y.jsx("span",{children:w})]},S))})]})]})})]}),a==="whats-new"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What's New"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Recent updates and changes"})]}),y.jsx("div",{className:"space-y-4",children:m.map((w,S)=>y.jsxs("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Ae,{path:cN,size:.7,className:"text-blue-600"}),y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(w.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),y.jsx("ul",{className:"space-y-2",children:w.changes.map((E,T)=>y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${g(E.type)}`,children:E.type}),y.jsx("span",{className:"text-sm text-gray-700 flex-1",children:E.text})]},T))})]},S))})]}),a==="quick-start"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Quick Start Guide"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Get started with the admin panel"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"1. Understand Your Role"}),y.jsxs("p",{className:"text-sm text-blue-800",children:["Your role (",v[r]||"Unknown",") determines which features you can access. Check the navigation menu to see available sections."]})]}),y.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"2. Select Event Year"}),y.jsx("p",{className:"text-sm text-green-800",children:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific."})]}),y.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"3. Explore the Dashboard"}),y.jsx("p",{className:"text-sm text-purple-800",children:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data."})]}),y.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"4. Common Workflows"}),y.jsxs("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[y.jsx("li",{children:"Add companies in the Companies tab"}),y.jsx("li",{children:"Import subscriptions via Excel/CSV"}),y.jsx("li",{children:"Assign companies to map locations"}),y.jsx("li",{children:"Lock markers before event day"})]})]}),y.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"5. Get Contextual Help"}),y.jsx("p",{className:"text-sm text-gray-700",children:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'})]})]})]})]}),y.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:y.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Need more help? Contact your system administrator"})})]})]}):null}SE.propTypes={isOpen:ke.bool.isRequired,onClose:ke.func.isRequired};function YD({selectedYear:t,setSelectedYear:e}){const n=er(),{role:r,loading:a,hasAnyRole:o}=cf(),u=new Date().getFullYear(),h=Array.from({length:5},(T,j)=>u-2+j),[f,m]=M.useState(()=>localStorage.getItem("adminSidebarCollapsed")==="true"),[g,v]=M.useState(!1);M.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",f)},[f]);const w=async()=>{await Te.auth.signOut();const T="/Map",j=T.endsWith("/")?T:`${T}/`;window.location.href=`${j}#/admin`},E=[{path:"/admin",label:"Dashboard",icon:gN,roles:["super_admin","system_manager","event_manager"]},{path:"/admin/map",label:"Map Management",icon:RC,roles:["super_admin","system_manager"]},{path:"/admin/companies",label:"Companies",icon:Ka,roles:["super_admin","event_manager"]},{path:"/admin/subscriptions",label:"Event Subscriptions",icon:FM,roles:["super_admin","event_manager"]},{path:"/admin/assignments",label:"Assignments",icon:lN,roles:["super_admin","event_manager"]},{path:"/admin/settings",label:"Settings",icon:PC,roles:["super_admin","system_manager","event_manager"]}].filter(T=>o(T.roles));return a?y.jsx("div",{className:"flex items-center justify-center h-screen",children:y.jsx("div",{className:"text-gray-600",children:"Loading..."})}):y.jsxs("div",{className:"flex h-screen bg-gray-100",children:[y.jsxs("aside",{className:`${f?"w-16":"w-64"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!f&&y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),r&&y.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:r.replace("_"," ")})]}),y.jsx("button",{onClick:()=>m(!f),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:f?"Expand sidebar":"Collapse sidebar",children:y.jsx(Ae,{path:f?NC:qM,size:.9,className:"text-gray-600"})})]}),y.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:y.jsx("ul",{className:"space-y-1",children:E.map(T=>{const j=n.pathname===T.path;return y.jsx("li",{children:y.jsxs(hl,{to:T.path,className:`flex items-center gap-3 ${f?"justify-center px-3":"px-4"} py-3 rounded-lg transition-colors ${j?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,title:f?T.label:"",children:[y.jsx(Ae,{path:T.icon,size:1}),!f&&y.jsx("span",{children:T.label})]})},T.path)})})}),y.jsx("div",{className:"p-2 border-t border-gray-200",children:f?y.jsx("div",{className:"flex justify-center px-3 py-3 text-gray-700 text-sm font-medium",title:`Event Year: ${t}`,children:t}):y.jsxs("div",{className:"px-2 py-3",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Event Year"}),y.jsx("select",{value:t,onChange:T=>e(parseInt(T.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 text-sm",children:h.map(T=>y.jsx("option",{value:T,children:T},T))})]})}),y.jsx("div",{className:"p-2 border-t border-gray-200",children:y.jsxs("button",{onClick:()=>v(!0),className:`flex items-center gap-3 ${f?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-blue-600 hover:bg-blue-50 transition-colors font-medium`,title:f?"Help":"",children:[y.jsx(Ae,{path:QM,size:1}),!f&&y.jsx("span",{children:"Help"})]})}),y.jsx("div",{className:"p-2 border-t border-gray-200",children:y.jsxs("button",{onClick:w,className:`flex items-center gap-3 ${f?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-gray-700 hover:bg-gray-50 transition-colors`,title:f?"Logout":"",children:[y.jsx(Ae,{path:oN,size:1}),!f&&y.jsx("span",{children:"Logout"})]})})]}),y.jsx("main",{className:"flex-1 overflow-y-auto",children:y.jsx("div",{className:"h-full p-4",children:y.jsx(aO,{})})}),y.jsx(SE,{isOpen:g,onClose:()=>v(!1)})]})}function Pc(t){const[e,n]=M.useState([]),[r,a]=M.useState(!0),[o,u]=M.useState(null),h=M.useCallback(async()=>{try{a(!0),u(null);const{data:E,error:T}=await Te.from("event_subscriptions").select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email)
        `).eq("event_year",t).order("id",{ascending:!0});if(T)throw T;n(E||[])}catch(E){console.error("Error loading event subscriptions:",E),u(E.message)}finally{a(!1)}},[t]),f=async(E,T={})=>{try{const{data:{user:j}}=await Te.auth.getUser(),O=j?.email||"unknown",{data:P}=await Te.from("companies").select("contact, phone, email").eq("id",E).single(),{data:N,error:V}=await Te.from("event_subscriptions").insert({company_id:E,event_year:t,contact:T.contact||P?.contact||"",phone:T.phone||P?.phone||"",email:T.email||P?.email||"",booth_count:T.booth_count||1,area:T.area||"",breakfast_sat:T.breakfast_sat||0,lunch_sat:T.lunch_sat||0,bbq_sat:T.bbq_sat||0,breakfast_sun:T.breakfast_sun||0,lunch_sun:T.lunch_sun||0,coins:T.coins||0,notes:T.notes||"",created_by:O}).select().single();if(V)throw V;return await h(),{data:N,error:null}}catch(j){return console.error("Error subscribing company:",j),{data:null,error:j.message}}},m=async(E,T)=>{try{const{data:j,error:O}=await Te.from("event_subscriptions").update(T).eq("id",E).select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email)
        `).single();if(O)throw O;return await h(),{data:j,error:null}}catch(j){return console.error("Error updating subscription:",j),{data:null,error:j.message}}},g=async E=>{try{const{data:T,error:j}=await Te.from("event_subscriptions").select("company_id, event_year").eq("id",E).single();if(j)throw j;const{error:O}=await Te.from("assignments").delete().eq("company_id",T.company_id).eq("event_year",T.event_year);if(O)throw O;const{error:P}=await Te.from("event_subscriptions").delete().eq("id",E);if(P)throw P;return await h(),{error:null}}catch(T){return console.error("Error unsubscribing company:",T),{error:T.message}}},v=async()=>{try{const{data:{user:E}}=await Te.auth.getUser(),T=E?.email||"unknown",{data:j,error:O}=await Te.rpc("archive_event_subscriptions",{year_to_archive:t,archived_by_user:T});if(O)throw O;return await h(),{data:j,error:null}}catch(E){return console.error("Error archiving subscriptions:",E),{data:null,error:E.message}}},w=async E=>{try{const{data:T,error:j}=await Te.from("event_subscriptions_archive").select("*").eq("event_year",E).order("archived_at",{ascending:!1});if(j)throw j;return{data:T,error:null}}catch(T){return console.error("Error loading archived subscriptions:",T),{data:null,error:T.message}}},S=async E=>{try{const{data:{user:T}}=await Te.auth.getUser(),j=T?.email||"unknown",{data:O,error:P}=await Te.from("event_subscriptions").select("*").eq("event_year",E);if(P)throw P;if(!O||O.length===0)return{data:null,error:"No subscriptions found for source year"};const N=O.map(I=>({company_id:I.company_id,event_year:t,contact:I.contact,phone:I.phone,email:I.email,booth_count:I.booth_count,area:I.area,breakfast_sat:I.breakfast_sat,lunch_sat:I.lunch_sat,bbq_sat:I.bbq_sat,breakfast_sun:I.breakfast_sun,lunch_sun:I.lunch_sun,coins:I.coins,notes:I.notes,created_by:j})),{data:V,error:q}=await Te.from("event_subscriptions").insert(N).select();if(q)throw q;return await h(),{data:V,error:null}}catch(T){return console.error("Error copying subscriptions from previous year:",T),{data:null,error:T.message}}};return M.useEffect(()=>{h()},[h]),M.useEffect(()=>{const E=Te.channel("event-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${t}`},()=>{h()}).subscribe();return()=>{Te.removeChannel(E)}},[t,h]),{subscriptions:e,loading:r,error:o,subscribeCompany:f,updateSubscription:m,unsubscribeCompany:g,archiveCurrentYear:v,loadArchivedSubscriptions:w,copyFromPreviousYear:S,reload:h}}function XD({selectedYear:t}){const{subscriptions:e,loading:n}=Pc(t),[r,a]=M.useState({markers:null,companies:null,assignments:null}),[o,u]=M.useState(!0);M.useEffect(()=>{async function g(){u(!0);try{const[v,w,S]=await Promise.all([Te.from("Markers_Core").select("id",{count:"exact",head:!0}).gt("id",0),Te.from("companies").select("id",{count:"exact",head:!0}),Te.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",t)]);a({markers:v.count??0,companies:w.count??0,assignments:S.count??0})}catch(v){console.error("Error fetching dashboard counts:",v)}finally{u(!1)}}g()},[t]);const h=M.useMemo(()=>e.reduce((g,v)=>({breakfast_sat:g.breakfast_sat+(v.breakfast_sat||0),lunch_sat:g.lunch_sat+(v.lunch_sat||0),bbq_sat:g.bbq_sat+(v.bbq_sat||0),breakfast_sun:g.breakfast_sun+(v.breakfast_sun||0),lunch_sun:g.lunch_sun+(v.lunch_sun||0),coins:g.coins+(v.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[e]),f=[{label:"Total Markers",value:o?"...":r.markers?.toString()??"-",icon:lf,color:"blue"},{label:"Companies",value:o?"...":r.companies?.toString()??"-",icon:Ka,color:"green"},{label:`${t} Subscriptions`,value:n?"...":e.length.toString(),icon:HM,color:"orange"},{label:`${t} Assignments`,value:o?"...":r.assignments?.toString()??"-",icon:GM,color:"purple"}],m={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return y.jsxs("div",{children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(g=>y.jsx("div",{className:`p-6 rounded-lg border-2 ${m[g.color]}`,children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Ae,{path:g.icon,size:2}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold",children:g.value}),y.jsx("div",{className:"text-sm font-medium mt-1",children:g.label})]})]})},g.label))}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[t," Event Totals",n&&y.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"Loading..."})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Saturday"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:Wx,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:h.breakfast_sat}),y.jsx("div",{className:"text-sm font-medium",children:"Breakfast"})]})]})}),y.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:Yx,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:h.lunch_sat}),y.jsx("div",{className:"text-sm font-medium",children:"Lunch"})]})]})}),y.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:Xx,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:h.bbq_sat}),y.jsx("div",{className:"text-sm font-medium",children:"BBQ"})]})]})})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Sunday"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:Wx,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:h.breakfast_sun}),y.jsx("div",{className:"text-sm font-medium",children:"Breakfast"})]})]})}),y.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:Yx,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:h.lunch_sun}),y.jsx("div",{className:"text-sm font-medium",children:"Lunch"})]})]})}),y.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:Xx,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:"-"}),y.jsx("div",{className:"text-sm font-medium",children:"No BBQ"})]})]})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Coins"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ae,{path:ZM,size:1.5}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold",children:h.coins}),y.jsx("div",{className:"text-sm font-medium",children:"Total Coins"})]})]})})})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs(hl,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[y.jsx("div",{className:"font-semibold text-gray-900",children:"Add New Company"}),y.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Register a new company in the system"})]}),y.jsxs(hl,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[y.jsx("div",{className:"font-semibold text-gray-900",children:"Manage Subscriptions"}),y.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Add or update event subscriptions"})]}),y.jsxs(hl,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[y.jsx("div",{className:"font-semibold text-gray-900",children:"Assign Booths"}),y.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Manage booth assignments for companies"})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Activity"}),y.jsx("p",{className:"text-gray-600",children:"Activity tracking will be added in a future update."})]})]})}function Xy({requiredRole:t,children:e,message:n}){const{role:r,loading:a,hasRole:o,hasAnyRole:u}=cf();return a?y.jsx("div",{className:"flex items-center justify-center p-8",children:y.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(Array.isArray(t)?u(t):o(t))?y.jsx(y.Fragment,{children:e}):y.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg border-2 border-gray-200",children:[y.jsx(Ae,{path:aN,size:3,className:"text-gray-400 mb-4"}),y.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Access Restricted"}),y.jsx("p",{className:"text-gray-600 text-center max-w-md",children:n||"You do not have permission to view this section. Contact your administrator if you need access."}),r&&y.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Your role: ",y.jsx("span",{className:"font-semibold",children:r.replace("_"," ")})]})]})}Xy.propTypes={requiredRole:ke.oneOfType([ke.string,ke.arrayOf(ke.string)]).isRequired,children:ke.node.isRequired,message:ke.string};Xy.defaultProps={message:null};function _l(t){if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=wl();return t.startsWith("/assets/icons/")?`${e}${t.slice(1)}`:t.startsWith("icons/")?`${e}assets/icons/${t.slice(6)}`:`${e}assets/icons/${t}`}const JD=["glyph-marker-icon-black.svg","glyph-marker-icon-blue.svg","glyph-marker-icon-gray.svg","glyph-marker-icon-green.svg","glyph-marker-icon-orange.svg","glyph-marker-icon-purple.svg","glyph-marker-icon-red.svg","glyph-marker-icon-yellow.svg"];function CE(t,e){const n=M.useRef(e);M.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const QD=1;function ez(t){return Object.freeze({__version:QD,map:t})}function tz(t,e){return Object.freeze({...t,...e})}const Jy=M.createContext(null);function pf(){const t=M.use(Jy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function EE(t){function e(n,r){const{instance:a,context:o}=t(n).current;M.useImperativeHandle(r,()=>a);const{children:u}=n;return u==null?null:mi.createElement(Jy,{value:o},u)}return M.forwardRef(e)}function nz(t){function e(n,r){const[a,o]=M.useState(!1),{instance:u}=t(n,o).current;M.useImperativeHandle(r,()=>u),M.useEffect(function(){a&&u.update()},[u,a,n.children]);const h=u._contentNode;return h?wC.createPortal(n.children,h):null}return M.forwardRef(e)}function iz(t){function e(n,r){const{instance:a}=t(n).current;return M.useImperativeHandle(r,()=>a),null}return M.forwardRef(e)}function Qy(t,e){const n=M.useRef(void 0);M.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function mf(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function rz(t,e){return function(r,a){const o=pf(),u=t(mf(r,o),o);return CE(o.map,r.attribution),Qy(u.current,r.eventHandlers),e(u.current,o,r,a),u}}var Wu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var sz=Wu.exports,I1;function ev(){return I1||(I1=1,(function(t,e){(function(n,r){r(e)})(sz,(function(n){var r="1.9.4";function a(l){var d,_,C,A;for(_=1,C=arguments.length;_<C;_++){A=arguments[_];for(d in A)l[d]=A[d]}return l}var o=Object.create||(function(){function l(){}return function(d){return l.prototype=d,new l}})();function u(l,d){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var C=_.call(arguments,2);return function(){return l.apply(d,C.length?C.concat(_.call(arguments)):arguments)}}var h=0;function f(l){return"_leaflet_id"in l||(l._leaflet_id=++h),l._leaflet_id}function m(l,d,_){var C,A,R,F;return F=function(){C=!1,A&&(R.apply(_,A),A=!1)},R=function(){C?A=arguments:(l.apply(_,arguments),setTimeout(F,d),C=!0)},R}function g(l,d,_){var C=d[1],A=d[0],R=C-A;return l===C&&_?l:((l-A)%R+R)%R+A}function v(){return!1}function w(l,d){if(d===!1)return l;var _=Math.pow(10,d===void 0?6:d);return Math.round(l*_)/_}function S(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function E(l){return S(l).split(/\s+/)}function T(l,d){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var _ in d)l.options[_]=d[_];return l.options}function j(l,d,_){var C=[];for(var A in l)C.push(encodeURIComponent(_?A.toUpperCase():A)+"="+encodeURIComponent(l[A]));return(!d||d.indexOf("?")===-1?"?":"&")+C.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function P(l,d){return l.replace(O,function(_,C){var A=d[C];if(A===void 0)throw new Error("No value provided for variable "+_);return typeof A=="function"&&(A=A(d)),A})}var N=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function V(l,d){for(var _=0;_<l.length;_++)if(l[_]===d)return _;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var K=0;function oe(l){var d=+new Date,_=Math.max(0,16-(d-K));return K=d+_,window.setTimeout(l,_)}var ee=window.requestAnimationFrame||I("RequestAnimationFrame")||oe,he=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function Q(l,d,_){if(_&&ee===oe)l.call(d);else return ee.call(window,u(l,d))}function te(l){l&&he.call(window,l)}var pe={__proto__:null,extend:a,create:o,bind:u,get lastId(){return h},stamp:f,throttle:m,wrapNum:g,falseFn:v,formatNum:w,trim:S,splitWords:E,setOptions:T,getParamString:j,template:P,isArray:N,indexOf:V,emptyImageUrl:q,requestFn:ee,cancelFn:he,requestAnimFrame:Q,cancelAnimFrame:te};function ce(){}ce.extend=function(l){var d=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=d.__super__=this.prototype,C=o(_);C.constructor=d,d.prototype=C;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(d[A]=this[A]);return l.statics&&a(d,l.statics),l.includes&&(Y(l.includes),a.apply(null,[C].concat(l.includes))),a(C,l),delete C.statics,delete C.includes,C.options&&(C.options=_.options?o(_.options):{},a(C.options,l.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,F=C._initHooks.length;R<F;R++)C._initHooks[R].call(this)}},d},ce.include=function(l){var d=this.prototype.options;return a(this.prototype,l),l.options&&(this.prototype.options=d,this.mergeOptions(l.options)),this},ce.mergeOptions=function(l){return a(this.prototype.options,l),this},ce.addInitHook=function(l){var d=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function Y(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=N(l)?l:[l];for(var d=0;d<l.length;d++)l[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(l,d,_){if(typeof l=="object")for(var C in l)this._on(C,l[C],d);else{l=E(l);for(var A=0,R=l.length;A<R;A++)this._on(l[A],d,_)}return this},off:function(l,d,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var C in l)this._off(C,l[C],d);else{l=E(l);for(var A=arguments.length===1,R=0,F=l.length;R<F;R++)A?this._off(l[R]):this._off(l[R],d,_)}return this},_on:function(l,d,_,C){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(l,d,_)===!1){_===this&&(_=void 0);var A={fn:d,ctx:_};C&&(A.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(A)}},_off:function(l,d,_){var C,A,R;if(this._events&&(C=this._events[l],!!C)){if(arguments.length===1){if(this._firingCount)for(A=0,R=C.length;A<R;A++)C[A].fn=v;delete this._events[l];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var F=this._listens(l,d,_);if(F!==!1){var J=C[F];this._firingCount&&(J.fn=v,this._events[l]=C=C.slice()),C.splice(F,1)}}},fire:function(l,d,_){if(!this.listens(l,_))return this;var C=a({},d,{type:l,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var A=this._events[l];if(A){this._firingCount=this._firingCount+1||1;for(var R=0,F=A.length;R<F;R++){var J=A[R],le=J.fn;J.once&&this.off(l,le,J.ctx),le.call(J.ctx||this,C)}this._firingCount--}}return _&&this._propagateEvent(C),this},listens:function(l,d,_,C){typeof l!="string"&&console.warn('"string" type argument expected');var A=d;typeof d!="function"&&(C=!!d,A=void 0,_=void 0);var R=this._events&&this._events[l];if(R&&R.length&&this._listens(l,A,_)!==!1)return!0;if(C){for(var F in this._eventParents)if(this._eventParents[F].listens(l,d,_,C))return!0}return!1},_listens:function(l,d,_){if(!this._events)return!1;var C=this._events[l]||[];if(!d)return!!C.length;_===this&&(_=void 0);for(var A=0,R=C.length;A<R;A++)if(C[A].fn===d&&C[A].ctx===_)return A;return!1},once:function(l,d,_){if(typeof l=="object")for(var C in l)this._on(C,l[C],d,!0);else{l=E(l);for(var A=0,R=l.length;A<R;A++)this._on(l[A],d,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[f(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[f(l)],this},_propagateEvent:function(l){for(var d in this._eventParents)this._eventParents[d].fire(l.type,a({layer:l.target,propagatedFrom:l.target},l),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var W=ce.extend(H);function se(l,d,_){this.x=_?Math.round(l):l,this.y=_?Math.round(d):d}var xe=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(l){return this.clone()._add(B(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(B(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new se(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new se(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xe(this.x),this.y=xe(this.y),this},distanceTo:function(l){l=B(l);var d=l.x-this.x,_=l.y-this.y;return Math.sqrt(d*d+_*_)},equals:function(l){return l=B(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=B(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function B(l,d,_){return l instanceof se?l:N(l)?new se(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new se(l.x,l.y):new se(l,d,_)}function U(l,d){if(l)for(var _=d?[l,d]:l,C=0,A=_.length;C<A;C++)this.extend(_[C])}U.prototype={extend:function(l){var d,_;if(!l)return this;if(l instanceof se||typeof l[0]=="number"||"x"in l)d=_=B(l);else if(l=ie(l),d=l.min,_=l.max,!d||!_)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=_.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var d,_;return typeof l[0]=="number"||l instanceof se?l=B(l):l=ie(l),l instanceof U?(d=l.min,_=l.max):d=_=l,d.x>=this.min.x&&_.x<=this.max.x&&d.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=ie(l);var d=this.min,_=this.max,C=l.min,A=l.max,R=A.x>=d.x&&C.x<=_.x,F=A.y>=d.y&&C.y<=_.y;return R&&F},overlaps:function(l){l=ie(l);var d=this.min,_=this.max,C=l.min,A=l.max,R=A.x>d.x&&C.x<_.x,F=A.y>d.y&&C.y<_.y;return R&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var d=this.min,_=this.max,C=Math.abs(d.x-_.x)*l,A=Math.abs(d.y-_.y)*l;return ie(B(d.x-C,d.y-A),B(_.x+C,_.y+A))},equals:function(l){return l?(l=ie(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function ie(l,d){return!l||l instanceof U?l:new U(l,d)}function D(l,d){if(l)for(var _=d?[l,d]:l,C=0,A=_.length;C<A;C++)this.extend(_[C])}D.prototype={extend:function(l){var d=this._southWest,_=this._northEast,C,A;if(l instanceof ne)C=l,A=l;else if(l instanceof D){if(C=l._southWest,A=l._northEast,!C||!A)return this}else return l?this.extend(de(l)||Z(l)):this;return!d&&!_?(this._southWest=new ne(C.lat,C.lng),this._northEast=new ne(A.lat,A.lng)):(d.lat=Math.min(C.lat,d.lat),d.lng=Math.min(C.lng,d.lng),_.lat=Math.max(A.lat,_.lat),_.lng=Math.max(A.lng,_.lng)),this},pad:function(l){var d=this._southWest,_=this._northEast,C=Math.abs(d.lat-_.lat)*l,A=Math.abs(d.lng-_.lng)*l;return new D(new ne(d.lat-C,d.lng-A),new ne(_.lat+C,_.lng+A))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof ne||"lat"in l?l=de(l):l=Z(l);var d=this._southWest,_=this._northEast,C,A;return l instanceof D?(C=l.getSouthWest(),A=l.getNorthEast()):C=A=l,C.lat>=d.lat&&A.lat<=_.lat&&C.lng>=d.lng&&A.lng<=_.lng},intersects:function(l){l=Z(l);var d=this._southWest,_=this._northEast,C=l.getSouthWest(),A=l.getNorthEast(),R=A.lat>=d.lat&&C.lat<=_.lat,F=A.lng>=d.lng&&C.lng<=_.lng;return R&&F},overlaps:function(l){l=Z(l);var d=this._southWest,_=this._northEast,C=l.getSouthWest(),A=l.getNorthEast(),R=A.lat>d.lat&&C.lat<_.lat,F=A.lng>d.lng&&C.lng<_.lng;return R&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,d){return l?(l=Z(l),this._southWest.equals(l.getSouthWest(),d)&&this._northEast.equals(l.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(l,d){return l instanceof D?l:new D(l,d)}function ne(l,d,_){if(isNaN(l)||isNaN(d))throw new Error("Invalid LatLng object: ("+l+", "+d+")");this.lat=+l,this.lng=+d,_!==void 0&&(this.alt=+_)}ne.prototype={equals:function(l,d){if(!l)return!1;l=de(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(d===void 0?1e-9:d)},toString:function(l){return"LatLng("+w(this.lat,l)+", "+w(this.lng,l)+")"},distanceTo:function(l){return Re.distance(this,de(l))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(l){var d=180*l/40075017,_=d/Math.cos(Math.PI/180*this.lat);return Z([this.lat-d,this.lng-_],[this.lat+d,this.lng+_])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function de(l,d,_){return l instanceof ne?l:N(l)&&typeof l[0]!="object"?l.length===3?new ne(l[0],l[1],l[2]):l.length===2?new ne(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new ne(l.lat,"lng"in l?l.lng:l.lon,l.alt):d===void 0?null:new ne(l,d,_)}var we={latLngToPoint:function(l,d){var _=this.projection.project(l),C=this.scale(d);return this.transformation._transform(_,C)},pointToLatLng:function(l,d){var _=this.scale(d),C=this.transformation.untransform(l,_);return this.projection.unproject(C)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var d=this.projection.bounds,_=this.scale(l),C=this.transformation.transform(d.min,_),A=this.transformation.transform(d.max,_);return new U(C,A)},infinite:!1,wrapLatLng:function(l){var d=this.wrapLng?g(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?g(l.lat,this.wrapLat,!0):l.lat,C=l.alt;return new ne(_,d,C)},wrapLatLngBounds:function(l){var d=l.getCenter(),_=this.wrapLatLng(d),C=d.lat-_.lat,A=d.lng-_.lng;if(C===0&&A===0)return l;var R=l.getSouthWest(),F=l.getNorthEast(),J=new ne(R.lat-C,R.lng-A),le=new ne(F.lat-C,F.lng-A);return new D(J,le)}},Re=a({},we,{wrapLng:[-180,180],R:6371e3,distance:function(l,d){var _=Math.PI/180,C=l.lat*_,A=d.lat*_,R=Math.sin((d.lat-l.lat)*_/2),F=Math.sin((d.lng-l.lng)*_/2),J=R*R+Math.cos(C)*Math.cos(A)*F*F,le=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*le}}),ve=6378137,Le={R:ve,MAX_LATITUDE:85.0511287798,project:function(l){var d=Math.PI/180,_=this.MAX_LATITUDE,C=Math.max(Math.min(_,l.lat),-_),A=Math.sin(C*d);return new se(this.R*l.lng*d,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(l){var d=180/Math.PI;return new ne((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*d,l.x*d/this.R)},bounds:(function(){var l=ve*Math.PI;return new U([-l,-l],[l,l])})()};function Ve(l,d,_,C){if(N(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=d,this._c=_,this._d=C}Ve.prototype={transform:function(l,d){return this._transform(l.clone(),d)},_transform:function(l,d){return d=d||1,l.x=d*(this._a*l.x+this._b),l.y=d*(this._c*l.y+this._d),l},untransform:function(l,d){return d=d||1,new se((l.x/d-this._b)/this._a,(l.y/d-this._d)/this._c)}};function De(l,d,_,C){return new Ve(l,d,_,C)}var He=a({},Re,{code:"EPSG:3857",projection:Le,transformation:(function(){var l=.5/(Math.PI*Le.R);return De(l,.5,-l,.5)})()}),gt=a({},He,{code:"EPSG:900913"});function Rt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Qn(l,d){var _="",C,A,R,F,J,le;for(C=0,R=l.length;C<R;C++){for(J=l[C],A=0,F=J.length;A<F;A++)le=J[A],_+=(A?"L":"M")+le.x+" "+le.y;_+=d?Ne.svg?"z":"x":""}return _||"M0 0"}var Pi=document.documentElement.style,Ri="ActiveXObject"in window,ns=Ri&&!document.addEventListener,Er="msLaunchUri"in navigator&&!("documentMode"in document),Tr=Dn("webkit"),so=Dn("android"),ao=Dn("android 2")||Dn("android 3"),mn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pl=so&&Dn("Google")&&mn<537&&!("AudioNode"in window),ge=!!window.opera,Ce=!Er&&Dn("chrome"),Ie=Dn("gecko")&&!Tr&&!ge&&!Ri,et=!Ce&&Dn("safari"),lt=Dn("phantom"),wn="OTransition"in Pi,Di=navigator.platform.indexOf("Win")===0,cn=Ri&&"transition"in Pi,Dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ao,gn="MozPerspective"in Pi,yt=!window.L_DISABLE_3D&&(cn||Dt||gn)&&!wn&&!lt,Rn=typeof orientation<"u"||Dn("mobile"),ei=Rn&&Tr,Tf=Rn&&Dt,Js=!window.PointerEvent&&window.MSPointerEvent,Qs=!!(window.PointerEvent||Js),ea="ontouchstart"in window||!!window.TouchEvent,Lr=!window.L_NO_TOUCH&&(ea||Qs),oo=Rn&&ge,ta=Rn&&Ie,Lf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ic=(function(){var l=!1;try{var d=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",v,d),window.removeEventListener("testPassiveEventSupport",v,d)}catch{}return l})(),Rl=(function(){return!!document.createElement("canvas").getContext})(),Ar=!!(document.createElementNS&&Rt("svg").createSVGRect),Af=!!Ar&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Uc=!Ar&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var d=l.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),Vc=navigator.platform.indexOf("Mac")===0,Hc=navigator.platform.indexOf("Linux")===0;function Dn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Ne={ie:Ri,ielt9:ns,edge:Er,webkit:Tr,android:so,android23:ao,androidStock:Pl,opera:ge,chrome:Ce,gecko:Ie,safari:et,phantom:lt,opera12:wn,win:Di,ie3d:cn,webkit3d:Dt,gecko3d:gn,any3d:yt,mobile:Rn,mobileWebkit:ei,mobileWebkit3d:Tf,msPointer:Js,pointer:Qs,touch:Lr,touchNative:ea,mobileOpera:oo,mobileGecko:ta,retina:Lf,passiveEvents:Ic,canvas:Rl,svg:Ar,vml:Uc,inlineSvg:Af,mac:Vc,linux:Hc},Dl=Ne.msPointer?"MSPointerDown":"pointerdown",zl=Ne.msPointer?"MSPointerMove":"pointermove",zi=Ne.msPointer?"MSPointerUp":"pointerup",Wt=Ne.msPointer?"MSPointerCancel":"pointercancel",hn={touchstart:Dl,touchmove:zl,touchend:zi,touchcancel:Wt},kr={touchstart:rs,touchmove:nr,touchend:nr,touchcancel:nr},tr={},Fc=!1;function kf(l,d,_){return d==="touchstart"&&is(),kr[d]?(_=kr[d].bind(this,_),l.addEventListener(hn[d],_,!1),_):(console.warn("wrong event specified:",d),v)}function $c(l,d,_){if(!hn[d]){console.warn("wrong event specified:",d);return}l.removeEventListener(hn[d],_,!1)}function na(l){tr[l.pointerId]=l}function Bl(l){tr[l.pointerId]&&(tr[l.pointerId]=l)}function jr(l){delete tr[l.pointerId]}function is(){Fc||(document.addEventListener(Dl,na,!0),document.addEventListener(zl,Bl,!0),document.addEventListener(zi,jr,!0),document.addEventListener(Wt,jr,!0),Fc=!0)}function nr(l,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var _ in tr)d.touches.push(tr[_]);d.changedTouches=[d],l(d)}}function rs(l,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Vt(d),nr(l,d)}function Yt(l){var d={},_,C;for(C in l)_=l[C],d[C]=_&&_.bind?_.bind(l):_;return l=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var qc=200;function Zc(l,d){l.addEventListener("dblclick",d);var _=0,C;function A(R){if(R.detail!==1){C=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var F=ua(R);if(!(F.some(function(le){return le instanceof HTMLLabelElement&&le.attributes.for})&&!F.some(function(le){return le instanceof HTMLInputElement||le instanceof HTMLSelectElement}))){var J=Date.now();J-_<=qc?(C++,C===2&&d(Yt(R))):C=1,_=J}}}return l.addEventListener("click",A),{dblclick:d,simDblclick:A}}function Or(l,d){l.removeEventListener("dblclick",d.dblclick),l.removeEventListener("click",d.simDblclick)}var ir=sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ia=sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Il=ia==="webkitTransition"||ia==="OTransition"?ia+"End":"transitionend";function Ul(l){return typeof l=="string"?document.getElementById(l):l}function ra(l,d){var _=l.style[d]||l.currentStyle&&l.currentStyle[d];if((!_||_==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(l,null);_=C?C[d]:null}return _==="auto"?null:_}function tt(l,d,_){var C=document.createElement(l);return C.className=d||"",_&&_.appendChild(C),C}function bt(l){var d=l.parentNode;d&&d.removeChild(l)}function zn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function sn(l){var d=l.parentNode;d&&d.lastChild!==l&&d.appendChild(l)}function Mr(l){var d=l.parentNode;d&&d.firstChild!==l&&d.insertBefore(l,d.firstChild)}function Vl(l,d){if(l.classList!==void 0)return l.classList.contains(d);var _=lo(l);return _.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(_)}function Ge(l,d){if(l.classList!==void 0)for(var _=E(d),C=0,A=_.length;C<A;C++)l.classList.add(_[C]);else if(!Vl(l,d)){var R=lo(l);ss(l,(R?R+" ":"")+d)}}function Ot(l,d){l.classList!==void 0?l.classList.remove(d):ss(l,S((" "+lo(l)+" ").replace(" "+d+" "," ")))}function ss(l,d){l.className.baseVal===void 0?l.className=d:l.className.baseVal=d}function lo(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function kt(l,d){"opacity"in l.style?l.style.opacity=d:"filter"in l.style&&Hl(l,d)}function Hl(l,d){var _=!1,C="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(C)}catch{if(d===1)return}d=Math.round(d*100),_?(_.Enabled=d!==100,_.Opacity=d):l.style.filter+=" progid:"+C+"(opacity="+d+")"}function sa(l){for(var d=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in d)return l[_];return!1}function Bi(l,d,_){var C=d||new se(0,0);l.style[ir]=(Ne.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(_?" scale("+_+")":"")}function Ct(l,d){l._leaflet_pos=d,Ne.any3d?Bi(l,d):(l.style.left=d.x+"px",l.style.top=d.y+"px")}function rr(l){return l._leaflet_pos||new se(0,0)}var as,gi,Fl;if("onselectstart"in document)as=function(){Fe(window,"selectstart",Vt)},gi=function(){mt(window,"selectstart",Vt)};else{var os=sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);as=function(){if(os){var l=document.documentElement.style;Fl=l[os],l[os]="none"}},gi=function(){os&&(document.documentElement.style[os]=Fl,Fl=void 0)}}function uo(){Fe(window,"dragstart",Vt)}function aa(){mt(window,"dragstart",Vt)}var co,$l;function ls(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Bn(),co=l,$l=l.style.outlineStyle,l.style.outlineStyle="none",Fe(window,"keydown",Bn))}function Bn(){co&&(co.style.outlineStyle=$l,co=void 0,$l=void 0,mt(window,"keydown",Bn))}function ho(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function oa(l){var d=l.getBoundingClientRect();return{x:d.width/l.offsetWidth||1,y:d.height/l.offsetHeight||1,boundingClientRect:d}}var us={__proto__:null,TRANSFORM:ir,TRANSITION:ia,TRANSITION_END:Il,get:Ul,getStyle:ra,create:tt,remove:bt,empty:zn,toFront:sn,toBack:Mr,hasClass:Vl,addClass:Ge,removeClass:Ot,setClass:ss,getClass:lo,setOpacity:kt,testProp:sa,setTransform:Bi,setPosition:Ct,getPosition:rr,get disableTextSelection(){return as},get enableTextSelection(){return gi},disableImageDrag:uo,enableImageDrag:aa,preventOutline:ls,restoreOutline:Bn,getSizedParentNode:ho,getScale:oa};function Fe(l,d,_,C){if(d&&typeof d=="object")for(var A in d)ni(l,A,d[A],_);else{d=E(d);for(var R=0,F=d.length;R<F;R++)ni(l,d[R],_,C)}return this}var ti="_leaflet_events";function mt(l,d,_,C){if(arguments.length===1)ql(l),delete l[ti];else if(d&&typeof d=="object")for(var A in d)la(l,A,d[A],_);else if(d=E(d),arguments.length===2)ql(l,function(J){return V(d,J)!==-1});else for(var R=0,F=d.length;R<F;R++)la(l,d[R],_,C);return this}function ql(l,d){for(var _ in l[ti]){var C=_.split(/\d/)[0];(!d||d(C))&&la(l,C,null,null,_)}}var Nr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ni(l,d,_,C){var A=d+f(_)+(C?"_"+f(C):"");if(l[ti]&&l[ti][A])return this;var R=function(J){return _.call(C||l,J||window.event)},F=R;!Ne.touchNative&&Ne.pointer&&d.indexOf("touch")===0?R=kf(l,d,R):Ne.touch&&d==="dblclick"?R=Zc(l,R):"addEventListener"in l?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?l.addEventListener(Nr[d]||d,R,Ne.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(R=function(J){J=J||window.event,Ii(l,J)&&F(J)},l.addEventListener(Nr[d],R,!1)):l.addEventListener(d,F,!1):l.attachEvent("on"+d,R),l[ti]=l[ti]||{},l[ti][A]=R}function la(l,d,_,C,A){A=A||d+f(_)+(C?"_"+f(C):"");var R=l[ti]&&l[ti][A];if(!R)return this;!Ne.touchNative&&Ne.pointer&&d.indexOf("touch")===0?$c(l,d,R):Ne.touch&&d==="dblclick"?Or(l,R):"removeEventListener"in l?l.removeEventListener(Nr[d]||d,R,!1):l.detachEvent("on"+d,R),l[ti][A]=null}function ii(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function yi(l){return ni(l,"wheel",ii),this}function Pr(l){return Fe(l,"mousedown touchstart dblclick contextmenu",ii),l._leaflet_disable_click=!0,this}function Vt(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function sr(l){return Vt(l),ii(l),this}function ua(l){if(l.composedPath)return l.composedPath();for(var d=[],_=l.target;_;)d.push(_),_=_.parentNode;return d}function ca(l,d){if(!d)return new se(l.clientX,l.clientY);var _=oa(d),C=_.boundingClientRect;return new se((l.clientX-C.left)/_.x-d.clientLeft,(l.clientY-C.top)/_.y-d.clientTop)}var Gc=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yn(l){return Ne.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Gc:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Ii(l,d){var _=d.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var fo={__proto__:null,on:Fe,off:mt,stopPropagation:ii,disableScrollPropagation:yi,disableClickPropagation:Pr,preventDefault:Vt,stop:sr,getPropagationPath:ua,getMousePosition:ca,getWheelDelta:yn,isExternalTarget:Ii,addListener:Fe,removeListener:mt},cs=W.extend({run:function(l,d,_,C){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=rr(l),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(l){var d=+new Date-this._startTime,_=this._duration*1e3;d<_?this._runFrame(this._easeOut(d/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,d){var _=this._startPos.add(this._offset.multiplyBy(l));d&&_._round(),Ct(this._el,_),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),st=W.extend({options:{crs:He,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,d){d=T(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(de(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ia&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,Il,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,d,_){if(d=d===void 0?this._zoom:this._limitZoom(d),l=this._limitCenter(de(l),d,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=a({animate:_.animate},_.zoom),_.pan=a({animate:_.animate,duration:_.duration},_.pan));var C=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,d,_.zoom):this._tryAnimatedPan(l,_.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(l,d,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,d){return this._loaded?this.setView(this.getCenter(),l,{zoom:d}):(this._zoom=l,this)},zoomIn:function(l,d){return l=l||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,d)},zoomOut:function(l,d){return l=l||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,d)},setZoomAround:function(l,d,_){var C=this.getZoomScale(d),A=this.getSize().divideBy(2),R=l instanceof se?l:this.latLngToContainerPoint(l),F=R.subtract(A).multiplyBy(1-1/C),J=this.containerPointToLatLng(A.add(F));return this.setView(J,d,{zoom:_})},_getBoundsCenterZoom:function(l,d){d=d||{},l=l.getBounds?l.getBounds():Z(l);var _=B(d.paddingTopLeft||d.padding||[0,0]),C=B(d.paddingBottomRight||d.padding||[0,0]),A=this.getBoundsZoom(l,!1,_.add(C));if(A=typeof d.maxZoom=="number"?Math.min(d.maxZoom,A):A,A===1/0)return{center:l.getCenter(),zoom:A};var R=C.subtract(_).divideBy(2),F=this.project(l.getSouthWest(),A),J=this.project(l.getNorthEast(),A),le=this.unproject(F.add(J).divideBy(2).add(R),A);return{center:le,zoom:A}},fitBounds:function(l,d){if(l=Z(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,d);return this.setView(_.center,_.zoom,d)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,d){return this.setView(l,this._zoom,{pan:d})},panBy:function(l,d){if(l=B(l).round(),d=d||{},!l.x&&!l.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Ge(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,d.duration||.25,d.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,d,_){if(_=_||{},_.animate===!1||!Ne.any3d)return this.setView(l,d,_);this._stop();var C=this.project(this.getCenter()),A=this.project(l),R=this.getSize(),F=this._zoom;l=de(l),d=d===void 0?F:d;var J=Math.max(R.x,R.y),le=J*this.getZoomScale(F,d),_e=A.distanceTo(C)||1,Ee=1.42,Pe=Ee*Ee;function Xe(zt){var Fi=zt?-1:1,Br=zt?le:J,au=le*le-J*J+Fi*Pe*Pe*_e*_e,Ta=2*Br*Pe*_e,La=au/Ta,pr=Math.sqrt(La*La+1)-La,$i=pr<1e-9?-18:Math.log(pr);return $i}function an(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function Ht(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function On(zt){return an(zt)/Ht(zt)}var ut=Xe(0);function ct(zt){return J*(Ht(ut)/Ht(ut+Ee*zt))}function nt(zt){return J*(Ht(ut)*On(ut+Ee*zt)-an(ut))/Pe}function dr(zt){return 1-Math.pow(1-zt,1.5)}var Hn=Date.now(),Lo=(Xe(1)-ut)/Ee,fr=_.duration?1e3*_.duration:1e3*Lo*.8;function su(){var zt=(Date.now()-Hn)/fr,Fi=dr(zt)*Lo;zt<=1?(this._flyToFrame=Q(su,this),this._move(this.unproject(C.add(A.subtract(C).multiplyBy(nt(Fi)/_e)),F),this.getScaleZoom(J/ct(Fi),F),{flyTo:!0})):this._move(l,d)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),su.call(this),this},flyToBounds:function(l,d){var _=this._getBoundsCenterZoom(l,d);return this.flyTo(_.center,_.zoom,d)},setMaxBounds:function(l){return l=Z(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var d=this.options.minZoom;return this.options.minZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var d=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,d){this._enforcingBounds=!0;var _=this.getCenter(),C=this._limitCenter(_,this._zoom,Z(l));return _.equals(C)||this.panTo(C,d),this._enforcingBounds=!1,this},panInside:function(l,d){d=d||{};var _=B(d.paddingTopLeft||d.padding||[0,0]),C=B(d.paddingBottomRight||d.padding||[0,0]),A=this.project(this.getCenter()),R=this.project(l),F=this.getPixelBounds(),J=ie([F.min.add(_),F.max.subtract(C)]),le=J.getSize();if(!J.contains(R)){this._enforcingBounds=!0;var _e=R.subtract(J.getCenter()),Ee=J.extend(R).getSize().subtract(le);A.x+=_e.x<0?-Ee.x:Ee.x,A.y+=_e.y<0?-Ee.y:Ee.y,this.panTo(this.unproject(A),d),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=a({animate:!1,pan:!0},l===!0?{animate:!0}:l);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),C=d.divideBy(2).round(),A=_.divideBy(2).round(),R=C.subtract(A);return!R.x&&!R.y?this:(l.animate&&l.pan?this.panBy(R):(l.pan&&this._rawPanBy(R),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=a({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=u(this._handleGeolocationResponse,this),_=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,_,l):navigator.geolocation.getCurrentPosition(d,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var d=l.code,_=l.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var d=l.coords.latitude,_=l.coords.longitude,C=new ne(d,_),A=C.toBounds(l.coords.accuracy*2),R=this._locateOptions;if(R.setView){var F=this.getBoundsZoom(A);this.setView(C,R.maxZoom?Math.min(F,R.maxZoom):F)}var J={latlng:C,bounds:A,timestamp:l.timestamp};for(var le in l.coords)typeof l.coords[le]=="number"&&(J[le]=l.coords[le]);this.fire("locationfound",J)}},addHandler:function(l,d){if(!d)return this;var _=this[l]=new d(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)bt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,d){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),C=tt("div",_,d||this._mapPane);return l&&(this._panes[l]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),d=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new D(d,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,d,_){l=Z(l),_=B(_||[0,0]);var C=this.getZoom()||0,A=this.getMinZoom(),R=this.getMaxZoom(),F=l.getNorthWest(),J=l.getSouthEast(),le=this.getSize().subtract(_),_e=ie(this.project(J,C),this.project(F,C)).getSize(),Ee=Ne.any3d?this.options.zoomSnap:1,Pe=le.x/_e.x,Xe=le.y/_e.y,an=d?Math.max(Pe,Xe):Math.min(Pe,Xe);return C=this.getScaleZoom(an,C),Ee&&(C=Math.round(C/(Ee/100))*(Ee/100),C=d?Math.ceil(C/Ee)*Ee:Math.floor(C/Ee)*Ee),Math.max(A,Math.min(R,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,d){var _=this._getTopLeftPoint(l,d);return new U(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,d){var _=this.options.crs;return d=d===void 0?this._zoom:d,_.scale(l)/_.scale(d)},getScaleZoom:function(l,d){var _=this.options.crs;d=d===void 0?this._zoom:d;var C=_.zoom(l*_.scale(d));return isNaN(C)?1/0:C},project:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(de(l),d)},unproject:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(B(l),d)},layerPointToLatLng:function(l){var d=B(l).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(l){var d=this.project(de(l))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(de(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Z(l))},distance:function(l,d){return this.options.crs.distance(de(l),de(d))},containerPointToLayerPoint:function(l){return B(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return B(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var d=this.containerPointToLayerPoint(B(l));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(l)))},mouseEventToContainerPoint:function(l){return ca(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var d=this._container=Ul(l);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(d,"scroll",this._onScroll,this),this._containerId=f(d)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Ge(l,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=ra(l,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(l.markerPane,"leaflet-zoom-hide"),Ge(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,d,_){Ct(this._mapPane,new se(0,0));var C=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var A=this._zoom!==d;this._moveStart(A,_)._move(l,d)._moveEnd(A),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(l,d){return l&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(l,d,_,C){d===void 0&&(d=this._zoom);var A=this._zoom!==d;return this._zoom=d,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),C?_&&_.pinch&&this.fire("zoom",_):((A||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Ct(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[f(this._container)]=this;var d=l?mt:Fe;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,d){for(var _=[],C,A=d==="mouseout"||d==="mouseover",R=l.target||l.srcElement,F=!1;R;){if(C=this._targets[f(R)],C&&(d==="click"||d==="preclick")&&this._draggableMoved(C)){F=!0;break}if(C&&C.listens(d,!0)&&(A&&!Ii(R,l)||(_.push(C),A))||R===this._container)break;R=R.parentNode}return!_.length&&!F&&!A&&this.listens(d,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var d=l.target||l.srcElement;if(!(!this._loaded||d._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(d))){var _=l.type;_==="mousedown"&&ls(d),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,d,_){if(l.type==="click"){var C=a({},l);C.type="preclick",this._fireDOMEvent(C,C.type,_)}var A=this._findEventTargets(l,d);if(_){for(var R=[],F=0;F<_.length;F++)_[F].listens(d,!0)&&R.push(_[F]);A=R.concat(A)}if(A.length){d==="contextmenu"&&Vt(l);var J=A[0],le={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var _e=J.getLatLng&&(!J._radius||J._radius<=10);le.containerPoint=_e?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(l),le.layerPoint=this.containerPointToLayerPoint(le.containerPoint),le.latlng=_e?J.getLatLng():this.layerPointToLatLng(le.layerPoint)}for(F=0;F<A.length;F++)if(A[F].fire(d,le,!0),le.originalEvent._stopped||A[F].options.bubblingMouseEvents===!1&&V(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,d=this._handlers.length;l<d;l++)this._handlers[l].disable()},whenReady:function(l,d){return this._loaded?l.call(d||this,{target:this}):this.on("load",l,d),this},_getMapPanePos:function(){return rr(this._mapPane)||new se(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,d){var _=l&&d!==void 0?this._getNewPixelOrigin(l,d):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,d){var _=this.getSize()._divideBy(2);return this.project(l,d)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,d,_){var C=this._getNewPixelOrigin(_,d);return this.project(l,d)._subtract(C)},_latLngBoundsToNewLayerBounds:function(l,d,_){var C=this._getNewPixelOrigin(_,d);return ie([this.project(l.getSouthWest(),d)._subtract(C),this.project(l.getNorthWest(),d)._subtract(C),this.project(l.getSouthEast(),d)._subtract(C),this.project(l.getNorthEast(),d)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,d,_){if(!_)return l;var C=this.project(l,d),A=this.getSize().divideBy(2),R=new U(C.subtract(A),C.add(A)),F=this._getBoundsOffset(R,_,d);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?l:this.unproject(C.add(F),d)},_limitOffset:function(l,d){if(!d)return l;var _=this.getPixelBounds(),C=new U(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(C,d))},_getBoundsOffset:function(l,d,_){var C=ie(this.project(d.getNorthEast(),_),this.project(d.getSouthWest(),_)),A=C.min.subtract(l.min),R=C.max.subtract(l.max),F=this._rebound(A.x,-R.x),J=this._rebound(A.y,-R.y);return new se(F,J)},_rebound:function(l,d){return l+d>0?Math.round(l-d)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(d))},_limitZoom:function(l){var d=this.getMinZoom(),_=this.getMaxZoom(),C=Ne.any3d?this.options.zoomSnap:1;return C&&(l=Math.round(l/C)*C),Math.max(d,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,d){var _=this._getCenterOffset(l)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,d),!0)},_createAnimProxy:function(){var l=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(d){var _=ir,C=this._proxy.style[_];Bi(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),C===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),d=this.getZoom();Bi(this._proxy,this.project(l,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,d,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(d),A=this._getCenterOffset(l)._divideBy(1-1/C);return _.animate!==!0&&!this.getSize().contains(A)?!1:(Q(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,d,!0)},this),!0)},_animateZoom:function(l,d,_,C){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=d,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:d,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zl(l,d){return new st(l,d)}var jn=ce.extend({options:{position:"topright"},initialize:function(l){T(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var d=this._map;return d&&d.removeControl(this),this.options.position=l,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var d=this._container=this.onAdd(l),_=this.getPosition(),C=l._controlCorners[_];return Ge(d,"leaflet-control"),_.indexOf("bottom")!==-1?C.insertBefore(d,C.firstChild):C.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Ui=function(l){return new jn(l)};st.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},d="leaflet-",_=this._controlContainer=tt("div",d+"control-container",this._container);function C(A,R){var F=d+A+" "+d+R;l[A+R]=tt("div",F,_)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)bt(this._controlCorners[l]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ha=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,d,_,C){return _<C?-1:C<_?1:0}},initialize:function(l,d,_){T(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in l)this._addLayer(l[C],C);for(C in d)this._addLayer(d[C],C,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return jn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,d){return this._addLayer(l,d),this._map?this._update():this},addOverlay:function(l,d){return this._addLayer(l,d,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var d=this._getLayer(f(l));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",d=this._container=tt("div",l),_=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Pr(d),yi(d);var C=this._section=tt("section",l+"-list");_&&(this._map.on("click",this.collapse,this),Fe(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=tt("a",l+"-toggle",d);A.href="#",A.title="Layers",A.setAttribute("role","button"),Fe(A,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Vt(R),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=tt("div",l+"-base",C),this._separator=tt("div",l+"-separator",C),this._overlaysList=tt("div",l+"-overlays",C),d.appendChild(C)},_getLayer:function(l){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&f(this._layers[d].layer)===l)return this._layers[d]},_addLayer:function(l,d,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:d,overlay:_}),this.options.sortLayers&&this._layers.sort(u(function(C,A){return this.options.sortFunction(C.layer,A.layer,C.name,A.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zn(this._baseLayersList),zn(this._overlaysList),this._layerControlInputs=[];var l,d,_,C,A=0;for(_=0;_<this._layers.length;_++)C=this._layers[_],this._addItem(C),d=d||C.overlay,l=l||!C.overlay,A+=C.overlay?0:1;return this.options.hideSingleBase&&(l=l&&A>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=d&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var d=this._getLayer(f(l.target)),_=d.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,d)},_createRadioElement:function(l,d){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(d?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=_,C.firstChild},_addItem:function(l){var d=document.createElement("label"),_=this._map.hasLayer(l.layer),C;l.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=_):C=this._createRadioElement("leaflet-base-layers_"+f(this),_),this._layerControlInputs.push(C),C.layerId=f(l.layer),Fe(C,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+l.name;var R=document.createElement("span");d.appendChild(R),R.appendChild(C),R.appendChild(A);var F=l.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,d,_,C=[],A=[];this._handlingClick=!0;for(var R=l.length-1;R>=0;R--)d=l[R],_=this._getLayer(d.layerId).layer,d.checked?C.push(_):d.checked||A.push(_);for(R=0;R<A.length;R++)this._map.hasLayer(A[R])&&this._map.removeLayer(A[R]);for(R=0;R<C.length;R++)this._map.hasLayer(C[R])||this._map.addLayer(C[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,d,_,C=this._map.getZoom(),A=l.length-1;A>=0;A--)d=l[A],_=this._getLayer(d.layerId).layer,d.disabled=_.options.minZoom!==void 0&&C<_.options.minZoom||_.options.maxZoom!==void 0&&C>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Fe(l,"click",Vt),this.expand();var d=this;setTimeout(function(){mt(l,"click",Vt),d._preventClick=!1})}}),Kc=function(l,d,_){return new ha(l,d,_)},Gl=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var d="leaflet-control-zoom",_=tt("div",d+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,d+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,d+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,d,_,C,A){var R=tt("a",_,C);return R.innerHTML=l,R.href="#",R.title=d,R.setAttribute("role","button"),R.setAttribute("aria-label",d),Pr(R),Fe(R,"click",sr),Fe(R,"click",A,this),Fe(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var l=this._map,d="leaflet-disabled";Ot(this._zoomInButton,d),Ot(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ge(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ge(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gl,this.addControl(this.zoomControl))});var jf=function(l){return new Gl(l)},Wc=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var d="leaflet-control-scale",_=tt("div",d),C=this.options;return this._addScales(C,d+"-line",_),l.on(C.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,d,_){l.metric&&(this._mScale=tt("div",d,_)),l.imperial&&(this._iScale=tt("div",d,_))},_update:function(){var l=this._map,d=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,d]),l.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var d=this._getRoundNum(l),_=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,_,d/l)},_updateImperial:function(l){var d=l*3.2808399,_,C,A;d>5280?(_=d/5280,C=this._getRoundNum(_),this._updateScale(this._iScale,C+" mi",C/_)):(A=this._getRoundNum(d),this._updateScale(this._iScale,A+" ft",A/d))},_updateScale:function(l,d,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=d},_getRoundNum:function(l){var d=Math.pow(10,(Math.floor(l)+"").length-1),_=l/d;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,d*_}}),Kl=function(l){return new Wc(l)},Of='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wl=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?Of+" ":"")+"Leaflet</a>"},initialize:function(l){T(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),Pr(this._container);for(var d in l._layers)l._layers[d].getAttribution&&this.addAttribution(l._layers[d].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var d in this._attributions)this._attributions[d]&&l.push(d);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Wl().addTo(this)});var Mf=function(l){return new Wl(l)};jn.Layers=ha,jn.Zoom=Gl,jn.Scale=Wc,jn.Attribution=Wl,Ui.layers=Kc,Ui.zoom=jf,Ui.scale=Kl,Ui.attribution=Mf;var vi=ce.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vi.addTo=function(l,d){return l.addHandler(d,this),this};var Nf={Events:H},Yl=Ne.touch?"touchstart mousedown":"mousedown",ar=W.extend({options:{clickTolerance:3},initialize:function(l,d,_,C){T(this,C),this._element=l,this._dragStartTarget=d||l,this._preventOutline=_},enable:function(){this._enabled||(Fe(this._dragStartTarget,Yl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ar._dragging===this&&this.finishDrag(!0),mt(this._dragStartTarget,Yl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Vl(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){ar._dragging===this&&this.finishDrag();return}if(!(ar._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(ar._dragging=this,this._preventOutline&&ls(this._element),uo(),as(),!this._moving)){this.fire("down");var d=l.touches?l.touches[0]:l,_=ho(this._element);this._startPoint=new se(d.clientX,d.clientY),this._startPos=rr(this._element),this._parentScale=oa(_);var C=l.type==="mousedown";Fe(document,C?"mousemove":"touchmove",this._onMove,this),Fe(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var d=l.touches&&l.touches.length===1?l.touches[0]:l,_=new se(d.clientX,d.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Vt(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ge(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Ct(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Ot(document.body,"leaflet-dragging"),this._lastTarget&&(Ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mt(document,"mousemove touchmove",this._onMove,this),mt(document,"mouseup touchend touchcancel",this._onUp,this),aa(),gi();var d=this._moved&&this._moving;this._moving=!1,ar._dragging=!1,d&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Yc(l,d,_){var C,A=[1,4,2,8],R,F,J,le,_e,Ee,Pe,Xe;for(R=0,Ee=l.length;R<Ee;R++)l[R]._code=Rr(l[R],d);for(J=0;J<4;J++){for(Pe=A[J],C=[],R=0,Ee=l.length,F=Ee-1;R<Ee;F=R++)le=l[R],_e=l[F],le._code&Pe?_e._code&Pe||(Xe=po(_e,le,Pe,d,_),Xe._code=Rr(Xe,d),C.push(Xe)):(_e._code&Pe&&(Xe=po(_e,le,Pe,d,_),Xe._code=Rr(Xe,d),C.push(Xe)),C.push(le));l=C}return l}function Xc(l,d){var _,C,A,R,F,J,le,_e,Ee;if(!l||l.length===0)throw new Error("latlngs not passed");In(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Pe=de([0,0]),Xe=Z(l),an=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());an<1700&&(Pe=Xl(l));var Ht=l.length,On=[];for(_=0;_<Ht;_++){var ut=de(l[_]);On.push(d.project(de([ut.lat-Pe.lat,ut.lng-Pe.lng])))}for(J=le=_e=0,_=0,C=Ht-1;_<Ht;C=_++)A=On[_],R=On[C],F=A.y*R.x-R.y*A.x,le+=(A.x+R.x)*F,_e+=(A.y+R.y)*F,J+=F*3;J===0?Ee=On[0]:Ee=[le/J,_e/J];var ct=d.unproject(B(Ee));return de([ct.lat+Pe.lat,ct.lng+Pe.lng])}function Xl(l){for(var d=0,_=0,C=0,A=0;A<l.length;A++){var R=de(l[A]);d+=R.lat,_+=R.lng,C++}return de([d/C,_/C])}var Jl={__proto__:null,clipPolygon:Yc,polygonCenter:Xc,centroid:Xl};function Jc(l,d){if(!d||!l.length)return l.slice();var _=d*d;return l=Rf(l,_),l=eh(l,_),l}function Qc(l,d,_){return Math.sqrt(da(l,d,_,!0))}function Pf(l,d,_){return da(l,d,_)}function eh(l,d){var _=l.length,C=typeof Uint8Array<"u"?Uint8Array:Array,A=new C(_);A[0]=A[_-1]=1,Ql(l,A,d,0,_-1);var R,F=[];for(R=0;R<_;R++)A[R]&&F.push(l[R]);return F}function Ql(l,d,_,C,A){var R=0,F,J,le;for(J=C+1;J<=A-1;J++)le=da(l[J],l[C],l[A],!0),le>R&&(F=J,R=le);R>_&&(d[F]=1,Ql(l,d,_,C,F),Ql(l,d,_,F,A))}function Rf(l,d){for(var _=[l[0]],C=1,A=0,R=l.length;C<R;C++)Df(l[C],l[A])>d&&(_.push(l[C]),A=C);return A<R-1&&_.push(l[R-1]),_}var th;function nh(l,d,_,C,A){var R=C?th:Rr(l,_),F=Rr(d,_),J,le,_e;for(th=F;;){if(!(R|F))return[l,d];if(R&F)return!1;J=R||F,le=po(l,d,J,_,A),_e=Rr(le,_),J===R?(l=le,R=_e):(d=le,F=_e)}}function po(l,d,_,C,A){var R=d.x-l.x,F=d.y-l.y,J=C.min,le=C.max,_e,Ee;return _&8?(_e=l.x+R*(le.y-l.y)/F,Ee=le.y):_&4?(_e=l.x+R*(J.y-l.y)/F,Ee=J.y):_&2?(_e=le.x,Ee=l.y+F*(le.x-l.x)/R):_&1&&(_e=J.x,Ee=l.y+F*(J.x-l.x)/R),new se(_e,Ee,A)}function Rr(l,d){var _=0;return l.x<d.min.x?_|=1:l.x>d.max.x&&(_|=2),l.y<d.min.y?_|=4:l.y>d.max.y&&(_|=8),_}function Df(l,d){var _=d.x-l.x,C=d.y-l.y;return _*_+C*C}function da(l,d,_,C){var A=d.x,R=d.y,F=_.x-A,J=_.y-R,le=F*F+J*J,_e;return le>0&&(_e=((l.x-A)*F+(l.y-R)*J)/le,_e>1?(A=_.x,R=_.y):_e>0&&(A+=F*_e,R+=J*_e)),F=l.x-A,J=l.y-R,C?F*F+J*J:new se(A,R)}function In(l){return!N(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function mo(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),In(l)}function hs(l,d){var _,C,A,R,F,J,le,_e;if(!l||l.length===0)throw new Error("latlngs not passed");In(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ee=de([0,0]),Pe=Z(l),Xe=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Xe<1700&&(Ee=Xl(l));var an=l.length,Ht=[];for(_=0;_<an;_++){var On=de(l[_]);Ht.push(d.project(de([On.lat-Ee.lat,On.lng-Ee.lng])))}for(_=0,C=0;_<an-1;_++)C+=Ht[_].distanceTo(Ht[_+1])/2;if(C===0)_e=Ht[0];else for(_=0,R=0;_<an-1;_++)if(F=Ht[_],J=Ht[_+1],A=F.distanceTo(J),R+=A,R>C){le=(R-C)/A,_e=[J.x-le*(J.x-F.x),J.y-le*(J.y-F.y)];break}var ut=d.unproject(B(_e));return de([ut.lat+Ee.lat,ut.lng+Ee.lng])}var zf={__proto__:null,simplify:Jc,pointToSegmentDistance:Qc,closestPointOnSegment:Pf,clipSegment:nh,_getEdgeIntersection:po,_getBitCode:Rr,_sqClosestPointOnSegment:da,isFlat:In,_flat:mo,polylineCenter:hs},go={project:function(l){return new se(l.lng,l.lat)},unproject:function(l){return new ne(l.y,l.x)},bounds:new U([-180,-90],[180,90])},yo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var d=Math.PI/180,_=this.R,C=l.lat*d,A=this.R_MINOR/_,R=Math.sqrt(1-A*A),F=R*Math.sin(C),J=Math.tan(Math.PI/4-C/2)/Math.pow((1-F)/(1+F),R/2);return C=-_*Math.log(Math.max(J,1e-10)),new se(l.lng*d*_,C)},unproject:function(l){for(var d=180/Math.PI,_=this.R,C=this.R_MINOR/_,A=Math.sqrt(1-C*C),R=Math.exp(-l.y/_),F=Math.PI/2-2*Math.atan(R),J=0,le=.1,_e;J<15&&Math.abs(le)>1e-7;J++)_e=A*Math.sin(F),_e=Math.pow((1-_e)/(1+_e),A/2),le=Math.PI/2-2*Math.atan(R*_e)-F,F+=le;return new ne(F*d,l.x*d/_)}},ih={__proto__:null,LonLat:go,Mercator:yo,SphericalMercator:Le},rh=a({},Re,{code:"EPSG:3395",projection:yo,transformation:(function(){var l=.5/(Math.PI*yo.R);return De(l,.5,-l,.5)})()}),eu=a({},Re,{code:"EPSG:4326",projection:go,transformation:De(1/180,1,-1/180,.5)}),ds=a({},we,{projection:go,transformation:De(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,d){var _=d.lng-l.lng,C=d.lat-l.lat;return Math.sqrt(_*_+C*C)},infinite:!0});we.Earth=Re,we.EPSG3395=rh,we.EPSG3857=He,we.EPSG900913=gt,we.EPSG4326=eu,we.Simple=ds;var ri=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[f(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[f(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var d=l.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var _=this.getEvents();d.on(_,this),this.once("remove",function(){d.off(_,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});st.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var d=f(l);return this._layers[d]?this:(this._layers[d]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var d=f(l);return this._layers[d]?(this._loaded&&l.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return f(l)in this._layers},eachLayer:function(l,d){for(var _ in this._layers)l.call(d,this._layers[_]);return this},_addLayers:function(l){l=l?N(l)?l:[l]:[];for(var d=0,_=l.length;d<_;d++)this.addLayer(l[d])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[f(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var d=f(l);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,d=-1/0,_=this._getZoomSpan();for(var C in this._zoomBoundLayers){var A=this._zoomBoundLayers[C].options;l=A.minZoom===void 0?l:Math.min(l,A.minZoom),d=A.maxZoom===void 0?d:Math.max(d,A.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fs=ri.extend({initialize:function(l,d){T(this,d),this._layers={};var _,C;if(l)for(_=0,C=l.length;_<C;_++)this.addLayer(l[_])},addLayer:function(l){var d=this.getLayerId(l);return this._layers[d]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var d=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(l){var d=typeof l=="number"?l:this.getLayerId(l);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var d=Array.prototype.slice.call(arguments,1),_,C;for(_ in this._layers)C=this._layers[_],C[l]&&C[l].apply(C,d);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,d){for(var _ in this._layers)l.call(d,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return f(l)}}),Bf=function(l,d){return new fs(l,d)},_i=fs.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),fs.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),fs.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new D;for(var d in this._layers){var _=this._layers[d];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),sh=function(l,d){return new _i(l,d)},bi=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){T(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,d){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(_,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(C,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(l,d){var _=this.options,C=_[d+"Size"];typeof C=="number"&&(C=[C,C]);var A=B(C),R=B(d==="shadow"&&_.shadowAnchor||_.iconAnchor||A&&A.divideBy(2,!0));l.className="leaflet-marker-"+d+" "+(_.className||""),R&&(l.style.marginLeft=-R.x+"px",l.style.marginTop=-R.y+"px"),A&&(l.style.width=A.x+"px",l.style.height=A.y+"px")},_createImg:function(l,d){return d=d||document.createElement("img"),d.src=l,d},_getIconUrl:function(l){return Ne.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function fa(l){return new bi(l)}var pa=bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof pa.imagePath!="string"&&(pa.imagePath=this._detectIconPath()),(this.options.imagePath||pa.imagePath)+bi.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var d=function(_,C,A){var R=C.exec(_);return R&&R[A]};return l=d(l,/^url\((['"])?(.+)\1\)$/,2),l&&d(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=tt("div","leaflet-default-icon-path",document.body),d=ra(l,"background-image")||ra(l,"backgroundImage");if(document.body.removeChild(l),d=this._stripUrl(d),d)return d;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),ma=vi.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new ar(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var d=this._marker,_=d._map,C=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,R=rr(d._icon),F=_.getPixelBounds(),J=_.getPixelOrigin(),le=ie(F.min._subtract(J).add(A),F.max._subtract(J).subtract(A));if(!le.contains(R)){var _e=B((Math.max(le.max.x,R.x)-le.max.x)/(F.max.x-le.max.x)-(Math.min(le.min.x,R.x)-le.min.x)/(F.min.x-le.min.x),(Math.max(le.max.y,R.y)-le.max.y)/(F.max.y-le.max.y)-(Math.min(le.min.y,R.y)-le.min.y)/(F.min.y-le.min.y)).multiplyBy(C);_.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),Ct(d._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=Q(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,l)))},_onDrag:function(l){var d=this._marker,_=d._shadow,C=rr(d._icon),A=d._map.layerPointToLatLng(C);_&&Ct(_,C),d._latlng=A,l.latlng=A,l.oldLatLng=this._oldLatLng,d.fire("move",l).fire("drag",l)},_onDragEnd:function(l){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ga=ri.extend({options:{icon:new pa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,d){T(this,d),this._latlng=de(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var d=this._latlng;return this._latlng=de(l),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),C=!1;_!==this._icon&&(this._icon&&this._removeIcon(),C=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),Ge(_,d),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(_,"focus",this._panOnFocus,this);var A=l.icon.createShadow(this._shadow),R=!1;A!==this._shadow&&(this._removeShadow(),R=!0),A&&(Ge(A,d),A.alt=""),this._shadow=A,l.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&R&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Ct(this._icon,l),this._shadow&&Ct(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ma)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ma(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&kt(this._icon,l),this._shadow&&kt(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var d=this.options.icon.options,_=d.iconSize?B(d.iconSize):B(0,0),C=d.iconAnchor?B(d.iconAnchor):B(0,0);l.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:_.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ah(l,d){return new ga(l,d)}var xi=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return T(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ps=xi.extend({options:{fill:!0,radius:10},initialize:function(l,d){T(this,d),this._latlng=de(l),this._radius=this.options.radius},setLatLng:function(l){var d=this._latlng;return this._latlng=de(l),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var d=l&&l.radius||this._radius;return xi.prototype.setStyle.call(this,l),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,d=this._radiusY||l,_=this._clickTolerance(),C=[l+_,d+_];this._pxBounds=new U(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function oh(l,d){return new ps(l,d)}var vo=ps.extend({initialize:function(l,d,_){if(typeof d=="number"&&(d=a({},_,{radius:d})),T(this,d),this._latlng=de(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:xi.prototype.setStyle,_project:function(){var l=this._latlng.lng,d=this._latlng.lat,_=this._map,C=_.options.crs;if(C.distance===Re.distance){var A=Math.PI/180,R=this._mRadius/Re.R/A,F=_.project([d+R,l]),J=_.project([d-R,l]),le=F.add(J).divideBy(2),_e=_.unproject(le).lat,Ee=Math.acos((Math.cos(R*A)-Math.sin(d*A)*Math.sin(_e*A))/(Math.cos(d*A)*Math.cos(_e*A)))/A;(isNaN(Ee)||Ee===0)&&(Ee=R/Math.cos(Math.PI/180*d)),this._point=le.subtract(_.getPixelOrigin()),this._radius=isNaN(Ee)?0:le.x-_.project([_e,l-Ee]).x,this._radiusY=le.y-F.y}else{var Pe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Pe).x}this._updateBounds()}});function lh(l,d,_){return new vo(l,d,_)}var Vi=xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,d){T(this,d),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var d=1/0,_=null,C=da,A,R,F=0,J=this._parts.length;F<J;F++)for(var le=this._parts[F],_e=1,Ee=le.length;_e<Ee;_e++){A=le[_e-1],R=le[_e];var Pe=C(l,A,R,!0);Pe<d&&(d=Pe,_=C(l,A,R))}return _&&(_.distance=Math.sqrt(d)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,d){return d=d||this._defaultShape(),l=de(l),d.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new D,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var d=[],_=In(l),C=0,A=l.length;C<A;C++)_?(d[C]=de(l[C]),this._bounds.extend(d[C])):d[C]=this._convertLatLngs(l[C]);return d},_project:function(){var l=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),d=new se(l,l);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(l,d,_){var C=l[0]instanceof ne,A=l.length,R,F;if(C){for(F=[],R=0;R<A;R++)F[R]=this._map.latLngToLayerPoint(l[R]),_.extend(F[R]);d.push(F)}else for(R=0;R<A;R++)this._projectLatlngs(l[R],d,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,_,C,A,R,F,J,le;for(_=0,A=0,R=this._rings.length;_<R;_++)for(le=this._rings[_],C=0,F=le.length;C<F-1;C++)J=nh(le[C],le[C+1],l,C,!0),J&&(d[A]=d[A]||[],d[A].push(J[0]),(J[1]!==le[C+1]||C===F-2)&&(d[A].push(J[1]),A++))}},_simplifyPoints:function(){for(var l=this._parts,d=this.options.smoothFactor,_=0,C=l.length;_<C;_++)l[_]=Jc(l[_],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,d){var _,C,A,R,F,J,le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,R=this._parts.length;_<R;_++)for(J=this._parts[_],C=0,F=J.length,A=F-1;C<F;A=C++)if(!(!d&&C===0)&&Qc(l,J[A],J[C])<=le)return!0;return!1}});function If(l,d){return new Vi(l,d)}Vi._flat=mo;var ms=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var d=Vi.prototype._convertLatLngs.call(this,l),_=d.length;return _>=2&&d[0]instanceof ne&&d[0].equals(d[_-1])&&d.pop(),d},_setLatLngs:function(l){Vi.prototype._setLatLngs.call(this,l),In(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,d=this.options.weight,_=new se(d,d);if(l=new U(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,A=this._rings.length,R;C<A;C++)R=Yc(this._rings[C],l,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var d=!1,_,C,A,R,F,J,le,_e;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(R=0,le=this._parts.length;R<le;R++)for(_=this._parts[R],F=0,_e=_.length,J=_e-1;F<_e;J=F++)C=_[F],A=_[J],C.y>l.y!=A.y>l.y&&l.x<(A.x-C.x)*(l.y-C.y)/(A.y-C.y)+C.x&&(d=!d);return d||Vi.prototype._containsPoint.call(this,l,!0)}});function Uf(l,d){return new ms(l,d)}var Hi=_i.extend({initialize:function(l,d){T(this,d),this._layers={},l&&this.addData(l)},addData:function(l){var d=N(l)?l:l.features,_,C,A;if(d){for(_=0,C=d.length;_<C;_++)A=d[_],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var R=this.options;if(R.filter&&!R.filter(l))return this;var F=dn(l,R);return F?(F.feature=xo(l),F.defaultOptions=F.options,this.resetStyle(F),R.onEachFeature&&R.onEachFeature(l,F),this.addLayer(F)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=a({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(d){this._setLayerStyle(d,l)},this)},_setLayerStyle:function(l,d){l.setStyle&&(typeof d=="function"&&(d=d(l.feature)),l.setStyle(d))}});function dn(l,d){var _=l.type==="Feature"?l.geometry:l,C=_?_.coordinates:null,A=[],R=d&&d.pointToLayer,F=d&&d.coordsToLatLng||_o,J,le,_e,Ee;if(!C&&!_)return null;switch(_.type){case"Point":return J=F(C),gs(R,l,J,d);case"MultiPoint":for(_e=0,Ee=C.length;_e<Ee;_e++)J=F(C[_e]),A.push(gs(R,l,J,d));return new _i(A);case"LineString":case"MultiLineString":return le=ya(C,_.type==="LineString"?0:1,F),new Vi(le,d);case"Polygon":case"MultiPolygon":return le=ya(C,_.type==="Polygon"?1:2,F),new ms(le,d);case"GeometryCollection":for(_e=0,Ee=_.geometries.length;_e<Ee;_e++){var Pe=dn({geometry:_.geometries[_e],type:"Feature",properties:l.properties},d);Pe&&A.push(Pe)}return new _i(A);case"FeatureCollection":for(_e=0,Ee=_.features.length;_e<Ee;_e++){var Xe=dn(_.features[_e],d);Xe&&A.push(Xe)}return new _i(A);default:throw new Error("Invalid GeoJSON object.")}}function gs(l,d,_,C){return l?l(d,_):new ga(_,C&&C.markersInheritOptions&&C)}function _o(l){return new ne(l[1],l[0],l[2])}function ya(l,d,_){for(var C=[],A=0,R=l.length,F;A<R;A++)F=d?ya(l[A],d-1,_):(_||_o)(l[A]),C.push(F);return C}function bo(l,d){return l=de(l),l.alt!==void 0?[w(l.lng,d),w(l.lat,d),w(l.alt,d)]:[w(l.lng,d),w(l.lat,d)]}function va(l,d,_,C){for(var A=[],R=0,F=l.length;R<F;R++)A.push(d?va(l[R],In(l[R])?0:d-1,_,C):bo(l[R],C));return!d&&_&&A.length>0&&A.push(A[0].slice()),A}function or(l,d){return l.feature?a({},l.feature,{geometry:d}):xo(d)}function xo(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var lr={toGeoJSON:function(l){return or(this,{type:"Point",coordinates:bo(this.getLatLng(),l)})}};ga.include(lr),vo.include(lr),ps.include(lr),Vi.include({toGeoJSON:function(l){var d=!In(this._latlngs),_=va(this._latlngs,d?1:0,!1,l);return or(this,{type:(d?"Multi":"")+"LineString",coordinates:_})}}),ms.include({toGeoJSON:function(l){var d=!In(this._latlngs),_=d&&!In(this._latlngs[0]),C=va(this._latlngs,_?2:d?1:0,!0,l);return d||(C=[C]),or(this,{type:(_?"Multi":"")+"Polygon",coordinates:C})}}),fs.include({toMultiPoint:function(l){var d=[];return this.eachLayer(function(_){d.push(_.toGeoJSON(l).geometry.coordinates)}),or(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(l){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(l);var _=d==="GeometryCollection",C=[];return this.eachLayer(function(A){if(A.toGeoJSON){var R=A.toGeoJSON(l);if(_)C.push(R.geometry);else{var F=xo(R);F.type==="FeatureCollection"?C.push.apply(C,F.features):C.push(F)}}}),_?or(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function wo(l,d){return new Hi(l,d)}var _a=wo,ys=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,d,_){this._url=l,this._bounds=Z(d),T(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&sn(this._image),this},bringToBack:function(){return this._map&&Mr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Z(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",d=this._image=l?this._url:tt("img");if(Ge(d,"leaflet-image-layer"),this._zoomAnimated&&Ge(d,"leaflet-zoom-animated"),this.options.className&&Ge(d,this.options.className),d.onselectstart=v,d.onmousemove=v,d.onload=u(this.fire,this,"load"),d.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(l){var d=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Bi(this._image,_,d)},_reset:function(){var l=this._image,d=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=d.getSize();Ct(l,d.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),uh=function(l,d,_){return new ys(l,d,_)},ur=ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",d=this._image=l?this._url:tt("video");if(Ge(d,"leaflet-image-layer"),this._zoomAnimated&&Ge(d,"leaflet-zoom-animated"),this.options.className&&Ge(d,this.options.className),d.onselectstart=v,d.onmousemove=v,d.onloadeddata=u(this.fire,this,"load"),l){for(var _=d.getElementsByTagName("source"),C=[],A=0;A<_.length;A++)C.push(_[A].src);this._url=_.length>0?C:[d.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var F=tt("source");F.src=this._url[R],d.appendChild(F)}}});function vs(l,d,_){return new ur(l,d,_)}var So=ys.extend({_initImage:function(){var l=this._image=this._url;Ge(l,"leaflet-image-layer"),this._zoomAnimated&&Ge(l,"leaflet-zoom-animated"),this.options.className&&Ge(l,this.options.className),l.onselectstart=v,l.onmousemove=v}});function ch(l,d,_){return new So(l,d,_)}var fn=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,d){l&&(l instanceof ne||N(l))?(this._latlng=de(l),T(this,d)):(T(this,l),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(u(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=de(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&sn(this._container),this},bringToBack:function(){return this._map&&Mr(this._container),this},_prepareOpen:function(l){var d=this._source;if(!d._map)return!1;if(d instanceof _i){d=null;var _=this._source._layers;for(var C in _)if(_[C]._map){d=_[C];break}if(!d)return!1;this._source=d}if(!l)if(d.getCenter)l=d.getCenter();else if(d.getLatLng)l=d.getLatLng();else if(d.getBounds)l=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")l.innerHTML=d;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),d=B(this.options.offset),_=this._getAnchor();this._zoomAnimated?Ct(this._container,l.add(_)):d=d.add(l).add(_);var C=this._containerBottom=-d.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=C+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(l,d,_,C){var A=d;return A instanceof l||(A=new l(C).setContent(d)),_&&A.setLatLng(_),A}}),ri.include({_initOverlay:function(l,d,_,C){var A=_;return A instanceof l?(T(A,C),A._source=this):(A=d&&!C?d:new l(C,this),A.setContent(_)),A}});var ba=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,fn.prototype.openOn.call(this,l)},onAdd:function(l){fn.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xi||this._source.on("preclick",ii))},onRemove:function(l){fn.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xi||this._source.off("preclick",ii))},getEvents:function(){var l=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",d=this._container=tt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=tt("div",l+"-content-wrapper",d);if(this._contentNode=tt("div",l+"-content",_),Pr(d),yi(this._contentNode),Fe(d,"contextmenu",ii),this._tipContainer=tt("div",l+"-tip-container",d),this._tip=tt("div",l+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=tt("a",l+"-close-button",d);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(C,"click",function(A){Vt(A),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,d=l.style;d.width="",d.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),d.width=_+1+"px",d.whiteSpace="",d.height="";var C=l.offsetHeight,A=this.options.maxHeight,R="leaflet-popup-scrolled";A&&C>A?(d.height=A+"px",Ge(l,R)):Ot(l,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();Ct(this._container,d.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,d=parseInt(ra(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+d,C=this._containerWidth,A=new se(this._containerLeft,-_-this._containerBottom);A._add(rr(this._container));var R=l.layerPointToContainerPoint(A),F=B(this.options.autoPanPadding),J=B(this.options.autoPanPaddingTopLeft||F),le=B(this.options.autoPanPaddingBottomRight||F),_e=l.getSize(),Ee=0,Pe=0;R.x+C+le.x>_e.x&&(Ee=R.x+C-_e.x+le.x),R.x-Ee-J.x<0&&(Ee=R.x-J.x),R.y+_+le.y>_e.y&&(Pe=R.y+_-_e.y+le.y),R.y-Pe-J.y<0&&(Pe=R.y-J.y),(Ee||Pe)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Ee,Pe]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hh=function(l,d){return new ba(l,d)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(l,d,_){return this._initOverlay(ba,l,d,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),ri.include({bindPopup:function(l,d){return this._popup=this._initOverlay(ba,this._popup,l,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof _i||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){sr(l);var d=l.layer||l.target;if(this._popup._source===d&&!(d instanceof xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=d,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var xa=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){fn.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){fn.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=fn.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",d=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var d,_,C=this._map,A=this._container,R=C.latLngToContainerPoint(C.getCenter()),F=C.layerPointToContainerPoint(l),J=this.options.direction,le=A.offsetWidth,_e=A.offsetHeight,Ee=B(this.options.offset),Pe=this._getAnchor();J==="top"?(d=le/2,_=_e):J==="bottom"?(d=le/2,_=0):J==="center"?(d=le/2,_=_e/2):J==="right"?(d=0,_=_e/2):J==="left"?(d=le,_=_e/2):F.x<R.x?(J="right",d=0,_=_e/2):(J="left",d=le+(Ee.x+Pe.x)*2,_=_e/2),l=l.subtract(B(d,_,!0)).add(Ee).add(Pe),Ot(A,"leaflet-tooltip-right"),Ot(A,"leaflet-tooltip-left"),Ot(A,"leaflet-tooltip-top"),Ot(A,"leaflet-tooltip-bottom"),Ge(A,"leaflet-tooltip-"+J),Ct(A,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&kt(this._container,l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(d)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vf=function(l,d){return new xa(l,d)};st.include({openTooltip:function(l,d,_){return this._initOverlay(xa,l,d,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),ri.include({bindTooltip:function(l,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xa,this._tooltip,l,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var d=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[d](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof _i||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&(Fe(d,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Fe(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var d=l.latlng,_,C;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),C=this._map.containerPointToLayerPoint(_),d=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(d)}});var dh=bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var d=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(zn(d),d.appendChild(_.html)):d.innerHTML=_.html!==!1?_.html:"",_.bgPos){var C=B(_.bgPos);d.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Hf(l){return new dh(l)}bi.Default=pa;var _s=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){T(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),bt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(sn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof se?l:new se(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var d=this.getPane().children,_=-l(-1/0,1/0),C=0,A=d.length,R;C<A;C++)R=d[C].style.zIndex,d[C]!==this._container&&R&&(_=l(_,+R));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){kt(this._container,this.options.opacity);var l=+new Date,d=!1,_=!1;for(var C in this._tiles){var A=this._tiles[C];if(!(!A.current||!A.loaded)){var R=Math.min(1,(l-A.loaded)/200);kt(A.el,R),R<1?d=!0:(A.active?_=!0:this._onOpaqueTile(A),A.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),d&&(te(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,d=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=d-Math.abs(l-_),this._onUpdateLevel(_)):(bt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var C=this._levels[l],A=this._map;return C||(C=this._levels[l]={},C.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=d,C.origin=A.project(A.unproject(A.getPixelOrigin()),l).round(),C.zoom=l,this._setZoomTransform(C,A.getCenter(),A.getZoom()),v(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var l,d,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)d=this._tiles[l],d.retain=d.current;for(l in this._tiles)if(d=this._tiles[l],d.current&&!d.active){var C=d.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var d in this._tiles)this._tiles[d].coords.z===l&&this._removeTile(d)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)bt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,d,_,C){var A=Math.floor(l/2),R=Math.floor(d/2),F=_-1,J=new se(+A,+R);J.z=+F;var le=this._tileCoordsToKey(J),_e=this._tiles[le];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),F>C?this._retainParent(A,R,F,C):!1)},_retainChildren:function(l,d,_,C){for(var A=2*l;A<2*l+2;A++)for(var R=2*d;R<2*d+2;R++){var F=new se(A,R);F.z=_+1;var J=this._tileCoordsToKey(F),le=this._tiles[J];if(le&&le.active){le.retain=!0;continue}else le&&le.loaded&&(le.retain=!0);_+1<C&&this._retainChildren(A,R,_+1,C)}},_resetView:function(l){var d=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var d=this.options;return d.minNativeZoom!==void 0&&l<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<l?d.maxNativeZoom:l},_setView:function(l,d,_,C){var A=Math.round(d);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var R=this.options.updateWhenZooming&&A!==this._tileZoom;(!C||R)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,d)},_setZoomTransforms:function(l,d){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,d)},_setZoomTransform:function(l,d,_){var C=this._map.getZoomScale(_,l.zoom),A=l.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(d,_)).round();Ne.any3d?Bi(l.el,A,C):Ct(l.el,A)},_resetGrid:function(){var l=this._map,d=l.options.crs,_=this._tileSize=this.getTileSize(),C=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,d.wrapLng[0]],C).x/_.x),Math.ceil(l.project([0,d.wrapLng[1]],C).x/_.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([d.wrapLat[0],0],C).y/_.x),Math.ceil(l.project([d.wrapLat[1],0],C).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var d=this._map,_=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),C=d.getZoomScale(_,this._tileZoom),A=d.project(l,this._tileZoom).floor(),R=d.getSize().divideBy(C*2);return new U(A.subtract(R),A.add(R))},_update:function(l){var d=this._map;if(d){var _=this._clampZoom(d.getZoom());if(l===void 0&&(l=d.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(l),A=this._pxBoundsToTileRange(C),R=A.getCenter(),F=[],J=this.options.keepBuffer,le=new U(A.getBottomLeft().subtract([J,-J]),A.getTopRight().add([J,-J]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Ee=this._tiles[_e].coords;(Ee.z!==this._tileZoom||!le.contains(new se(Ee.x,Ee.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Pe=A.min.y;Pe<=A.max.y;Pe++)for(var Xe=A.min.x;Xe<=A.max.x;Xe++){var an=new se(Xe,Pe);if(an.z=this._tileZoom,!!this._isValidTile(an)){var Ht=this._tiles[this._tileCoordsToKey(an)];Ht?Ht.current=!0:F.push(an)}}if(F.sort(function(ut,ct){return ut.distanceTo(R)-ct.distanceTo(R)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var On=document.createDocumentFragment();for(Xe=0;Xe<F.length;Xe++)this._addTile(F[Xe],On);this._level.el.appendChild(On)}}}},_isValidTile:function(l){var d=this._map.options.crs;if(!d.infinite){var _=this._globalTileRange;if(!d.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!d.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(l);return Z(this.options.bounds).overlaps(C)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var d=this._map,_=this.getTileSize(),C=l.scaleBy(_),A=C.add(_),R=d.unproject(C,l.z),F=d.unproject(A,l.z);return[R,F]},_tileCoordsToBounds:function(l){var d=this._tileCoordsToNwSe(l),_=new D(d[0],d[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var d=l.split(":"),_=new se(+d[0],+d[1]);return _.z=+d[2],_},_removeTile:function(l){var d=this._tiles[l];d&&(bt(d.el),delete this._tiles[l],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ge(l,"leaflet-tile");var d=this.getTileSize();l.style.width=d.x+"px",l.style.height=d.y+"px",l.onselectstart=v,l.onmousemove=v,Ne.ielt9&&this.options.opacity<1&&kt(l,this.options.opacity)},_addTile:function(l,d){var _=this._getTilePos(l),C=this._tileCoordsToKey(l),A=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(A),this.createTile.length<2&&Q(u(this._tileReady,this,l,null,A)),Ct(A,_),this._tiles[C]={el:A,coords:l,current:!0},d.appendChild(A),this.fire("tileloadstart",{tile:A,coords:l})},_tileReady:function(l,d,_){d&&this.fire("tileerror",{error:d,tile:_,coords:l});var C=this._tileCoordsToKey(l);_=this._tiles[C],_&&(_.loaded=+new Date,this._map._fadeAnimated?(kt(_.el,0),te(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),d||(Ge(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var d=new se(this._wrapX?g(l.x,this._wrapX):l.x,this._wrapY?g(l.y,this._wrapY):l.y);return d.z=l.z,d},_pxBoundsToTileRange:function(l){var d=this.getTileSize();return new U(l.min.unscaleBy(d).floor(),l.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function fh(l){return new _s(l)}var cr=_s.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,d){this._url=l,d=T(this,d),d.detectRetina&&Ne.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,d){return this._url===l&&d===void 0&&(d=!0),this._url=l,d||this.redraw(),this},createTile:function(l,d){var _=document.createElement("img");return Fe(_,"load",u(this._tileOnLoad,this,d,_)),Fe(_,"error",u(this._tileOnError,this,d,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var d={r:Ne.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(d.y=_),d["-y"]=_}return P(this._url,a(d,this.options))},_tileOnLoad:function(l,d){Ne.ielt9?setTimeout(u(l,this,null,d),0):l(null,d)},_tileOnError:function(l,d,_){var C=this.options.errorTileUrl;C&&d.getAttribute("src")!==C&&(d.src=C),l(_,d)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,d=this.options.maxZoom,_=this.options.zoomReverse,C=this.options.zoomOffset;return _&&(l=d-l),l+C},_getSubdomain:function(l){var d=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var l,d;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(d=this._tiles[l].el,d.onload=v,d.onerror=v,!d.complete)){d.src=q;var _=this._tiles[l].coords;bt(d),delete this._tiles[l],this.fire("tileabort",{tile:d,coords:_})}},_removeTile:function(l){var d=this._tiles[l];if(d)return d.el.setAttribute("src",q),_s.prototype._removeTile.call(this,l)},_tileReady:function(l,d,_){if(!(!this._map||_&&_.getAttribute("src")===q))return _s.prototype._tileReady.call(this,l,d,_)}});function Un(l,d){return new cr(l,d)}var wa=cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,d){this._url=l;var _=a({},this.defaultWmsParams);for(var C in d)C in this.options||(_[C]=d[C]);d=T(this,d);var A=d.detectRetina&&Ne.retina?2:1,R=this.getTileSize();_.width=R.x*A,_.height=R.y*A,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,cr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var d=this._tileCoordsToNwSe(l),_=this._crs,C=ie(_.project(d[0]),_.project(d[1])),A=C.min,R=C.max,F=(this._wmsVersion>=1.3&&this._crs===eu?[A.y,A.x,R.y,R.x]:[A.x,A.y,R.x,R.y]).join(","),J=cr.prototype.getTileUrl.call(this,l);return J+j(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(l,d){return a(this.wmsParams,l),d||this.redraw(),this}});function Vn(l,d){return new wa(l,d)}cr.WMS=wa,Un.wms=Vn;var Sn=ri.extend({options:{padding:.1},initialize:function(l){T(this,l),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,d){var _=this._map.getZoomScale(d,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,d),R=C.multiplyBy(-_).add(A).subtract(this._map._getNewPixelOrigin(l,d));Ne.any3d?Bi(this._container,R,_):Ct(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,d=this._map.getSize(),_=this._map.containerPointToLayerPoint(d.multiplyBy(-l)).round();this._bounds=new U(_,_.add(d.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Co=Sn.extend({options:{tolerance:0},getEvents:function(){var l=Sn.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Fe(l,"mousemove",this._onMouseMove,this),Fe(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,bt(this._container),mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var d in this._layers)l=this._layers[d],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var l=this._bounds,d=this._container,_=l.getSize(),C=Ne.retina?2:1;Ct(d,l.min),d.width=C*_.x,d.height=C*_.y,d.style.width=_.x+"px",d.style.height=_.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[f(l)]=l;var d=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var d=l._order,_=d.next,C=d.prev;_?_.prev=C:this._drawLast=C,C?C.next=_:this._drawFirst=_,delete l._order,delete this._layers[f(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var d=l.options.dashArray.split(/[, ]+/),_=[],C,A;for(A=0;A<d.length;A++){if(C=Number(d[A]),isNaN(C))return;_.push(C)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var d=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(l._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(l._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var d=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,d=this._redrawBounds;if(this._ctx.save(),d){var _=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)l=C.layer,(!d||l._pxBounds&&l._pxBounds.intersects(d))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,d){if(this._drawing){var _,C,A,R,F=l._parts,J=F.length,le=this._ctx;if(J){for(le.beginPath(),_=0;_<J;_++){for(C=0,A=F[_].length;C<A;C++)R=F[_][C],le[C?"lineTo":"moveTo"](R.x,R.y);d&&le.closePath()}this._fillStroke(le,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var d=l._point,_=this._ctx,C=Math.max(Math.round(l._radius),1),A=(Math.max(Math.round(l._radiusY),1)||C)/C;A!==1&&(_.save(),_.scale(1,A)),_.beginPath(),_.arc(d.x,d.y/A,C,0,Math.PI*2,!1),A!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,d){var _=d.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(d.options&&d.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var d=this._map.mouseEventToLayerPoint(l),_,C,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(d)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(C=_);this._fireEvent(C?[C]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,d)}},_handleMouseOut:function(l){var d=this._hoveredLayer;d&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([d],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,d){if(!this._mouseHoverThrottled){for(var _,C,A=this._drawFirst;A;A=A.next)_=A.layer,_.options.interactive&&_._containsPoint(d)&&(C=_);C!==this._hoveredLayer&&(this._handleMouseOut(l),C&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([C],l,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,d,_){this._map._fireDOMEvent(d,_||d.type,l)},_bringToFront:function(l){var d=l._order;if(d){var _=d.next,C=d.prev;if(_)_.prev=C;else return;C?C.next=_:_&&(this._drawFirst=_),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(l)}},_bringToBack:function(l){var d=l._order;if(d){var _=d.next,C=d.prev;if(C)C.next=_;else return;_?_.prev=C:C&&(this._drawLast=C),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(l)}}});function Sa(l){return Ne.canvas?new Co(l):null}var hr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),tu={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sn.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var d=l._container=hr("shape");Ge(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",l._path=hr("path"),d.appendChild(l._path),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){var d=l._container;this._container.appendChild(d),l.options.interactive&&l.addInteractiveTarget(d)},_removePath:function(l){var d=l._container;bt(d),l.removeInteractiveTarget(d),delete this._layers[f(l)]},_updateStyle:function(l){var d=l._stroke,_=l._fill,C=l.options,A=l._container;A.stroked=!!C.stroke,A.filled=!!C.fill,C.stroke?(d||(d=l._stroke=hr("stroke")),A.appendChild(d),d.weight=C.weight+"px",d.color=C.color,d.opacity=C.opacity,C.dashArray?d.dashStyle=N(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=C.lineCap.replace("butt","flat"),d.joinstyle=C.lineJoin):d&&(A.removeChild(d),l._stroke=null),C.fill?(_||(_=l._fill=hr("fill")),A.appendChild(_),_.color=C.fillColor||C.color,_.opacity=C.fillOpacity):_&&(A.removeChild(_),l._fill=null)},_updateCircle:function(l){var d=l._point.round(),_=Math.round(l._radius),C=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+d.x+","+d.y+" "+_+","+C+" 0,"+65535*360)},_setPath:function(l,d){l._path.v=d},_bringToFront:function(l){sn(l._container)},_bringToBack:function(l){Mr(l._container)}},wi=Ne.vml?hr:Rt,bs=Sn.extend({_initContainer:function(){this._container=wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var l=this._bounds,d=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,_.setAttribute("width",d.x),_.setAttribute("height",d.y)),Ct(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(l){var d=l._path=wi("path");l.options.className&&Ge(d,l.options.className),l.options.interactive&&Ge(d,"leaflet-interactive"),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){bt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[f(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var d=l._path,_=l.options;d&&(_.stroke?(d.setAttribute("stroke",_.color),d.setAttribute("stroke-opacity",_.opacity),d.setAttribute("stroke-width",_.weight),d.setAttribute("stroke-linecap",_.lineCap),d.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?d.setAttribute("stroke-dasharray",_.dashArray):d.removeAttribute("stroke-dasharray"),_.dashOffset?d.setAttribute("stroke-dashoffset",_.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),_.fill?(d.setAttribute("fill",_.fillColor||_.color),d.setAttribute("fill-opacity",_.fillOpacity),d.setAttribute("fill-rule",_.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(l,d){this._setPath(l,Qn(l._parts,d))},_updateCircle:function(l){var d=l._point,_=Math.max(Math.round(l._radius),1),C=Math.max(Math.round(l._radiusY),1)||_,A="a"+_+","+C+" 0 1,0 ",R=l._empty()?"M0 0":"M"+(d.x-_)+","+d.y+A+_*2+",0 "+A+-_*2+",0 ";this._setPath(l,R)},_setPath:function(l,d){l._path.setAttribute("d",d)},_bringToFront:function(l){sn(l._path)},_bringToBack:function(l){Mr(l._path)}});Ne.vml&&bs.include(tu);function Ca(l){return Ne.svg||Ne.vml?new bs(l):null}st.include({getRenderer:function(l){var d=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var d=this._paneRenderers[l];return d===void 0&&(d=this._createRenderer({pane:l}),this._paneRenderers[l]=d),d},_createRenderer:function(l){return this.options.preferCanvas&&Sa(l)||Ca(l)}});var Dr=ms.extend({initialize:function(l,d){ms.prototype.initialize.call(this,this._boundsToLatLngs(l),d)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=Z(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Ff(l,d){return new Dr(l,d)}bs.create=wi,bs.pointsToPath=Qn,Hi.geometryToLayer=dn,Hi.coordsToLatLng=_o,Hi.coordsToLatLngs=ya,Hi.latLngToCoords=bo,Hi.latLngsToCoords=va,Hi.getFeature=or,Hi.asFeature=xo,st.mergeOptions({boxZoom:!0});var Cn=vi.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),as(),uo(),this._startPoint=this._map.mouseEventToContainerPoint(l),Fe(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var d=new U(this._point,this._startPoint),_=d.getSize();Ct(this._box,d.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(bt(this._box),Ot(this._container,"leaflet-crosshair")),gi(),aa(),mt(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var d=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",Cn),st.mergeOptions({doubleClickZoom:!0});var Eo=vi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var d=this._map,_=d.getZoom(),C=d.options.zoomDelta,A=l.originalEvent.shiftKey?_-C:_+C;d.options.doubleClickZoom==="center"?d.setZoom(A):d.setZoomAround(l.containerPoint,A)}});st.addInitHook("addHandler","doubleClickZoom",Eo),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Si=vi.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new ar(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,"leaflet-grab"),Ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Z(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var d=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(d),this._prunePositions(d)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,d){return l-(l-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;l.x<d.min.x&&(l.x=this._viscousLimit(l.x,d.min.x)),l.y<d.min.y&&(l.y=this._viscousLimit(l.y,d.min.y)),l.x>d.max.x&&(l.x=this._viscousLimit(l.x,d.max.x)),l.y>d.max.y&&(l.y=this._viscousLimit(l.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,d=Math.round(l/2),_=this._initialWorldOffset,C=this._draggable._newPos.x,A=(C-d+_)%l+d-_,R=(C+d+_)%l-d-_,F=Math.abs(A+_)<Math.abs(R+_)?A:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(l){var d=this._map,_=d.options,C=!_.inertia||l.noInertia||this._times.length<2;if(d.fire("dragend",l),C)d.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,F=_.easeLinearity,J=A.multiplyBy(F/R),le=J.distanceTo([0,0]),_e=Math.min(_.inertiaMaxSpeed,le),Ee=J.multiplyBy(_e/le),Pe=_e/(_.inertiaDeceleration*F),Xe=Ee.multiplyBy(-Pe/2).round();!Xe.x&&!Xe.y?d.fire("moveend"):(Xe=d._limitOffset(Xe,d.options.maxBounds),Q(function(){d.panBy(Xe,{duration:Pe,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",Si),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nu=vi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Fe(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,d=document.documentElement,_=l.scrollTop||d.scrollTop,C=l.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(C,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var d=this._panKeys={},_=this.keyCodes,C,A;for(C=0,A=_.left.length;C<A;C++)d[_.left[C]]=[-1*l,0];for(C=0,A=_.right.length;C<A;C++)d[_.right[C]]=[l,0];for(C=0,A=_.down.length;C<A;C++)d[_.down[C]]=[0,l];for(C=0,A=_.up.length;C<A;C++)d[_.up[C]]=[0,-1*l]},_setZoomDelta:function(l){var d=this._zoomKeys={},_=this.keyCodes,C,A;for(C=0,A=_.zoomIn.length;C<A;C++)d[_.zoomIn[C]]=l;for(C=0,A=_.zoomOut.length;C<A;C++)d[_.zoomOut[C]]=-l},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var d=l.keyCode,_=this._map,C;if(d in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(C=this._panKeys[d],l.shiftKey&&(C=B(C).multiplyBy(3)),_.options.maxBounds&&(C=_._limitOffset(B(C),_.options.maxBounds)),_.options.worldCopyJump){var A=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(C)));_.panTo(A)}else _.panBy(C)}else if(d in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;sr(l)}}});st.addInitHook("addHandler","keyboard",nu),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ea=vi.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var d=yn(l),_=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var C=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),C),sr(l)},_performZoom:function(){var l=this._map,d=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,R=_?Math.ceil(A/_)*_:A,F=l._limitZoom(d+(this._delta>0?R:-R))-d;this._delta=0,this._startTime=null,F&&(l.options.scrollWheelZoom==="center"?l.setZoom(d+F):l.setZoomAround(this._lastMousePos,d+F))}});st.addInitHook("addHandler","scrollWheelZoom",Ea);var zr=600;st.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var To=vi.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var d=l.touches[0];this._startPos=this._newPos=new se(d.clientX,d.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",Vt),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),zr),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){mt(document,"touchend",Vt),mt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)},_onMove:function(l){var d=l.touches[0];this._newPos=new se(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,d){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});_._simulated=!0,d.target.dispatchEvent(_)}});st.addInitHook("addHandler","tapHold",To),st.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var iu=vi.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var d=this._map;if(!(!l.touches||l.touches.length!==2||d._animatingZoom||this._zooming)){var _=d.mouseEventToContainerPoint(l.touches[0]),C=d.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(_.add(C)._divideBy(2))),this._startDist=_.distanceTo(C),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),Vt(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var d=this._map,_=d.mouseEventToContainerPoint(l.touches[0]),C=d.mouseEventToContainerPoint(l.touches[1]),A=_.distanceTo(C)/this._startDist;if(this._zoom=d.getScaleZoom(A,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&A<1||this._zoom>d.getMaxZoom()&&A>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var R=_._add(C)._divideBy(2)._subtract(this._centerPoint);if(A===1&&R.x===0&&R.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var F=u(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(F,this,!0),Vt(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",iu),st.BoxZoom=Cn,st.DoubleClickZoom=Eo,st.Drag=Si,st.Keyboard=nu,st.ScrollWheelZoom=Ea,st.TapHold=To,st.TouchZoom=iu,n.Bounds=U,n.Browser=Ne,n.CRS=we,n.Canvas=Co,n.Circle=vo,n.CircleMarker=ps,n.Class=ce,n.Control=jn,n.DivIcon=dh,n.DivOverlay=fn,n.DomEvent=fo,n.DomUtil=us,n.Draggable=ar,n.Evented=W,n.FeatureGroup=_i,n.GeoJSON=Hi,n.GridLayer=_s,n.Handler=vi,n.Icon=bi,n.ImageOverlay=ys,n.LatLng=ne,n.LatLngBounds=D,n.Layer=ri,n.LayerGroup=fs,n.LineUtil=zf,n.Map=st,n.Marker=ga,n.Mixin=Nf,n.Path=xi,n.Point=se,n.PolyUtil=Jl,n.Polygon=ms,n.Polyline=Vi,n.Popup=ba,n.PosAnimation=cs,n.Projection=ih,n.Rectangle=Dr,n.Renderer=Sn,n.SVG=bs,n.SVGOverlay=So,n.TileLayer=cr,n.Tooltip=xa,n.Transformation=Ve,n.Util=pe,n.VideoOverlay=ur,n.bind=u,n.bounds=ie,n.canvas=Sa,n.circle=lh,n.circleMarker=oh,n.control=Ui,n.divIcon=Hf,n.extend=a,n.featureGroup=sh,n.geoJSON=wo,n.geoJson=_a,n.gridLayer=fh,n.icon=fa,n.imageOverlay=uh,n.latLng=de,n.latLngBounds=Z,n.layerGroup=Bf,n.map=Zl,n.marker=ah,n.point=B,n.polygon=Uf,n.polyline=If,n.popup=hh,n.rectangle=Ff,n.setOptions=T,n.stamp=f,n.svg=Ca,n.svgOverlay=ch,n.tileLayer=Un,n.tooltip=Vf,n.transformation=De,n.version=r,n.videoOverlay=vs;var ru=window.L;n.noConflict=function(){return window.L=ru,this},window.L=n}))})(Wu,Wu.exports)),Wu.exports}var kl=ev();const Nt=eo(kl);function gf(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function yf(t,e){return e==null?function(r,a){const o=M.useRef(void 0);return o.current||(o.current=t(r,a)),o}:function(r,a){const o=M.useRef(void 0);o.current||(o.current=t(r,a));const u=M.useRef(r),{instance:h}=o.current;return M.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,e]),o}}function TE(t,e){M.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function LE(t){return function(n){const r=pf(),a=t(mf(n,r),r);return CE(r.map,n.attribution),Qy(a.current,n.eventHandlers),TE(a.current,r),a}}function az(t,e){const n=M.useRef(void 0);M.useEffect(function(){if(e.pathOptions!==n.current){const a=e.pathOptions??{};t.instance.setStyle(a),n.current=a}},[t,e])}function oz(t){return function(n){const r=pf(),a=t(mf(n,r),r);return Qy(a.current,n.eventHandlers),TE(a.current,r),az(a.current,n),a}}function lz(t,e){const n=yf(t,e),r=LE(n);return EE(r)}function AE(t,e){const n=yf(t),r=rz(n,e);return nz(r)}function uz(t,e){const n=yf(t,e),r=oz(n);return EE(r)}function cz(t,e){const n=yf(t,e),r=LE(n);return iz(r)}function hz(t,e,n){const{opacity:r,zIndex:a}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function dz(){return pf().map}function fz({bounds:t,boundsOptions:e,center:n,children:r,className:a,id:o,placeholder:u,style:h,whenReady:f,zoom:m,...g},v){const[w]=M.useState({className:a,id:o,style:h}),[S,E]=M.useState(null),T=M.useRef(void 0);M.useImperativeHandle(v,()=>S?.map??null,[S]);const j=M.useCallback(P=>{if(P!==null&&!T.current){const N=new kl.Map(P,g);T.current=N,n!=null&&m!=null?N.setView(n,m):t!=null&&N.fitBounds(t,e),f!=null&&N.whenReady(f),E(ez(N))}},[]);M.useEffect(()=>()=>{S?.map.remove()},[S]);const O=S?mi.createElement(Jy,{value:S},r):u??null;return mi.createElement("div",{...w,ref:j},O)}const pz=M.forwardRef(fz),kE=lz(function({position:e,...n},r){const a=new kl.Marker(e,n);return gf(a,tz(r,{overlayContainer:a}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),vf=AE(function(e,n){const r=new kl.Popup(e,n.overlayContainer);return gf(r,n)},function(e,n,{position:r},a){M.useEffect(function(){const{instance:u}=e;function h(m){m.popup===u&&(u.update(),a(!0))}function f(m){m.popup===u&&a(!1)}return n.map.on({popupopen:h,popupclose:f}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:h,popupclose:f}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[e,n,a,r])}),mz=cz(function({url:e,...n},r){const a=new kl.TileLayer(e,mf(n,r));return gf(a,r)},function(e,n,r){hz(e,n,r);const{url:a}=n;a!=null&&a!==r.url&&e.setUrl(a)}),gz=AE(function(e,n){const r=new kl.Tooltip(e,n.overlayContainer);return gf(r,n)},function(e,n,{position:r},a){M.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:h}=e,f=g=>{g.tooltip===h&&(r!=null&&h.setLatLng(r),h.update(),a(!0))},m=g=>{g.tooltip===h&&a(!1)};return u.on({tooltipopen:f,tooltipclose:m}),u.bindTooltip(h),function(){u.off({tooltipopen:f,tooltipclose:m}),u._map!=null&&u.unbindTooltip()}},[e,n,a,r])});L.Icon.Glyph=L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"",prefix:"",glyph:"home",glyphColor:"white",glyphSize:"11px",glyphAnchor:[0,0]},createIcon:function(){var t=document.createElement("div"),e=this.options;return e.glyph&&t.appendChild(this._createGlyph()),t.style.position="relative",this._setIconStyles(t,e.className),t},_createGlyph:function(){var t,e,n=this.options;n.prefix?n.prefix==="fab"||n.prefix==="fal"||n.prefix==="far"||n.prefix==="fas"?t="fa-"+n.glyph:n.glyph.slice(0,n.prefix.length+1)===n.prefix+"-"?t=n.glyph:t=n.prefix+"-"+n.glyph:(t="",e=n.glyph);var r=L.DomUtil.create("span",n.prefix+" "+t);return r.style.position="absolute",r.style.fontSize=n.glyphSize,r.style.color=n.glyphColor,r.style.width=n.iconSize[0]+"px",r.style.lineHeight=n.iconSize[1]+"px",r.style.textAlign="center",r.style.left=n.glyphAnchor[0]+"px",r.style.top=n.glyphAnchor[1]+"px",r.style.pointerEvents="none",r.style.display="inline-block",e&&(r.innerHTML=e),r},_setIconStyles:function(t,e){if(e==="shadow")return L.Icon.prototype._setIconStyles.call(this,t,e);var n=this.options,r=L.point(n.iconSize),a=L.point(n.iconAnchor);!a&&r&&(a=r.divideBy(2,!0)),t.className="leaflet-marker-icon leaflet-glyph-icon "+e;var o=this._getIconUrl("icon");o&&(t.style.backgroundImage="url('"+o+"')"),n.bgPos&&(t.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.bgSize&&(t.style.backgroundSize=n.bgSize.x+"px "+n.bgSize.y+"px"),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")}});L.icon.glyph=function(t){return new L.Icon.Glyph(t)};L.Icon.Glyph.prototype.options.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=";function tv({glyph:t,glyphColor:e="white",bgColor:n="white",glyphSize:r="8px",iconUrl:a="/Mapassets/icons/glyph-marker-icon-blue.svg",className:o,iconSize:u,prefix:h,glyphAnchor:f,isActive:m}){let g=r;typeof g=="number"?g=`${g}px`:typeof g=="string"&&!g.endsWith("px")?g=`${g}px`:g||(g="8px");const v=u||[25,41],w=Math.round(v[0]*(41/25)),S=Math.round(v[1]*(41/41)),E=Math.round(w*12/41),T=S,j=wl();return Nt.icon.glyph({iconUrl:a||`${j}assets/icons/glyph-marker-icon-blue.svg`,iconSize:v,iconAnchor:[Math.round(v[0]/2),v[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:`${j}assets/icons/marker-shadow.png`,shadowSize:[w,S],shadowAnchor:[E,T],prefix:h||"",glyph:t||"",glyphColor:e||"white",bgColor:n,glyphSize:g,glyphAnchor:f||[0,0],className:m?`${o} marker-active`:o||""})}function nv(t="md"){const e={sm:"(max-width: 639px)",md:"(max-width: 767px)",lg:"(max-width: 1023px)",xl:"(max-width: 1279px)","2xl":"(max-width: 1535px)"},n=e[t]||e.md,[r,a]=M.useState(()=>typeof window<"u"?window.matchMedia(n).matches:!1);return M.useEffect(()=>{if(typeof window>"u")return;const o=window.matchMedia(n),u=()=>a(o.matches);return o.addEventListener("change",u),()=>o.removeEventListener("change",u)},[n]),r}const iv=M.createContext({});function rv(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const sv=typeof window<"u",jE=sv?M.useLayoutEffect:M.useEffect,_f=M.createContext(null);function av(t,e){t.indexOf(e)===-1&&t.push(e)}function ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const es=(t,e,n)=>n>e?e:n<t?t:n;let lv=()=>{};const ts={},OE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ME(t){return typeof t=="object"&&t!==null}const NE=t=>/^0[^.\s]+$/u.test(t);function uv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Oi=t=>t,yz=(t,e)=>n=>e(t(n)),Rc=(...t)=>t.reduce(yz),vc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class cv{constructor(){this.subscriptions=[]}add(e){return av(this.subscriptions,e),()=>ov(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const br=t=>t*1e3,ji=t=>t/1e3;function PE(t,e){return e?t*(1e3/e):0}const RE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vz=1e-7,_z=12;function bz(t,e,n,r,a){let o,u,h=0;do u=e+(n-e)/2,o=RE(u,r,a)-t,o>0?n=u:e=u;while(Math.abs(o)>vz&&++h<_z);return u}function Dc(t,e,n,r){if(t===e&&n===r)return Oi;const a=o=>bz(o,0,1,t,n);return o=>o===0||o===1?o:RE(a(o),e,r)}const DE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zE=t=>e=>1-t(1-e),BE=Dc(.33,1.53,.69,.99),hv=zE(BE),IE=DE(hv),UE=t=>(t*=2)<1?.5*hv(t):.5*(2-Math.pow(2,-10*(t-1))),dv=t=>1-Math.sin(Math.acos(t)),VE=zE(dv),HE=DE(dv),xz=Dc(.42,0,1,1),wz=Dc(0,0,.58,1),FE=Dc(.42,0,.58,1),Sz=t=>Array.isArray(t)&&typeof t[0]!="number",$E=t=>Array.isArray(t)&&typeof t[0]=="number",Cz={linear:Oi,easeIn:xz,easeInOut:FE,easeOut:wz,circIn:dv,circInOut:HE,circOut:VE,backIn:hv,backInOut:IE,backOut:BE,anticipate:UE},Ez=t=>typeof t=="string",U1=t=>{if($E(t)){lv(t.length===4);const[e,n,r,a]=t;return Dc(e,n,r,a)}else if(Ez(t))return Cz[t];return t},Ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Tz(t,e){let n=new Set,r=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,v=!1,w=!1)=>{const E=w&&a?n:r;return v&&u.add(g),E.has(g)||E.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,o&&(o=!1,m.process(g))}};return m}const Lz=40;function qE(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=Ed.reduce((N,V)=>(N[V]=Tz(o),N),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:g,update:v,preRender:w,render:S,postRender:E}=u,T=()=>{const N=ts.useManualTiming?a.timestamp:performance.now();n=!1,ts.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,Lz),1)),a.timestamp=N,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),g.process(a),v.process(a),w.process(a),S.process(a),E.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(T))},j=()=>{n=!0,r=!0,a.isProcessing||t(T)};return{schedule:Ed.reduce((N,V)=>{const q=u[V];return N[V]=(I,K=!1,oe=!1)=>(n||j(),q.schedule(I,K,oe)),N},{}),cancel:N=>{for(let V=0;V<Ed.length;V++)u[Ed[V]].cancel(N)},state:a,steps:u}}const{schedule:Pt,cancel:Zs,state:xn,steps:sg}=qE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0);let Nd;function Az(){Nd=void 0}const Yn={now:()=>(Nd===void 0&&Yn.set(xn.isProcessing||ts.useManualTiming?xn.timestamp:performance.now()),Nd),set:t=>{Nd=t,queueMicrotask(Az)}},ZE=t=>e=>typeof e=="string"&&e.startsWith(t),fv=ZE("--"),kz=ZE("var(--"),pv=t=>kz(t)?jz.test(t.split("/*")[0].trim()):!1,jz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_c={...jl,transform:t=>es(0,1,t)},Td={...jl,default:1},sc=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Oz(t){return t==null}const Mz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gv=(t,e)=>n=>!!(typeof n=="string"&&Mz.test(n)&&n.startsWith(t)||e&&!Oz(n)&&Object.prototype.hasOwnProperty.call(n,e)),GE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,o,u,h]=r.match(mv);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},Nz=t=>es(0,255,t),ag={...jl,transform:t=>Math.round(Nz(t))},Za={test:gv("rgb","red"),parse:GE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+sc(_c.transform(r))+")"};function Pz(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ey={test:gv("#"),parse:Pz,transform:Za.transform},zc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=zc("deg"),xr=zc("%"),$e=zc("px"),Rz=zc("vh"),Dz=zc("vw"),V1={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},sl={test:gv("hsl","hue"),parse:GE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xr.transform(sc(e))+", "+xr.transform(sc(n))+", "+sc(_c.transform(r))+")"},rn={test:t=>Za.test(t)||ey.test(t)||sl.test(t),parse:t=>Za.test(t)?Za.parse(t):sl.test(t)?sl.parse(t):ey.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Za.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},zz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bz(t){return isNaN(t)&&typeof t=="string"&&(t.match(mv)?.length||0)+(t.match(zz)?.length||0)>0}const KE="number",WE="color",Iz="var",Uz="var(",H1="${}",Vz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(Vz,f=>(rn.test(f)?(r.color.push(o),a.push(WE),n.push(rn.parse(f))):f.startsWith(Uz)?(r.var.push(o),a.push(Iz),n.push(f)):(r.number.push(o),a.push(KE),n.push(parseFloat(f))),++o,H1)).split(H1);return{values:n,split:h,indexes:r,types:a}}function YE(t){return bc(t).values}function XE(t){const{split:e,types:n}=bc(t),r=e.length;return a=>{let o="";for(let u=0;u<r;u++)if(o+=e[u],a[u]!==void 0){const h=n[u];h===KE?o+=sc(a[u]):h===WE?o+=rn.transform(a[u]):o+=a[u]}return o}}const Hz=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function Fz(t){const e=YE(t);return XE(t)(e.map(Hz))}const Gs={test:Bz,parse:YE,createTransformer:XE,getAnimatableNone:Fz};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $z({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,o=0,u=0;if(!e)a=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=og(f,h,t+1/3),o=og(f,h,t),u=og(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function Wd(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,lg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},qz=[ey,Za,sl],Zz=t=>qz.find(e=>e.test(t));function F1(t){const e=Zz(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=$z(n)),n}const $1=(t,e)=>{const n=F1(t),r=F1(e);if(!n||!r)return Wd(t,e);const a={...n};return o=>(a.red=lg(n.red,r.red,o),a.green=lg(n.green,r.green,o),a.blue=lg(n.blue,r.blue,o),a.alpha=It(n.alpha,r.alpha,o),Za.transform(a))},ty=new Set(["none","hidden"]);function Gz(t,e){return ty.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Kz(t,e){return n=>It(t,e,n)}function yv(t){return typeof t=="number"?Kz:typeof t=="string"?pv(t)?Wd:rn.test(t)?$1:Xz:Array.isArray(t)?JE:typeof t=="object"?rn.test(t)?$1:Wz:Wd}function JE(t,e){const n=[...t],r=n.length,a=t.map((o,u)=>yv(o)(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=a[u](o);return n}}function Wz(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=yv(t[a])(t[a],e[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function Yz(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=t.indexes[o][r[o]],h=t.values[u]??0;n[a]=h,r[o]++}return n}const Xz=(t,e)=>{const n=Gs.createTransformer(e),r=bc(t),a=bc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?ty.has(t)&&!a.values.length||ty.has(e)&&!r.values.length?Gz(t,e):Rc(JE(Yz(r,a),a.values),n):Wd(t,e)};function QE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):yv(t)(t,e)}const Jz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Pt.update(e,n),stop:()=>Zs(e),now:()=>xn.isProcessing?xn.timestamp:Yn.now()}},eT=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)r+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yd=2e4;function vv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yd;)e+=n,r=t.next(e);return e>=Yd?1/0:e}function Qz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(vv(r),Yd);return{type:"keyframes",ease:o=>r.next(a*o).value/e,duration:ji(a)}}const e3=5;function tT(t,e,n){const r=Math.max(e-e3,0);return PE(n-t(r),e-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function t3({duration:t=qt.duration,bounce:e=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let a,o,u=1-e;u=es(qt.minDamping,qt.maxDamping,u),t=es(qt.minDuration,qt.maxDuration,ji(t)),u<1?(a=m=>{const g=m*u,v=g*t,w=g-n,S=ny(m,u),E=Math.exp(-v);return ug-w/S*E},o=m=>{const v=m*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(m,2)*t,E=Math.exp(-v),T=ny(Math.pow(m,2),u);return(-a(m)+ug>0?-1:1)*((w-S)*E)/T}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-ug+g*v},o=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,f=i3(a,o,h);if(t=br(t),isNaN(f))return{stiffness:qt.stiffness,damping:qt.damping,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:t}}}const n3=12;function i3(t,e,n){let r=n;for(let a=1;a<n3;a++)r=r-t(r)/e(r);return r}function ny(t,e){return t*Math.sqrt(1-e*e)}const r3=["duration","bounce"],s3=["stiffness","damping","mass"];function q1(t,e){return e.some(n=>t[n]!==void 0)}function a3(t){let e={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...t};if(!q1(t,s3)&&q1(t,r3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*es(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:qt.mass,stiffness:a,damping:o}}else{const n=t3(t);e={...e,...n,mass:qt.mass},e.isResolvedFromDuration=!0}return e}function Xd(t=qt.visualDuration,e=qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:v,velocity:w,isResolvedFromDuration:S}=a3({...n,velocity:-ji(n.velocity||0)}),E=w||0,T=m/(2*Math.sqrt(f*g)),j=u-o,O=ji(Math.sqrt(f/g)),P=Math.abs(j)<5;r||(r=P?qt.restSpeed.granular:qt.restSpeed.default),a||(a=P?qt.restDelta.granular:qt.restDelta.default);let N;if(T<1){const q=ny(O,T);N=I=>{const K=Math.exp(-T*O*I);return u-K*((E+T*O*j)/q*Math.sin(q*I)+j*Math.cos(q*I))}}else if(T===1)N=q=>u-Math.exp(-O*q)*(j+(E+O*j)*q);else{const q=O*Math.sqrt(T*T-1);N=I=>{const K=Math.exp(-T*O*I),oe=Math.min(q*I,300);return u-K*((E+T*O*j)*Math.sinh(oe)+q*j*Math.cosh(oe))/q}}const V={calculatedDuration:S&&v||null,next:q=>{const I=N(q);if(S)h.done=q>=v;else{let K=q===0?E:0;T<1&&(K=q===0?br(E):tT(N,q,I));const oe=Math.abs(K)<=r,ee=Math.abs(u-I)<=a;h.done=oe&&ee}return h.value=h.done?u:I,h},toString:()=>{const q=Math.min(vv(V),Yd),I=eT(K=>V.next(q*K).value,q,30);return q+"ms "+I},toTransition:()=>{}};return V}Xd.applyToOptions=t=>{const e=Qz(t,100,Xd);return t.ease=e.ease,t.duration=br(e.duration),t.type="keyframes",t};function iy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:m=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},S=oe=>h!==void 0&&oe<h||f!==void 0&&oe>f,E=oe=>h===void 0?f:f===void 0||Math.abs(h-oe)<Math.abs(f-oe)?h:f;let T=n*e;const j=v+T,O=u===void 0?j:u(j);O!==j&&(T=O-v);const P=oe=>-T*Math.exp(-oe/r),N=oe=>O+P(oe),V=oe=>{const ee=P(oe),he=N(oe);w.done=Math.abs(ee)<=m,w.value=w.done?O:he};let q,I;const K=oe=>{S(w.value)&&(q=oe,I=Xd({keyframes:[w.value,E(w.value)],velocity:tT(N,oe,w.value),damping:a,stiffness:o,restDelta:m,restSpeed:g}))};return K(0),{calculatedDuration:null,next:oe=>{let ee=!1;return!I&&q===void 0&&(ee=!0,V(oe),K(oe)),q!==void 0&&oe>=q?I.next(oe-q):(!ee&&V(oe),w)}}}function o3(t,e,n){const r=[],a=n||ts.mix||QE,o=t.length-1;for(let u=0;u<o;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Oi:e;h=Rc(f,h)}r.push(h)}return r}function l3(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const o=t.length;if(lv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=o3(e,r,a),f=h.length,m=g=>{if(u&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=vc(t[v],t[v+1],g);return h[v](w)};return n?g=>m(es(t[0],t[o-1],g)):m}function u3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=vc(0,e,r);t.push(It(n,1,a))}}function c3(t){const e=[0];return u3(e,t.length-1),e}function h3(t,e){return t.map(n=>n*e)}function d3(t,e){return t.map(()=>e||FE).splice(0,t.length-1)}function ac({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=Sz(r)?r.map(U1):U1(r),o={done:!1,value:e[0]},u=h3(n&&n.length===e.length?n:c3(e),t),h=l3(u,e,{ease:Array.isArray(a)?a:d3(e,a)});return{calculatedDuration:t,next:f=>(o.value=h(f),o.done=f>=t,o)}}const f3=t=>t!==null;function _v(t,{repeat:e,repeatType:n="loop"},r,a=1){const o=t.filter(f3),h=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||r===void 0?o[h]:r}const p3={decay:iy,inertia:iy,tween:ac,keyframes:ac,spring:Xd};function nT(t){typeof t.type=="string"&&(t.type=p3[t.type])}class bv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const m3=t=>t/100;class xv extends bv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nT(e);const{type:n=ac,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const f=n||ac;f!==ac&&typeof h[0]!="number"&&(this.mixKeyframes=Rc(m3,QE(h[0],h[1])),h=[0,100]);const m=f({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=vv(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:S,type:E,onUpdate:T,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,V=r;if(v){const oe=Math.min(this.currentTime,a)/h;let ee=Math.floor(oe),he=oe%1;!he&&oe>=1&&(he=1),he===1&&ee--,ee=Math.min(ee,v+1),!!(ee%2)&&(w==="reverse"?(he=1-he,S&&(he-=S/h)):w==="mirror"&&(V=u)),N=es(0,1,he)*h}const q=P?{done:!1,value:g[0]}:V.next(N);o&&(q.value=o(q.value));let{done:I}=q;!P&&f!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return K&&E!==iy&&(q.value=_v(g,this.options,j,this.speed)),T&&T(q.value),K&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return ji(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ji(e)}get time(){return ji(this.currentTime)}set time(e){e=br(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ji(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Jz,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function g3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ga=t=>t*180/Math.PI,ry=t=>{const e=Ga(Math.atan2(t[1],t[0]));return sy(e)},y3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ry,rotateZ:ry,skewX:t=>Ga(Math.atan(t[1])),skewY:t=>Ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),Z1=ry,G1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),K1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),v3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:G1,scaleY:K1,scale:t=>(G1(t)+K1(t))/2,rotateX:t=>sy(Ga(Math.atan2(t[6],t[5]))),rotateY:t=>sy(Ga(Math.atan2(-t[2],t[0]))),rotateZ:Z1,rotate:Z1,skewX:t=>Ga(Math.atan(t[4])),skewY:t=>Ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ay(t){return t.includes("scale")?1:0}function oy(t,e){if(!t||t==="none")return ay(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=v3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=y3,a=h}if(!a)return ay(e);const o=r[e],u=a[1].split(",").map(b3);return typeof o=="function"?o(u):u[o]}const _3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return oy(n,e)};function b3(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Ol),W1=t=>t===jl||t===$e,x3=new Set(["x","y","z"]),w3=Ol.filter(t=>!x3.has(t));function S3(t){const e=[];return w3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>oy(e,"x"),y:(t,{transform:e})=>oy(e,"y")};Wa.translateX=Wa.x;Wa.translateY=Wa.y;const Ya=new Set;let ly=!1,uy=!1,cy=!1;function iT(){if(uy){const t=Array.from(Ya).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=S3(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,u])=>{r.getValue(o)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uy=!1,ly=!1,Ya.forEach(t=>t.complete(cy)),Ya.clear()}function rT(){Ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uy=!0)})}function C3(){cy=!0,rT(),iT(),cy=!1}class wv{constructor(e,n,r,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ya.add(this),ly||(ly=!0,Pt.read(rT),Pt.resolveKeyframes(iT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const o=a?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}g3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ya.delete(this)}cancel(){this.state==="scheduled"&&(Ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E3=t=>t.startsWith("--");function T3(t,e,n){E3(e)?t.style.setProperty(e,n):t.style[e]=n}const L3=uv(()=>window.ScrollTimeline!==void 0),A3={};function k3(t,e){const n=uv(t);return()=>A3[e]??n()}const sT=k3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Y1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yu([0,.65,.55,1]),circOut:Yu([.55,0,1,.45]),backIn:Yu([.31,.01,.66,-.59]),backOut:Yu([.33,1.53,.69,.99])};function aT(t,e){if(t)return typeof t=="function"?sT()?eT(t,e):"ease-out":$E(t)?Yu(t):Array.isArray(t)?t.map(n=>aT(n,e)||Y1.easeOut):Y1[t]}function j3(t,e,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:f}={},m=void 0){const g={[e]:n};f&&(g.offset=f);const v=aT(h,a);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(g,w)}function oT(t){return typeof t=="function"&&"applyToOptions"in t}function O3({type:t,...e}){return oT(t)&&sT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class M3 extends bv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,lv(typeof e.type!="string");const m=O3(e);this.animation=j3(n,r,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=_v(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):T3(n,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ji(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ji(e)}get time(){return ji(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=br(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&L3()?(this.animation.timeline=e,Oi):n(this)}}const lT={anticipate:UE,backInOut:IE,circInOut:HE};function N3(t){return t in lT}function P3(t){typeof t.ease=="string"&&N3(t.ease)&&(t.ease=lT[t.ease])}const X1=10;class R3 extends M3{constructor(e){P3(e),nT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new xv({...u,autoplay:!1}),f=br(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-X1).value,h.sample(f).value,X1),h.stop()}}const J1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url("));function D3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z3(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=J1(a,e),h=J1(o,e);return!u||!h?!1:D3(t)||(n==="spring"||oT(n))&&r}function hy(t){t.duration=0,t.type="keyframes"}const B3=new Set(["opacity","clipPath","filter","transform"]),I3=uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U3(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:o,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return I3()&&n&&B3.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&o!==0&&u!=="inertia"}const V3=40;class H3 extends bv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:f,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Yn.now();const w={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:u,name:f,motionValue:m,element:g,...v},S=g?.KeyframeResolver||wv;this.keyframeResolver=new S(h,(E,T,j)=>this.onKeyframesResolved(E,T,w,!j),f,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:f,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Yn.now(),z3(e,o,u,h)||((ts.instantAnimations||!f)&&g?.(_v(e,r,n)),e[0]=e[e.length-1],hy(r),r.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>V3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!m&&U3(w)?new R3({...w,element:w.motionValue.owner.current}):new xv(w);S.finished.then(()=>this.notifyFinished()).catch(Oi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),C3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const F3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $3(t){const e=F3.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function uT(t,e,n=1){const[r,a]=$3(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return OE(u)?parseFloat(u):u}return pv(a)?uT(a,e,n+1):a}function Sv(t,e){return t?.[e]??t?.default??t}const cT=new Set(["width","height","top","left","right","bottom",...Ol]),q3={test:t=>t==="auto",parse:t=>t},hT=t=>e=>e.test(t),dT=[jl,$e,xr,$s,Dz,Rz,q3],Q1=t=>dT.find(hT(t));function Z3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NE(t):!0}const G3=new Set(["brightness","contrast","saturate","opacity"]);function K3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mv)||[];if(!r)return t;const a=n.replace(r,"");let o=G3.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+a+")"}const W3=/\b([a-z-]*)\(.*?\)/gu,dy={...Gs,getAnimatableNone:t=>{const e=t.match(W3);return e?e.map(K3).join(" "):t}},ew={...jl,transform:Math.round},Y3={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:$s,skewX:$s,skewY:$s,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:_c,originX:V1,originY:V1,originZ:$e},Cv={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...Y3,zIndex:ew,fillOpacity:_c,strokeOpacity:_c,numOctaves:ew},X3={...Cv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:dy,WebkitFilter:dy},fT=t=>X3[t];function pT(t,e){let n=fT(t);return n!==dy&&(n=Gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const J3=new Set(["auto","none","0"]);function Q3(t,e,n){let r=0,a;for(;r<t.length&&!a;){const o=t[r];typeof o=="string"&&!J3.has(o)&&bc(o).values.length&&(a=t[r]),r++}if(a&&n)for(const o of e)t[o]=pT(n,a)}class e4 extends wv{constructor(e,n,r,a,o){super(e,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),pv(m))){const g=uT(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!cT.has(r)||e.length!==2)return;const[a,o]=e,u=Q1(a),h=Q1(o);if(u!==h)if(W1(u)&&W1(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Wa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||Z3(e[a]))&&r.push(a);r.length&&Q3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,u=r[o];r[o]=Wa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function t4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const mT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function gT(t){return ME(t)&&"offsetHeight"in t}const tw=30,n4=t=>!isNaN(parseFloat(t));class i4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=n4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tw);return PE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(t,e){return new i4(t,e)}const{schedule:Ev}=qE(queueMicrotask,!1),Wi={x:!1,y:!1};function yT(){return Wi.x||Wi.y}function r4(t){return t==="x"||t==="y"?Wi[t]?null:(Wi[t]=!0,()=>{Wi[t]=!1}):Wi.x||Wi.y?null:(Wi.x=Wi.y=!0,()=>{Wi.x=Wi.y=!1})}function vT(t,e){const n=t4(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function nw(t){return!(t.pointerType==="touch"||yT())}function s4(t,e,n={}){const[r,a,o]=vT(t,n),u=h=>{if(!nw(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const g=v=>{nw(v)&&(m(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const _T=(t,e)=>e?t===e?!0:_T(t,e.parentElement):!1,Tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,a4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function o4(t){return a4.has(t.tagName)||t.tabIndex!==-1}const Pd=new WeakSet;function iw(t){return e=>{e.key==="Enter"&&t(e)}}function cg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const l4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iw(()=>{if(Pd.has(n))return;cg(n,"down");const a=iw(()=>{cg(n,"up")}),o=()=>cg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rw(t){return Tv(t)&&!yT()}function u4(t,e,n={}){const[r,a,o]=vT(t,n),u=h=>{const f=h.currentTarget;if(!rw(h))return;Pd.add(f);const m=e(f,h),g=(S,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Pd.has(f)&&Pd.delete(f),rw(S)&&typeof m=="function"&&m(S,{success:E})},v=S=>{g(S,f===window||f===document||n.useGlobalTarget||_T(f,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),gT(h)&&(h.addEventListener("focus",m=>l4(m,a)),!o4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function bT(t){return ME(t)&&"ownerSVGElement"in t}function c4(t){return bT(t)&&t.tagName==="svg"}const Ln=t=>!!(t&&t.getVelocity),h4=[...dT,rn,Gs],d4=t=>h4.find(hT(t)),Lv=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function f4(...t){return e=>{let n=!1;const r=t.map(a=>{const o=sw(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():sw(t[a],null)}}}}function p4(...t){return M.useCallback(f4(...t),t)}class m4 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=gT(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g4({children:t,isPresent:e,anchorX:n,root:r}){const a=M.useId(),o=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=M.useContext(Lv),f=p4(o,t?.ref);return M.useInsertionEffect(()=>{const{width:m,height:g,top:v,left:w,right:S}=u.current;if(e||!o.current||!m||!g)return;const E=n==="left"?`left: ${w}`:`right: ${S}`;o.current.dataset.motionPopId=a;const T=document.createElement("style");h&&(T.nonce=h);const j=r??document.head;return j.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{j.contains(T)&&j.removeChild(T)}},[e]),y.jsx(m4,{isPresent:e,childRef:o,sizeRef:u,children:M.cloneElement(t,{ref:f})})}const y4=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,root:f})=>{const m=rv(v4),g=M.useId();let v=!0,w=M.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:S=>{m.set(S,!0);for(const E of m.values())if(!E)return;r&&r()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[n,m,r]);return o&&v&&(w={...w}),M.useMemo(()=>{m.forEach((S,E)=>m.set(E,!1))},[n]),M.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),u==="popLayout"&&(t=y.jsx(g4,{isPresent:n,anchorX:h,root:f,children:t})),y.jsx(_f.Provider,{value:w,children:t})};function v4(){return new Map}function xT(t=!0){const e=M.useContext(_f);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,o=M.useId();M.useEffect(()=>{if(t)return a(o)},[t]);const u=M.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,u]:[!0]}const Ld=t=>t.key||"";function aw(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const _4=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[m,g]=xT(u),v=M.useMemo(()=>aw(t),[t]),w=u&&!m?[]:v.map(Ld),S=M.useRef(!0),E=M.useRef(v),T=rv(()=>new Map),[j,O]=M.useState(v),[P,N]=M.useState(v);jE(()=>{S.current=!1,E.current=v;for(let I=0;I<P.length;I++){const K=Ld(P[I]);w.includes(K)?T.delete(K):T.get(K)!==!0&&T.set(K,!1)}},[P,w.length,w.join("-")]);const V=[];if(v!==j){let I=[...v];for(let K=0;K<P.length;K++){const oe=P[K],ee=Ld(oe);w.includes(ee)||(I.splice(K,0,oe),V.push(oe))}return o==="wait"&&V.length&&(I=V),N(aw(I)),O(v),null}const{forceRender:q}=M.useContext(iv);return y.jsx(y.Fragment,{children:P.map(I=>{const K=Ld(I),oe=u&&!m?!1:v===P||w.includes(K),ee=()=>{if(T.has(K))T.set(K,!0);else return;let he=!0;T.forEach(Q=>{Q||(he=!1)}),he&&(q?.(),N(E.current),u&&g?.(),r&&r())};return y.jsx(y4,{isPresent:oe,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:f,onExitComplete:oe?void 0:ee,anchorX:h,children:I},K)})})},wT=M.createContext({strict:!1}),ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const t in ow)xl[t]={isEnabled:e=>ow[t].some(n=>!!e[n])};function b4(t){for(const e in t)xl[e]={...xl[e],...t[e]}}const x4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x4.has(t)}let ST=t=>!Jd(t);function w4(t){typeof t=="function"&&(ST=e=>e.startsWith("on")?!Jd(e):t(e))}try{w4(require("@emotion/is-prop-valid").default)}catch{}function S4(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(ST(a)||n===!0&&Jd(a)||!e&&!Jd(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const bf=M.createContext({});function xf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xc(t){return typeof t=="string"||Array.isArray(t)}const Av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kv=["initial",...Av];function wf(t){return xf(t.animate)||kv.some(e=>xc(t[e]))}function CT(t){return!!(wf(t)||t.variants)}function C4(t,e){if(wf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xc(n)?n:void 0,animate:xc(r)?r:void 0}}return t.inherit!==!1?e:{}}function E4(t){const{initial:e,animate:n}=C4(t,M.useContext(bf));return M.useMemo(()=>({initial:e,animate:n}),[lw(e),lw(n)])}function lw(t){return Array.isArray(t)?t.join(" "):t}const wc={};function T4(t){for(const e in t)wc[e]=t[e],fv(e)&&(wc[e].isCSSVariable=!0)}function ET(t,{layout:e,layoutId:n}){return Ml.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wc[t]||t==="opacity")}const L4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A4=Ol.length;function k4(t,e,n){let r="",a=!0;for(let o=0;o<A4;o++){const u=Ol[o],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=mT(h,Cv[u]);if(!f){a=!1;const g=L4[u]||u;r+=`${g}(${m}) `}n&&(e[u]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function jv(t,e,n){const{style:r,vars:a,transformOrigin:o}=t;let u=!1,h=!1;for(const f in e){const m=e[f];if(Ml.has(f)){u=!0;continue}else if(fv(f)){a[f]=m;continue}else{const g=mT(m,Cv[f]);f.startsWith("origin")?(h=!0,o[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=k4(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=o;r.transformOrigin=`${f} ${m} ${g}`}}const Ov=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TT(t,e,n){for(const r in e)!Ln(e[r])&&!ET(r,n)&&(t[r]=e[r])}function j4({transformTemplate:t},e){return M.useMemo(()=>{const n=Ov();return jv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function O4(t,e){const n=t.style||{},r={};return TT(r,n,t),Object.assign(r,j4(t,e)),r}function M4(t,e){const n={},r=O4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const N4={offset:"stroke-dashoffset",array:"stroke-dasharray"},P4={offset:"strokeDashoffset",array:"strokeDasharray"};function R4(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?N4:P4;t[o.offset]=$e.transform(-r);const u=$e.transform(e),h=$e.transform(n);t[o.array]=`${u} ${h}`}function LT(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},f,m,g){if(jv(t,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&R4(v,a,o,u,!1)}const AT=()=>({...Ov(),attrs:{}}),kT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function D4(t,e,n,r){const a=M.useMemo(()=>{const o=AT();return LT(o,e,kT(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};TT(o,t.style,t),a.style={...o,...a.style}}return a}const z4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mv(t){return typeof t!="string"||t.includes("-")?!1:!!(z4.indexOf(t)>-1||/[A-Z]/u.test(t))}function B4(t,e,n,{latestValues:r},a,o=!1){const h=(Mv(t)?D4:M4)(e,r,a,t),f=S4(e,typeof t=="string",o),m=t!==M.Fragment?{...f,...h,ref:n}:{},{children:g}=e,v=M.useMemo(()=>Ln(g)?g.get():g,[g]);return M.createElement(t,{...m,children:v})}function uw(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Nv(t,e,n,r){if(typeof e=="function"){const[a,o]=uw(r);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=uw(r);e=e(n!==void 0?n:t.custom,a,o)}return e}function Rd(t){return Ln(t)?t.get():t}function I4({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:U4(n,r,a,t),renderState:e()}}function U4(t,e,n,r){const a={},o=r(t,{});for(const w in o)a[w]=Rd(o[w]);let{initial:u,animate:h}=t;const f=wf(t),m=CT(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!xf(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const E=Nv(t,w[S]);if(E){const{transitionEnd:T,transition:j,...O}=E;for(const P in O){let N=O[P];if(Array.isArray(N)){const V=g?N.length-1:0;N=N[V]}N!==null&&(a[P]=N)}for(const P in T)a[P]=T[P]}}}return a}const jT=t=>(e,n)=>{const r=M.useContext(bf),a=M.useContext(_f),o=()=>I4(t,e,r,a);return n?o():rv(o)};function Pv(t,e,n){const{style:r}=t,a={};for(const o in r)(Ln(r[o])||e.style&&Ln(e.style[o])||ET(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const V4=jT({scrapeMotionValuesFromProps:Pv,createRenderState:Ov});function OT(t,e,n){const r=Pv(t,e,n);for(const a in t)if(Ln(t[a])||Ln(e[a])){const o=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=t[a]}return r}const H4=jT({scrapeMotionValuesFromProps:OT,createRenderState:AT}),F4=Symbol.for("motionComponentSymbol");function al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $4(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):al(n)&&(n.current=r))},[e])}const Rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q4="framerAppearId",MT="data-"+Rv(q4),NT=M.createContext({});function Z4(t,e,n,r,a){const{visualElement:o}=M.useContext(bf),u=M.useContext(wT),h=M.useContext(_f),f=M.useContext(Lv).reducedMotion,m=M.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,v=M.useContext(NT);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&G4(m.current,n,a,v);const w=M.useRef(!1);M.useInsertionEffect(()=>{g&&w.current&&g.update(n,h)});const S=n[MT],E=M.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return jE(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),M.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),E.current=!1),g.enteringChildren=void 0)}),g}function G4(t,e,n,r){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PT(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&al(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:m})}function PT(t){if(t)return t.options.allowProjection!==!1?t.projection:PT(t.parent)}function hg(t,{forwardMotionProps:e=!1}={},n,r){n&&b4(n);const a=Mv(t)?H4:V4;function o(h,f){let m;const g={...M.useContext(Lv),...h,layoutId:K4(h)},{isStatic:v}=g,w=E4(h),S=a(h,v);if(!v&&sv){W4();const E=Y4(g);m=E.MeasureLayout,w.visualElement=Z4(t,S,g,r,E.ProjectionNode)}return y.jsxs(bf.Provider,{value:w,children:[m&&w.visualElement?y.jsx(m,{visualElement:w.visualElement,...g}):null,B4(t,h,$4(S,w.visualElement,f),S,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(o);return u[F4]=t,u}function K4({layoutId:t}){const e=M.useContext(iv).id;return e&&t!==void 0?e+"-"+t:t}function W4(t,e){M.useContext(wT).strict}function Y4(t){const{drag:e,layout:n}=xl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function X4(t,e){if(typeof Proxy>"u")return hg;const n=new Map,r=(o,u)=>hg(o,u,t,e),a=(o,u)=>r(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?r:(n.has(u)||n.set(u,hg(u,void 0,t,e)),n.get(u))})}function RT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function J4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dg(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!dg(t)||!dg(e)||!dg(n)}function Ha(t){return fy(t)||DT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DT(t){return cw(t.x)||cw(t.y)}function cw(t){return t&&t!=="0%"}function Qd(t,e,n){const r=t-n,a=e*r;return n+a}function hw(t,e,n,r,a){return a!==void 0&&(t=Qd(t,a,r)),Qd(t,n,r)+e}function py(t,e=0,n=1,r,a){t.min=hw(t.min,e,n,r,a),t.max=hw(t.max,e,n,r,a)}function zT(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}const dw=.999999999999,fw=1.0000000000001;function eB(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ll(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,zT(t,u)),r&&Ha(o.latestValues)&&ll(t,o.latestValues))}e.x<fw&&e.x>dw&&(e.x=1),e.y<fw&&e.y>dw&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function pw(t,e,n,r,a=.5){const o=It(t.min,t.max,a);py(t,e,n,o,r)}function ll(t,e){pw(t.x,e.x,e.scaleX,e.scale,e.originX),pw(t.y,e.y,e.scaleY,e.scale,e.originY)}function BT(t,e){return RT(Q4(t.getBoundingClientRect(),e))}function tB(t,e,n){const r=BT(t,n),{scroll:a}=e;return a&&(ol(r.x,a.offset.x),ol(r.y,a.offset.y)),r}const mw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:mw(),y:mw()}),gw=()=>({min:0,max:0}),Kt=()=>({x:gw(),y:gw()}),my={current:null},IT={current:!1};function nB(){if(IT.current=!0,!!sv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const iB=new WeakMap;function rB(t,e,n){for(const r in e){const a=e[r],o=n[r];if(Ln(a))t.addValue(r,a);else if(Ln(o))t.addValue(r,bl(a,{owner:t}));else if(o!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,bl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const yw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Yn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Pt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=wf(n),this.isVariantNode=CT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];f[w]!==void 0&&Ln(S)&&S.set(f[w])}}mount(e){this.current=e,iB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IT.current||nB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zs(this.notifyUpdate),Zs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ml.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xl){const n=xl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yw.length;r++){const a=yw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=rB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(OE(r)||NE(r))?r=parseFloat(r):!d4(r)&&Gs.test(n)&&(r=pT(e,n)),this.setBaseTarget(e,Ln(r)?r.get():r)),Ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Nv(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ln(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ev.render(this.render)}}class UT extends sB{constructor(){super(...arguments),this.KeyframeResolver=e4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VT(t,{style:e,vars:n},r,a){const o=t.style;let u;for(u in e)o[u]=e[u];a?.applyProjectionStyles(o,r);for(u in n)o.setProperty(u,n[u])}function aB(t){return window.getComputedStyle(t)}class oB extends UT{constructor(){super(...arguments),this.type="html",this.renderInstance=VT}readValueFromInstance(e,n){if(Ml.has(n))return this.projection?.isProjecting?ay(n):_3(e,n);{const r=aB(e),a=(fv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BT(e,n)}build(e,n,r){jv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Pv(e,n,r)}}const HT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lB(t,e,n,r){VT(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(HT.has(a)?a:Rv(a),e.attrs[a])}class uB extends UT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ml.has(n)){const r=fT(n);return r&&r.default||0}return n=HT.has(n)?n:Rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return OT(e,n,r)}build(e,n,r){LT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){lB(e,n,r,a)}mount(e){this.isSVGTag=kT(e.tagName),super.mount(e)}}const cB=(t,e)=>Mv(t)?new uB(e):new oB(e,{allowProjection:t!==M.Fragment});function pl(t,e,n){const r=t.getProps();return Nv(r,e,n!==void 0?n:r.custom,t)}const gy=t=>Array.isArray(t);function hB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bl(n))}function dB(t){return gy(t)?t[t.length-1]||0:t}function fB(t,e){const n=pl(t,e);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const u in o){const h=dB(o[u]);hB(t,u,h)}}function pB(t){return!!(Ln(t)&&t.add)}function yy(t,e){const n=t.getValue("willChange");if(pB(n))return n.add(e);if(!n&&ts.WillChange){const r=new ts.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function FT(t){return t.props[MT]}const mB=t=>t!==null;function gB(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(mB),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const yB={type:"spring",stiffness:500,damping:25,restSpeed:10},vB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_B={type:"keyframes",duration:.8},bB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xB=(t,{keyframes:e})=>e.length>2?_B:Ml.has(t)?t.startsWith("scale")?vB(e[1]):yB:bB;function wB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Dv=(t,e,n,r={},a,o)=>u=>{const h=Sv(r,t)||{},f=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-br(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:a};wB(h)||Object.assign(g,xB(t,g)),g.duration&&(g.duration=br(g.duration)),g.repeatDelay&&(g.repeatDelay=br(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(hy(g),g.delay===0&&(v=!0)),(ts.instantAnimations||ts.skipAnimations)&&(v=!0,hy(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const w=gB(g.keyframes,h);if(w!==void 0){Pt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new xv(g):new H3(g)};function SB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $T(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(o=r);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),w=h[g];if(w===void 0||m&&SB(m,g))continue;const S={delay:n,...Sv(o||{},g)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===E&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const O=FT(t);if(O){const P=window.MotionHandoffAnimation(O,g,Pt);P!==null&&(S.startTime=P,T=!0)}}yy(t,g),v.start(Dv(g,v,w,t.shouldReduceMotion&&cT.has(g)?{type:!1}:S,t,T));const j=v.animation;j&&f.push(j)}return u&&Promise.all(f).then(()=>{Pt.update(()=>{u&&fB(t,u)})}),f}function qT(t,e,n,r=0,a=1){const o=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(o,u):a===1?o*r:h-o*r}function vy(t,e,n={}){const r=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all($T(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return CB(t,e,f,m,g,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,m]=h==="beforeChildren"?[o,u]:[u,o];return f().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function CB(t,e,n=0,r=0,a=0,o=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(vy(f,e,{...u,delay:n+(typeof r=="function"?0:r)+qT(t.variantChildren,f,r,a,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function EB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>vy(t,o,n));r=Promise.all(a)}else if(typeof e=="string")r=vy(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;r=Promise.all($T(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ZT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const TB=kv.length;function GT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<TB;n++){const r=kv[n],a=t.props[r];(xc(a)||a===!1)&&(e[r]=a)}return e}const LB=[...Av].reverse(),AB=Av.length;function kB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EB(t,n,r)))}function jB(t){let e=kB(t),n=vw(),r=!0;const a=f=>(m,g)=>{const v=pl(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...E}=v;m={...m,...E,...S}}return m};function o(f){e=f(t)}function u(f){const{props:m}=t,g=GT(t.parent)||{},v=[],w=new Set;let S={},E=1/0;for(let j=0;j<AB;j++){const O=LB[j],P=n[O],N=m[O]!==void 0?m[O]:g[O],V=xc(N),q=O===f?P.isActive:null;q===!1&&(E=j);let I=N===g[O]&&N!==m[O]&&V;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),P.protectedKeys={...S},!P.isActive&&q===null||!N&&!P.prevProp||xf(N)||typeof N=="boolean")continue;const K=OB(P.prevProp,N);let oe=K||O===f&&P.isActive&&!I&&V||j>E&&V,ee=!1;const he=Array.isArray(N)?N:[N];let Q=he.reduce(a(O),{});q===!1&&(Q={});const{prevResolvedValues:te={}}=P,pe={...te,...Q},ce=W=>{oe=!0,w.has(W)&&(ee=!0,w.delete(W)),P.needsAnimating[W]=!0;const se=t.getValue(W);se&&(se.liveStyle=!1)};for(const W in pe){const se=Q[W],xe=te[W];if(S.hasOwnProperty(W))continue;let B=!1;gy(se)&&gy(xe)?B=!ZT(se,xe):B=se!==xe,B?se!=null?ce(W):w.add(W):se!==void 0&&w.has(W)?ce(W):P.protectedKeys[W]=!0}P.prevProp=N,P.prevResolvedValues=Q,P.isActive&&(S={...S,...Q}),r&&t.blockInitialAnimation&&(oe=!1);const Y=I&&K;oe&&(!Y||ee)&&v.push(...he.map(W=>{const se={type:O};if(typeof W=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,B=pl(xe,W);if(xe.enteringChildren&&B){const{delayChildren:U}=B.transition||{};se.delay=qT(xe.enteringChildren,t,U)}}return{animation:W,options:se}}))}if(w.size){const j={};if(typeof m.initial!="boolean"){const O=pl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(j.transition=O.transition)}w.forEach(O=>{const P=t.getBaseTarget(O),N=t.getValue(O);N&&(N.liveStyle=!0),j[O]=P??null}),v.push({animation:j})}let T=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(v):Promise.resolve()}function h(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,m)),n[f].isActive=m;const g=u(f);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=vw()}}}function OB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZT(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vw(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Xs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MB extends Xs{constructor(e){super(e),e.animationState||(e.animationState=jB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let NB=0;class PB extends Xs{constructor(){super(...arguments),this.id=NB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RB={animation:{Feature:MB},exit:{Feature:PB}};function Sc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Bc(t){return{point:{x:t.pageX,y:t.pageY}}}const DB=t=>e=>Tv(e)&&t(e,Bc(e));function oc(t,e,n,r){return Sc(t,e,DB(n),r)}const KT=1e-4,zB=1-KT,BB=1+KT,WT=.01,IB=0-WT,UB=0+WT;function Pn(t){return t.max-t.min}function VB(t,e,n){return Math.abs(t-e)<=n}function _w(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zB&&t.scale<=BB||isNaN(t.scale))&&(t.scale=1),(t.translate>=IB&&t.translate<=UB||isNaN(t.translate))&&(t.translate=0)}function lc(t,e,n,r){_w(t.x,e.x,n.x,r?r.originX:void 0),_w(t.y,e.y,n.y,r?r.originY:void 0)}function bw(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function HB(t,e,n){bw(t.x,e.x,n.x),bw(t.y,e.y,n.y)}function xw(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function uc(t,e,n){xw(t.x,e.x,n.x),xw(t.y,e.y,n.y)}function Ai(t){return[t("x"),t("y")]}const YT=({current:t})=>t?t.ownerDocument.defaultView:null,ww=(t,e)=>Math.abs(t-e);function FB(t,e){const n=ww(t.x,e.x),r=ww(t.y,e.y);return Math.sqrt(n**2+r**2)}class XT{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=pg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,E=FB(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!E)return;const{point:T}=w,{timestamp:j}=xn;this.history.push({...T,timestamp:j});const{onStart:O,onMove:P}=this.handlers;S||(O&&O(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=fg(S,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=pg(w.type==="pointercancel"?this.lastMoveEventInfo:fg(S,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,O),T&&T(w,O)},!Tv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=Bc(e),f=fg(h,this.transformPagePoint),{point:m}=f,{timestamp:g}=xn;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,pg(f,this.history)),this.removeListeners=Rc(oc(this.contextWindow,"pointermove",this.handlePointerMove),oc(this.contextWindow,"pointerup",this.handlePointerUp),oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zs(this.updatePoint)}}function fg(t,e){return e?{point:e(t.point)}:t}function Sw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pg({point:t},e){return{point:t,delta:Sw(t,JT(e)),offset:Sw(t,$B(e)),velocity:qB(e,.1)}}function $B(t){return t[0]}function JT(t){return t[t.length-1]}function qB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=JT(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>br(e)));)n--;if(!r)return{x:0,y:0};const o=ji(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ZB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function Cw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function GB(t,{top:e,left:n,bottom:r,right:a}){return{x:Cw(t.x,n,a),y:Cw(t.y,e,r)}}function Ew(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function KB(t,e){return{x:Ew(t.x,e.x),y:Ew(t.y,e.y)}}function WB(t,e){let n=.5;const r=Pn(t),a=Pn(e);return a>r?n=vc(e.min,e.max-r,t.min):r>a&&(n=vc(t.min,t.max-a,e.min)),es(0,1,n)}function YB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _y=.35;function XB(t=_y){return t===!1?t=0:t===!0&&(t=_y),{x:Tw(t,"left","right"),y:Tw(t,"top","bottom")}}function Tw(t,e,n){return{min:Lw(t,e),max:Lw(t,n)}}function Lw(t,e){return typeof t=="number"?t:t[e]||0}const JB=new WeakMap;class QB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bc(v).point)},u=(v,w)=>{const{drag:S,dragPropagation:E,onDragStart:T}=this.getProps();if(S&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r4(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ai(O=>{let P=this.getAxisMotionValue(O).get()||0;if(xr.test(P)){const{projection:N}=this.visualElement;if(N&&N.layout){const V=N.layout.layoutBox[O];V&&(P=Pn(V)*(parseFloat(P)/100))}}this.originPoint[O]=P}),T&&Pt.postRender(()=>T(v,w)),yy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:E,onDirectionLock:T,onDrag:j}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=w;if(E&&this.currentDirection===null){this.currentDirection=e6(O),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,O),this.updateAxis("y",w.point,O),this.visualElement.render(),j&&j(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Ai(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new XT(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:YT(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Pt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Ad(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=ZB(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=GB(r.layoutBox,e):this.constraints=!1,this.elastic=XB(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ai(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=YB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!al(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=tB(r,a.root,this.visualElement.getTransformPagePoint());let u=KB(a.layout.layoutBox,o);if(n){const h=n(J4(u));this.hasMutatedConstraints=!!h,h&&(u=RT(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Ai(g=>{if(!Ad(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,E={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yy(this.visualElement,e),r.start(Dv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ai(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ai(n=>{const{drag:r}=this.getProps();if(!Ad(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];o.set(e[n]-It(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!al(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ai(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=WB({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ai(u=>{if(!Ad(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];h.set(It(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;JB.set(this.visualElement,this);const e=this.visualElement.current,n=oc(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();al(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pt.read(r);const u=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ai(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=_y,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Ad(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function e6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class t6 extends Xs{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new QB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Aw=t=>(e,n)=>{t&&Pt.postRender(()=>t(e,n))};class n6 extends Xs{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new XT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Aw(e),onStart:Aw(n),onMove:r,onEnd:(o,u)=>{delete this.session,a&&Pt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=kw(t,e.target.x),r=kw(t,e.target.y);return`${n}% ${r}%`}},i6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Gs.parse(t);if(a.length>5)return r;const o=Gs.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const m=It(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),o(a)}};let mg=!1;class r6 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;T4(s6),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),mg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:u}=r;return u&&(u.isPresent=o,mg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Pt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;mg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QT(t){const[e,n]=xT(),r=M.useContext(iv);return y.jsx(r6,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(NT),isPresent:e,safeToRemove:n})}const s6={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:i6};function a6(t,e,n){const r=Ln(t)?t:bl(t);return r.start(Dv("",r,e,n)),r.animation}const o6=(t,e)=>t.depth-e.depth;class l6{constructor(){this.children=[],this.isDirty=!1}add(e){av(this.children,e),this.isDirty=!0}remove(e){ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o6),this.isDirty=!1,this.children.forEach(e)}}function u6(t,e){const n=Yn.now(),r=({timestamp:a})=>{const o=a-n;o>=e&&(Zs(r),t(o-e))};return Pt.setup(r,!0),()=>Zs(r)}const e2=["TopLeft","TopRight","BottomLeft","BottomRight"],c6=e2.length,jw=t=>typeof t=="string"?parseFloat(t):t,Ow=t=>typeof t=="number"||$e.test(t);function h6(t,e,n,r,a,o){a?(t.opacity=It(0,n.opacity??1,d6(r)),t.opacityExit=It(e.opacity??1,0,f6(r))):o&&(t.opacity=It(e.opacity??1,n.opacity??1,r));for(let u=0;u<c6;u++){const h=`border${e2[u]}Radius`;let f=Mw(e,h),m=Mw(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Ow(f)===Ow(m)?(t[h]=Math.max(It(jw(f),jw(m),r),0),(xr.test(m)||xr.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function Mw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const d6=t2(0,.5,VE),f6=t2(.5,.95,Oi);function t2(t,e,n){return r=>r<t?0:r>e?1:n(vc(t,e,r))}function Nw(t,e){t.min=e.min,t.max=e.max}function Li(t,e){Nw(t.x,e.x),Nw(t.y,e.y)}function Pw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Rw(t,e,n,r,a){return t-=e,t=Qd(t,1/n,r),a!==void 0&&(t=Qd(t,1/a,r)),t}function p6(t,e=0,n=1,r=.5,a,o=t,u=t){if(xr.test(e)&&(e=parseFloat(e),e=It(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=It(o.min,o.max,r);t===o&&(h-=e),t.min=Rw(t.min,e,n,h,a),t.max=Rw(t.max,e,n,h,a)}function Dw(t,e,[n,r,a],o,u){p6(t,e[n],e[r],e[a],e.scale,o,u)}const m6=["x","scaleX","originX"],g6=["y","scaleY","originY"];function zw(t,e,n,r){Dw(t.x,e,m6,n?n.x:void 0,r?r.x:void 0),Dw(t.y,e,g6,n?n.y:void 0,r?r.y:void 0)}function Bw(t){return t.translate===0&&t.scale===1}function n2(t){return Bw(t.x)&&Bw(t.y)}function Iw(t,e){return t.min===e.min&&t.max===e.max}function y6(t,e){return Iw(t.x,e.x)&&Iw(t.y,e.y)}function Uw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function i2(t,e){return Uw(t.x,e.x)&&Uw(t.y,e.y)}function Vw(t){return Pn(t.x)/Pn(t.y)}function Hw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class v6{constructor(){this.members=[]}add(e){av(this.members,e),e.scheduleRender()}remove(e){if(ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _6(t,e,n){let r="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=n?.z||0;if((a||o||u)&&(r=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:w,skewX:S,skewY:E}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const gg=["","X","Y","Z"],b6=1e3;let x6=0;function yg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function r2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(a||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&r2(r)}function s2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=x6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C6),this.nodes.forEach(A6),this.nodes.forEach(k6),this.nodes.forEach(E6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new l6)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new cv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=bT(u)&&!c4(u),this.instance=u;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=u6(w,250),Dd.hasAnimatedSinceResize&&(Dd.hasAnimatedSinceResize=!1,this.nodes.forEach(qw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||P6,{onLayoutAnimationStart:T,onLayoutAnimationComplete:j}=m.getProps(),O=!this.targetLayout||!i2(this.targetLayout,S),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Sv(E,"layout"),onPlay:T,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,P)}else v||qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($w);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L6),this.nodes.forEach(w6),this.nodes.forEach(S6)):this.nodes.forEach($w),this.clearAllSnapshots();const h=Yn.now();xn.delta=es(0,1e3/60,h-xn.timestamp),xn.timestamp=h,xn.isProcessing=!0,sg.update.process(xn),sg.preRender.process(xn),sg.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T6),this.sharedNodes.forEach(O6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!n2(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ha(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),R6(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Kt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(D6))){const{scroll:m}=this.root;m&&(ol(h.x,m.offset.x),ol(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Kt();if(Li(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Li(h,u),ol(h.x,g.offset.x),ol(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=Kt();Li(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ll(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ha(g.latestValues)&&ll(f,g.latestValues)}return Ha(this.latestValues)&&ll(f,this.latestValues),f}removeTransform(u){const h=Kt();Li(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ha(m.latestValues))continue;fy(m.latestValues)&&m.updateSnapshot();const g=Kt(),v=m.measurePageBox();Li(g,v),zw(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ha(this.latestValues)&&zw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),uc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),zT(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),uc(this.relativeTargetOrigin,this.target,w.target),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||DT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;eB(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Kt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pw(this.prevProjectionDelta.x,this.projectionDelta.x),Pw(this.prevProjectionDelta.y,this.projectionDelta.y)),lc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Hw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Kt(),S=f?f.source:void 0,E=this.layout?this.layout.source:void 0,T=S!==E,j=this.getStack(),O=!j||j.members.length<=1,P=!!(T&&!O&&this.options.crossfade===!0&&!this.path.some(N6));this.animationProgress=0;let N;this.mixTargetDelta=V=>{const q=V/1e3;Zw(v.x,u.x,q),Zw(v.y,u.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M6(this.relativeTarget,this.relativeTargetOrigin,w,q),N&&y6(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Kt()),Li(N,this.relativeTarget)),T&&(this.animationValues=g,h6(g,m,this.latestValues,q,P,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bl(0)),this.currentAnimation=a6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&a2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Kt();const v=Pn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=Pn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}Li(h,f),ll(h,g),lc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new v6),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&yg("z",u,m,this.animationValues);for(let g=0;g<gg.length;g++)yg(`rotate${gg[g]}`,u,m,this.animationValues),yg(`skew${gg[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Rd(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Rd(h?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=_6(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in wc){if(g[E]===void 0)continue;const{correct:T,applyTo:j,isCSSVariable:O}=wc[E],P=v==="none"?g[E]:T(g[E],m);if(j){const N=j.length;for(let V=0;V<N;V++)u[j[V]]=P}else O?this.options.visualElement.renderState.vars[E]=P:u[E]=P}this.options.layoutId&&(u.pointerEvents=m===this?Rd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Fw),this.root.sharedNodes.clear()}}}function w6(t){t.updateLayout()}function S6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Ai(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=Pn(v);v.min=n[g].min,v.max=v.min+w}):a2(a,e.layoutBox,n)&&Ai(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],w=Pn(n[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const u=ul();lc(u,n,e.layoutBox);const h=ul();o?lc(h,t.applyTransform(r,!0),e.measuredBox):lc(h,n,e.layoutBox);const f=!n2(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const S=Kt();uc(S,e.layoutBox,v.layoutBox);const E=Kt();uc(E,n,w.layoutBox),i2(S,E)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function C6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T6(t){t.clearSnapshot()}function Fw(t){t.clearMeasurements()}function $w(t){t.isLayoutDirty=!1}function L6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A6(t){t.resolveTargetDelta()}function k6(t){t.calcProjection()}function j6(t){t.resetSkewAndRotation()}function O6(t){t.removeLeadSnapshot()}function Zw(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Gw(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function M6(t,e,n,r){Gw(t.x,e.x,n.x,r),Gw(t.y,e.y,n.y,r)}function N6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const P6={duration:.45,ease:[.4,0,.1,1]},Kw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ww=Kw("applewebkit/")&&!Kw("chrome/")?Math.round:Oi;function Yw(t){t.min=Ww(t.min),t.max=Ww(t.max)}function R6(t){Yw(t.x),Yw(t.y)}function a2(t,e,n){return t==="position"||t==="preserve-aspect"&&!VB(Vw(e),Vw(n),.2)}function D6(t){return t!==t.root&&t.scroll?.wasRoot}const z6=s2({attachResizeListener:(t,e)=>Sc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},o2=s2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new z6({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),B6={pan:{Feature:n6},drag:{Feature:t6,ProjectionNode:o2,MeasureLayout:QT}};function Xw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&Pt.postRender(()=>o(e,Bc(e)))}class I6 extends Xs{mount(){const{current:e}=this.node;e&&(this.unmount=s4(e,(n,r)=>(Xw(this.node,r,"Start"),a=>Xw(this.node,a,"End"))))}unmount(){}}class U6 extends Xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rc(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&Pt.postRender(()=>o(e,Bc(e)))}class V6 extends Xs{mount(){const{current:e}=this.node;e&&(this.unmount=u4(e,(n,r)=>(Jw(this.node,r,"Start"),(a,{success:o})=>Jw(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,_g=new WeakMap,H6=t=>{const e=by.get(t.target);e&&e(t)},F6=t=>{t.forEach(H6)};function $6({root:t,...e}){const n=t||document;_g.has(n)||_g.set(n,{});const r=_g.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(F6,{root:t,...e})),r[a]}function q6(t,e,n){const r=$6(e);return by.set(t,n),r.observe(t),()=>{by.delete(t),r.unobserve(t)}}const Z6={some:0,all:1};class G6 extends Xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Z6[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=m?g:v;w&&w(f)};return q6(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(K6(e,n))&&this.startObserver()}unmount(){}}function K6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W6={inView:{Feature:G6},tap:{Feature:V6},focus:{Feature:U6},hover:{Feature:I6}},Y6={layout:{ProjectionNode:o2,MeasureLayout:QT}},X6={...RB,...W6,...B6,...Y6},Qw=X4(X6,cB),l2=({marker:t,onClose:e})=>{const n=dz(),{organizationLogo:r}=Ws(),{isFavorite:a,toggleFavorite:o}=uf();return M.useEffect(()=>(n&&n.dragging.disable(),()=>{n&&n.dragging.enable()}),[n]),t?wC.createPortal(y.jsxs(_4,{children:[y.jsx(Qw.div,{className:"bottom-sheet-backdrop",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}},"backdrop"),y.jsxs(Qw.div,{className:"bottom-sheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.25,onDragEnd:(u,h)=>{h.offset.y>100&&e()},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[y.jsx("div",{className:"handle"}),y.jsxs("div",{className:"content",children:[y.jsx("div",{className:"w-20 h-20 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:y.jsx("img",{src:jc(t.logo,r),alt:t.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[y.jsx("div",{className:"text-base font-semibold text-gray-900",children:t.name}),t.companyId&&y.jsx(Oc,{isFavorite:a(t.companyId),onToggle:()=>o(t.companyId),size:"md"})]}),t.glyph&&y.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Booth ",t.glyph]}),t.website&&y.jsx("div",{className:"text-sm mb-1",children:y.jsx("a",{href:t.website.startsWith("http")?t.website:`https://${t.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:t.website})}),t.info&&y.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",children:t.info}),y.jsx("button",{onClick:e,className:"mt-4 w-full bg-gray-200 py-2 rounded-md text-gray-700 font-medium hover:bg-gray-300",children:"Close"})]})]},"sheet")]}),document.body):null},J6=({marker:t,organizationLogo:e})=>{const n=t.name||t.companyId;return y.jsxs("div",{className:"flex items-center gap-2 p-1",children:[n&&y.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white rounded-sm border border-gray-200 overflow-hidden",children:y.jsx("img",{src:jc(t.logo,e),alt:"",className:"max-w-[70%] max-h-[70%] object-contain"})}),y.jsxs("div",{className:"flex flex-col min-w-0",children:[t.glyph&&y.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Booth ",t.glyph]}),t.name?y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}):y.jsx("div",{className:"text-xs font-medium text-gray-500 italic",children:"Unassigned"})]})]})},Q6=({marker:t,organizationLogo:e})=>{const n=t.name||t.companyId,{isFavorite:r,toggleFavorite:a}=uf();return y.jsx(vf,{closeButton:!0,className:"marker-popup-scrollable",autoPan:!0,maxWidth:320,minWidth:240,children:y.jsx("div",{className:"popup-scroll-container",children:y.jsxs("div",{className:"popup-scroll-content",children:[n&&y.jsx("div",{className:"w-24 h-24 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden flex-shrink-0",children:y.jsx("img",{src:jc(t.logo,e),alt:t.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),t.name?y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[y.jsx("div",{className:"text-base font-semibold text-gray-900",children:t.name}),t.companyId&&y.jsx(Oc,{isFavorite:r(t.companyId),onToggle:()=>a(t.companyId),size:"sm"})]}):y.jsx("div",{className:"text-base font-semibold text-gray-500 italic mb-1",children:"Unassigned Booth"}),t.glyph&&y.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Booth ",t.glyph]}),t.website&&y.jsx("div",{className:"text-sm mb-2",children:y.jsx("a",{href:t.website.startsWith("http")?t.website:`https://${t.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",style:{wordBreak:"break-all"},children:t.website})}),t.info&&y.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:t.info})]})})})},eI=({marker:t,onMoreInfo:e,organizationLogo:n})=>{const r=t.name||t.companyId;return y.jsx(vf,{closeButton:!0,className:"marker-popup",autoPan:!0,children:y.jsxs("div",{className:"p-2 text-center",children:[r&&y.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:y.jsx("img",{src:jc(t.logo,n),alt:"",className:"max-w-[80%] max-h-[80%] object-contain"})}),t.name?y.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:t.name}):y.jsx("div",{className:"font-semibold text-gray-500 italic text-sm",children:"Unassigned Booth"}),t.glyph&&y.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:["Booth ",t.glyph]}),r&&y.jsx("button",{onClick:e,className:"bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full hover:bg-blue-600",children:"More Info"})]})})},u2=({marker:t,onMoreInfo:e,isMobile:n,organizationLogo:r})=>{const a=t&&(t.glyph!==void 0&&t.glyph!==null&&t.glyph!==""||t.name);return y.jsxs(y.Fragment,{children:[!n&&y.jsxs(y.Fragment,{children:[a&&y.jsx(gz,{direction:"top",offset:[0,-10],opacity:.95,children:y.jsx(J6,{marker:t,organizationLogo:r})}),y.jsx(Q6,{marker:t,organizationLogo:r})]}),n&&y.jsx(eI,{marker:t,onMoreInfo:e,organizationLogo:r})]})};function c2({marker:t,subscriptions:e,assignments:n,onAssign:r,onUnassign:a,isLoading:o,onClose:u}){const[h,f]=M.useState(""),m=M.useRef(null),g=n.find(E=>E.marker_id===t.id),v=e.filter(E=>{const T=n.filter(N=>N.company_id===E.company_id),j=T.length,O=E.booth_count||1;return!T.some(N=>N.marker_id===t.id)&&j<O}).map(E=>{const j=n.filter(N=>N.company_id===E.company_id).length,O=E.booth_count||1,P=O-j;return{id:E.company_id,name:E.company?.name||"Unknown Company",logo:E.company?.logo||null,website:E.company?.website||null,assignedBooths:j,totalBooths:O,remainingBooths:P}}).filter(E=>E.name.toLowerCase().includes(h.toLowerCase()));M.useEffect(()=>{m.current&&m.current.focus()},[]);const w=async E=>{await r(t.id,E),u()},S=async()=>{g&&(await a(t.id,g.company_id),u())};return y.jsxs("div",{className:"p-2",children:[y.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-300",children:y.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[y.jsx(Ae,{path:Ka,size:.8,className:"text-blue-600"}),t.name||`Marker ${t.id}`]})}),g&&(()=>{const T=n.filter(P=>P.company_id===g.company_id).length,O=e.find(P=>P.company_id===g.company_id)?.booth_count||1;return y.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-200",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[g.company?.logo?y.jsx("img",{src:Ji(g.company.logo),alt:g.company.name,className:"w-8 h-8 object-contain flex-shrink-0"}):y.jsx(Ae,{path:Ka,size:1.2,className:"text-gray-400 flex-shrink-0"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:g.company?.name||"Unknown"}),y.jsxs("div",{className:"text-xs text-gray-600",children:["Using ",T," of ",O," booth",O!==1?"s":""]})]})]}),y.jsx("button",{onClick:S,disabled:o,className:"ml-2 px-2 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Unassign company",children:y.jsx(Ae,{path:Qa,size:.55,className:"inline"})})]})})})(),v.length>5&&y.jsxs("div",{className:"mb-2 relative",children:[y.jsx(Ae,{path:io,size:.65,className:"absolute left-2 top-2 text-gray-400"}),y.jsx("input",{ref:m,type:"text",value:h,onChange:E=>f(E.target.value),placeholder:"Search companies...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),y.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?y.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:h?"No companies match your search":g?"No other companies available":"No subscribed companies available"}):y.jsx("div",{className:"space-y-1",children:v.map(E=>y.jsxs("button",{onClick:()=>w(E.id),disabled:o,className:"w-full flex items-center gap-2 p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",title:`Assign ${E.name} (${E.remainingBooths} booth${E.remainingBooths!==1?"s":""} available)`,children:[E.logo?y.jsx("img",{src:Ji(E.logo),alt:E.name,className:"w-8 h-8 object-contain flex-shrink-0"}):y.jsx(Ae,{path:Ka,size:1.2,className:"text-gray-400 flex-shrink-0"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-sm text-gray-800 truncate",children:E.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:[E.remainingBooths," of ",E.totalBooths," booth",E.totalBooths!==1?"s":""," available"]})]})]},E.id))})}),o&&y.jsx("div",{className:"mt-2 text-xs text-center text-blue-600",children:"Processing..."})]})}function Sf(t=new Date().getFullYear()){const[e,n]=M.useState([]),[r,a]=M.useState(!0),[o,u]=M.useState(null),h=M.useRef(t);M.useEffect(()=>{h.current=t},[t]);const f=M.useCallback(async P=>{try{a(!0),u(null);const N=P!==void 0?P:h.current,{data:V,error:q}=await Te.from("assignments").select(`
          *,
          company:companies(id, name, logo, website, info),
          marker:Markers_Core(id, lat, lng)
        `).eq("event_year",N).order("marker_id",{ascending:!0});if(q)throw q;n(V||[])}catch(N){console.error("Error loading assignments:",N),u(N.message)}finally{a(!1)}},[]),m=M.useCallback(async P=>{try{const N={...P,event_year:P.event_year||t},{data:V,error:q}=await Te.from("assignments").insert([N]).select(`
          *,
          company:companies(id, name, logo, website, info),
          marker:Markers_Core(id, lat, lng)
        `).single();if(q)throw q;return n(I=>[...I,V].sort((K,oe)=>K.marker_id-oe.marker_id)),{data:V,error:null}}catch(N){return console.error("Error creating assignment:",N),{data:null,error:N.message}}},[t]),g=M.useCallback(async(P,N)=>{try{const{data:V,error:q}=await Te.from("assignments").update(N).eq("id",P).select(`
          *,
          company:companies(id, name, logo, website, info),
          marker:Markers_Core(id, lat, lng)
        `).single();if(q)throw q;return n(I=>I.map(K=>K.id===P?V:K).sort((K,oe)=>K.marker_id-oe.marker_id)),{data:V,error:null}}catch(V){return console.error("Error updating assignment:",V),{data:null,error:V.message}}},[]),v=M.useCallback(async P=>{try{const{error:N}=await Te.from("assignments").delete().eq("id",P);if(N)throw N;return n(V=>V.filter(q=>q.id!==P)),{error:null}}catch(N){return console.error("Error deleting assignment:",N),{error:N.message}}},[]),w=M.useCallback(async(P,N)=>m({marker_id:P,company_id:N}),[m]),S=M.useCallback(async(P,N)=>{try{const{error:V}=await Te.from("assignments").delete().eq("marker_id",P).eq("company_id",N).eq("event_year",t);if(V)throw V;return n(q=>q.filter(I=>!(I.marker_id===P&&I.company_id===N))),{error:null}}catch(V){return console.error("Error unassigning company:",V),{error:V.message}}},[t]),E=M.useCallback(P=>e.filter(N=>N.marker_id===P),[e]),T=M.useCallback(P=>e.filter(N=>N.company_id===P),[e]),j=M.useCallback(async()=>{try{const{data:P,error:N}=await Te.rpc("archive_assignments",{year_to_archive:t});if(N)throw N;return n([]),{data:P,error:null}}catch(P){return console.error("Error archiving assignments:",P),{data:null,error:P.message}}},[t]),O=M.useCallback(async P=>{try{const{data:N,error:V}=await Te.from("assignments_archive").select(`
          *,
          company:companies(id, name, logo, website, info)
        `).eq("event_year",P).order("marker_id",{ascending:!0});if(V)throw V;return{data:N,error:null}}catch(N){return console.error("Error loading archived assignments:",N),{data:null,error:N.message}}},[]);return M.useEffect(()=>{f()},[f]),M.useEffect(()=>{f()},[t,f]),M.useEffect(()=>{const P=Te.channel(`assignments-changes-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"assignments",filter:`event_year=eq.${t}`},N=>{N.eventType==="INSERT"&&N.new?n(V=>(V.some(I=>I.id===N.new.id)||f(),V)):f()}).subscribe();return()=>{Te.removeChannel(P)}},[t,f]),{assignments:e,loading:r,error:o,createAssignment:m,updateAssignment:g,deleteAssignment:v,assignCompanyToMarker:w,unassignCompanyFromMarker:S,getMarkerAssignments:E,getCompanyAssignments:T,archiveCurrentYear:j,loadArchivedAssignments:O,reload:f}}function zv({isOpen:t,title:e,message:n,confirmText:r,cancelText:a,onConfirm:o,onCancel:u,variant:h}){if(!t)return null;const f={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",default:"bg-blue-600 hover:bg-blue-700"},m=f[h]||f.default;return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:u,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",onClick:g=>g.stopPropagation(),children:[e&&y.jsx("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-gray-900 mb-2",children:e}),y.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:a}),y.jsx("button",{onClick:o,className:`px-4 py-2 text-white rounded-md transition-colors ${m}`,autoFocus:!0,children:r})]})]})})}zv.propTypes={isOpen:ke.bool.isRequired,title:ke.string,message:ke.string.isRequired,confirmText:ke.string,cancelText:ke.string,onConfirm:ke.func.isRequired,onCancel:ke.func.isRequired,variant:ke.oneOf(["default","danger","warning"])};zv.defaultProps={title:null,confirmText:"Confirm",cancelText:"Cancel",variant:"default"};function Bv({message:t,type:e,onClose:n,duration:r}){M.useEffect(()=>{if(r>0){const u=setTimeout(n,r);return()=>clearTimeout(u)}},[r,n]);const a={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},o=a[e]||a.info;return y.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white max-w-sm ${o}`,role:"alert",children:y.jsxs("div",{className:"flex items-center justify-between gap-3",children:[y.jsx("p",{className:"text-sm",children:t}),y.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-lg leading-none","aria-label":"Close",children:""})]})})}Bv.propTypes={message:ke.string.isRequired,type:ke.oneOf(["success","error","warning","info"]),onClose:ke.func.isRequired,duration:ke.number};Bv.defaultProps={type:"info",duration:5e3};const h2=M.createContext(null);function d2({children:t}){const[e,n]=M.useState({isOpen:!1,title:null,message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"default",resolve:null}),[r,a]=M.useState([]),o=M.useCallback(({title:T,message:j,confirmText:O,cancelText:P,variant:N}={})=>new Promise(V=>{n({isOpen:!0,title:T||null,message:j||"",confirmText:O||"Confirm",cancelText:P||"Cancel",variant:N||"default",resolve:V})}),[]),u=M.useCallback(()=>{e.resolve?.(!0),n(T=>({...T,isOpen:!1}))},[e.resolve]),h=M.useCallback(()=>{e.resolve?.(!1),n(T=>({...T,isOpen:!1}))},[e.resolve]),f=M.useCallback(({message:T,type:j="info",duration:O=5e3}={})=>{const P=Date.now()+Math.random();return a(N=>[...N,{id:P,message:T,type:j,duration:O}]),P},[]),m=M.useCallback((T,j)=>f({message:T,type:"success",duration:j}),[f]),g=M.useCallback((T,j)=>f({message:T,type:"error",duration:j}),[f]),v=M.useCallback((T,j)=>f({message:T,type:"warning",duration:j}),[f]),w=M.useCallback((T,j)=>f({message:T,type:"info",duration:j}),[f]),S=M.useCallback(T=>{a(j=>j.filter(O=>O.id!==T))},[]),E={confirm:o,toast:f,toastSuccess:m,toastError:g,toastWarning:v,toastInfo:w};return y.jsxs(h2.Provider,{value:E,children:[t,y.jsx(zv,{isOpen:e.isOpen,title:e.title,message:e.message,confirmText:e.confirmText,cancelText:e.cancelText,variant:e.variant,onConfirm:u,onCancel:h}),y.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:r.map(T=>y.jsx(Bv,{message:T.message,type:T.type,duration:T.duration,onClose:()=>S(T.id)},T.id))})]})}d2.propTypes={children:ke.node.isRequired};function Nl(){const t=M.useContext(h2);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t}function tI({safeMarkers:t,updateMarker:e,isMarkerDraggable:n,selectedYear:r,isAdminView:a,selectedMarkerId:o,onMarkerSelect:u}){const h=nv("md"),[f,m]=M.useState(null),g=a&&o!==void 0?t.find(he=>he.id===o):f,v=a&&u?he=>u(he?he.id:null):m,{organizationLogo:w}=Ws(),[S,E]=M.useState({isOpen:!1,position:null,marker:null}),[T,j]=M.useState(!1),{subscriptions:O}=Pc(r||new Date().getFullYear()),{assignments:P,assignCompanyToMarker:N,unassignCompanyFromMarker:V}=Sf(r||new Date().getFullYear()),{confirm:q}=Nl(),I=M.useCallback(he=>Q=>{const{lat:te,lng:pe}=Q.target.getLatLng();e(he,{lat:te,lng:pe})},[e]),K=M.useCallback(he=>Q=>{a&&(Nt.DomEvent.preventDefault(Q),E({isOpen:!0,position:Q.latlng,marker:he,timestamp:Date.now()}))},[a]),oe=M.useCallback(async(he,Q)=>{const te=P.filter(pe=>pe.marker_id===he);if(te.length>0){const ce=O.find(xe=>xe.company_id===Q)?.company?.name||"this company",Y=t.find(xe=>xe.id===he),H=Y?.glyph||Y?.id||"this booth";let W;if(te.length===1){const xe=te[0].company?.name||"another company";W=`Booth ${H} is already assigned to ${xe}.

Assign ${ce} as an additional company for this booth?`}else{const xe=te.map(B=>B.company?.name).filter(Boolean).join(", ");W=`Booth ${H} is already assigned to ${te.length} companies: ${xe}.

Assign ${ce} as another company for this booth?`}if(!await q({title:"Multiple Assignments",message:W,confirmText:"Assign",variant:"warning"}))return}j(!0);try{await N(he,Q)}catch(pe){console.error("Error assigning company:",pe)}finally{j(!1)}},[N,P,O,t]),ee=M.useCallback(async(he,Q)=>{j(!0);try{await V(he,Q)}catch(te){console.error("Error unassigning company:",te)}finally{j(!1)}},[V]);return y.jsxs(y.Fragment,{children:[t.filter(he=>he.id>=1001).map(he=>{const Q=[he.lat,he.lng],te=tv({className:he.type?`marker-icon marker-type-${he.type}`:"marker-icon",prefix:he.prefix,iconUrl:_l(he.iconUrl||`${he.type||"default"}.svg`),iconSize:Array.isArray(he.iconSize)?he.iconSize:[17,28],glyph:he.glyph||"?",glyphColor:he.glyphColor||"white",glyphSize:he.glyphSize||"12px",glyphAnchor:he.glyphAnchor||[0,-5],isActive:g?.id===he.id}),pe=n(he),ce={popupopen:Y=>Y.target.closeTooltip(),...pe&&{dragend:I(he.id)},...a&&{contextmenu:K(he)}};return y.jsx(kE,{position:Q,icon:te,draggable:pe,eventHandlers:ce,children:y.jsx(u2,{marker:he,isMobile:h,organizationLogo:w,onMoreInfo:()=>{v(he)}})},he.id)}),S.isOpen&&S.marker&&y.jsx(vf,{position:S.position,onClose:()=>E({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:y.jsx(c2,{marker:S.marker,subscriptions:O,assignments:P,onAssign:oe,onUnassign:ee,isLoading:T,onClose:()=>E({isOpen:!1,position:null,marker:null})})},`context-${S.marker.id}-${S.timestamp||Date.now()}`),h&&g&&y.jsx(l2,{marker:g,onClose:()=>v(null)})]})}var Xu={exports:{}},nI=Xu.exports,eS;function iI(){return eS||(eS=1,(function(t,e){(function(n,r){r(e)})(nI,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=o,h=this._zoom;if(o.__parent)for(;u.__parent._zoom>=h;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,u):this._animationAddLayerNonAnimated(o,u)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,u){if(!L.Util.isArray(o))return this.addLayer(o);var h=this._featureGroup,f=this._nonPointGroup,m=this.options.chunkedLoading,g=this.options.chunkInterval,v=this.options.chunkProgress,w=o.length,S=0,E=!0,T;if(this._map){var j=new Date().getTime(),O=L.bind(function(){var N=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();S<w;S++){if(m&&S%200===0){var V=new Date().getTime()-N;if(V>g)break}if(T=o[S],T instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(T,o),w=o.length;continue}if(!T.getLatLng){f.addLayer(T),u||this.fire("layeradd",{layer:T});continue}if(!this.hasLayer(T)&&(this._addLayer(T,this._maxZoom),u||this.fire("layeradd",{layer:T}),T.__parent&&T.__parent.getChildCount()===2)){var q=T.__parent.getAllChildMarkers(),I=q[0]===T?q[1]:q[0];h.removeLayer(I)}}v&&v(S,w,new Date().getTime()-j),S===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(O,this.options.chunkDelay)},this);O()}else for(var P=this._needsClustering;S<w;S++){if(T=o[S],T instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(T,o),w=o.length;continue}if(!T.getLatLng){f.addLayer(T);continue}this.hasLayer(T)||P.push(T)}return this},removeLayers:function(o){var u,h,f=o.length,m=this._featureGroup,g=this._nonPointGroup,v=!0;if(!this._map){for(u=0;u<f;u++){if(h=o[u],h instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(h,o),f=o.length;continue}this._arraySplice(this._needsClustering,h),g.removeLayer(h),this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h})}return this}if(this._unspiderfy){this._unspiderfy();var w=o.slice(),S=f;for(u=0;u<S;u++){if(h=w[u],h instanceof L.LayerGroup){this._extractNonGroupLayers(h,w),S=w.length;continue}this._unspiderfyLayer(h)}}for(u=0;u<f;u++){if(h=o[u],h instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(h,o),f=o.length;continue}if(!h.__parent){g.removeLayer(h),this.fire("layerremove",{layer:h});continue}this._removeLayer(h,!0,!0),this.fire("layerremove",{layer:h}),m.hasLayer(h)&&(m.removeLayer(h),h.clusterShow&&h.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)o.extend(this._needsClustering[u].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,u){var h=this._needsClustering.slice(),f=this._needsRemoving,m,g,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(h),g=h.length-1;g>=0;g--){for(m=!0,v=f.length-1;v>=0;v--)if(f[v].layer===h[g]){m=!1;break}m&&o.call(u,h[g])}this._nonPointGroup.eachLayer(o,u)},getLayers:function(){var o=[];return this.eachLayer(function(u){o.push(u)}),o},getLayer:function(o){var u=null;return o=parseInt(o,10),this.eachLayer(function(h){L.stamp(h)===o&&(u=h)}),u},hasLayer:function(o){if(!o)return!1;var u,h=this._needsClustering;for(u=h.length-1;u>=0;u--)if(h[u]===o)return!0;for(h=this._needsRemoving,u=h.length-1;u>=0;u--)if(h[u].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,u){var h=this._map;typeof u!="function"&&(u=function(){});var f=function(){(h.hasLayer(o)||h.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",f,this),this.off("animationend",f,this),h.hasLayer(o)?u():o.__parent._icon&&(this.once("spiderfied",u,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?u():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var u,h,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,u=0,h=this._needsRemoving.length;u<h;u++)f=this._needsRemoving[u],f.newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(u=0,h=this._needsRemoving.length;u<h;u++)f=this._needsRemoving[u],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),h=this._needsClustering,this._needsClustering=[],this.addLayers(h,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var u=o;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(o,u){for(var h=o.length-1;h>=0;h--)if(o[h]===u)return o.splice(h,1),!0},_removeFromGridUnclustered:function(o,u){for(var h=this._map,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom());u>=m&&f[u].removeObject(o,h.project(o.getLatLng(),u));u--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var u=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),u&&o.target.openPopup()}},_moveChild:function(o,u,h){o._latlng=u,this.removeLayer(o),o._latlng=h,this.addLayer(o)},_childMarkerDragEnd:function(o){var u=o.target.__dragStart;delete o.target.__dragStart,u&&this._moveChild(o.target,u,o.target._latlng)},_removeLayer:function(o,u,h){var f=this._gridClusters,m=this._gridUnclustered,g=this._featureGroup,v=this._map,w=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(o,this._maxZoom);var S=o.__parent,E=S._markers,T;for(this._arraySplice(E,o);S&&(S._childCount--,S._boundsNeedUpdate=!0,!(S._zoom<w));)u&&S._childCount<=1?(T=S._markers[0]===o?S._markers[1]:S._markers[0],f[S._zoom].removeObject(S,v.project(S._cLatLng,S._zoom)),m[S._zoom].addObject(T,v.project(T.getLatLng(),S._zoom)),this._arraySplice(S.__parent._childClusters,S),S.__parent._markers.push(T),T.__parent=S.__parent,S._icon&&(g.removeLayer(S),h||g.addLayer(T))):S._iconNeedsUpdate=!0,S=S.__parent;delete o.__parent},_isOrIsParent:function(o,u){for(;u;){if(o===u)return!0;u=u.parentNode}return!1},fire:function(o,u,h){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,u,h)},listens:function(o,u){return L.FeatureGroup.prototype.listens.call(this,o,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,u)},_defaultIconCreateFunction:function(o){var u=o.getChildCount(),h=" marker-cluster-";return u<10?h+="small":u<100?h+="medium":h+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+h,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,u=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom;(u||f||m)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var u=o.layer,h=u;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;h._childClusters.length===1;)h=h._childClusters[0];h._zoom===this._maxZoom&&h._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,m=this._map;(o||h||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),m.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),h=this.options.maxClusterRadius,f=h;typeof h!="function"&&(f=function(){return h}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var m=o;m>=u;m--)this._gridClusters[m]=new L.DistanceGrid(f(m)),this._gridUnclustered[m]=new L.DistanceGrid(f(m));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(o,u){var h=this._gridClusters,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom()),g,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);u>=m;u--){g=this._map.project(o.getLatLng(),u);var w=h[u].getNearObject(g);if(w){w._addChild(o),o.__parent=w;return}if(w=f[u].getNearObject(g),w){var S=w.__parent;S&&this._removeLayer(w,!1);var E=new this._markerCluster(this,u,w,o);h[u].addObject(E,this._map.project(E._cLatLng,u)),w.__parent=E,o.__parent=E;var T=E;for(v=u-1;v>S._zoom;v--)T=new this._markerCluster(this,v,T),h[v].addObject(T,this._map.project(w.getLatLng(),v));S._addChild(T),this._removeFromGridUnclustered(w,u);return}f[u].addObject(o,g)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var u=this._maxLat;return u!==void 0&&(o.getNorth()>=u&&(o._northEast.lat=1/0),o.getSouth()<=-u&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,u){if(u===o)this._featureGroup.addLayer(o);else if(u._childCount===2){u._addToMap();var h=u.getAllChildMarkers();this._featureGroup.removeLayer(h[0]),this._featureGroup.removeLayer(h[1])}else u._updateIcon()},_extractNonGroupLayers:function(o,u){var h=o.getLayers(),f=0,m;for(u=u||[];f<h.length;f++){if(m=h[f],m instanceof L.LayerGroup){this._extractNonGroupLayers(m,u);continue}u.push(m)}return u},_overrideMarkerIcon:function(o){var u=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,u){this._animationAddLayerNonAnimated(o,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,u){var h=this._getExpandedVisibleBounds(),f=this._featureGroup,m=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(h,o,m,function(v){var w=v._latlng,S=v._markers,E;for(h.contains(w)||(w=null),v._isSingleParent()&&o+1===u?(f.removeLayer(v),v._recursivelyAddChildrenToMap(null,u,h)):(v.clusterHide(),v._recursivelyAddChildrenToMap(w,u,h)),g=S.length-1;g>=0;g--)E=S[g],h.contains(E._latlng)||f.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(h,u),f.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(h,o,u,function(v){v._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(h,o,m,function(v){f.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,u){this._animationZoomOutSingle(this._topClusterLevel,o-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,u){var h=this,f=this._featureGroup;f.addLayer(o),u!==o&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(u.getLatLng())),o.clusterHide(),this._enqueue(function(){f.removeLayer(o),o.clusterShow(),h._animationEnd()})):(this._forceLayout(),h._animationStart(),h._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,u,h){var f=this._getExpandedVisibleBounds(),m=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(f,m,u+1,h);var g=this;this._forceLayout(),o._recursivelyBecomeVisible(f,h),this._enqueue(function(){if(o._childCount===1){var v=o._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else o._recursively(f,h,m,function(w){w._recursivelyRemoveChildrenFromMap(f,m,u+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,u,h,f){L.Marker.prototype.initialize.call(this,h?h._cLatLng||h.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,h&&this._addChild(h),f&&this._addChild(f)},getAllChildMarkers:function(o,u){o=o||[];for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h].getAllChildMarkers(o,u);for(var f=this._markers.length-1;f>=0;f--)u&&this._markers[f].__dragStart||o.push(this._markers[f]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var u=this._childClusters.slice(),h=this._group._map,f=h.getBoundsZoom(this._bounds),m=this._zoom+1,g=h.getZoom(),v;u.length>0&&f>m;){m++;var w=[];for(v=0;v<u.length;v++)w=w.concat(u[v]._childClusters);u=w}f>m?this._group._map.setView(this._latlng,m):f<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(u||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(u||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,u=this._childClusters,h=0,f=0,m=this._childCount,g,v,w,S;if(m!==0){for(this._resetBounds(),g=0;g<o.length;g++)w=o[g]._latlng,this._bounds.extend(w),h+=w.lat,f+=w.lng;for(g=0;g<u.length;g++)v=u[g],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),w=v._wLatLng,S=v._childCount,h+=w.lat*S,f+=w.lng*S;this._latlng=this._wLatLng=new L.LatLng(h/m,f/m),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,u,h){this._recursively(o,this._group._map.getMinZoom(),h-1,function(f){var m=f._markers,g,v;for(g=m.length-1;g>=0;g--)v=m[g],v._icon&&(v._setPos(u),v.clusterHide())},function(f){var m=f._childClusters,g,v;for(g=m.length-1;g>=0;g--)v=m[g],v._icon&&(v._setPos(u),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,u,h,f){this._recursively(o,f,u,function(m){m._recursivelyAnimateChildrenIn(o,m._group._map.latLngToLayerPoint(m.getLatLng()).round(),h),m._isSingleParent()&&h-1===f?(m.clusterShow(),m._recursivelyRemoveChildrenFromMap(o,u,h)):m.clusterHide(),m._addToMap()})},_recursivelyBecomeVisible:function(o,u){this._recursively(o,this._group._map.getMinZoom(),u,null,function(h){h.clusterShow()})},_recursivelyAddChildrenToMap:function(o,u,h){this._recursively(h,this._group._map.getMinZoom()-1,u,function(f){if(u!==f._zoom)for(var m=f._markers.length-1;m>=0;m--){var g=f._markers[m];h.contains(g._latlng)&&(o&&(g._backupLatlng=g.getLatLng(),g.setLatLng(o),g.clusterHide&&g.clusterHide()),f._group._featureGroup.addLayer(g))}},function(f){f._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var u=this._markers.length-1;u>=0;u--){var h=this._markers[u];h._backupLatlng&&(h.setLatLng(h._backupLatlng),delete h._backupLatlng)}if(o-1===this._zoom)for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._restorePosition();else for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,u,h,f){var m,g;this._recursively(o,u-1,h-1,function(v){for(g=v._markers.length-1;g>=0;g--)m=v._markers[g],(!f||!f.contains(m._latlng))&&(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(v){for(g=v._childClusters.length-1;g>=0;g--)m=v._childClusters[g],(!f||!f.contains(m._latlng))&&(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(o,u,h,f,m){var g=this._childClusters,v=this._zoom,w,S;if(u<=v&&(f&&f(this),m&&v===h&&m(this)),v<u||v<h)for(w=g.length-1;w>=0;w--)S=g[w],S._boundsNeedUpdate&&S._recalculateBounds(),o.intersects(S._bounds)&&S._recursively(o,u,h,f,m)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,u){var h=this._getCoord(u.x),f=this._getCoord(u.y),m=this._grid,g=m[f]=m[f]||{},v=g[h]=g[h]||[],w=L.Util.stamp(o);this._objectPoint[w]=u,v.push(o)},updateObject:function(o,u){this.removeObject(o),this.addObject(o,u)},removeObject:function(o,u){var h=this._getCoord(u.x),f=this._getCoord(u.y),m=this._grid,g=m[f]=m[f]||{},v=g[h]=g[h]||[],w,S;for(delete this._objectPoint[L.Util.stamp(o)],w=0,S=v.length;w<S;w++)if(v[w]===o)return v.splice(w,1),S===1&&delete g[h],!0},eachObject:function(o,u){var h,f,m,g,v,w,S,E=this._grid;for(h in E){v=E[h];for(f in v)for(w=v[f],m=0,g=w.length;m<g;m++)S=o.call(u,w[m]),S&&(m--,g--)}},getNearObject:function(o){var u=this._getCoord(o.x),h=this._getCoord(o.y),f,m,g,v,w,S,E,T,j=this._objectPoint,O=this._sqCellSize,P=null;for(f=h-1;f<=h+1;f++)if(v=this._grid[f],v){for(m=u-1;m<=u+1;m++)if(w=v[m],w)for(g=0,S=w.length;g<S;g++)E=w[g],T=this._sqDist(j[L.Util.stamp(E)],o),(T<O||T<=O&&P===null)&&(O=T,P=E)}return P},_getCoord:function(o){var u=Math.floor(o/this._cellSize);return isFinite(u)?u:o},_sqDist:function(o,u){var h=u.x-o.x,f=u.y-o.y;return h*h+f*f}},(function(){L.QuickHull={getDistant:function(o,u){var h=u[1].lat-u[0].lat,f=u[0].lng-u[1].lng;return f*(o.lat-u[0].lat)+h*(o.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(o,u){var h=0,f=null,m=[],g,v,w;for(g=u.length-1;g>=0;g--){if(v=u[g],w=this.getDistant(v,o),w>0)m.push(v);else continue;w>h&&(h=w,f=v)}return{maxPoint:f,newPoints:m}},buildConvexHull:function(o,u){var h=[],f=this.findMostDistantPointFromBaseLine(o,u);return f.maxPoint?(h=h.concat(this.buildConvexHull([o[0],f.maxPoint],f.newPoints)),h=h.concat(this.buildConvexHull([f.maxPoint,o[1]],f.newPoints)),h):[o[0]]},getConvexHull:function(o){var u=!1,h=!1,f=!1,m=!1,g=null,v=null,w=null,S=null,E=null,T=null,j;for(j=o.length-1;j>=0;j--){var O=o[j];(u===!1||O.lat>u)&&(g=O,u=O.lat),(h===!1||O.lat<h)&&(v=O,h=O.lat),(f===!1||O.lng>f)&&(w=O,f=O.lng),(m===!1||O.lng<m)&&(S=O,m=O.lng)}h!==u?(T=v,E=g):(T=S,E=w);var P=[].concat(this.buildConvexHull([T,E],o),this.buildConvexHull([E,T],o));return P}}})(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),u=[],h,f;for(f=o.length-1;f>=0;f--)h=o[f].getLatLng(),u.push(h);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),u=this._group,h=u._map,f=h.latLngToLayerPoint(this._latlng),m;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?m=this._group.options.spiderfyShapePositions(o.length,f):o.length>=this._circleSpiralSwitchover?m=this._generatePointsSpiral(o.length,f):(f.y+=10,m=this._generatePointsCircle(o.length,f)),this._animationSpiderfy(o,m)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,u){var h=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),f=h/this._2PI,m=this._2PI/o,g=[],v,w;for(f=Math.max(f,35),g.length=o,v=0;v<o;v++)w=this._circleStartAngle+v*m,g[v]=new L.Point(u.x+f*Math.cos(w),u.y+f*Math.sin(w))._round();return g},_generatePointsSpiral:function(o,u){var h=this._group.options.spiderfyDistanceMultiplier,f=h*this._spiralLengthStart,m=h*this._spiralFootSeparation,g=h*this._spiralLengthFactor*this._2PI,v=0,w=[],S;for(w.length=o,S=o;S>=0;S--)S<o&&(w[S]=new L.Point(u.x+f*Math.cos(v),u.y+f*Math.sin(v))._round()),v+=m/f+S*5e-4,f+=g/v;return w},_noanimationUnspiderfy:function(){var o=this._group,u=o._map,h=o._featureGroup,f=this.getAllChildMarkers(null,!0),m,g;for(o._ignoreMove=!0,this.setOpacity(1),g=f.length-1;g>=0;g--)m=f[g],h.removeLayer(m),m._preSpiderfyLatlng&&(m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng),m.setZIndexOffset&&m.setZIndexOffset(0),m._spiderLeg&&(u.removeLayer(m._spiderLeg),delete m._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:f}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,u){var h=this._group,f=h._map,m=h._featureGroup,g=this._group.options.spiderLegPolylineOptions,v,w,S,E;for(h._ignoreMove=!0,v=0;v<o.length;v++)E=f.layerPointToLatLng(u[v]),w=o[v],S=new L.Polyline([this._latlng,E],g),f.addLayer(S),w._spiderLeg=S,w._preSpiderfyLatlng=w._latlng,w.setLatLng(E),w.setZIndexOffset&&w.setZIndexOffset(1e6),m.addLayer(w);this.setOpacity(.3),h._ignoreMove=!1,h.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,u){var h=this,f=this._group,m=f._map,g=f._featureGroup,v=this._latlng,w=m.latLngToLayerPoint(v),S=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),T=E.opacity,j,O,P,N,V,q;for(T===void 0&&(T=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),S?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=T,f._ignoreMove=!0,j=0;j<o.length;j++)O=o[j],q=m.layerPointToLatLng(u[j]),P=new L.Polyline([v,q],E),m.addLayer(P),O._spiderLeg=P,S&&(N=P._path,V=N.getTotalLength()+.1,N.style.strokeDasharray=V,N.style.strokeDashoffset=V),O.setZIndexOffset&&O.setZIndexOffset(1e6),O.clusterHide&&O.clusterHide(),g.addLayer(O),O._setPos&&O._setPos(w);for(f._forceLayout(),f._animationStart(),j=o.length-1;j>=0;j--)q=m.layerPointToLatLng(u[j]),O=o[j],O._preSpiderfyLatlng=O._latlng,O.setLatLng(q),O.clusterShow&&O.clusterShow(),S&&(P=O._spiderLeg,N=P._path,N.style.strokeDashoffset=0,P.setStyle({opacity:T}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:h,markers:o})},200)},_animationUnspiderfy:function(o){var u=this,h=this._group,f=h._map,m=h._featureGroup,g=o?f._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):f.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),w=L.Path.SVG,S,E,T,j,O,P;for(h._ignoreMove=!0,h._animationStart(),this.setOpacity(1),E=v.length-1;E>=0;E--)S=v[E],S._preSpiderfyLatlng&&(S.closePopup(),S.setLatLng(S._preSpiderfyLatlng),delete S._preSpiderfyLatlng,P=!0,S._setPos&&(S._setPos(g),P=!1),S.clusterHide&&(S.clusterHide(),P=!1),P&&m.removeLayer(S),w&&(T=S._spiderLeg,j=T._path,O=j.getTotalLength()+.1,j.style.strokeDashoffset=O,T.setStyle({opacity:0})));h._ignoreMove=!1,setTimeout(function(){var N=0;for(E=v.length-1;E>=0;E--)S=v[E],S._spiderLeg&&N++;for(E=v.length-1;E>=0;E--)S=v[E],S._spiderLeg&&(S.clusterShow&&S.clusterShow(),S.setZIndexOffset&&S.setZIndexOffset(0),N>1&&m.removeLayer(S),f.removeLayer(S._spiderLeg),delete S._spiderLeg);h._animationEnd(),h.fire("unspiderfied",{cluster:u,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var u,h;for(u in o)for(h=o[u].__parent;h;)h._iconNeedsUpdate=!0,h=h.__parent},_refreshSingleMarkerModeMarkers:function(o){var u,h;for(u in o)h=o[u],this.hasLayer(h)&&h.setIcon(this._overrideMarkerIcon(h))}}),L.Marker.include({refreshIconOptions:function(o,u){var h=this.options.icon;return L.setOptions(h,o),this.setIcon(h),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(Xu,Xu.exports)),Xu.exports}iI();function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var rI=["children"];function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){sI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sI(t,e,n){return(e=aI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aI(t){var e=oI(t,"string");return Cc(e)=="symbol"?e:e+""}function oI(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iS(t,e){return hI(t)||cI(t,e)||uI(t,e)||lI()}function lI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uI(t,e){if(t){if(typeof t=="string")return rS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rS(t,e):void 0}}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cI(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,o,u,h=[],f=!0,m=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(g){m=!0,a=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw a}}return h}}function hI(t){if(Array.isArray(t))return t}function dI(t,e){if(t==null)return{};var n,r,a=fI(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}Nt.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(e){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(e)}});Nt.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function pI(t,e){t.children;var n=dI(t,rI),r={},a={};Object.entries(n).forEach(function(u){var h=iS(u,2),f=h[0],m=h[1];return f.startsWith("on")?a[f]=m:r[f]=m});var o=new Nt.MarkerClusterGroup(r);return Object.entries(a).forEach(function(u){var h=iS(u,2),f=h[0],m=h[1],g="cluster".concat(f.substring(2).toLowerCase());o.on(g,m)}),{instance:o,context:nS(nS({},e),{},{layerContainer:o})}}var mI=uz(pI);const Ua={CHUNKED_LOADING:!0,SHOW_COVERAGE_ON_HOVER:!0,SPIDERFY_ON_MAX_ZOOM:!1,REMOVE_OUTSIDE_VISIBLE_BOUNDS:!0,DISABLE_CLUSTERING_AT_ZOOM:18,MAX_CLUSTER_RADIUS:400,MAX_MARKER_ID:1001},kd={SIZE:[15,25],GLYPH_COLOR:"white",GLYPH_SIZE:"9px",GLYPH_ANCHOR:[0,-4]},gI=t=>t.iconUrl?_l(t.iconUrl):_l(`${t.type||"default"}.svg`),yI=(t,e=!1,n=!1)=>{let r=t.type?`marker-icon marker-type-${t.type}`:"marker-icon";return e&&(r+=" marker-active"),n&&(r+=" marker-favorited"),tv({className:r,prefix:t.prefix,iconUrl:gI(t),iconSize:Array.isArray(t.iconSize)?t.iconSize:kd.SIZE,glyph:t.glyph||"",glyphColor:t.glyphColor||kd.GLYPH_COLOR,glyphSize:t.glyphSize||kd.GLYPH_SIZE,glyphAnchor:t.glyphAnchor||kd.GLYPH_ANCHOR})},vI=t=>`${t.id}-${t.lat}-${t.lng}-${t.iconUrl||""}-${t.glyph||""}`,_I=M.memo(({marker:t,isDraggable:e,icon:n,eventHandlers:r,markerRef:a,isMobile:o,organizationLogo:u,onMarkerSelect:h})=>y.jsx(kE,{position:[t.lat,t.lng],icon:n,draggable:e,eventHandlers:r,ref:a,children:y.jsx(u2,{marker:t,isMobile:o,organizationLogo:u,onMoreInfo:()=>h(t)})}),(t,e)=>{const n=t.icon===e.icon,r=t.isDraggable===e.isDraggable,a=t.eventHandlers===e.eventHandlers;return n&&r&&a?!(t.marker.name!==e.marker.name||t.marker.logo!==e.marker.logo||t.marker.website!==e.marker.website||t.marker.info!==e.marker.info):!1});function Iv({safeMarkers:t,updateMarker:e,isMarkerDraggable:n,iconCreateFunction:r,selectedYear:a,isAdminView:o,selectedMarkerId:u,onMarkerSelect:h,focusMarkerId:f,onFocusHandled:m}){const g=M.useRef({}),v=nv("md"),[w,S]=M.useState(null),E=o&&u!==void 0?t.find(D=>D.id===u):w,T=o&&h?D=>h(D?D.id:null):S,{organizationLogo:j,loading:O}=Ws();let P=null;try{P=uf()}catch{}const N=P?.isFavorite||(()=>!1),[V,q]=M.useState({isOpen:!1,position:null,marker:null}),[I,K]=M.useState(!1),{subscriptions:oe}=Pc(a||new Date().getFullYear()),{assignments:ee,assignCompanyToMarker:he,unassignCompanyFromMarker:Q}=Sf(a||new Date().getFullYear()),{confirm:te}=Nl(),pe=M.useMemo(()=>t.filter(D=>D.id<Ua.MAX_MARKER_ID),[t]),ce=M.useCallback(D=>Z=>{const{lat:ne,lng:de}=Z.target.getLatLng();e(D,{lat:ne,lng:de})},[e]),Y=M.useCallback(D=>(g.current[D]||(g.current[D]=mi.createRef()),g.current[D]),[]),H=M.useCallback(D=>Z=>{o&&(Nt.DomEvent.preventDefault(Z),q({isOpen:!0,position:Z.latlng,marker:D,timestamp:Date.now()}))},[o]),W=M.useCallback(async(D,Z)=>{const ne=ee.filter(de=>de.marker_id===D);if(ne.length>0){const we=oe.find(De=>De.company_id===Z)?.company?.name||"this company",Re=t.find(De=>De.id===D),ve=Re?.glyph||Re?.id||"this booth";let Le;if(ne.length===1){const De=ne[0].company?.name||"another company";Le=`Booth ${ve} is already assigned to ${De}.

Assign ${we} as an additional company for this booth?`}else{const De=ne.map(He=>He.company?.name).filter(Boolean).join(", ");Le=`Booth ${ve} is already assigned to ${ne.length} companies: ${De}.

Assign ${we} as another company for this booth?`}if(!await te({title:"Multiple Assignments",message:Le,confirmText:"Assign",variant:"warning"}))return}K(!0);try{await he(D,Z)}catch(de){console.error("Error assigning company:",de)}finally{K(!1)}},[he,ee,oe,t]),se=M.useCallback(async(D,Z)=>{K(!0);try{await Q(D,Z)}catch(ne){console.error("Error unassigning company:",ne)}finally{K(!1)}},[Q]),xe=M.useRef({}),B=M.useCallback(D=>{const Z=`${D.id}-${n?"draggable":"static"}-${o?"admin":"visitor"}`;return xe.current[Z]||(xe.current[Z]={dragend:n?ce(D.id):void 0,popupopen:ne=>ne.target.closeTooltip(),contextmenu:o?H(D):void 0}),xe.current[Z]},[n,ce,o,H]),U=M.useRef({}),ie=M.useCallback((D,Z)=>{const ne=D.companyId?N(D.companyId):!1,de=`${D.id}-${D.iconUrl||""}-${D.glyph||""}-${D.glyphColor||""}-${Z}-${ne}`;return U.current[de]||(U.current[de]=yI(D,Z,ne)),U.current[de]},[N]);return M.useEffect(()=>{const D=new Set(pe.map(Z=>Z.id));Object.keys(xe.current).forEach(Z=>{const ne=parseInt(Z.split("-")[0],10);D.has(ne)||delete xe.current[Z]}),Object.keys(U.current).forEach(Z=>{const ne=parseInt(Z.split("-")[0],10);D.has(ne)||delete U.current[Z]})},[pe]),M.useEffect(()=>{if(!f)return;const Z=setTimeout(()=>{const ne=g.current[f];if(ne?.current){if(v){const de=pe.find(we=>we.id===f);de&&S(de)}else ne.current.openPopup();m&&m()}},1200);return()=>clearTimeout(Z)},[f,v,pe,m]),O?null:y.jsxs(y.Fragment,{children:[y.jsx(mI,{chunkedLoading:Ua.CHUNKED_LOADING,showCoverageOnHover:Ua.SHOW_COVERAGE_ON_HOVER,spiderfyOnMaxZoom:Ua.SPIDERFY_ON_MAX_ZOOM,removeOutsideVisibleBounds:Ua.REMOVE_OUTSIDE_VISIBLE_BOUNDS,disableClusteringAtZoom:Ua.DISABLE_CLUSTERING_AT_ZOOM,maxClusterRadius:Ua.MAX_CLUSTER_RADIUS,iconCreateFunction:r,children:pe.map(D=>{const Z=E?.id===D.id,ne=ie(D,Z),de=n(D),we=vI(D);return y.jsx(_I,{marker:D,isDraggable:de,icon:ne,eventHandlers:B(D),markerRef:Y(D.id),isMobile:v,organizationLogo:j,onMarkerSelect:T},we)})},"cluster-group"),V.isOpen&&V.marker&&y.jsx(vf,{position:V.position,onClose:()=>q({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:y.jsx(c2,{marker:V.marker,subscriptions:oe,assignments:ee,onAssign:W,onUnassign:se,isLoading:I,onClose:()=>q({isOpen:!1,position:null,marker:null})})},`context-${V.marker.id}-${V.timestamp||Date.now()}`),v&&E&&y.jsx(l2,{marker:E,onClose:()=>T(null)})]})}Iv.propTypes={safeMarkers:ke.arrayOf(ke.shape({id:ke.number.isRequired,lat:ke.number.isRequired,lng:ke.number.isRequired,type:ke.string,iconUrl:ke.string,iconSize:ke.arrayOf(ke.number),glyph:ke.string,glyphColor:ke.string,glyphSize:ke.string,glyphAnchor:ke.arrayOf(ke.number),prefix:ke.string,name:ke.string,logo:ke.string,website:ke.string,info:ke.string,companyId:ke.number})).isRequired,updateMarker:ke.func.isRequired,isMarkerDraggable:ke.func.isRequired,iconCreateFunction:ke.func.isRequired,selectedYear:ke.number,isAdminView:ke.bool,selectedMarkerId:ke.number,onMarkerSelect:ke.func,focusMarkerId:ke.number,onFocusHandled:ke.func};Iv.defaultProps={selectedYear:new Date().getFullYear(),isAdminView:!1,selectedMarkerId:null,onMarkerSelect:null,focusMarkerId:null,onFocusHandled:null};function bI({isAdminView:t,mapInstance:e,updateMarker:n}){const{t:r}=Ni(),[a,o]=M.useState(!1),[u,h]=M.useState(!1),[f,m]=M.useState(""),[g,v]=M.useState(""),w=()=>{h(!0),m(""),v("")},S=async()=>{if(!f||isNaN(Number(f))){v("Please enter a valid numeric ID.");return}if(await T(f)){v("ID already exists. Please choose another.");return}h(!1),o(!0),v("")},E=()=>{h(!1),m(""),v("")};M.useEffect(()=>{if(!a||!e||!f)return;const j=O=>{const P=O.latlng,N={...xI({lat:P.lat,lng:P.lng}),id:Number(f)};typeof n=="function"&&n(N.id,N,{add:!0}),o(!1),m(""),e.off("click",j)};return e.on("click",j),()=>{e.off("click",j)}},[a,e,n,f]);async function T(j){try{const{supabase:O}=await Qi(async()=>{const{supabase:N}=await Promise.resolve().then(()=>sC);return{supabase:N}},void 0),P=["Markers_Core","Markers_Appearance","Markers_Content"];for(const N of P){const{data:V,error:q}=await O.from(N).select("id").eq("id",Number(j));if(q)return!1;if(V&&V.length>0)return!0}return!1}catch{return!1}}return t?y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:w,"aria-label":"Add marker",className:"bg-white rounded-full shadow p-2 flex items-center justify-center print-hide",style:{position:"absolute",left:10,top:60,zIndex:1001,width:44,height:44,border:"none",cursor:a?"crosshair":"pointer",background:a?"#e3f2fd":"white"},title:a?"Click on map to place marker":"Add marker",children:[y.jsx(jC.Icon,{path:uN,size:1.5,color:"#1976d2","aria-hidden":"true",style:{width:"42px",height:"42px"}}),y.jsx("span",{className:"sr-only",children:"Add marker"})]}),u&&y.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100svh",background:"rgba(0,0,0,0.3)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsxs("div",{style:{background:"white",borderRadius:8,boxShadow:"0 2px 16px rgba(25,118,210,0.15)",padding:32,minWidth:320,display:"flex",flexDirection:"column",alignItems:"center"},children:[y.jsx("h2",{style:{color:"#1976d2",fontWeight:700,marginBottom:16},children:"Enter Marker ID"}),y.jsx("input",{type:"number",value:f,onChange:j=>m(j.target.value),style:{fontSize:18,padding:"8px 12px",border:"2px solid #1976d2",borderRadius:4,marginBottom:12,width:"100%"},placeholder:"Marker ID (integer)",min:1}),g&&y.jsx("div",{style:{color:"red",marginBottom:8},children:g}),y.jsxs("div",{style:{display:"flex",gap:12},children:[y.jsx("button",{onClick:S,style:{background:"#1976d2",color:"white",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:"Confirm"}),y.jsx("button",{onClick:E,style:{background:"#eee",color:"#1976d2",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]})]})})]}):null}function xI({lat:t,lng:e}){return{id:null,lat:t,lng:e,name:"",label:"",logo:"",coreLocked:!1}}var f2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sS=mi.createContext&&mi.createContext(f2),wI=["attr","size","title"];function SI(t,e){if(t==null)return{};var n=CI(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CI(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){EI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EI(t,e,n){return e=TI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TI(t){var e=LI(t,"string");return typeof e=="symbol"?e:e+""}function LI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p2(t){return t&&t.map((e,n)=>mi.createElement(e.tag,tf({key:n},e.attr),p2(e.child)))}function Cf(t){return e=>mi.createElement(AI,ef({attr:tf({},t.attr)},e),p2(t.child))}function AI(t){var e=n=>{var{attr:r,size:a,title:o}=t,u=SI(t,wI),h=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),mi.createElement("svg",ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:tf(tf({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&mi.createElement("title",null,o),t.children)};return sS!==void 0?mi.createElement(sS.Consumer,null,n=>e(n)):e(f2)}function kI(t){return Cf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(t)}function jI(t){return Cf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(t)}function OI(t){return Cf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function MI(t){return Cf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(t)}function NI(t){t&&t.zoomIn()}function PI(t){t&&t.zoomOut()}function RI(t,e,n){t&&t.setView(e,n)}function DI({mapInstance:t}){const e=()=>{window.L&&t&&t.printControl?t.printControl.printMap():window.print()};return y.jsx("button",{onClick:e,className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center","aria-label":"Print map",title:"Print map",type:"button",children:y.jsx(jI,{size:24,color:"#1976d2"})})}const zI={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function BI({mapInstance:t,mapCenter:e,mapZoom:n,searchControlRef:r,isAdminView:a,showLayersMenu:o,setShowLayersMenu:u,activeLayer:h,setActiveLayer:f,showRectanglesAndHandles:m,setShowRectanglesAndHandles:g,MAP_LAYERS:v}){const w=()=>NI(t),S=()=>PI(t),E=()=>RI(t,e,n);return y.jsxs("div",{className:"map-controls-print-hide",style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[y.jsxs("button",{onClick:E,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[y.jsx(kI,{size:28,color:"#1976d2","aria-hidden":"true"}),y.jsx("span",{className:"sr-only",children:"Home"})]}),y.jsxs("button",{onClick:w,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[y.jsx(OI,{size:28,color:"#1976d2","aria-hidden":"true"}),y.jsx("span",{className:"sr-only",children:"Zoom in"})]}),y.jsxs("button",{onClick:S,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[y.jsx(MI,{size:28,color:"#1976d2","aria-hidden":"true"}),y.jsx("span",{className:"sr-only",children:"Zoom out"})]}),a&&y.jsx(DI,{mapInstance:t}),a&&y.jsxs("div",{style:{position:"relative"},children:[y.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>u(T=>!T),children:[y.jsx(Ae,{path:iN,size:1.2,color:"#1976d2"}),y.jsx("span",{className:"sr-only",children:"Map layers"})]}),o&&y.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[y.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),v.map(T=>y.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${h===T.key?"bg-blue-50 font-bold":""}`,onClick:()=>f(T.key),role:"menuitem",style:{color:"#1976d2"},children:T.name},T.key)),y.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),y.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[y.jsx("input",{type:"checkbox",checked:m,onChange:T=>g(T.target.checked),style:zI}),y.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:m?"inline-block":"none"},children:y.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:y.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),y.jsx("span",{style:{marginLeft:m?-8:0},children:"Booth Surface"})]})]})]})]})}function II(t){return function(n){const r=UC(t),a="/Map".endsWith("/")?"/Map":"/Map/";return tv({iconUrl:`${a}assets/icons/glyph-marker-icon-orange.svg`,iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='${r}' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}}function UI(t){return t.angle||0}function Hs(t,e,n){const r=n*Math.PI/180,a=t*Math.cos(r)-e*Math.sin(r),o=t*Math.sin(r)+e*Math.cos(r);return[a,o]}function Zu(t){return t/111320}function Gu(t,e){return t/(40075e3*Math.cos(e*Math.PI/180)/360)}function VI(t){return t*111320}function HI(t,e){return t*(40075e3*Math.cos(e*Math.PI/180)/360)}function FI({mapInstance:t,markers:e,rectangleSize:n,isAdminView:r,showRectanglesAndHandles:a,updateMarker:o,rectangleLayerRef:u}){if(!t)return;u.current||(u.current=Nt.layerGroup(),u.current.addTo(t));const h=u.current;h._markerLayers||(h._markerLayers={}),Object.keys(h._markerLayers).forEach(f=>{e.find(m=>m.id===f)||(h.removeLayer(h._markerLayers[f].rectangle),h.removeLayer(h._markerLayers[f].handle),delete h._markerLayers[f])}),e.forEach(f=>{if(f.lat&&f.lng){const m=Nt.latLng(f.lat,f.lng),g=Array.isArray(f.rectangle)&&f.rectangle.length===2?f.rectangle:n,v=Number(g[0])/2,w=Number(g[1])/2,S=UI(f),E="#1976d2",T=[Hs(-v,-w,S),Hs(v,-w,S),Hs(v,w,S),Hs(-v,w,S)],j=T.map(([N,V])=>Nt.latLng(m.lat+Zu(V),m.lng+Gu(N,m.lat)));let O,P;if(h._markerLayers[f.id]){O=h._markerLayers[f.id].rectangle,O.setLatLngs(j),P=h._markerLayers[f.id].handle;const[N,V]=T[2],q=Nt.latLng(m.lat+Zu(V),m.lng+Gu(N,m.lat));P.setLatLng(q)}else{O=Nt.polygon(j,{color:E,weight:1});const[N,V]=T[2],q=Nt.latLng(m.lat+Zu(V),m.lng+Gu(N,m.lat));let I;if(r&&!f.coreLocked){const K=Nt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});I=Nt.marker(q,{icon:K,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),I.on("dragstart",function(){t&&t.dragging.disable()});let oe=S;I.on("drag",function(ee){const he=ee.target.getLatLng(),Q=HI(he.lng-m.lng,m.lat),te=VI(he.lat-m.lat);let ce=Math.atan2(te,Q)*180/Math.PI;ce<0&&(ce+=360),oe=ce;const Y=[Hs(-v,-w,oe),Hs(v,-w,oe),Hs(v,w,oe),Hs(-v,w,oe)],H=Y.map(([B,U])=>Nt.latLng(m.lat+Zu(U),m.lng+Gu(B,m.lat)));O.setLatLngs(H);const[W,se]=Y[2],xe=Nt.latLng(m.lat+Zu(se),m.lng+Gu(W,m.lat));I.setLatLng(xe)}),I.on("dragend",function(){t&&t.dragging.enable(),o(f.id,{angle:oe})})}else{const K=Nt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});I=Nt.marker(q,{icon:K,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}h.addLayer(O),h.addLayer(I),h._markerLayers[f.id]={rectangle:O,handle:I}}}}),Object.values(h._markerLayers).forEach(({rectangle:f,handle:m})=>{a?(h.addLayer(f),h.addLayer(m)):(h.removeLayer(f),h.removeLayer(m))})}function $I(){const t=M.useCallback(n=>{},[]),e=M.useCallback(n=>{},[]);return{trackMarkerView:t,trackMapInteraction:e}}var bg={exports:{}},oS;function qI(){return oS||(oS=1,(function(t){(function(e){t.exports=e(ev())})(function(e){return e.Control.Search=e.Control.extend({includes:e.version[0]==="1"?e.Evented.prototype:e.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,r){var a=r.split("."),o=a.pop(),u=a.length,h=a[0],f=1;if(u>0)for(;(n=n[h])&&f<u;)h=a[f++];if(n)return n[o]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){e.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new e.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=e.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof e.Marker||this.options.marker instanceof e.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new e.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=e.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):e.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var r=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){r.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",e.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",e.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var r=e.DomUtil.create("div",n,this._container);return r.style.display="none",e.DomEvent.on(r,"click",e.DomEvent.stop,this).on(r,"click",this.hideAlert,this),r},_createInput:function(n,r){var a=this,o=e.DomUtil.create("label",r,this._container),u=e.DomUtil.create("input",r,this._container);return u.type="text",u.size=this._inputMinSize,u.value="",u.autocomplete="off",u.autocorrect="off",u.autocapitalize="off",u.placeholder=n,u.style.display="none",u.role="search",u.id=u.role+u.type+u.size,o.htmlFor=u.id,o.style.display="none",o.value=n,e.DomEvent.disableClickPropagation(u).on(u,"keyup",this._handleKeypress,this).on(u,"paste",function(h){setTimeout(function(f){a._handleKeypress(f)},10,h)},this).on(u,"blur",this.collapseDelayed,this).on(u,"focus",this.collapseDelayedStop,this),u},_createCancel:function(n,r){var a=e.DomUtil.create("a",r,this._container);return a.href="#",a.title=n,a.style.display="none",a.innerHTML="<span>&otimes;</span>",e.DomEvent.on(a,"click",e.DomEvent.stop,this).on(a,"click",this.cancel,this),a},_createButton:function(n,r){var a=e.DomUtil.create("a",r,this._container);return a.href="#",a.title=n,e.DomEvent.on(a,"click",e.DomEvent.stop,this).on(a,"click",this._handleSubmit,this).on(a,"focus",this.collapseDelayedStop,this).on(a,"blur",this.collapseDelayed,this),a},_createTooltip:function(n){var r=this,a=e.DomUtil.create("ul",n,this._container);return a.style.display="none",e.DomEvent.disableClickPropagation(a).on(a,"blur",this.collapseDelayed,this).on(a,"wheel",function(o){r.collapseDelayedStop(),e.DomEvent.stopPropagation(o)},this).on(a,"mouseover",function(o){r.collapseDelayedStop()},this),a},_createTip:function(n,r){var a;if(this.options.buildTip){if(a=this.options.buildTip.call(this,n,r),typeof a=="string"){var o=e.DomUtil.create("div");o.innerHTML=a,a=o.firstChild}}else a=e.DomUtil.create("li",""),a.innerHTML=n;return e.DomUtil.addClass(a,"search-tip"),a._text=n,this.options.tipAutoSubmit&&e.DomEvent.disableClickPropagation(a).on(a,"click",e.DomEvent.stop,this).on(a,"click",function(u){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),a},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,r){var a,o,u,h={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];a=this.options.initial?"^":"",o=this.options.casesensitive?void 0:"i",u=new RegExp(a+n,o);for(let f in r)u.test(f)&&(h[f]=r[f]);return h},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let r in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(r,n[r]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var r=this,a=this.options.propertyName,o=this.options.propertyLoc,u={};if(e.Util.isArray(o))for(let h in n)u[r._getPath(n[h],a)]=e.latLng(r._getPath(n[h],o[0]),r._getPath(n[h],o[1]));else for(let h in n)u[r._getPath(n[h],a)]=e.latLng(r._getPath(n[h],o));return u},_recordsFromJsonp:function(n,r){e.Control.Search.callJsonp=r;var a=e.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),o=e.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return a.type="text/javascript",a.src=o,{abort:function(){a.parentNode.removeChild(a)}}},_recordsFromAjax:function(n,r){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var a=e.Browser.ie&&!window.atob&&document.querySelector,o=a?new XDomainRequest:new XMLHttpRequest,u=e.Util.template(this._getUrl(n),{s:n});return o.open("GET",u),o.onload=function(){r(JSON.parse(o.responseText))},o.onreadystatechange=function(){o.readyState===4&&o.status===200&&this.onload()},o.send(),o},_searchInLayer:function(n,r,a){var o=this,u;n instanceof e.Control.Search.Marker||(n instanceof e.Marker||n instanceof e.CircleMarker?o._getPath(n.options,a)?(u=n.getLatLng(),u.layer=n,r[o._getPath(n.options,a)]=u):o._getPath(n.feature.properties,a)&&(u=n.getLatLng(),u.layer=n,r[o._getPath(n.feature.properties,a)]=u):n instanceof e.Path||n instanceof e.Polyline||n instanceof e.Polygon?o._getPath(n.options,a)?(u=n.getBounds().getCenter(),u.layer=n,r[o._getPath(n.options,a)]=u):o._getPath(n.feature.properties,a)&&(u=n.getBounds().getCenter(),u.layer=n,r[o._getPath(n.feature.properties,a)]=u):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(a)&&(n.getLatLng&&typeof n.getLatLng=="function"?(u=n.getLatLng(),u.layer=n,r[n.feature.properties[a]]=u):n.getBounds&&typeof n.getBounds=="function"&&(u=n.getBounds().getCenter(),u.layer=n,r[n.feature.properties[a]]=u)):n instanceof e.LayerGroup&&n.eachLayer(function(h){o._searchInLayer(h,r,a)}))},_recordsFromLayer:function(){var n=this,r={},a=this.options.propertyName;return this._layer.eachLayer(function(o){n._searchInLayer(o,r,a)}),r},_autoType:function(){var n=this._input.value.length,r=this._tooltip.firstChild?this._tooltip.firstChild._text:"",a=r.length;if(r.indexOf(this._input.value)===0)if(this._input.value=r,this._handleAutoresize(),this._input.createTextRange){var o=this._input.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",a),o.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,a):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=a)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var r=this._input.value.length;n.moveStart("character",r),n.moveEnd("character",r),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var r=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){r._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var r=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",e.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:r})},_fillRecordsCache:function(){var n=this,r=this._input.value,a;this._curReq&&this._curReq.abort&&this._curReq.abort(),e.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),a=this._filterData(this._input.value,this._recordsCache),this.showTooltip(a),e.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,r,function(o){n._recordsCache=n._formatData.call(n,o),n.options.sourceData?a=n._filterData(n._input.value,n._recordsCache):a=n._recordsCache,n.showTooltip(a),e.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=83,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var r=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let o=0;o<r.length;o++)e.DomUtil.removeClass(r[o],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=r.length-1)e.DomUtil.addClass(r[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,e.DomUtil.addClass(r[this._tooltip.currentSelection],"search-tip-select"),this._input.value=r[this._tooltip.currentSelection]._text;var a=r[this._tooltip.currentSelection].offsetTop;a+r[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=a-this._tooltip.clientHeight+r[this._tooltip.currentSelection].clientHeight:a<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=a)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,r,a){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,r){var a=this;return a._map.once("moveend zoomend",function(o){a._markerSearch&&a._markerSearch.addTo(a._map).setLatLng(n)}),a._moveToLocation(n,r,a._map),a.options.autoCollapse&&a.collapse(),a}}),e.Control.Search.Marker=e.Marker.extend({includes:e.version[0]==="1"?e.Evented.prototype:e.Mixin.Events,options:{icon:new e.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,r){e.setOptions(this,r),r.icon===!0&&(r.icon=new e.Icon.Default),e.Marker.prototype.initialize.call(this,n,r),e.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new e.CircleMarker(n,this.options.circle))},onAdd:function(n){e.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){e.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return e.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&e.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&e.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,r=200,a=5,o=parseInt(n._radius/a),u=this.options.circle.radius,h=n._radius*2,f=0;n._timerAnimLoc=setInterval(function(){f+=.5,o+=f,h-=o,n.setRadius(h),h<u&&(clearInterval(n._timerAnimLoc),n.setRadius(u))},r)}return this}}),e.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=e.control.search(this.options.searchControl),this.addControl(this.searchControl))}),e.control.search=function(n){return new e.Control.Search(n)},e.Control.Search})})(bg)),bg.exports}qI();var xg={exports:{}},lS;function ZI(){return lS||(lS=1,(function(t,e){(function(n,r){t.exports=n(ev()),typeof r<"u"&&r.L&&(r.L.Control.MiniMap=n(L),r.L.control.minimap=function(a,o){return new r.L.Control.MiniMap(a,o)})})(function(n){var r=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(a,o){n.Util.setOptions(this,o),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=a},onAdd:function(a){this._mainMap=a,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var o={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:a.options.crs};return o=n.Util.extend(this.options.mapOptions,o),this._miniMap=new n.Map(this._container,o),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(a){n.Control.prototype.addTo.call(this,a);var o=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(a){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(a){this._miniMap.removeLayer(this._layer),this._layer=a,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(a,o,u,h,f,m){var g=n.DomUtil.create("a",u,h);g.innerHTML=a,g.href="#",g.title=o;var v=n.DomEvent.stopPropagation;return n.DomEvent.on(g,"click",v).on(g,"mousedown",v).on(g,"dblclick",v).on(g,"click",n.DomEvent.preventDefault).on(g,"click",f,m),g},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(a){a!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(a){if(this._miniMapMoving)this._miniMapMoving=!1;else{var o=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(a){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(a){if(!this.options.centerFixed){var o=this._aimingRect.getBounds(),u=this._miniMap.latLngToContainerPoint(o.getSouthWest()),h=this._miniMap.latLngToContainerPoint(o.getNorthEast());this._lastAimingRectPosition={sw:u,ne:h}}},_onMiniMapMoving:function(a){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(a){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var a=this.options.zoomLevelFixed;return this._isDefined(a)&&this._isInteger(a)},_decideZoom:function(a){if(this._isZoomLevelFixed())return a?this.options.zoomLevelFixed:this._mainMap.getZoom();if(a)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var o=this._miniMap.getZoom()-this._mainMap.getZoom(),u=this._miniMap.getZoom()-this.options.zoomLevelOffset,h;return o>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(h=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):h=this._mainMap.getZoom():h=u,this._lastMiniMapZoom=this._miniMap.getZoom(),h},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(a){return typeof a=="number"},_isDefined:function(a){return typeof a<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var a={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",a),this.fire("toggle",a)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new r().addTo(this))}),r},window)})(xg)),xg.exports}ZI();const GI=t=>[t.name,t.glyph,t.label].filter(Boolean).join(" | "),uS=(t,e)=>e&&t&&t.coreLocked===!1;function Ef({isAdminView:t,markersState:e,updateMarker:n,selectedYear:r,selectedMarkerId:a,onMarkerSelect:o}){const[u,h]=M.useState({}),[f,m]=M.useState(!1),[g,v]=M.useState(xd[0].key),[w,S]=M.useState(!1),[E,T]=M.useState(null),[j,O]=M.useState(null),{organizationLogo:P}=Ws(),[N,V]=zO(),q=M.useRef(null),I=M.useRef(null),K=M.useRef(!1),[oe,ee]=M.useState(null),he=M.useMemo(()=>II(P),[P]),{t:Q}=Ni(),te=nv();$I();const pe=M.useMemo(()=>Array.isArray(e)?e:[],[e]);M.useEffect(()=>{pe.forEach(H=>{if(H.logo){const W=new window.Image;W.src=Ji(H.logo)}})},[pe]),M.useEffect(()=>{E&&FI({mapInstance:E,markers:pe,rectangleSize:ln.RECTANGLE_SIZE,isAdminView:t,showRectanglesAndHandles:w,updateMarker:n,rectangleLayerRef:I})},[E,pe,t,w,n]),M.useEffect(()=>{if(!E)return;const H=Nt.layerGroup();pe.forEach(W=>{if(W.lat&&W.lng){const se=GI(W),xe=Nt.marker([W.lat,W.lng],{opacity:0,interactive:!1});xe.feature={type:"Feature",properties:{searchText:se}},xe.bindPopup(W.name||W.label||""),H.addLayer(xe)}}),O(H)},[E,pe]),M.useEffect(()=>{if(!E||!j)return;const H=new Nt.Control.Search({layer:j,propertyName:"searchText",initial:!1,zoom:ln.SEARCH_ZOOM,marker:{icon:!1,animate:!0},textPlaceholder:"Search for name or booth...",position:"topleft"});return E.addControl(H),q.current=H,H.on("search:locationfound",W=>{if(W?.layer?.getLatLng){const se=W.layer.getLatLng();E.flyTo(se,ln.SEARCH_ZOOM,{animate:!0}),H._input&&H._input.blur(),H.hideAlert&&H.hideAlert(),H.collapse&&H.collapse()}}),()=>{E&&H&&(E.removeControl(H),q.current=null)}},[E,j]),M.useEffect(()=>{if(E&&!E._minimapControl){const H=Nt.tileLayer(xd[0].url,{attribution:"",minZoom:0,maxZoom:16}),W=new Nt.Control.MiniMap(H,{position:"bottomright",width:ln.MINIMAP.WIDTH,height:ln.MINIMAP.HEIGHT,zoomLevelFixed:ln.MINIMAP.ZOOM_LEVEL,toggleDisplay:!0,centerFixed:ln.DEFAULT_POSITION,aimingRectOptions:{color:ln.MINIMAP.AIMING_COLOR,weight:2,opacity:.9,fillOpacity:.1,fill:!0},shadowRectOptions:{color:ln.MINIMAP.SHADOW_COLOR,weight:1,opacity:.5,fillOpacity:.05,fill:!0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"}});W.addTo(E),E._minimapControl=W}},[E]),M.useEffect(()=>{if(!E||!pe.length||K.current)return;const H=N.get("focus");if(H){const W=parseInt(H,10),se=pe.find(xe=>xe.id===W);se&&se.lat&&se.lng&&(setTimeout(()=>{E.flyTo([se.lat,se.lng],ln.SEARCH_ZOOM,{animate:!0,duration:1}),ee(W)},300),K.current=!0,V({},{replace:!0}))}},[E,pe,N,V]);const ce=H=>{const W=H?.target||H;T(W)},Y=t?{height:"100%",width:"100%",position:"relative",touchAction:"pan-x pan-y",overflow:"hidden"}:{height:"100svh",width:"100vw",position:"fixed",inset:0,zIndex:0,touchAction:"pan-x pan-y",overflow:"hidden"};return y.jsxs("div",{style:Y,tabIndex:0,"aria-label":"Event Map",role:"region",children:[y.jsx(BI,{mapInstance:E,mapCenter:ln.DEFAULT_POSITION,mapZoom:ln.DEFAULT_ZOOM,searchControlRef:q,isAdminView:t,showLayersMenu:f,setShowLayersMenu:m,activeLayer:g,setActiveLayer:v,showRectanglesAndHandles:w,setShowRectanglesAndHandles:S,MAP_LAYERS:xd}),t&&y.jsx(bI,{mapInstance:E,isAdminView:t,updateMarker:n}),y.jsx("div",{id:"map-container",className:t?"w-full h-full":"fixed inset-0 w-full h-full",style:{zIndex:t?"auto":1,height:t?"100%":"100svh",touchAction:"pan-x pan-y",overflow:"hidden"},"aria-label":Q("map.ariaLabel"),children:y.jsxs(pz,{center:ln.DEFAULT_POSITION,zoom:ln.DEFAULT_ZOOM,minZoom:ln.MIN_ZOOM,maxZoom:ln.MAX_ZOOM,zoomDelta:ln.ZOOM_DELTA,zoomSnap:ln.ZOOM_SNAP,zoomControl:!1,style:{width:t?"100%":"100vw",height:t?"100%":"100svh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:ce,attributionControl:!1,children:[xd.filter(H=>H.key===g).map(H=>y.jsx(mz,{attribution:H.attribution,url:H.url,maxZoom:ln.MAX_ZOOM},H.key)),y.jsx(Iv,{safeMarkers:pe,infoButtonToggled:u,setInfoButtonToggled:h,isMobile:te,updateMarker:n,isMarkerDraggable:H=>uS(H,t),iconCreateFunction:he,selectedYear:r,isAdminView:t,selectedMarkerId:a,onMarkerSelect:o,focusMarkerId:oe,onFocusHandled:()=>ee(null)}),y.jsx(tI,{safeMarkers:pe,infoButtonToggled:u,setInfoButtonToggled:h,isMobile:te,updateMarker:n,isMarkerDraggable:H=>uS(H,t),selectedMarkerId:a,onMarkerSelect:o,isAdminView:t,selectedYear:r})]})})]})}Ef.propTypes={isAdminView:ke.bool,markersState:ke.array,updateMarker:ke.func.isRequired,selectedYear:ke.number,selectedMarkerId:ke.number,onMarkerSelect:ke.func};Ef.defaultProps={isAdminView:!1,markersState:[],selectedYear:new Date().getFullYear(),selectedMarkerId:null,onMarkerSelect:null};const KI=Object.freeze(Object.defineProperty({__proto__:null,default:Ef},Symbol.toStringTag,{value:"Module"}));function WI({markersState:t,setMarkersState:e,updateMarker:n,selectedYear:r}){const[a,o]=M.useState(""),[u,h]=M.useState(null),[f,m]=M.useState(!1),[g,v]=M.useState(null),[w,S]=M.useState("id-asc"),[E,T]=M.useState([]),{toastError:j}=Nl();M.useEffect(()=>{async function Q(){try{const[te,pe]=await Promise.all([Te.from("Markers_Core").select("*").in("id",[-1,-2]),Te.from("Markers_Appearance").select("*").in("id",[-1,-2])]);if(te.error)throw te.error;if(pe.error)throw pe.error;const ce=(te.data||[]).map(Y=>{const H=(pe.data||[]).find(W=>W.id===Y.id)||{};return{...Y,...H}});T(ce)}catch(te){console.error("Error fetching default markers:",te)}}Q()},[]);const O=M.useMemo(()=>{if(!t)return E;const te=[...t.filter(pe=>{const ce=a.toLowerCase();return pe.id.toString().includes(ce)||pe.glyph?.toLowerCase().includes(ce)||pe.name?.toLowerCase().includes(ce)})].sort((pe,ce)=>{switch(w){case"id-asc":return pe.id-ce.id;case"id-desc":return ce.id-pe.id;case"name-asc":return(pe.glyph||pe.name||"").localeCompare(ce.glyph||ce.name||"");case"name-desc":return(ce.glyph||ce.name||"").localeCompare(pe.glyph||pe.name||"");case"type":return pe.id>=1e3!=ce.id>=1e3?pe.id>=1e3?-1:1:pe.id-ce.id;default:return 0}});return a?te:[...[...E].sort((ce,Y)=>Y.id-ce.id),...te]},[t,E,a,w]),P=M.useMemo(()=>{if(!u)return null;const Q=E.find(te=>te.id===u);return Q||t?.find(te=>te.id===u)},[u,t,E]),N=Q=>{h(Q.id),m(!1)},V=()=>{P&&(v({...P}),m(!0))},q=()=>{v(null),m(!1)},I=async()=>{if(!g)return;const Q=g.id===-1||g.id===-2;try{if(Q){const te={rectWidth:g.rectWidth,rectHeight:g.rectHeight},pe={iconUrl:g.iconUrl,iconSize:g.iconSize,glyphColor:g.glyphColor,glyphSize:g.glyphSize},[ce,Y]=await Promise.all([Te.from("Markers_Core").update(te).eq("id",g.id),Te.from("Markers_Appearance").update(pe).eq("id",g.id)]);if(ce.error)throw ce.error;if(Y.error)throw Y.error;T(H=>H.map(W=>W.id===g.id?{...W,...g}:W))}else e(te=>te.map(pe=>pe.id===g.id?{...pe,...g}:pe));m(!1),v(null)}catch(te){console.error("Error saving marker:",te),j("Failed to save marker. Please try again.")}},K=(Q,te)=>{v(pe=>({...pe,[Q]:te}))},oe=P&&(P.id===-1||P.id===-2),ee=P&&P.id>=1e3,he=P&&P.id>0&&P.id<1e3;return y.jsx(Xy,{requiredRole:["super_admin","system_manager"],children:y.jsxs("div",{className:"bg-white rounded-lg shadow",children:[y.jsx("div",{className:"p-6 border-b border-gray-200",children:y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Ae,{path:io,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search by ID, booth label, or name...",value:a,onChange:Q=>o(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{className:"relative w-64",children:[y.jsx(Ae,{path:dN,size:.9,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsxs("select",{value:w,onChange:Q=>S(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[y.jsx("option",{value:"id-asc",children:"ID: Low to High"}),y.jsx("option",{value:"id-desc",children:"ID: High to Low"}),y.jsx("option",{value:"name-asc",children:"Name: A to Z"}),y.jsx("option",{value:"name-desc",children:"Name: Z to A"}),y.jsx("option",{value:"type",children:"Type (Special First)"})]})]})]})}),y.jsxs("div",{className:"flex h-[calc(100vh-150px)]",children:[y.jsx("div",{className:"w-64 border-r border-gray-200 overflow-y-auto flex-shrink-0",children:y.jsx("div",{className:"p-2",children:O.map(Q=>{const te=Q.id===u,pe=Q.id===-1||Q.id===-2,ce=Q.id>=1e3;return y.jsx("button",{onClick:()=>N(Q),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${te?"bg-blue-50 border-2 border-blue-500":pe?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-white border border-gray-200 hover:bg-gray-50"}`,children:y.jsxs("div",{className:"flex items-center gap-3",children:[Q.iconUrl&&y.jsx("img",{src:_l(Q.iconUrl),alt:"icon",className:"w-6 h-6"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"font-semibold text-gray-900 truncate",children:pe?Q.id===-1?"Assigned Booth Default":"Unassigned Booth Default":Q.glyph||`Marker ${Q.id}`}),y.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Q.id,pe&&"  Global Default",ce&&" (Special)"]}),Q.name&&y.jsx("div",{className:"text-xs text-gray-600 truncate",children:Q.name})]})]})},Q.id)})})}),y.jsx("div",{className:"flex-1 relative bg-gray-50",children:y.jsx(M.Suspense,{fallback:y.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading map..."}),children:y.jsx(Ef,{isAdminView:!0,markersState:t,updateMarker:n,selectedYear:r,selectedMarkerId:u,onMarkerSelect:Q=>{h(Q),m(!1)}})})}),y.jsx("div",{className:"w-96 border-l border-gray-200 overflow-y-auto p-6 flex-shrink-0",children:P?y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:oe?P.id===-1?"Assigned Booth Default":"Unassigned Booth Default":P.glyph||`Marker ${P.id}`}),y.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",P.id,oe&&"  Global Default for Booth Markers",ee&&" (Special Marker)",he&&" (Booth - Content managed via Companies/Assignments)"]})]}),!f&&y.jsx("button",{onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit"})]}),f?y.jsx(XI,{marker:g,isDefaultMarker:oe,isSpecialMarker:ee,isBoothMarker:he,onChange:K,onSave:I,onCancel:q}):y.jsx(YI,{marker:P,isSpecialMarker:ee,isDefaultMarker:oe})]}):y.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a marker to view details"})})]})]})})}function YI({marker:t,isSpecialMarker:e,isDefaultMarker:n}){return y.jsxs("div",{className:"space-y-6",children:[n&&y.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" About Default Markers"}),y.jsx("p",{className:"text-sm text-amber-800 mb-2",children:t.id===-1?"This defines the default appearance for booth markers (ID < 1000) that have a company assigned.":"This defines the default appearance for booth markers (ID < 1000) that have no company assigned."}),y.jsx("p",{className:"text-sm text-amber-800",children:"Individual booth markers can override these defaults by having their own values in the Appearance table."})]}),!n&&y.jsxs(ml,{title:"Position & Structure",children:[y.jsx(Nn,{label:"Latitude",value:t.lat}),y.jsx(Nn,{label:"Longitude",value:t.lng}),y.jsx(Nn,{label:"Rectangle",value:JSON.stringify(t.rectangle)}),y.jsx(Nn,{label:"Angle",value:t.angle||0})]}),y.jsxs(ml,{title:n?"Default Visual Styling":"Visual Styling",children:[y.jsx(Nn,{label:"Icon",children:t.iconUrl&&y.jsx("img",{src:_l(t.iconUrl),alt:"icon",className:"w-8 h-8"})}),y.jsx(Nn,{label:"Icon Size",value:JSON.stringify(t.iconSize)}),!n&&y.jsx(Nn,{label:"Glyph (Booth Label)",value:t.glyph}),y.jsx(Nn,{label:"Glyph Color",value:t.glyphColor}),y.jsx(Nn,{label:"Glyph Size",value:t.glyphSize}),n&&y.jsxs(y.Fragment,{children:[y.jsx(Nn,{label:"Rectangle Width",value:t.rectWidth}),y.jsx(Nn,{label:"Rectangle Height",value:t.rectHeight})]})]}),e&&y.jsxs(ml,{title:"Content (Special Marker)",children:[y.jsx(Nn,{label:"Name",value:t.name}),y.jsx(Nn,{label:"Logo",children:t.logo&&y.jsx("img",{src:Ji(t.logo),alt:"logo",className:"w-12 h-12"})}),y.jsx(Nn,{label:"Website",value:t.website}),y.jsx(Nn,{label:"Info",value:t.info})]})]})}function XI({marker:t,isDefaultMarker:e,isSpecialMarker:n,isBoothMarker:r,onChange:a,onSave:o,onCancel:u}){return y.jsxs("div",{className:"space-y-6",children:[e&&y.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" Editing Global Defaults"}),y.jsx("p",{className:"text-sm text-amber-800 mb-2",children:t.id===-1?"Changes here will affect all booth markers (ID < 1000) that have a company assigned, unless they have individual overrides.":"Changes here will affect all booth markers (ID < 1000) that have no company assigned, unless they have individual overrides."})]}),!e&&y.jsxs(ml,{title:"Position & Structure",children:[y.jsx(Gi,{label:"Latitude",type:"number",step:"0.0001",value:t.lat,onChange:h=>a("lat",parseFloat(h))}),y.jsx(Gi,{label:"Longitude",type:"number",step:"0.0001",value:t.lng,onChange:h=>a("lng",parseFloat(h))}),y.jsx(Gi,{label:"Angle",type:"number",step:"0.1",value:t.angle||0,onChange:h=>a("angle",parseFloat(h))})]}),y.jsxs(ml,{title:e?"Default Visual Styling":"Visual Styling",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),y.jsx("div",{className:"grid grid-cols-6 gap-2",children:JD.map(h=>y.jsx("button",{onClick:()=>a("iconUrl",h),className:`p-2 border-2 rounded-lg transition-all ${t.iconUrl===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:y.jsx("img",{src:_l(h),alt:h,className:"w-8 h-8"})},h))})]}),!e&&y.jsx(Gi,{label:"Glyph (Booth Label)",value:t.glyph,onChange:h=>a("glyph",h)}),y.jsx(Gi,{label:"Glyph Color",type:"color",value:t.glyphColor,onChange:h=>a("glyphColor",h)}),y.jsx(Gi,{label:"Glyph Size",type:"number",step:"1",value:t.glyphSize,onChange:h=>a("glyphSize",parseFloat(h))}),e&&y.jsxs(y.Fragment,{children:[y.jsx(Gi,{label:"Rectangle Width",type:"number",step:"1",value:t.rectWidth,onChange:h=>a("rectWidth",parseFloat(h))}),y.jsx(Gi,{label:"Rectangle Height",type:"number",step:"1",value:t.rectHeight,onChange:h=>a("rectHeight",parseFloat(h))})]})]}),n&&y.jsxs(ml,{title:"Content (Special Marker)",children:[y.jsx(Gi,{label:"Name",value:t.name,onChange:h=>a("name",h)}),y.jsx(Gi,{label:"Logo URL",value:t.logo,onChange:h=>a("logo",h)}),y.jsx(Gi,{label:"Website",value:t.website,onChange:h=>a("website",h)}),y.jsx(JI,{label:"Info",value:t.info,onChange:h=>a("info",h)})]}),r&&y.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:y.jsxs("p",{className:"text-sm text-yellow-800",children:[y.jsx("strong",{children:"Note:"})," This is a booth marker. Content (name, logo, website, info) is managed via the Companies and Assignments tabs."]})}),y.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[y.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(Ae,{path:YM,size:.9}),"Save Changes"]}),y.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:[y.jsx(Ae,{path:Qa,size:.9}),"Cancel"]})]})]})}function ml({title:t,children:e}){return y.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t}),y.jsx("div",{className:"space-y-3",children:e})]})}function Nn({label:t,value:e,children:n}){return y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:t}),n||y.jsx("div",{className:"text-gray-900",children:e||""})]})}function Gi({label:t,value:e,onChange:n,type:r="text",...a}){return y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),y.jsx("input",{type:r,value:e||"",onChange:o=>n(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...a})]})}function JI({label:t,value:e,onChange:n}){return y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),y.jsx("textarea",{value:e||"",onChange:r=>n(r.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}function m2(){const[t,e]=M.useState([]),[n,r]=M.useState(!0),[a,o]=M.useState(null),u=M.useCallback(async()=>{try{r(!0),o(null);const{data:v,error:w}=await Te.from("companies").select("*").order("name",{ascending:!0});if(w)throw w;e(v||[])}catch(v){console.error("Error loading companies:",v),o(v.message)}finally{r(!1)}},[]),h=M.useCallback(async v=>{try{const{data:w,error:S}=await Te.from("companies").insert([v]).select().single();if(S)throw S;return e(E=>[...E,w].sort((T,j)=>T.name.localeCompare(j.name))),{data:w,error:null}}catch(w){return console.error("Error creating company:",w),{data:null,error:w.message}}},[]),f=M.useCallback(async(v,w)=>{try{const{data:S,error:E}=await Te.from("companies").update(w).eq("id",v).select().single();if(E)throw E;return e(T=>T.map(j=>j.id===v?S:j).sort((j,O)=>j.name.localeCompare(O.name))),{data:S,error:null}}catch(S){return console.error("Error updating company:",S),{data:null,error:S.message}}},[]),m=M.useCallback(async v=>{try{const{error:w}=await Te.from("companies").delete().eq("id",v);if(w)throw w;return e(S=>S.filter(E=>E.id!==v)),{error:null}}catch(w){return console.error("Error deleting company:",w),{error:w.message}}},[]),g=M.useCallback(v=>{if(!v)return t;const w=v.toLowerCase();return t.filter(S=>S.name?.toLowerCase().includes(w))},[t]);return M.useEffect(()=>{u()},[u]),M.useEffect(()=>{const v=Te.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},()=>{u()}).subscribe();return()=>{Te.removeChannel(v)}},[u]),{companies:t,loading:n,error:a,createCompany:h,updateCompany:f,deleteCompany:m,searchCompanies:g,reload:u}}function QI(){const[t,e]=M.useState(null),[n,r]=M.useState(!0),[a,o]=M.useState(null),u=M.useCallback(async()=>{try{r(!0);const{data:f,error:m}=await Te.from("Organization_Profile").select("*").single();if(m)if(m.code==="PGRST116")console.warn("No organization profile found. A default one should be created by the migration."),e(null);else throw m;e(f),o(null)}catch(f){console.error("Error fetching organization profile:",f),o(f.message)}finally{r(!1)}},[]);return M.useEffect(()=>{u();const f=Te.channel("public:Organization_Profile").on("postgres_changes",{event:"*",schema:"public",table:"Organization_Profile",filter:"id=eq.1"},m=>{m.new&&e(m.new)}).subscribe();return()=>{Te.removeChannel(f)}},[u]),{profile:t,loading:n,error:a,updateProfile:async f=>{try{const{data:m,error:g}=await Te.from("Organization_Profile").update(f).eq("id",1).select().single();if(g)throw g;return e(m),{data:m,error:null}}catch(m){return console.error("Error updating organization profile:",m),{data:null,error:m.message}}}}}function eU({createCompany:t,updateCompany:e,deleteCompany:n,updateProfile:r,organizationLogo:a,confirm:o,toastError:u}){const[h,f]=M.useState(null),[m,g]=M.useState({}),[v,w]=M.useState(!1),[S,E]=M.useState({name:"",logo:a||"",website:"",info:""});return{editingId:h,editForm:m,setEditForm:g,isCreating:v,newCompanyForm:S,setNewCompanyForm:E,handleEdit:I=>{f(I.id),g({...I})},handleSave:async()=>{const I=h;if(I==="organization"){const{name:K,logo:oe,website:ee,info:he}=m;await r({name:K,logo:oe,website:ee,info:he})}else await e(I,m);f(null),g({})},handleCancel:()=>{f(null),g({})},handleDelete:async(I,K)=>{if(!await o({title:"Delete Company",message:`Are you sure you want to delete "${K}"? This will also delete all assignments for this company.`,confirmText:"Delete",variant:"danger"}))return;const{error:ee}=await n(I);ee&&u(`Error deleting company: ${ee}`)},handleCreate:async()=>{if(!S.name.trim()){u("Company name is required");return}const{error:I}=await t(S);I?u(`Error creating company: ${I}`):(w(!1),E({name:"",logo:a,website:"",info:""}))},handleStartCreate:()=>{w(!0),E({name:"",logo:a,website:"",info:""})},handleCancelCreate:()=>{w(!1),E({name:"",logo:a,website:"",info:""})}}}function tU(){const{companies:t,loading:e,error:n,createCompany:r,updateCompany:a,deleteCompany:o}=m2(),{profile:u,loading:h,error:f,updateProfile:m}=QI(),{organizationLogo:g}=Ws(),{confirm:v,toastError:w}=Nl(),[S,E]=M.useState(""),{editingId:T,editForm:j,setEditForm:O,isCreating:P,newCompanyForm:N,setNewCompanyForm:V,handleEdit:q,handleSave:I,handleCancel:K,handleDelete:oe,handleCreate:ee,handleStartCreate:he,handleCancelCreate:Q}=eU({createCompany:r,updateCompany:a,deleteCompany:o,updateProfile:m,organizationLogo:g,confirm:v,toastError:w}),te=M.useMemo(()=>{const Y=[];if(u&&Y.push({...u,id:"organization",isOrganization:!0}),Y.push(...t),!S)return Y;const H=S.toLowerCase();return Y.filter(W=>W.name?.toLowerCase().includes(H))},[u,t,S]),pe=e||h,ce=n||f;return pe?y.jsx("div",{className:"p-4",children:"Loading data..."}):ce?y.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",ce]}):y.jsxs("div",{className:"h-full flex flex-col p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ae,{path:io,size:1,className:"text-gray-500"}),y.jsx("input",{type:"text",placeholder:"Search companies...",value:S,onChange:Y=>E(Y.target.value),className:"px-3 py-2 border rounded-lg"}),y.jsxs("span",{className:"text-sm text-gray-600",children:[te.length," of ",t.length+1]})]}),y.jsxs("button",{onClick:he,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[y.jsx(Ae,{path:zC,size:.8}),"Add Company"]})]}),P&&y.jsxs("div",{className:"mb-4 border rounded-lg overflow-hidden flex-shrink-0",children:[y.jsxs("div",{className:"p-4 bg-blue-50",children:[y.jsx("h3",{className:"font-bold mb-3",children:"New Company"}),y.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[y.jsx("h4",{className:"font-semibold text-sm mb-2 text-blue-800",children:"Public Info (visible to attendees)"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Company Name *",value:N.name,onChange:Y=>V({...N,name:Y.target.value}),className:"px-3 py-2 border rounded"}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company Logo"}),y.jsx(gc,{currentLogo:N.logo,onUploadComplete:(Y,H)=>{V({...N,logo:Y})},folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!0,onDelete:()=>{V({...N,logo:g})}}),y.jsx("input",{type:"text",placeholder:"Or paste external logo URL",value:N.logo,onChange:Y=>V({...N,logo:Y.target.value}),className:"px-3 py-2 border rounded mt-2 w-full text-sm"})]}),y.jsx("input",{type:"text",placeholder:"Website URL",value:N.website,onChange:Y=>V({...N,website:Y.target.value}),className:"px-3 py-2 border rounded"}),y.jsx("textarea",{placeholder:"Info",value:N.info,onChange:Y=>V({...N,info:Y.target.value}),className:"px-3 py-2 border rounded",rows:2})]})]}),y.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[y.jsx("h4",{className:"font-semibold text-sm mb-2 text-green-800",children:"Manager-Only Info (default contact info)"}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Contact Person",value:N.contact||"",onChange:Y=>V({...N,contact:Y.target.value}),className:"px-3 py-2 border rounded"}),y.jsx("input",{type:"text",placeholder:"Phone",value:N.phone||"",onChange:Y=>V({...N,phone:Y.target.value}),className:"px-3 py-2 border rounded"}),y.jsx("input",{type:"email",placeholder:"Email",value:N.email||"",onChange:Y=>V({...N,email:Y.target.value}),className:"px-3 py-2 border rounded"})]})]})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsxs("button",{onClick:ee,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:[y.jsx(Ae,{path:Ja,size:.7}),"Create"]}),y.jsxs("button",{onClick:Q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:[y.jsx(Ae,{path:Qa,size:.7}),"Cancel"]})]})]}),y.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[y.jsxs("table",{className:"w-full rounded",style:{tableLayout:"fixed",fontSize:"11px"},children:[y.jsxs("thead",{className:"sticky top-0 z-10",children:[y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 text-center bg-blue-100 border-b font-bold text-blue-800",colSpan:4,children:"Public Info"}),y.jsx("th",{className:"p-2 text-center bg-green-100 border-b font-bold text-green-800",colSpan:3,children:"Manager-Only Info"}),y.jsx("th",{className:"p-2 bg-gray-100 border-b font-semibold text-gray-900",rowSpan:2,style:{minWidth:"90px",width:"90px",maxWidth:"120px"},children:"Actions"})]}),y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Name"}),y.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Logo"}),y.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Website"}),y.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Info"}),y.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Contact"}),y.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Phone"}),y.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Email"})]})]}),y.jsx("tbody",{children:te.map(Y=>{const H=T===Y.id,W=Y.isOrganization,se=W?"bg-gray-700 text-white":"bg-white text-gray-900 hover:bg-gray-50";return y.jsxs("tr",{className:`${se} border-b`,children:[y.jsx("td",{className:`py-1 px-3 border-b text-left ${W?"":"bg-blue-50"}`,children:H?y.jsx("input",{type:"text",value:j.name,onChange:xe=>O({...j,name:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1"}):y.jsx("span",{className:"font-semibold",children:Y.name})}),y.jsx("td",{className:`py-1 px-3 border-b text-left ${W?"":"bg-blue-50"}`,children:H?y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(gc,{currentLogo:j.logo,onUploadComplete:(xe,B)=>{O({...j,logo:xe})},folder:W?"organization":"companies",label:"Upload",showPreview:!0,allowDelete:!0,onDelete:()=>{O({...j,logo:g})}}),y.jsx("input",{type:"text",value:j.logo||"",onChange:xe=>O({...j,logo:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1 text-xs",placeholder:"Or paste URL"})]}):y.jsx("img",{src:Ji(Y.logo&&Y.logo.trim()!==""?Y.logo:g),alt:Y.name,className:"h-8 object-contain"})}),y.jsx("td",{className:`py-1 px-3 border-b text-left ${W?"":"bg-blue-50"}`,children:H?y.jsx("input",{type:"text",value:j.website||"",onChange:xe=>O({...j,website:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Website URL"}):Y.website?y.jsx("a",{href:Y.website.startsWith("http")?Y.website:`https://${Y.website}`,target:"_blank",rel:"noopener noreferrer",className:W?"text-blue-300 hover:underline":"text-blue-600 hover:underline",children:Y.website.replace(/^https?:\/\//,"").substring(0,30)}):y.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),y.jsx("td",{className:`py-1 px-3 border-b text-left max-w-xs ${W?"":"bg-blue-50"}`,children:H?y.jsx("textarea",{value:j.info||"",onChange:xe=>O({...j,info:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4}):y.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap",children:Y.info||y.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})})}),y.jsx("td",{className:`py-1 px-3 border-b text-left ${W?"":"bg-green-50"}`,children:H?y.jsx("input",{type:"text",value:j.contact||"",onChange:xe=>O({...j,contact:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Contact Person"}):y.jsx("span",{className:"text-xs",children:Y.contact||y.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),y.jsx("td",{className:`py-1 px-3 border-b text-left ${W?"":"bg-green-50"}`,children:H?y.jsx("input",{type:"text",value:j.phone||"",onChange:xe=>O({...j,phone:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Phone"}):y.jsx("span",{className:"text-xs",children:Y.phone||y.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),y.jsx("td",{className:`py-1 px-3 border-b text-left ${W?"":"bg-green-50"}`,children:H?y.jsx("input",{type:"email",value:j.email||"",onChange:xe=>O({...j,email:xe.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Email"}):y.jsx("span",{className:"text-xs",children:Y.email||y.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),y.jsx("td",{className:"py-1 px-3 border-b text-left",children:H?y.jsxs("div",{className:"flex gap-1 justify-center",children:[y.jsx("button",{onClick:I,className:"p-1.5 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:y.jsx(Ae,{path:Ja,size:.8})}),y.jsx("button",{onClick:K,className:"p-1.5 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:y.jsx(Ae,{path:Qa,size:.8})})]}):y.jsxs("div",{className:"flex gap-1 justify-center",children:[y.jsx("button",{onClick:()=>q(Y),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:y.jsx(Ae,{path:DC,size:.8})}),!W&&y.jsx("button",{onClick:()=>oe(Y.id,Y.name),className:"p-1.5 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete",children:y.jsx(Ae,{path:Ry,size:.8})}),W&&y.jsx("div",{className:"flex items-center justify-center pt-1 text-gray-300",children:y.jsx(Ae,{path:Ka,size:.8})})]})})]},Y.id)})})]}),te.length===0&&y.jsx("div",{className:"text-center py-8 text-gray-500",children:S?"No items found matching your search":'No companies yet. Click "Add Company" to create one.'})]})]})}function g2(t){const[e,n]=M.useState([]),[r,a]=M.useState(!0),[o,u]=M.useState(null);return M.useEffect(()=>{async function h(){try{a(!0),u(null);const{data:f,error:m}=await Te.from("Markers_Core").select("id").lt("id",1e3).order("id",{ascending:!0});if(m)throw m;const{data:g,error:v}=await Te.from("Markers_Appearance").select("id, glyph").lt("id",1e3);if(v)throw v;const w={};(g||[]).forEach(E=>{E&&E.id&&(w[E.id]=E.glyph||"")});const S=(f||[]).map(E=>({id:E.id,glyph:w[E.id]||E.id.toString()}));n(S)}catch(f){console.error("Error loading markers:",f),u(f)}finally{a(!1)}}h()},[t]),{markers:e,loading:r,error:o}}function nU({selectedYear:t}){const{organizationLogo:e}=Ws(),{subscriptions:n,loading:r,error:a,subscribeCompany:o,updateSubscription:u,unsubscribeCompany:h,archiveCurrentYear:f,copyFromPreviousYear:m}=Pc(t),{companies:g}=m2(),{assignments:v}=Sf(t),{markers:w}=g2(t),[S,E]=M.useState(""),[T,j]=M.useState(null),[O,P]=M.useState({}),[N,V]=M.useState(!1),[q,I]=M.useState(""),[K,oe]=M.useState("company"),[ee,he]=M.useState("asc"),{confirm:Q,toastError:te,toastSuccess:pe,toastWarning:ce}=Nl(),Y=M.useMemo(()=>{const ve=new Set(n.map(Le=>Le.company_id));return g.filter(Le=>!ve.has(Le.id))},[g,n]),H=M.useMemo(()=>{const ve={};return v.forEach(Le=>{ve[Le.company_id]||(ve[Le.company_id]=[]),ve[Le.company_id].push(Le)}),ve},[v]),W=M.useMemo(()=>{const ve={};return w.forEach(Le=>{ve[Le.id]=Le.glyph}),ve},[w]),se=M.useCallback(ve=>{const Le=H[ve]||[];if(Le.length===0)return"-";const Ve=Le.sort((De,He)=>De.marker_id-He.marker_id).map(De=>W[De.marker_id]||De.marker_id.toString()).filter(Boolean);return Ve.length>0?Ve.join(", "):"-"},[H,W]),xe=M.useMemo(()=>{let ve=n;if(S){const Ve=S.toLowerCase();ve=ve.filter(De=>De.company?.name?.toLowerCase().includes(Ve))}return[...ve].sort((Ve,De)=>{let He=0;if(K==="company"){const gt=(Ve.company?.name||"").toLowerCase(),Rt=(De.company?.name||"").toLowerCase();He=gt.localeCompare(Rt)}else if(K==="booths"){const gt=se(Ve.company_id),Rt=se(De.company_id);if(gt==="-"&&Rt!=="-")return 1;if(gt!=="-"&&Rt==="-")return-1;if(gt==="-"&&Rt==="-")return 0;He=gt.localeCompare(Rt,void 0,{numeric:!0})}return ee==="asc"?He:-He})},[n,S,K,ee,se]),B=M.useMemo(()=>xe.reduce((ve,Le)=>(ve.booth_count+=Le.booth_count||0,ve.breakfast_sat+=Le.breakfast_sat||0,ve.lunch_sat+=Le.lunch_sat||0,ve.bbq_sat+=Le.bbq_sat||0,ve.breakfast_sun+=Le.breakfast_sun||0,ve.lunch_sun+=Le.lunch_sun||0,ve.coins+=Le.coins||0,ve),{booth_count:0,breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[xe]),U=ve=>{j(ve.id),P({...ve})},ie=async()=>{const{id:ve,company:Le,...Ve}=O;await u(ve,Ve),j(null),P({})},D=()=>{j(null),P({})},Z=async ve=>{const Le=ve.company?.name||"this company",Ve=se(ve.company_id),De=Ve?` and their booth assignments (${Ve})`:"";if(!await Q({title:"Unsubscribe Company",message:`Unsubscribe ${Le} from ${t}? This will delete their subscription${De}.`,confirmText:"Unsubscribe",variant:"danger"}))return;const{error:gt}=await h(ve.id);gt&&te(`Error unsubscribing company: ${gt}`)},ne=async()=>{if(!q){ce("Please select a company");return}const{error:ve}=await o(parseInt(q));ve?te(`Error subscribing company: ${ve}`):(V(!1),I(""))},de=async()=>{if(!await Q({title:"Archive Subscriptions",message:`Archive all subscriptions for ${t}? This will move them to the archive and clear the active list.`,confirmText:"Archive",variant:"warning"}))return;const{data:Le,error:Ve}=await f();Ve?te(`Error archiving: ${Ve}`):pe(`Archived ${Le} subscriptions for ${t}`)},we=async()=>{const ve=t-1;if(!Q(`Copy all subscriptions from ${ve} to ${t}?`))return;const{error:Le}=await m(ve);Le&&alert(`Error copying subscriptions: ${Le}`)},Re=ve=>{K===ve?he(ee==="asc"?"desc":"asc"):(oe(ve),he("asc"))};return r?y.jsx("div",{className:"p-4",children:"Loading subscriptions..."}):a?y.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",a]}):y.jsxs("div",{className:"h-full flex flex-col p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ae,{path:io,size:1,className:"text-gray-500"}),y.jsx("input",{type:"text",placeholder:"Search subscribed companies...",value:S,onChange:ve=>E(ve.target.value),className:"px-3 py-2 border rounded-lg"}),y.jsxs("span",{className:"text-sm text-gray-600",children:[xe.length," of ",n.length]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:we,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",title:`Copy from ${t-1}`,children:[y.jsx(Ae,{path:WM,size:.8}),"Copy from ",t-1]}),y.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[y.jsx(Ae,{path:MC,size:.8}),"Archive ",t]}),y.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[y.jsx(Ae,{path:zC,size:.8}),"Subscribe Company"]})]})]}),N&&y.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-blue-50 flex-shrink-0",children:[y.jsxs("h3",{className:"font-bold mb-3",children:["Subscribe Company to ",t]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("select",{value:q,onChange:ve=>I(ve.target.value),className:"flex-1 px-3 py-2 border rounded",children:[y.jsx("option",{value:"",children:"Select a company..."}),Y.map(ve=>y.jsx("option",{value:ve.id,children:ve.name},ve.id))]}),y.jsxs("button",{onClick:ne,className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[y.jsx(Ae,{path:Ja,size:.7}),"Subscribe"]}),y.jsxs("button",{onClick:()=>{V(!1),I("")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:[y.jsx(Ae,{path:Qa,size:.7}),"Cancel"]})]}),Y.length===0&&y.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["All companies are already subscribed to ",t]})]}),y.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[y.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[y.jsxs("thead",{className:"bg-gray-100 text-gray-900 sticky top-0 z-10",children:[y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Re("booths"),title:"Click to sort by booth labels",rowSpan:3,children:y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{children:"Booths"}),K==="booths"&&y.jsx(Ae,{path:ee==="asc"?Kx:Gx,size:.6,className:"text-blue-600"})]})}),y.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Re("company"),title:"Click to sort by company name",rowSpan:3,children:y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{children:"Company"}),K==="company"&&y.jsx(Ae,{path:ee==="asc"?Kx:Gx,size:.6,className:"text-blue-600"})]})}),y.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Contact"}),y.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Phone"}),y.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Email"}),y.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:"Booth Count"}),y.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Area"}),y.jsx("th",{className:"p-2 text-center border-b bg-blue-50",colSpan:3,children:y.jsx("span",{className:"font-bold text-blue-700",children:"Saturday"})}),y.jsx("th",{className:"p-2 text-center border-b bg-green-50",colSpan:2,children:y.jsx("span",{className:"font-bold text-green-700",children:"Sunday"})}),y.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:"Coins"}),y.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Notes"}),y.jsx("th",{className:"p-2 text-center border-b bg-gray-100",rowSpan:3,style:{minWidth:"80px"},children:"Actions"})]}),y.jsxs("tr",{children:[y.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}}),y.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"Breakfast"}),y.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"Lunch"}),y.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"BBQ"}),y.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:"Breakfast"}),y.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:"Lunch"}),y.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}})]}),y.jsxs("tr",{children:[y.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:B.booth_count}),y.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:B.breakfast_sat}),y.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:B.lunch_sat}),y.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:B.bbq_sat}),y.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:B.breakfast_sun}),y.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:B.lunch_sun}),y.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:B.coins})]})]}),y.jsx("tbody",{children:xe.map(ve=>{const Le=T===ve.id,Ve=ve.company,De=se(ve.company_id);return y.jsxs("tr",{className:"bg-white hover:bg-gray-50 border-b",children:[y.jsx("td",{className:"p-2 text-left",children:y.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:De})}),y.jsx("td",{className:"p-2 text-left",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("img",{src:Ji(Ve?.logo||e),alt:Ve?.name,className:"w-8 h-8 object-contain"}),y.jsx("span",{className:"font-semibold text-gray-700",children:Ve?.name})]})}),y.jsx("td",{className:"p-2 text-left",children:Le?y.jsx("input",{type:"text",value:O.contact||"",onChange:He=>P({...O,contact:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.contact||"-"})}),y.jsx("td",{className:"p-2 text-left",children:Le?y.jsx("input",{type:"text",value:O.phone||"",onChange:He=>P({...O,phone:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.phone||"-"})}),y.jsx("td",{className:"p-2 text-left",children:Le?y.jsx("input",{type:"email",value:O.email||"",onChange:He=>P({...O,email:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.email||"-"})}),y.jsx("td",{className:"p-2 text-center",children:Le?y.jsx("input",{type:"number",min:"1",value:O.booth_count||1,onChange:He=>P({...O,booth_count:parseInt(He.target.value)}),className:"w-16 px-2 py-1 border rounded text-xs text-center bg-white text-gray-900"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.booth_count})}),y.jsx("td",{className:"p-2",children:Le?y.jsx("input",{type:"text",value:O.area||"",onChange:He=>P({...O,area:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",placeholder:"large field, small field..."}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.area||"-"})}),["breakfast_sat","lunch_sat","bbq_sat"].map(He=>y.jsx("td",{className:"p-2 text-center bg-blue-50",children:Le?y.jsx("input",{type:"number",min:"0",value:O[He]||0,onChange:gt=>P({...O,[He]:parseInt(gt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve[He]})},He)),["breakfast_sun","lunch_sun"].map(He=>y.jsx("td",{className:"p-2 text-center bg-green-50",children:Le?y.jsx("input",{type:"number",min:"0",value:O[He]||0,onChange:gt=>P({...O,[He]:parseInt(gt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve[He]})},He)),y.jsx("td",{className:"p-2 text-center",children:Le?y.jsx("input",{type:"number",min:"0",value:O.coins||0,onChange:He=>P({...O,coins:parseInt(He.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center bg-white text-gray-900"}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.coins})}),y.jsx("td",{className:"p-2 text-left",children:Le?y.jsx("textarea",{value:O.notes||"",onChange:He=>P({...O,notes:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",rows:2}):y.jsx("span",{className:"text-xs text-gray-700",children:ve.notes||"-"})}),y.jsx("td",{className:"p-2 text-center",children:Le?y.jsxs("div",{className:"flex gap-1 justify-center",children:[y.jsx("button",{onClick:ie,className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:y.jsx(Ae,{path:Ja,size:.6})}),y.jsx("button",{onClick:D,className:"p-1 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:y.jsx(Ae,{path:Qa,size:.6})})]}):y.jsxs("div",{className:"flex gap-1 justify-center",children:[y.jsx("button",{onClick:()=>U(ve),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:y.jsx(Ae,{path:DC,size:.6})}),y.jsx("button",{onClick:()=>Z(ve),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Unsubscribe",children:y.jsx(Ae,{path:Ry,size:.6})})]})})]},ve.id)})})]}),xe.length===0&&y.jsx("div",{className:"text-center py-8 text-gray-500",children:S?"No subscriptions found matching your search":`No companies subscribed to ${t} yet. Click "Subscribe Company" to add one.`})]})]})}const cS="assignmentsTab_sortPreferences";function iU({selectedYear:t}){const[e,n]=M.useState(""),a=(()=>{try{const Z=localStorage.getItem(cS);if(Z)return JSON.parse(Z)}catch(Z){console.error("Error loading sort preferences:",Z)}return{sortBy:"alphabetic",sortDirection:"asc",columnSort:"markerId",columnSortDirection:"asc"}})(),[o,u]=M.useState(a.sortBy),[h,f]=M.useState(a.sortDirection),[m,g]=M.useState(a.columnSort),[v,w]=M.useState(a.columnSortDirection),{markers:S,loading:E}=g2(),{assignments:T,loading:j,error:O,assignCompanyToMarker:P,unassignCompanyFromMarker:N,archiveCurrentYear:V,loadArchivedAssignments:q}=Sf(t),{subscriptions:I}=Pc(t),{confirm:K,toastError:oe,toastSuccess:ee,toastInfo:he}=Nl(),Q=M.useMemo(()=>I.map(Z=>({id:Z.company_id,name:Z.company?.name||"Unknown",logo:Z.company?.logo||""})),[I]);M.useEffect(()=>{try{const Z={sortBy:o,sortDirection:h,columnSort:m,columnSortDirection:v};localStorage.setItem(cS,JSON.stringify(Z))}catch(Z){console.error("Error saving sort preferences:",Z)}},[o,h,m,v]);const te=M.useMemo(()=>{const Z={};return T.forEach(ne=>{Z[ne.company_id]=(Z[ne.company_id]||0)+1}),Z},[T]),pe=M.useMemo(()=>{const Z={};return T.forEach(ne=>{(!Z[ne.company_id]||ne.marker_id<Z[ne.company_id])&&(Z[ne.company_id]=ne.marker_id)}),Z},[T]),ce=M.useMemo(()=>[...e?Q.filter(de=>de.name?.toLowerCase().includes(e.toLowerCase())):Q].sort((de,we)=>{const Re=te[de.id]||0,ve=te[we.id]||0,Le=pe[de.id],Ve=pe[we.id];let De=0;switch(o){case"byMarker":!Le&&Ve?De=1:Le&&!Ve?De=-1:!Le&&!Ve?De=de.name.localeCompare(we.name):Le!==Ve?De=Le-Ve:De=de.name.localeCompare(we.name);break;case"unassignedFirst":Re===0&&ve>0?De=-1:Re>0&&ve===0?De=1:Re===0&&ve===0?De=de.name.localeCompare(we.name):!Le&&Ve?De=1:Le&&!Ve?De=-1:Le!==Ve?De=Le-Ve:De=de.name.localeCompare(we.name);break;case"alphabetic":default:De=de.name.localeCompare(we.name);break}return h==="desc"?-De:De}),[Q,e,o,h,te,pe]),Y=M.useMemo(()=>[...S].sort((ne,de)=>{let we=0;return m==="glyphText"?we=ne.glyph.localeCompare(de.glyph,void 0,{numeric:!0,sensitivity:"base"}):we=ne.id-de.id,v==="desc"?-we:we}),[S,m,v]),H=M.useMemo(()=>{const Z={};return T.forEach(ne=>{const de=`${ne.company_id}_${ne.marker_id}`;Z[de]=ne}),Z},[T]),W=M.useMemo(()=>{const Z=new Set;return T.forEach(ne=>{Z.add(ne.marker_id)}),Z},[T]),se=Z=>W.has(Z),xe=(Z,ne)=>{const de=`${Z}_${ne}`;return!!H[de]},B=(Z,ne)=>{const de=`${Z}_${ne}`;return H[de]},U=async(Z,ne)=>{if(B(Z,ne)){const{error:we}=await N(ne,Z);we&&oe(`Error removing assignment: ${we}`)}else{const we=T.filter(ve=>ve.marker_id===ne);if(we.length>0){const Le=Q.find(Rt=>Rt.id===Z)?.name||"this company",De=Y.find(Rt=>Rt.id===ne)?.glyph||ne;let He;if(we.length===1){const Qn=Q.find(Pi=>Pi.id===we[0].company_id)?.name||"another company";He=`Booth ${De} is already assigned to ${Qn}.

Assign ${Le} as an additional company for this booth?`}else{const Rt=we.map(Qn=>Q.find(Ri=>Ri.id===Qn.company_id)?.name).filter(Boolean).join(", ");He=`Booth ${De} is already assigned to ${we.length} companies: ${Rt}.

Assign ${Le} as another company for this booth?`}if(!await K({title:"Multiple Assignments",message:He,confirmText:"Assign",variant:"warning"}))return}const{error:Re}=await P(ne,Z,null);Re&&oe(`Error creating assignment: ${Re}`)}},ie=async()=>{if(!await K({title:"Archive Assignments",message:`Archive all assignments for ${t}? This will move them to the archive and clear the current year.`,confirmText:"Archive",variant:"warning"}))return;const{error:ne}=await V();ne?oe(`Error archiving: ${ne}`):ee(`Successfully archived ${T.length} assignments for ${t}`)},D=async Z=>{const{error:ne}=await q(Z);ne?oe(`Error loading archived assignments: ${ne}`):he(`Archived data loaded for ${Z}. Feature coming soon: display in table.`)};return j||E?y.jsx("div",{className:"p-4",children:"Loading assignments..."}):O?y.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",O]}):y.jsxs("div",{className:"h-full flex flex-col p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ae,{path:io,size:1,className:"text-gray-500"}),y.jsx("input",{type:"text",placeholder:"Search companies...",value:e,onChange:Z=>n(Z.target.value),className:"px-3 py-2 border rounded-lg"}),y.jsxs("span",{className:"text-sm text-gray-600",children:[ce.length," of ",Q.length]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>D(t),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",title:`View archived assignments for ${t}`,children:[y.jsx(Ae,{path:eN,size:.8}),y.jsx("span",{children:"Archive"})]}),y.jsx("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:T.length===0,title:`Archive all assignments for ${t}`,children:y.jsx(Ae,{path:MC,size:.8})}),y.jsxs("div",{className:"flex items-end gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Companies"}),y.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[y.jsxs("select",{value:o,onChange:Z=>u(Z.target.value),className:"pl-3 pr-8 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0",title:"Sort table rows",children:[y.jsx("option",{value:"alphabetic",children:"A-Z"}),y.jsx("option",{value:"byMarker",children:"Marker"}),y.jsx("option",{value:"unassignedFirst",children:"Unassigned"})]}),y.jsx("button",{onClick:()=>f(h==="asc"?"desc":"asc"),className:"p-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:h==="asc"?"Ascending":"Descending",children:y.jsx(Ae,{path:h==="asc"?Zx:qx,size:.8})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Markers"}),y.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[y.jsxs("select",{value:m,onChange:Z=>g(Z.target.value),className:"pl-3 pr-8 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0",title:"Sort table columns",children:[y.jsx("option",{value:"markerId",children:"ID"}),y.jsx("option",{value:"glyphText",children:"Label"})]}),y.jsx("button",{onClick:()=>w(v==="asc"?"desc":"asc"),className:"p-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:v==="asc"?"Ascending":"Descending",children:y.jsx(Ae,{path:v==="asc"?Zx:qx,size:.8})})]})]})]})]})]}),y.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[y.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[y.jsx("thead",{className:"sticky top-0 z-10",children:y.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[y.jsx("th",{className:"p-2 text-left font-semibold border-b border-r bg-gray-200 sticky left-0 z-20",style:{minWidth:"200px"},children:"Company"}),Y.map(Z=>{const ne=se(Z.id);return y.jsx("th",{className:`p-1 text-center border-b ${ne?"":"bg-gray-200"}`,style:{minWidth:"45px",maxWidth:"45px"},title:`Marker ID: ${Z.id}, Booth: ${Z.glyph}${ne?"":" (Unassigned)"}`,children:y.jsx("div",{className:`font-semibold ${ne?"":"text-gray-500"}`,children:Z.glyph})},Z.id)})]})}),y.jsx("tbody",{children:ce.map(Z=>{const ne=te[Z.id]||0;return y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"p-2 border-b border-r bg-white sticky left-0 z-10",children:y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("div",{className:"font-semibold text-gray-900 truncate",title:Z.name,children:Z.name}),y.jsx("span",{className:`inline-flex items-center justify-center min-w-[24px] h-5 px-1.5 rounded-full text-xs font-medium ${ne===0?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-700"}`,title:`${ne} assignment${ne!==1?"s":""}`,children:ne})]})}),Y.map(de=>{const we=xe(Z.id,de.id),Re=se(de.id);return y.jsx("td",{className:`p-0 border-b border-r text-center ${Re?"":"bg-gray-100"}`,children:y.jsx("button",{onClick:()=>U(Z.id,de.id),className:`w-full h-full p-2 transition-colors ${we?"bg-green-100 hover:bg-green-200 text-green-700":Re?"bg-white hover:bg-gray-100 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-400"}`,title:we?`${Z.name}  Booth ${de.glyph}`:`Assign ${Z.name} to Booth ${de.glyph}`,children:we&&y.jsx(Ae,{path:Ja,size:.6})})},de.id)})]},Z.id)})})]}),ce.length===0&&y.jsx("div",{className:"text-center py-8 text-gray-500",children:e?"No companies found matching your search":"No companies available. Add companies in the Companies tab."})]}),y.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center",children:y.jsx(Ae,{path:Ja,size:.5,className:"text-green-700"})}),y.jsx("span",{className:"font-medium",children:"Assigned"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 bg-white border border-gray-300 rounded"}),y.jsx("span",{className:"font-medium",children:"Not assigned"})]})]}),y.jsxs("div",{className:"text-sm text-gray-900",children:[y.jsxs("strong",{children:["Statistics for ",t,":"]})," ",T.length," assignments,"," ",new Set(T.map(Z=>Z.company_id)).size," unique companies,"," ",new Set(T.map(Z=>Z.marker_id)).size," markers assigned"]})]})]})}function rU(){const{t}=Ni(),{role:e,isSuperAdmin:n}=cf(),[r,a]=M.useState("user-management"),u=[{id:"user-management",label:t("settings.userManagement.title"),icon:IM,roles:["super_admin","system_manager"],component:y.jsx(sU,{})},{id:"organization",label:t("settings.organization.title"),icon:Ka,roles:["super_admin","system_manager"],component:y.jsx(aU,{})},{id:"branding",label:t("settings.branding.title"),icon:hN,roles:["super_admin","system_manager"],component:y.jsx(oU,{})},{id:"map-defaults",label:t("settings.mapDefaults.title"),icon:lf,roles:["super_admin","system_manager"],component:y.jsx(lU,{})},{id:"event-defaults",label:t("settings.eventDefaults.title"),icon:PC,roles:["super_admin","system_manager","event_manager"],component:y.jsx(uU,{})},{id:"advanced",label:t("settings.advanced.title"),icon:OC,roles:["super_admin"],component:y.jsx(cU,{})}].filter(f=>n?!0:f.roles.includes(e));mi.useEffect(()=>{u.find(f=>f.id===r)||a(u[0]?.id||"event-defaults")},[e]);const h=u.find(f=>f.id===r)?.component;return y.jsxs("div",{className:"h-full flex flex-col",children:[y.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("settings.title")}),y.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t("settings.subtitle"),y.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium capitalize",children:e?.replace("_"," ")})]})]}),y.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[y.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:y.jsx("nav",{className:"p-4 space-y-1",children:u.map(f=>y.jsxs("button",{onClick:()=>a(f.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${r===f.id?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[y.jsx(Ae,{path:f.icon,size:.9}),y.jsx("span",{children:f.label})]},f.id))})}),y.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:h})]})]})}function sU(){const{t}=Ni();return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("settings.userManagement.title")}),y.jsx("p",{className:"text-gray-600",children:t("settings.userManagement.description")}),y.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:y.jsx("p",{className:"text-sm text-blue-800",children:" User Management component coming soon..."})})]})}function aU(){const{t}=Ni();return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("settings.organization.title")}),y.jsx("p",{className:"text-gray-600",children:t("settings.organization.description")}),y.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:y.jsx("p",{className:"text-sm text-blue-800",children:" Organization Profile component coming soon..."})})]})}function oU(){const{t}=Ni();return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("settings.branding.title")}),y.jsx("p",{className:"text-gray-600",children:t("settings.branding.description")}),y.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:y.jsx("p",{className:"text-sm text-blue-800",children:" Branding Settings component coming soon..."})})]})}function lU(){const{t}=Ni();return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("settings.mapDefaults.title")}),y.jsx("p",{className:"text-gray-600",children:t("settings.mapDefaults.description")}),y.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:y.jsx("p",{className:"text-sm text-blue-800",children:" Map Defaults component coming soon..."})})]})}function uU(){const{t}=Ni();return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("settings.eventDefaults.title")}),y.jsx("p",{className:"text-gray-600",children:t("settings.eventDefaults.description")}),y.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:y.jsx("p",{className:"text-sm text-blue-800",children:" Event Defaults component coming soon..."})})]})}function cU(){const{t}=Ni();return y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[y.jsx(Ae,{path:OC,size:1,className:"text-red-600"}),t("settings.advanced.title")]}),y.jsx("p",{className:"text-gray-600",children:t("settings.advanced.description")}),y.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:y.jsx("p",{className:"text-sm text-red-800",children:" Advanced Settings (Danger Zone) coming soon..."})})]})}const hU=M.lazy(()=>Qi(()=>Promise.resolve().then(()=>KI),void 0));M.lazy(()=>Qi(()=>import("./AccessibilityToggle-PaDzvVbq.js"),[]));M.lazy(()=>Qi(()=>import("./FeedbackForm-Cbg7Y6sY.js"),[]));function dU({branding:t,user:e,markersState:n,updateMarker:r,setMarkersState:a,onLogin:o,selectedYear:u,setSelectedYear:h}){const f=({children:m})=>y.jsx(zm,{children:y.jsxs(Qx,{selectedYear:u,children:[y.jsx(qO,{}),y.jsx("main",{className:"pb-16",children:m}),y.jsx(xN,{})]})});return y.jsxs(lO,{children:[y.jsx(Kn,{path:"/",element:y.jsx(f,{children:y.jsx(Dy,{selectedYear:u,branding:t})})}),y.jsx(Kn,{path:"/map",element:y.jsx(f,{children:y.jsx(M.Suspense,{fallback:y.jsx("div",{children:"Loading map..."}),children:y.jsx(hU,{isAdminView:!1,markersState:n,updateMarker:r,setMarkersState:a,selectedYear:u})})})}),y.jsx(Kn,{path:"/exhibitors",element:y.jsx(f,{children:y.jsx(CN,{markersState:n,selectedYear:u})})}),y.jsx(Kn,{path:"/schedule",element:y.jsx(f,{children:y.jsx(EN,{selectedYear:u})})}),y.jsx(Kn,{path:"/reset-password",element:y.jsx(zm,{children:y.jsx(M.Suspense,{fallback:y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:y.jsx(PM,{branding:t})})})}),y.jsxs(Kn,{path:"/admin",element:e?y.jsx(Qx,{selectedYear:u,children:y.jsx(YD,{selectedYear:u,setSelectedYear:h})}):y.jsx(zm,{children:y.jsx(M.Suspense,{fallback:y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:y.jsx(NM,{onLogin:o,branding:t})})}),children:[y.jsx(Kn,{index:!0,element:y.jsx(XD,{selectedYear:u})}),y.jsx(Kn,{path:"map",element:y.jsx(WI,{markersState:n,setMarkersState:a,updateMarker:r,selectedYear:u})}),y.jsx(Kn,{path:"companies",element:y.jsx(tU,{})}),y.jsx(Kn,{path:"subscriptions",element:y.jsx(nU,{selectedYear:u})}),y.jsx(Kn,{path:"assignments",element:y.jsx(iU,{selectedYear:u})}),y.jsx(Kn,{path:"settings",element:y.jsx(rU,{})})]}),y.jsx(Kn,{path:"/storage-test",element:y.jsx(bN,{})})]})}const fU="Event Map App",pU="Welcome to the event!",mU="Home",gU="Admin Dashboard",yU={event:"Event",parking:"Parking",food:"Food"},vU={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},_U={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",errors:{invalidToken:"Invalid or expired reset link. Redirecting to login...",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},bU={title:"Settings",subtitle:"Manage system configuration and preferences",userManagement:{title:"User Management",description:"Manage admin users, roles, and permissions"},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding Settings",description:"Colors, themes, and visual customization"},mapDefaults:{title:"Map Defaults",description:"Default map layers, zoom levels, and map settings"},eventDefaults:{title:"Event Defaults",description:"Default meal counts, booth sizes, and event preferences"},advanced:{title:"Advanced Settings",description:"System maintenance, data management, and danger zone"}},xU={appTitle:fU,welcome:pU,home:mU,admin:gU,marker:yU,adminLogin:vU,resetPassword:_U,settings:bU},wU="Evenementenkaart App",SU="Welkom op het evenement!",CU="Startpagina",EU="Admin Dashboard",TU={event:"Evenement",parking:"Parkeren",food:"Eten"},LU={title:"Manager Inloggen",subtitle:"Inloggen om evenementgegevens te beheren",email:"E-mail",emailPlaceholder:"Voer uw e-mailadres in",password:"Wachtwoord",passwordPlaceholder:"Voer uw wachtwoord in",show:"Toon",hide:"Verberg",forgotPassword:"Wachtwoord vergeten?",resetPassword:"Wachtwoord Resetten",backToLogin:"Terug naar inloggen",sendResetLink:"Verstuur Reset Link",resetEmailSent:"Wachtwoord reset link is verzonden naar uw e-mail",resetInstructions:"Voer uw e-mailadres in en we sturen u een link om uw wachtwoord te resetten.",loginButton:"Inloggen",loggingIn:"Bezig met inloggen...",rememberMe:"Onthoud mijn e-mail",rememberMeTooltip:"Uw browser zal ook aanbieden om uw wachtwoord veilig op te slaan",errors:{invalidCredentials:"Ongeldig e-mailadres of wachtwoord",emailRequired:"E-mail is verplicht",passwordRequired:"Wachtwoord is verplicht",networkError:"Netwerkfout. Controleer uw verbinding.",unknownError:"Er is een fout opgetreden. Probeer het opnieuw.",resetFailed:"Kon reset e-mail niet verzenden. Probeer het opnieuw."}},AU={title:"Nieuw wachtwoord instellen",instructions:"Voer hieronder uw nieuwe wachtwoord in. Maak het veilig!",newPassword:"Nieuw wachtwoord",newPasswordPlaceholder:"Voer nieuw wachtwoord in",confirmPassword:"Bevestig wachtwoord",confirmPasswordPlaceholder:"Voer nieuw wachtwoord opnieuw in",showPassword:"Toon wachtwoord",hidePassword:"Verberg wachtwoord",passwordRequirements:"Minimaal 6 tekens",updatePassword:"Wachtwoord bijwerken",updating:"Aan het bijwerken...",success:"Wachtwoord succesvol bijgewerkt!",redirecting:"Doorverwijzen naar inlogpagina...",backToLogin:"Terug naar inloggen",errors:{invalidToken:"Ongeldige of verlopen reset link. Doorverwijzen naar login...",passwordTooShort:"Wachtwoord moet minimaal 6 tekens zijn",passwordMismatch:"Wachtwoorden komen niet overeen",updateFailed:"Kon wachtwoord niet bijwerken. Probeer het opnieuw."}},kU={title:"Instellingen",subtitle:"Beheer systeemconfiguratie en voorkeuren",userManagement:{title:"Gebruikersbeheer",description:"Beheer admin gebruikers, rollen en rechten"},organization:{title:"Organisatieprofiel",description:"Organisatienaam, logo en contactinformatie"},branding:{title:"Branding Instellingen",description:"Kleuren, thema's en visuele aanpassing"},mapDefaults:{title:"Kaart Standaardinstellingen",description:"Standaard kaartlagen, zoomniveaus en kaartinstellingen"},eventDefaults:{title:"Evenement Standaardinstellingen",description:"Standaard maaltijdaantallen, standgrootte en evenementvoorkeuren"},advanced:{title:"Geavanceerde Instellingen",description:"Systeemonderhoud, gegevensbeheer en gevarenzone"}},jU={appTitle:wU,welcome:SU,home:CU,admin:EU,marker:TU,adminLogin:LU,resetPassword:AU,settings:kU};An.use(SM).init({resources:{en:{translation:xU},nl:{translation:jU}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});function OU(){const t=new Date().getFullYear(),[e,n]=M.useState(()=>{const S=localStorage.getItem("selectedEventYear");return S?parseInt(S,10):t});M.useEffect(()=>{localStorage.setItem("selectedEventYear",e.toString())},[e]);const{markers:r}=$O(e),[a,o,u]=FO(r),[h,f]=M.useState({logo:null,themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif",eventName:"4x4 Vakantiebeurs"});M.useEffect(()=>{async function S(){const{data:T,error:j}=await Te.from("Organization_Profile").select("*").eq("id",1).single();if(j){console.error("Error fetching Organization_Profile:",j);return}if(T){const O=T.logo||"";f({logo:O?Ji(O):null,eventName:T.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}S();const E=Te.channel("organization-profile-branding-sync").on("postgres_changes",{event:"*",schema:"public",table:"Organization_Profile",filter:"id=eq.1"},T=>{if(T.new){const j=T.new.logo||"";f({logo:j?Ji(j):null,eventName:T.new.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}).subscribe();return()=>{Te.removeChannel(E)}},[]);const[m,g]=M.useState(null);M.useEffect(()=>{Te.auth.getSession().then(({data:E})=>{g(E?.session?.user||null)});const{data:S}=Te.auth.onAuthStateChange((E,T)=>{g(T?.user||null)});return()=>{S?.subscription?.unsubscribe()}},[]);const v=MO,w={};return y.jsx(d2,{children:y.jsx(wN,{children:y.jsx(v,{...w,children:y.jsx(dU,{branding:h,user:m,markersState:a,updateMarker:o,setMarkersState:u,onLogin:g,selectedYear:e,setSelectedYear:n})})})})}const wg=wl();Nt.Icon.Default.mergeOptions({iconRetinaUrl:`${wg}assets/icons/marker-icon-2x.png`,iconUrl:`${wg}assets/icons/glyph-marker-icon-blue.svg`,shadowUrl:`${wg}assets/icons/marker-shadow.png`});VL.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(OU,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(`${wl()}service-worker.js`)});export{mi as R,y as j,M as r};
