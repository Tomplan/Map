(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _S(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Tm={exports:{}},Bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function Zj(){if(Hb)return Bu;Hb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:e,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Bu.Fragment=t,Bu.jsx=n,Bu.jsxs=n,Bu}var Fb;function Gj(){return Fb||(Fb=1,Tm.exports=Zj()),Tm.exports}var m=Gj(),jm={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function Kj(){if(qb)return Ke;qb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function O(V,X,z){this.props=V,this.context=X,this.refs=N,this.updater=z||E}O.prototype.isReactComponent={},O.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=O.prototype;function M(V,X,z){this.props=V,this.context=X,this.refs=N,this.updater=z||E}var U=M.prototype=new P;U.constructor=M,T(U,O.prototype),U.isPureReactComponent=!0;var H=Array.isArray;function I(){}var F={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function G(V,X,z){var W=z.ref;return{$$typeof:e,type:V,key:X,ref:W!==void 0?W:null,props:z}}function re(V,X){return G(V.type,X,V.props)}function K(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function Q(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(z){return X[z]})}var ae=/\/+/g;function se(V,X){return typeof V=="object"&&V!==null&&V.key!=null?Q(""+V.key):X.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,X,z,W,oe){var fe=typeof V;(fe==="undefined"||fe==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case e:case t:Ce=!0;break;case y:return Ce=V._init,q(Ce(V._payload),X,z,W,oe)}}if(Ce)return oe=oe(V),Ce=W===""?"."+se(V,0):W,H(oe)?(z="",Ce!=null&&(z=Ce.replace(ae,"$&/")+"/"),q(oe,X,z,"",function(Le){return Le})):oe!=null&&(K(oe)&&(oe=re(oe,z+(oe.key==null||V&&V.key===oe.key?"":(""+oe.key).replace(ae,"$&/")+"/")+Ce)),X.push(oe)),1;Ce=0;var Re=W===""?".":W+":";if(H(V))for(var ve=0;ve<V.length;ve++)W=V[ve],fe=Re+se(W,ve),Ce+=q(W,X,z,fe,oe);else if(ve=w(V),typeof ve=="function")for(V=ve.call(V),ve=0;!(W=V.next()).done;)W=W.value,fe=Re+se(W,ve++),Ce+=q(W,X,z,fe,oe);else if(fe==="object"){if(typeof V.then=="function")return q(de(V),X,z,W,oe);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ee(V,X,z){if(V==null)return V;var W=[],oe=0;return q(V,W,"","",function(fe){return X.call(z,fe,oe++)}),W}function Y(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(z){(V._status===0||V._status===-1)&&(V._status=1,V._result=z)},function(z){(V._status===0||V._status===-1)&&(V._status=2,V._result=z)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var we=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},R={map:ee,forEach:function(V,X,z){ee(V,function(){X.apply(this,arguments)},z)},count:function(V){var X=0;return ee(V,function(){X++}),X},toArray:function(V){return ee(V,function(X){return X})||[]},only:function(V){if(!K(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ke.Activity=v,Ke.Children=R,Ke.Component=O,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=M,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return F.H.useMemoCache(V)}},Ke.cache=function(V){return function(){return V.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(V,X,z){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=T({},V.props),oe=V.key;if(X!=null)for(fe in X.key!==void 0&&(oe=""+X.key),X)!te.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(W[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)W.children=z;else if(1<fe){for(var Ce=Array(fe),Re=0;Re<fe;Re++)Ce[Re]=arguments[Re+2];W.children=Ce}return G(V.type,oe,W)},Ke.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Ke.createElement=function(V,X,z){var W,oe={},fe=null;if(X!=null)for(W in X.key!==void 0&&(fe=""+X.key),X)te.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=X[W]);var Ce=arguments.length-2;if(Ce===1)oe.children=z;else if(1<Ce){for(var Re=Array(Ce),ve=0;ve<Ce;ve++)Re[ve]=arguments[ve+2];oe.children=Re}if(V&&V.defaultProps)for(W in Ce=V.defaultProps,Ce)oe[W]===void 0&&(oe[W]=Ce[W]);return G(V,fe,oe)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(V){return{$$typeof:h,render:V}},Ke.isValidElement=K,Ke.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:Y}},Ke.memo=function(V,X){return{$$typeof:g,type:V,compare:X===void 0?null:X}},Ke.startTransition=function(V){var X=F.T,z={};F.T=z;try{var W=V(),oe=F.S;oe!==null&&oe(z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(I,we)}catch(fe){we(fe)}finally{X!==null&&z.types!==null&&(X.types=z.types),F.T=X}},Ke.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ke.use=function(V){return F.H.use(V)},Ke.useActionState=function(V,X,z){return F.H.useActionState(V,X,z)},Ke.useCallback=function(V,X){return F.H.useCallback(V,X)},Ke.useContext=function(V){return F.H.useContext(V)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(V,X){return F.H.useDeferredValue(V,X)},Ke.useEffect=function(V,X){return F.H.useEffect(V,X)},Ke.useEffectEvent=function(V){return F.H.useEffectEvent(V)},Ke.useId=function(){return F.H.useId()},Ke.useImperativeHandle=function(V,X,z){return F.H.useImperativeHandle(V,X,z)},Ke.useInsertionEffect=function(V,X){return F.H.useInsertionEffect(V,X)},Ke.useLayoutEffect=function(V,X){return F.H.useLayoutEffect(V,X)},Ke.useMemo=function(V,X){return F.H.useMemo(V,X)},Ke.useOptimistic=function(V,X){return F.H.useOptimistic(V,X)},Ke.useReducer=function(V,X,z){return F.H.useReducer(V,X,z)},Ke.useRef=function(V){return F.H.useRef(V)},Ke.useState=function(V){return F.H.useState(V)},Ke.useSyncExternalStore=function(V,X,z){return F.H.useSyncExternalStore(V,X,z)},Ke.useTransition=function(){return F.H.useTransition()},Ke.version="19.2.0",Ke}var $b;function Lc(){return $b||($b=1,jm.exports=Kj()),jm.exports}var k=Lc();const gi=Qa(k);var Lm={exports:{}},Iu={},km={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function Wj(){return Zb||(Zb=1,(function(e){function t(q,ee){var Y=q.length;q.push(ee);e:for(;0<Y;){var we=Y-1>>>1,R=q[we];if(0<a(R,ee))q[we]=ee,q[Y]=R,Y=we;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],Y=q.pop();if(Y!==ee){q[0]=Y;e:for(var we=0,R=q.length,V=R>>>1;we<V;){var X=2*(we+1)-1,z=q[X],W=X+1,oe=q[W];if(0>a(z,Y))W<R&&0>a(oe,z)?(q[we]=oe,q[W]=Y,we=W):(q[we]=z,q[X]=Y,we=X);else if(W<R&&0>a(oe,Y))q[we]=oe,q[W]=Y,we=W;else break e}}return ee}function a(q,ee){var Y=q.sortIndex-ee.sortIndex;return Y!==0?Y:q.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],g=[],y=1,v=null,x=3,w=!1,E=!1,T=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(q){for(var ee=n(g);ee!==null;){if(ee.callback===null)r(g);else if(ee.startTime<=q)r(g),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(g)}}function H(q){if(T=!1,U(q),!E)if(n(d)!==null)E=!0,I||(I=!0,Q());else{var ee=n(g);ee!==null&&de(H,ee.startTime-q)}}var I=!1,F=-1,te=5,G=-1;function re(){return N?!0:!(e.unstable_now()-G<te)}function K(){if(N=!1,I){var q=e.unstable_now();G=q;var ee=!0;try{e:{E=!1,T&&(T=!1,P(F),F=-1),w=!0;var Y=x;try{t:{for(U(q),v=n(d);v!==null&&!(v.expirationTime>q&&re());){var we=v.callback;if(typeof we=="function"){v.callback=null,x=v.priorityLevel;var R=we(v.expirationTime<=q);if(q=e.unstable_now(),typeof R=="function"){v.callback=R,U(q),ee=!0;break t}v===n(d)&&r(d),U(q)}else r(d);v=n(d)}if(v!==null)ee=!0;else{var V=n(g);V!==null&&de(H,V.startTime-q),ee=!1}}break e}finally{v=null,x=Y,w=!1}ee=void 0}}finally{ee?Q():I=!1}}}var Q;if(typeof M=="function")Q=function(){M(K)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,se=ae.port2;ae.port1.onmessage=K,Q=function(){se.postMessage(null)}}else Q=function(){O(K,0)};function de(q,ee){F=O(function(){q(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(q){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var Y=x;x=ee;try{return q()}finally{x=Y}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=x;x=q;try{return ee()}finally{x=Y}},e.unstable_scheduleCallback=function(q,ee,Y){var we=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?we+Y:we):Y=we,q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Y+R,q={id:y++,callback:ee,priorityLevel:q,startTime:Y,expirationTime:R,sortIndex:-1},Y>we?(q.sortIndex=Y,t(g,q),n(d)===null&&q===n(g)&&(T?(P(F),F=-1):T=!0,de(H,Y-we))):(q.sortIndex=R,t(d,q),E||w||(E=!0,I||(I=!0,Q()))),q},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(q){var ee=x;return function(){var Y=x;x=ee;try{return q.apply(this,arguments)}finally{x=Y}}}})(Am)),Am}var Gb;function Yj(){return Gb||(Gb=1,km.exports=Wj()),km.exports}var Nm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function Xj(){if(Kb)return Tn;Kb=1;var e=Lc();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,y)},Tn.flushSync=function(d){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=g,r.p=y,r.d.f()}},Tn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},Tn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Tn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},Tn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=h(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},Tn.requestFormReset=function(d){r.d.r(d)},Tn.unstable_batchedUpdates=function(d,g){return d(g)},Tn.useFormState=function(d,g,y){return u.H.useFormState(d,g,y)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var Wb;function bS(){if(Wb)return Nm.exports;Wb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nm.exports=Xj(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function Jj(){if(Yb)return Iu;Yb=1;var e=Yj(),t=Lc(),n=bS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,p=s;;){var b=c.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===c)return d(b),i;if(S===p)return d(b),s;S=S.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=S;else{for(var A=!1,B=b.child;B;){if(B===c){A=!0,c=b,p=S;break}if(B===p){A=!0,p=b,c=S;break}B=B.sibling}if(!A){for(B=S.child;B;){if(B===c){A=!0,c=S,p=b;break}if(B===p){A=!0,p=S,c=b;break}B=B.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case O:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case I:return"SuspenseList";case G:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case M:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return s=i.displayName||null,s!==null?s:se(i.type)||"Memo";case te:s=i._payload,i=i._init;try{return se(i(s))}catch{}}return null}var de=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},we=[],R=-1;function V(i){return{current:i}}function X(i){0>R||(i.current=we[R],we[R]=null,R--)}function z(i,s){R++,we[R]=i.current,i.current=s}var W=V(null),oe=V(null),fe=V(null),Ce=V(null);function Re(i,s){switch(z(fe,s),z(oe,i),z(W,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?hb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=hb(s),i=db(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(W),z(W,i)}function ve(){X(W),X(oe),X(fe)}function Le(i){i.memoizedState!==null&&z(Ce,i);var s=W.current,c=db(s,i.type);s!==c&&(z(oe,i),z(W,c))}function Ve(i){oe.current===i&&(X(W),X(oe)),Ce.current===i&&(X(Ce),Pu._currentValue=Y)}var De,He;function gt(i){if(De===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);De=s&&s[1]||"",He=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+i+He}var Rt=!1;function ei(i,s){if(!i||Rt)return"";Rt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(pe){var he=pe}Reflect.construct(i,[],be)}else{try{be.call()}catch(pe){he=pe}i.call(be.prototype)}}else{try{throw Error()}catch(pe){he=pe}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(pe){if(pe&&he&&typeof pe.stack=="string")return[pe.stack,he.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),A=S[0],B=S[1];if(A&&B){var Z=A.split(`
`),ue=B.split(`
`);for(b=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ue.length&&!ue[b].includes("DetermineComponentFrameRoot");)b++;if(p===Z.length||b===ue.length)for(p=Z.length-1,b=ue.length-1;1<=p&&0<=b&&Z[p]!==ue[b];)b--;for(;1<=p&&0<=b;p--,b--)if(Z[p]!==ue[b]){if(p!==1||b!==1)do if(p--,b--,0>b||Z[p]!==ue[b]){var me=`
`+Z[p].replace(" at new "," at ");return i.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",i.displayName)),me}while(1<=p&&0<=b);break}}}finally{Rt=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?gt(c):""}function Pi(i,s){switch(i.tag){case 26:case 27:case 5:return gt(i.type);case 16:return gt("Lazy");case 13:return i.child!==s&&s!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return ei(i.type,!1);case 11:return ei(i.type.render,!1);case 1:return ei(i.type,!0);case 31:return gt("Activity");default:return""}}function Ri(i){try{var s="",c=null;do s+=Pi(i,c),c=i,i=i.return;while(i);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rs=Object.prototype.hasOwnProperty,Er=e.unstable_scheduleCallback,Tr=e.unstable_cancelCallback,so=e.unstable_shouldYield,ao=e.unstable_requestPaint,gn=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,et=e.unstable_LowPriority,lt=e.unstable_IdlePriority,Sn=e.log,Di=e.unstable_setDisableYieldValue,cn=null,Dt=null;function yn(i){if(typeof Sn=="function"&&Di(i),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(cn,i)}catch{}}var yt=Math.clz32?Math.clz32:Mf,Dn=Math.log,ti=Math.LN2;function Mf(i){return i>>>=0,i===0?32:31-(Dn(i)/ti|0)|0}var ea=256,ta=262144,na=4194304;function jr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function oo(i,s,c){var p=i.pendingLanes;if(p===0)return 0;var b=0,S=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var B=p&134217727;return B!==0?(p=B&~S,p!==0?b=jr(p):(A&=B,A!==0?b=jr(A):c||(c=B&~i,c!==0&&(b=jr(c))))):(B=p&~S,B!==0?b=jr(B):A!==0?b=jr(A):c||(c=p&~i,c!==0&&(b=jr(c)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,c=s&-s,S>=c||S===32&&(c&4194048)!==0)?s:b}function ia(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Of(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var i=na;return na<<=1,(na&62914560)===0&&(na=4194304),i}function Dl(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Lr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pf(i,s,c,p,b,S){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var B=i.entanglements,Z=i.expirationTimes,ue=i.hiddenUpdates;for(c=A&~c;0<c;){var me=31-yt(c),be=1<<me;B[me]=0,Z[me]=-1;var he=ue[me];if(he!==null)for(ue[me]=null,me=0;me<he.length;me++){var pe=he[me];pe!==null&&(pe.lane&=-536870913)}c&=~be}p!==0&&qc(i,p,0),S!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=S&~(A&~s))}function qc(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var p=31-yt(s);i.entangledLanes|=s,i.entanglements[p]=i.entanglements[p]|1073741824|c&261930}function $c(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var p=31-yt(c),b=1<<p;b&s|i[p]&s&&(i[p]|=s),c&=~b}}function Zc(i,s){var c=s&-s;return c=(c&42)!==0?1:zn(c),(c&(i.suspendedLanes|s))!==0?0:c}function zn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zl(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:Rb(i.type))}function Bl(i,s){var c=ee.p;try{return ee.p=i,s()}finally{ee.p=c}}var zi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+zi,hn="__reactProps$"+zi,kr="__reactContainer$"+zi,tr="__reactEvents$"+zi,Gc="__reactListeners$"+zi,Rf="__reactHandles$"+zi,Kc="__reactResources$"+zi,ra="__reactMarker$"+zi;function Il(i){delete i[Wt],delete i[hn],delete i[tr],delete i[Gc],delete i[Rf]}function Ar(i){var s=i[Wt];if(s)return s;for(var c=i.parentNode;c;){if(s=c[kr]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=_b(i);i!==null;){if(c=i[Wt])return c;i=_b(i)}return s}i=c,c=i.parentNode}return null}function ss(i){if(i=i[Wt]||i[kr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function nr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function as(i){var s=i[Kc];return s||(s=i[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Yt(i){i[ra]=!0}var Wc=new Set,Yc={};function Nr(i,s){ir(i,s),ir(i+"Capture",s)}function ir(i,s){for(Yc[i]=s,i=0;i<s.length;i++)Wc.add(s[i])}var sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Vl={};function aa(i){return rs.call(Vl,i)?!0:rs.call(Ul,i)?!1:sa.test(i)?Vl[i]=!0:(Ul[i]=!0,!1)}function tt(i,s,c){if(aa(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function bt(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Bn(i,s,c,p){if(p===null)i.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+p)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Mr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hl(i,s,c){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return b.call(this)},set:function(A){c=""+A,S.call(this,A)}}),Object.defineProperty(i,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ge(i){if(!i._valueTracker){var s=Mr(i)?"checked":"value";i._valueTracker=Hl(i,s,""+i[s])}}function Nt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return i&&(p=Mr(i)?i.checked?"true":"false":i.value),i=p,i!==c?(s.setValue(i),!0):!1}function os(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lo=/[\n"\\]/g;function kt(i){return i.replace(lo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fl(i,s,c,p,b,S,A,B){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+sn(s)):i.value!==""+sn(s)&&(i.value=""+sn(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Bi(i,A,sn(s)):c!=null?Bi(i,A,sn(c)):p!=null&&i.removeAttribute("value"),b==null&&S!=null&&(i.defaultChecked=!!S),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+sn(B):i.removeAttribute("name")}function oa(i,s,c,p,b,S,A,B){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),s!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Ge(i);return}c=c!=null?""+sn(c):"",s=s!=null?""+sn(s):c,B||s===i.value||(i.value=s),i.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=B?i.checked:!!p,i.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Ge(i)}function Bi(i,s,c){s==="number"&&os(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ct(i,s,c,p){if(i=i.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=s.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&p&&(i[c].defaultSelected=!0)}else{for(c=""+sn(c),s=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}s!==null||i[b].disabled||(s=i[b])}s!==null&&(s.selected=!0)}}function rr(i,s,c){if(s!=null&&(s=""+sn(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+sn(c):""}function ls(i,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(de(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=sn(s),i.defaultValue=c,p=i.textContent,p===c&&p!==""&&p!==null&&(i.value=p),Ge(i)}function yi(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var ql=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function us(i,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":p?i.setProperty(s,c):typeof c!="number"||c===0||ql.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function uo(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&us(i,b,p)}else for(var S in s)s.hasOwnProperty(S)&&us(i,S,s[S])}function la(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(i){return $l.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function In(){}var ho=null;function ua(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hs=null,Fe=null;function ni(i){var s=ss(i);if(s&&(i=s.stateNode)){var c=i[hn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Fl(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==i&&p.form===i.form){var b=p[hn]||null;if(!b)throw Error(r(90));Fl(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===i.form&&Nt(p)}break e;case"textarea":rr(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ct(i,!!c.multiple,s,!1)}}}var mt=!1;function Zl(i,s,c){if(mt)return i(s,c);mt=!0;try{var p=i(s);return p}finally{if(mt=!1,(hs!==null||Fe!==null)&&(Zh(),hs&&(s=hs,i=Fe,Fe=hs=null,ni(s),i)))for(s=0;s<i.length;s++)ni(i[s])}}function Or(i,s){var c=i.stateNode;if(c===null)return null;var p=c[hn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(ii)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){ca=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{ca=!1}var vi=null,Pr=null,Vt=null;function sr(){if(Vt)return Vt;var i,s=Pr,c=s.length,p,b="value"in vi?vi.value:vi.textContent,S=b.length;for(i=0;i<c&&s[i]===b[i];i++);var A=c-i;for(p=1;p<=A&&s[c-p]===b[S-p];p++);return Vt=b.slice(i,1<p?1-p:void 0)}function ha(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function da(){return!0}function Xc(){return!1}function vn(i){function s(c,p,b,S,A){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(c=i[B],this[B]=c?c(S):S[B]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?da:Xc,this.isPropagationStopped=Xc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=vn(Ii),ds=v({},Ii,{view:0,detail:0}),st=vn(ds),Gl,Nn,Ui,fa=v({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Gl=i.screenX-Ui.screenX,Nn=i.screenY-Ui.screenY):Nn=Gl=0,Ui=i),Gl)},movementY:function(i){return"movementY"in i?i.movementY:Nn}}),Jc=vn(fa),Kl=v({},fa,{dataTransfer:0}),Df=vn(Kl),Qc=v({},ds,{relatedTarget:0}),Wl=vn(Qc),zf=v({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Yl=vn(zf),Bf=v({},Ii,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_i=vn(Bf),If=v({},Ii,{data:0}),Xl=vn(If),ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=th[i])?!!s[i]:!1}function Ql(){return Jl}var nh=v({},ds,{key:function(i){if(i.key){var s=ar[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ha(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(i){return i.type==="keypress"?ha(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ha(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ih=vn(nh),Uf=v({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=vn(Uf),eu=v({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Vf=vn(eu),sh=v({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),ah=vn(sh),po=v({},fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=vn(po),Hf=v({},Ii,{newState:0,oldState:0}),pa=vn(Hf),Un=[9,13,27,32],mo=ii&&"CompositionEvent"in window,fs=null;ii&&"documentMode"in document&&(fs=document.documentMode);var Ff=ii&&"TextEvent"in window&&!fs,go=ii&&(!mo||fs&&8<fs&&11>=fs),yo=" ",oh=!1;function lh(i,s){switch(i){case"keyup":return Un.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ps=!1;function si(i,s){switch(i){case"compositionend":return tu(s);case"keypress":return s.which!==32?null:(oh=!0,yo);case"textInput":return i=s.data,i===yo&&oh?null:i;default:return null}}function ms(i,s){if(ps)return i==="compositionend"||!mo&&lh(i,s)?(i=sr(),Vt=Pr=vi=null,ps=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return go&&s.locale!=="ko"?null:s.data;default:return null}}var qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bi(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!qf[i.type]:s==="textarea"}function uh(i,s,c,p){hs?Fe?Fe.push(p):Fe=[p]:hs=p,s=Qh(s,"onChange"),0<s.length&&(c=new fo("onChange","change",null,c,p),i.push({event:c,listeners:s}))}var xi=null,ma=null;function ga(i){sb(i,0)}function ya(i){var s=nr(i);if(Nt(s))return i}function va(i,s){if(i==="change")return s}var ch=!1;if(ii){var wi;if(ii){var gs="oninput"in document;if(!gs){var hh=document.createElement("div");hh.setAttribute("oninput","return;"),gs=typeof hh.oninput=="function"}wi=gs}else wi=!1;ch=wi&&(!document.documentMode||9<document.documentMode)}function vo(){xi&&(xi.detachEvent("onpropertychange",dh),ma=xi=null)}function dh(i){if(i.propertyName==="value"&&ya(ma)){var s=[];uh(s,ma,i,ua(i)),Zl(ga,s)}}function Vi(i,s,c){i==="focusin"?(vo(),xi=s,ma=c,xi.attachEvent("onpropertychange",dh)):i==="focusout"&&vo()}function $f(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ya(ma)}function ys(i,s){if(i==="click")return ya(s)}function Zf(i,s){if(i==="input"||i==="change")return ya(s)}function Hi(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var dn=typeof Object.is=="function"?Object.is:Hi;function vs(i,s){if(dn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!rs.call(s,b)||!dn(i[b],s[b]))return!1}return!0}function _o(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _a(i,s){var c=_o(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=s&&p>=s)return{node:c,offset:s-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_o(c)}}function bo(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?bo(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ba(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=os(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=os(i.document)}return s}function or(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var xo=ii&&"documentMode"in document&&11>=document.documentMode,lr=null,wo=null,xa=null,_s=!1;function fh(i,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_s||lr==null||lr!==os(p)||(p=lr,"selectionStart"in p&&or(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),xa&&vs(xa,p)||(xa=p,p=Qh(wo,"onSelect"),0<p.length&&(s=new fo("onSelect","select",null,s,c),i.push({event:s,listeners:p}),s.target=lr)))}function ur(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var bs={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},So={},ph={};ii&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function fn(i){if(So[i])return So[i];if(!bs[i])return i;var s=bs[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in ph)return So[i]=s[c];return i}var wa=fn("animationend"),mh=fn("animationiteration"),Sa=fn("animationstart"),Gf=fn("transitionrun"),gh=fn("transitionstart"),Kf=fn("transitioncancel"),xs=fn("transitionend"),yh=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function Vn(i,s){yh.set(i,s),Nr(s,[i])}var Ca=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Hn=[],Cn=0,Co=0;function Ea(){for(var i=Cn,s=Co=Cn=0;s<i;){var c=Hn[s];Hn[s++]=null;var p=Hn[s];Hn[s++]=null;var b=Hn[s];Hn[s++]=null;var S=Hn[s];if(Hn[s++]=null,p!==null&&b!==null){var A=p.pending;A===null?b.next=b:(b.next=A.next,A.next=b),p.pending=b}S!==0&&ws(c,b,S)}}function hr(i,s,c,p){Hn[Cn++]=i,Hn[Cn++]=s,Hn[Cn++]=c,Hn[Cn++]=p,Co|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function nu(i,s,c,p){return hr(i,s,c,p),Ta(i)}function Si(i,s){return hr(i,null,null,s),Ta(i)}function ws(i,s,c){i.lanes|=c;var p=i.alternate;p!==null&&(p.lanes|=c);for(var b=!1,S=i.return;S!==null;)S.childLanes|=c,p=S.alternate,p!==null&&(p.childLanes|=c),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(b=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,b&&s!==null&&(b=31-yt(c),i=S.hiddenUpdates,p=i[b],p===null?i[b]=[s]:p.push(s),s.lane=c|536870912),S):null}function Ta(i){if(50<ju)throw ju=0,Yp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Dr={};function Wf(i,s,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,c,p){return new Wf(i,s,c,p)}function Eo(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ci(i,s){var c=i.alternate;return c===null?(c=En(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function iu(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ja(i,s,c,p,b,S){var A=0;if(p=i,typeof i=="function")Eo(i)&&(A=1);else if(typeof i=="string")A=Pj(i,c,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case G:return i=En(31,c,s,b),i.elementType=G,i.lanes=S,i;case T:return zr(c.children,b,S,s);case N:A=8,b|=24;break;case O:return i=En(12,c,s,b|2),i.elementType=O,i.lanes=S,i;case H:return i=En(13,c,s,b),i.elementType=H,i.lanes=S,i;case I:return i=En(19,c,s,b),i.elementType=I,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:A=10;break e;case P:A=9;break e;case U:A=11;break e;case F:A=14;break e;case te:A=16,p=null;break e}A=29,c=Error(r(130,i===null?"null":typeof i,"")),p=null}return s=En(A,c,s,b),s.elementType=i,s.type=p,s.lanes=S,s}function zr(i,s,c,p){return i=En(7,i,p,s),i.lanes=c,i}function To(i,s,c){return i=En(6,i,null,s),i.lanes=c,i}function ru(i){var s=En(18,null,null,0);return s.stateNode=i,s}function su(i,s,c){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var l=new WeakMap;function f(i,s){if(typeof i=="object"&&i!==null){var c=l.get(i);return c!==void 0?c:(s={value:i,source:s,stack:Ri(s)},l.set(i,s),s)}return{value:i,source:s,stack:Ri(s)}}var _=[],C=0,j=null,D=0,$=[],ie=0,ce=null,_e=1,je="";function Pe(i,s){_[C++]=D,_[C++]=j,j=i,D=s}function Xe(i,s,c){$[ie++]=_e,$[ie++]=je,$[ie++]=ce,ce=i;var p=_e;i=je;var b=32-yt(p)-1;p&=~(1<<b),c+=1;var S=32-yt(s)+b;if(30<S){var A=b-b%5;S=(p&(1<<A)-1).toString(32),p>>=A,b-=A,_e=1<<32-yt(s)+b|c<<b|p,je=S+i}else _e=1<<S|c<<b|p,je=i}function an(i){i.return!==null&&(Pe(i,1),Xe(i,1,0))}function Ht(i){for(;i===j;)j=_[--C],_[C]=null,D=_[--C],_[C]=null;for(;i===ce;)ce=$[--ie],$[ie]=null,je=$[--ie],$[ie]=null,_e=$[--ie],$[ie]=null}function Mn(i,s){$[ie++]=_e,$[ie++]=je,$[ie++]=ce,_e=s.id,je=s.overflow,ce=i}var ut=null,ct=null,nt=!1,dr=null,Fn=!1,jo=Error(r(519));function fr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(f(s,i)),jo}function au(i){var s=i.stateNode,c=i.type,p=i.memoizedProps;switch(s[Wt]=i,s[hn]=p,c){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(c=0;c<ku.length;c++)rt(ku[c],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),oa(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),ls(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||ub(s.textContent,c)?(p.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),p.onScroll!=null&&rt("scroll",s),p.onScrollEnd!=null&&rt("scrollend",s),p.onClick!=null&&(s.onclick=In),s=!0):s=!1,s||fr(i,!0)}function zt(i){for(ut=i.return;ut;)switch(ut.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:ut=ut.return}}function Fi(i){if(i!==ut)return!1;if(!nt)return zt(i),nt=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||hm(i.type,i.memoizedProps)),c=!c),c&&ct&&fr(i),zt(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ct=vb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ct=vb(i)}else s===27?(s=ct,Ds(i.type)?(i=gm,gm=null,ct=i):ct=s):ct=ut?Ti(i.stateNode.nextSibling):null;return!0}function Br(){ct=ut=null,nt=!1}function ou(){var i=dr;return i!==null&&(Gn===null?Gn=i:Gn.push.apply(Gn,i),dr=null),i}function La(i){dr===null?dr=[i]:dr.push(i)}var ka=V(null),pr=null,qi=null;function Ss(i,s,c){z(ka,s._currentValue),s._currentValue=c}function Ir(i){i._currentValue=ka.current,X(ka)}function Yf(i,s,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===c)break;i=i.return}}function Xf(i,s,c,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var S=b.dependencies;if(S!==null){var A=b.child;S=S.firstContext;e:for(;S!==null;){var B=S;S=b;for(var Z=0;Z<s.length;Z++)if(B.context===s[Z]){S.lanes|=c,B=S.alternate,B!==null&&(B.lanes|=c),Yf(S.return,c,i),p||(A=null);break e}S=B.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(r(341));A.lanes|=c,S=A.alternate,S!==null&&(S.lanes|=c),Yf(A,c,i),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function Lo(i,s,c,p){i=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var B=b.type;dn(b.pendingProps.value,A.value)||(i!==null?i.push(B):i=[B])}}else if(b===Ce.current){if(A=b.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Pu):i=[Pu])}b=b.return}i!==null&&Xf(s,i,c,p),s.flags|=262144}function vh(i){for(i=i.firstContext;i!==null;){if(!dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){pr=i,qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _n(i){return Kv(pr,i)}function _h(i,s){return pr===null&&Aa(i),Kv(i,s)}function Kv(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},qi===null){if(i===null)throw Error(r(308));qi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else qi=qi.next=s;return c}var AT=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,p){i.push(p)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},NT=e.unstable_scheduleCallback,MT=e.unstable_NormalPriority,Xt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new AT,data:new Map,refCount:0}}function lu(i){i.refCount--,i.refCount===0&&NT(MT,function(){i.controller.abort()})}var uu=null,Qf=0,ko=0,Ao=null;function OT(i,s){if(uu===null){var c=uu=[];Qf=0,ko=nm(),Ao={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Qf++,s.then(Wv,Wv),s}function Wv(){if(--Qf===0&&uu!==null){Ao!==null&&(Ao.status="fulfilled");var i=uu;uu=null,ko=0,Ao=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function PT(i,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var Yv=q.S;q.S=function(i,s){O_=gn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&OT(i,s),Yv!==null&&Yv(i,s)};var Na=V(null);function ep(){var i=Na.current;return i!==null?i:Et.pooledCache}function bh(i,s){s===null?z(Na,Na.current):z(Na,s.pool)}function Xv(){var i=ep();return i===null?null:{parent:Xt._currentValue,pool:i}}var No=Error(r(460)),tp=Error(r(474)),xh=Error(r(542)),wh={then:function(){}};function Jv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qv(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(In,In),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,t0(i),i;default:if(typeof s.status=="string")s.then(In,In);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,t0(i),i}throw Oa=s,No}}function Ma(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Oa=c,No):c}}var Oa=null;function e0(){if(Oa===null)throw Error(r(459));var i=Oa;return Oa=null,i}function t0(i){if(i===No||i===xh)throw Error(r(483))}var Mo=null,cu=0;function Sh(i){var s=cu;return cu+=1,Mo===null&&(Mo=[]),Qv(Mo,i,s)}function hu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ch(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function n0(i){function s(ne,J){if(i){var le=ne.deletions;le===null?(ne.deletions=[J],ne.flags|=16):le.push(J)}}function c(ne,J){if(!i)return null;for(;J!==null;)s(ne,J),J=J.sibling;return null}function p(ne){for(var J=new Map;ne!==null;)ne.key!==null?J.set(ne.key,ne):J.set(ne.index,ne),ne=ne.sibling;return J}function b(ne,J){return ne=Ci(ne,J),ne.index=0,ne.sibling=null,ne}function S(ne,J,le){return ne.index=le,i?(le=ne.alternate,le!==null?(le=le.index,le<J?(ne.flags|=67108866,J):le):(ne.flags|=67108866,J)):(ne.flags|=1048576,J)}function A(ne){return i&&ne.alternate===null&&(ne.flags|=67108866),ne}function B(ne,J,le,ye){return J===null||J.tag!==6?(J=To(le,ne.mode,ye),J.return=ne,J):(J=b(J,le),J.return=ne,J)}function Z(ne,J,le,ye){var ze=le.type;return ze===T?me(ne,J,le.props.children,ye,le.key):J!==null&&(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===te&&Ma(ze)===J.type)?(J=b(J,le.props),hu(J,le),J.return=ne,J):(J=ja(le.type,le.key,le.props,null,ne.mode,ye),hu(J,le),J.return=ne,J)}function ue(ne,J,le,ye){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=su(le,ne.mode,ye),J.return=ne,J):(J=b(J,le.children||[]),J.return=ne,J)}function me(ne,J,le,ye,ze){return J===null||J.tag!==7?(J=zr(le,ne.mode,ye,ze),J.return=ne,J):(J=b(J,le),J.return=ne,J)}function be(ne,J,le){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=To(""+J,ne.mode,le),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return le=ja(J.type,J.key,J.props,null,ne.mode,le),hu(le,J),le.return=ne,le;case E:return J=su(J,ne.mode,le),J.return=ne,J;case te:return J=Ma(J),be(ne,J,le)}if(de(J)||Q(J))return J=zr(J,ne.mode,le,null),J.return=ne,J;if(typeof J.then=="function")return be(ne,Sh(J),le);if(J.$$typeof===M)return be(ne,_h(ne,J),le);Ch(ne,J)}return null}function he(ne,J,le,ye){var ze=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return ze!==null?null:B(ne,J,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return le.key===ze?Z(ne,J,le,ye):null;case E:return le.key===ze?ue(ne,J,le,ye):null;case te:return le=Ma(le),he(ne,J,le,ye)}if(de(le)||Q(le))return ze!==null?null:me(ne,J,le,ye,null);if(typeof le.then=="function")return he(ne,J,Sh(le),ye);if(le.$$typeof===M)return he(ne,J,_h(ne,le),ye);Ch(ne,le)}return null}function pe(ne,J,le,ye,ze){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ne=ne.get(le)||null,B(J,ne,""+ye,ze);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:return ne=ne.get(ye.key===null?le:ye.key)||null,Z(J,ne,ye,ze);case E:return ne=ne.get(ye.key===null?le:ye.key)||null,ue(J,ne,ye,ze);case te:return ye=Ma(ye),pe(ne,J,le,ye,ze)}if(de(ye)||Q(ye))return ne=ne.get(le)||null,me(J,ne,ye,ze,null);if(typeof ye.then=="function")return pe(ne,J,le,Sh(ye),ze);if(ye.$$typeof===M)return pe(ne,J,le,_h(J,ye),ze);Ch(J,ye)}return null}function Ae(ne,J,le,ye){for(var ze=null,ht=null,Ne=J,Je=J=0,ot=null;Ne!==null&&Je<le.length;Je++){Ne.index>Je?(ot=Ne,Ne=null):ot=Ne.sibling;var dt=he(ne,Ne,le[Je],ye);if(dt===null){Ne===null&&(Ne=ot);break}i&&Ne&&dt.alternate===null&&s(ne,Ne),J=S(dt,J,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt,Ne=ot}if(Je===le.length)return c(ne,Ne),nt&&Pe(ne,Je),ze;if(Ne===null){for(;Je<le.length;Je++)Ne=be(ne,le[Je],ye),Ne!==null&&(J=S(Ne,J,Je),ht===null?ze=Ne:ht.sibling=Ne,ht=Ne);return nt&&Pe(ne,Je),ze}for(Ne=p(Ne);Je<le.length;Je++)ot=pe(Ne,ne,Je,le[Je],ye),ot!==null&&(i&&ot.alternate!==null&&Ne.delete(ot.key===null?Je:ot.key),J=S(ot,J,Je),ht===null?ze=ot:ht.sibling=ot,ht=ot);return i&&Ne.forEach(function(Vs){return s(ne,Vs)}),nt&&Pe(ne,Je),ze}function Ue(ne,J,le,ye){if(le==null)throw Error(r(151));for(var ze=null,ht=null,Ne=J,Je=J=0,ot=null,dt=le.next();Ne!==null&&!dt.done;Je++,dt=le.next()){Ne.index>Je?(ot=Ne,Ne=null):ot=Ne.sibling;var Vs=he(ne,Ne,dt.value,ye);if(Vs===null){Ne===null&&(Ne=ot);break}i&&Ne&&Vs.alternate===null&&s(ne,Ne),J=S(Vs,J,Je),ht===null?ze=Vs:ht.sibling=Vs,ht=Vs,Ne=ot}if(dt.done)return c(ne,Ne),nt&&Pe(ne,Je),ze;if(Ne===null){for(;!dt.done;Je++,dt=le.next())dt=be(ne,dt.value,ye),dt!==null&&(J=S(dt,J,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt);return nt&&Pe(ne,Je),ze}for(Ne=p(Ne);!dt.done;Je++,dt=le.next())dt=pe(Ne,ne,Je,dt.value,ye),dt!==null&&(i&&dt.alternate!==null&&Ne.delete(dt.key===null?Je:dt.key),J=S(dt,J,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt);return i&&Ne.forEach(function($j){return s(ne,$j)}),nt&&Pe(ne,Je),ze}function St(ne,J,le,ye){if(typeof le=="object"&&le!==null&&le.type===T&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case w:e:{for(var ze=le.key;J!==null;){if(J.key===ze){if(ze=le.type,ze===T){if(J.tag===7){c(ne,J.sibling),ye=b(J,le.props.children),ye.return=ne,ne=ye;break e}}else if(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===te&&Ma(ze)===J.type){c(ne,J.sibling),ye=b(J,le.props),hu(ye,le),ye.return=ne,ne=ye;break e}c(ne,J);break}else s(ne,J);J=J.sibling}le.type===T?(ye=zr(le.props.children,ne.mode,ye,le.key),ye.return=ne,ne=ye):(ye=ja(le.type,le.key,le.props,null,ne.mode,ye),hu(ye,le),ye.return=ne,ne=ye)}return A(ne);case E:e:{for(ze=le.key;J!==null;){if(J.key===ze)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){c(ne,J.sibling),ye=b(J,le.children||[]),ye.return=ne,ne=ye;break e}else{c(ne,J);break}else s(ne,J);J=J.sibling}ye=su(le,ne.mode,ye),ye.return=ne,ne=ye}return A(ne);case te:return le=Ma(le),St(ne,J,le,ye)}if(de(le))return Ae(ne,J,le,ye);if(Q(le)){if(ze=Q(le),typeof ze!="function")throw Error(r(150));return le=ze.call(le),Ue(ne,J,le,ye)}if(typeof le.then=="function")return St(ne,J,Sh(le),ye);if(le.$$typeof===M)return St(ne,J,_h(ne,le),ye);Ch(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,J!==null&&J.tag===6?(c(ne,J.sibling),ye=b(J,le),ye.return=ne,ne=ye):(c(ne,J),ye=To(le,ne.mode,ye),ye.return=ne,ne=ye),A(ne)):c(ne,J)}return function(ne,J,le,ye){try{cu=0;var ze=St(ne,J,le,ye);return Mo=null,ze}catch(Ne){if(Ne===No||Ne===xh)throw Ne;var ht=En(29,Ne,null,ne.mode);return ht.lanes=ye,ht.return=ne,ht}finally{}}}var Pa=n0(!0),i0=n0(!1),Cs=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Es(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ts(i,s,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(ft&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Ta(i),ws(i,null,c),s}return hr(i,p,s,c),Ta(i)}function du(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,$c(i,c)}}function rp(i,s){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?b=S=A:S=S.next=A,c=c.next}while(c!==null);S===null?b=S=s:S=S.next=s}else b=S=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var sp=!1;function fu(){if(sp){var i=Ao;if(i!==null)throw i}}function pu(i,s,c,p){sp=!1;var b=i.updateQueue;Cs=!1;var S=b.firstBaseUpdate,A=b.lastBaseUpdate,B=b.shared.pending;if(B!==null){b.shared.pending=null;var Z=B,ue=Z.next;Z.next=null,A===null?S=ue:A.next=ue,A=Z;var me=i.alternate;me!==null&&(me=me.updateQueue,B=me.lastBaseUpdate,B!==A&&(B===null?me.firstBaseUpdate=ue:B.next=ue,me.lastBaseUpdate=Z))}if(S!==null){var be=b.baseState;A=0,me=ue=Z=null,B=S;do{var he=B.lane&-536870913,pe=he!==B.lane;if(pe?(at&he)===he:(p&he)===he){he!==0&&he===ko&&(sp=!0),me!==null&&(me=me.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ae=i,Ue=B;he=s;var St=c;switch(Ue.tag){case 1:if(Ae=Ue.payload,typeof Ae=="function"){be=Ae.call(St,be,he);break e}be=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ue.payload,he=typeof Ae=="function"?Ae.call(St,be,he):Ae,he==null)break e;be=v({},be,he);break e;case 2:Cs=!0}}he=B.callback,he!==null&&(i.flags|=64,pe&&(i.flags|=8192),pe=b.callbacks,pe===null?b.callbacks=[he]:pe.push(he))}else pe={lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},me===null?(ue=me=pe,Z=be):me=me.next=pe,A|=he;if(B=B.next,B===null){if(B=b.shared.pending,B===null)break;pe=B,B=pe.next,pe.next=null,b.lastBaseUpdate=pe,b.shared.pending=null}}while(!0);me===null&&(Z=be),b.baseState=Z,b.firstBaseUpdate=ue,b.lastBaseUpdate=me,S===null&&(b.shared.lanes=0),Ns|=A,i.lanes=A,i.memoizedState=be}}function r0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function s0(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)r0(c[i],s)}var Oo=V(null),Eh=V(0);function a0(i,s){i=Kr,z(Eh,i),z(Oo,s),Kr=i|s.baseLanes}function ap(){z(Eh,Kr),z(Oo,Oo.current)}function op(){Kr=Eh.current,X(Oo),X(Eh)}var ai=V(null),Ei=null;function js(i){var s=i.alternate;z(Zt,Zt.current&1),z(ai,i),Ei===null&&(s===null||Oo.current!==null||s.memoizedState!==null)&&(Ei=i)}function lp(i){z(Zt,Zt.current),z(ai,i),Ei===null&&(Ei=i)}function o0(i){i.tag===22?(z(Zt,Zt.current),z(ai,i),Ei===null&&(Ei=i)):Ls()}function Ls(){z(Zt,Zt.current),z(ai,ai.current)}function oi(i){X(ai),Ei===i&&(Ei=null),X(Zt)}var Zt=V(0);function Th(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||pm(c)||mm(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ur=0,Ye=null,xt=null,Jt=null,jh=!1,Po=!1,Ra=!1,Lh=0,mu=0,Ro=null,RT=0;function Ft(){throw Error(r(321))}function up(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!dn(i[c],s[c]))return!1;return!0}function cp(i,s,c,p,b,S){return Ur=S,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?q0:Ep,Ra=!1,S=c(p,b),Ra=!1,Po&&(S=u0(s,c,p,b)),l0(i),S}function l0(i){q.H=vu;var s=xt!==null&&xt.next!==null;if(Ur=0,Jt=xt=Ye=null,jh=!1,mu=0,Ro=null,s)throw Error(r(300));i===null||Qt||(i=i.dependencies,i!==null&&vh(i)&&(Qt=!0))}function u0(i,s,c,p){Ye=i;var b=0;do{if(Po&&(Ro=null),mu=0,Po=!1,25<=b)throw Error(r(301));if(b+=1,Jt=xt=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}q.H=$0,S=s(c,p)}while(Po);return S}function DT(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?gu(s):s,i=i.useState()[0],(xt!==null?xt.memoizedState:null)!==i&&(Ye.flags|=1024),s}function hp(){var i=Lh!==0;return Lh=0,i}function dp(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function fp(i){if(jh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}jh=!1}Ur=0,Jt=xt=Ye=null,Po=!1,mu=Lh=0,Ro=null}function On(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function Gt(){if(xt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=xt.next;var s=Jt===null?Ye.memoizedState:Jt.next;if(s!==null)Jt=s,xt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));xt=i,i={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(i){var s=mu;return mu+=1,Ro===null&&(Ro=[]),i=Qv(Ro,i,s),s=Ye,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?q0:Ep),i}function Ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gu(i);if(i.$$typeof===M)return _n(i)}throw Error(r(438,String(i)))}function pp(i){var s=null,c=Ye.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ye.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=kh(),Ye.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),p=0;p<i;p++)c[p]=re;return s.index++,c}function Vr(i,s){return typeof s=="function"?s(i):s}function Nh(i){var s=Gt();return mp(s,xt,i)}function mp(i,s,c){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=i.baseQueue,S=p.pending;if(S!==null){if(b!==null){var A=b.next;b.next=S.next,S.next=A}s.baseQueue=b=S,p.pending=null}if(S=i.baseState,b===null)i.memoizedState=S;else{s=b.next;var B=A=null,Z=null,ue=s,me=!1;do{var be=ue.lane&-536870913;if(be!==ue.lane?(at&be)===be:(Ur&be)===be){var he=ue.revertLane;if(he===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),be===ko&&(me=!0);else if((Ur&he)===he){ue=ue.next,he===ko&&(me=!0);continue}else be={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(B=Z=be,A=S):Z=Z.next=be,Ye.lanes|=he,Ns|=he;be=ue.action,Ra&&c(S,be),S=ue.hasEagerState?ue.eagerState:c(S,be)}else he={lane:be,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(B=Z=he,A=S):Z=Z.next=he,Ye.lanes|=be,Ns|=be;ue=ue.next}while(ue!==null&&ue!==s);if(Z===null?A=S:Z.next=B,!dn(S,i.memoizedState)&&(Qt=!0,me&&(c=Ao,c!==null)))throw c;i.memoizedState=S,i.baseState=A,i.baseQueue=Z,p.lastRenderedState=S}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function gp(i){var s=Gt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=c.dispatch,b=c.pending,S=s.memoizedState;if(b!==null){c.pending=null;var A=b=b.next;do S=i(S,A.action),A=A.next;while(A!==b);dn(S,s.memoizedState)||(Qt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,p]}function c0(i,s,c){var p=Ye,b=Gt(),S=nt;if(S){if(c===void 0)throw Error(r(407));c=c()}else c=s();var A=!dn((xt||b).memoizedState,c);if(A&&(b.memoizedState=c,Qt=!0),b=b.queue,_p(f0.bind(null,p,b,i),[i]),b.getSnapshot!==s||A||Jt!==null&&Jt.memoizedState.tag&1){if(p.flags|=2048,Do(9,{destroy:void 0},d0.bind(null,p,b,c,s),null),Et===null)throw Error(r(349));S||(Ur&127)!==0||h0(p,s,c)}return c}function h0(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Ye.updateQueue,s===null?(s=kh(),Ye.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function d0(i,s,c,p){s.value=c,s.getSnapshot=p,p0(s)&&m0(i)}function f0(i,s,c){return c(function(){p0(s)&&m0(i)})}function p0(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!dn(i,c)}catch{return!0}}function m0(i){var s=Si(i,2);s!==null&&Kn(s,i,2)}function yp(i){var s=On();if(typeof i=="function"){var c=i;if(i=c(),Ra){yn(!0);try{c()}finally{yn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:i},s}function g0(i,s,c,p){return i.baseState=c,mp(i,xt,typeof p=="function"?p:Vr)}function zT(i,s,c,p,b){if(Ph(i))throw Error(r(485));if(i=s.action,i!==null){var S={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){S.listeners.push(A)}};q.T!==null?c(!0):S.isTransition=!1,p(S),c=s.pending,c===null?(S.next=s.pending=S,y0(s,S)):(S.next=c.next,s.pending=c.next=S)}}function y0(i,s){var c=s.action,p=s.payload,b=i.state;if(s.isTransition){var S=q.T,A={};q.T=A;try{var B=c(b,p),Z=q.S;Z!==null&&Z(A,B),v0(i,s,B)}catch(ue){vp(i,s,ue)}finally{S!==null&&A.types!==null&&(S.types=A.types),q.T=S}}else try{S=c(b,p),v0(i,s,S)}catch(ue){vp(i,s,ue)}}function v0(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){_0(i,s,p)},function(p){return vp(i,s,p)}):_0(i,s,c)}function _0(i,s,c){s.status="fulfilled",s.value=c,b0(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,y0(i,c)))}function vp(i,s,c){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,b0(s),s=s.next;while(s!==p)}i.action=null}function b0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function x0(i,s){return s}function w0(i,s){if(nt){var c=Et.formState;if(c!==null){e:{var p=Ye;if(nt){if(ct){t:{for(var b=ct,S=Fn;b.nodeType!==8;){if(!S){b=null;break t}if(b=Ti(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){ct=Ti(b.nextSibling),p=b.data==="F!";break e}}fr(p)}p=!1}p&&(s=c[0])}}return c=On(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:s},c.queue=p,c=V0.bind(null,Ye,p),p.dispatch=c,p=yp(!1),S=Cp.bind(null,Ye,!1,p.queue),p=On(),b={state:s,dispatch:null,action:i,pending:null},p.queue=b,c=zT.bind(null,Ye,b,S,c),b.dispatch=c,p.memoizedState=i,[s,c,!1]}function S0(i){var s=Gt();return C0(s,xt,i)}function C0(i,s,c){if(s=mp(i,s,x0)[0],i=Nh(Vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=gu(s)}catch(A){throw A===No?xh:A}else p=s;s=Gt();var b=s.queue,S=b.dispatch;return c!==s.memoizedState&&(Ye.flags|=2048,Do(9,{destroy:void 0},BT.bind(null,b,c),null)),[p,S,i]}function BT(i,s){i.action=s}function E0(i){var s=Gt(),c=xt;if(c!==null)return C0(s,c,i);Gt(),s=s.memoizedState,c=Gt();var p=c.queue.dispatch;return c.memoizedState=i,[s,p,!1]}function Do(i,s,c,p){return i={tag:i,create:c,deps:p,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=kh(),Ye.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,s.lastEffect=i),i}function T0(){return Gt().memoizedState}function Mh(i,s,c,p){var b=On();Ye.flags|=i,b.memoizedState=Do(1|s,{destroy:void 0},c,p===void 0?null:p)}function Oh(i,s,c,p){var b=Gt();p=p===void 0?null:p;var S=b.memoizedState.inst;xt!==null&&p!==null&&up(p,xt.memoizedState.deps)?b.memoizedState=Do(s,S,c,p):(Ye.flags|=i,b.memoizedState=Do(1|s,S,c,p))}function j0(i,s){Mh(8390656,8,i,s)}function _p(i,s){Oh(2048,8,i,s)}function IT(i){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=kh(),Ye.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function L0(i){var s=Gt().memoizedState;return IT({ref:s,nextImpl:i}),function(){if((ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function k0(i,s){return Oh(4,2,i,s)}function A0(i,s){return Oh(4,4,i,s)}function N0(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function M0(i,s,c){c=c!=null?c.concat([i]):null,Oh(4,4,N0.bind(null,s,i),c)}function bp(){}function O0(i,s){var c=Gt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&up(s,p[1])?p[0]:(c.memoizedState=[i,s],i)}function P0(i,s){var c=Gt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&up(s,p[1]))return p[0];if(p=i(),Ra){yn(!0);try{i()}finally{yn(!1)}}return c.memoizedState=[p,s],p}function xp(i,s,c){return c===void 0||(Ur&1073741824)!==0&&(at&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=R_(),Ye.lanes|=i,Ns|=i,c)}function R0(i,s,c,p){return dn(c,s)?c:Oo.current!==null?(i=xp(i,c,p),dn(i,s)||(Qt=!0),i):(Ur&42)===0||(Ur&1073741824)!==0&&(at&261930)===0?(Qt=!0,i.memoizedState=c):(i=R_(),Ye.lanes|=i,Ns|=i,s)}function D0(i,s,c,p,b){var S=ee.p;ee.p=S!==0&&8>S?S:8;var A=q.T,B={};q.T=B,Cp(i,!1,s,c);try{var Z=b(),ue=q.S;if(ue!==null&&ue(B,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var me=PT(Z,p);yu(i,s,me,ci(i))}else yu(i,s,p,ci(i))}catch(be){yu(i,s,{then:function(){},status:"rejected",reason:be},ci())}finally{ee.p=S,A!==null&&B.types!==null&&(A.types=B.types),q.T=A}}function UT(){}function wp(i,s,c,p){if(i.tag!==5)throw Error(r(476));var b=z0(i).queue;D0(i,b,s,Y,c===null?UT:function(){return B0(i),c(p)})}function z0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:Y},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function B0(i){var s=z0(i);s.next===null&&(s=i.alternate.memoizedState),yu(i,s.next.queue,{},ci())}function Sp(){return _n(Pu)}function I0(){return Gt().memoizedState}function U0(){return Gt().memoizedState}function VT(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=ci();i=Es(c);var p=Ts(s,i,c);p!==null&&(Kn(p,s,c),du(p,s,c)),s={cache:Jf()},i.payload=s;return}s=s.return}}function HT(i,s,c){var p=ci();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ph(i)?H0(s,c):(c=nu(i,s,c,p),c!==null&&(Kn(c,i,p),F0(c,s,p)))}function V0(i,s,c){var p=ci();yu(i,s,c,p)}function yu(i,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ph(i))H0(s,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var A=s.lastRenderedState,B=S(A,c);if(b.hasEagerState=!0,b.eagerState=B,dn(B,A))return hr(i,s,b,0),Et===null&&Ea(),!1}catch{}finally{}if(c=nu(i,s,b,p),c!==null)return Kn(c,i,p),F0(c,s,p),!0}return!1}function Cp(i,s,c,p){if(p={lane:2,revertLane:nm(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ph(i)){if(s)throw Error(r(479))}else s=nu(i,c,p,2),s!==null&&Kn(s,i,2)}function Ph(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function H0(i,s){Po=jh=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function F0(i,s,c){if((c&4194048)!==0){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,$c(i,c)}}var vu={readContext:_n,use:Ah,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};vu.useEffectEvent=Ft;var q0={readContext:_n,use:Ah,useCallback:function(i,s){return On().memoizedState=[i,s===void 0?null:s],i},useContext:_n,useEffect:j0,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Mh(4194308,4,N0.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Mh(4194308,4,i,s)},useInsertionEffect:function(i,s){Mh(4,2,i,s)},useMemo:function(i,s){var c=On();s=s===void 0?null:s;var p=i();if(Ra){yn(!0);try{i()}finally{yn(!1)}}return c.memoizedState=[p,s],p},useReducer:function(i,s,c){var p=On();if(c!==void 0){var b=c(s);if(Ra){yn(!0);try{c(s)}finally{yn(!1)}}}else b=s;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=HT.bind(null,Ye,i),[p.memoizedState,i]},useRef:function(i){var s=On();return i={current:i},s.memoizedState=i},useState:function(i){i=yp(i);var s=i.queue,c=V0.bind(null,Ye,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:bp,useDeferredValue:function(i,s){var c=On();return xp(c,i,s)},useTransition:function(){var i=yp(!1);return i=D0.bind(null,Ye,i.queue,!0,!1),On().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var p=Ye,b=On();if(nt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Et===null)throw Error(r(349));(at&127)!==0||h0(p,s,c)}b.memoizedState=c;var S={value:c,getSnapshot:s};return b.queue=S,j0(f0.bind(null,p,S,i),[i]),p.flags|=2048,Do(9,{destroy:void 0},d0.bind(null,p,S,c,s),null),c},useId:function(){var i=On(),s=Et.identifierPrefix;if(nt){var c=je,p=_e;c=(p&~(1<<32-yt(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Lh++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=RT++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Sp,useFormState:w0,useActionState:w0,useOptimistic:function(i){var s=On();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Cp.bind(null,Ye,!0,c),c.dispatch=s,[i,s]},useMemoCache:pp,useCacheRefresh:function(){return On().memoizedState=VT.bind(null,Ye)},useEffectEvent:function(i){var s=On(),c={impl:i};return s.memoizedState=c,function(){if((ft&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Ep={readContext:_n,use:Ah,useCallback:O0,useContext:_n,useEffect:_p,useImperativeHandle:M0,useInsertionEffect:k0,useLayoutEffect:A0,useMemo:P0,useReducer:Nh,useRef:T0,useState:function(){return Nh(Vr)},useDebugValue:bp,useDeferredValue:function(i,s){var c=Gt();return R0(c,xt.memoizedState,i,s)},useTransition:function(){var i=Nh(Vr)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:gu(i),s]},useSyncExternalStore:c0,useId:I0,useHostTransitionStatus:Sp,useFormState:S0,useActionState:S0,useOptimistic:function(i,s){var c=Gt();return g0(c,xt,i,s)},useMemoCache:pp,useCacheRefresh:U0};Ep.useEffectEvent=L0;var $0={readContext:_n,use:Ah,useCallback:O0,useContext:_n,useEffect:_p,useImperativeHandle:M0,useInsertionEffect:k0,useLayoutEffect:A0,useMemo:P0,useReducer:gp,useRef:T0,useState:function(){return gp(Vr)},useDebugValue:bp,useDeferredValue:function(i,s){var c=Gt();return xt===null?xp(c,i,s):R0(c,xt.memoizedState,i,s)},useTransition:function(){var i=gp(Vr)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:gu(i),s]},useSyncExternalStore:c0,useId:I0,useHostTransitionStatus:Sp,useFormState:E0,useActionState:E0,useOptimistic:function(i,s){var c=Gt();return xt!==null?g0(c,xt,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:pp,useCacheRefresh:U0};$0.useEffectEvent=L0;function Tp(i,s,c,p){s=i.memoizedState,c=c(p,s),c=c==null?s:v({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var jp={enqueueSetState:function(i,s,c){i=i._reactInternals;var p=ci(),b=Es(p);b.payload=s,c!=null&&(b.callback=c),s=Ts(i,b,p),s!==null&&(Kn(s,i,p),du(s,i,p))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var p=ci(),b=Es(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Ts(i,b,p),s!==null&&(Kn(s,i,p),du(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=ci(),p=Es(c);p.tag=2,s!=null&&(p.callback=s),s=Ts(i,p,c),s!==null&&(Kn(s,i,c),du(s,i,c))}};function Z0(i,s,c,p,b,S,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,S,A):s.prototype&&s.prototype.isPureReactComponent?!vs(c,p)||!vs(b,S):!0}function G0(i,s,c,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==i&&jp.enqueueReplaceState(s,s.state,null)}function Da(i,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(i=i.defaultProps){c===s&&(c=v({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function K0(i){Ca(i)}function W0(i){console.error(i)}function Y0(i){Ca(i)}function Rh(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function X0(i,s,c){try{var p=i.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Lp(i,s,c){return c=Es(c),c.tag=3,c.payload={element:null},c.callback=function(){Rh(i,s)},c}function J0(i){return i=Es(i),i.tag=3,i}function Q0(i,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;i.payload=function(){return b(S)},i.callback=function(){X0(s,c,p)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){X0(s,c,p),typeof b!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var B=p.stack;this.componentDidCatch(p.value,{componentStack:B!==null?B:""})})}function FT(i,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Lo(s,c,b,!0),c=ai.current,c!==null){switch(c.tag){case 31:case 13:return Ei===null?Gh():c.alternate===null&&qt===0&&(qt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===wh?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Qp(i,p,b)),!1;case 22:return c.flags|=65536,p===wh?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Qp(i,p,b)),!1}throw Error(r(435,c.tag))}return Qp(i,p,b),Gh(),!1}if(nt)return s=ai.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==jo&&(i=Error(r(422),{cause:p}),La(f(i,c)))):(p!==jo&&(s=Error(r(423),{cause:p}),La(f(s,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=f(p,c),b=Lp(i.stateNode,p,b),rp(i,b),qt!==4&&(qt=2)),!1;var S=Error(r(520),{cause:p});if(S=f(S,c),Tu===null?Tu=[S]:Tu.push(S),qt!==4&&(qt=2),s===null)return!0;p=f(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=Lp(c.stateNode,p,i),rp(c,i),!1;case 1:if(s=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ms===null||!Ms.has(S))))return c.flags|=65536,b&=-b,c.lanes|=b,b=J0(b),Q0(b,i,c,p),rp(c,b),!1}c=c.return}while(c!==null);return!1}var kp=Error(r(461)),Qt=!1;function bn(i,s,c,p){s.child=i===null?i0(s,null,c,p):Pa(s,i.child,c,p)}function e_(i,s,c,p,b){c=c.render;var S=s.ref;if("ref"in p){var A={};for(var B in p)B!=="ref"&&(A[B]=p[B])}else A=p;return Aa(s),p=cp(i,s,c,A,S,b),B=hp(),i!==null&&!Qt?(dp(i,s,b),Hr(i,s,b)):(nt&&B&&an(s),s.flags|=1,bn(i,s,p,b),s.child)}function t_(i,s,c,p,b){if(i===null){var S=c.type;return typeof S=="function"&&!Eo(S)&&S.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=S,n_(i,s,S,p,b)):(i=ja(c.type,null,p,s,s.mode,b),i.ref=s.ref,i.return=s,s.child=i)}if(S=i.child,!zp(i,b)){var A=S.memoizedProps;if(c=c.compare,c=c!==null?c:vs,c(A,p)&&i.ref===s.ref)return Hr(i,s,b)}return s.flags|=1,i=Ci(S,p),i.ref=s.ref,i.return=s,s.child=i}function n_(i,s,c,p,b){if(i!==null){var S=i.memoizedProps;if(vs(S,p)&&i.ref===s.ref)if(Qt=!1,s.pendingProps=p=S,zp(i,b))(i.flags&131072)!==0&&(Qt=!0);else return s.lanes=i.lanes,Hr(i,s,b)}return Ap(i,s,c,p,b)}function i_(i,s,c,p){var b=p.children,S=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,s.child=null;return r_(i,s,S,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&bh(s,S!==null?S.cachePool:null),S!==null?a0(s,S):ap(),o0(s);else return p=s.lanes=536870912,r_(i,s,S!==null?S.baseLanes|c:c,c,p)}else S!==null?(bh(s,S.cachePool),a0(s,S),Ls(),s.memoizedState=null):(i!==null&&bh(s,null),ap(),Ls());return bn(i,s,b,c),s.child}function _u(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function r_(i,s,c,p,b){var S=ep();return S=S===null?null:{parent:Xt._currentValue,pool:S},s.memoizedState={baseLanes:c,cachePool:S},i!==null&&bh(s,null),ap(),o0(s),i!==null&&Lo(i,s,p,!0),s.childLanes=b,null}function Dh(i,s){return s=Bh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function s_(i,s,c){return Pa(s,i.child,null,c),i=Dh(s,s.pendingProps),i.flags|=2,oi(s),s.memoizedState=null,i}function qT(i,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(nt){if(p.mode==="hidden")return i=Dh(s,p),s.lanes=536870912,_u(null,i);if(lp(s),(i=ct)?(i=yb(i,Fn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ce!==null?{id:_e,overflow:je}:null,retryLane:536870912,hydrationErrors:null},c=ru(i),c.return=s,s.child=c,ut=s,ct=null)):i=null,i===null)throw fr(s);return s.lanes=536870912,null}return Dh(s,p)}var S=i.memoizedState;if(S!==null){var A=S.dehydrated;if(lp(s),b)if(s.flags&256)s.flags&=-257,s=s_(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Qt||Lo(i,s,c,!1),b=(c&i.childLanes)!==0,Qt||b){if(p=Et,p!==null&&(A=Zc(p,c),A!==0&&A!==S.retryLane))throw S.retryLane=A,Si(i,A),Kn(p,i,A),kp;Gh(),s=s_(i,s,c)}else i=S.treeContext,ct=Ti(A.nextSibling),ut=s,nt=!0,dr=null,Fn=!1,i!==null&&Mn(s,i),s=Dh(s,p),s.flags|=4096;return s}return i=Ci(i.child,{mode:p.mode,children:p.children}),i.ref=s.ref,s.child=i,i.return=s,i}function zh(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function Ap(i,s,c,p,b){return Aa(s),c=cp(i,s,c,p,void 0,b),p=hp(),i!==null&&!Qt?(dp(i,s,b),Hr(i,s,b)):(nt&&p&&an(s),s.flags|=1,bn(i,s,c,b),s.child)}function a_(i,s,c,p,b,S){return Aa(s),s.updateQueue=null,c=u0(s,p,c,b),l0(i),p=hp(),i!==null&&!Qt?(dp(i,s,S),Hr(i,s,S)):(nt&&p&&an(s),s.flags|=1,bn(i,s,c,S),s.child)}function o_(i,s,c,p,b){if(Aa(s),s.stateNode===null){var S=Dr,A=c.contextType;typeof A=="object"&&A!==null&&(S=_n(A)),S=new c(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=jp,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},np(s),A=c.contextType,S.context=typeof A=="object"&&A!==null?_n(A):Dr,S.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Tp(s,c,A,p),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(A=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),A!==S.state&&jp.enqueueReplaceState(S,S.state,null),pu(s,p,S,b),fu(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(i===null){S=s.stateNode;var B=s.memoizedProps,Z=Da(c,B);S.props=Z;var ue=S.context,me=c.contextType;A=Dr,typeof me=="object"&&me!==null&&(A=_n(me));var be=c.getDerivedStateFromProps;me=typeof be=="function"||typeof S.getSnapshotBeforeUpdate=="function",B=s.pendingProps!==B,me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B||ue!==A)&&G0(s,S,p,A),Cs=!1;var he=s.memoizedState;S.state=he,pu(s,p,S,b),fu(),ue=s.memoizedState,B||he!==ue||Cs?(typeof be=="function"&&(Tp(s,c,be,p),ue=s.memoizedState),(Z=Cs||Z0(s,c,Z,p,he,ue,A))?(me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ue),S.props=p,S.state=ue,S.context=A,p=Z):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,ip(i,s),A=s.memoizedProps,me=Da(c,A),S.props=me,be=s.pendingProps,he=S.context,ue=c.contextType,Z=Dr,typeof ue=="object"&&ue!==null&&(Z=_n(ue)),B=c.getDerivedStateFromProps,(ue=typeof B=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==be||he!==Z)&&G0(s,S,p,Z),Cs=!1,he=s.memoizedState,S.state=he,pu(s,p,S,b),fu();var pe=s.memoizedState;A!==be||he!==pe||Cs||i!==null&&i.dependencies!==null&&vh(i.dependencies)?(typeof B=="function"&&(Tp(s,c,B,p),pe=s.memoizedState),(me=Cs||Z0(s,c,me,p,he,pe,Z)||i!==null&&i.dependencies!==null&&vh(i.dependencies))?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,pe,Z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,pe,Z)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===i.memoizedProps&&he===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&he===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=pe),S.props=p,S.state=pe,S.context=Z,p=me):(typeof S.componentDidUpdate!="function"||A===i.memoizedProps&&he===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&he===i.memoizedState||(s.flags|=1024),p=!1)}return S=p,zh(i,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,i!==null&&p?(s.child=Pa(s,i.child,null,b),s.child=Pa(s,null,c,b)):bn(i,s,c,b),s.memoizedState=S.state,i=s.child):i=Hr(i,s,b),i}function l_(i,s,c,p){return Br(),s.flags|=256,bn(i,s,c,p),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(i){return{baseLanes:i,cachePool:Xv()}}function Op(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=ui),i}function u_(i,s,c){var p=s.pendingProps,b=!1,S=(s.flags&128)!==0,A;if((A=S)||(A=i!==null&&i.memoizedState===null?!1:(Zt.current&2)!==0),A&&(b=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(nt){if(b?js(s):Ls(),(i=ct)?(i=yb(i,Fn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ce!==null?{id:_e,overflow:je}:null,retryLane:536870912,hydrationErrors:null},c=ru(i),c.return=s,s.child=c,ut=s,ct=null)):i=null,i===null)throw fr(s);return mm(i)?s.lanes=32:s.lanes=536870912,null}var B=p.children;return p=p.fallback,b?(Ls(),b=s.mode,B=Bh({mode:"hidden",children:B},b),p=zr(p,b,c,null),B.return=s,p.return=s,B.sibling=p,s.child=B,p=s.child,p.memoizedState=Mp(c),p.childLanes=Op(i,A,c),s.memoizedState=Np,_u(null,p)):(js(s),Pp(s,B))}var Z=i.memoizedState;if(Z!==null&&(B=Z.dehydrated,B!==null)){if(S)s.flags&256?(js(s),s.flags&=-257,s=Rp(i,s,c)):s.memoizedState!==null?(Ls(),s.child=i.child,s.flags|=128,s=null):(Ls(),B=p.fallback,b=s.mode,p=Bh({mode:"visible",children:p.children},b),B=zr(B,b,c,null),B.flags|=2,p.return=s,B.return=s,p.sibling=B,s.child=p,Pa(s,i.child,null,c),p=s.child,p.memoizedState=Mp(c),p.childLanes=Op(i,A,c),s.memoizedState=Np,s=_u(null,p));else if(js(s),mm(B)){if(A=B.nextSibling&&B.nextSibling.dataset,A)var ue=A.dgst;A=ue,p=Error(r(419)),p.stack="",p.digest=A,La({value:p,source:null,stack:null}),s=Rp(i,s,c)}else if(Qt||Lo(i,s,c,!1),A=(c&i.childLanes)!==0,Qt||A){if(A=Et,A!==null&&(p=Zc(A,c),p!==0&&p!==Z.retryLane))throw Z.retryLane=p,Si(i,p),Kn(A,i,p),kp;pm(B)||Gh(),s=Rp(i,s,c)}else pm(B)?(s.flags|=192,s.child=i.child,s=null):(i=Z.treeContext,ct=Ti(B.nextSibling),ut=s,nt=!0,dr=null,Fn=!1,i!==null&&Mn(s,i),s=Pp(s,p.children),s.flags|=4096);return s}return b?(Ls(),B=p.fallback,b=s.mode,Z=i.child,ue=Z.sibling,p=Ci(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,ue!==null?B=Ci(ue,B):(B=zr(B,b,c,null),B.flags|=2),B.return=s,p.return=s,p.sibling=B,s.child=p,_u(null,p),p=s.child,B=i.child.memoizedState,B===null?B=Mp(c):(b=B.cachePool,b!==null?(Z=Xt._currentValue,b=b.parent!==Z?{parent:Z,pool:Z}:b):b=Xv(),B={baseLanes:B.baseLanes|c,cachePool:b}),p.memoizedState=B,p.childLanes=Op(i,A,c),s.memoizedState=Np,_u(i.child,p)):(js(s),c=i.child,i=c.sibling,c=Ci(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=c,s.memoizedState=null,c)}function Pp(i,s){return s=Bh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Bh(i,s){return i=En(22,i,null,s),i.lanes=0,i}function Rp(i,s,c){return Pa(s,i.child,null,c),i=Pp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function c_(i,s,c){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),Yf(i.return,s,c)}function Dp(i,s,c,p,b,S){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:S}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=c,A.tailMode=b,A.treeForkCount=S)}function h_(i,s,c){var p=s.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var A=Zt.current,B=(A&2)!==0;if(B?(A=A&1|2,s.flags|=128):A&=1,z(Zt,A),bn(i,s,p,c),p=nt?D:0,!B&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&c_(i,c,s);else if(i.tag===19)c_(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)i=c.alternate,i!==null&&Th(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),Dp(s,!1,b,c,S,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(i=b.alternate,i!==null&&Th(i)===null){s.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}Dp(s,!0,c,null,S,p);break;case"together":Dp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Hr(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Ns|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(Lo(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=Ci(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Ci(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function zp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&vh(i)))}function $T(i,s,c){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),Ss(s,Xt,i.memoizedState.cache),Br();break;case 27:case 5:Le(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:Ss(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lp(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(js(s),s.flags|=128,null):(c&s.child.childLanes)!==0?u_(i,s,c):(js(s),i=Hr(i,s,c),i!==null?i.sibling:null);js(s);break;case 19:var b=(i.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Lo(i,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return h_(i,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),z(Zt,Zt.current),p)break;return null;case 22:return s.lanes=0,i_(i,s,c,s.pendingProps);case 24:Ss(s,Xt,i.memoizedState.cache)}return Hr(i,s,c)}function d_(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Qt=!0;else{if(!zp(i,c)&&(s.flags&128)===0)return Qt=!1,$T(i,s,c);Qt=(i.flags&131072)!==0}else Qt=!1,nt&&(s.flags&1048576)!==0&&Xe(s,D,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(i=Ma(s.elementType),s.type=i,typeof i=="function")Eo(i)?(p=Da(i,p),s.tag=1,s=o_(null,s,i,p,c)):(s.tag=0,s=Ap(null,s,i,p,c));else{if(i!=null){var b=i.$$typeof;if(b===U){s.tag=11,s=e_(null,s,i,p,c);break e}else if(b===F){s.tag=14,s=t_(null,s,i,p,c);break e}}throw s=se(i)||i,Error(r(306,s,""))}}return s;case 0:return Ap(i,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=Da(p,s.pendingProps),o_(i,s,p,b,c);case 3:e:{if(Re(s,s.stateNode.containerInfo),i===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;b=S.element,ip(i,s),pu(s,p,null,c);var A=s.memoizedState;if(p=A.cache,Ss(s,Xt,p),p!==S.cache&&Xf(s,[Xt],c,!0),fu(),p=A.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=l_(i,s,p,c);break e}else if(p!==b){b=f(Error(r(424)),s),La(b),s=l_(i,s,p,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ct=Ti(i.firstChild),ut=s,nt=!0,dr=null,Fn=!0,c=i0(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Br(),p===b){s=Hr(i,s,c);break e}bn(i,s,p,c)}s=s.child}return s;case 26:return zh(i,s),i===null?(c=Sb(s.type,null,s.pendingProps,null))?s.memoizedState=c:nt||(c=s.type,i=s.pendingProps,p=ed(fe.current).createElement(c),p[Wt]=s,p[hn]=i,xn(p,c,i),Yt(p),s.stateNode=p):s.memoizedState=Sb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Le(s),i===null&&nt&&(p=s.stateNode=bb(s.type,s.pendingProps,fe.current),ut=s,Fn=!0,b=ct,Ds(s.type)?(gm=b,ct=Ti(p.firstChild)):ct=b),bn(i,s,s.pendingProps.children,c),zh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&nt&&((b=p=ct)&&(p=xj(p,s.type,s.pendingProps,Fn),p!==null?(s.stateNode=p,ut=s,ct=Ti(p.firstChild),Fn=!1,b=!0):b=!1),b||fr(s)),Le(s),b=s.type,S=s.pendingProps,A=i!==null?i.memoizedProps:null,p=S.children,hm(b,S)?p=null:A!==null&&hm(b,A)&&(s.flags|=32),s.memoizedState!==null&&(b=cp(i,s,DT,null,null,c),Pu._currentValue=b),zh(i,s),bn(i,s,p,c),s.child;case 6:return i===null&&nt&&((i=c=ct)&&(c=wj(c,s.pendingProps,Fn),c!==null?(s.stateNode=c,ut=s,ct=null,i=!0):i=!1),i||fr(s)),null;case 13:return u_(i,s,c);case 4:return Re(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Pa(s,null,p,c):bn(i,s,p,c),s.child;case 11:return e_(i,s,s.type,s.pendingProps,c);case 7:return bn(i,s,s.pendingProps,c),s.child;case 8:return bn(i,s,s.pendingProps.children,c),s.child;case 12:return bn(i,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Ss(s,s.type,p.value),bn(i,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Aa(s),b=_n(b),p=p(b),s.flags|=1,bn(i,s,p,c),s.child;case 14:return t_(i,s,s.type,s.pendingProps,c);case 15:return n_(i,s,s.type,s.pendingProps,c);case 19:return h_(i,s,c);case 31:return qT(i,s,c);case 22:return i_(i,s,c,s.pendingProps);case 24:return Aa(s),p=_n(Xt),i===null?(b=ep(),b===null&&(b=Et,S=Jf(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=c),b=S),s.memoizedState={parent:p,cache:b},np(s),Ss(s,Xt,b)):((i.lanes&c)!==0&&(ip(i,s),pu(s,null,null,c),fu()),b=i.memoizedState,S=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ss(s,Xt,p)):(p=S.cache,Ss(s,Xt,p),p!==b.cache&&Xf(s,[Xt],c,!0))),bn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fr(i){i.flags|=4}function Bp(i,s,c,p,b){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(I_())i.flags|=8192;else throw Oa=wh,tp}else i.flags&=-16777217}function f_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Lb(s))if(I_())i.flags|=8192;else throw Oa=wh,tp}function Ih(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Fc():536870912,i.lanes|=s,Uo|=s)}function bu(i,s){if(!nt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function At(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(s)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=c,s}function ZT(i,s,c){var p=s.pendingProps;switch(Ht(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return c=s.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ir(Xt),ve(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Fi(s)?Fr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ou())),At(s),null;case 26:var b=s.type,S=s.memoizedState;return i===null?(Fr(s),S!==null?(At(s),f_(s,S)):(At(s),Bp(s,b,null,p,c))):S?S!==i.memoizedState?(Fr(s),At(s),f_(s,S)):(At(s),s.flags&=-16777217):(i=i.memoizedProps,i!==p&&Fr(s),At(s),Bp(s,b,i,p,c)),null;case 27:if(Ve(s),c=fe.current,b=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Fr(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return At(s),null}i=W.current,Fi(s)?au(s):(i=bb(b,p,c),s.stateNode=i,Fr(s))}return At(s),null;case 5:if(Ve(s),b=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Fr(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return At(s),null}if(S=W.current,Fi(s))au(s);else{var A=ed(fe.current);switch(S){case 1:S=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=A.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?A.createElement(b,{is:p.is}):A.createElement(b)}}S[Wt]=s,S[hn]=p;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)S.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=S;e:switch(xn(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Fr(s)}}return At(s),Bp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==p&&Fr(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(i=fe.current,Fi(s)){if(i=s.stateNode,c=s.memoizedProps,p=null,b=ut,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Wt]=s,i=!!(i.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||ub(i.nodeValue,c)),i||fr(s,!0)}else i=ed(i).createTextNode(p),i[Wt]=s,s.stateNode=i}return At(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(p=Fi(s),c!==null){if(i===null){if(!p)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Wt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),i=!1}else c=ou(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(oi(s),s):(oi(s),null);if((s.flags&128)!==0)throw Error(r(558))}return At(s),null;case 13:if(p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Fi(s),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Wt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),b=!1}else b=ou(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(oi(s),s):(oi(s),null)}return oi(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,i=i!==null&&i.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),Ih(s,s.updateQueue),At(s),null);case 4:return ve(),i===null&&am(s.stateNode.containerInfo),At(s),null;case 10:return Ir(s.type),At(s),null;case 19:if(X(Zt),p=s.memoizedState,p===null)return At(s),null;if(b=(s.flags&128)!==0,S=p.rendering,S===null)if(b)bu(p,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=Th(i),S!==null){for(s.flags|=128,bu(p,!1),i=S.updateQueue,s.updateQueue=i,Ih(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)iu(c,i),c=c.sibling;return z(Zt,Zt.current&1|2),nt&&Pe(s,p.treeForkCount),s.child}i=i.sibling}p.tail!==null&&gn()>qh&&(s.flags|=128,b=!0,bu(p,!1),s.lanes=4194304)}else{if(!b)if(i=Th(S),i!==null){if(s.flags|=128,b=!0,i=i.updateQueue,s.updateQueue=i,Ih(s,i),bu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!nt)return At(s),null}else 2*gn()-p.renderingStartTime>qh&&c!==536870912&&(s.flags|=128,b=!0,bu(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(i=p.last,i!==null?i.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=gn(),i.sibling=null,c=Zt.current,z(Zt,b?c&1|2:c&1),nt&&Pe(s,p.treeForkCount),i):(At(s),null);case 22:case 23:return oi(s),op(),p=s.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),c=s.updateQueue,c!==null&&Ih(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),i!==null&&X(Na),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ir(Xt),At(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function GT(i,s){switch(Ht(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ir(Xt),ve(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 31:if(s.memoizedState!==null){if(oi(s),s.alternate===null)throw Error(r(340));Br()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(oi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Br()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return X(Zt),null;case 4:return ve(),null;case 10:return Ir(s.type),null;case 22:case 23:return oi(s),op(),i!==null&&X(Na),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ir(Xt),null;case 25:return null;default:return null}}function p_(i,s){switch(Ht(s),s.tag){case 3:Ir(Xt),ve();break;case 26:case 27:case 5:Ve(s);break;case 4:ve();break;case 31:s.memoizedState!==null&&oi(s);break;case 13:oi(s);break;case 19:X(Zt);break;case 10:Ir(s.type);break;case 22:case 23:oi(s),op(),i!==null&&X(Na);break;case 24:Ir(Xt)}}function xu(i,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){p=void 0;var S=c.create,A=c.inst;p=S(),A.destroy=p}c=c.next}while(c!==b)}}catch(B){_t(s,s.return,B)}}function ks(i,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&i)===i){var A=p.inst,B=A.destroy;if(B!==void 0){A.destroy=void 0,b=s;var Z=c,ue=B;try{ue()}catch(me){_t(b,Z,me)}}}p=p.next}while(p!==S)}}catch(me){_t(s,s.return,me)}}function m_(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{s0(s,c)}catch(p){_t(i,i.return,p)}}}function g_(i,s,c){c.props=Da(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(p){_t(i,s,p)}}function wu(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(b){_t(i,s,b)}}function mr(i,s){var c=i.ref,p=i.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){_t(i,s,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){_t(i,s,b)}else c.current=null}function y_(i){var s=i.type,c=i.memoizedProps,p=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){_t(i,i.return,b)}}function Ip(i,s,c){try{var p=i.stateNode;mj(p,i.type,c,s),p[hn]=s}catch(b){_t(i,i.return,b)}}function v_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ds(i.type)||i.tag===4}function Up(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||v_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ds(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=In));else if(p!==4&&(p===27&&Ds(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Vp(i,s,c),i=i.sibling;i!==null;)Vp(i,s,c),i=i.sibling}function Uh(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(p!==4&&(p===27&&Ds(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Uh(i,s,c),i=i.sibling;i!==null;)Uh(i,s,c),i=i.sibling}function __(i){var s=i.stateNode,c=i.memoizedProps;try{for(var p=i.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);xn(s,p,c),s[Wt]=i,s[hn]=c}catch(S){_t(i,i.return,S)}}var qr=!1,en=!1,Hp=!1,b_=typeof WeakSet=="function"?WeakSet:Set,pn=null;function KT(i,s){if(i=i.containerInfo,um=od,i=ba(i),or(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var A=0,B=-1,Z=-1,ue=0,me=0,be=i,he=null;t:for(;;){for(var pe;be!==c||b!==0&&be.nodeType!==3||(B=A+b),be!==S||p!==0&&be.nodeType!==3||(Z=A+p),be.nodeType===3&&(A+=be.nodeValue.length),(pe=be.firstChild)!==null;)he=be,be=pe;for(;;){if(be===i)break t;if(he===c&&++ue===b&&(B=A),he===S&&++me===p&&(Z=A),(pe=be.nextSibling)!==null)break;be=he,he=be.parentNode}be=pe}c=B===-1||Z===-1?null:{start:B,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(cm={focusedElem:i,selectionRange:c},od=!1,pn=s;pn!==null;)if(s=pn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,pn=i;else for(;pn!==null;){switch(s=pn,S=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,c=s,b=S.memoizedProps,S=S.memoizedState,p=c.stateNode;try{var Ae=Da(c.type,b);i=p.getSnapshotBeforeUpdate(Ae,S),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){_t(c,c.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)fm(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,pn=i;break}pn=s.return}}function x_(i,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Zr(i,c),p&4&&xu(5,c);break;case 1:if(Zr(i,c),p&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(A){_t(c,c.return,A)}else{var b=Da(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(b,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){_t(c,c.return,A)}}p&64&&m_(c),p&512&&wu(c,c.return);break;case 3:if(Zr(i,c),p&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{s0(i,s)}catch(A){_t(c,c.return,A)}}break;case 27:s===null&&p&4&&__(c);case 26:case 5:Zr(i,c),s===null&&p&4&&y_(c),p&512&&wu(c,c.return);break;case 12:Zr(i,c);break;case 31:Zr(i,c),p&4&&C_(i,c);break;case 13:Zr(i,c),p&4&&E_(i,c),p&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=ij.bind(null,c),Sj(i,c))));break;case 22:if(p=c.memoizedState!==null||qr,!p){s=s!==null&&s.memoizedState!==null||en,b=qr;var S=en;qr=p,(en=s)&&!S?Gr(i,c,(c.subtreeFlags&8772)!==0):Zr(i,c),qr=b,en=S}break;case 30:break;default:Zr(i,c)}}function w_(i){var s=i.alternate;s!==null&&(i.alternate=null,w_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Il(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,qn=!1;function $r(i,s,c){for(c=c.child;c!==null;)S_(i,s,c),c=c.sibling}function S_(i,s,c){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(cn,c)}catch{}switch(c.tag){case 26:en||mr(c,s),$r(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||mr(c,s);var p=Mt,b=qn;Ds(c.type)&&(Mt=c.stateNode,qn=!1),$r(i,s,c),Nu(c.stateNode),Mt=p,qn=b;break;case 5:en||mr(c,s);case 6:if(p=Mt,b=qn,Mt=null,$r(i,s,c),Mt=p,qn=b,Mt!==null)if(qn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(c.stateNode)}catch(S){_t(c,s,S)}else try{Mt.removeChild(c.stateNode)}catch(S){_t(c,s,S)}break;case 18:Mt!==null&&(qn?(i=Mt,mb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Ko(i)):mb(Mt,c.stateNode));break;case 4:p=Mt,b=qn,Mt=c.stateNode.containerInfo,qn=!0,$r(i,s,c),Mt=p,qn=b;break;case 0:case 11:case 14:case 15:ks(2,c,s),en||ks(4,c,s),$r(i,s,c);break;case 1:en||(mr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&g_(c,s,p)),$r(i,s,c);break;case 21:$r(i,s,c);break;case 22:en=(p=en)||c.memoizedState!==null,$r(i,s,c),en=p;break;default:$r(i,s,c)}}function C_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ko(i)}catch(c){_t(s,s.return,c)}}}function E_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ko(i)}catch(c){_t(s,s.return,c)}}function WT(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new b_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new b_),s;default:throw Error(r(435,i.tag))}}function Vh(i,s){var c=WT(i);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=rj.bind(null,i,p);p.then(b,b)}})}function $n(i,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],S=i,A=s,B=A;e:for(;B!==null;){switch(B.tag){case 27:if(Ds(B.type)){Mt=B.stateNode,qn=!1;break e}break;case 5:Mt=B.stateNode,qn=!1;break e;case 3:case 4:Mt=B.stateNode.containerInfo,qn=!0;break e}B=B.return}if(Mt===null)throw Error(r(160));S_(S,A,b),Mt=null,qn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)T_(s,i),s=s.sibling}var $i=null;function T_(i,s){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(s,i),Zn(i),p&4&&(ks(3,i,i.return),xu(3,i),ks(5,i,i.return));break;case 1:$n(s,i),Zn(i),p&512&&(en||c===null||mr(c,c.return)),p&64&&qr&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=$i;if($n(s,i),Zn(i),p&512&&(en||c===null||mr(c,c.return)),p&4){var S=c!==null?c.memoizedState:null;if(p=i.memoizedState,c===null)if(p===null)if(i.stateNode===null){e:{p=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[ra]||S[Wt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),xn(S,p,c),S[Wt]=i,Yt(S),p=S;break e;case"link":var A=Tb("link","href",b).get(p+(c.href||""));if(A){for(var B=0;B<A.length;B++)if(S=A[B],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(B,1);break t}}S=b.createElement(p),xn(S,p,c),b.head.appendChild(S);break;case"meta":if(A=Tb("meta","content",b).get(p+(c.content||""))){for(B=0;B<A.length;B++)if(S=A[B],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(B,1);break t}}S=b.createElement(p),xn(S,p,c),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[Wt]=i,Yt(S),p=S}i.stateNode=p}else jb(b,i.type,i.stateNode);else i.stateNode=Eb(b,p,i.memoizedProps);else S!==p?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,p===null?jb(b,i.type,i.stateNode):Eb(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Ip(i,i.memoizedProps,c.memoizedProps)}break;case 27:$n(s,i),Zn(i),p&512&&(en||c===null||mr(c,c.return)),c!==null&&p&4&&Ip(i,i.memoizedProps,c.memoizedProps);break;case 5:if($n(s,i),Zn(i),p&512&&(en||c===null||mr(c,c.return)),i.flags&32){b=i.stateNode;try{yi(b,"")}catch(Ae){_t(i,i.return,Ae)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,Ip(i,b,c!==null?c.memoizedProps:b)),p&1024&&(Hp=!0);break;case 6:if($n(s,i),Zn(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,c=i.stateNode;try{c.nodeValue=p}catch(Ae){_t(i,i.return,Ae)}}break;case 3:if(id=null,b=$i,$i=td(s.containerInfo),$n(s,i),$i=b,Zn(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ko(s.containerInfo)}catch(Ae){_t(i,i.return,Ae)}Hp&&(Hp=!1,j_(i));break;case 4:p=$i,$i=td(i.stateNode.containerInfo),$n(s,i),Zn(i),$i=p;break;case 12:$n(s,i),Zn(i);break;case 31:$n(s,i),Zn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Vh(i,p)));break;case 13:$n(s,i),Zn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Fh=gn()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Vh(i,p)));break;case 22:b=i.memoizedState!==null;var Z=c!==null&&c.memoizedState!==null,ue=qr,me=en;if(qr=ue||b,en=me||Z,$n(s,i),en=me,qr=ue,Zn(i),p&8192)e:for(s=i.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||Z||qr||en||za(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){Z=c=s;try{if(S=Z.stateNode,b)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{B=Z.stateNode;var be=Z.memoizedProps.style,he=be!=null&&be.hasOwnProperty("display")?be.display:null;B.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ae){_t(Z,Z.return,Ae)}}}else if(s.tag===6){if(c===null){Z=s;try{Z.stateNode.nodeValue=b?"":Z.memoizedProps}catch(Ae){_t(Z,Z.return,Ae)}}}else if(s.tag===18){if(c===null){Z=s;try{var pe=Z.stateNode;b?gb(pe,!0):gb(Z.stateNode,!1)}catch(Ae){_t(Z,Z.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=i.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Vh(i,c))));break;case 19:$n(s,i),Zn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Vh(i,p)));break;case 30:break;case 21:break;default:$n(s,i),Zn(i)}}function Zn(i){var s=i.flags;if(s&2){try{for(var c,p=i.return;p!==null;){if(v_(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,S=Up(i);Uh(i,S,b);break;case 5:var A=c.stateNode;c.flags&32&&(yi(A,""),c.flags&=-33);var B=Up(i);Uh(i,B,A);break;case 3:case 4:var Z=c.stateNode.containerInfo,ue=Up(i);Vp(i,ue,Z);break;default:throw Error(r(161))}}catch(me){_t(i,i.return,me)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function j_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;j_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)x_(i,s.alternate,s),s=s.sibling}function za(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),za(s);break;case 1:mr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&g_(s,s.return,c),za(s);break;case 27:Nu(s.stateNode);case 26:case 5:mr(s,s.return),za(s);break;case 22:s.memoizedState===null&&za(s);break;case 30:za(s);break;default:za(s)}i=i.sibling}}function Gr(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=i,S=s,A=S.flags;switch(S.tag){case 0:case 11:case 15:Gr(b,S,c),xu(4,S);break;case 1:if(Gr(b,S,c),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ue){_t(p,p.return,ue)}if(p=S,b=p.updateQueue,b!==null){var B=p.stateNode;try{var Z=b.shared.hiddenCallbacks;if(Z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Z.length;b++)r0(Z[b],B)}catch(ue){_t(p,p.return,ue)}}c&&A&64&&m_(S),wu(S,S.return);break;case 27:__(S);case 26:case 5:Gr(b,S,c),c&&p===null&&A&4&&y_(S),wu(S,S.return);break;case 12:Gr(b,S,c);break;case 31:Gr(b,S,c),c&&A&4&&C_(b,S);break;case 13:Gr(b,S,c),c&&A&4&&E_(b,S);break;case 22:S.memoizedState===null&&Gr(b,S,c),wu(S,S.return);break;case 30:break;default:Gr(b,S,c)}s=s.sibling}}function Fp(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&lu(c))}function qp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&lu(i))}function Zi(i,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L_(i,s,c,p),s=s.sibling}function L_(i,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(i,s,c,p),b&2048&&xu(9,s);break;case 1:Zi(i,s,c,p);break;case 3:Zi(i,s,c,p),b&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&lu(i)));break;case 12:if(b&2048){Zi(i,s,c,p),i=s.stateNode;try{var S=s.memoizedProps,A=S.id,B=S.onPostCommit;typeof B=="function"&&B(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){_t(s,s.return,Z)}}else Zi(i,s,c,p);break;case 31:Zi(i,s,c,p);break;case 13:Zi(i,s,c,p);break;case 23:break;case 22:S=s.stateNode,A=s.alternate,s.memoizedState!==null?S._visibility&2?Zi(i,s,c,p):Su(i,s):S._visibility&2?Zi(i,s,c,p):(S._visibility|=2,zo(i,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&Fp(A,s);break;case 24:Zi(i,s,c,p),b&2048&&qp(s.alternate,s);break;default:Zi(i,s,c,p)}}function zo(i,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=i,A=s,B=c,Z=p,ue=A.flags;switch(A.tag){case 0:case 11:case 15:zo(S,A,B,Z,b),xu(8,A);break;case 23:break;case 22:var me=A.stateNode;A.memoizedState!==null?me._visibility&2?zo(S,A,B,Z,b):Su(S,A):(me._visibility|=2,zo(S,A,B,Z,b)),b&&ue&2048&&Fp(A.alternate,A);break;case 24:zo(S,A,B,Z,b),b&&ue&2048&&qp(A.alternate,A);break;default:zo(S,A,B,Z,b)}s=s.sibling}}function Su(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,p=s,b=p.flags;switch(p.tag){case 22:Su(c,p),b&2048&&Fp(p.alternate,p);break;case 24:Su(c,p),b&2048&&qp(p.alternate,p);break;default:Su(c,p)}s=s.sibling}}var Cu=8192;function Bo(i,s,c){if(i.subtreeFlags&Cu)for(i=i.child;i!==null;)k_(i,s,c),i=i.sibling}function k_(i,s,c){switch(i.tag){case 26:Bo(i,s,c),i.flags&Cu&&i.memoizedState!==null&&Rj(c,$i,i.memoizedState,i.memoizedProps);break;case 5:Bo(i,s,c);break;case 3:case 4:var p=$i;$i=td(i.stateNode.containerInfo),Bo(i,s,c),$i=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Cu,Cu=16777216,Bo(i,s,c),Cu=p):Bo(i,s,c));break;default:Bo(i,s,c)}}function A_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];pn=p,M_(p,i)}A_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(i),i=i.sibling}function N_(i){switch(i.tag){case 0:case 11:case 15:Eu(i),i.flags&2048&&ks(9,i,i.return);break;case 3:Eu(i);break;case 12:Eu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hh(i)):Eu(i);break;default:Eu(i)}}function Hh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];pn=p,M_(p,i)}A_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ks(8,s,s.return),Hh(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Hh(s));break;default:Hh(s)}i=i.sibling}}function M_(i,s){for(;pn!==null;){var c=pn;switch(c.tag){case 0:case 11:case 15:ks(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:lu(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,pn=p;else e:for(c=i;pn!==null;){p=pn;var b=p.sibling,S=p.return;if(w_(p),p===c){pn=null;break e}if(b!==null){b.return=S,pn=b;break e}pn=S}}}var YT={getCacheForType:function(i){var s=_n(Xt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return _n(Xt).controller.signal}},XT=typeof WeakMap=="function"?WeakMap:Map,ft=0,Et=null,it=null,at=0,vt=0,li=null,As=!1,Io=!1,$p=!1,Kr=0,qt=0,Ns=0,Ba=0,Zp=0,ui=0,Uo=0,Tu=null,Gn=null,Gp=!1,Fh=0,O_=0,qh=1/0,$h=null,Ms=null,on=0,Os=null,Vo=null,Wr=0,Kp=0,Wp=null,P_=null,ju=0,Yp=null;function ci(){return(ft&2)!==0&&at!==0?at&-at:q.T!==null?nm():zl()}function R_(){if(ui===0)if((at&536870912)===0||nt){var i=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),ui=i}else ui=536870912;return i=ai.current,i!==null&&(i.flags|=32),ui}function Kn(i,s,c){(i===Et&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(Ho(i,0),Ps(i,at,ui,!1)),Lr(i,c),((ft&2)===0||i!==Et)&&(i===Et&&((ft&2)===0&&(Ba|=c),qt===4&&Ps(i,at,ui,!1)),gr(i))}function D_(i,s,c){if((ft&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&i.expiredLanes)===0||ia(i,s),b=p?ej(i,s):Jp(i,s,!0),S=p;do{if(b===0){Io&&!p&&Ps(i,s,0,!1);break}else{if(c=i.current.alternate,S&&!JT(c)){b=Jp(i,s,!1),S=!1;continue}if(b===2){if(S=s,i.errorRecoveryDisabledLanes&S)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var B=i;b=Tu;var Z=B.current.memoizedState.isDehydrated;if(Z&&(Ho(B,A).flags|=256),A=Jp(B,A,!1),A!==2){if($p&&!Z){B.errorRecoveryDisabledLanes|=S,Ba|=S,b=4;break e}S=Gn,Gn=b,S!==null&&(Gn===null?Gn=S:Gn.push.apply(Gn,S))}b=A}if(S=!1,b!==2)continue}}if(b===1){Ho(i,0),Ps(i,s,0,!0);break}e:{switch(p=i,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ps(p,s,ui,!As);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Fh+300-gn(),10<b)){if(Ps(p,s,ui,!As),oo(p,0,!0)!==0)break e;Wr=s,p.timeoutHandle=fb(z_.bind(null,p,c,Gn,$h,Gp,s,ui,Ba,Uo,As,S,"Throttled",-0,0),b);break e}z_(p,c,Gn,$h,Gp,s,ui,Ba,Uo,As,S,null,-0,0)}}break}while(!0);gr(i)}function z_(i,s,c,p,b,S,A,B,Z,ue,me,be,he,pe){if(i.timeoutHandle=-1,be=s.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},k_(s,S,be);var Ae=(S&62914560)===S?Fh-gn():(S&4194048)===S?O_-gn():0;if(Ae=Dj(be,Ae),Ae!==null){Wr=S,i.cancelPendingCommit=Ae($_.bind(null,i,s,S,c,p,b,A,B,Z,me,be,null,he,pe)),Ps(i,S,A,!ue);return}}$_(i,s,S,c,p,b,A,B,Z)}function JT(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],S=b.getSnapshot;b=b.value;try{if(!dn(S(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(i,s,c,p){s&=~Zp,s&=~Ba,i.suspendedLanes|=s,i.pingedLanes&=~s,p&&(i.warmLanes|=s),p=i.expirationTimes;for(var b=s;0<b;){var S=31-yt(b),A=1<<S;p[S]=-1,b&=~A}c!==0&&qc(i,c,s)}function Zh(){return(ft&6)===0?(Lu(0),!1):!0}function Xp(){if(it!==null){if(vt===0)var i=it.return;else i=it,qi=pr=null,fp(i),Mo=null,cu=0,i=it;for(;i!==null;)p_(i.alternate,i),i=i.return;it=null}}function Ho(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,vj(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Wr=0,Xp(),Et=i,it=c=Ci(i.current,null),at=s,vt=0,li=null,As=!1,Io=ia(i,s),$p=!1,Uo=ui=Zp=Ba=Ns=qt=0,Gn=Tu=null,Gp=!1,(s&8)!==0&&(s|=s&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=s;0<p;){var b=31-yt(p),S=1<<b;s|=i[b],p&=~S}return Kr=s,Ea(),c}function B_(i,s){Ye=null,q.H=vu,s===No||s===xh?(s=e0(),vt=3):s===tp?(s=e0(),vt=4):vt=s===kp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,li=s,it===null&&(qt=1,Rh(i,f(s,i.current)))}function I_(){var i=ai.current;return i===null?!0:(at&4194048)===at?Ei===null:(at&62914560)===at||(at&536870912)!==0?i===Ei:!1}function U_(){var i=q.H;return q.H=vu,i===null?vu:i}function V_(){var i=q.A;return q.A=YT,i}function Gh(){qt=4,As||(at&4194048)!==at&&ai.current!==null||(Io=!0),(Ns&134217727)===0&&(Ba&134217727)===0||Et===null||Ps(Et,at,ui,!1)}function Jp(i,s,c){var p=ft;ft|=2;var b=U_(),S=V_();(Et!==i||at!==s)&&($h=null,Ho(i,s)),s=!1;var A=qt;e:do try{if(vt!==0&&it!==null){var B=it,Z=li;switch(vt){case 8:Xp(),A=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(s=!0);var ue=vt;if(vt=0,li=null,Fo(i,B,Z,ue),c&&Io){A=0;break e}break;default:ue=vt,vt=0,li=null,Fo(i,B,Z,ue)}}QT(),A=qt;break}catch(me){B_(i,me)}while(!0);return s&&i.shellSuspendCounter++,qi=pr=null,ft=p,q.H=b,q.A=S,it===null&&(Et=null,at=0,Ea()),A}function QT(){for(;it!==null;)H_(it)}function ej(i,s){var c=ft;ft|=2;var p=U_(),b=V_();Et!==i||at!==s?($h=null,qh=gn()+500,Ho(i,s)):Io=ia(i,s);e:do try{if(vt!==0&&it!==null){s=it;var S=li;t:switch(vt){case 1:vt=0,li=null,Fo(i,s,S,1);break;case 2:case 9:if(Jv(S)){vt=0,li=null,F_(s);break}s=function(){vt!==2&&vt!==9||Et!==i||(vt=7),gr(i)},S.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Jv(S)?(vt=0,li=null,F_(s)):(vt=0,li=null,Fo(i,s,S,7));break;case 5:var A=null;switch(it.tag){case 26:A=it.memoizedState;case 5:case 27:var B=it;if(A?Lb(A):B.stateNode.complete){vt=0,li=null;var Z=B.sibling;if(Z!==null)it=Z;else{var ue=B.return;ue!==null?(it=ue,Kh(ue)):it=null}break t}}vt=0,li=null,Fo(i,s,S,5);break;case 6:vt=0,li=null,Fo(i,s,S,6);break;case 8:Xp(),qt=6;break e;default:throw Error(r(462))}}tj();break}catch(me){B_(i,me)}while(!0);return qi=pr=null,q.H=p,q.A=b,ft=c,it!==null?0:(Et=null,at=0,Ea(),qt)}function tj(){for(;it!==null&&!so();)H_(it)}function H_(i){var s=d_(i.alternate,i,Kr);i.memoizedProps=i.pendingProps,s===null?Kh(i):it=s}function F_(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=a_(c,s,s.pendingProps,s.type,void 0,at);break;case 11:s=a_(c,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:fp(s);default:p_(c,s),s=it=iu(s,Kr),s=d_(c,s,Kr)}i.memoizedProps=i.pendingProps,s===null?Kh(i):it=s}function Fo(i,s,c,p){qi=pr=null,fp(s),Mo=null,cu=0;var b=s.return;try{if(FT(i,b,s,c,at)){qt=1,Rh(i,f(c,i.current)),it=null;return}}catch(S){if(b!==null)throw it=b,S;qt=1,Rh(i,f(c,i.current)),it=null;return}s.flags&32768?(nt||p===1?i=!0:Io||(at&536870912)!==0?i=!1:(As=i=!0,(p===2||p===9||p===3||p===6)&&(p=ai.current,p!==null&&p.tag===13&&(p.flags|=16384))),q_(s,i)):Kh(s)}function Kh(i){var s=i;do{if((s.flags&32768)!==0){q_(s,As);return}i=s.return;var c=ZT(s.alternate,s,Kr);if(c!==null){it=c;return}if(s=s.sibling,s!==null){it=s;return}it=s=i}while(s!==null);qt===0&&(qt=5)}function q_(i,s){do{var c=GT(i.alternate,i);if(c!==null){c.flags&=32767,it=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){it=i;return}it=i=c}while(i!==null);qt=6,it=null}function $_(i,s,c,p,b,S,A,B,Z){i.cancelPendingCommit=null;do Wh();while(on!==0);if((ft&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=Co,Pf(i,c,S,A,B,Z),i===Et&&(it=Et=null,at=0),Vo=s,Os=i,Wr=c,Kp=S,Wp=b,P_=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,sj(Ie,function(){return Y_(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=q.T,q.T=null,b=ee.p,ee.p=2,A=ft,ft|=4;try{KT(i,s,c)}finally{ft=A,ee.p=b,q.T=p}}on=1,Z_(),G_(),K_()}}function Z_(){if(on===1){on=0;var i=Os,s=Vo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var p=ee.p;ee.p=2;var b=ft;ft|=4;try{T_(s,i);var S=cm,A=ba(i.containerInfo),B=S.focusedElem,Z=S.selectionRange;if(A!==B&&B&&B.ownerDocument&&bo(B.ownerDocument.documentElement,B)){if(Z!==null&&or(B)){var ue=Z.start,me=Z.end;if(me===void 0&&(me=ue),"selectionStart"in B)B.selectionStart=ue,B.selectionEnd=Math.min(me,B.value.length);else{var be=B.ownerDocument||document,he=be&&be.defaultView||window;if(he.getSelection){var pe=he.getSelection(),Ae=B.textContent.length,Ue=Math.min(Z.start,Ae),St=Z.end===void 0?Ue:Math.min(Z.end,Ae);!pe.extend&&Ue>St&&(A=St,St=Ue,Ue=A);var ne=_a(B,Ue),J=_a(B,St);if(ne&&J&&(pe.rangeCount!==1||pe.anchorNode!==ne.node||pe.anchorOffset!==ne.offset||pe.focusNode!==J.node||pe.focusOffset!==J.offset)){var le=be.createRange();le.setStart(ne.node,ne.offset),pe.removeAllRanges(),Ue>St?(pe.addRange(le),pe.extend(J.node,J.offset)):(le.setEnd(J.node,J.offset),pe.addRange(le))}}}}for(be=[],pe=B;pe=pe.parentNode;)pe.nodeType===1&&be.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<be.length;B++){var ye=be[B];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}od=!!um,cm=um=null}finally{ft=b,ee.p=p,q.T=c}}i.current=s,on=2}}function G_(){if(on===2){on=0;var i=Os,s=Vo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var p=ee.p;ee.p=2;var b=ft;ft|=4;try{x_(i,s.alternate,s)}finally{ft=b,ee.p=p,q.T=c}}on=3}}function K_(){if(on===4||on===3){on=0,ao();var i=Os,s=Vo,c=Wr,p=P_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,Vo=Os=null,W_(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ms=null),Oe(c),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(cn,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=q.T,b=ee.p,ee.p=2,q.T=null;try{for(var S=i.onRecoverableError,A=0;A<p.length;A++){var B=p[A];S(B.value,{componentStack:B.stack})}}finally{q.T=s,ee.p=b}}(Wr&3)!==0&&Wh(),gr(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Yp?ju++:(ju=0,Yp=i):ju=0,Lu(0)}}function W_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,lu(s)))}function Wh(){return Z_(),G_(),K_(),Y_()}function Y_(){if(on!==5)return!1;var i=Os,s=Kp;Kp=0;var c=Oe(Wr),p=q.T,b=ee.p;try{ee.p=32>c?32:c,q.T=null,c=Wp,Wp=null;var S=Os,A=Wr;if(on=0,Vo=Os=null,Wr=0,(ft&6)!==0)throw Error(r(331));var B=ft;if(ft|=4,N_(S.current),L_(S,S.current,A,c),ft=B,Lu(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(cn,S)}catch{}return!0}finally{ee.p=b,q.T=p,W_(i,s)}}function X_(i,s,c){s=f(c,s),s=Lp(i.stateNode,s,2),i=Ts(i,s,2),i!==null&&(Lr(i,2),gr(i))}function _t(i,s,c){if(i.tag===3)X_(i,i,c);else for(;s!==null;){if(s.tag===3){X_(s,i,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ms===null||!Ms.has(p))){i=f(c,i),c=J0(2),p=Ts(s,c,2),p!==null&&(Q0(c,p,s,i),Lr(p,2),gr(p));break}}s=s.return}}function Qp(i,s,c){var p=i.pingCache;if(p===null){p=i.pingCache=new XT;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||($p=!0,b.add(c),i=nj.bind(null,i,s,c),s.then(i,i))}function nj(i,s,c){var p=i.pingCache;p!==null&&p.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Et===i&&(at&c)===c&&(qt===4||qt===3&&(at&62914560)===at&&300>gn()-Fh?(ft&2)===0&&Ho(i,0):Zp|=c,Uo===at&&(Uo=0)),gr(i)}function J_(i,s){s===0&&(s=Fc()),i=Si(i,s),i!==null&&(Lr(i,s),gr(i))}function ij(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),J_(i,c)}function rj(i,s){var c=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),J_(i,c)}function sj(i,s){return Er(i,s)}var Yh=null,qo=null,em=!1,Xh=!1,tm=!1,Rs=0;function gr(i){i!==qo&&i.next===null&&(qo===null?Yh=qo=i:qo=qo.next=i),Xh=!0,em||(em=!0,oj())}function Lu(i,s){if(!tm&&Xh){tm=!0;do for(var c=!1,p=Yh;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var A=p.suspendedLanes,B=p.pingedLanes;S=(1<<31-yt(42|i)+1)-1,S&=b&~(A&~B),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,nb(p,S))}else S=at,S=oo(p,p===Et?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||ia(p,S)||(c=!0,nb(p,S));p=p.next}while(c);tm=!1}}function aj(){Q_()}function Q_(){Xh=em=!1;var i=0;Rs!==0&&yj()&&(i=Rs);for(var s=gn(),c=null,p=Yh;p!==null;){var b=p.next,S=eb(p,s);S===0?(p.next=null,c===null?Yh=b:c.next=b,b===null&&(qo=c)):(c=p,(i!==0||(S&3)!==0)&&(Xh=!0)),p=b}on!==0&&on!==5||Lu(i),Rs!==0&&(Rs=0)}function eb(i,s){for(var c=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var A=31-yt(S),B=1<<A,Z=b[A];Z===-1?((B&c)===0||(B&p)!==0)&&(b[A]=Of(B,s)):Z<=s&&(i.expiredLanes|=B),S&=~B}if(s=Et,c=at,c=oo(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,c===0||i===s&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Tr(p),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ia(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(p!==null&&Tr(p),Oe(c)){case 2:case 8:c=Te;break;case 32:c=Ie;break;case 268435456:c=lt;break;default:c=Ie}return p=tb.bind(null,i),c=Er(c,p),i.callbackPriority=s,i.callbackNode=c,s}return p!==null&&p!==null&&Tr(p),i.callbackPriority=2,i.callbackNode=null,2}function tb(i,s){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Wh()&&i.callbackNode!==c)return null;var p=at;return p=oo(i,i===Et?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(D_(i,p,s),eb(i,gn()),i.callbackNode!=null&&i.callbackNode===c?tb.bind(null,i):null)}function nb(i,s){if(Wh())return null;D_(i,s,!0)}function oj(){_j(function(){(ft&6)!==0?Er(ge,aj):Q_()})}function nm(){if(Rs===0){var i=ko;i===0&&(i=ea,ea<<=1,(ea&261888)===0&&(ea=256)),Rs=i}return Rs}function ib(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cs(""+i)}function rb(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function lj(i,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var S=ib((b[hn]||null).action),A=p.submitter;A&&(s=(s=A[hn]||null)?ib(s.formAction):A.getAttribute("formAction"),s!==null&&(S=s,A=null));var B=new fo("action","action",null,p,b);i.push({event:B,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Rs!==0){var Z=A?rb(b,A):new FormData(b);wp(c,{pending:!0,data:Z,method:b.method,action:S},null,Z)}}else typeof S=="function"&&(B.preventDefault(),Z=A?rb(b,A):new FormData(b),wp(c,{pending:!0,data:Z,method:b.method,action:S},S,Z))},currentTarget:b}]})}}for(var im=0;im<cr.length;im++){var rm=cr[im],uj=rm.toLowerCase(),cj=rm[0].toUpperCase()+rm.slice(1);Vn(uj,"on"+cj)}Vn(wa,"onAnimationEnd"),Vn(mh,"onAnimationIteration"),Vn(Sa,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Gf,"onTransitionRun"),Vn(gh,"onTransitionStart"),Vn(Kf,"onTransitionCancel"),Vn(xs,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function sb(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],b=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var A=p.length-1;0<=A;A--){var B=p[A],Z=B.instance,ue=B.currentTarget;if(B=B.listener,Z!==S&&b.isPropagationStopped())break e;S=B,b.currentTarget=ue;try{S(b)}catch(me){Ca(me)}b.currentTarget=null,S=Z}else for(A=0;A<p.length;A++){if(B=p[A],Z=B.instance,ue=B.currentTarget,B=B.listener,Z!==S&&b.isPropagationStopped())break e;S=B,b.currentTarget=ue;try{S(b)}catch(me){Ca(me)}b.currentTarget=null,S=Z}}}}function rt(i,s){var c=s[tr];c===void 0&&(c=s[tr]=new Set);var p=i+"__bubble";c.has(p)||(ab(s,i,2,!1),c.add(p))}function sm(i,s,c){var p=0;s&&(p|=4),ab(c,i,p,s)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function am(i){if(!i[Jh]){i[Jh]=!0,Wc.forEach(function(c){c!=="selectionchange"&&(hj.has(c)||sm(c,!1,i),sm(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Jh]||(s[Jh]=!0,sm("selectionchange",!1,s))}}function ab(i,s,c,p){switch(Rb(s)){case 2:var b=Ij;break;case 8:b=Uj;break;default:b=xm}c=b.bind(null,s,c,i),b=void 0,!ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(s,c,{capture:!0,passive:b}):i.addEventListener(s,c,!0):b!==void 0?i.addEventListener(s,c,{passive:b}):i.addEventListener(s,c,!1)}function om(i,s,c,p,b){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var B=p.stateNode.containerInfo;if(B===b)break;if(A===4)for(A=p.return;A!==null;){var Z=A.tag;if((Z===3||Z===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;B!==null;){if(A=Ar(B),A===null)return;if(Z=A.tag,Z===5||Z===6||Z===26||Z===27){p=S=A;continue e}B=B.parentNode}}p=p.return}Zl(function(){var ue=S,me=ua(c),be=[];e:{var he=yh.get(i);if(he!==void 0){var pe=fo,Ae=i;switch(i){case"keypress":if(ha(c)===0)break e;case"keydown":case"keyup":pe=ih;break;case"focusin":Ae="focus",pe=Wl;break;case"focusout":Ae="blur",pe=Wl;break;case"beforeblur":case"afterblur":pe=Wl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Vf;break;case wa:case mh:case Sa:pe=Yl;break;case xs:pe=ah;break;case"scroll":case"scrollend":pe=st;break;case"wheel":pe=Rr;break;case"copy":case"cut":case"paste":pe=_i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=rh;break;case"toggle":case"beforetoggle":pe=pa}var Ue=(s&4)!==0,St=!Ue&&(i==="scroll"||i==="scrollend"),ne=Ue?he!==null?he+"Capture":null:he;Ue=[];for(var J=ue,le;J!==null;){var ye=J;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||ne===null||(ye=Or(J,ne),ye!=null&&Ue.push(Au(J,ye,le))),St)break;J=J.return}0<Ue.length&&(he=new pe(he,Ae,null,c,me),be.push({event:he,listeners:Ue}))}}if((s&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",he&&c!==ho&&(Ae=c.relatedTarget||c.fromElement)&&(Ar(Ae)||Ae[kr]))break e;if((pe||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,pe?(Ae=c.relatedTarget||c.toElement,pe=ue,Ae=Ae?Ar(Ae):null,Ae!==null&&(St=o(Ae),Ue=Ae.tag,Ae!==St||Ue!==5&&Ue!==27&&Ue!==6)&&(Ae=null)):(pe=null,Ae=ue),pe!==Ae)){if(Ue=Jc,ye="onMouseLeave",ne="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=rh,ye="onPointerLeave",ne="onPointerEnter",J="pointer"),St=pe==null?he:nr(pe),le=Ae==null?he:nr(Ae),he=new Ue(ye,J+"leave",pe,c,me),he.target=St,he.relatedTarget=le,ye=null,Ar(me)===ue&&(Ue=new Ue(ne,J+"enter",Ae,c,me),Ue.target=le,Ue.relatedTarget=St,ye=Ue),St=ye,pe&&Ae)t:{for(Ue=dj,ne=pe,J=Ae,le=0,ye=ne;ye;ye=Ue(ye))le++;ye=0;for(var ze=J;ze;ze=Ue(ze))ye++;for(;0<le-ye;)ne=Ue(ne),le--;for(;0<ye-le;)J=Ue(J),ye--;for(;le--;){if(ne===J||J!==null&&ne===J.alternate){Ue=ne;break t}ne=Ue(ne),J=Ue(J)}Ue=null}else Ue=null;pe!==null&&ob(be,he,pe,Ue,!1),Ae!==null&&St!==null&&ob(be,St,Ae,Ue,!0)}}e:{if(he=ue?nr(ue):window,pe=he.nodeName&&he.nodeName.toLowerCase(),pe==="select"||pe==="input"&&he.type==="file")var ht=va;else if(bi(he))if(ch)ht=Zf;else{ht=$f;var Ne=Vi}else pe=he.nodeName,!pe||pe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&la(ue.elementType)&&(ht=va):ht=ys;if(ht&&(ht=ht(i,ue))){uh(be,ht,c,me);break e}Ne&&Ne(i,he,ue),i==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&Bi(he,"number",he.value)}switch(Ne=ue?nr(ue):window,i){case"focusin":(bi(Ne)||Ne.contentEditable==="true")&&(lr=Ne,wo=ue,xa=null);break;case"focusout":xa=wo=lr=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,fh(be,c,me);break;case"selectionchange":if(xo)break;case"keydown":case"keyup":fh(be,c,me)}var Je;if(mo)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ps?lh(i,c)&&(ot="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(go&&c.locale!=="ko"&&(ps||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ps&&(Je=sr()):(vi=me,Pr="value"in vi?vi.value:vi.textContent,ps=!0)),Ne=Qh(ue,ot),0<Ne.length&&(ot=new Xl(ot,i,null,c,me),be.push({event:ot,listeners:Ne}),Je?ot.data=Je:(Je=tu(c),Je!==null&&(ot.data=Je)))),(Je=Ff?si(i,c):ms(i,c))&&(ot=Qh(ue,"onBeforeInput"),0<ot.length&&(Ne=new Xl("onBeforeInput","beforeinput",null,c,me),be.push({event:Ne,listeners:ot}),Ne.data=Je)),lj(be,i,ue,c,me)}sb(be,s)})}function Au(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Qh(i,s){for(var c=s+"Capture",p=[];i!==null;){var b=i,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Or(i,c),b!=null&&p.unshift(Au(i,b,S)),b=Or(i,s),b!=null&&p.push(Au(i,b,S))),i.tag===3)return p;i=i.return}return[]}function dj(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ob(i,s,c,p,b){for(var S=s._reactName,A=[];c!==null&&c!==p;){var B=c,Z=B.alternate,ue=B.stateNode;if(B=B.tag,Z!==null&&Z===p)break;B!==5&&B!==26&&B!==27||ue===null||(Z=ue,b?(ue=Or(c,S),ue!=null&&A.unshift(Au(c,ue,Z))):b||(ue=Or(c,S),ue!=null&&A.push(Au(c,ue,Z)))),c=c.return}A.length!==0&&i.push({event:s,listeners:A})}var fj=/\r\n?/g,pj=/\u0000|\uFFFD/g;function lb(i){return(typeof i=="string"?i:""+i).replace(fj,`
`).replace(pj,"")}function ub(i,s){return s=lb(s),lb(i)===s}function wt(i,s,c,p,b,S){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||yi(i,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&yi(i,""+p);break;case"className":bt(i,"class",p);break;case"tabIndex":bt(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":bt(i,c,p);break;case"style":uo(i,p,S);break;case"data":if(s!=="object"){bt(i,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=cs(""+p),i.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(s!=="input"&&wt(i,s,"name",b.name,b,null),wt(i,s,"formEncType",b.formEncType,b,null),wt(i,s,"formMethod",b.formMethod,b,null),wt(i,s,"formTarget",b.formTarget,b,null)):(wt(i,s,"encType",b.encType,b,null),wt(i,s,"method",b.method,b,null),wt(i,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=cs(""+p),i.setAttribute(c,p);break;case"onClick":p!=null&&(i.onclick=In);break;case"onScroll":p!=null&&rt("scroll",i);break;case"onScrollEnd":p!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}c=cs(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""+p):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":p===!0?i.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,p):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(c,p):i.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(c):i.setAttribute(c,p);break;case"popover":rt("beforetoggle",i),rt("toggle",i),tt(i,"popover",p);break;case"xlinkActuate":Bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Bn(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Bn(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Bn(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Bn(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":tt(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=co.get(c)||c,tt(i,c,p))}}function lm(i,s,c,p,b,S){switch(c){case"style":uo(i,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof p=="string"?yi(i,p):(typeof p=="number"||typeof p=="bigint")&&yi(i,""+p);break;case"onScroll":p!=null&&rt("scroll",i);break;case"onScrollEnd":p!=null&&rt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),S=i[hn]||null,S=S!=null?S[c]:null,typeof S=="function"&&i.removeEventListener(s,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,p,b);break e}c in i?i[c]=p:p===!0?i.setAttribute(c,""):tt(i,c,p)}}}function xn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var p=!1,b=!1,S;for(S in c)if(c.hasOwnProperty(S)){var A=c[S];if(A!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,S,A,c,null)}}b&&wt(i,s,"srcSet",c.srcSet,c,null),p&&wt(i,s,"src",c.src,c,null);return;case"input":rt("invalid",i);var B=S=A=b=null,Z=null,ue=null;for(p in c)if(c.hasOwnProperty(p)){var me=c[p];if(me!=null)switch(p){case"name":b=me;break;case"type":A=me;break;case"checked":Z=me;break;case"defaultChecked":ue=me;break;case"value":S=me;break;case"defaultValue":B=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,s));break;default:wt(i,s,p,me,c,null)}}oa(i,S,B,Z,ue,A,b,!1);return;case"select":rt("invalid",i),p=A=S=null;for(b in c)if(c.hasOwnProperty(b)&&(B=c[b],B!=null))switch(b){case"value":S=B;break;case"defaultValue":A=B;break;case"multiple":p=B;default:wt(i,s,b,B,c,null)}s=S,c=A,i.multiple=!!p,s!=null?Ct(i,!!p,s,!1):c!=null&&Ct(i,!!p,c,!0);return;case"textarea":rt("invalid",i),S=b=p=null;for(A in c)if(c.hasOwnProperty(A)&&(B=c[A],B!=null))switch(A){case"value":p=B;break;case"defaultValue":b=B;break;case"children":S=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:wt(i,s,A,B,c,null)}ls(i,p,b,S);return;case"option":for(Z in c)if(c.hasOwnProperty(Z)&&(p=c[Z],p!=null))switch(Z){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:wt(i,s,Z,p,c,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(p=0;p<ku.length;p++)rt(ku[p],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(p=c[ue],p!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,ue,p,c,null)}return;default:if(la(s)){for(me in c)c.hasOwnProperty(me)&&(p=c[me],p!==void 0&&lm(i,s,me,p,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(p=c[B],p!=null&&wt(i,s,B,p,c,null))}function mj(i,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,A=null,B=null,Z=null,ue=null,me=null;for(pe in c){var be=c[pe];if(c.hasOwnProperty(pe)&&be!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Z=be;default:p.hasOwnProperty(pe)||wt(i,s,pe,null,p,be)}}for(var he in p){var pe=p[he];if(be=c[he],p.hasOwnProperty(he)&&(pe!=null||be!=null))switch(he){case"type":S=pe;break;case"name":b=pe;break;case"checked":ue=pe;break;case"defaultChecked":me=pe;break;case"value":A=pe;break;case"defaultValue":B=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,s));break;default:pe!==be&&wt(i,s,he,pe,p,be)}}Fl(i,A,B,Z,ue,me,S,b);return;case"select":pe=A=B=he=null;for(S in c)if(Z=c[S],c.hasOwnProperty(S)&&Z!=null)switch(S){case"value":break;case"multiple":pe=Z;default:p.hasOwnProperty(S)||wt(i,s,S,null,p,Z)}for(b in p)if(S=p[b],Z=c[b],p.hasOwnProperty(b)&&(S!=null||Z!=null))switch(b){case"value":he=S;break;case"defaultValue":B=S;break;case"multiple":A=S;default:S!==Z&&wt(i,s,b,S,p,Z)}s=B,c=A,p=pe,he!=null?Ct(i,!!c,he,!1):!!p!=!!c&&(s!=null?Ct(i,!!c,s,!0):Ct(i,!!c,c?[]:"",!1));return;case"textarea":pe=he=null;for(B in c)if(b=c[B],c.hasOwnProperty(B)&&b!=null&&!p.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:wt(i,s,B,null,p,b)}for(A in p)if(b=p[A],S=c[A],p.hasOwnProperty(A)&&(b!=null||S!=null))switch(A){case"value":he=b;break;case"defaultValue":pe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&wt(i,s,A,b,p,S)}rr(i,he,pe);return;case"option":for(var Ae in c)if(he=c[Ae],c.hasOwnProperty(Ae)&&he!=null&&!p.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:wt(i,s,Ae,null,p,he)}for(Z in p)if(he=p[Z],pe=c[Z],p.hasOwnProperty(Z)&&he!==pe&&(he!=null||pe!=null))switch(Z){case"selected":i.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:wt(i,s,Z,he,p,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in c)he=c[Ue],c.hasOwnProperty(Ue)&&he!=null&&!p.hasOwnProperty(Ue)&&wt(i,s,Ue,null,p,he);for(ue in p)if(he=p[ue],pe=c[ue],p.hasOwnProperty(ue)&&he!==pe&&(he!=null||pe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,s));break;default:wt(i,s,ue,he,p,pe)}return;default:if(la(s)){for(var St in c)he=c[St],c.hasOwnProperty(St)&&he!==void 0&&!p.hasOwnProperty(St)&&lm(i,s,St,void 0,p,he);for(me in p)he=p[me],pe=c[me],!p.hasOwnProperty(me)||he===pe||he===void 0&&pe===void 0||lm(i,s,me,he,p,pe);return}}for(var ne in c)he=c[ne],c.hasOwnProperty(ne)&&he!=null&&!p.hasOwnProperty(ne)&&wt(i,s,ne,null,p,he);for(be in p)he=p[be],pe=c[be],!p.hasOwnProperty(be)||he===pe||he==null&&pe==null||wt(i,s,be,he,p,pe)}function cb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gj(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],S=b.transferSize,A=b.initiatorType,B=b.duration;if(S&&B&&cb(A)){for(A=0,B=b.responseEnd,p+=1;p<c.length;p++){var Z=c[p],ue=Z.startTime;if(ue>B)break;var me=Z.transferSize,be=Z.initiatorType;me&&cb(be)&&(Z=Z.responseEnd,A+=me*(Z<B?1:(B-ue)/(Z-ue)))}if(--p,s+=8*(S+A)/(b.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var um=null,cm=null;function ed(i){return i.nodeType===9?i:i.ownerDocument}function hb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function hm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dm=null;function yj(){var i=window.event;return i&&i.type==="popstate"?i===dm?!1:(dm=i,!0):(dm=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,vj=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,_j=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(i){return pb.resolve(null).then(i).catch(bj)}:fb;function bj(i){setTimeout(function(){throw i})}function Ds(i){return i==="head"}function mb(i,s){var c=s,p=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){i.removeChild(b),Ko(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Nu(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Nu(c);for(var S=c.firstChild;S;){var A=S.nextSibling,B=S.nodeName;S[ra]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=A}}else c==="body"&&Nu(i.ownerDocument.body);c=b}while(c);Ko(s)}function gb(i,s){var c=i;i=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=p}while(c)}function fm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":fm(c),Il(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function xj(i,s,c,p){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ra])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Ti(i.nextSibling),i===null)break}return null}function wj(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ti(i.nextSibling),i===null))return null;return i}function yb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ti(i.nextSibling),i===null))return null;return i}function pm(i){return i.data==="$?"||i.data==="$~"}function mm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Sj(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var gm=null;function vb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return Ti(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function _b(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function bb(i,s,c){switch(s=ed(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Nu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Il(i)}var ji=new Map,xb=new Set;function td(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yr=ee.d;ee.d={f:Cj,r:Ej,D:Tj,C:jj,L:Lj,m:kj,X:Nj,S:Aj,M:Mj};function Cj(){var i=Yr.f(),s=Zh();return i||s}function Ej(i){var s=ss(i);s!==null&&s.tag===5&&s.type==="form"?B0(s):Yr.r(i)}var $o=typeof document>"u"?null:document;function wb(i,s,c){var p=$o;if(p&&typeof s=="string"&&s){var b=kt(s);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),xb.has(b)||(xb.add(b),i={rel:i,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),xn(s,"link",i),Yt(s),p.head.appendChild(s)))}}function Tj(i){Yr.D(i),wb("dns-prefetch",i,null)}function jj(i,s){Yr.C(i,s),wb("preconnect",i,s)}function Lj(i,s,c){Yr.L(i,s,c);var p=$o;if(p&&i&&s){var b='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+kt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+kt(c.imageSizes)+'"]')):b+='[href="'+kt(i)+'"]';var S=b;switch(s){case"style":S=Zo(i);break;case"script":S=Go(i)}ji.has(S)||(i=v({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),ji.set(S,i),p.querySelector(b)!==null||s==="style"&&p.querySelector(Mu(S))||s==="script"&&p.querySelector(Ou(S))||(s=p.createElement("link"),xn(s,"link",i),Yt(s),p.head.appendChild(s)))}}function kj(i,s){Yr.m(i,s);var c=$o;if(c&&i){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+kt(p)+'"][href="'+kt(i)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Go(i)}if(!ji.has(S)&&(i=v({rel:"modulepreload",href:i},s),ji.set(S,i),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ou(S)))return}p=c.createElement("link"),xn(p,"link",i),Yt(p),c.head.appendChild(p)}}}function Aj(i,s,c){Yr.S(i,s,c);var p=$o;if(p&&i){var b=as(p).hoistableStyles,S=Zo(i);s=s||"default";var A=b.get(S);if(!A){var B={loading:0,preload:null};if(A=p.querySelector(Mu(S)))B.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},c),(c=ji.get(S))&&ym(i,c);var Z=A=p.createElement("link");Yt(Z),xn(Z,"link",i),Z._p=new Promise(function(ue,me){Z.onload=ue,Z.onerror=me}),Z.addEventListener("load",function(){B.loading|=1}),Z.addEventListener("error",function(){B.loading|=2}),B.loading|=4,nd(A,s,p)}A={type:"stylesheet",instance:A,count:1,state:B},b.set(S,A)}}}function Nj(i,s){Yr.X(i,s);var c=$o;if(c&&i){var p=as(c).hoistableScripts,b=Go(i),S=p.get(b);S||(S=c.querySelector(Ou(b)),S||(i=v({src:i,async:!0},s),(s=ji.get(b))&&vm(i,s),S=c.createElement("script"),Yt(S),xn(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function Mj(i,s){Yr.M(i,s);var c=$o;if(c&&i){var p=as(c).hoistableScripts,b=Go(i),S=p.get(b);S||(S=c.querySelector(Ou(b)),S||(i=v({src:i,async:!0,type:"module"},s),(s=ji.get(b))&&vm(i,s),S=c.createElement("script"),Yt(S),xn(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function Sb(i,s,c,p){var b=(b=fe.current)?td(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Zo(c.href),c=as(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Zo(c.href);var S=as(b).hoistableStyles,A=S.get(i);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,A),(S=b.querySelector(Mu(i)))&&!S._p&&(A.instance=S,A.state.loading=5),ji.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ji.set(i,c),S||Oj(b,i,c,A.state))),s&&p===null)throw Error(r(528,""));return A}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Go(c),c=as(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zo(i){return'href="'+kt(i)+'"'}function Mu(i){return'link[rel="stylesheet"]['+i+"]"}function Cb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function Oj(i,s,c,p){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=i.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),xn(s,"link",c),Yt(s),i.head.appendChild(s))}function Go(i){return'[src="'+kt(i)+'"]'}function Ou(i){return"script[async]"+i}function Eb(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=i.querySelector('style[data-href~="'+kt(c.href)+'"]');if(p)return s.instance=p,Yt(p),p;var b=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Yt(p),xn(p,"style",b),nd(p,c.precedence,i),s.instance=p;case"stylesheet":b=Zo(c.href);var S=i.querySelector(Mu(b));if(S)return s.state.loading|=4,s.instance=S,Yt(S),S;p=Cb(c),(b=ji.get(b))&&ym(p,b),S=(i.ownerDocument||i).createElement("link"),Yt(S);var A=S;return A._p=new Promise(function(B,Z){A.onload=B,A.onerror=Z}),xn(S,"link",p),s.state.loading|=4,nd(S,c.precedence,i),s.instance=S;case"script":return S=Go(c.src),(b=i.querySelector(Ou(S)))?(s.instance=b,Yt(b),b):(p=c,(b=ji.get(S))&&(p=v({},c),vm(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),Yt(b),xn(b,"link",p),i.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,nd(p,c.precedence,i));return s.instance}function nd(i,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,A=0;A<p.length;A++){var B=p[A];if(B.dataset.precedence===s)S=B;else if(S!==b)break}S?S.parentNode.insertBefore(i,S.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function ym(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function vm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var id=null;function Tb(i,s,c){if(id===null){var p=new Map,b=id=new Map;b.set(c,p)}else b=id,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(i))return p;for(p.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var S=c[b];if(!(S[ra]||S[Wt]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var A=S.getAttribute(s)||"";A=i+A;var B=p.get(A);B?B.push(S):p.set(A,[S])}}return p}function jb(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function Pj(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Lb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Rj(i,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Zo(p.href),S=s.querySelector(Mu(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=rd.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=S,Yt(S);return}S=s.ownerDocument||s,p=Cb(p),(b=ji.get(b))&&ym(p,b),S=S.createElement("link"),Yt(S);var A=S;A._p=new Promise(function(B,Z){A.onload=B,A.onerror=Z}),xn(S,"link",p),c.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=rd.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var _m=0;function Dj(i,s){return i.stylesheets&&i.count===0&&ad(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var p=setTimeout(function(){if(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+s);0<i.imgBytes&&_m===0&&(_m=62500*gj());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>_m?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sd=null;function ad(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sd=new Map,s.forEach(zj,i),sd=null,rd.call(i))}function zj(i,s){if(!(s.state.loading&4)){var c=sd.get(i);if(c)var p=c.get(null);else{c=new Map,sd.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var A=b[S];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),p=A)}p&&c.set(null,p)}b=s.instance,A=b.getAttribute("data-precedence"),S=c.get(A)||p,S===p&&c.set(null,b),c.set(A,b),this.count++,p=rd.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),s.state.loading|=4}}var Pu={$$typeof:M,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Bj(i,s,c,p,b,S,A,B,Z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function kb(i,s,c,p,b,S,A,B,Z,ue,me,be){return i=new Bj(i,s,c,A,Z,ue,me,be,B),s=1,S===!0&&(s|=24),S=En(3,null,null,s),i.current=S,S.stateNode=i,s=Jf(),s.refCount++,i.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:c,cache:s},np(S),i}function Ab(i){return i?(i=Dr,i):Dr}function Nb(i,s,c,p,b,S){b=Ab(b),p.context===null?p.context=b:p.pendingContext=b,p=Es(s),p.payload={element:c},S=S===void 0?null:S,S!==null&&(p.callback=S),c=Ts(i,p,s),c!==null&&(Kn(c,i,s),du(c,i,s))}function Mb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function bm(i,s){Mb(i,s),(i=i.alternate)&&Mb(i,s)}function Ob(i){if(i.tag===13||i.tag===31){var s=Si(i,67108864);s!==null&&Kn(s,i,67108864),bm(i,67108864)}}function Pb(i){if(i.tag===13||i.tag===31){var s=ci();s=zn(s);var c=Si(i,s);c!==null&&Kn(c,i,s),bm(i,s)}}var od=!0;function Ij(i,s,c,p){var b=q.T;q.T=null;var S=ee.p;try{ee.p=2,xm(i,s,c,p)}finally{ee.p=S,q.T=b}}function Uj(i,s,c,p){var b=q.T;q.T=null;var S=ee.p;try{ee.p=8,xm(i,s,c,p)}finally{ee.p=S,q.T=b}}function xm(i,s,c,p){if(od){var b=wm(p);if(b===null)om(i,s,p,ld,c),Db(i,p);else if(Hj(b,i,s,c,p))p.stopPropagation();else if(Db(i,p),s&4&&-1<Vj.indexOf(i)){for(;b!==null;){var S=ss(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var A=jr(S.pendingLanes);if(A!==0){var B=S;for(B.pendingLanes|=2,B.entangledLanes|=2;A;){var Z=1<<31-yt(A);B.entanglements[1]|=Z,A&=~Z}gr(S),(ft&6)===0&&(qh=gn()+500,Lu(0))}}break;case 31:case 13:B=Si(S,2),B!==null&&Kn(B,S,2),Zh(),bm(S,2)}if(S=wm(p),S===null&&om(i,s,p,ld,c),S===b)break;b=S}b!==null&&p.stopPropagation()}else om(i,s,p,null,c)}}function wm(i){return i=ua(i),Sm(i)}var ld=null;function Sm(i){if(ld=null,i=Ar(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=u(s),i!==null)return i;i=null}else if(c===31){if(i=h(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ld=i,null}function Rb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rl()){case ge:return 2;case Te:return 8;case Ie:case et:return 32;case lt:return 268435456;default:return 32}default:return 32}}var Cm=!1,zs=null,Bs=null,Is=null,Ru=new Map,Du=new Map,Us=[],Vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Db(i,s){switch(i){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(s.pointerId)}}function zu(i,s,c,p,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},s!==null&&(s=ss(s),s!==null&&Ob(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),i)}function Hj(i,s,c,p,b){switch(s){case"focusin":return zs=zu(zs,i,s,c,p,b),!0;case"dragenter":return Bs=zu(Bs,i,s,c,p,b),!0;case"mouseover":return Is=zu(Is,i,s,c,p,b),!0;case"pointerover":var S=b.pointerId;return Ru.set(S,zu(Ru.get(S)||null,i,s,c,p,b)),!0;case"gotpointercapture":return S=b.pointerId,Du.set(S,zu(Du.get(S)||null,i,s,c,p,b)),!0}return!1}function zb(i){var s=Ar(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){i.blockedOn=s,Bl(i.priority,function(){Pb(c)});return}}else if(s===31){if(s=h(c),s!==null){i.blockedOn=s,Bl(i.priority,function(){Pb(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ud(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=wm(i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);ho=p,c.target.dispatchEvent(p),ho=null}else return s=ss(c),s!==null&&Ob(s),i.blockedOn=c,!1;s.shift()}return!0}function Bb(i,s,c){ud(i)&&c.delete(s)}function Fj(){Cm=!1,zs!==null&&ud(zs)&&(zs=null),Bs!==null&&ud(Bs)&&(Bs=null),Is!==null&&ud(Is)&&(Is=null),Ru.forEach(Bb),Du.forEach(Bb)}function cd(i,s){i.blockedOn===s&&(i.blockedOn=null,Cm||(Cm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fj)))}var hd=null;function Ib(i){hd!==i&&(hd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hd===i&&(hd=null);for(var s=0;s<i.length;s+=3){var c=i[s],p=i[s+1],b=i[s+2];if(typeof p!="function"){if(Sm(p||c)===null)continue;break}var S=ss(c);S!==null&&(i.splice(s,3),s-=3,wp(S,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function Ko(i){function s(Z){return cd(Z,i)}zs!==null&&cd(zs,i),Bs!==null&&cd(Bs,i),Is!==null&&cd(Is,i),Ru.forEach(s),Du.forEach(s);for(var c=0;c<Us.length;c++){var p=Us[c];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Us.length&&(c=Us[0],c.blockedOn===null);)zb(c),c.blockedOn===null&&Us.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],S=c[p+1],A=b[hn]||null;if(typeof S=="function")A||Ib(c);else if(A){var B=null;if(S&&S.hasAttribute("formAction")){if(b=S,A=S[hn]||null)B=A.formAction;else if(Sm(b)!==null)continue}else B=A.action;typeof B=="function"?c[p+1]=B:(c.splice(p,3),p-=3),Ib(c)}}}function Ub(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Em(i){this._internalRoot=i}dd.prototype.render=Em.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=ci();Nb(c,p,i,s,null,null)},dd.prototype.unmount=Em.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Nb(i.current,2,null,i,null,null),Zh(),s[kr]=null}};function dd(i){this._internalRoot=i}dd.prototype.unstable_scheduleHydration=function(i){if(i){var s=zl();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Us.length&&s!==0&&s<Us[c].priority;c++);Us.splice(c,0,i),c===0&&zb(i)}};var Vb=t.version;if(Vb!=="19.2.0")throw Error(r(527,Vb,"19.2.0"));ee.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var qj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{cn=fd.inject(qj),Dt=fd}catch{}}return Iu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,p="",b=K0,S=W0,A=Y0;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=kb(i,1,!1,null,null,c,p,null,b,S,A,Ub),i[kr]=s.current,am(i),new Em(s)},Iu.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var p=!1,b="",S=K0,A=W0,B=Y0,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.formState!==void 0&&(Z=c.formState)),s=kb(i,1,!0,s,c??null,p,b,Z,S,A,B,Ub),s.context=Ab(null),c=s.current,p=ci(),p=zn(p),b=Es(p),b.callback=null,Ts(c,b,p),c=p,s.current.lanes=c,Lr(s,c),gr(s),i[kr]=s.current,am(i),new dd(s)},Iu.version="19.2.0",Iu}var Xb;function Qj(){if(Xb)return Lm.exports;Xb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lm.exports=Jj(),Lm.exports}var eL=Qj();function Sl(){const e="/Map";return e.endsWith("/")?e:`${e}/`}function Ji(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Sl();return e.startsWith("/assets/logos/")?`${t}${e.slice(1)}`:e.startsWith("logos/")?`${t}assets/logos/${e.slice(6)}`:`${t}assets/logos/${e}`}var kg=function(e,t){return kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},kg(e,t)};function xS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vd=function(){return Vd=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vd.apply(this,arguments)};function Cl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function wS(e,t,n,r){var a=arguments.length,o=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var h=e.length-1;h>=0;h--)(u=e[h])&&(o=(a<3?u(o):a>3?u(t,n,o):u(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function SS(e,t){return function(n,r){t(n,r,e)}}function CS(e,t,n,r,a,o){function u(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var h=r.kind,d=h==="getter"?"get":h==="setter"?"set":"value",g=!t&&e?r.static?e:e.prototype:null,y=t||(g?Object.getOwnPropertyDescriptor(g,r.name):{}),v,x=!1,w=n.length-1;w>=0;w--){var E={};for(var T in r)E[T]=T==="access"?{}:r[T];for(var T in r.access)E.access[T]=r.access[T];E.addInitializer=function(O){if(x)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(O||null))};var N=(0,n[w])(h==="accessor"?{get:y.get,set:y.set}:y[d],E);if(h==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(v=u(N.get))&&(y.get=v),(v=u(N.set))&&(y.set=v),(v=u(N.init))&&a.unshift(v)}else(v=u(N))&&(h==="field"?a.unshift(v):y[d]=v)}g&&Object.defineProperty(g,r.name,y),x=!0}function ES(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e);return r?n:void 0}function TS(e){return typeof e=="symbol"?e:"".concat(e)}function jS(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function LS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Me(e,t,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(y){try{g(r.next(y))}catch(v){u(v)}}function d(y){try{g(r.throw(y))}catch(v){u(v)}}function g(y){y.done?o(y.value):a(y.value).then(h,d)}g((r=r.apply(e,t||[])).next())})}function kS(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(y){return d([g,y])}}function d(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,a&&(o=g[0]&2?a.return:g[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,g[1])).done)return o;switch(a=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var of=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function AS(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&of(t,e,n)}function Hd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ky(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],u;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(h){u={error:h}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function NS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ky(arguments[t]));return e}function MS(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var o=arguments[t],u=0,h=o.length;u<h;u++,a++)r[a]=o[u];return r}function OS(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function yl(e){return this instanceof yl?(this.v=e,this):new yl(e)}function PS(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(w){return function(E){return Promise.resolve(E).then(w,v)}}function h(w,E){r[w]&&(a[w]=function(T){return new Promise(function(N,O){o.push([w,T,N,O])>1||d(w,T)})},E&&(a[w]=E(a[w])))}function d(w,E){try{g(r[w](E))}catch(T){x(o[0][3],T)}}function g(w){w.value instanceof yl?Promise.resolve(w.value.v).then(y,v):x(o[0][2],w)}function y(w){d("next",w)}function v(w){d("throw",w)}function x(w,E){w(E),o.shift(),o.length&&d(o[0][0],o[0][1])}}function RS(e){var t,n;return t={},r("next"),r("throw",function(a){throw a}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(a,o){t[a]=e[a]?function(u){return(n=!n)?{value:yl(e[a](u)),done:!1}:o?o(u):u}:o}}function DS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Hd=="function"?Hd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(u){return new Promise(function(h,d){u=e[o](u),a(h,d,u.done,u.value)})}}function a(o,u,h,d){Promise.resolve(d).then(function(g){o({value:g,done:h})},u)}}function zS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var tL=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ag=function(e){return Ag=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Ag(e)};function BS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ag(e),r=0;r<n.length;r++)n[r]!=="default"&&of(t,e,n[r]);return tL(t,e),t}function IS(e){return e&&e.__esModule?e:{default:e}}function US(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function VS(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n}function HS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function FS(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var nL=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function qS(e){function t(o){e.error=e.hasError?new nL(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function a(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(a);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(a,function(u){return t(u),a()})}else r|=1}catch(u){t(u)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function $S(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,a,o,u){return r?t?".jsx":".js":a&&(!o||!u)?n:a+o+"."+u.toLowerCase()+"js"}):e}const iL={__extends:xS,__assign:Vd,__rest:Cl,__decorate:wS,__param:SS,__esDecorate:CS,__runInitializers:ES,__propKey:TS,__setFunctionName:jS,__metadata:LS,__awaiter:Me,__generator:kS,__createBinding:of,__exportStar:AS,__values:Hd,__read:ky,__spread:NS,__spreadArrays:MS,__spreadArray:OS,__await:yl,__asyncGenerator:PS,__asyncDelegator:RS,__asyncValues:DS,__makeTemplateObject:zS,__importStar:BS,__importDefault:IS,__classPrivateFieldGet:US,__classPrivateFieldSet:VS,__classPrivateFieldIn:HS,__addDisposableResource:FS,__disposeResources:qS,__rewriteRelativeImportExtension:$S},rL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:FS,get __assign(){return Vd},__asyncDelegator:RS,__asyncGenerator:PS,__asyncValues:DS,__await:yl,__awaiter:Me,__classPrivateFieldGet:US,__classPrivateFieldIn:HS,__classPrivateFieldSet:VS,__createBinding:of,__decorate:wS,__disposeResources:qS,__esDecorate:CS,__exportStar:AS,__extends:xS,__generator:kS,__importDefault:IS,__importStar:BS,__makeTemplateObject:zS,__metadata:LS,__param:SS,__propKey:TS,__read:ky,__rest:Cl,__rewriteRelativeImportExtension:$S,__runInitializers:ES,__setFunctionName:jS,__spread:NS,__spreadArray:OS,__spreadArrays:MS,__values:Hd,default:iL},Symbol.toStringTag,{value:"Module"})),sL="modulepreload",aL=function(e){return"/Map/"+e},Jb={},Qi=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(n.map(g=>{if(g=aL(g),g in Jb)return;Jb[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":sL,y||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),y)return new Promise((w,E)=>{x.addEventListener("load",w),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},oL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ay extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Qb extends Ay{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ex extends Ay{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tx extends Ay{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ng;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ng||(Ng={}));class lL{constructor(t,{headers:n={},customFetch:r,region:a=Ng.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=oL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Me(this,arguments,void 0,function*(n,r={}){var a;try{const{headers:o,method:u,body:h,signal:d}=r;let g={},{region:y}=r;y||(y=this.region);const v=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let x;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=h):typeof h=="string"?(g["Content-Type"]="text/plain",x=h):typeof FormData<"u"&&h instanceof FormData?x=h:(g["Content-Type"]="application/json",x=JSON.stringify(h)):x=h;const w=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:x,signal:d}).catch(O=>{throw O.name==="AbortError"?O:new Qb(O)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new ex(w);if(!w.ok)throw new tx(w);let T=((a=w.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return T==="application/json"?N=yield w.json():T==="application/octet-stream"||T==="application/pdf"?N=yield w.blob():T==="text/event-stream"?N=w:T==="multipart/form-data"?N=yield w.formData():N=yield w.text(),{data:N,error:null,response:w}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Qb(o)}:{data:null,error:o,response:o instanceof tx||o instanceof ex?o.context:void 0}}})}}var jn={};const El=_S(rL);var pd={},md={},gd={},yd={},vd={},uL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vl=uL();const cL=vl.fetch,ZS=vl.fetch.bind(vl),GS=vl.Headers,hL=vl.Request,dL=vl.Response,eo=Object.freeze(Object.defineProperty({__proto__:null,Headers:GS,Request:hL,Response:dL,default:ZS,fetch:cL},Symbol.toStringTag,{value:"Module"})),fL=_S(eo);var _d={},nx;function KS(){if(nx)return _d;nx=1,Object.defineProperty(_d,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _d.default=e,_d}var ix;function WS(){if(ix)return vd;ix=1,Object.defineProperty(vd,"__esModule",{value:!0});const e=El,t=e.__importDefault(fL),n=e.__importDefault(KS());class r{constructor(o){var u,h;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(h=o.isMaybeSingle)!==null&&h!==void 0?h:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let d=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,x,w;let E=null,T=null,N=null,O=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const I=await g.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?T=I:T=JSON.parse(I))}const U=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),H=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");U&&H&&H.length>1&&(N=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(E={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,N=null,O=406,P="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const U=await g.text();try{E=JSON.parse(U),Array.isArray(E)&&g.status===404&&(T=[],E=null,O=200,P="OK")}catch{g.status===404&&U===""?(O=204,P="No Content"):E={message:U}}if(E&&this.isMaybeSingle&&(!((w=E?.details)===null||w===void 0)&&w.includes("0 rows"))&&(E=null,O=200,P="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:T,count:N,status:O,statusText:P}});return this.shouldThrowOnError||(d=d.catch(g=>{var y,v,x;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=g?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,u)}returns(){return this}overrideTypes(){return this}}return vd.default=r,vd}var rx;function YS(){if(rx)return yd;rx=1,Object.defineProperty(yd,"__esModule",{value:!0});const t=El.__importDefault(WS());class n extends t.default{select(a){let o=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:h,referencedTable:d=h}={}){const g=d?`${d}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:h=u}={}){const d=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(g,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:h=!1,wal:d=!1,format:g="text"}={}){var y;const v=[a?"analyze":null,o?"verbose":null,u?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return yd.default=n,yd}var sx;function Ny(){if(sx)return gd;sx=1,Object.defineProperty(gd,"__esModule",{value:!0});const t=El.__importDefault(YS());class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const u=Array.from(new Set(o)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:u,type:h}={}){let d="";h==="plain"?d="pl":h==="phrase"?d="ph":h==="websearch"&&(d="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${d}fts${g}.${o}`),this}match(a){return Object.entries(a).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(a,o,u){return this.url.searchParams.append(a,`not.${o}.${u}`),this}or(a,{foreignTable:o,referencedTable:u=o}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,o,u){return this.url.searchParams.append(a,`${o}.${u}`),this}}return gd.default=n,gd}var ax;function XS(){if(ax)return md;ax=1,Object.defineProperty(md,"__esModule",{value:!0});const t=El.__importDefault(Ny());class n{constructor(a,{headers:o={},schema:u,fetch:h}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=h}select(a,o){const{head:u=!1,count:h}=o??{},d=u?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var h;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:h,defaultToNull:d=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:o}={}){var u;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return md.default=n,md}var ox;function pL(){if(ox)return pd;ox=1,Object.defineProperty(pd,"__esModule",{value:!0});const e=El,t=e.__importDefault(XS()),n=e.__importDefault(Ny());class r{constructor(o,{headers:u={},schema:h,fetch:d}={}){this.url=o,this.headers=new Headers(u),this.schemaName=h,this.fetch=d}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:h=!1,get:d=!1,count:g}={}){var y;let v;const x=new URL(`${this.url}/rpc/${o}`);let w;h||d?(v=h?"HEAD":"GET",Object.entries(u).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{x.searchParams.append(T,N)})):(v="POST",w=u);const E=new Headers(this.headers);return g&&E.set("Prefer",`count=${g}`),new n.default({method:v,url:x,headers:E,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return pd.default=r,pd}var lx;function mL(){if(lx)return jn;lx=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.PostgrestError=jn.PostgrestBuilder=jn.PostgrestTransformBuilder=jn.PostgrestFilterBuilder=jn.PostgrestQueryBuilder=jn.PostgrestClient=void 0;const e=El,t=e.__importDefault(pL());jn.PostgrestClient=t.default;const n=e.__importDefault(XS());jn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(Ny());jn.PostgrestFilterBuilder=r.default;const a=e.__importDefault(YS());jn.PostgrestTransformBuilder=a.default;const o=e.__importDefault(WS());jn.PostgrestBuilder=o.default;const u=e.__importDefault(KS());return jn.PostgrestError=u.default,jn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},jn}var gL=mL();const yL=Qa(gL),{PostgrestClient:vL,PostgrestQueryBuilder:a9,PostgrestFilterBuilder:o9,PostgrestTransformBuilder:l9,PostgrestBuilder:u9,PostgrestError:c9}=yL;class _L{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bL="2.76.1",xL=`realtime-js/${bL}`,wL="1.0.0",Mg=1e4,SL=1e3,CL=100;var Qu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qu||(Qu={}));var un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(un||(un={}));var Xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xi||(Xi={}));var Og;(function(e){e.websocket="websocket"})(Og||(Og={}));var $a;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($a||($a={}));class EL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),o=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(t.slice(u,u+a));u=u+a;const d=r.decode(t.slice(u,u+o));u=u+o;const g=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:d,payload:g}}}class JS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const ux=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,u)=>(o[u]=TL(u,e,t,a),o),{}):{}},TL=(e,t,n,r)=>{const a=t.find(h=>h.name===e),o=a?.type,u=n[e];return o&&!r.includes(o)?QS(o,u):Pg(u)},QS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return AL(t,n)}switch(e){case Tt.bool:return jL(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return LL(t);case Tt.json:case Tt.jsonb:return kL(t);case Tt.timestamp:return NL(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Pg(t);default:return Pg(t)}},Pg=e=>e,jL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const u=e.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>QS(t,h))}return e},NL=e=>typeof e=="string"?e.replace(" ","T"):e,eC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mm{constructor(t,n,r={},a=Mg){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cx||(cx={}));class ec{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,a,o,u),this.pendingDiffs.forEach(d=>{this.state=ec.syncDiff(this.state,d,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ec.syncDiff(this.state,a,o,u),h())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const o=this.cloneDeep(t),u=this.transformState(n),h={},d={};return this.map(o,(g,y)=>{u[g]||(d[g]=y)}),this.map(u,(g,y)=>{const v=o[g];if(v){const x=y.map(N=>N.presence_ref),w=v.map(N=>N.presence_ref),E=y.filter(N=>w.indexOf(N.presence_ref)<0),T=v.filter(N=>x.indexOf(N.presence_ref)<0);E.length>0&&(h[g]=E),T.length>0&&(d[g]=T)}else h[g]=y}),this.syncDiff(o,{joins:h,leaves:d},r,a)}static syncDiff(t,n,r,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(h,d)=>{var g;const y=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(d),y.length>0){const v=t[h].map(w=>w.presence_ref),x=y.filter(w=>v.indexOf(w.presence_ref)<0);t[h].unshift(...x)}r(h,y,d)}),this.map(u,(h,d)=>{let g=t[h];if(!g)return;const y=d.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[h]=g,a(h,g,d),g.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hx||(hx={}));var tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tc||(tc={}));var Xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class My{constructor(t,n={config:{}},r){var a,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,Xi.join,this.params,this.timeout),this.rejoinTimer=new JS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xi.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ec(this),this.broadcastEndpointURL=eC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==un.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,g=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},x={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(Xr.CHANNEL_ERROR,w)),this._onClose(()=>t?.(Xr.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){t?.(Xr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(E=T?.length)!==null&&E!==void 0?E:0,O=[];for(let P=0;P<N;P++){const M=T[P],{filter:{event:U,schema:H,table:I,filter:F}}=M,te=w&&w[P];if(te&&te.event===U&&te.schema===H&&te.table===I&&te.filter===F)O.push(Object.assign(Object.assign({},M),{id:te.id}));else{this.unsubscribe(),this.state=un.errored,t?.(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(Xr.SUBSCRIBED);return}}).receive("error",w=>{this.state=un.errored,t?.(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===un.joined&&t===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const g=await h.json();d=g.error||g.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,d;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Mm(this,Xi.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=un.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mm(this,t,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>CL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,o;const u=t.toLocaleLowerCase(),{close:h,error:d,leave:g,join:y}=Xi;if(r&&[h,d,g,y].indexOf(u)>=0&&r!==this._joinRef())return;let x=this._onMessage(u,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var E,T,N;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(T=w.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(w=>w.callback(x,r)):(o=this.bindings[u])===null||o===void 0||o.filter(w=>{var E,T,N,O,P,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const U=w.id,H=(E=w.filter)===null||E===void 0?void 0:E.event;return U&&((T=n.ids)===null||T===void 0?void 0:T.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const U=(P=(O=w?.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:T,table:N,commit_timestamp:O,type:P,errors:M}=E;x=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:O,eventType:P,new:{},old:{},errors:M}),this._getPayloadRecords(E))}w.callback(x,r)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&My.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xi.close,{},t)}_onError(t){this._on(Xi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ux(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ux(t.columns,t.old_record)),n}}const Om=()=>{},bd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ML=[1e3,2e3,5e3,1e4],OL=1e4,PL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mg,this.transport=null,this.heartbeatIntervalMs=bd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Om,this.ref=0,this.reconnectTimer=null,this.logger=Om,this.conn=null,this.sendBuffer=[],this.serializer=new EL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...u)=>Qi(async()=>{const{default:h}=await Promise.resolve().then(()=>eo);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...u)=>o(...u)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Og.websocket}`,this.httpEndpoint=eC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_L.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wL}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qu.connecting:return $a.Connecting;case Qu.open:return $a.Open;case Qu.closing:return $a.Closing;default:return $a.Closed}}isConnected(){return this.connectionState()===$a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new My(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:a,ref:o}=t,u=()=>{this.encode(t,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:o,ref:u}=n,h=u?`(${u})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${a} ${h}`.trim(),o),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(a,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([PL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:xL};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Xi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new JS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,a,o,u,h,d,g,y;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Mg,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:bd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Om,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(v=>ML[v-1]||OL),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((v,x)=>x(JSON.stringify(v))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Oy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DL extends Oy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rg extends Oy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},zL=()=>Me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qi(()=>Promise.resolve().then(()=>eo),void 0)).Response:Response}),Dg=e=>{if(Array.isArray(e))return e.map(n=>Dg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Dg(r)}),t},BL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IL=(e,t,n)=>Me(void 0,void 0,void 0,function*(){const r=yield zL();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{const o=e.status||500,u=a?.statusCode||o+"";t(new DL(Pm(a),o,u))}).catch(a=>{t(new Rg(Pm(a),a))}):t(new Rg(Pm(e),e))}),UL=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!r?a:(BL(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(r)):a.body=r,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function kc(e,t,n,r,a,o){return Me(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,UL(t,r,a,o)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>IL(d,h,r))})})}function hc(e,t,n,r){return Me(this,void 0,void 0,function*(){return kc(e,"GET",t,n,r)})}function Yi(e,t,n,r,a){return Me(this,void 0,void 0,function*(){return kc(e,"POST",t,r,a,n)})}function zg(e,t,n,r,a){return Me(this,void 0,void 0,function*(){return kc(e,"PUT",t,r,a,n)})}function VL(e,t,n,r){return Me(this,void 0,void 0,function*(){return kc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ry(e,t,n,r,a){return Me(this,void 0,void 0,function*(){return kc(e,"DELETE",t,r,a,n)})}class HL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}var tC;class FL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[tC]="BlobDownloadBuilder",this.promise=null}asStream(){return new HL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}tC=Symbol.toStringTag;const qL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $L{constructor(t,n={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Py(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,a){return Me(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},dx),a);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",u.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),v=yield(t=="PUT"?zg:Yi)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Bt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const g=Object.assign({upsert:dx.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",g.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",g.cacheControl)):(d=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield zg(this.fetch,h.toString(),d,{headers:y});return{data:{path:o,fullPath:v.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Bt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const o=yield Yi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),u=new URL(this.url+o.url),h=u.searchParams.get("token");if(!h)throw new Oy("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Yi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Me(this,void 0,void 0,function*(){try{const a=yield Yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}download(t,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",h=this._getFinalPath(t),d=()=>hc(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new FL(d,this.shouldThrowOnError)}info(t){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield hc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}exists(t){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield VL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r)&&r instanceof Rg){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const h=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&a.push(d);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Me(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},qL),n),{prefix:t||""});return{data:yield Yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}listV2(t,n){return Me(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const nC="2.76.1",iC={"X-Client-Info":`storage-js/${nC}`};class ZL{constructor(t,n={},r,a){this.shouldThrowOnError=!1;const o=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iC),n),this.fetch=Py(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}getBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}createBucket(t){return Me(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}updateBucket(t,n){return Me(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}class GL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iC),n),this.fetch=Py(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listBuckets(t){return Me(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,o=yield hc(this.fetch,a,{headers:this.headers});return{data:Array.isArray(o)?o.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}const Dy={"X-Client-Info":`storage-js/${nC}`,"Content-Type":"application/json"};class rC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function fi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Rm extends rC{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KL extends rC{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var fx;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fx||(fx={}));const zy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},WL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},px=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YL=(e,t,n)=>Me(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const h=u?.statusCode||u?.code||a+"";t(new Rm(px(u),a,h))}).catch(()=>{const u=a+"",h=o.statusText||`HTTP ${a} error`;t(new Rm(h,a,u))});else{const u=a+"",h=o.statusText||`HTTP ${a} error`;t(new Rm(h,a,u))}}else t(new KL(px(e),e))}),XL=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return r?(WL(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n)):a};function JL(e,t,n,r,a,o){return Me(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,XL(t,r,a,o)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const g=d.headers.get("content-type");return!g||!g.includes("application/json")?{}:d.json()}).then(d=>u(d)).catch(d=>YL(d,h,r))})})}function pi(e,t,n,r,a){return Me(this,void 0,void 0,function*(){return JL(e,"POST",t,r,a,n)})}class QL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dy),n),this.fetch=zy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Me(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}listIndexes(t){return Me(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Me(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}}class ek{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dy),n),this.fetch=zy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}getVectors(t){return Me(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}listVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield pi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Me(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}}class tk{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dy),n),this.fetch=zy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}getBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}listBuckets(){return Me(this,arguments,void 0,function*(t={}){try{return{data:yield pi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}}class nk extends tk{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new ik(this.url,this.headers,t,this.fetch)}}class ik extends QL{constructor(t,n,r,a){super(t,n,a),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new rk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class rk extends ek{constructor(t,n,r,a,o){super(t,n,o),this.vectorBucketName=r,this.indexName=a}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sk extends ZL{constructor(t,n={},r,a){super(t,n,r,a)}from(t){return new $L(this.url,this.headers,t,this.fetch)}get vectors(){return new nk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GL(this.url+"/iceberg",this.headers,this.fetch)}}const ak="2.76.1";let Wu="";typeof Deno<"u"?Wu="deno":typeof document<"u"?Wu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wu="react-native":Wu="node";const ok={"X-Client-Info":`supabase-js-${Wu}/${ak}`},lk={headers:ok},uk={schema:"public"},ck={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hk={},dk=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZS:t=fetch,(...n)=>t(...n)},fk=()=>typeof Headers>"u"?GS:Headers,pk=(e,t,n)=>{const r=dk(n),a=fk();return async(o,u)=>{var h;const d=(h=await t())!==null&&h!==void 0?h:e;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},u),{headers:g}))}};function mk(e){return e.endsWith("/")?e:e+"/"}function gk(e,t){var n,r;const{db:a,auth:o,realtime:u,global:h}=e,{db:d,auth:g,realtime:y,global:v}=t,x={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},g),o),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(r=h?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function yk(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sC="2.76.1",il=30*1e3,Bg=3,Dm=Bg*il,vk="http://localhost:9999",_k="supabase.auth.token",bk={"X-Client-Info":`gotrue-js/${sC}`},Ig="X-Supabase-Api-Version",aC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wk=600*1e3;class dc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sk extends dc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ck(e){return Be(e)&&e.name==="AuthApiError"}class Za extends dc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ys extends dc{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class $s extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ek(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Wo extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xd extends Ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wd extends Ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tk(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class mx extends Ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ug extends Ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zm(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class gx extends Ys{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Vg extends Ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yx=` 	
\r=`.split(""),jk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yx.length;t+=1)e[yx[t].charCodeAt(0)]=-2;for(let t=0;t<Fd.length;t+=1)e[Fd[t].charCodeAt(0)]=t;return e})();function vx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fd[r]),t.queuedBits-=6}}function oC(e,t,n){const r=jk[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _x(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{Ak(u,r,n)};for(let u=0;u<e.length;u+=1)oC(e.charCodeAt(u),a,o);return t.join("")}function Lk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Lk(r,t)}}function Ak(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function cl(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)oC(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Nk(e){const t=[];return kk(e,n=>t.push(n)),new Uint8Array(t)}function Ga(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>vx(a,n,r)),vx(null,n,r),t.join("")}function Mk(e){return Math.round(Date.now()/1e3)+e}function Ok(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const di=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},lC=()=>{if(!di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function Pk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const uC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Rk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ua=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hs=async(e,t)=>{await e.removeItem(t)};class lf{constructor(){this.promise=new lf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}lf.promiseConstructor=Promise;function Bm(e){const t=e.split(".");if(t.length!==3)throw new Vg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!xk.test(t[r]))throw new Vg("JWT not in base64url format");return{header:JSON.parse(_x(t[0])),payload:JSON.parse(_x(t[1])),signature:cl(t[2]),raw:{header:t[0],payload:t[1]}}}async function Dk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zk(e,t){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){r(u);return}}catch(u){if(!t(o,u)){a(u);return}}})()})}function Bk(e){return("0"+e.toString(16)).substr(-2)}function Ik(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Bk).join("")}async function Uk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Vk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Uk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yo(e,t,n=!1){const r=Ik();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await rl(e,`${t}-code-verifier`,a);const o=await Vk(r);return[o,r===o?"plain":"s256"]}const Hk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fk(e){const t=e.headers.get(Ig);if(!t||!t.match(Hk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $k(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xo(e){if(!Zk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bx(e){return JSON.parse(JSON.stringify(e))}const Fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gk=[502,503,504];async function xx(e){var t;if(!Rk(e))throw new Ug(Fa(e),0);if(Gk.includes(e.status))throw new Ug(Fa(e),e.status);let n;try{n=await e.json()}catch(o){throw new Za(Fa(o),o)}let r;const a=Fk(e);if(a&&a.getTime()>=aC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gx(Fa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new $s}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new gx(Fa(n),e.status,n.weak_password.reasons);throw new Sk(Fa(n),e.status||500,r)}const Kk=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function We(e,t,n,r){var a;const o=Object.assign({},r?.headers);o[Ig]||(o[Ig]=aC["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const u=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await Wk(e,t,n+h,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Wk(e,t,n,r,a,o){const u=Kk(t,r,a,o);let h;try{h=await e(n,Object.assign({},u))}catch(d){throw console.error(d),new Ug(Fa(d),0)}if(h.ok||await xx(h),r?.noResolveJson)return h;try{return await h.json()}catch(d){await xx(d)}}function Ki(e){var t;let n=null;Jk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Mk(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function wx(e){const t=Ki(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yk(e){return{data:e,error:null}}function Xk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=e,u=Cl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function Sx(e){return e}function Jk(e){return e.access_token&&e.refresh_token&&e.expires_in}const Um=["global","local","others"];class Qk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=uC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Um[0]){if(Um.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Um.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Cl(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Xk,redirectTo:n?.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,o,u,h,d;try{const g={nextPage:null,lastPage:0,total:0},y=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Sx});if(y.error)throw y.error;const v=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(d=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=T}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Be(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Xo(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Xo(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Xo(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Xo(t.userId);try{const{data:n,error:r}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Xo(t.userId),Xo(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,a,o,u,h,d;try{const g={nextPage:null,lastPage:0,total:0},y=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Sx});if(y.error)throw y.error;const v=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(d=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=T}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Be(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}}function Cx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jo={debug:!!(globalThis&&lC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eA extends cC{}async function tA(e,t,n){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function nA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function iA(e){return parseInt(e,16)}function rA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function sA(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:d,resources:g,scheme:y,uri:v,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=hC(e.address),E=y?`${y}://${r}`:r,T=e.statement?`${e.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${w}

${T}`;let O=`URI: ${v}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(O+=`
Expiration Time: ${a.toISOString()}`),h&&(O+=`
Not Before: ${h.toISOString()}`),d&&(O+=`
Request ID: ${d}`),g){let P=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);P+=`
- ${M}`}O+=P}return`${N}
${O}`}class nn extends Error{constructor({message:t,code:n,cause:r,name:a}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=a??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class qd extends nn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function aA({error:e,options:t}){var n,r,a;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(dC(u)){if(o.rp.id!==u)return new nn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function oA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(dC(r)){if(n.rpId!==r)return new nn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uA=new lA;function cA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=Cl(e,["challenge","user","excludeCredentials"]),o=cl(t).buffer,u=Object.assign(Object.assign({},n),{id:cl(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:o,user:u});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const g=r[d];h.excludeCredentials[d]=Object.assign(Object.assign({},g),{id:cl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function hA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Cl(e,["challenge","allowCredentials"]),a=cl(t).buffer,o=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:cl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function dA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ga(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ga(new Uint8Array(a.authenticatorData)),clientDataJSON:Ga(new Uint8Array(a.clientDataJSON)),signature:Ga(new Uint8Array(a.signature)),userHandle:a.userHandle?Ga(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ex(){var e,t;return!!(di()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qd("Browser returned unexpected credential type",t)}:{data:null,error:new qd("Empty credential response",t)}}catch(t){return{data:null,error:aA({error:t,options:e})}}}async function mA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qd("Browser returned unexpected credential type",t)}:{data:null,error:new qd("Empty credential response",t)}}catch(t){return{data:null,error:oA({error:t,options:e})}}}const gA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yA={userVerification:"preferred",hints:["security-key"]};function $d(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of e)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))r[o]=u;else if(n(u))r[o]=u;else if(t(u)){const h=r[o];t(h)?r[o]=$d(h,u):r[o]=$d(u)}else r[o]=u}return r}function vA(e,t){return $d(gA,e,t||{})}function _A(e,t){return $d(yA,e,t||{})}class bA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:a},o){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:h};const d=a??uA.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${r}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=vA(u.webauthn.credential_options.publicKey,o?.create),{data:y,error:v}=await pA({publicKey:g,signal:d});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=_A(u.webauthn.credential_options.publicKey,o?.request),{data:y,error:v}=await mA(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:d}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new Za("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}},o){if(!n)return{data:null,error:new dc("rpId is required for WebAuthn authentication")};try{if(!Ex())return{data:null,error:new Za("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:o});if(!u)return{data:null,error:h};const{webauthn:d}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new Za("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a},o){if(!n)return{data:null,error:new dc("rpId is required for WebAuthn registration")};try{if(!Ex())return{data:null,error:new Za("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:d,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:o});return d?this._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:g}}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new Za("Unexpected error in register",u)}}}}nA();const xA={url:vk,storageKey:_k,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tx(e,t,n){return await n()}const Qo={};class fc{get jwks(){var t,n;return(n=(t=Qo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Qo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fc.nextInstanceID,fc.nextInstanceID+=1,this.instanceID>0&&di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},xA),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Qk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uC(a.fetch),this.lock=a.lock||Tx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:di()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=tA:this.lock=Tx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bA(this)},this.persistSession?(a.storage?this.storage=a.storage:lC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Cx(this.memoryStorage)),di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Pk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),di()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Tk(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new Za("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ki}),{data:u,error:h}=o;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:g,session:d},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,a;try{let o;if("email"in t){const{email:y,password:v,options:x}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await Yo(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:v,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:E},xform:Ki})}else if("phone"in t){const{phone:y,password:v,options:x}=t;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ki})}else throw new xd("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:g,session:d},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:u,options:h}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wx})}else if("phone"in t){const{phone:o,password:u,options:h}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wx})}else throw new xd("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,a,o,u,h,d,g,y,v,x;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:T,wallet:N,statement:O,options:P}=t;let M;if(di())if(typeof N=="object")M=N;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")M=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),H=await M.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=hC(H[0]);let F=(r=P?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const G=await M.request({method:"eth_chainId"});F=iA(G)}const te={domain:U.host,address:I,statement:O,uri:U.href,version:"1",chainId:F,nonce:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=P?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=sA(te),E=await M.request({method:"personal_sign",params:[rA(w),I]})}try{const{data:T,error:N}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ki});if(N)throw N;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Wo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:N})}catch(T){if(Be(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(t){var n,r,a,o,u,h,d,g,y,v,x,w;let E,T;if("message"in t)E=t.message,T=t.signature;else{const{chain:N,wallet:O,statement:P,options:M}=t;let U;if(di())if(typeof O=="object")U=O;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))U=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=O}const H=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const I=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),P?{statement:P}:null));let F;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")F=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)F=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),T=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(a=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=M?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((v=(y=M?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...M.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const I=await U.signMessage(new TextEncoder().encode(E),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=I}}try{const{data:N,error:O}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Ga(T)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ki});if(O)throw O;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Wo}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:O})}catch(N){if(Be(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ki});if(await Hs(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Wo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(Be(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:o,nonce:u}=t,h=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ki}),{data:d,error:g}=h;return g?{data:{user:null,session:null},error:g}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Wo}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:g})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,o,u;try{if("email"in t){const{email:h,options:d}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Yo(this.storage,this.storageKey));const{error:v}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:d}=t,{data:g,error:y}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(u=d?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new xd("You must provide either an email or phone number.")}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,r;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ki});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,g=u.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:g,session:d},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await Yo(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:Yk})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new $s;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:o}=t,{error:u}=await We(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:a,options:o}=t,{data:u,error:h}=await We(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new xd("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Dm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await Ua(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Im()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,g,y)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,g,y))})}return{data:{session:t},error:null}}const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gs}):await this._useSession(async n=>{var r,a,o;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Gs})})}catch(n){if(Be(n))return Ek(n)&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new $s;const u=a.session;let h=null,d=null;this.flowType==="pkce"&&t.email!=null&&([h,d]=await Yo(this.storage,this.storageKey));const{data:g,error:y}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:Gs});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const n=Date.now()/1e3;let r=n,a=!0,o=null;const{payload:u}=Bm(t.access_token);if(u.exp&&(r=u.exp,a=r<=n),a){const{data:h,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new $s;const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!di())throw new wd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mx("No code detected.");const{data:P,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:h,expires_at:d,token_type:g}=t;if(!o||!h||!u||!g)throw new wd("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let x=y+v;d&&(x=parseInt(d));const w=x-y;w*1e3<=il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const E=x-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,y);const{data:T,error:N}=await this._getUser(o);if(N)throw N;const O={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:v,expires_at:x,refresh_token:u,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(r){if(Be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{error:o};const u=(r=a.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(Ck(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Ok(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Yo(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var u,h,d,g,y;const{data:v,error:x}=o;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return di()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Be(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:u,provider:h,token:d,access_token:g,nonce:y}=t,v=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:d,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ki}),{data:x,error:w}=v;return w?{data:{user:null,session:null},error:w}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Wo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:w})}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)throw u;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zk(async a=>(a>0&&await Dk(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ki})),(a,o)=>{const u=200*Math.pow(2,a);return o&&zm(o)&&Date.now()+u-r<il})}catch(r){if(this._debug(n,"error",r),Be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),di()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Ua(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await rl(this.userStorage,this.storageKey+"-user",u)),a.user=(t=u?.user)!==null&&t!==void 0?t:Im()}else if(a&&!a.user&&!a.user){const u=await Ua(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Hs(this.storage,this.storageKey+"-user"),await rl(this.storage,this.storageKey,a)):a.user=Im()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Dm}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),zm(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new lf;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new $s;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),Be(o)){const u={data:null,error:o};return zm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await rl(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=bx(a);await rl(this.storage,this.storageKey,o)}else{const a=bx(n);await rl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Hs(this.storage,this.storageKey),await Hs(this.storage,this.storageKey+"-code-verifier"),await Hs(this.storage,this.storageKey+"-user"),this.userStorage&&await Hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&di()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),il);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${il}ms, refresh threshold is ${Bg} ticks`),a<=Bg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!di()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,u]=await Yo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:g}=await We(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dA(t.webauthn.credential_response):fA(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:d}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:d})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:cA(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:hA(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bm(a.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(h=>h.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(h=>h.kid===t),r&&this.jwks_cached_at+wk>a)return r;const{data:o,error:u}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,r=o.keys.find(h=>h.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return{data:null,error:E};r=w.session.access_token}const{header:a,payload:o,signature:u,raw:{header:h,payload:d}}=Bm(r);n?.allowExpired||qk(o.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:a,signature:u},error:null}}const y=$k(a.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,Nk(`${h}.${d}`)))throw new Vg("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}fc.nextInstanceID=0;const wA=fc;class SA extends wA{constructor(t){super(t)}}class CA{constructor(t,n,r){var a,o,u;this.supabaseUrl=t,this.supabaseKey=n;const h=yk(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:uk,realtime:hk,auth:Object.assign(Object.assign({},ck),{storageKey:d}),global:lk},y=gk(r??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=pk(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new vL(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new sk(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new lL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:u,flowType:h,lock:d,debug:g},y,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SA({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:o,flowType:h,lock:d,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new RL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EA=(e,t,n)=>new CA(e,t,n);function TA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}TA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jA="https://xtkbvnnkovogqwcwdhkg.supabase.co",LA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0a2J2bm5rb3ZvZ3F3Y3dkaGtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMzg5ODEsImV4cCI6MjA3NjgxNDk4MX0.71MqQy05baMcDaGI5Xq_fUbcjgGvA0rjnNuXtacEwKs",xe=EA(jA,LA,{auth:{storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),fC=Object.freeze(Object.defineProperty({__proto__:null,supabase:xe},Symbol.toStringTag,{value:"Module"}));/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jx="popstate";function kA(e={}){function t(a,o){let{pathname:u="/",search:h="",hash:d=""}=to(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Hg("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof o=="string"?o:pc(o))}function r(a,o){Oi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return NA(t,n,r,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AA(){return Math.random().toString(36).substring(2,10)}function Lx(e,t){return{usr:e.state,key:e.key,idx:t}}function Hg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?to(t):t,state:n,key:t&&t.key||r||AA()}}function pc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function to(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function NA(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),O=N==null?null:N-g;g=N,d&&d({action:h,location:T.location,delta:O})}function x(N,O){h="PUSH";let P=Hg(T.location,N,O);n&&n(P,N),g=y()+1;let M=Lx(P,g),U=T.createHref(P);try{u.pushState(M,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(U)}o&&d&&d({action:h,location:T.location,delta:1})}function w(N,O){h="REPLACE";let P=Hg(T.location,N,O);n&&n(P,N),g=y();let M=Lx(P,g),U=T.createHref(P);u.replaceState(M,"",U),o&&d&&d({action:h,location:T.location,delta:0})}function E(N){return MA(N)}let T={get action(){return h},get location(){return e(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(jx,v),d=N,()=>{a.removeEventListener(jx,v),d=null}},createHref(N){return t(a,N)},createURL:E,encodeLocation(N){let O=E(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:w,go(N){return u.go(N)}};return T}function MA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:pc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pC(e,t,n="/"){return OA(e,t,n,!1)}function OA(e,t,n,r){let a=typeof t=="string"?to(t):t,o=Qr(a.pathname||"/",n);if(o==null)return null;let u=mC(e);PA(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let g=$A(o);h=FA(u[d],g,r)}return h}function mC(e,t=[],n=[],r="",a=!1){let o=(u,h,d=a,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;Ut(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Jr([r,y.relativePath]),x=n.concat(y);u.children&&u.children.length>0&&(Ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),mC(u.children,t,x,v,d)),!(u.path==null&&!u.index)&&t.push({path:v,score:VA(v,u.index),routesMeta:x})};return e.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of gC(u.path))o(u,h,!0,d)}),t}function gC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=gC(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function PA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RA=/^:[\w-]+$/,DA=3,zA=2,BA=1,IA=10,UA=-2,kx=e=>e==="*";function VA(e,t){let n=e.split("/"),r=n.length;return n.some(kx)&&(r+=UA),t&&(r+=zA),n.filter(a=>!kx(a)).reduce((a,o)=>a+(RA.test(o)?DA:o===""?BA:IA),r)}function HA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function FA(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],g=h===r.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Zd({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),x=d.route;if(!v&&g&&n&&!r[r.length-1].route.index&&(v=Zd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Jr([o,v.pathname]),pathnameBase:WA(Jr([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Jr([o,v.pathnameBase]))}return u}function Zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let E=h[x]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=h[x];return v&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function qA(e,t=!1,n=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function $A(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ZA(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?to(e):e;return{pathname:n?n.startsWith("/")?n:GA(n,t):t,search:YA(r),hash:XA(a)}}function GA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yC(e){let t=KA(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function vC(e,t,n,r=!1){let a;typeof e=="string"?a=to(e):(a={...e},Ut(!a.pathname||!a.pathname.includes("?"),Vm("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),Vm("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),Vm("#","search","hash",a)));let o=e===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?t[v]:"/"}let d=ZA(a,h),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var Jr=e=>e.join("/").replace(/\/\/+/g,"/"),WA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var _C=["POST","PUT","PATCH","DELETE"];new Set(_C);var QA=["GET",..._C];new Set(QA);var Tl=k.createContext(null);Tl.displayName="DataRouter";var uf=k.createContext(null);uf.displayName="DataRouterState";k.createContext(!1);var bC=k.createContext({isTransitioning:!1});bC.displayName="ViewTransition";var eN=k.createContext(new Map);eN.displayName="Fetchers";var tN=k.createContext(null);tN.displayName="Await";var Sr=k.createContext(null);Sr.displayName="Navigation";var Ac=k.createContext(null);Ac.displayName="Location";var Cr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var By=k.createContext(null);By.displayName="RouteError";function nN(e,{relative:t}={}){Ut(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Sr),{hash:a,pathname:o,search:u}=Mc(e,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Jr([n,o])),r.createHref({pathname:h,search:u,hash:a})}function Nc(){return k.useContext(Ac)!=null}function er(){return Ut(Nc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ac).location}var xC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wC(e){k.useContext(Sr).static||k.useLayoutEffect(e)}function jl(){let{isDataRoute:e}=k.useContext(Cr);return e?yN():iN()}function iN(){Ut(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Tl),{basename:t,navigator:n}=k.useContext(Sr),{matches:r}=k.useContext(Cr),{pathname:a}=er(),o=JSON.stringify(yC(r)),u=k.useRef(!1);return wC(()=>{u.current=!0}),k.useCallback((d,g={})=>{if(Oi(u.current,xC),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=vC(d,JSON.parse(o),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Jr([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,o,a,e])}var rN=k.createContext(null);function sN(e){let t=k.useContext(Cr).outlet;return k.useMemo(()=>t&&k.createElement(rN.Provider,{value:e},t),[t,e])}function Mc(e,{relative:t}={}){let{matches:n}=k.useContext(Cr),{pathname:r}=er(),a=JSON.stringify(yC(n));return k.useMemo(()=>vC(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function aN(e,t){return SC(e,t)}function SC(e,t,n,r,a){Ut(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Sr),{matches:u}=k.useContext(Cr),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let P=v&&v.path||"";CC(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=er(),w;if(t){let P=typeof t=="string"?to(t):t;Ut(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=x;let E=w.pathname||"/",T=E;if(y!=="/"){let P=y.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=pC(e,{pathname:T});Oi(v||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=hN(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Jr([y,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:Jr([y,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,n,r,a);return t&&O?k.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function oN(){let e=gN(),t=JA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:a},n):null,u)}var lN=k.createElement(oN,null),uN=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Cr.Provider,{value:this.props.routeContext},k.createElement(By.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cN({routeContext:e,match:t,children:n}){let r=k.useContext(Tl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Cr.Provider,{value:e},n)}function hN(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:v,errors:x}=n,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,v)=>{let x,w=!1,E=null,T=null;n&&(x=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||lN,h&&(d<0&&v===0?(CC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):d===v&&(w=!0,T=y.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,v+1)),O=()=>{let P;return x?P=E:w?P=T:y.route.Component?P=k.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=g,k.createElement(cN,{match:y,routeContext:{outlet:g,matches:N,isDataRoute:n!=null},children:P})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?k.createElement(uN,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):O()},null)}function Iy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dN(e){let t=k.useContext(Tl);return Ut(t,Iy(e)),t}function fN(e){let t=k.useContext(uf);return Ut(t,Iy(e)),t}function pN(e){let t=k.useContext(Cr);return Ut(t,Iy(e)),t}function Uy(e){let t=pN(e),n=t.matches[t.matches.length-1];return Ut(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function mN(){return Uy("useRouteId")}function gN(){let e=k.useContext(By),t=fN("useRouteError"),n=Uy("useRouteError");return e!==void 0?e:t.errors?.[n]}function yN(){let{router:e}=dN("useNavigate"),t=Uy("useNavigate"),n=k.useRef(!1);return wC(()=>{n.current=!0}),k.useCallback(async(a,o={})=>{Oi(n.current,xC),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Ax={};function CC(e,t,n){!t&&!Ax[e]&&(Ax[e]=!0,Oi(!1,n))}k.memo(vN);function vN({routes:e,future:t,state:n,unstable_onError:r}){return SC(e,void 0,n,r,t)}function _N(e){return sN(e.context)}function Wn(e){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bN({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Ut(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=to(n));let{pathname:d="/",search:g="",hash:y="",state:v=null,key:x="default"}=n,w=k.useMemo(()=>{let E=Qr(d,u);return E==null?null:{location:{pathname:E,search:g,hash:y,state:v,key:x},navigationType:r}},[u,d,g,y,v,x,r]);return Oi(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Sr.Provider,{value:h},k.createElement(Ac.Provider,{children:t,value:w}))}function xN({children:e,location:t}){return aN(Fg(e),t)}function Fg(e,t=[]){let n=[];return k.Children.forEach(e,(r,a)=>{if(!k.isValidElement(r))return;let o=[...t,a];if(r.type===k.Fragment){n.push.apply(n,Fg(r.props.children,o));return}Ut(r.type===Wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Fg(r.props.children,o)),n.push(u)}),n}var Pd="get",Rd="application/x-www-form-urlencoded";function cf(e){return e!=null&&typeof e.tagName=="string"}function wN(e){return cf(e)&&e.tagName.toLowerCase()==="button"}function SN(e){return cf(e)&&e.tagName.toLowerCase()==="form"}function CN(e){return cf(e)&&e.tagName.toLowerCase()==="input"}function EN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TN(e,t){return e.button===0&&(!t||t==="_self")&&!EN(e)}function qg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function jN(e,t){let n=qg(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Sd=null;function LN(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var kN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(e){return e!=null&&!kN.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):e}function AN(e,t){let n,r,a,o,u;if(SN(e)){let h=e.getAttribute("action");r=h?Qr(h,t):null,n=e.getAttribute("method")||Pd,a=Hm(e.getAttribute("enctype"))||Rd,o=new FormData(e)}else if(wN(e)||CN(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||h.getAttribute("action");if(r=d?Qr(d,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Pd,a=Hm(e.getAttribute("formenctype"))||Hm(h.getAttribute("enctype"))||Rd,o=new FormData(h,e),!LN()){let{name:g,type:y,value:v}=e;if(y==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,v)}}else{if(cf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pd,r=null,a=Rd,u=e}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NN(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Qr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function MN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ON(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function PN(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await MN(o,n);return u.links?u.links():[]}return[]}));return BN(r.flat(1).filter(ON).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Nx(e,t,n,r,a,o){let u=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,h=(d,g)=>n[g].pathname!==d.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,g)=>u(d,g)||h(d,g)):o==="data"?t.filter((d,g)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function RN(e,t,{includeHydrateFallback:n}={}){return DN(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function DN(e){return[...new Set(e)]}function zN(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function BN(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(zN(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function EC(){let e=k.useContext(Tl);return Vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function IN(){let e=k.useContext(uf);return Vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hy=k.createContext(void 0);Hy.displayName="FrameworkContext";function TC(){let e=k.useContext(Hy);return Vy(e,"You must render this element inside a <HydratedRouter> element"),e}function UN(e,t){let n=k.useContext(Hy),[r,a]=k.useState(!1),[o,u]=k.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,x=k.useRef(null);k.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let T=O=>{O.forEach(P=>{u(P.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[e]),k.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),u(!1)};return n?e!=="intent"?[o,x,{}]:[o,x,{onFocus:Uu(h,w),onBlur:Uu(d,E),onMouseEnter:Uu(g,w),onMouseLeave:Uu(y,E),onTouchStart:Uu(v,w)}]:[!1,x,{}]}function Uu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function VN({page:e,...t}){let{router:n}=EC(),r=k.useMemo(()=>pC(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(FN,{page:e,matches:r,...t}):null}function HN(e){let{manifest:t,routeModules:n}=TC(),[r,a]=k.useState([]);return k.useEffect(()=>{let o=!1;return PN(e,t,n).then(u=>{o||a(u)}),()=>{o=!0}},[e,t,n]),r}function FN({page:e,matches:t,...n}){let r=er(),{manifest:a,routeModules:o}=TC(),{basename:u}=EC(),{loaderData:h,matches:d}=IN(),g=k.useMemo(()=>Nx(e,t,d,a,r,"data"),[e,t,d,a,r]),y=k.useMemo(()=>Nx(e,t,d,a,r,"assets"),[e,t,d,a,r]),v=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(t.forEach(O=>{let P=a.routes[O.route.id];!P||!P.hasLoader||(!g.some(M=>M.route.id===O.route.id)&&O.route.id in h&&o[O.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:E.add(O.route.id))}),E.size===0)return[];let N=NN(e,u,"data");return T&&E.size>0&&N.searchParams.set("_routes",t.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[u,h,r,a,g,t,e,o]),x=k.useMemo(()=>RN(y,a),[y,a]),w=HN(y);return k.createElement(k.Fragment,null,v.map(E=>k.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>k.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:T})=>k.createElement("link",{key:E,nonce:n.nonce,...T})))}function qN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var jC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jC&&(window.__reactRouterVersion="7.9.4")}catch{}function $N({basename:e,children:t,window:n}){let r=k.useRef();r.current==null&&(r.current=kA({window:n,v5Compat:!0}));let a=r.current,[o,u]=k.useState({action:a.action,location:a.location}),h=k.useCallback(d=>{k.startTransition(()=>u(d))},[u]);return k.useLayoutEffect(()=>a.listen(h),[a,h]),k.createElement(bN,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var LC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hl=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:g,preventScrollReset:y,viewTransition:v,...x},w){let{basename:E}=k.useContext(Sr),T=typeof g=="string"&&LC.test(g),N,O=!1;if(typeof g=="string"&&T&&(N=g,jC))try{let G=new URL(window.location.href),re=g.startsWith("//")?new URL(G.protocol+g):new URL(g),K=Qr(re.pathname,E);re.origin===G.origin&&K!=null?g=K+re.search+re.hash:O=!0}catch{Oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=nN(g,{relative:a}),[M,U,H]=UN(r,x),I=WN(g,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function F(G){t&&t(G),G.defaultPrevented||I(G)}let te=k.createElement("a",{...x,...H,href:N||P,onClick:O||o?t:F,ref:qN(w,U),target:d,"data-discover":!T&&n==="render"?"true":void 0});return M&&!T?k.createElement(k.Fragment,null,te,k.createElement(VN,{page:P})):te});hl.displayName="Link";var ZN=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...g},y){let v=Mc(u,{relative:g.relative}),x=er(),w=k.useContext(uf),{navigator:E,basename:T}=k.useContext(Sr),N=w!=null&&tM(v)&&h===!0,O=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,P=x.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),M=M?M.toLowerCase():null,O=O.toLowerCase()),M&&T&&(M=Qr(M,T)||M);const U=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let H=P===O||!a&&P.startsWith(O)&&P.charAt(U)==="/",I=M!=null&&(M===O||!a&&M.startsWith(O)&&M.charAt(O.length)==="/"),F={isActive:H,isPending:I,isTransitioning:N},te=H?t:void 0,G;typeof r=="function"?G=r(F):G=[r,H?"active":null,I?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let re=typeof o=="function"?o(F):o;return k.createElement(hl,{...g,"aria-current":te,className:G,ref:y,style:re,to:u,viewTransition:h},typeof d=="function"?d(F):d)});ZN.displayName="NavLink";var GN=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Pd,action:h,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:v,...x},w)=>{let E=QN(),T=eM(h,{relative:g}),N=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&LC.test(h),P=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let U=M.nativeEvent.submitter,H=U?.getAttribute("formmethod")||u;E(U||M.currentTarget,{fetcherKey:t,method:H,navigate:n,replace:a,state:o,relative:g,preventScrollReset:y,viewTransition:v})};return k.createElement("form",{ref:w,method:N,action:T,onSubmit:r?d:P,...x,"data-discover":!O&&e==="render"?"true":void 0})});GN.displayName="Form";function KN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(e){let t=k.useContext(Tl);return Ut(t,KN(e)),t}function WN(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=jl(),d=er(),g=Mc(e,{relative:o});return k.useCallback(y=>{if(TN(y,t)){y.preventDefault();let v=n!==void 0?n:pc(d)===pc(g);h(e,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,g,n,r,t,e,a,o,u])}function YN(e){Oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(qg(e)),n=k.useRef(!1),r=er(),a=k.useMemo(()=>jN(r.search,n.current?null:t.current),[r.search]),o=jl(),u=k.useCallback((h,d)=>{const g=qg(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,o("?"+g,d)},[o,a]);return[a,u]}var XN=0,JN=()=>`__${String(++XN)}__`;function QN(){let{router:e}=kC("useSubmit"),{basename:t}=k.useContext(Sr),n=mN();return k.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:g}=AN(r,t);if(a.navigate===!1){let y=a.fetcherKey||JN();await e.fetch(y,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function eM(e,{relative:t}={}){let{basename:n}=k.useContext(Sr),r=k.useContext(Cr);Ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Mc(e||".",{relative:t})},u=er();if(e==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Jr([n,o.pathname])),pc(o)}function tM(e,{relative:t}={}){let n=k.useContext(bC);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kC("useViewTransitionState"),a=Mc(e,{relative:t});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zd(a.pathname,u)!=null||Zd(a.pathname,o)!=null}var AC=bS();function nM(e=[]){const[t,n]=k.useState(e);k.useEffect(()=>{Array.isArray(e)&&n(e)},[e]);const r=["id","lat","lng","rectangle","angle","coreLocked"],a=["iconUrl","iconSize","iconColor","className","prefix","glyph","glyphColor","glyphSize","glyphAnchor","appearanceLocked"],o=["name","logo","website","info","contentLocked"],u=k.useCallback(async(h,d)=>{async function g(v,x,w){const{data:E,error:T}=await v.from(x).select("id").eq("id",w);if(!T&&(!E||E.length===0)){let N={id:w};return x==="Markers_Core"&&(N.coreLocked=!1),x==="Markers_Appearance"&&(N.appearanceLocked=!1),x==="Markers_Content"&&(N.contentLocked=!1),await v.from(x).insert([N]),!0}return!0}const y=typeof h=="string"&&h.startsWith("m")?parseInt(h.slice(1),10):h;n(v=>v.map(x=>x.id===h?{...x,...d}:x));try{const{supabase:v}=await Qi(async()=>{const{supabase:w}=await Promise.resolve().then(()=>fC);return{supabase:w}},[]),x=[{name:"Markers_Core",fields:r},{name:"Markers_Appearance",fields:a},{name:"Markers_Content",fields:o}];for(const{name:w}of x)await g(v,w,y);for(const[w,E]of Object.entries(d)){let T=null;if(r.includes(w)?T="Markers_Core":a.includes(w)?T="Markers_Appearance":o.includes(w)&&(T="Markers_Content"),T){if(!await g(v,T,y))continue;await v.from(T).update({[w]:E}).eq("id",y)}}}catch{}},[]);return[t,u,n]}function iM(e=new Date().getFullYear()){const t=typeof window<"u"?localStorage.getItem("eventMarkers"):null,n=typeof navigator<"u"?navigator.onLine:!0,[r,a]=k.useState(n),[o,u]=k.useState(()=>!n&&t?JSON.parse(t):[]),[h,d]=k.useState(()=>!(!n&&t)),g=k.useRef(e);k.useEffect(()=>{g.current=e},[e]);const y=k.useCallback(async v=>{const x=g.current;if(d(!0),!v&&t){u(JSON.parse(t)),d(!1);return}try{const[w,E,T,N,O]=await Promise.all([xe.from("Markers_Core").select("*"),xe.from("Markers_Appearance").select("*"),xe.from("Markers_Content").select("*"),xe.from("assignments").select(`
            *,
            company:companies(id, name, logo, website, info, company_translations(language_code, info))
          `).eq("event_year",x),xe.from("event_subscriptions").select("*").eq("event_year",x)]);if(w.error)throw w.error;if(E.error)throw E.error;if(T.error)throw T.error;if(N.error)throw N.error;if(O.error)throw O.error;const P={};for(const G of E.data||[])G&&G.id&&(P[G.id]=G);const M={};for(const G of T.data||[])G&&G.id&&(M[G.id]=G);const U={appearance:P[-1]||{},core:(w.data||[]).find(G=>G.id===-1)||{}},H={appearance:P[-2]||{},core:(w.data||[]).find(G=>G.id===-2)||{}},I={};for(const G of O.data||[])G&&G.company_id&&(I[G.company_id]=G);const F={};for(const G of N.data||[])!G||!G.marker_id||(F[G.marker_id]||(F[G.marker_id]=[]),F[G.marker_id].push({assignmentId:G.id,companyId:G.company_id,...G.company}));const te=(w.data||[]).filter(G=>G.id>0).map(G=>{const re=P[G.id]||{},K=M[G.id]||{},Q=F[G.id]||[];let ae={},se={};if(G.id<1e3){const de=Q[0]||{},q=!!de.companyId;ae={name:de.name,logo:de.logo,website:de.website,info:de.info,companyId:de.companyId,assignmentId:de.assignmentId};const ee=q?U:H,Y={...ee.appearance,...re},we={...ee.core,...G};if(Object.assign(G,we),Object.assign(re,Y),de.companyId){const R=I[de.companyId]||{};se={contact:R.contact,phone:R.phone,email:R.email,boothCount:R.booth_count,area:R.area,coins:R.coins,breakfast:R.breakfast_sat,lunch:R.lunch_sat,bbq:R.bbq_sat,notes:R.notes}}}else ae={name:K.name,logo:K.logo,website:K.website,info:K.info},se={};return{...G,...re,...ae,...se,assignments:Q}});u(te),localStorage.setItem("eventMarkers",JSON.stringify(te))}catch(w){console.error("Error loading markers:",w)}finally{d(!1)}},[t]);return k.useEffect(()=>{y(r);function v(){a(!0),y(!0)}function x(){a(!1);const M=localStorage.getItem("eventMarkers");M&&u(JSON.parse(M)),d(!1)}window.addEventListener("online",v),window.addEventListener("offline",x);const w=xe.channel("markers-core-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Core"},()=>{y(!0)}).subscribe(),E=xe.channel("markers-appearance-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Appearance"},()=>{y(!0)}).subscribe(),T=xe.channel("markers-content-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Content"},()=>{y(!0)}).subscribe(),N=xe.channel("markers-assignments-changes").on("postgres_changes",{event:"*",schema:"public",table:"assignments"},async M=>{if(M.eventType==="DELETE")y(!0);else if(M.eventType==="INSERT"||M.eventType==="UPDATE"){if(M.new?.event_year!==g.current)return;y(!0)}}).subscribe(),O=xe.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},M=>{if(M.eventType==="UPDATE"&&M.new){const U=M.new;u(H=>H.map(I=>I.companyId===U.id?{...I,name:U.name,logo:U.logo,website:U.website,info:U.info}:I)),u(H=>(localStorage.setItem("eventMarkers",JSON.stringify(H)),H))}else y(!0)}).subscribe(),P=xe.channel(`event-subscriptions-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},M=>{y(!0)}).subscribe();return()=>{window.removeEventListener("online",v),window.removeEventListener("offline",x),xe.removeChannel(w),xe.removeChannel(E),xe.removeChannel(T),xe.removeChannel(N),xe.removeChannel(O),xe.removeChannel(P)}},[r,y]),k.useEffect(()=>{y(r)},[e,r,y]),{markers:o,loading:h,isOnline:r,reload:()=>y(r)}}class Fm extends gi.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?m.jsxs("div",{style:{color:"red",padding:"2rem"},children:[m.jsx("h2",{children:"Something went wrong in a component."}),m.jsx("pre",{children:typeof this.state.error=="string"?this.state.error:JSON.stringify(this.state.error,null,2)})]}):m.jsx("div",{style:{width:"100%",minHeight:"100svh",boxSizing:"border-box",position:"relative"},children:this.props.children})}}function rM(){const[e,t]=k.useState(typeof navigator<"u"?navigator.onLine:!0);return k.useEffect(()=>{function n(){t(!0)}function r(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?null:m.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-900 px-4 py-2 rounded shadow-lg z-50",role:"status","aria-live":"polite",children:m.jsx("span",{"aria-label":"Offline mode",children:"You are offline. Some features may be unavailable."})})}const Ze=e=>typeof e=="string",Vu=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},Mx=e=>e==null?"":""+e,sM=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},aM=/###/g,Ox=e=>e&&e.indexOf("###")>-1?e.replace(aM,"."):e,Px=e=>!e||Ze(e),nc=(e,t,n)=>{const r=Ze(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(Px(e))return{};const o=Ox(r[a]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++a}return Px(e)?{}:{obj:e,k:Ox(r[a])}},Rx=(e,t,n)=>{const{obj:r,k:a}=nc(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let o=t[t.length-1],u=t.slice(0,t.length-1),h=nc(e,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=nc(e,u,Object),h?.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},oM=(e,t,n,r)=>{const{obj:a,k:o}=nc(e,t,Object);a[o]=a[o]||[],a[o].push(n)},Gd=(e,t)=>{const{obj:n,k:r}=nc(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},lM=(e,t,n)=>{const r=Gd(e,n);return r!==void 0?r:Gd(t,n)},NC=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Ze(e[r])||e[r]instanceof String||Ze(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):NC(e[r],t[r],n):e[r]=t[r]);return e},el=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cM=e=>Ze(e)?e.replace(/[&<>"'\/]/g,t=>uM[t]):e;class hM{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const dM=[" ",",","?","!",";"],fM=new hM(20),pM=(e,t,n)=>{t=t||"",n=n||"";const r=dM.filter(u=>t.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const a=fM.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(e);if(!o){const u=e.indexOf(n);u>0&&!a.test(e.substring(0,u))&&(o=!0)}return o},$g=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let a=e;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,h="";for(let d=o;d<r.length;++d)if(d!==o&&(h+=n),h+=r[d],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<r.length-1)continue;o+=d-o+1;break}a=u}return a},mc=e=>e?.replace("_","-"),mM={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Kd{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||mM,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(Ze(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Kd(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Kd(this.logger,t)}}var _r=new Kd;class hf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[t,...n])})}}class Dx extends hf{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,a={}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;t.indexOf(".")>-1?h=t.split("."):(h=[t,n],r&&(Array.isArray(r)?h.push(...r):Ze(r)&&o?h.push(...r.split(o)):h.push(r)));const d=Gd(this.data,h);return!d&&!n&&!r&&t.indexOf(".")>-1&&(t=h[0],n=h[1],r=h.slice(2).join(".")),d||!u||!Ze(r)?d:$g(this.data?.[t]?.[n],r,o)}addResource(t,n,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[t,n];r&&(h=h.concat(u?r.split(u):r)),t.indexOf(".")>-1&&(h=t.split("."),a=n,n=h[1]),this.addNamespaces(n),Rx(this.data,h,a),o.silent||this.emit("added",t,n,r,a)}addResources(t,n,r,a={silent:!1}){for(const o in r)(Ze(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,o,u={silent:!1,skipCopy:!1}){let h=[t,n];t.indexOf(".")>-1&&(h=t.split("."),a=r,r=n,n=h[1]),this.addNamespaces(n);let d=Gd(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?NC(d,r,o):d={...d,...r},Rx(this.data,h,d),u.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var MC={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(o=>{t=this.processors[o]?.process(t,n,r,a)??t}),t}};const OC=Symbol("i18next/PATH_KEY");function gM(){const e=[],t=Object.create(null);let n;return t.get=(r,a)=>(n?.revoke?.(),a===OC?e:(e.push(a),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Zg(e,t){const{[OC]:n}=e(gM());return n.join(t?.keySeparator??".")}const zx={},qm=e=>!Ze(e)&&typeof e!="boolean"&&typeof e!="number";class Wd extends hf{constructor(t,n={}){super(),sM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_r.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const a=this.resolve(t,r);if(a?.res===void 0)return!1;const o=qm(a.res);return!(r.returnObjects===!1&&o)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&t.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pM(t,r,a);if(u&&!h){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:Ze(o)?[o]:o};const g=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),t=g.join(a)}return{key:t,namespaces:Ze(o)?[o]:o}}translate(t,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=Zg(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:d}=this.extractFromKey(t[t.length-1],a),g=d[d.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=a.lng||this.language,x=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return x?o?{res:`${g}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${y}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:h;const w=this.resolve(t,a);let E=w?.res;const T=w?.usedKey||h,N=w?.exactUsedKey||h,O=["[object Number]","[object Function]","[object RegExp]"],P=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,U=a.count!==void 0&&!Ze(a.count),H=Wd.hasDefaultValue(a),I=U?this.pluralResolver.getSuffix(v,a.count,a):"",F=a.ordinal&&U?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",te=U&&!a.ordinal&&a.count===0,G=te&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${I}`]||a[`defaultValue${F}`]||a.defaultValue;let re=E;M&&!E&&H&&(re=G);const K=qm(re),Q=Object.prototype.toString.apply(re);if(M&&re&&K&&O.indexOf(Q)<0&&!(Ze(P)&&Array.isArray(re))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ae=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,re,{...a,ns:d}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(w.res=ae,w.usedParams=this.getUsedParamsDetails(a),w):ae}if(u){const ae=Array.isArray(re),se=ae?[]:{},de=ae?N:T;for(const q in re)if(Object.prototype.hasOwnProperty.call(re,q)){const ee=`${de}${u}${q}`;H&&!E?se[q]=this.translate(ee,{...a,defaultValue:qm(G)?G[q]:void 0,joinArrays:!1,ns:d}):se[q]=this.translate(ee,{...a,joinArrays:!1,ns:d}),se[q]===ee&&(se[q]=re[q])}E=se}}else if(M&&Ze(P)&&Array.isArray(E))E=E.join(P),E&&(E=this.extendTranslation(E,t,a,r));else{let ae=!1,se=!1;!this.isValidLookup(E)&&H&&(ae=!0,E=G),this.isValidLookup(E)||(se=!0,E=h);const q=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:E,ee=H&&G!==E&&this.options.updateMissing;if(se||ae||ee){if(this.logger.log(ee?"updateKey":"missingKey",v,g,h,ee?G:E),u){const V=this.resolve(h,{...a,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(let V=0;V<we.length;V++)Y.push(we[V]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(a.lng||this.language):Y.push(a.lng||this.language);const R=(V,X,z)=>{const W=H&&z!==E?z:q;this.options.missingKeyHandler?this.options.missingKeyHandler(V,g,X,W,ee,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(V,g,X,W,ee,a),this.emit("missingKey",V,g,X,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?Y.forEach(V=>{const X=this.pluralResolver.getSuffixes(V,a);te&&a[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(z=>{R([V],h+z,a[`defaultValue${z}`]||G)})}):R(Y,h,G))}E=this.extendTranslation(E,t,a,w,r),se&&E===h&&this.options.appendNamespaceToMissingKey&&(E=`${g}${y}${h}`),(se||ae)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${h}`:h,ae?E:void 0,a))}return o?(w.res=E,w.usedParams=this.getUsedParamsDetails(a),w):E}extendTranslation(t,n,r,a,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Ze(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(d){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let y=r.replace&&!Ze(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),t=this.interpolator.interpolate(t,y,r.lng||this.language||a.usedLng,r),d){const v=t.match(this.interpolator.nestingRegexp),x=v&&v.length;g<x&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=Ze(u)?[u]:u;return t!=null&&h?.length&&r.applyPostProcessor!==!1&&(t=MC.handle(h,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,a,o,u,h;return Ze(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(d,n),y=g.key;a=y;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const x=n.count!==void 0&&!Ze(n.count),w=x&&!n.ordinal&&n.count===0,E=n.context!==void 0&&(Ze(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(N=>{this.isValidLookup(r)||(h=N,!zx[`${T[0]}-${N}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(zx[`${T[0]}-${N}`]=!0,this.logger.warn(`key "${a}" for languages "${T.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(O=>{if(this.isValidLookup(r))return;u=O;const P=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,y,O,N,n);else{let U;x&&(U=this.pluralResolver.getSuffix(O,n.count,n));const H=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&U.indexOf(I)===0&&P.push(y+U.replace(I,this.options.pluralSeparator)),P.push(y+U),w&&P.push(y+H)),E){const F=`${y}${this.options.contextSeparator||"_"}${n.context}`;P.push(F),x&&(n.ordinal&&U.indexOf(I)===0&&P.push(F+U.replace(I,this.options.pluralSeparator)),P.push(F+U),w&&P.push(F+H))}}let M;for(;M=P.pop();)this.isValidLookup(r)||(o=M,r=this.getResource(O,N,M,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Ze(t.replace);let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class Bx{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_r.create("languageUtils")}getScriptPartFromCode(t){if(t=mc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=mc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ze(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ze(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ze(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):Ze(t)&&o(this.formatLanguageCode(t)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const Ix={zero:0,one:1,two:2,few:3,many:4,other:5},Ux={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class yM{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=_r.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=mc(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ux;if(!t.match(/-|_/))return Ux;const d=this.languageUtils.getLanguagePartFromCode(t);u=this.getRule(d,n)}return this.pluralRulesCache[o]=u,u}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>Ix[a]-Ix[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,r={}){const a=this.getRule(t,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Vx=(e,t,n,r=".",a=!0)=>{let o=lM(e,t,n);return!o&&a&&Ze(n)&&(o=$g(e,n,r),o===void 0&&(o=$g(t,n,r))),o},$m=e=>e.replace(/\$/g,"$$$$");class vM{constructor(t={}){this.logger=_r.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:d,formatSeparator:g,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:x,nestingPrefixEscaped:w,nestingSuffix:E,nestingSuffixEscaped:T,nestingOptionsSeparator:N,maxReplaces:O,alwaysFormat:P}=t.interpolation;this.escape=n!==void 0?n:cM,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?el(o):u||"{{",this.suffix=h?el(h):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=x?el(x):w||el("$t("),this.nestingSuffix=E?el(E):T||el(")"),this.nestingOptionsSeparator=N||",",this.maxReplaces=O||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let o,u,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=w=>{if(w.indexOf(this.formatSeparator)<0){const O=Vx(n,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,r,{...a,...n,interpolationkey:w}):O}const E=w.split(this.formatSeparator),T=E.shift().trim(),N=E.join(this.formatSeparator).trim();return this.format(Vx(n,d,T,this.options.keySeparator,this.options.ignoreJSONStructure),N,r,{...a,...n,interpolationkey:T})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>$m(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?$m(this.escape(w)):$m(w)}].forEach(w=>{for(h=0;o=w.regex.exec(t);){const E=o[1].trim();if(u=g(E),u===void 0)if(typeof y=="function"){const N=y(t,o,a);u=Ze(N)?N:""}else if(a&&Object.prototype.hasOwnProperty.call(a,E))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${t}`),u="";else!Ze(u)&&!this.useRawValueToEscape&&(u=Mx(u));const T=w.safeValue(u);if(t=t.replace(o[0],T),v?(w.regex.lastIndex+=u.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),t}nest(t,n,r={}){let a,o,u;const h=(d,g)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const v=d.split(new RegExp(`${y}[ ]*{`));let x=`{${v[1]}`;d=v[0],x=this.interpolate(x,u);const w=x.match(/'/g),E=x.match(/"/g);((w?.length??0)%2===0&&!E||E.length%2!==0)&&(x=x.replace(/'/g,'"'));try{u=JSON.parse(x),g&&(u={...g,...u})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,T),`${d}${y}${x}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;a=this.nestingRegexp.exec(t);){let d=[];u={...r},u=u.replace&&!Ze(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(d=a[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),o=n(h.call(this,a[1].trim(),u),u),o&&a[0]===t&&!Ze(o))return o;Ze(o)||(o=Mx(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((y,v)=>this.format(y,v,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),t=t.replace(a[0],o),this.regexp.lastIndex=0}return t}}const _M=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:t,formatOptions:n}},Hx=e=>{const t={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let h=t[u];return h||(h=e(mc(r),a),t[u]=h),h(n)}},bM=e=>(t,n,r)=>e(mc(n),r)(t);class xM{constructor(t={}){this.logger=_r.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Hx:bM;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return h=>u.format(h)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return h=>u.format(h)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return h=>u.format(h)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return h=>u.format(h,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return h=>u.format(h)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Hx(n)}format(t,n,r,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,d)=>{const{formatName:g,formatOptions:y}=_M(d);if(this.formats[g]){let v=h;try{const x=a?.formatParams?.[a.interpolationkey]||{},w=x.locale||x.lng||a.locale||a.lng||r;v=this.formats[g](h,w,{...y,...a,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${g}`);return h},t)}}const wM=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class SM extends hf{constructor(t,n,r,a={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=_r.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(t,n,r,a){const o={},u={},h={},d={};return t.forEach(g=>{let y=!0;n.forEach(v=>{const x=`${g}|${v}`;!r.reload&&this.store.hasResourceBundle(g,v)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?u[x]===void 0&&(u[x]=!0):(this.state[x]=1,y=!1,u[x]===void 0&&(u[x]=!0),o[x]===void 0&&(o[x]=!0),d[v]===void 0&&(d[v]=!0)))}),y||(h[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(t,n,r){const a=t.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const h={};this.queue.forEach(d=>{oM(d.loaded,[o],u),wM(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{h[g]||(h[g]={});const y=d.loaded[g];y.length&&y.forEach(v=>{h[g][v]===void 0&&(h[g][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(t,n,r,a=0,o=this.retryTimeout,u){if(!t.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,o*2,u)},o);return}u(g,y)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const g=d(t,n);g&&typeof g.then=="function"?g.then(y=>h(null,y)).catch(h):h(null,g)}catch(g){h(g)}return}return d(t,n,h)}prepareLoading(t,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ze(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ze(n)&&(n=[n]);const o=this.queueLoad(t,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,h),this.loaded(t,u,h)})}saveMissing(t,n,r,a,o,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...u,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,r,a,d):y=g(t,n,r,a),y&&typeof y.then=="function"?y.then(v=>h(null,v)).catch(h):h(null,y)}catch(y){h(y)}else g(t,n,r,a,h,d)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const Fx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ze(e[1])&&(t.defaultValue=e[1]),Ze(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),qx=e=>(Ze(e.ns)&&(e.ns=[e.ns]),Ze(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ze(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Cd=()=>{},CM=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class gc extends hf{constructor(t={},n){if(super(),this.options=qx(t),this.services={},this.logger=_r,this.modules={external:[]},CM(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ze(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Fx();this.options={...r,...this.options,...qx(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?_r.init(a(this.modules.logger),this.options):_r.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=xM;const y=new Bx(this.options);this.store=new Dx(this.options.resources,this.options);const v=this.services;v.logger=_r,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new yM(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=a(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new vM(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new SM(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...E)=>{this.emit(w,...E)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Wd(this.services,this.options),this.translator.on("*",(w,...E)=>{this.emit(w,...E)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Cd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const h=Vu(),d=()=>{const g=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),h}loadResources(t,n=Cd){let r=n;const a=Ze(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&o.indexOf(g)<0&&o.push(g)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(t,n,r){const a=Vu();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Cd),this.services.backendConnector.reload(t,n,o=>{a.resolve(),r(o)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&MC.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Vu();this.emit("languageChanging",t);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,d)=>{d?this.isLanguageChangingTo===t&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),n&&n(h,(...g)=>this.t(...g))},u=h=>{!t&&!h&&this.services.languageDetector&&(h=[]);const d=Ze(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Ze(h)?[h]:h);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,y=>{o(y,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(t),r}getFixedT(t,n,r){const a=(o,u,...h)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(h)):d={...u},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||a.keyPrefix);const g=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(v=>(typeof v=="function"&&(v=Zg(v,{...this.options,...u})),`${d.keyPrefix}${g}${v}`)):(typeof o=="function"&&(o=Zg(o,{...this.options,...u})),y=d.keyPrefix?`${d.keyPrefix}${g}${o}`:o),this.t(y,d)};return Ze(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,d)=>{const g=this.services.backendConnector.state[`${h}|${d}`];return g===-1||g===0||g===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,t)&&(!a||u(o,t)))}loadNamespaces(t,n){const r=Vu();return this.options.ns?(Ze(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Vu();Ze(t)&&(t=[t]);const a=this.options.preload||[],o=t.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Bx(Fx());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new gc(t,n)}cloneInstance(t={},n=Cd){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},o=new gc(a);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const h=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((y,v)=>(y[v]={...d[g][v]},y),d[g]),d),{});o.store=new Dx(h,a),o.services.resourceStore=o.store}return o.translator=new Wd(o.services,a),o.translator.on("*",(h,...d)=>{o.emit(h,...d)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const kn=gc.createInstance();kn.createInstance=gc.createInstance;kn.createInstance;kn.dir;kn.init;kn.loadResources;kn.reloadResources;kn.use;kn.changeLanguage;kn.getFixedT;kn.t;kn.exists;kn.setDefaultNamespace;kn.hasLoadedNamespace;kn.loadNamespaces;kn.loadLanguages;const EM=(e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Ja(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},$x={},PC=(e,t,n,r)=>{Ja(n)&&$x[n]||(Ja(n)&&($x[n]=new Date),EM(e,t,n,r))},RC=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Gg=(e,t,n)=>{e.loadNamespaces(t,RC(e,n))},Zx=(e,t,n,r)=>{if(Ja(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Gg(e,n,r);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,RC(e,r))},TM=(e,t,n={})=>!t.languages||!t.languages.length?(PC(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),Ja=e=>typeof e=="string",jM=e=>typeof e=="object"&&e!==null,LM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,kM={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},AM=e=>kM[e],NM=e=>e.replace(LM,AM);let Kg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NM};const MM=(e={})=>{Kg={...Kg,...e}},OM=()=>Kg;let DC;const PM=e=>{DC=e},RM=()=>DC,DM={type:"3rdParty",init(e){MM(e.options.react),PM(e)}},zM=k.createContext();class BM{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Zm={exports:{}},Gm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function IM(){if(Gx)return Gm;Gx=1;var e=Lc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function h(v,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),T=E[0].inst,N=E[1];return o(function(){T.value=w,T.getSnapshot=x,d(T)&&N({inst:T})},[v,w,x]),a(function(){return d(T)&&N({inst:T}),v(function(){d(T)&&N({inst:T})})},[v]),u(w),w}function d(v){var x=v.getSnapshot;v=v.value;try{var w=x();return!n(v,w)}catch{return!0}}function g(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return Gm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Gm}var Kx;function UM(){return Kx||(Kx=1,Zm.exports=IM()),Zm.exports}var VM=UM();const HM=(e,t)=>Ja(t)?t:jM(t)&&Ja(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,FM={t:HM,ready:!1},qM=()=>()=>{},mn=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:a}=k.useContext(zM)||{},o=n||r||RM();o&&!o.reportNamespaces&&(o.reportNamespaces=new BM),o||PC(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=k.useMemo(()=>({...OM(),...o?.options?.react,...t}),[o,t]),{useSuspense:h,keyPrefix:d}=u,g=k.useMemo(()=>{const M=a||o?.options?.defaultNS;return Ja(M)?[M]:M||["translation"]},[e,a,o]);o?.reportNamespaces?.addUsedNamespaces?.(g);const y=k.useCallback(M=>{if(!o)return qM;const{bindI18n:U,bindI18nStore:H}=u;return U&&o.on(U,M),H&&o.store.on(H,M),()=>{U&&U.split(" ").forEach(I=>o.off(I,M)),H&&H.split(" ").forEach(I=>o.store.off(I,M))}},[o,u]),v=k.useRef(),x=k.useCallback(()=>{if(!o)return FM;const M=!!(o.isInitialized||o.initializedStoreOnce)&&g.every(F=>TM(F,o,u)),U=o.getFixedT(t.lng||o.language,u.nsMode==="fallback"?g:g[0],d),H=v.current;if(H&&H.ready===M&&H.lng===(t.lng||o.language)&&H.keyPrefix===d)return H;const I={t:U,ready:M,lng:t.lng||o.language,keyPrefix:d};return v.current=I,I},[o,g,d,u,t.lng]),[w,E]=k.useState(0),{t:T,ready:N}=VM.useSyncExternalStore(y,x,x);k.useEffect(()=>{if(o&&!N&&!h){const M=()=>E(U=>U+1);t.lng?Zx(o,t.lng,g,M):Gg(o,g,M)}},[o,t.lng,g,N,h,w]);const O=o||{},P=k.useMemo(()=>{const M=[T,O,N];return M.t=T,M.i18n=O,M.ready=N,M},[T,O,N]);if(o&&h&&!N)throw new Promise(M=>{const U=()=>M();t.lng?Zx(o,t.lng,g,U):Gg(o,g,U)});return P},$M=[{code:"en",label:"English",flag:""},{code:"nl",label:"Nederlands",flag:""}];function yc({className:e=""}){const{i18n:t}=mn(),n=t.language;return m.jsx("div",{className:`flex items-center gap-2 ${e}`,children:$M.map(r=>m.jsxs("button",{onClick:()=>t.changeLanguage(r.code),className:`px-2 py-1 rounded border text-xs font-semibold transition focus:outline-none flex items-center gap-1 ${n===r.code?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-300 hover:bg-blue-50"}`,"aria-pressed":n===r.code,children:[m.jsx("span",{style:{fontSize:"1.1em"},children:r.flag}),r.label]},r.code))})}const ln={DEFAULT_POSITION:[51.898095078807025,5.772961378097534],DEFAULT_ZOOM:17,MIN_ZOOM:14,MAX_ZOOM:22,SEARCH_ZOOM:21,ZOOM_DELTA:.5,ZOOM_SNAP:.5,RECTANGLE_SIZE:[6,6],MINIMAP:{WIDTH:120,HEIGHT:120,ZOOM_LEVEL:15,AIMING_COLOR:"#1976d2",SHADOW_COLOR:"#90caf9"}},_l={DEFAULT_LOGO:"4x4Vakantiebeurs.png",getDefaultLogoPath:()=>{const e="/Map";return`${e.endsWith("/")?e:`${e}/`}assets/logos/${_l.DEFAULT_LOGO}`}},Ed=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function ZM({onLogin:e,branding:t}){const{t:n}=mn(),[r,a]=k.useState(""),[o,u]=k.useState(""),[h,d]=k.useState(!1),[g,y]=k.useState(!1),[v,x]=k.useState(null),[w,E]=k.useState(!1),[T,N]=k.useState(!1),[O,P]=k.useState(""),[M,U]=k.useState(!1),[H,I]=k.useState(!1),F=k.useRef(null);k.useEffect(()=>{const Q=localStorage.getItem("adminRememberEmail");Q&&(a(Q),y(!0))},[]),k.useEffect(()=>{v&&F.current&&F.current.focus()},[v]);const te=async Q=>{Q.preventDefault(),E(!0),x(null),g?localStorage.setItem("adminRememberEmail",r):localStorage.removeItem("adminRememberEmail");const{data:ae,error:se}=await xe.auth.signInWithPassword({email:r,password:o});E(!1),se?se.message.includes("Invalid login credentials")?x(n("adminLogin.errors.invalidCredentials")):se.message.includes("Email not confirmed")?x(se.message):se.message.includes("Network")?x(n("adminLogin.errors.networkError")):x(n("adminLogin.errors.unknownError")):e(ae.user)},G=async Q=>{Q.preventDefault(),U(!0),x(null);const se=`${window.location.origin}/Map#/reset-password`,{error:de}=await xe.auth.resetPasswordForEmail(O,{redirectTo:se});U(!1),de?x(n("adminLogin.errors.resetFailed")):(I(!0),setTimeout(()=>{N(!1),I(!1),P("")},5e3))},re=t?.eventName||"4x4 Vakantiebeurs",K=t?.logo||_l.getDefaultLogoPath();return T?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[m.jsx("div",{className:"flex justify-end mb-6",children:m.jsx(yc,{})}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:m.jsx("img",{src:K,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),m.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:re}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),m.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:n("adminLogin.resetPassword")}),m.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n("adminLogin.resetInstructions")}),H?m.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",role:"alert","aria-live":"polite",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-xl mr-3",children:""}),m.jsx("span",{children:n("adminLogin.resetEmailSent")})]})}):m.jsxs("form",{onSubmit:G,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"reset-email",className:"label-base",children:n("adminLogin.email")}),m.jsx("input",{id:"reset-email",type:"email",value:O,onChange:Q=>P(Q.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),required:!0})]}),v&&m.jsx("div",{ref:F,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-xl mr-3",children:""}),m.jsx("span",{className:"text-sm",children:v})]})}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:M,children:n(M?"adminLogin.loggingIn":"adminLogin.sendResetLink")}),m.jsxs("button",{type:"button",onClick:()=>{N(!1),x(null),P("")},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",n("adminLogin.backToLogin")]})]})]})})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[m.jsx("div",{className:"flex justify-end mb-6",children:m.jsx(yc,{})}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:m.jsx("img",{src:K,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),m.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:re}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),m.jsx("h2",{className:"text-lg font-semibold mb-6 text-gray-700 text-center",children:n("adminLogin.subtitle")}),m.jsxs("form",{onSubmit:te,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"label-base",children:n("adminLogin.email")}),m.jsx("input",{id:"email",type:"email",value:r,onChange:Q=>a(Q.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),"aria-required":"true",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"label-base",children:n("adminLogin.password")}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"password",type:h?"text":"password",value:o,onChange:Q=>u(Q.target.value),className:"input-base pr-20",placeholder:n("adminLogin.passwordPlaceholder"),"aria-label":n("adminLogin.password"),"aria-required":"true",required:!0}),m.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>d(Q=>!Q),"aria-label":n(h?"adminLogin.hide":"adminLogin.show"),tabIndex:-1,children:h?"":""})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("label",{htmlFor:"remember-me",className:"flex items-center cursor-pointer group",children:[m.jsx("input",{id:"remember-me",type:"checkbox",checked:g,onChange:Q=>y(Q.target.checked),className:"mr-2 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 cursor-pointer","aria-label":n("adminLogin.rememberMe")}),m.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:n("adminLogin.rememberMe")})]}),m.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:n("adminLogin.forgotPassword")})]}),v&&m.jsx("div",{ref:F,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-xl mr-3",children:""}),m.jsx("span",{className:"text-sm font-medium",children:v})]})}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",disabled:w,children:w?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("adminLogin.loggingIn")]}):n("adminLogin.loginButton")})]})]}),m.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:m.jsx("p",{children:"Secure manager access only"})})]})})}function GM({branding:e}){const{t}=mn();jl();const[n,r]=k.useState(""),[a,o]=k.useState(""),[u,h]=k.useState(!1),[d,g]=k.useState(null),[y,v]=k.useState(null),[x,w]=k.useState(!1),[E,T]=k.useState(!1),N=k.useRef(null);k.useEffect(()=>{d&&N.current&&N.current.focus()},[d]),k.useEffect(()=>{(async()=>{const H=window.location.hash,I=H.indexOf("#",1);let F;if(I>0){const ae=H.substring(I+1);F=new URLSearchParams(ae)}else F=new URLSearchParams(window.location.hash.split("?")[1]||window.location.search);const te=F.get("access_token"),G=F.get("refresh_token"),re=F.get("error"),K=F.get("error_description");if(re){re==="access_denied"||K?.includes("expired")?v(t("resetPassword.errors.tokenExpired")):v(t("resetPassword.errors.invalidToken"));return}if(te&&G){const{data:{session:ae},error:se}=await xe.auth.setSession({access_token:te,refresh_token:G});(se||!ae)&&(console.error("Failed to set session:",se),v(t("resetPassword.errors.invalidToken")));return}const{data:{session:Q}}=await xe.auth.getSession();Q||v(t("resetPassword.errors.invalidToken"))})()},[t]);const O=async U=>{if(U.preventDefault(),g(null),n.length<6){g(t("resetPassword.errors.passwordTooShort"));return}if(n!==a){g(t("resetPassword.errors.passwordMismatch"));return}w(!0);const{error:H}=await xe.auth.updateUser({password:n});w(!1),H?g(t("resetPassword.errors.updateFailed")):(T(!0),setTimeout(()=>{const I="/Map",F=I.endsWith("/")?I:`${I}/`;window.location.href=`${F}#/admin`},3e3))},P=e?.eventName||"4x4 Vakantiebeurs",M=e?.logo||_l.getDefaultLogoPath();return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[m.jsx("div",{className:"flex justify-end mb-6",children:m.jsx(yc,{})}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:m.jsx("img",{src:M,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),m.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:P}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),m.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:t("resetPassword.title")}),m.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t("resetPassword.instructions")}),E?m.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"polite",children:[m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("span",{className:"text-xl mr-3",children:""}),m.jsx("span",{className:"font-semibold",children:t("resetPassword.success")})]}),m.jsx("p",{className:"text-sm ml-8",children:t("resetPassword.redirecting")})]}):y?m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{ref:N,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:m.jsxs("div",{className:"flex items-start",children:[m.jsx("span",{className:"text-xl mr-3",children:""}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-semibold mb-1",children:t("resetPassword.errors.linkExpiredTitle")}),m.jsx("p",{className:"text-sm",children:y})]})]})}),m.jsx("div",{className:"flex gap-3",children:m.jsx("button",{type:"button",onClick:()=>{const U="/Map",H=U.endsWith("/")?U:`${U}/`;window.location.href=`${H}#/admin`},className:"flex-1 btn-primary",children:t("resetPassword.requestNewLink")})})]}):m.jsxs("form",{onSubmit:O,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"new-password",className:"label-base",children:t("resetPassword.newPassword")}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"new-password",type:u?"text":"password",value:n,onChange:U=>r(U.target.value),className:"input-base",placeholder:t("resetPassword.newPasswordPlaceholder"),"aria-label":t("resetPassword.newPassword"),required:!0,minLength:6}),m.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors text-sm","aria-label":t(u?"resetPassword.hidePassword":"resetPassword.showPassword"),children:u?"":""})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("resetPassword.passwordRequirements")})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirm-password",className:"label-base",children:t("resetPassword.confirmPassword")}),m.jsx("input",{id:"confirm-password",type:u?"text":"password",value:a,onChange:U=>o(U.target.value),className:"input-base",placeholder:t("resetPassword.confirmPasswordPlaceholder"),"aria-label":t("resetPassword.confirmPassword"),required:!0})]}),d&&m.jsx("div",{ref:N,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-xl mr-3",children:""}),m.jsx("span",{className:"text-sm",children:d})]})}),m.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:x,children:t(x?"resetPassword.updating":"resetPassword.updatePassword")}),m.jsxs("button",{type:"button",onClick:()=>{const U="/Map",H=U.endsWith("/")?U:`${U}/`;window.location.href=`${H}#/admin`},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",t("resetPassword.backToLogin")]})]})]})})})}var Km={exports:{}},Wm,Wx;function KM(){if(Wx)return Wm;Wx=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wm=e,Wm}var Ym,Yx;function WM(){if(Yx)return Ym;Yx=1;var e=KM();function t(){}function n(){}return n.resetWarningCache=t,Ym=function(){function r(u,h,d,g,y,v){if(v!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Ym}var Xx;function zC(){return Xx||(Xx=1,Km.exports=WM()()),Km.exports}var YM=zC();const ke=Qa(YM);var Xm,Jx;function XM(){return Jx||(Jx=1,Xm=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(r,a,o){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var u in r)n.d(o,u,(function(h){return r[h]}).bind(null,u));return o},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=2)})([function(e,t){e.exports=zC()},function(e,t){e.exports=Lc()},function(e,t,n){n.r(t);var r=n(1),a=n(0),o=function(){return(o=Object.assign||function(E){for(var T,N=1,O=arguments.length;N<O;N++)for(var P in T=arguments[N])Object.prototype.hasOwnProperty.call(T,P)&&(E[P]=T[P]);return E}).apply(this,arguments)},u=function(E,T){var N={};for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&T.indexOf(O)<0&&(N[O]=E[O]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(O=Object.getOwnPropertySymbols(E);P<O.length;P++)T.indexOf(O[P])<0&&Object.prototype.propertyIsEnumerable.call(E,O[P])&&(N[O[P]]=E[O[P]])}return N},h=0,d=r.forwardRef((function(E,T){var N=E.title,O=N===void 0?null:N,P=E.description,M=P===void 0?null:P,U=E.size,H=U===void 0?null:U,I=E.color,F=I===void 0?"currentColor":I,te=E.horizontal,G=te===void 0?null:te,re=E.vertical,K=re===void 0?null:re,Q=E.rotate,ae=Q===void 0?null:Q,se=E.spin,de=se===void 0?null:se,q=E.style,ee=q===void 0?{}:q,Y=E.children,we=u(E,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);h++;var R,V=de!==null&&de,X=r.Children.map(Y,(function(fe){var Ce=fe;V!==!0&&(V=(de===null?Ce.props.spin:de)===!0);var Re=Ce.props.size;typeof H=="number"&&typeof Ce.props.size=="number"&&(Re=Ce.props.size/H);var ve={size:Re,color:F===null?Ce.props.color:F,horizontal:G===null?Ce.props.horizontal:G,vertical:K===null?Ce.props.vertical:K,rotate:ae===null?Ce.props.rotate:ae,spin:de===null?Ce.props.spin:de,inStack:!0};return r.cloneElement(Ce,ve)}));H!==null&&(ee.width=typeof H=="string"?H:1.5*H+"rem");var z,W="stack_labelledby_"+h,oe="stack_describedby_"+h;if(O)R=M?W+" "+oe:W;else if(z="presentation",M)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:T,viewBox:"0 0 24 24",style:ee,role:z,"aria-labelledby":R},we),O&&r.createElement("title",{id:W},O),M&&r.createElement("desc",{id:oe},M),V&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),X)}));d.displayName="Stack",d.propTypes={size:a.oneOfType([a.number,a.string]),color:a.string,horizontal:a.bool,vertical:a.bool,rotate:a.number,spin:a.oneOfType([a.bool,a.number]),children:a.oneOfType([a.arrayOf(a.node),a.node]).isRequired,className:a.string,style:a.object},d.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=d;n.d(t,"Icon",(function(){return w})),n.d(t,"Stack",(function(){return g}));var y=function(){return(y=Object.assign||function(E){for(var T,N=1,O=arguments.length;N<O;N++)for(var P in T=arguments[N])Object.prototype.hasOwnProperty.call(T,P)&&(E[P]=T[P]);return E}).apply(this,arguments)},v=function(E,T){var N={};for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&T.indexOf(O)<0&&(N[O]=E[O]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(O=Object.getOwnPropertySymbols(E);P<O.length;P++)T.indexOf(O[P])<0&&Object.prototype.propertyIsEnumerable.call(E,O[P])&&(N[O[P]]=E[O[P]])}return N},x=0,w=r.forwardRef((function(E,T){var N=E.path,O=E.id,P=O===void 0?++x:O,M=E.title,U=M===void 0?null:M,H=E.description,I=H===void 0?null:H,F=E.size,te=F===void 0?null:F,G=E.color,re=G===void 0?"currentColor":G,K=E.horizontal,Q=K!==void 0&&K,ae=E.vertical,se=ae!==void 0&&ae,de=E.rotate,q=de===void 0?0:de,ee=E.spin,Y=ee!==void 0&&ee,we=E.style,R=we===void 0?{}:we,V=E.inStack,X=V!==void 0&&V,z=v(E,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),W={},oe=[];te!==null&&(X?oe.push("scale("+te+")"):(R.width=typeof te=="string"?te:1.5*te+"rem",R.height=R.width)),Q&&oe.push("scaleX(-1)"),se&&oe.push("scaleY(-1)"),q!==0&&oe.push("rotate("+q+"deg)"),re!==null&&(W.fill=re);var fe=r.createElement("path",y({d:N,style:W},X?z:{})),Ce=fe;oe.length>0&&(R.transform=oe.join(" "),R.transformOrigin="center",X&&(Ce=r.createElement("g",{style:R},fe,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Re,ve=Ce,Le=Y===!0||typeof Y!="number"?2:Y,Ve=!X&&(Q||se);if(Le<0&&(Ve=!Ve),Y&&(ve=r.createElement("g",{style:{animation:"spin"+(Ve?"-inverse":"")+" linear "+Math.abs(Le)+"s infinite",transformOrigin:"center"}},Ce,!(Q||se||q!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),X)return ve;var De,He="icon_labelledby_"+P,gt="icon_describedby_"+P;if(U)Re=I?He+" "+gt:He;else if(De="presentation",I)throw new Error("title attribute required when description is set");return r.createElement("svg",y({ref:T,viewBox:"0 0 24 24",style:R,role:De,"aria-labelledby":Re},z),U&&r.createElement("title",{id:He},U),I&&r.createElement("desc",{id:gt},I),!X&&Y&&(Ve?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),ve)}));w.displayName="Icon",w.propTypes={path:a.string.isRequired,size:a.oneOfType([a.number,a.string]),color:a.string,horizontal:a.bool,vertical:a.bool,rotate:a.number,spin:a.oneOfType([a.bool,a.number]),style:a.object,inStack:a.bool,className:a.string},w.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=w}])),Xm}var BC=XM();const Se=Qa(BC);var IC="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",JM="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",vc="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",df="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",Qx="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",e1="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",QM="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z",eO="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",Wg="M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z",tO="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",nO="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",iO="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",es="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",ff="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",t1="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",rO="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",UC="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",n1="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",sO="M15 4A8 8 0 1 1 7 12A8 8 0 0 1 15 4M3 12A6 6 0 0 0 7 17.65V19.74A8 8 0 0 1 7 4.26V6.35A6 6 0 0 0 3 12Z",VC="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",aO="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z",oO="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",ts="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",HC="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",FC="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z",lO="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M13,10H11V6H13V10M13,14H11V12H13V14Z",uO="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",cO="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Oc="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",dl="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z",hO="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",qC="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",i1="M22,19L19,17L22,15V19M15,15L19,9L22,13L18,16L15,15M5,17L2,19V15L5,17M9,15L6,16L2,13L5,9L9,15M14,6L18,8L13,15H11L6,8L10,6H14Z",dO="M20.16 12.73C22.93 9.96 22.57 5.26 19.09 3C17.08 1.67 14.39 1.66 12.36 2.97C10.6 4.1 9.63 5.86 9.46 7.68C9.33 9 8.83 10.23 7.91 11.15L7.88 11.18C6.72 12.34 6.72 14.11 7.81 15.19L8.8 16.18C9.89 17.27 11.66 17.27 12.75 16.18C13.72 15.21 15 14.68 16.39 14.53C17.76 14.38 19.1 13.78 20.16 12.73M6.26 19.86C6.53 20.42 6.44 21.1 5.97 21.56C5.39 22.15 4.44 22.15 3.85 21.56C3.58 21.29 3.44 20.94 3.42 20.58C3.06 20.56 2.71 20.42 2.44 20.15C1.85 19.56 1.85 18.61 2.44 18.03C2.9 17.57 3.59 17.47 4.14 17.74L6.62 15.31C6.76 15.5 6.92 15.72 7.1 15.9L8.09 16.89C8.3 17.09 8.5 17.26 8.76 17.41L6.26 19.86Z",r1="M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z",fO="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",s1="M8.06,2C7.88,3.17 8.17,4.16 8.95,4.97C9.45,5.47 9.61,6.14 9.42,7H10.41C10.53,6.45 10.55,6 10.45,5.55C10.36,5.13 10.05,4.63 9.5,4.03C9.05,3.47 8.89,2.8 9.05,2H8.06M10.55,2C10.36,3.17 10.66,4.16 11.44,4.97C11.94,5.47 12.09,6.14 11.91,7H12.89C13,6.45 13.03,6 12.94,5.55C12.84,5.13 12.53,4.63 12,4.03C11.53,3.47 11.38,2.8 11.53,2H10.55M13.08,2C12.89,3.17 13.19,4.16 13.97,4.97C14.47,5.47 14.61,6.14 14.39,7H15.42C15.55,6.45 15.56,6 15.47,5.55C15.38,5.13 15.06,4.63 14.53,4.03C14.06,3.47 13.91,2.8 14.06,2H13.08M5,8C5,9.42 5.39,10.7 6.14,11.84C6.87,12.96 7.91,13.85 9.14,14.39L5.16,20.44C5.06,20.56 5,20.75 5,21C5,21.41 5.16,21.69 5.44,21.84C5.56,21.94 5.75,22 6,22C6.41,22 6.69,21.84 6.84,21.56L7.83,19.97H14.2C14.41,20.55 14.79,21.05 15.28,21.42C15.78,21.8 16.36,22 17,22C17.83,22 18.53,21.69 19.13,21.09C19.72,20.5 20,19.8 20,19C20,18.17 19.72,17.47 19.13,16.88C18.53,16.28 17.83,16 17,16C16.36,16 15.78,16.17 15.28,16.55C14.78,16.92 14.42,17.41 14.2,18H9.14L11.11,14.95C11.27,15 11.56,15 12,15C12.44,15 12.73,15 12.89,14.95L13.88,16.5C14.29,15.96 14.84,15.54 15.47,15.28L14.91,14.39C16.03,13.89 17,13 17.79,11.77C18.59,10.5 19,9.27 19,8H5M17,18C17.3,18 17.53,18.09 17.72,18.28C17.91,18.47 18,18.72 18,19C18,19.27 17.91,19.5 17.72,19.71C17.54,19.91 17.28,20 17,20C16.74,20 16.5,19.91 16.29,19.71C16.09,19.5 16,19.26 16,19C16,18.7 16.09,18.47 16.29,18.28C16.5,18.09 16.73,18 17,18Z",pO="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",mO="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",gO="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",yO="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",vO="M12 0L3 7L4.63 8.27L12 14L19.36 8.27L21 7L12 0M19.37 10.73L12 16.47L4.62 10.74L3 12L12 19L21 12L19.37 10.73M19.37 15.73L12 21.47L4.62 15.74L3 17L12 24L21 17L19.37 15.73Z",Yg="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z",_O="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",bO="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",xO="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",wO="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",no="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",$C="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z",pf="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",SO="M14,11.5A2.5,2.5 0 0,0 16.5,9A2.5,2.5 0 0,0 14,6.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 14,11.5M14,2C17.86,2 21,5.13 21,9C21,14.25 14,22 14,22C14,22 7,14.25 7,9A7,7 0 0,1 14,2M5,9C5,13.5 10.08,19.66 11,20.81L10,22C10,22 3,14.25 3,9C3,5.83 5.11,3.15 8,2.29C6.16,3.94 5,6.33 5,9Z",CO="M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z",EO="M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z",ZC="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",Fy="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",mf="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",GC="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",TO="M2,21L23,12L2,3V10L17,12L2,14V21Z",jO="M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z",LO="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",kO="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",KC="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z",Xg="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",AO="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",NO="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z";const Yd="Logos",a1=5*1024*1024,MO=["image/png","image/jpeg","image/jpg","image/webp","image/avif","image/svg+xml"];async function OO(e,t="companies"){try{const n=WC(e);if(!n.valid)return{error:n.error};const r=e.name.split(".").pop(),a=Date.now(),o=Math.random().toString(36).substring(2,8),u=`${a}_${o}.${r}`,h=t?`${t}/${u}`:u,{data:d,error:g}=await xe.storage.from(Yd).upload(h,e,{cacheControl:"3600",upsert:!1});if(g)return console.error("Upload error:",g),{error:`Upload failed: ${g.message}`};const{data:{publicUrl:y}}=xe.storage.from(Yd).getPublicUrl(h);return{url:y,path:h,error:null}}catch(n){return console.error("Upload service error:",n),{error:`Upload failed: ${n.message}`}}}function WC(e){return e?MO.includes(e.type)?e.size>a1?{valid:!1,error:`File too large. Maximum size: ${a1/1024/1024}MB`}:{valid:!0,error:null}:{valid:!1,error:"Invalid file type. Allowed: PNG, JPG, WEBP, AVIF, SVG"}:{valid:!1,error:"No file selected"}}async function PO(){try{const{data:e,error:t}=await xe.storage.listBuckets();return t?{exists:!1,error:`Error accessing storage: ${t.message}`}:e?.some(r=>r.name===Yd)?{exists:!0,error:null}:{exists:!1,error:`Storage bucket "${Yd}" not found. Available buckets: ${e?.map(r=>r.name).join(", ")||"none"}`}}catch(e){return{exists:!1,error:`Error checking storage bucket: ${e.message}`}}}function _c({currentLogo:e="",onUploadComplete:t,onDelete:n,folder:r="companies",label:a="Upload Logo",showPreview:o=!0,allowDelete:u=!1}){const[h,d]=k.useState(!1),[g,y]=k.useState(null),[v,x]=k.useState(""),w=k.useRef(null),E=async N=>{const O=N.target.files?.[0];if(!O)return;y(null),x("");const P=WC(O);if(!P.valid){y("error"),x(P.error);return}d(!0);const M=await OO(O,r);d(!1),M.error?(y("error"),x(M.error)):(y("success"),x("Upload successful!"),t&&t(M.url,M.path),setTimeout(()=>{y(null),x("")},3e3)),w.current&&(w.current.value="")},T=()=>{n&&n()};return m.jsxs("div",{className:"flex flex-col gap-2",children:[o&&e&&m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("img",{src:Ji(e),alt:"Current logo",className:"h-12 w-12 object-contain border rounded p-1"}),u&&n&&m.jsx("button",{type:"button",onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove logo",children:m.jsx(Se,{path:Oc,size:.7})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{ref:w,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/avif,image/svg+xml",onChange:E,className:"hidden",id:`logo-upload-${r}`}),m.jsx("label",{htmlFor:`logo-upload-${r}`,className:`
            flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-xs
            ${h?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}
            text-white transition-colors whitespace-nowrap
          `,children:h?m.jsxs(m.Fragment,{children:[m.jsx(Se,{path:bO,size:.8,spin:!0}),"Uploading..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Se,{path:AO,size:.8}),a]})}),g&&m.jsxs("div",{className:"flex items-center gap-2",children:[g==="success"&&m.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[m.jsx(Se,{path:es,size:.8}),m.jsx("span",{className:"text-sm",children:v})]}),g==="error"&&m.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[m.jsx(Se,{path:JM,size:.8}),m.jsx("span",{className:"text-sm",children:v})]})]})]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PNG, JPG, WEBP, AVIF, SVG  Max size: 5MB"})]})}_c.propTypes={currentLogo:ke.string,onUploadComplete:ke.func.isRequired,onDelete:ke.func,folder:ke.string,label:ke.string,showPreview:ke.bool,allowDelete:ke.bool};_c.defaultProps={currentLogo:"",onDelete:null,folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!1};function RO(){const[e,t]=k.useState({checking:!0,exists:!1,error:null}),[n,r]=k.useState(""),[a,o]=k.useState([]),[u,h]=k.useState(null);k.useEffect(()=>{d(),g()},[]);const d=async()=>{t({checking:!0,exists:!1,error:null});const v=await PO();t({checking:!1,exists:v.exists,error:v.error})},g=async()=>{const{data:{user:v}}=await xe.auth.getUser();h(v)},y=(v,x)=>{r(v),o([{timestamp:new Date().toISOString(),url:v,path:x,success:!0},...a])};return m.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[m.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Supabase Storage Test Page"}),m.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[m.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Authentication Status"}),u?m.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:["Authenticated as: ",u.email]})]}):m.jsxs("div",{className:"text-red-600 flex items-center gap-2",children:[m.jsx("span",{children:""}),m.jsx("span",{children:"Not authenticated - Please log in first"})]})]}),m.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Storage Bucket Status"}),m.jsx("button",{onClick:d,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Recheck"})]}),e.checking?m.jsx("div",{className:"text-gray-600",children:"Checking bucket..."}):e.exists?m.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[m.jsx("span",{children:""}),m.jsx("span",{children:"Bucket 'logos' exists and is accessible"})]}):m.jsxs("div",{children:[m.jsxs("div",{className:"text-red-600 flex items-center gap-2 mb-2",children:[m.jsx("span",{children:""}),m.jsx("span",{children:"Bucket 'logos' not found or inaccessible"})]}),e.error&&m.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:["Error: ",e.error]}),m.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[m.jsx("p",{className:"font-semibold mb-2",children:"Setup Required:"}),m.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[m.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),m.jsx("li",{children:"Create a new public bucket named 'logos'"}),m.jsx("li",{children:"Set up RLS policies (see SUPABASE_STORAGE_SETUP.md)"}),m.jsx("li",{children:"Refresh this page"})]})]})]})]}),u&&e.exists&&m.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white",children:[m.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Test Logo Upload"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a test image to verify everything works correctly."}),m.jsx(_c,{currentLogo:n,onUploadComplete:y,folder:"test",label:"Upload Test Image",showPreview:!0,allowDelete:!0,onDelete:()=>r("")})]}),a.length>0&&m.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[m.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload History"}),m.jsx("div",{className:"space-y-2",children:a.map((v,x)=>m.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"text-green-600 font-semibold",children:" Success"}),m.jsx("span",{className:"text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),m.jsxs("div",{className:"text-gray-600",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"URL:"})," ",v.url]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Path:"})," ",v.path]})]}),v.url&&m.jsx("img",{src:v.url,alt:"Uploaded",className:"mt-2 h-20 object-contain border rounded"})]},x))})]}),m.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Documentation"}),m.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"For complete setup instructions, see:"}),m.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[m.jsx("li",{children:"SUPABASE_STORAGE_SETUP.md - Bucket configuration and policies"}),m.jsx("li",{children:"LOGO_UPLOADER_INTEGRATION.md - Integration examples"})]})]})]})}function DO(){const e=jl(),t=er(),n=[{id:"home",label:"Home",icon:gO,path:"/"},{id:"map",label:"Map",icon:$C,path:"/map"},{id:"exhibitors",label:"Exhibitors",icon:fO,path:"/exhibitors"},{id:"schedule",label:"Schedule",icon:iO,path:"/schedule"}],r=a=>{e(a)};return m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:m.jsx("div",{className:"flex justify-around items-center h-16 max-w-screen-xl mx-auto",children:n.map(a=>{const o=t.pathname===a.path;return m.jsxs("button",{onClick:()=>r(a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${o?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[m.jsx(Se,{path:a.icon,size:1.1,className:"mb-1"}),m.jsx("span",{className:`text-xs font-medium ${o?"font-semibold":""}`,children:a.label})]},a.id)})})})}const YC=k.createContext();function zO({children:e}){const[t,n]=k.useState(_l.DEFAULT_LOGO),[r,a]=k.useState(!0);return k.useEffect(()=>{async function o(){try{const{data:h,error:d}=await xe.from("Organization_Profile").select("logo").eq("id",1).single();if(d){console.error("Error fetching organization logo:",d);return}h&&h.logo&&h.logo.trim()!==""&&n(h.logo)}catch(h){console.error("Error fetching organization logo:",h)}finally{a(!1)}}o();const u=xe.channel("organization-logo-sync").on("postgres_changes",{event:"*",schema:"public",table:"Organization_Profile",filter:"id=eq.1"},h=>{h.new&&h.new.logo&&(h.new.logo.trim()!==""?n(h.new.logo):n(_l.DEFAULT_LOGO))}).subscribe();return()=>{xe.removeChannel(u)}},[]),m.jsx(YC.Provider,{value:{organizationLogo:t,loading:r},children:e})}function Xs(){const e=k.useContext(YC);if(e===void 0)throw new Error("useOrganizationLogo must be used within OrganizationLogoProvider");return e}function qy({selectedYear:e,branding:t}){jl();const{t:n}=mn(),{organizationLogo:r}=Xs(),a={name:t?.eventName||"4x4 Vakantiebeurs"};return m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[m.jsx("div",{className:"bg-white shadow-sm",children:m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[m.jsx("div",{className:"flex justify-end mb-4",children:m.jsx(yc,{})}),r&&m.jsx("div",{className:"mb-6",children:m.jsx("img",{src:Ji(r),alt:a.name,className:"h-24 mx-auto object-contain"})}),m.jsx("p",{className:"text-sm text-orange-600 mb-2",style:{fontFamily:t?.fontFamily},children:n("homePage.subtitle")}),m.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",style:{fontFamily:t?.fontFamily},children:n("homePage.title")}),m.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n("homePage.eventDate")}),m.jsxs("div",{className:"flex justify-center gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"67"}),m.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.exhibitors")})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"2"}),m.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.days")})]})]})]})}),m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[m.jsx("span",{children:""}),n("homePage.openingHours")]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.openingHoursInfo")})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[m.jsx("span",{children:""}),n("homePage.location")]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.locationInfo")})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[m.jsx("span",{children:""}),n("homePage.parking")]}),m.jsx("p",{className:"text-gray-700",children:n("homePage.parkingInfo")})]})]}),m.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsx("p",{className:"text-sm text-blue-800",dangerouslySetInnerHTML:{__html:` ${n("homePage.phaseNote")}`}})})]})]})}qy.propTypes={selectedYear:ke.number,branding:ke.shape({eventName:ke.string,fontFamily:ke.string})};qy.defaultProps={selectedYear:new Date().getFullYear(),branding:null};function XC(e){const t=e||_l.DEFAULT_LOGO;return`${Sl()}assets/logos/${t}`}function Pc(e,t){return e&&e.trim()!==""?Ji(e):XC(t)}function BO(e){const[t,n]=k.useState([]),r=k.useCallback(d=>t.includes(d),[t]),a=k.useCallback(d=>{n(g=>g.includes(d)?g.filter(y=>y!==d):[...g,d])},[]),o=k.useCallback(d=>{n(g=>g.includes(d)?g:[...g,d])},[]),u=k.useCallback(d=>{n(g=>g.filter(y=>y!==d))},[]),h=k.useCallback(()=>{n([])},[]);return{favorites:t,isFavorite:r,toggleFavorite:a,addFavorite:o,removeFavorite:u,clearAllFavorites:h}}const JC=k.createContext(null);function o1({selectedYear:e,children:t}){const n=BO();return m.jsx(JC.Provider,{value:n,children:t})}function gf(){const e=k.useContext(JC);if(!e)throw new Error("useFavoritesContext must be used within FavoritesProvider");return e}function Rc({isFavorite:e,onToggle:t,size:n="md",className:r=""}){const a={sm:.8,md:1,lg:1.2},o=a[n]||a.md,u=h=>{h.stopPropagation(),h.preventDefault(),t()};return m.jsx("button",{onClick:u,className:`transition-all ${e?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"} ${r}`,title:e?"Remove from favorites":"Add to favorites","aria-label":e?"Remove from favorites":"Add to favorites",children:m.jsx(Se,{path:e?LO:kO,size:o,className:"drop-shadow-sm"})})}Rc.propTypes={isFavorite:ke.bool.isRequired,onToggle:ke.func.isRequired,size:ke.oneOf(["sm","md","lg"]),className:ke.string};Rc.defaultProps={size:"md",className:""};function IO(e){const{i18n:t}=mn(),n=t.language;return k.useMemo(()=>{if(!e?.company_translations||e.company_translations.length===0)return e?.info||"";const a=e.company_translations.find(h=>h.language_code===n);if(a?.info)return a.info;const o=e.company_translations.find(h=>h.language_code==="nl");return o?.info?o.info:e.company_translations.find(h=>h.info)?.info||""},[e,n])}function UO(e,t="nl",n=""){if(!e||e.length===0)return n||"";const r=e.find(u=>u.language_code===t);if(r?.info)return r.info;const a=e.find(u=>u.language_code==="nl");return a?.info?a.info:e.find(u=>u.info)?.info||n||""}function VO({markersState:e,selectedYear:t}){const n=jl(),{organizationLogo:r}=Xs(),{i18n:a}=mn(),[o,u]=k.useState(""),[h,d]=k.useState(!1),{favorites:g,isFavorite:y,toggleFavorite:v}=gf(),x=k.useMemo(()=>e.filter(T=>T.id<1e3&&T.name).sort((T,N)=>{const O=(T.name||"").toLowerCase(),P=(N.name||"").toLowerCase();return O.localeCompare(P)}),[e]),w=k.useMemo(()=>{let T=x;if(h&&(T=T.filter(N=>N.companyId&&y(N.companyId))),o){const N=o.toLowerCase();T=T.filter(O=>O.name?.toLowerCase().includes(N)||O.glyph?.toLowerCase().includes(N))}return T},[x,o,h,y]),E=T=>{n(`/map?focus=${T}`)};return m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[m.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Exhibitors"}),m.jsxs("div",{className:"relative",children:[m.jsx(Se,{path:no,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search exhibitors or booth number...",value:o,onChange:T=>u(T.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),m.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[m.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",w.length," of ",x.length," exhibitors",g.length>0&&`  ${g.length} favorited`]}),g.length>0&&m.jsxs("button",{onClick:()=>d(!h),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${h?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[m.jsx(Se,{path:qC,size:.7}),"Favorites Only"]})]})]})}),m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[w.length===0?m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-500",children:"No exhibitors found"})}):m.jsx("div",{className:"space-y-3",children:w.map(T=>m.jsx("div",{onClick:()=>E(T.id),className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer p-4",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:m.jsx("img",{src:Pc(T.logo,r),alt:T.name,className:"max-w-full max-h-full object-contain p-2"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:T.name}),T.companyId&&m.jsx(Rc,{isFavorite:y(T.companyId),onToggle:()=>v(T.companyId),size:"md",className:"flex-shrink-0"})]}),T.glyph&&m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx(Se,{path:pf,size:.7,className:"text-orange-600"}),m.jsxs("span",{className:"text-sm font-medium text-orange-600",children:["Booth ",T.glyph]})]}),m.jsx("div",{className:"mt-2",children:m.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Coming Soon: Categories"})}),(()=>{const N=UO(T.company_translations,a.language,T.info);return N?m.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:N}):null})()]})]})},T.id))}),m.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-sm text-blue-800",children:[" ",m.jsx("strong",{children:"Note:"})," Coming in future phases:",m.jsxs("ul",{className:"list-disc list-inside mt-2",children:[m.jsx("li",{children:"Category filtering"}),m.jsx("li",{children:"Sort options"})]})]})})]})]})}function HO({selectedYear:e}){const t=[{id:1,title:"RC Car Demonstrations",description:"Watch professional RC drivers perform stunts and show off their skills",startTime:"10:00",endTime:"11:30",location:"RC Arena",status:"upcoming"},{id:2,title:"Flight Demonstrations",description:"Drone and aircraft flight shows featuring the latest technology",startTime:"12:00",endTime:"13:00",location:"Outdoor Field",status:"upcoming"},{id:3,title:"4x4 Off-Road Workshop",description:"Learn advanced off-road driving techniques from experienced instructors",startTime:"14:00",endTime:"15:30",location:"Workshop Tent",status:"upcoming"}],n=a=>{switch(a){case"current":return"border-l-orange-600 bg-orange-50";case"upcoming":return"border-l-blue-600 bg-blue-50";case"past":return"border-l-gray-300 bg-gray-50 opacity-60";default:return"border-l-gray-300"}},r=a=>{switch(a){case"current":return m.jsx("span",{className:"inline-block px-2 py-1 bg-red-600 text-white text-xs font-semibold rounded",children:" LIVE"});case"upcoming":return m.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600 text-white text-xs font-semibold rounded",children:"Upcoming"});case"past":return m.jsx("span",{className:"inline-block px-2 py-1 bg-gray-400 text-white text-xs font-semibold rounded",children:"Ended"});default:return null}};return m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[m.jsx("div",{className:"bg-white border-b",children:m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Event Schedule"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Plan your day at the event"})]})}),m.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[m.jsx("div",{className:"space-y-4",children:t.map(a=>m.jsxs("div",{className:`bg-white rounded-lg shadow border-l-4 ${n(a.status)} p-4 transition-all hover:shadow-md`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Se,{path:oO,size:.9,className:"text-gray-600"}),m.jsxs("span",{className:"font-semibold text-gray-900",children:[a.startTime," - ",a.endTime]})]}),r(a.status)]}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a.title}),m.jsx("p",{className:"text-gray-700 mb-3",children:a.description}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(Se,{path:pf,size:.8,className:"text-orange-600"}),m.jsxs("span",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Location:"})," ",a.location]})]})]},a.id))}),m.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Se,{path:yO,size:1,className:"text-blue-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm text-blue-800",children:[m.jsx("p",{className:"font-semibold mb-1",children:"Phase 1 Placeholder"}),m.jsx("p",{className:"mb-2",children:"This is sample data. In Phase 6, this schedule will be:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[m.jsx("li",{children:"Connected to Event_Schedule database table"}),m.jsx("li",{children:'Show real-time "LIVE" status for current activities'}),m.jsx("li",{children:"Allow tapping location to view on map"}),m.jsx("li",{children:"Automatically updated when admins add/edit activities"}),m.jsx("li",{children:"Highlight upcoming activities (within 30 minutes)"})]})]})]})})]})]})}function io(){const[e,t]=k.useState(null),[n,r]=k.useState(!0);return k.useEffect(()=>{xe.auth.getSession().then(({data:h})=>{const d=h?.session?.user?.user_metadata?.role||null;t(d),r(!1)});const{data:u}=xe.auth.onAuthStateChange((h,d)=>{const g=d?.user?.user_metadata?.role||null;t(g),r(!1)});return()=>{u?.subscription?.unsubscribe()}},[]),{role:e,loading:n,hasRole:u=>e?e==="super_admin"?!0:e===u:!1,hasAnyRole:u=>e?e==="super_admin"?!0:u.includes(e):!1,isSuperAdmin:e==="super_admin",isSystemManager:e==="system_manager",isEventManager:e==="event_manager"}}function FO(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const qO=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$O=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZO={};function l1(e,t){return(ZO.jsx?$O:qO).test(e)}const GO=/[ \t\n\f\r]/g;function KO(e){return typeof e=="object"?e.type==="text"?u1(e.value):!1:u1(e)}function u1(e){return e.replace(GO,"")===""}class Dc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Dc.prototype.normal={};Dc.prototype.property={};Dc.prototype.space=void 0;function QC(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Dc(n,r,t)}function Jg(e){return e.toLowerCase()}class Qn{constructor(t,n){this.attribute=n,this.property=t}}Qn.prototype.attribute="";Qn.prototype.booleanish=!1;Qn.prototype.boolean=!1;Qn.prototype.commaOrSpaceSeparated=!1;Qn.prototype.commaSeparated=!1;Qn.prototype.defined=!1;Qn.prototype.mustUseProperty=!1;Qn.prototype.number=!1;Qn.prototype.overloadedBoolean=!1;Qn.prototype.property="";Qn.prototype.spaceSeparated=!1;Qn.prototype.space=void 0;let WO=0;const Qe=ro(),tn=ro(),Qg=ro(),Ee=ro(),jt=ro(),fl=ro(),hi=ro();function ro(){return 2**++WO}const ey=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:tn,commaOrSpaceSeparated:hi,commaSeparated:fl,number:Ee,overloadedBoolean:Qg,spaceSeparated:jt},Symbol.toStringTag,{value:"Module"})),Jm=Object.keys(ey);class $y extends Qn{constructor(t,n,r,a){let o=-1;if(super(t,n),c1(this,"space",a),typeof r=="number")for(;++o<Jm.length;){const u=Jm[o];c1(this,Jm[o],(r&ey[u])===ey[u])}}}$y.prototype.defined=!0;function c1(e,t,n){n&&(e[t]=n)}function Ll(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const o=new $y(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Jg(r)]=r,n[Jg(o.attribute)]=r}return new Dc(t,n,e.space)}const e2=Ll({properties:{ariaActiveDescendant:null,ariaAtomic:tn,ariaAutoComplete:null,ariaBusy:tn,ariaChecked:tn,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:jt,ariaCurrent:null,ariaDescribedBy:jt,ariaDetails:null,ariaDisabled:tn,ariaDropEffect:jt,ariaErrorMessage:null,ariaExpanded:tn,ariaFlowTo:jt,ariaGrabbed:tn,ariaHasPopup:null,ariaHidden:tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jt,ariaLevel:Ee,ariaLive:null,ariaModal:tn,ariaMultiLine:tn,ariaMultiSelectable:tn,ariaOrientation:null,ariaOwns:jt,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:tn,ariaReadOnly:tn,ariaRelevant:null,ariaRequired:tn,ariaRoleDescription:jt,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:tn,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function t2(e,t){return t in e?e[t]:t}function n2(e,t){return t2(e,t.toLowerCase())}const YO=Ll({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fl,acceptCharset:jt,accessKey:jt,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:jt,autoFocus:Qe,autoPlay:Qe,blocking:jt,capture:null,charSet:null,checked:Qe,cite:null,className:jt,cols:Ee,colSpan:null,content:null,contentEditable:tn,controls:Qe,controlsList:jt,coords:Ee|fl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:Qg,draggable:tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:jt,height:Ee,hidden:Qg,high:Ee,href:null,hrefLang:null,htmlFor:jt,httpEquiv:jt,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:jt,itemRef:jt,itemScope:Qe,itemType:jt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:Ee,pattern:null,ping:jt,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:jt,required:Qe,reversed:Qe,rows:Ee,rowSpan:Ee,sandbox:jt,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:tn,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jt,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:tn,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:n2}),XO=Ll({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hi,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:jt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fl,g2:fl,glyphName:fl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:hi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hi,rev:hi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hi,requiredFeatures:hi,requiredFonts:hi,requiredFormats:hi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:hi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hi,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:t2}),i2=Ll({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),r2=Ll({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:n2}),s2=Ll({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),JO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QO=/[A-Z]/g,h1=/-[a-z]/g,eP=/^data[-\w.:]+$/i;function tP(e,t){const n=Jg(t);let r=t,a=Qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eP.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(h1,iP);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!h1.test(o)){let u=o.replace(QO,nP);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=$y}return new a(r,t)}function nP(e){return"-"+e.toLowerCase()}function iP(e){return e.charAt(1).toUpperCase()}const rP=QC([e2,YO,i2,r2,s2],"html"),Zy=QC([e2,XO,i2,r2,s2],"svg");function sP(e){return e.join(" ").trim()}var tl={},Qm,d1;function aP(){if(d1)return Qm;d1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,d=`
`,g="/",y="*",v="",x="comment",w="declaration";function E(N,O){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];O=O||{};var P=1,M=1;function U(se){var de=se.match(t);de&&(P+=de.length);var q=se.lastIndexOf(d);M=~q?se.length-q:M+se.length}function H(){var se={line:P,column:M};return function(de){return de.position=new I(se),G(),de}}function I(se){this.start=se,this.end={line:P,column:M},this.source=O.source}I.prototype.content=N;function F(se){var de=new Error(O.source+":"+P+":"+M+": "+se);if(de.reason=se,de.filename=O.source,de.line=P,de.column=M,de.source=N,!O.silent)throw de}function te(se){var de=se.exec(N);if(de){var q=de[0];return U(q),N=N.slice(q.length),de}}function G(){te(n)}function re(se){var de;for(se=se||[];de=K();)de!==!1&&se.push(de);return se}function K(){var se=H();if(!(g!=N.charAt(0)||y!=N.charAt(1))){for(var de=2;v!=N.charAt(de)&&(y!=N.charAt(de)||g!=N.charAt(de+1));)++de;if(de+=2,v===N.charAt(de-1))return F("End of comment missing");var q=N.slice(2,de-2);return M+=2,U(q),N=N.slice(de),M+=2,se({type:x,comment:q})}}function Q(){var se=H(),de=te(r);if(de){if(K(),!te(a))return F("property missing ':'");var q=te(o),ee=se({type:w,property:T(de[0].replace(e,v)),value:q?T(q[0].replace(e,v)):v});return te(u),ee}}function ae(){var se=[];re(se);for(var de;de=Q();)de!==!1&&(se.push(de),re(se));return se}return G(),ae()}function T(N){return N?N.replace(h,v):v}return Qm=E,Qm}var f1;function oP(){if(f1)return tl;f1=1;var e=tl&&tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=n;const t=e(aP());function n(r,a){let o=null;if(!r||typeof r!="string")return o;const u=(0,t.default)(r),h=typeof a=="function";return u.forEach(d=>{if(d.type!=="declaration")return;const{property:g,value:y}=d;h?a(g,y,d):y&&(o=o||{},o[g]=y)}),o}return tl}var Hu={},p1;function lP(){if(p1)return Hu;p1=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(g){return!g||n.test(g)||e.test(g)},u=function(g,y){return y.toUpperCase()},h=function(g,y){return"".concat(y,"-")},d=function(g,y){return y===void 0&&(y={}),o(g)?g:(g=g.toLowerCase(),y.reactCompat?g=g.replace(a,h):g=g.replace(r,h),g.replace(t,u))};return Hu.camelCase=d,Hu}var Fu,m1;function uP(){if(m1)return Fu;m1=1;var e=Fu&&Fu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(oP()),n=lP();function r(a,o){var u={};return!a||typeof a!="string"||(0,t.default)(a,function(h,d){h&&d&&(u[(0,n.camelCase)(h,o)]=d)}),u}return r.default=r,Fu=r,Fu}var cP=uP();const hP=Qa(cP),a2=o2("end"),Gy=o2("start");function o2(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dP(e){const t=Gy(e),n=a2(e);if(t&&n)return{start:t,end:n}}function ic(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?g1(e.position):"start"in e||"end"in e?g1(e):"line"in e||"column"in e?ty(e):""}function ty(e){return y1(e&&e.line)+":"+y1(e&&e.column)}function g1(e){return ty(e&&e.start)+"-"+ty(e&&e.end)}function y1(e){return e&&typeof e=="number"?e:1}class An extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?a=t:!o.cause&&t&&(u=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=ic(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const Ky={}.hasOwnProperty,fP=new Map,pP=/[A-Z]/g,mP=new Set(["table","tbody","thead","tfoot","tr"]),gP=new Set(["td","th"]),l2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yP(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=EP(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=CP(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Zy:rP,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=u2(a,e,void 0);return o&&typeof o!="string"?o:a.create(e,a.Fragment,{children:o||void 0},void 0)}function u2(e,t,n){if(t.type==="element")return vP(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return _P(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return xP(e,t,n);if(t.type==="mdxjsEsm")return bP(e,t);if(t.type==="root")return wP(e,t,n);if(t.type==="text")return SP(e,t)}function vP(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Zy,e.schema=a),e.ancestors.push(t);const o=h2(e,t.tagName,!1),u=TP(e,t);let h=Yy(e,t);return mP.has(t.tagName)&&(h=h.filter(function(d){return typeof d=="string"?!KO(d):!0})),c2(e,u,o,t),Wy(u,h),e.ancestors.pop(),e.schema=r,e.create(t,o,u,n)}function _P(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}bc(e,t.position)}function bP(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);bc(e,t.position)}function xP(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Zy,e.schema=a),e.ancestors.push(t);const o=t.name===null?e.Fragment:h2(e,t.name,!0),u=jP(e,t),h=Yy(e,t);return c2(e,u,o,t),Wy(u,h),e.ancestors.pop(),e.schema=r,e.create(t,o,u,n)}function wP(e,t,n){const r={};return Wy(r,Yy(e,t)),e.create(t,e.Fragment,r,n)}function SP(e,t){return t.value}function c2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Wy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function CP(e,t,n){return r;function r(a,o,u,h){const g=Array.isArray(u.children)?n:t;return h?g(o,u,h):g(o,u)}}function EP(e,t){return n;function n(r,a,o,u){const h=Array.isArray(o.children),d=Gy(r);return t(a,o,u,h,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function TP(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Ky.call(t.properties,a)){const o=LP(e,a,t.properties[a]);if(o){const[u,h]=o;e.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&gP.has(t.tagName)?r=h:n[u]=h}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jP(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,e.evaluater.evaluateExpression(h.argument))}else bc(e,t.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const h=r.value.data.estree.body[0];h.type,o=e.evaluater.evaluateExpression(h.expression)}else bc(e,t.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function Yy(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:fP;for(;++r<t.children.length;){const o=t.children[r];let u;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const g=a.get(d)||0;u=d+"-"+g,a.set(d,g+1)}}const h=u2(e,o,u);h!==void 0&&n.push(h)}return n}function LP(e,t,n){const r=tP(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?FO(n):sP(n)),r.property==="style"){let a=typeof n=="object"?n:kP(e,String(n));return e.stylePropertyNameCase==="css"&&(a=AP(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?JO[r.property]||r.property:r.attribute,n]}}function kP(e,t){try{return hP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new An("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=l2+"#cannot-parse-style-attribute",a}}function h2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let o=-1,u;for(;++o<a.length;){const h=l1(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=u}else r=l1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Ky.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);bc(e)}function bc(e,t){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=l2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function AP(e){const t={};let n;for(n in e)Ky.call(e,n)&&(t[NP(n)]=e[n]);return t}function NP(e){let t=e.replace(pP,MP);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function MP(e){return"-"+e.toLowerCase()}const eg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},OP={};function PP(e,t){const n=OP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return d2(e,r,a)}function d2(e,t,n){if(RP(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return v1(e.children,t,n)}return Array.isArray(e)?v1(e,t,n):""}function v1(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=d2(e[a],t,n);return r.join("")}function RP(e){return!!(e&&typeof e=="object")}const _1=document.createElement("i");function Xy(e){const t="&"+e+";";_1.innerHTML=t;const n=_1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wr(e,t,n,r){const a=e.length;let o=0,u;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(t,0),e.splice(...u),o+=1e4,t+=1e4}function Ai(e,t){return e.length>0?(wr(e,e.length,0,t),e):t}const b1={}.hasOwnProperty;function DP(e){const t={};let n=-1;for(;++n<e.length;)zP(t,e[n]);return t}function zP(e,t){let n;for(n in t){const a=(b1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let u;if(o)for(u in o){b1.call(a,u)||(a[u]=[]);const h=o[u];BP(a[u],Array.isArray(h)?h:h?[h]:[])}}}function BP(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wr(e,0,0,r)}function f2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vr=Js(/[A-Za-z]/),mi=Js(/[\dA-Za-z]/),IP=Js(/[#-'*+\--9=?A-Z^-~]/);function ny(e){return e!==null&&(e<32||e===127)}const iy=Js(/\d/),UP=Js(/[\dA-Fa-f]/),VP=Js(/[!-/:-@[-`{-~]/);function $e(e){return e!==null&&e<-2}function Jn(e){return e!==null&&(e<0||e===32)}function pt(e){return e===-2||e===-1||e===32}const HP=Js(new RegExp("\\p{P}|\\p{S}","u")),FP=Js(/\s/);function Js(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function kl(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const o=e.charCodeAt(n);let u="";if(o===37&&mi(e.charCodeAt(n+1))&&mi(e.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=e.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Lt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(d){return pt(d)?(e.enter(n),h(d)):t(d)}function h(d){return pt(d)&&o++<a?(e.consume(d),h):(e.exit(n),t(d))}}const qP={tokenize:$P};function $P(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Lt(e,t,"linePrefix")}function a(h){return e.enter("paragraph"),o(h)}function o(h){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(h)}function u(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return $e(h)?(e.consume(h),e.exit("chunkText"),o):(e.consume(h),u)}}const ZP={tokenize:GP},x1={tokenize:KP};function GP(e){const t=this,n=[];let r=0,a,o,u;return h;function h(M){if(r<n.length){const U=n[r];return t.containerState=U[1],e.attempt(U[0].continuation,d,g)(M)}return g(M)}function d(M){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&P();const U=t.events.length;let H=U,I;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){I=t.events[H][1].end;break}O(r);let F=U;for(;F<t.events.length;)t.events[F][1].end={...I},F++;return wr(t.events,H+1,0,t.events.slice(U)),t.events.length=F,g(M)}return h(M)}function g(M){if(r===n.length){if(!a)return x(M);if(a.currentConstruct&&a.currentConstruct.concrete)return E(M);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(x1,y,v)(M)}function y(M){return a&&P(),O(r),x(M)}function v(M){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,E(M)}function x(M){return t.containerState={},e.attempt(x1,w,E)(M)}function w(M){return r++,n.push([t.currentConstruct,t.containerState]),x(M)}function E(M){if(M===null){a&&P(),O(0),e.consume(M);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),T(M)}function T(M){if(M===null){N(e.exit("chunkFlow"),!0),O(0),e.consume(M);return}return $e(M)?(e.consume(M),N(e.exit("chunkFlow")),r=0,t.interrupt=void 0,h):(e.consume(M),T)}function N(M,U){const H=t.sliceStream(M);if(U&&H.push(null),M.previous=o,o&&(o.next=M),o=M,a.defineSkip(M.start),a.write(H),t.parser.lazy[M.start.line]){let I=a.events.length;for(;I--;)if(a.events[I][1].start.offset<u&&(!a.events[I][1].end||a.events[I][1].end.offset>u))return;const F=t.events.length;let te=F,G,re;for(;te--;)if(t.events[te][0]==="exit"&&t.events[te][1].type==="chunkFlow"){if(G){re=t.events[te][1].end;break}G=!0}for(O(r),I=F;I<t.events.length;)t.events[I][1].end={...re},I++;wr(t.events,te+1,0,t.events.slice(F)),t.events.length=I}}function O(M){let U=n.length;for(;U-- >M;){const H=n[U];t.containerState=H[1],H[0].exit.call(t,e)}n.length=M}function P(){a.write([null]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function KP(e,t,n){return Lt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function w1(e){if(e===null||Jn(e)||FP(e))return 1;if(HP(e))return 2}function Jy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const ry={name:"attention",resolveAll:WP,tokenize:YP};function WP(e,t){let n=-1,r,a,o,u,h,d,g,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[r][1].end},x={...e[n][1].start};S1(v,-d),S1(x,d),u={type:d>1?"strongSequence":"emphasisSequence",start:v,end:{...e[r][1].end}},h={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:x},o={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:d>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},e[r][1].end={...u.start},e[n][1].start={...h.end},g=[],e[r][1].end.offset-e[r][1].start.offset&&(g=Ai(g,[["enter",e[r][1],t],["exit",e[r][1],t]])),g=Ai(g,[["enter",a,t],["enter",u,t],["exit",u,t],["enter",o,t]]),g=Ai(g,Jy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),g=Ai(g,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,g=Ai(g,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,wr(e,r-1,n-r+3,g),n=r+g.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function YP(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=w1(r);let o;return u;function u(d){return o=d,e.enter("attentionSequence"),h(d)}function h(d){if(d===o)return e.consume(d),h;const g=e.exit("attentionSequence"),y=w1(d),v=!y||y===2&&a||n.includes(d),x=!a||a===2&&y||n.includes(r);return g._open=!!(o===42?v:v&&(a||!x)),g._close=!!(o===42?x:x&&(y||!v)),t(d)}}function S1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const XP={name:"autolink",tokenize:JP};function JP(e,t,n){let r=0;return a;function a(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(w){return vr(w)?(e.consume(w),u):w===64?n(w):g(w)}function u(w){return w===43||w===45||w===46||mi(w)?(r=1,h(w)):g(w)}function h(w){return w===58?(e.consume(w),r=0,d):(w===43||w===45||w===46||mi(w))&&r++<32?(e.consume(w),h):(r=0,g(w))}function d(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):w===null||w===32||w===60||ny(w)?n(w):(e.consume(w),d)}function g(w){return w===64?(e.consume(w),y):IP(w)?(e.consume(w),g):n(w)}function y(w){return mi(w)?v(w):n(w)}function v(w){return w===46?(e.consume(w),r=0,y):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):x(w)}function x(w){if((w===45||mi(w))&&r++<63){const E=w===45?x:v;return e.consume(w),E}return n(w)}}const yf={partial:!0,tokenize:QP};function QP(e,t,n){return r;function r(o){return pt(o)?Lt(e,a,"linePrefix")(o):a(o)}function a(o){return o===null||$e(o)?t(o):n(o)}}const p2={continuation:{tokenize:tR},exit:nR,name:"blockQuote",tokenize:eR};function eR(e,t,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return n(u)}function o(u){return pt(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function tR(e,t,n){const r=this;return a;function a(u){return pt(u)?Lt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(p2,t,n)(u)}}function nR(e){e.exit("blockQuote")}const m2={name:"characterEscape",tokenize:iR};function iR(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),a}function a(o){return VP(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const g2={name:"characterReference",tokenize:rR};function rR(e,t,n){const r=this;let a=0,o,u;return h;function h(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),d}function d(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),o=31,u=mi,y(v))}function g(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=UP,y):(e.enter("characterReferenceValue"),o=7,u=iy,y(v))}function y(v){if(v===59&&a){const x=e.exit("characterReferenceValue");return u===mi&&!Xy(r.sliceSerialize(x))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(v)&&a++<o?(e.consume(v),y):n(v)}}const C1={partial:!0,tokenize:aR},E1={concrete:!0,name:"codeFenced",tokenize:sR};function sR(e,t,n){const r=this,a={partial:!0,tokenize:H};let o=0,u=0,h;return d;function d(I){return g(I)}function g(I){const F=r.events[r.events.length-1];return o=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,h=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(I)}function y(I){return I===h?(u++,e.consume(I),y):u<3?n(I):(e.exit("codeFencedFenceSequence"),pt(I)?Lt(e,v,"whitespace")(I):v(I))}function v(I){return I===null||$e(I)?(e.exit("codeFencedFence"),r.interrupt?t(I):e.check(C1,T,U)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(I))}function x(I){return I===null||$e(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(I)):pt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Lt(e,w,"whitespace")(I)):I===96&&I===h?n(I):(e.consume(I),x)}function w(I){return I===null||$e(I)?v(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(I))}function E(I){return I===null||$e(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(I)):I===96&&I===h?n(I):(e.consume(I),E)}function T(I){return e.attempt(a,U,N)(I)}function N(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),O}function O(I){return o>0&&pt(I)?Lt(e,P,"linePrefix",o+1)(I):P(I)}function P(I){return I===null||$e(I)?e.check(C1,T,U)(I):(e.enter("codeFlowValue"),M(I))}function M(I){return I===null||$e(I)?(e.exit("codeFlowValue"),P(I)):(e.consume(I),M)}function U(I){return e.exit("codeFenced"),t(I)}function H(I,F,te){let G=0;return re;function re(de){return I.enter("lineEnding"),I.consume(de),I.exit("lineEnding"),K}function K(de){return I.enter("codeFencedFence"),pt(de)?Lt(I,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):Q(de)}function Q(de){return de===h?(I.enter("codeFencedFenceSequence"),ae(de)):te(de)}function ae(de){return de===h?(G++,I.consume(de),ae):G>=u?(I.exit("codeFencedFenceSequence"),pt(de)?Lt(I,se,"whitespace")(de):se(de)):te(de)}function se(de){return de===null||$e(de)?(I.exit("codeFencedFence"),F(de)):te(de)}}}function aR(e,t,n){const r=this;return a;function a(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const tg={name:"codeIndented",tokenize:lR},oR={partial:!0,tokenize:uR};function lR(e,t,n){const r=this;return a;function a(g){return e.enter("codeIndented"),Lt(e,o,"linePrefix",5)(g)}function o(g){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(g):n(g)}function u(g){return g===null?d(g):$e(g)?e.attempt(oR,u,d)(g):(e.enter("codeFlowValue"),h(g))}function h(g){return g===null||$e(g)?(e.exit("codeFlowValue"),u(g)):(e.consume(g),h)}function d(g){return e.exit("codeIndented"),t(g)}}function uR(e,t,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):$e(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a):Lt(e,o,"linePrefix",5)(u)}function o(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):$e(u)?a(u):n(u)}}const cR={name:"codeText",previous:dR,resolve:hR,tokenize:fR};function hR(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function dR(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fR(e,t,n){let r=0,a,o;return u;function u(v){return e.enter("codeText"),e.enter("codeTextSequence"),h(v)}function h(v){return v===96?(e.consume(v),r++,h):(e.exit("codeTextSequence"),d(v))}function d(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),d):v===96?(o=e.enter("codeTextSequence"),a=0,y(v)):$e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),d):(e.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||$e(v)?(e.exit("codeTextData"),d(v)):(e.consume(v),g)}function y(v){return v===96?(e.consume(v),a++,y):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(o.type="codeTextData",g(v))}}class pR{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&qu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),qu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),qu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);qu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);qu(this.left,n.reverse())}}}function qu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function y2(e){const t={};let n=-1,r,a,o,u,h,d,g;const y=new pR(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(r=y.get(n),n&&r[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,mR(y,n)),n=t[n],g=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(u=y.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...y.get(a)[1].start},h=y.slice(a,n),h.unshift(r),y.splice(a,n-a+1,h))}}return wr(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!g}function mR(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,d=[],g={};let y,v,x=-1,w=n,E=0,T=0;const N=[T];for(;w;){for(;e.get(++a)[1]!==w;);o.push(a),w._tokenizer||(y=r.sliceStream(w),w.next||y.push(null),v&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=w,w=w.next}for(w=n;++x<h.length;)h[x][0]==="exit"&&h[x-1][0]==="enter"&&h[x][1].type===h[x-1][1].type&&h[x][1].start.line!==h[x][1].end.line&&(T=x+1,N.push(T),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):N.pop(),x=N.length;x--;){const O=h.slice(N[x],N[x+1]),P=o.pop();d.push([P,P+O.length-1]),e.splice(P,2,O)}for(d.reverse(),x=-1;++x<d.length;)g[E+d[x][0]]=E+d[x][1],E+=d[x][1]-d[x][0]-1;return g}const gR={resolve:vR,tokenize:_R},yR={partial:!0,tokenize:bR};function vR(e){return y2(e),e}function _R(e,t){let n;return r;function r(h){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):$e(h)?e.check(yR,u,o)(h):(e.consume(h),a)}function o(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function u(h){return e.consume(h),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function bR(e,t,n){const r=this;return a;function a(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Lt(e,o,"linePrefix")}function o(u){if(u===null||$e(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function v2(e,t,n,r,a,o,u,h,d){const g=d||Number.POSITIVE_INFINITY;let y=0;return v;function v(O){return O===60?(e.enter(r),e.enter(a),e.enter(o),e.consume(O),e.exit(o),x):O===null||O===32||O===41||ny(O)?n(O):(e.enter(r),e.enter(u),e.enter(h),e.enter("chunkString",{contentType:"string"}),T(O))}function x(O){return O===62?(e.enter(o),e.consume(O),e.exit(o),e.exit(a),e.exit(r),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),w(O))}function w(O){return O===62?(e.exit("chunkString"),e.exit(h),x(O)):O===null||O===60||$e(O)?n(O):(e.consume(O),O===92?E:w)}function E(O){return O===60||O===62||O===92?(e.consume(O),w):w(O)}function T(O){return!y&&(O===null||O===41||Jn(O))?(e.exit("chunkString"),e.exit(h),e.exit(u),e.exit(r),t(O)):y<g&&O===40?(e.consume(O),y++,T):O===41?(e.consume(O),y--,T):O===null||O===32||O===40||ny(O)?n(O):(e.consume(O),O===92?N:T)}function N(O){return O===40||O===41||O===92?(e.consume(O),T):T(O)}}function _2(e,t,n,r,a,o){const u=this;let h=0,d;return g;function g(w){return e.enter(r),e.enter(a),e.consume(w),e.exit(a),e.enter(o),y}function y(w){return h>999||w===null||w===91||w===93&&!d||w===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(e.exit(o),e.enter(a),e.consume(w),e.exit(a),e.exit(r),t):$e(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||w===91||w===93||$e(w)||h++>999?(e.exit("chunkString"),y(w)):(e.consume(w),d||(d=!pt(w)),w===92?x:v)}function x(w){return w===91||w===92||w===93?(e.consume(w),h++,v):v(w)}}function b2(e,t,n,r,a,o){let u;return h;function h(x){return x===34||x===39||x===40?(e.enter(r),e.enter(a),e.consume(x),e.exit(a),u=x===40?41:x,d):n(x)}function d(x){return x===u?(e.enter(a),e.consume(x),e.exit(a),e.exit(r),t):(e.enter(o),g(x))}function g(x){return x===u?(e.exit(o),d(u)):x===null?n(x):$e(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Lt(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===u||x===null||$e(x)?(e.exit("chunkString"),g(x)):(e.consume(x),x===92?v:y)}function v(x){return x===u||x===92?(e.consume(x),y):y(x)}}function rc(e,t){let n;return r;function r(a){return $e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):pt(a)?Lt(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const xR={name:"definition",tokenize:SR},wR={partial:!0,tokenize:CR};function SR(e,t,n){const r=this;let a;return o;function o(w){return e.enter("definition"),u(w)}function u(w){return _2.call(r,e,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return a=pl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),d):n(w)}function d(w){return Jn(w)?rc(e,g)(w):g(w)}function g(w){return v2(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function y(w){return e.attempt(wR,v,v)(w)}function v(w){return pt(w)?Lt(e,x,"whitespace")(w):x(w)}function x(w){return w===null||$e(w)?(e.exit("definition"),r.parser.defined.push(a),t(w)):n(w)}}function CR(e,t,n){return r;function r(h){return Jn(h)?rc(e,a)(h):n(h)}function a(h){return b2(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return pt(h)?Lt(e,u,"whitespace")(h):u(h)}function u(h){return h===null||$e(h)?t(h):n(h)}}const ER={name:"hardBreakEscape",tokenize:TR};function TR(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),a}function a(o){return $e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const jR={name:"headingAtx",resolve:LR,tokenize:kR};function LR(e,t){let n=e.length-2,r=3,a,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wr(e,r,n-r+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),e}function kR(e,t,n){let r=0;return a;function a(y){return e.enter("atxHeading"),o(y)}function o(y){return e.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&r++<6?(e.consume(y),u):y===null||Jn(y)?(e.exit("atxHeadingSequence"),h(y)):n(y)}function h(y){return y===35?(e.enter("atxHeadingSequence"),d(y)):y===null||$e(y)?(e.exit("atxHeading"),t(y)):pt(y)?Lt(e,h,"whitespace")(y):(e.enter("atxHeadingText"),g(y))}function d(y){return y===35?(e.consume(y),d):(e.exit("atxHeadingSequence"),h(y))}function g(y){return y===null||y===35||Jn(y)?(e.exit("atxHeadingText"),h(y)):(e.consume(y),g)}}const AR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],T1=["pre","script","style","textarea"],NR={concrete:!0,name:"htmlFlow",resolveTo:PR,tokenize:RR},MR={partial:!0,tokenize:zR},OR={partial:!0,tokenize:DR};function PR(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function RR(e,t,n){const r=this;let a,o,u,h,d;return g;function g(z){return y(z)}function y(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),v}function v(z){return z===33?(e.consume(z),x):z===47?(e.consume(z),o=!0,T):z===63?(e.consume(z),a=3,r.interrupt?t:R):vr(z)?(e.consume(z),u=String.fromCharCode(z),N):n(z)}function x(z){return z===45?(e.consume(z),a=2,w):z===91?(e.consume(z),a=5,h=0,E):vr(z)?(e.consume(z),a=4,r.interrupt?t:R):n(z)}function w(z){return z===45?(e.consume(z),r.interrupt?t:R):n(z)}function E(z){const W="CDATA[";return z===W.charCodeAt(h++)?(e.consume(z),h===W.length?r.interrupt?t:Q:E):n(z)}function T(z){return vr(z)?(e.consume(z),u=String.fromCharCode(z),N):n(z)}function N(z){if(z===null||z===47||z===62||Jn(z)){const W=z===47,oe=u.toLowerCase();return!W&&!o&&T1.includes(oe)?(a=1,r.interrupt?t(z):Q(z)):AR.includes(u.toLowerCase())?(a=6,W?(e.consume(z),O):r.interrupt?t(z):Q(z)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):o?P(z):M(z))}return z===45||mi(z)?(e.consume(z),u+=String.fromCharCode(z),N):n(z)}function O(z){return z===62?(e.consume(z),r.interrupt?t:Q):n(z)}function P(z){return pt(z)?(e.consume(z),P):re(z)}function M(z){return z===47?(e.consume(z),re):z===58||z===95||vr(z)?(e.consume(z),U):pt(z)?(e.consume(z),M):re(z)}function U(z){return z===45||z===46||z===58||z===95||mi(z)?(e.consume(z),U):H(z)}function H(z){return z===61?(e.consume(z),I):pt(z)?(e.consume(z),H):M(z)}function I(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),d=z,F):pt(z)?(e.consume(z),I):te(z)}function F(z){return z===d?(e.consume(z),d=null,G):z===null||$e(z)?n(z):(e.consume(z),F)}function te(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Jn(z)?H(z):(e.consume(z),te)}function G(z){return z===47||z===62||pt(z)?M(z):n(z)}function re(z){return z===62?(e.consume(z),K):n(z)}function K(z){return z===null||$e(z)?Q(z):pt(z)?(e.consume(z),K):n(z)}function Q(z){return z===45&&a===2?(e.consume(z),q):z===60&&a===1?(e.consume(z),ee):z===62&&a===4?(e.consume(z),V):z===63&&a===3?(e.consume(z),R):z===93&&a===5?(e.consume(z),we):$e(z)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(MR,X,ae)(z)):z===null||$e(z)?(e.exit("htmlFlowData"),ae(z)):(e.consume(z),Q)}function ae(z){return e.check(OR,se,X)(z)}function se(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),de}function de(z){return z===null||$e(z)?ae(z):(e.enter("htmlFlowData"),Q(z))}function q(z){return z===45?(e.consume(z),R):Q(z)}function ee(z){return z===47?(e.consume(z),u="",Y):Q(z)}function Y(z){if(z===62){const W=u.toLowerCase();return T1.includes(W)?(e.consume(z),V):Q(z)}return vr(z)&&u.length<8?(e.consume(z),u+=String.fromCharCode(z),Y):Q(z)}function we(z){return z===93?(e.consume(z),R):Q(z)}function R(z){return z===62?(e.consume(z),V):z===45&&a===2?(e.consume(z),R):Q(z)}function V(z){return z===null||$e(z)?(e.exit("htmlFlowData"),X(z)):(e.consume(z),V)}function X(z){return e.exit("htmlFlow"),t(z)}}function DR(e,t,n){const r=this;return a;function a(u){return $e(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function zR(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(yf,t,n)}}const BR={name:"htmlText",tokenize:IR};function IR(e,t,n){const r=this;let a,o,u;return h;function h(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),d}function d(R){return R===33?(e.consume(R),g):R===47?(e.consume(R),H):R===63?(e.consume(R),M):vr(R)?(e.consume(R),te):n(R)}function g(R){return R===45?(e.consume(R),y):R===91?(e.consume(R),o=0,E):vr(R)?(e.consume(R),P):n(R)}function y(R){return R===45?(e.consume(R),w):n(R)}function v(R){return R===null?n(R):R===45?(e.consume(R),x):$e(R)?(u=v,ee(R)):(e.consume(R),v)}function x(R){return R===45?(e.consume(R),w):v(R)}function w(R){return R===62?q(R):R===45?x(R):v(R)}function E(R){const V="CDATA[";return R===V.charCodeAt(o++)?(e.consume(R),o===V.length?T:E):n(R)}function T(R){return R===null?n(R):R===93?(e.consume(R),N):$e(R)?(u=T,ee(R)):(e.consume(R),T)}function N(R){return R===93?(e.consume(R),O):T(R)}function O(R){return R===62?q(R):R===93?(e.consume(R),O):T(R)}function P(R){return R===null||R===62?q(R):$e(R)?(u=P,ee(R)):(e.consume(R),P)}function M(R){return R===null?n(R):R===63?(e.consume(R),U):$e(R)?(u=M,ee(R)):(e.consume(R),M)}function U(R){return R===62?q(R):M(R)}function H(R){return vr(R)?(e.consume(R),I):n(R)}function I(R){return R===45||mi(R)?(e.consume(R),I):F(R)}function F(R){return $e(R)?(u=F,ee(R)):pt(R)?(e.consume(R),F):q(R)}function te(R){return R===45||mi(R)?(e.consume(R),te):R===47||R===62||Jn(R)?G(R):n(R)}function G(R){return R===47?(e.consume(R),q):R===58||R===95||vr(R)?(e.consume(R),re):$e(R)?(u=G,ee(R)):pt(R)?(e.consume(R),G):q(R)}function re(R){return R===45||R===46||R===58||R===95||mi(R)?(e.consume(R),re):K(R)}function K(R){return R===61?(e.consume(R),Q):$e(R)?(u=K,ee(R)):pt(R)?(e.consume(R),K):G(R)}function Q(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),a=R,ae):$e(R)?(u=Q,ee(R)):pt(R)?(e.consume(R),Q):(e.consume(R),se)}function ae(R){return R===a?(e.consume(R),a=void 0,de):R===null?n(R):$e(R)?(u=ae,ee(R)):(e.consume(R),ae)}function se(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Jn(R)?G(R):(e.consume(R),se)}function de(R){return R===47||R===62||Jn(R)?G(R):n(R)}function q(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function ee(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),Y}function Y(R){return pt(R)?Lt(e,we,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):we(R)}function we(R){return e.enter("htmlTextData"),u(R)}}const Qy={name:"labelEnd",resolveAll:FR,resolveTo:qR,tokenize:$R},UR={tokenize:ZR},VR={tokenize:GR},HR={tokenize:KR};function FR(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&wr(e,0,e.length,n),e}function qR(e,t){let n=e.length,r=0,a,o,u,h;for(;n--;)if(a=e[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},y={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[u-2][1].start}};return h=[["enter",d,t],["enter",g,t]],h=Ai(h,e.slice(o+1,o+r+3)),h=Ai(h,[["enter",y,t]]),h=Ai(h,Jy(t.parser.constructs.insideSpan.null,e.slice(o+r+4,u-3),t)),h=Ai(h,[["exit",y,t],e[u-2],e[u-1],["exit",g,t]]),h=Ai(h,e.slice(u+1)),h=Ai(h,[["exit",d,t]]),wr(e,o,e.length,h),e}function $R(e,t,n){const r=this;let a=r.events.length,o,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return h;function h(x){return o?o._inactive?v(x):(u=r.parser.defined.includes(pl(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),d):n(x)}function d(x){return x===40?e.attempt(UR,y,u?y:v)(x):x===91?e.attempt(VR,y,u?g:v)(x):u?y(x):v(x)}function g(x){return e.attempt(HR,y,v)(x)}function y(x){return t(x)}function v(x){return o._balanced=!0,n(x)}}function ZR(e,t,n){return r;function r(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),a}function a(v){return Jn(v)?rc(e,o)(v):o(v)}function o(v){return v===41?y(v):v2(e,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return Jn(v)?rc(e,d)(v):y(v)}function h(v){return n(v)}function d(v){return v===34||v===39||v===40?b2(e,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function g(v){return Jn(v)?rc(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function GR(e,t,n){const r=this;return a;function a(h){return _2.call(r,e,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(pl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(h):n(h)}function u(h){return n(h)}}function KR(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),a}function a(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const WR={name:"labelStartImage",resolveAll:Qy.resolveAll,tokenize:YR};function YR(e,t,n){const r=this;return a;function a(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),o}function o(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):t(h)}}const XR={name:"labelStartLink",resolveAll:Qy.resolveAll,tokenize:JR};function JR(e,t,n){const r=this;return a;function a(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const ng={name:"lineEnding",tokenize:QR};function QR(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Lt(e,t,"linePrefix")}}const Dd={name:"thematicBreak",tokenize:e5};function e5(e,t,n){let r=0,a;return o;function o(g){return e.enter("thematicBreak"),u(g)}function u(g){return a=g,h(g)}function h(g){return g===a?(e.enter("thematicBreakSequence"),d(g)):r>=3&&(g===null||$e(g))?(e.exit("thematicBreak"),t(g)):n(g)}function d(g){return g===a?(e.consume(g),r++,d):(e.exit("thematicBreakSequence"),pt(g)?Lt(e,h,"whitespace")(g):h(g))}}const Yn={continuation:{tokenize:r5},exit:a5,name:"list",tokenize:i5},t5={partial:!0,tokenize:o5},n5={partial:!0,tokenize:s5};function i5(e,t,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(w){const E=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:iy(w)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(Dd,n,g)(w):g(w);if(!r.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(w)}return n(w)}function d(w){return iy(w)&&++u<10?(e.consume(w),d):(!r.interrupt||u<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),g(w)):n(w)}function g(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,e.check(yf,r.interrupt?n:y,e.attempt(t5,x,v))}function y(w){return r.containerState.initialBlankLine=!0,o++,x(w)}function v(w){return pt(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),x):n(w)}function x(w){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(w)}}function r5(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(yf,a,o);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Lt(e,t,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!pt(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(n5,t,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,Lt(e,e.attempt(Yn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function s5(e,t,n){const r=this;return Lt(e,a,"listItemIndent",r.containerState.size+1);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(o):n(o)}}function a5(e){e.exit(this.containerState.type)}function o5(e,t,n){const r=this;return Lt(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=r.events[r.events.length-1];return!pt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const j1={name:"setextUnderline",resolveTo:l5,tokenize:u5};function l5(e,t){let n=e.length,r,a,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",o?(e.splice(a,0,["enter",u,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function u5(e,t,n){const r=this;let a;return o;function o(g){let y=r.events.length,v;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){v=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(e.enter("setextHeadingLine"),a=g,u(g)):n(g)}function u(g){return e.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===a?(e.consume(g),h):(e.exit("setextHeadingLineSequence"),pt(g)?Lt(e,d,"lineSuffix")(g):d(g))}function d(g){return g===null||$e(g)?(e.exit("setextHeadingLine"),t(g)):n(g)}}const c5={tokenize:h5};function h5(e){const t=this,n=e.attempt(yf,r,e.attempt(this.parser.constructs.flowInitial,a,Lt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(gR,a)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const d5={resolveAll:w2()},f5=x2("string"),p5=x2("text");function x2(e){return{resolveAll:w2(e==="text"?m5:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],o=n.attempt(a,u,h);return u;function u(y){return g(y)?o(y):h(y)}function h(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),d}function d(y){return g(y)?(n.exit("data"),o(y)):(n.consume(y),d)}function g(y){if(y===null)return!0;const v=a[y];let x=-1;if(v)for(;++x<v.length;){const w=v[x];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function w2(e){return t;function t(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(n,r):n}}function m5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let o=a.length,u=-1,h=0,d;for(;o--;){const g=a[o];if(typeof g=="string"){for(u=g.length;g.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(g===-2)d=!0,h++;else if(g!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(h=0),h){const g={type:n===e.length||d||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...g.start},r.start.offset===r.end.offset?Object.assign(r,g):(e.splice(n,0,["enter",g,t],["exit",g,t]),n+=2)}n++}return e}const g5={42:Yn,43:Yn,45:Yn,48:Yn,49:Yn,50:Yn,51:Yn,52:Yn,53:Yn,54:Yn,55:Yn,56:Yn,57:Yn,62:p2},y5={91:xR},v5={[-2]:tg,[-1]:tg,32:tg},_5={35:jR,42:Dd,45:[j1,Dd],60:NR,61:j1,95:Dd,96:E1,126:E1},b5={38:g2,92:m2},x5={[-5]:ng,[-4]:ng,[-3]:ng,33:WR,38:g2,42:ry,60:[XP,BR],91:XR,92:[ER,m2],93:Qy,95:ry,96:cR},w5={null:[ry,d5]},S5={null:[42,95]},C5={null:[]},E5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:S5,contentInitial:y5,disable:C5,document:g5,flow:_5,flowInitial:v5,insideSpan:w5,string:b5,text:x5},Symbol.toStringTag,{value:"Module"}));function T5(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const d={attempt:F(H),check:F(I),consume:P,enter:M,exit:U,interrupt:F(I,{interrupt:!0})},g={code:null,containerState:{},defineSkip:T,events:[],now:E,parser:e,previous:null,sliceSerialize:x,sliceStream:w,write:v};let y=t.tokenize.call(g,d);return t.resolveAll&&o.push(t),g;function v(K){return u=Ai(u,K),N(),u[u.length-1]!==null?[]:(te(t,0),g.events=Jy(o,g.events,g),g.events)}function x(K,Q){return L5(w(K),Q)}function w(K){return j5(u,K)}function E(){const{_bufferIndex:K,_index:Q,line:ae,column:se,offset:de}=r;return{_bufferIndex:K,_index:Q,line:ae,column:se,offset:de}}function T(K){a[K.line]=K.column,re()}function N(){let K;for(;r._index<u.length;){const Q=u[r._index];if(typeof Q=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<Q.length;)O(Q.charCodeAt(r._bufferIndex));else O(Q)}}function O(K){y=y(K)}function P(K){$e(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,re()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),g.previous=K}function M(K,Q){const ae=Q||{};return ae.type=K,ae.start=E(),g.events.push(["enter",ae,g]),h.push(ae),ae}function U(K){const Q=h.pop();return Q.end=E(),g.events.push(["exit",Q,g]),Q}function H(K,Q){te(K,Q.from)}function I(K,Q){Q.restore()}function F(K,Q){return ae;function ae(se,de,q){let ee,Y,we,R;return Array.isArray(se)?X(se):"tokenize"in se?X([se]):V(se);function V(fe){return Ce;function Ce(Re){const ve=Re!==null&&fe[Re],Le=Re!==null&&fe.null,Ve=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return X(Ve)(Re)}}function X(fe){return ee=fe,Y=0,fe.length===0?q:z(fe[Y])}function z(fe){return Ce;function Ce(Re){return R=G(),we=fe,fe.partial||(g.currentConstruct=fe),fe.name&&g.parser.constructs.disable.null.includes(fe.name)?oe():fe.tokenize.call(Q?Object.assign(Object.create(g),Q):g,d,W,oe)(Re)}}function W(fe){return K(we,R),de}function oe(fe){return R.restore(),++Y<ee.length?z(ee[Y]):q}}}function te(K,Q){K.resolveAll&&!o.includes(K)&&o.push(K),K.resolve&&wr(g.events,Q,g.events.length-Q,K.resolve(g.events.slice(Q),g)),K.resolveTo&&(g.events=K.resolveTo(g.events,g))}function G(){const K=E(),Q=g.previous,ae=g.currentConstruct,se=g.events.length,de=Array.from(h);return{from:se,restore:q};function q(){r=K,g.previous=Q,g.currentConstruct=ae,g.events.length=se,h=de,re()}}function re(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function j5(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let u;if(n===a)u=[e[n].slice(r,o)];else{if(u=e.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}o>0&&u.push(e[a].slice(0,o))}return u}function L5(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const o=e[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,r.push(u)}return r.join("")}function k5(e){const r={constructs:DP([E5,...(e||{}).extensions||[]]),content:a(qP),defined:[],document:a(ZP),flow:a(c5),lazy:{},string:a(f5),text:a(p5)};return r;function a(o){return u;function u(h){return T5(r,o,h)}}}function A5(e){for(;!y2(e););return e}const L1=/[\0\t\n\r]/g;function N5(){let e=1,t="",n=!0,r;return a;function a(o,u,h){const d=[];let g,y,v,x,w;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),v=0,t="",n&&(o.charCodeAt(0)===65279&&v++,n=void 0);v<o.length;){if(L1.lastIndex=v,g=L1.exec(o),x=g&&g.index!==void 0?g.index:o.length,w=o.charCodeAt(x),!g){t=o.slice(v);break}if(w===10&&v===x&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),v<x&&(d.push(o.slice(v,x)),e+=x-v),w){case 0:{d.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,d.push(-2);e++<y;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}v=x+1}return h&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const M5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function O5(e){return e.replace(M5,P5)}function P5(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return f2(n.slice(o?2:1),o?16:10)}return Xy(n)||e}const S2={}.hasOwnProperty;function R5(e,t,n){return typeof t!="string"&&(n=t,t=void 0),D5(n)(A5(k5(n).document().write(N5()(e,t,!0))))}function D5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(rs),autolinkProtocol:G,autolinkEmail:G,atxHeading:o(Rt),blockQuote:o(Le),characterEscape:G,characterReference:G,codeFenced:o(Ve),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Ve,u),codeText:o(De,u),codeTextData:G,data:G,codeFlowValue:G,definition:o(He),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(gt),hardBreakEscape:o(ei),hardBreakTrailing:o(ei),htmlFlow:o(Pi,u),htmlFlowData:G,htmlText:o(Pi,u),htmlTextData:G,image:o(Ri),label:u,link:o(rs),listItem:o(Tr),listItemValue:x,listOrdered:o(Er,v),listUnordered:o(Er),paragraph:o(so),reference:z,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Rt),strong:o(ao),thematicBreak:o(Rl)},exit:{atxHeading:d(),atxHeadingSequence:H,autolink:d(),autolinkEmail:ve,autolinkProtocol:Re,blockQuote:d(),characterEscapeValue:re,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:fe,characterReference:Ce,codeFenced:d(N),codeFencedFence:T,codeFencedFenceInfo:w,codeFencedFenceMeta:E,codeFlowValue:re,codeIndented:d(O),codeText:d(de),codeTextData:re,data:re,definition:d(),definitionDestinationString:U,definitionLabelString:P,definitionTitleString:M,emphasis:d(),hardBreakEscape:d(Q),hardBreakTrailing:d(Q),htmlFlow:d(ae),htmlFlowData:re,htmlText:d(se),htmlTextData:re,image:d(ee),label:we,labelText:Y,lineEnding:K,link:d(q),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:W,resourceDestinationString:R,resourceTitleString:V,resource:X,setextHeading:d(te),setextHeadingLineSequence:F,setextHeadingText:I,strong:d(),thematicBreak:d()}};C2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Ie={stack:[Te],tokenStack:[],config:t,enter:h,exit:g,buffer:u,resume:y,data:n},et=[];let lt=-1;for(;++lt<ge.length;)if(ge[lt][1].type==="listOrdered"||ge[lt][1].type==="listUnordered")if(ge[lt][0]==="enter")et.push(lt);else{const Sn=et.pop();lt=a(ge,Sn,lt)}for(lt=-1;++lt<ge.length;){const Sn=t[ge[lt][0]];S2.call(Sn,ge[lt][1].type)&&Sn[ge[lt][1].type].call(Object.assign({sliceSerialize:ge[lt][2].sliceSerialize},Ie),ge[lt][1])}if(Ie.tokenStack.length>0){const Sn=Ie.tokenStack[Ie.tokenStack.length-1];(Sn[1]||k1).call(Ie,void 0,Sn[0])}for(Te.position={start:Fs(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Fs(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)Te=t.transforms[lt](Te)||Te;return Te}function a(ge,Te,Ie){let et=Te-1,lt=-1,Sn=!1,Di,cn,Dt,yn;for(;++et<=Ie;){const yt=ge[et];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?lt++:lt--,yn=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(Di&&!yn&&!lt&&!Dt&&(Dt=et),yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yn=void 0}if(!lt&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||lt===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(Di){let Dn=et;for(cn=void 0;Dn--;){const ti=ge[Dn];if(ti[1].type==="lineEnding"||ti[1].type==="lineEndingBlank"){if(ti[0]==="exit")continue;cn&&(ge[cn][1].type="lineEndingBlank",Sn=!0),ti[1].type="lineEnding",cn=Dn}else if(!(ti[1].type==="linePrefix"||ti[1].type==="blockQuotePrefix"||ti[1].type==="blockQuotePrefixWhitespace"||ti[1].type==="blockQuoteMarker"||ti[1].type==="listItemIndent"))break}Dt&&(!cn||Dt<cn)&&(Di._spread=!0),Di.end=Object.assign({},cn?ge[cn][1].start:yt[1].end),ge.splice(cn||et,0,["exit",Di,yt[2]]),et++,Ie++}if(yt[1].type==="listItemPrefix"){const Dn={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};Di=Dn,ge.splice(et,0,["enter",Dn,yt[2]]),et++,Ie++,Dt=void 0,yn=!0}}}return ge[Te][1]._spread=Sn,Ie}function o(ge,Te){return Ie;function Ie(et){h.call(this,ge(et),et),Te&&Te.call(this,et)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ge,Te,Ie){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Ie||void 0]),ge.position={start:Fs(Te.start),end:void 0}}function d(ge){return Te;function Te(Ie){ge&&ge.call(this,Ie),g.call(this,Ie)}}function g(ge,Te){const Ie=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==ge.type&&(Te?Te.call(this,ge,et[0]):(et[1]||k1).call(this,ge,et[0]));else throw new Error("Cannot close `"+ge.type+"` ("+ic({start:ge.start,end:ge.end})+"): its not open");Ie.position.end=Fs(ge.end)}function y(){return PP(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function x(ge){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function E(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function O(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function P(ge){const Te=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Te,Ie.identifier=pl(this.sliceSerialize(ge)).toLowerCase()}function M(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function U(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function H(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ie=this.sliceSerialize(ge).length;Te.depth=Ie}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function F(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function G(ge){const Ie=this.stack[this.stack.length-1].children;let et=Ie[Ie.length-1];(!et||et.type!=="text")&&(et=gn(),et.position={start:Fs(ge.start),end:void 0},Ie.push(et)),this.stack.push(et)}function re(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=Fs(ge.end)}function K(ge){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=Te.children[Te.children.length-1];Ie.position.end=Fs(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(G.call(this,ge),re.call(this,ge))}function Q(){this.data.atHardBreak=!0}function ae(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function se(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function de(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function q(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function ee(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Y(ge){const Te=this.sliceSerialize(ge),Ie=this.stack[this.stack.length-2];Ie.label=O5(Te),Ie.identifier=pl(Te).toLowerCase()}function we(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const et=ge.children;Ie.children=et}else Ie.alt=Te}function R(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function V(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function X(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function W(ge){const Te=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Te,Ie.identifier=pl(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function oe(ge){this.data.characterReferenceType=ge.type}function fe(ge){const Te=this.sliceSerialize(ge),Ie=this.data.characterReferenceType;let et;Ie?(et=f2(Te,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=Xy(Te);const lt=this.stack[this.stack.length-1];lt.value+=et}function Ce(ge){const Te=this.stack.pop();Te.position.end=Fs(ge.end)}function Re(ge){re.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function ve(ge){re.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function Le(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function Rt(){return{type:"heading",depth:0,children:[]}}function ei(){return{type:"break"}}function Pi(){return{type:"html",value:""}}function Ri(){return{type:"image",title:null,url:"",alt:null}}function rs(){return{type:"link",title:null,url:"",children:[]}}function Er(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Tr(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function so(){return{type:"paragraph",children:[]}}function ao(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function Rl(){return{type:"thematicBreak"}}}function Fs(e){return{line:e.line,column:e.column,offset:e.offset}}function C2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?C2(e,r):z5(e,r)}}function z5(e,t){let n;for(n in t)if(S2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function k1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ic({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ic({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ic({start:t.start,end:t.end})+") is still open")}function B5(e){const t=this;t.parser=n;function n(r){return R5(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function I5(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function U5(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function V5(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function H5(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F5(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=kl(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let u,h=e.footnoteCounts.get(r);h===void 0?(h=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=o+1,h+=1,e.footnoteCounts.set(r,h);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,d);const g={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,g),e.applyData(t,g)}function $5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Z5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function E2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function G5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return E2(e,t);const a={src:kl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,o),e.applyData(t,o)}function K5(e,t){const n={src:kl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function W5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Y5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return E2(e,t);const a={href:kl(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function X5(e,t){const n={href:kl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function J5(e,t,n){const r=e.all(t),a=n?Q5(n):T2(t),o={},u=[];if(typeof t.checked=="boolean"){const y=r[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const y=r[h];(a||h!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?u.push(...y.children):u.push(y)}const d=r[r.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:u};return e.patch(t,g),e.applyData(t,g)}function Q5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=T2(n[r])}return t}function T2(e){const t=e.spread;return t??e.children.length>1}function e3(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function t3(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n3(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function i3(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function r3(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},h=Gy(t.children[1]),d=a2(t.children[t.children.length-1]);h&&d&&(u.position={start:h,end:d}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function s3(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:t.children.length;let d=-1;const g=[];for(;++d<h;){const v=t.children[d],x={},w=u?u[d]:void 0;w&&(x.align=w);let E={type:"element",tagName:o,properties:x,children:[]};v&&(E.children=e.all(v),e.patch(v,E),E=e.applyData(v,E)),g.push(E)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,y),e.applyData(t,y)}function a3(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const A1=9,N1=32;function o3(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const o=[];for(;r;)o.push(M1(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return o.push(M1(t.slice(a),a>0,!1)),o.join("")}function M1(e,t,n){let r=0,a=e.length;if(t){let o=e.codePointAt(r);for(;o===A1||o===N1;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(a-1);for(;o===A1||o===N1;)a--,o=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function l3(e,t){const n={type:"text",value:o3(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function u3(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const c3={blockquote:I5,break:U5,code:V5,delete:H5,emphasis:F5,footnoteReference:q5,heading:$5,html:Z5,imageReference:G5,image:K5,inlineCode:W5,linkReference:Y5,link:X5,listItem:J5,list:e3,paragraph:t3,root:n3,strong:i3,table:r3,tableCell:a3,tableRow:s3,text:l3,thematicBreak:u3,toml:Td,yaml:Td,definition:Td,footnoteDefinition:Td};function Td(){}const j2=-1,vf=0,sc=1,Xd=2,ev=3,tv=4,nv=5,iv=6,L2=7,k2=8,O1=typeof self=="object"?self:globalThis,h3=(e,t)=>{const n=(a,o)=>(e.set(o,a),a),r=a=>{if(e.has(a))return e.get(a);const[o,u]=t[a];switch(o){case vf:case j2:return n(u,a);case sc:{const h=n([],a);for(const d of u)h.push(r(d));return h}case Xd:{const h=n({},a);for(const[d,g]of u)h[r(d)]=r(g);return h}case ev:return n(new Date(u),a);case tv:{const{source:h,flags:d}=u;return n(new RegExp(h,d),a)}case nv:{const h=n(new Map,a);for(const[d,g]of u)h.set(r(d),r(g));return h}case iv:{const h=n(new Set,a);for(const d of u)h.add(r(d));return h}case L2:{const{name:h,message:d}=u;return n(new O1[h](d),a)}case k2:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new O1[o](u),a)};return r},P1=e=>h3(new Map,e)(0),nl="",{toString:d3}={},{keys:f3}=Object,$u=e=>{const t=typeof e;if(t!=="object"||!e)return[vf,t];const n=d3.call(e).slice(8,-1);switch(n){case"Array":return[sc,nl];case"Object":return[Xd,nl];case"Date":return[ev,nl];case"RegExp":return[tv,nl];case"Map":return[nv,nl];case"Set":return[iv,nl];case"DataView":return[sc,n]}return n.includes("Array")?[sc,n]:n.includes("Error")?[L2,n]:[Xd,n]},jd=([e,t])=>e===vf&&(t==="function"||t==="symbol"),p3=(e,t,n,r)=>{const a=(u,h)=>{const d=r.push(u)-1;return n.set(h,d),d},o=u=>{if(n.has(u))return n.get(u);let[h,d]=$u(u);switch(h){case vf:{let y=u;switch(d){case"bigint":h=k2,y=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);y=null;break;case"undefined":return a([j2],u)}return a([h,y],u)}case sc:{if(d){let x=u;return d==="DataView"?x=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(x=new Uint8Array(u)),a([d,[...x]],u)}const y=[],v=a([h,y],u);for(const x of u)y.push(o(x));return v}case Xd:{if(d)switch(d){case"BigInt":return a([d,u.toString()],u);case"Boolean":case"Number":case"String":return a([d,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const y=[],v=a([h,y],u);for(const x of f3(u))(e||!jd($u(u[x])))&&y.push([o(x),o(u[x])]);return v}case ev:return a([h,u.toISOString()],u);case tv:{const{source:y,flags:v}=u;return a([h,{source:y,flags:v}],u)}case nv:{const y=[],v=a([h,y],u);for(const[x,w]of u)(e||!(jd($u(x))||jd($u(w))))&&y.push([o(x),o(w)]);return v}case iv:{const y=[],v=a([h,y],u);for(const x of u)(e||!jd($u(x)))&&y.push(o(x));return v}}const{message:g}=u;return a([h,{name:d,message:g}],u)};return o},R1=(e,{json:t,lossy:n}={})=>{const r=[];return p3(!(t||n),!!t,new Map,r)(e),r},Jd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?P1(R1(e,t)):structuredClone(e):(e,t)=>P1(R1(e,t));function m3(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function g3(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function y3(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||m3,r=e.options.footnoteBackLabel||g3,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let d=-1;for(;++d<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[d]);if(!g)continue;const y=e.all(g),v=String(g.identifier).toUpperCase(),x=kl(v.toLowerCase());let w=0;const E=[],T=e.footnoteCounts.get(v);for(;T!==void 0&&++w<=T;){E.length>0&&E.push({type:"text",value:" "});let P=typeof n=="string"?n:n(d,w);typeof P=="string"&&(P={type:"text",value:P}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,w),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const N=y[y.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const P=N.children[N.children.length-1];P&&P.type==="text"?P.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...E)}else y.push(...E);const O={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(y,!0)};e.patch(g,O),h.push(O)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Jd(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const A2=(function(e){if(e==null)return x3;if(typeof e=="function")return _f(e);if(typeof e=="object")return Array.isArray(e)?v3(e):_3(e);if(typeof e=="string")return b3(e);throw new Error("Expected function, string, or object as test")});function v3(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=A2(e[n]);return _f(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function _3(e){const t=e;return _f(n);function n(r){const a=r;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function b3(e){return _f(t);function t(n){return n&&n.type===e}}function _f(e){return t;function t(n,r,a){return!!(w3(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function x3(){return!0}function w3(e){return e!==null&&typeof e=="object"&&"type"in e}const N2=[],S3=!0,D1=!1,C3="skip";function E3(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const o=A2(a),u=r?-1:1;h(e,void 0,[])();function h(d,g,y){const v=d&&typeof d=="object"?d:{};if(typeof v.type=="string"){const w=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(d.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=N2,E,T,N;if((!t||o(d,g,y[y.length-1]||void 0))&&(w=T3(n(d,y)),w[0]===D1))return w;if("children"in d&&d.children){const O=d;if(O.children&&w[0]!==C3)for(T=(r?O.children.length:-1)+u,N=y.concat(O);T>-1&&T<O.children.length;){const P=O.children[T];if(E=h(P,T,N)(),E[0]===D1)return E;T=typeof E[1]=="number"?E[1]:T+u}}return w}}}function T3(e){return Array.isArray(e)?e:typeof e=="number"?[S3,e]:e==null?N2:[e]}function M2(e,t,n,r){let a,o,u;typeof t=="function"&&typeof n!="function"?(o=void 0,u=t,a=n):(o=t,u=n,a=r),E3(e,o,h,a);function h(d,g){const y=g[g.length-1],v=y?y.children.indexOf(d):void 0;return u(d,v,y)}}const sy={}.hasOwnProperty,j3={};function L3(e,t){const n=t||j3,r=new Map,a=new Map,o=new Map,u={...c3,...n.handlers},h={all:g,applyData:A3,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:d,options:n,patch:k3,wrap:M3};return M2(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?r:a,x=String(y.identifier).toUpperCase();v.has(x)||v.set(x,y)}}),h;function d(y,v){const x=y.type,w=h.handlers[x];if(sy.call(h.handlers,x)&&w)return w(h,y,v);if(h.options.passThrough&&h.options.passThrough.includes(x)){if("children"in y){const{children:T,...N}=y,O=Jd(N);return O.children=h.all(y),O}return Jd(y)}return(h.options.unknownHandler||N3)(h,y,v)}function g(y){const v=[];if("children"in y){const x=y.children;let w=-1;for(;++w<x.length;){const E=h.one(x[w],y);if(E){if(w&&x[w-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=z1(E.value)),!Array.isArray(E)&&E.type==="element")){const T=E.children[0];T&&T.type==="text"&&(T.value=z1(T.value))}Array.isArray(E)?v.push(...E):v.push(E)}}}return v}}function k3(e,t){e.position&&(t.position=dP(e))}function A3(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Jd(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function N3(e,t){const n=t.data||{},r="value"in t&&!(sy.call(n,"hProperties")||sy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function M3(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function z1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function B1(e,t){const n=L3(e,t),r=n.one(e,void 0),a=y3(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function O3(e,t){return e&&"run"in e?async function(n,r){const a=B1(n,{file:r,...t});await e.run(a,r)}:function(n,r){return B1(n,{file:r,...e||t})}}function I1(e){if(e)throw e}var ig,U1;function P3(){if(U1)return ig;U1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},o=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var y=e.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!y&&!v)return!1;var x;for(x in g);return typeof x>"u"||e.call(g,x)},u=function(g,y){n&&y.name==="__proto__"?n(g,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):g[y.name]=y.newValue},h=function(g,y){if(y==="__proto__")if(e.call(g,y)){if(r)return r(g,y).value}else return;return g[y]};return ig=function d(){var g,y,v,x,w,E,T=arguments[0],N=1,O=arguments.length,P=!1;for(typeof T=="boolean"&&(P=T,T=arguments[1]||{},N=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});N<O;++N)if(g=arguments[N],g!=null)for(y in g)v=h(T,y),x=h(g,y),T!==x&&(P&&x&&(o(x)||(w=a(x)))?(w?(w=!1,E=v&&a(v)?v:[]):E=v&&o(v)?v:{},u(T,{name:y,newValue:d(P,E,x)})):typeof x<"u"&&u(T,{name:y,newValue:x}));return T},ig}var R3=P3();const rg=Qa(R3);function ay(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function D3(){const e=[],t={run:n,use:r};return t;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(d,...g){const y=e[++o];let v=-1;if(d){u(d);return}for(;++v<a.length;)(g[v]===null||g[v]===void 0)&&(g[v]=a[v]);a=g,y?z3(y,h)(...g):u(null,...g)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function z3(e,t){let n;return r;function r(...u){const h=e.length>u.length;let d;h&&u.push(a);try{d=e.apply(this,u)}catch(g){const y=g;if(h&&n)throw y;return a(y)}h||(d&&d.then&&typeof d.then=="function"?d.then(o,a):d instanceof Error?a(d):o(d))}function a(u,...h){n||(n=!0,t(u,...h))}function o(u){a(null,u)}}const yr={basename:B3,dirname:I3,extname:U3,join:V3,sep:"/"};function B3(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zc(e);let n=0,r=-1,a=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,h=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(e.codePointAt(a)===t.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function I3(e){if(zc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function U3(e){zc(e);let t=e.length,n=-1,r=0,a=-1,o=0,u;for(;t--;){const h=e.codePointAt(t);if(h===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),h===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function V3(...e){let t=-1,n;for(;++t<e.length;)zc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":H3(n)}function H3(e){zc(e);const t=e.codePointAt(0)===47;let n=F3(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function F3(e,t){let n="",r=0,a=-1,o=0,u=-1,h,d;for(;++u<=e.length;){if(u<e.length)h=e.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",r=0,a=u,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,u):n=e.slice(a+1,u),r=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function zc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const q3={cwd:$3};function $3(){return"/"}function oy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Z3(e){if(typeof e=="string")e=new URL(e);else if(!oy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return G3(e)}function G3(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const sg=["history","path","basename","stem","extname","dirname"];class O2{constructor(t){let n;t?oy(t)?n={path:t}:typeof t=="string"||K3(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":q3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sg.length;){const o=sg[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)sg.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?yr.basename(this.path):void 0}set basename(t){og(t,"basename"),ag(t,"basename"),this.path=yr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?yr.dirname(this.path):void 0}set dirname(t){V1(this.basename,"dirname"),this.path=yr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?yr.extname(this.path):void 0}set extname(t){if(ag(t,"extname"),V1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){oy(t)&&(t=Z3(t)),og(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?yr.basename(this.path,this.extname):void 0}set stem(t){og(t,"stem"),ag(t,"stem"),this.path=yr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new An(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ag(e,t){if(e&&e.includes(yr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yr.sep+"`")}function og(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function V1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function K3(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const W3=(function(e){const r=this.constructor.prototype,a=r[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),Y3={}.hasOwnProperty;class rv extends W3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=D3()}copy(){const t=new rv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(cg("data",this.frozen),this.namespace[t]=n,this):Y3.call(this.namespace,t)&&this.namespace[t]||void 0:t?(cg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ld(t),r=this.parser||this.Parser;return lg("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),lg("process",this.parser||this.Parser),ug("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Ld(t),d=r.parse(h);r.run(d,h,function(y,v,x){if(y||!v||!x)return g(y);const w=v,E=r.stringify(w,x);Q3(E)?x.value=E:x.result=E,g(y,x)});function g(y,v){y||!v?u(y):o?o(v):n(void 0,v)}}}processSync(t){let n=!1,r;return this.freeze(),lg("processSync",this.parser||this.Parser),ug("processSync",this.compiler||this.Compiler),this.process(t,a),F1("processSync","process",n),r;function a(o,u){n=!0,I1(o),r=u}}run(t,n,r){H1(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,h){const d=Ld(n);a.run(t,d,g);function g(y,v,x){const w=v||t;y?h(y):u?u(w):r(void 0,w,x)}}}runSync(t,n){let r=!1,a;return this.run(t,n,o),F1("runSync","run",r),a;function o(u,h){I1(u),a=h,r=!0}}stringify(t,n){this.freeze();const r=Ld(n),a=this.compiler||this.Compiler;return ug("stringify",a),H1(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(cg("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?h(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(g){if(typeof g=="function")d(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[y,...v]=g;d(y,v)}else u(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function u(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(a.settings=rg(!0,a.settings,g.settings))}function h(g){let y=-1;if(g!=null)if(Array.isArray(g))for(;++y<g.length;){const v=g[y];o(v)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function d(g,y){let v=-1,x=-1;for(;++v<r.length;)if(r[v][0]===g){x=v;break}if(x===-1)r.push([g,...y]);else if(y.length>0){let[w,...E]=y;const T=r[x][1];ay(T)&&ay(w)&&(w=rg(!0,T,w)),r[x]=[g,w,...E]}}}}const X3=new rv().freeze();function lg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ug(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function cg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function H1(e){if(!ay(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function F1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ld(e){return J3(e)?e:new O2(e)}function J3(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Q3(e){return typeof e=="string"||eD(e)}function eD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",q1=[],$1={allowDangerousHtml:!0},nD=/^(https?|ircs?|mailto|xmpp)$/i,iD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rD(e){const t=sD(e),n=aD(e);return oD(t.runSync(t.parse(n),n),e)}function sD(e){const t=e.rehypePlugins||q1,n=e.remarkPlugins||q1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$1}:$1;return X3().use(B5).use(n).use(O3,r).use(t)}function aD(e){const t=e.children||"",n=new O2;return typeof t=="string"&&(n.value=t),n}function oD(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,o=t.disallowedElements,u=t.skipHtml,h=t.unwrapDisallowed,d=t.urlTransform||lD;for(const y of iD)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+tD+y.id,void 0);return M2(e,g),yP(e,{Fragment:m.Fragment,components:a,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function g(y,v,x){if(y.type==="raw"&&x&&typeof v=="number")return u?x.children.splice(v,1):x.children[v]={type:"text",value:y.value},v;if(y.type==="element"){let w;for(w in eg)if(Object.hasOwn(eg,w)&&Object.hasOwn(y.properties,w)){const E=y.properties[w],T=eg[w];(T===null||T.includes(y.tagName))&&(y.properties[w]=d(String(E||""),w,y))}}if(y.type==="element"){let w=n?!n.includes(y.tagName):o?o.includes(y.tagName):!1;if(!w&&r&&typeof v=="number"&&(w=!r(y,v,x)),w&&x&&typeof v=="number")return h&&y.children?x.children.splice(v,1,...y.children):x.children.splice(v,1),v}}}function lD(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||nD.test(e.slice(0,t))?e:""}const Z1={dashboard:{title:"Dashboard Overview",content:`
The dashboard provides a quick overview of your event data:

**Key Metrics:**
- **Total Markers**: All map locations (booths, parking, facilities)
- **Companies**: Registered exhibitor companies
- **Subscriptions**: Companies registered for the selected year
- **Assignments**: Companies assigned to map locations

**Event Stats:**
- View meal counts (breakfast, lunch, BBQ) for Saturday and Sunday
- Track total coins distributed
- All stats update in real-time as you make changes

**Year Selector:**
Use the year dropdown in the top navigation to switch between event years.
    `.trim(),updated:"2025-11-21",tips:["Use the year selector to view past or future events","Stats update automatically when you make changes","Dashboard is read-only - go to specific tabs to edit data"]},mapManagement:{title:"Map Management",content:`
The Map Management page lets you place and configure map markers.

**Placing Markers:**
1. Click "Add Marker" or right-click on the map
2. Drag the marker to the desired position
3. Set marker properties (name, type, icon, visibility)
4. Click "Save" to persist changes

**Marker Properties:**
- **Type**: Booth, Parking, Food, Event, etc.
- **Icon & Color**: Visual appearance on map
- **Min/Max Zoom**: Control when marker appears based on zoom level
- **Rotation**: Adjust booth rectangle angle (booths only)
- **Lock**: Prevent accidental moves during event

**Tips:**
- Lock markers before event day to prevent accidental changes
- Use zoom visibility to keep map clean at different zoom levels
- Rectangles (6m x 6m) show booth outlines - only visible in admin view
    `.trim(),updated:"2025-11-21",tips:["Right-click on map for quick marker creation","Lock markers before going live to prevent accidents","Adjust min/max zoom to control marker visibility","Use rectangles to visualize booth layouts"]},companies:{title:"Companies Management",content:`
Manage exhibitor companies and their contact information.

**Adding Companies:**
1. Click "Add Company" button
2. Fill in company details (name, contact, phone, email)
3. Click "Save"

**Company Information:**
- **Company Name**: Primary identifier (must be unique)
- **Contact Person**: Main point of contact
- **Phone**: Contact phone number
- **Email**: Contact email address

**Editing Companies:**
- Click on any row to edit company details
- Changes save automatically
- Company data persists across event years

**Importing Companies:**
See the import section for bulk company uploads via CSV/Excel.
    `.trim(),updated:"2025-11-21",tips:["Company names must be unique","Contact info becomes default for new subscriptions","Use import feature for bulk company additions","Companies persist across years - no need to re-add"]},subscriptions:{title:"Event Subscriptions",content:`
Track which companies are participating in each event year.

**What is a Subscription?**
A subscription represents a company's participation in a specific event year, including:
- Booth allocation count
- Meal orders (breakfast, lunch, BBQ for Sat/Sun)
- Coin distribution
- Internal notes

**Creating Subscriptions:**
1. Select event year from dropdown
2. Click "Add Subscription"
3. Select company from list
4. Enter booth count and meal numbers
5. Save

**Importing Subscriptions:**
Use the import feature to bulk-upload subscription data from Excel/CSV.
See "Import Guide" for detailed instructions.

**Important:**
- Each company can only have one subscription per year
- Meal counts and coins are used for event planning
- Notes field is for internal use only (not visible to exhibitors)
    `.trim(),updated:"2025-11-21",tips:["One subscription per company per year","Import Excel file to save time on bulk data entry","Use notes field for internal tracking","Meal counts help with catering planning"]},assignments:{title:"Map Assignments",content:`
Link companies to their map locations (markers).

**What is an Assignment?**
An assignment connects a company's subscription to a specific map marker (booth location).

**Creating Assignments:**
1. Select event year
2. Click "Assign to Map"
3. Choose company subscription
4. Select map marker (booth location)
5. Save assignment

**Assignment Rules:**
- Company must have a subscription for that year
- Each marker can only be assigned to one company per year
- Assignments are year-specific (2025 assignments don't affect 2026)

**Viewing on Map:**
- Public map shows company name and logo at assigned marker
- Click marker to view company details
- Search function finds companies by name or booth number
    `.trim(),updated:"2025-11-21",tips:["Company needs subscription before assignment","One company per marker per year","Assignments appear immediately on public map","Use year selector to manage different event years"]},import:{title:"Data Import Guide",content:`
Import company and subscription data from Excel/CSV files.

**Prerequisites:**
1. You need a valid JWT authentication token
2. Prepare your Excel file with required columns
3. Company names in Excel must match database company names

**Getting Your JWT Token:**
1. Open browser DevTools (F12 or Right-click  Inspect)
2. Go to **Application** tab  **Local Storage**
3. Find \`supabase.auth.token\` key
4. Copy the \`access_token\` value (long string starting with "eyJ...")

**Running Import:**
\`\`\`bash
./run-import.sh 'YOUR_JWT_TOKEN_HERE'
\`\`\`

**Excel File Format:**
Required columns:
- **Bedrijfsnaam**: Company name (must match existing company)
- **Volledige naam**: Contact person
- **telefoon nr**: Phone number
- **e-mail**: Email address
- **Aantal kramen**: Booth count
- **Aantal munten**: Coins
- **Ontbijt za/zo**: Breakfast counts
- **Lunch za/zo**: Lunch counts
- **BBQ za**: BBQ count

**Troubleshooting:**
- "Company not found": Check company name spelling
- "JWT expired": Get a fresh token from DevTools
- "Column missing": Verify Excel file has all required columns

For detailed instructions, see \`IMPORT_README.md\` file.
    `.trim(),updated:"2025-11-21",tips:["JWT tokens expire - get fresh token if import fails","Company names must match exactly (case-insensitive)","Test with small file first","Backup data before large imports"]},settings:{title:"System Settings",content:`
Configure system-wide settings and preferences.

**Available Settings:**
- **Organization Profile**: Logo, name, branding
- **Map Defaults**: Default layers, zoom levels
- **User Management**: Admin roles and permissions
- **Marker Defaults**: Default icons, colors, sizes

**Organization Logo:**
Upload your organization logo to appear:
- On map cluster markers
- In admin dashboard header
- In public map branding

**User Roles:**
- **Super Admin**: Full access to all features
- **System Manager**: Dashboard + Map Management
- **Event Manager**: Dashboard + Companies + Subscriptions + Assignments

**Important:**
Only Super Admins can access settings. Changes affect all users.
    `.trim(),updated:"2025-11-21",tips:["Only Super Admins see this section","Test logo uploads in staging first","Changes affect all admin users","Keep user count to 5-10 for best performance"]},general:{title:"Getting Started",content:`
Welcome to the Event Map Admin Panel!

**Your Role Determines Access:**
- **Super Admin**: Full access to everything
- **System Manager**: Map editing and dashboard
- **Event Manager**: Company and subscription management

**Common Workflows:**

**1. Setting Up a New Event Year:**
- Add/update companies in Companies tab
- Import subscriptions for new year
- Assign companies to map locations

**2. Managing Map:**
- Place markers for booths, parking, facilities
- Adjust visibility by zoom level
- Lock markers before event goes live

**3. Day-of-Event:**
- Lock all markers to prevent accidents
- Monitor assignments in real-time
- Public map updates automatically

**Need Help?**
- Hover over (?) icons for quick tips
- Check "What's New" for recent changes
- Contact system administrator for access issues
    `.trim(),updated:"2025-11-21",tips:["Start with dashboard to understand current status","Use year selector to switch between events","Lock markers before going live","Import data saves time vs manual entry"]}};function uD(e){return Z1[e]||Z1.general}function cD(e){const n={"/admin":"dashboard","/admin/map":"mapManagement","/admin/companies":"companies","/admin/subscriptions":"subscriptions","/admin/assignments":"assignments","/admin/settings":"settings"}[e]||"general";return uD(n)}const hD=[{date:"2025-11-21",changes:[{text:"Added in-app help system with contextual guidance",type:"feature"},{text:"New tooltips on complex controls for easier navigation",type:"feature"},{text:"Created versioning strategy document for future releases",type:"improvement"}]},{date:"2025-11-15",changes:[{text:"Enhanced logo uploader with drag-and-drop support",type:"feature"},{text:"Improved import validation with better error messages",type:"improvement"},{text:"Fixed CSV import encoding issues",type:"fix"}]},{date:"2025-11-10",changes:[{text:"Added event subscriptions management tab",type:"feature"},{text:"New assignments tab for linking companies to map locations",type:"feature"},{text:"Improved marker drag performance on map",type:"improvement"}]},{date:"2025-11-05",changes:[{text:"Map marker rotation with interactive handles",type:"feature"},{text:"Role-based navigation (Super Admin, System Manager, Event Manager)",type:"feature"},{text:"Fixed marker popup display on mobile devices",type:"fix"}]},{date:"2025-11-01",changes:[{text:"Initial admin dashboard launch",type:"feature"},{text:"Companies management with CRUD operations",type:"feature"},{text:"Year selector for multi-year event management",type:"feature"}]}];function dD(e=5){return hD.slice(0,e)}function P2({isOpen:e,onClose:t}){const n=er(),{role:r}=io(),[a,o]=k.useState("current"),[u,h]=k.useState(""),d=cD(n.pathname),g=dD(5),y=x=>{const w={feature:"bg-green-100 text-green-800",fix:"bg-red-100 text-red-800",improvement:"bg-blue-100 text-blue-800"};return w[x]||w.improvement},v={super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager"};return e?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:t,"aria-hidden":"true"}),m.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[500px] bg-white shadow-2xl z-[9999] flex flex-col",role:"dialog","aria-label":"Help Panel","aria-modal":"true",children:[m.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Se,{path:eO,size:1.2,className:"text-blue-600"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Help & Guide"})]}),m.jsx("button",{onClick:t,className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":"Close help panel",children:m.jsx(Se,{path:ts,size:1,className:"text-gray-600"})})]}),r&&m.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200",children:m.jsxs("span",{className:"text-sm text-gray-600",children:["Your role: ",m.jsx("span",{className:"font-semibold text-blue-600",children:v[r]})]})}),m.jsxs("div",{className:"flex border-b border-gray-200 px-6 bg-white",children:[m.jsx("button",{onClick:()=>o("current"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${a==="current"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Current Page"}),m.jsx("button",{onClick:()=>o("whats-new"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${a==="whats-new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"What's New"}),m.jsx("button",{onClick:()=>o("quick-start"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${a==="quick-start"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Quick Start"})]}),a==="current"&&m.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:m.jsxs("div",{className:"relative",children:[m.jsx(Se,{path:no,size:.8,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search help content...",value:u,onChange:x=>h(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[a==="current"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:d.title}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",d.updated]})]}),m.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 text-left",children:m.jsx(rD,{components:{h1:({node:x,...w})=>m.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4 mb-2 text-left",...w}),h2:({node:x,...w})=>m.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-4 mb-2 text-left",...w}),h3:({node:x,...w})=>m.jsx("h3",{className:"text-base font-bold text-gray-900 mt-3 mb-2 text-left",...w}),h4:({node:x,...w})=>m.jsx("h4",{className:"text-sm font-semibold text-gray-900 mt-3 mb-2 text-left",...w}),p:({node:x,...w})=>m.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-left",...w}),ul:({node:x,...w})=>m.jsx("ul",{className:"list-disc list-outside mb-4 space-y-2 text-left ml-5",...w}),ol:({node:x,...w})=>m.jsx("ol",{className:"list-decimal list-outside mb-4 space-y-2 text-left ml-5",...w}),li:({node:x,...w})=>m.jsx("li",{className:"text-gray-700 text-left pl-2",...w}),code:({node:x,...w})=>m.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",...w}),a:({node:x,...w})=>m.jsx("a",{className:"text-blue-600 hover:text-blue-800 underline",...w})},children:d.content})}),d.tips&&d.tips.length>0&&m.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Se,{path:_O,size:.9,className:"text-amber-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Quick Tips"}),m.jsx("ul",{className:"space-y-1",children:d.tips.map((x,w)=>m.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[m.jsx(Se,{path:UC,size:.6,className:"flex-shrink-0 mt-0.5"}),m.jsx("span",{children:x})]},w))})]})]})})]}),a==="whats-new"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"What's New"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Recent updates and changes"})]}),m.jsx("div",{className:"space-y-4",children:g.map((x,w)=>m.jsxs("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(Se,{path:EO,size:.7,className:"text-blue-600"}),m.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(x.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),m.jsx("ul",{className:"space-y-2",children:x.changes.map((E,T)=>m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${y(E.type)}`,children:E.type}),m.jsx("span",{className:"text-sm text-gray-700 flex-1",children:E.text})]},T))})]},w))})]}),a==="quick-start"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Quick Start Guide"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Get started with the admin panel"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"1. Understand Your Role"}),m.jsxs("p",{className:"text-sm text-blue-800",children:["Your role (",v[r]||"Unknown",") determines which features you can access. Check the navigation menu to see available sections."]})]}),m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"2. Select Event Year"}),m.jsx("p",{className:"text-sm text-green-800",children:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific."})]}),m.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"3. Explore the Dashboard"}),m.jsx("p",{className:"text-sm text-purple-800",children:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data."})]}),m.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"4. Common Workflows"}),m.jsxs("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Add companies in the Companies tab"}),m.jsx("li",{children:"Import subscriptions via Excel/CSV"}),m.jsx("li",{children:"Assign companies to map locations"}),m.jsx("li",{children:"Lock markers before event day"})]})]}),m.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"5. Get Contextual Help"}),m.jsx("p",{className:"text-sm text-gray-700",children:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'})]})]})]})]}),m.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:m.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Need more help? Contact your system administrator"})})]})]}):null}P2.propTypes={isOpen:ke.bool.isRequired,onClose:ke.func.isRequired};function fD({selectedYear:e,setSelectedYear:t}){const n=er(),{role:r,loading:a,hasAnyRole:o}=io(),u=new Date().getFullYear(),h=Array.from({length:5},(T,N)=>u-2+N),[d,g]=k.useState(()=>localStorage.getItem("adminSidebarCollapsed")==="true"),[y,v]=k.useState(!1);k.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",d)},[d]);const x=async()=>{try{await xe.auth.signOut({scope:"local"})}catch(O){console.error("Logout error:",O)}const T="/Map",N=T.endsWith("/")?T:`${T}/`;window.location.href=`${N}#/admin`},E=[{path:"/admin",label:"Dashboard",icon:NO,roles:["super_admin","system_manager","event_manager"]},{path:"/admin/map",label:"Map Management",icon:$C,roles:["super_admin","system_manager"]},{path:"/admin/companies",label:"Companies",icon:dl,roles:["super_admin","event_manager"]},{path:"/admin/subscriptions",label:"Event Subscriptions",icon:nO,roles:["super_admin","event_manager"]},{path:"/admin/assignments",label:"Assignments",icon:SO,roles:["super_admin","event_manager"]},{path:"/admin/settings",label:"Settings",icon:HC,roles:["super_admin","system_manager","event_manager"]}].filter(T=>o(T.roles));return a?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"text-gray-600",children:"Loading..."})}):m.jsxs("div",{className:"flex h-screen bg-gray-100",children:[m.jsxs("aside",{className:`${d?"w-16":"w-64"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[m.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!d&&m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),r&&m.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:r.replace("_"," ")})]}),m.jsx("button",{onClick:()=>g(!d),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:d?"Expand sidebar":"Collapse sidebar",children:m.jsx(Se,{path:d?UC:rO,size:.9,className:"text-gray-600"})})]}),m.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:m.jsx("ul",{className:"space-y-1",children:E.map(T=>{const N=n.pathname===T.path;return m.jsx("li",{children:m.jsxs(hl,{to:T.path,className:`flex items-center gap-3 ${d?"justify-center px-3":"px-4"} py-3 rounded-lg transition-colors ${N?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,title:d?T.label:"",children:[m.jsx(Se,{path:T.icon,size:1}),!d&&m.jsx("span",{children:T.label})]})},T.path)})})}),m.jsx("div",{className:"p-2 border-t border-gray-200",children:d?m.jsx("div",{className:"flex justify-center px-3 py-3 text-gray-700 text-sm font-medium",title:`Event Year: ${e}`,children:e}):m.jsxs("div",{className:"px-2 py-3",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Event Year"}),m.jsx("select",{value:e,onChange:T=>t(parseInt(T.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 text-sm",children:h.map(T=>m.jsx("option",{value:T,children:T},T))})]})}),m.jsx("div",{className:"p-2 border-t border-gray-200",children:m.jsxs("button",{onClick:()=>v(!0),className:`flex items-center gap-3 ${d?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-blue-600 hover:bg-blue-50 transition-colors font-medium`,title:d?"Help":"",children:[m.jsx(Se,{path:pO,size:1}),!d&&m.jsx("span",{children:"Help"})]})}),m.jsx("div",{className:"p-2 border-t border-gray-200",children:m.jsxs("button",{onClick:x,className:`flex items-center gap-3 ${d?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-gray-700 hover:bg-gray-50 transition-colors`,title:d?"Logout":"",children:[m.jsx(Se,{path:wO,size:1}),!d&&m.jsx("span",{children:"Logout"})]})})]}),m.jsx("main",{className:"flex-1 overflow-y-auto",children:m.jsx("div",{className:"h-full p-4",children:m.jsx(_N,{})})}),m.jsx(P2,{isOpen:y,onClose:()=>v(!1)})]})}function Bc(e){const[t,n]=k.useState([]),[r,a]=k.useState(!0),[o,u]=k.useState(null),h=k.useCallback(async()=>{try{a(!0),u(null);const{data:E,error:T}=await xe.from("event_subscriptions").select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).eq("event_year",e).order("id",{ascending:!0});if(T)throw T;n(E||[])}catch(E){console.error("Error loading event subscriptions:",E),u(E.message)}finally{a(!1)}},[e]),d=async(E,T={})=>{try{const{data:{user:N}}=await xe.auth.getUser(),O=N?.email||"unknown",{data:P}=await xe.from("companies").select("contact, phone, email").eq("id",E).single(),{data:M}=await xe.from("Organization_Profile").select("default_breakfast_sat, default_lunch_sat, default_bbq_sat, default_breakfast_sun, default_lunch_sun").eq("id",1).single(),U=M?.default_breakfast_sat||0,H=M?.default_lunch_sat||0,I=M?.default_bbq_sat||0,F=M?.default_breakfast_sun||0,te=M?.default_lunch_sun||0,{data:G,error:re}=await xe.from("event_subscriptions").insert({company_id:E,event_year:e,contact:T.contact||P?.contact||"",phone:T.phone||P?.phone||"",email:T.email||P?.email||"",booth_count:T.booth_count||1,area:T.area||"",breakfast_sat:T.breakfast_sat??U,lunch_sat:T.lunch_sat??H,bbq_sat:T.bbq_sat??I,breakfast_sun:T.breakfast_sun??F,lunch_sun:T.lunch_sun??te,coins:T.coins||0,notes:T.notes||"",created_by:O}).select().single();if(re)throw re;return await h(),{data:G,error:null}}catch(N){return console.error("Error subscribing company:",N),{data:null,error:N.message}}},g=async(E,T)=>{try{const{data:N,error:O}=await xe.from("event_subscriptions").update(T).eq("id",E).select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).single();if(O)throw O;return await h(),{data:N,error:null}}catch(N){return console.error("Error updating subscription:",N),{data:null,error:N.message}}},y=async E=>{try{const{data:T,error:N}=await xe.from("event_subscriptions").select("company_id, event_year").eq("id",E).single();if(N)throw N;const{error:O}=await xe.from("assignments").delete().eq("company_id",T.company_id).eq("event_year",T.event_year);if(O)throw O;const{error:P}=await xe.from("event_subscriptions").delete().eq("id",E);if(P)throw P;return await h(),{error:null}}catch(T){return console.error("Error unsubscribing company:",T),{error:T.message}}},v=async()=>{try{const{data:{user:E}}=await xe.auth.getUser(),T=E?.email||"unknown",{data:N,error:O}=await xe.rpc("archive_event_subscriptions",{year_to_archive:e,archived_by_user:T});if(O)throw O;return await h(),{data:N,error:null}}catch(E){return console.error("Error archiving subscriptions:",E),{data:null,error:E.message}}},x=async E=>{try{const{data:T,error:N}=await xe.from("event_subscriptions_archive").select("*").eq("event_year",E).order("archived_at",{ascending:!1});if(N)throw N;return{data:T,error:null}}catch(T){return console.error("Error loading archived subscriptions:",T),{data:null,error:T.message}}},w=async E=>{try{const{data:{user:T}}=await xe.auth.getUser(),N=T?.email||"unknown",{data:O,error:P}=await xe.from("event_subscriptions").select("*").eq("event_year",E);if(P)throw P;if(!O||O.length===0)return{data:null,error:"No subscriptions found for source year"};const M=O.map(I=>({company_id:I.company_id,event_year:e,contact:I.contact,phone:I.phone,email:I.email,booth_count:I.booth_count,area:I.area,breakfast_sat:I.breakfast_sat,lunch_sat:I.lunch_sat,bbq_sat:I.bbq_sat,breakfast_sun:I.breakfast_sun,lunch_sun:I.lunch_sun,coins:I.coins,notes:I.notes,created_by:N})),{data:U,error:H}=await xe.from("event_subscriptions").insert(M).select();if(H)throw H;return await h(),{data:U,error:null}}catch(T){return console.error("Error copying subscriptions from previous year:",T),{data:null,error:T.message}}};return k.useEffect(()=>{h()},[h]),k.useEffect(()=>{const E=xe.channel("event-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},()=>{h()}).subscribe();return()=>{xe.removeChannel(E)}},[e,h]),{subscriptions:t,loading:r,error:o,subscribeCompany:d,updateSubscription:g,unsubscribeCompany:y,archiveCurrentYear:v,loadArchivedSubscriptions:x,copyFromPreviousYear:w,reload:h}}function pD({selectedYear:e}){const{subscriptions:t,loading:n}=Bc(e),[r,a]=k.useState({markers:null,companies:null,assignments:null}),[o,u]=k.useState(!0);k.useEffect(()=>{async function y(){u(!0);try{const[v,x,w]=await Promise.all([xe.from("Markers_Core").select("id",{count:"exact",head:!0}).gt("id",0),xe.from("companies").select("id",{count:"exact",head:!0}),xe.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",e)]);a({markers:v.count??0,companies:x.count??0,assignments:w.count??0})}catch(v){console.error("Error fetching dashboard counts:",v)}finally{u(!1)}}y()},[e]);const h=k.useMemo(()=>t.reduce((y,v)=>({breakfast_sat:y.breakfast_sat+(v.breakfast_sat||0),lunch_sat:y.lunch_sat+(v.lunch_sat||0),bbq_sat:y.bbq_sat+(v.bbq_sat||0),breakfast_sun:y.breakfast_sun+(v.breakfast_sun||0),lunch_sun:y.lunch_sun+(v.lunch_sun||0),coins:y.coins+(v.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[t]),d=[{label:"Total Markers",value:o?"...":r.markers?.toString()??"-",icon:pf,color:"blue"},{label:"Companies",value:o?"...":r.companies?.toString()??"-",icon:dl,color:"green"},{label:`${e} Subscriptions`,value:n?"...":t.length.toString(),icon:tO,color:"orange"},{label:`${e} Assignments`,value:o?"...":r.assignments?.toString()??"-",icon:aO,color:"purple"}],g={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return m.jsxs("div",{children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map(y=>m.jsx("div",{className:`p-6 rounded-lg border-2 ${g[y.color]}`,children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Se,{path:y.icon,size:2}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-bold",children:y.value}),m.jsx("div",{className:"text-sm font-medium mt-1",children:y.label})]})]})},y.label))}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[e," Event Totals",n&&m.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"Loading..."})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Saturday"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:i1,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:h.breakfast_sat}),m.jsx("div",{className:"text-sm font-medium",children:"Breakfast"})]})]})}),m.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:r1,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:h.lunch_sat}),m.jsx("div",{className:"text-sm font-medium",children:"Lunch"})]})]})}),m.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:s1,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:h.bbq_sat}),m.jsx("div",{className:"text-sm font-medium",children:"BBQ"})]})]})})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Sunday"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:i1,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:h.breakfast_sun}),m.jsx("div",{className:"text-sm font-medium",children:"Breakfast"})]})]})}),m.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:r1,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:h.lunch_sun}),m.jsx("div",{className:"text-sm font-medium",children:"Lunch"})]})]})}),m.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:s1,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:"-"}),m.jsx("div",{className:"text-sm font-medium",children:"No BBQ"})]})]})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Coins"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:m.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Se,{path:sO,size:1.5}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold",children:h.coins}),m.jsx("div",{className:"text-sm font-medium",children:"Total Coins"})]})]})})})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs(hl,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[m.jsx("div",{className:"font-semibold text-gray-900",children:"Add New Company"}),m.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Register a new company in the system"})]}),m.jsxs(hl,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[m.jsx("div",{className:"font-semibold text-gray-900",children:"Manage Subscriptions"}),m.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Add or update event subscriptions"})]}),m.jsxs(hl,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[m.jsx("div",{className:"font-semibold text-gray-900",children:"Assign Booths"}),m.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Manage booth assignments for companies"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Activity"}),m.jsx("p",{className:"text-gray-600",children:"Activity tracking will be added in a future update."})]})]})}function sv({requiredRole:e,children:t,message:n}){const{role:r,loading:a,hasRole:o,hasAnyRole:u}=io();return a?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(Array.isArray(e)?u(e):o(e))?m.jsx(m.Fragment,{children:t}):m.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg border-2 border-gray-200",children:[m.jsx(Se,{path:xO,size:3,className:"text-gray-400 mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Access Restricted"}),m.jsx("p",{className:"text-gray-600 text-center max-w-md",children:n||"You do not have permission to view this section. Contact your administrator if you need access."}),r&&m.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Your role: ",m.jsx("span",{className:"font-semibold",children:r.replace("_"," ")})]})]})}sv.propTypes={requiredRole:ke.oneOfType([ke.string,ke.arrayOf(ke.string)]).isRequired,children:ke.node.isRequired,message:ke.string};sv.defaultProps={message:null};function bl(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Sl();return e.startsWith("/assets/icons/")?`${t}${e.slice(1)}`:e.startsWith("icons/")?`${t}assets/icons/${e.slice(6)}`:`${t}assets/icons/${e}`}const mD=["glyph-marker-icon-black.svg","glyph-marker-icon-blue.svg","glyph-marker-icon-gray.svg","glyph-marker-icon-green.svg","glyph-marker-icon-orange.svg","glyph-marker-icon-purple.svg","glyph-marker-icon-red.svg","glyph-marker-icon-yellow.svg"];function R2(e,t){const n=k.useRef(t);k.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const gD=1;function yD(e){return Object.freeze({__version:gD,map:e})}function vD(e,t){return Object.freeze({...e,...t})}const av=k.createContext(null);function bf(){const e=k.use(av);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function D2(e){function t(n,r){const{instance:a,context:o}=e(n).current;k.useImperativeHandle(r,()=>a);const{children:u}=n;return u==null?null:gi.createElement(av,{value:o},u)}return k.forwardRef(t)}function _D(e){function t(n,r){const[a,o]=k.useState(!1),{instance:u}=e(n,o).current;k.useImperativeHandle(r,()=>u),k.useEffect(function(){a&&u.update()},[u,a,n.children]);const h=u._contentNode;return h?AC.createPortal(n.children,h):null}return k.forwardRef(t)}function bD(e){function t(n,r){const{instance:a}=e(n).current;return k.useImperativeHandle(r,()=>a),null}return k.forwardRef(t)}function ov(e,t){const n=k.useRef(void 0);k.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function xf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function xD(e,t){return function(r,a){const o=bf(),u=e(xf(r,o),o);return R2(o.map,r.attribution),ov(u.current,r.eventHandlers),t(u.current,o,r,a),u}}var Yu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var wD=Yu.exports,G1;function lv(){return G1||(G1=1,(function(e,t){(function(n,r){r(t)})(wD,(function(n){var r="1.9.4";function a(l){var f,_,C,j;for(_=1,C=arguments.length;_<C;_++){j=arguments[_];for(f in j)l[f]=j[f]}return l}var o=Object.create||(function(){function l(){}return function(f){return l.prototype=f,new l}})();function u(l,f){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var C=_.call(arguments,2);return function(){return l.apply(f,C.length?C.concat(_.call(arguments)):arguments)}}var h=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++h),l._leaflet_id}function g(l,f,_){var C,j,D,$;return $=function(){C=!1,j&&(D.apply(_,j),j=!1)},D=function(){C?j=arguments:(l.apply(_,arguments),setTimeout($,f),C=!0)},D}function y(l,f,_){var C=f[1],j=f[0],D=C-j;return l===C&&_?l:((l-j)%D+D)%D+j}function v(){return!1}function x(l,f){if(f===!1)return l;var _=Math.pow(10,f===void 0?6:f);return Math.round(l*_)/_}function w(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function E(l){return w(l).split(/\s+/)}function T(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var _ in f)l.options[_]=f[_];return l.options}function N(l,f,_){var C=[];for(var j in l)C.push(encodeURIComponent(_?j.toUpperCase():j)+"="+encodeURIComponent(l[j]));return(!f||f.indexOf("?")===-1?"?":"&")+C.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function P(l,f){return l.replace(O,function(_,C){var j=f[C];if(j===void 0)throw new Error("No value provided for variable "+_);return typeof j=="function"&&(j=j(f)),j})}var M=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function U(l,f){for(var _=0;_<l.length;_++)if(l[_]===f)return _;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var F=0;function te(l){var f=+new Date,_=Math.max(0,16-(f-F));return F=f+_,window.setTimeout(l,_)}var G=window.requestAnimationFrame||I("RequestAnimationFrame")||te,re=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function K(l,f,_){if(_&&G===te)l.call(f);else return G.call(window,u(l,f))}function Q(l){l&&re.call(window,l)}var ae={__proto__:null,extend:a,create:o,bind:u,get lastId(){return h},stamp:d,throttle:g,wrapNum:y,falseFn:v,formatNum:x,trim:w,splitWords:E,setOptions:T,getParamString:N,template:P,isArray:M,indexOf:U,emptyImageUrl:H,requestFn:G,cancelFn:re,requestAnimFrame:K,cancelAnimFrame:Q};function se(){}se.extend=function(l){var f=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=f.__super__=this.prototype,C=o(_);C.constructor=f,f.prototype=C;for(var j in this)Object.prototype.hasOwnProperty.call(this,j)&&j!=="prototype"&&j!=="__super__"&&(f[j]=this[j]);return l.statics&&a(f,l.statics),l.includes&&(de(l.includes),a.apply(null,[C].concat(l.includes))),a(C,l),delete C.statics,delete C.includes,C.options&&(C.options=_.options?o(_.options):{},a(C.options,l.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,$=C._initHooks.length;D<$;D++)C._initHooks[D].call(this)}},f},se.include=function(l){var f=this.prototype.options;return a(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},se.mergeOptions=function(l){return a(this.prototype.options,l),this},se.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function de(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=M(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(l,f,_){if(typeof l=="object")for(var C in l)this._on(C,l[C],f);else{l=E(l);for(var j=0,D=l.length;j<D;j++)this._on(l[j],f,_)}return this},off:function(l,f,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var C in l)this._off(C,l[C],f);else{l=E(l);for(var j=arguments.length===1,D=0,$=l.length;D<$;D++)j?this._off(l[D]):this._off(l[D],f,_)}return this},_on:function(l,f,_,C){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,_)===!1){_===this&&(_=void 0);var j={fn:f,ctx:_};C&&(j.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(j)}},_off:function(l,f,_){var C,j,D;if(this._events&&(C=this._events[l],!!C)){if(arguments.length===1){if(this._firingCount)for(j=0,D=C.length;j<D;j++)C[j].fn=v;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var $=this._listens(l,f,_);if($!==!1){var ie=C[$];this._firingCount&&(ie.fn=v,this._events[l]=C=C.slice()),C.splice($,1)}}},fire:function(l,f,_){if(!this.listens(l,_))return this;var C=a({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var j=this._events[l];if(j){this._firingCount=this._firingCount+1||1;for(var D=0,$=j.length;D<$;D++){var ie=j[D],ce=ie.fn;ie.once&&this.off(l,ce,ie.ctx),ce.call(ie.ctx||this,C)}this._firingCount--}}return _&&this._propagateEvent(C),this},listens:function(l,f,_,C){typeof l!="string"&&console.warn('"string" type argument expected');var j=f;typeof f!="function"&&(C=!!f,j=void 0,_=void 0);var D=this._events&&this._events[l];if(D&&D.length&&this._listens(l,j,_)!==!1)return!0;if(C){for(var $ in this._eventParents)if(this._eventParents[$].listens(l,f,_,C))return!0}return!1},_listens:function(l,f,_){if(!this._events)return!1;var C=this._events[l]||[];if(!f)return!!C.length;_===this&&(_=void 0);for(var j=0,D=C.length;j<D;j++)if(C[j].fn===f&&C[j].ctx===_)return j;return!1},once:function(l,f,_){if(typeof l=="object")for(var C in l)this._on(C,l[C],f,!0);else{l=E(l);for(var j=0,D=l.length;j<D;j++)this._on(l[j],f,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,a({layer:l.target,propagatedFrom:l.target},l),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var ee=se.extend(q);function Y(l,f,_){this.x=_?Math.round(l):l,this.y=_?Math.round(f):f}var we=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(l){return this.clone()._add(R(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(R(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new Y(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new Y(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=we(this.x),this.y=we(this.y),this},distanceTo:function(l){l=R(l);var f=l.x-this.x,_=l.y-this.y;return Math.sqrt(f*f+_*_)},equals:function(l){return l=R(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=R(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function R(l,f,_){return l instanceof Y?l:M(l)?new Y(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new Y(l.x,l.y):new Y(l,f,_)}function V(l,f){if(l)for(var _=f?[l,f]:l,C=0,j=_.length;C<j;C++)this.extend(_[C])}V.prototype={extend:function(l){var f,_;if(!l)return this;if(l instanceof Y||typeof l[0]=="number"||"x"in l)f=_=R(l);else if(l=X(l),f=l.min,_=l.max,!f||!_)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=_.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,_;return typeof l[0]=="number"||l instanceof Y?l=R(l):l=X(l),l instanceof V?(f=l.min,_=l.max):f=_=l,f.x>=this.min.x&&_.x<=this.max.x&&f.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=X(l);var f=this.min,_=this.max,C=l.min,j=l.max,D=j.x>=f.x&&C.x<=_.x,$=j.y>=f.y&&C.y<=_.y;return D&&$},overlaps:function(l){l=X(l);var f=this.min,_=this.max,C=l.min,j=l.max,D=j.x>f.x&&C.x<_.x,$=j.y>f.y&&C.y<_.y;return D&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,_=this.max,C=Math.abs(f.x-_.x)*l,j=Math.abs(f.y-_.y)*l;return X(R(f.x-C,f.y-j),R(_.x+C,_.y+j))},equals:function(l){return l?(l=X(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function X(l,f){return!l||l instanceof V?l:new V(l,f)}function z(l,f){if(l)for(var _=f?[l,f]:l,C=0,j=_.length;C<j;C++)this.extend(_[C])}z.prototype={extend:function(l){var f=this._southWest,_=this._northEast,C,j;if(l instanceof oe)C=l,j=l;else if(l instanceof z){if(C=l._southWest,j=l._northEast,!C||!j)return this}else return l?this.extend(fe(l)||W(l)):this;return!f&&!_?(this._southWest=new oe(C.lat,C.lng),this._northEast=new oe(j.lat,j.lng)):(f.lat=Math.min(C.lat,f.lat),f.lng=Math.min(C.lng,f.lng),_.lat=Math.max(j.lat,_.lat),_.lng=Math.max(j.lng,_.lng)),this},pad:function(l){var f=this._southWest,_=this._northEast,C=Math.abs(f.lat-_.lat)*l,j=Math.abs(f.lng-_.lng)*l;return new z(new oe(f.lat-C,f.lng-j),new oe(_.lat+C,_.lng+j))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof oe||"lat"in l?l=fe(l):l=W(l);var f=this._southWest,_=this._northEast,C,j;return l instanceof z?(C=l.getSouthWest(),j=l.getNorthEast()):C=j=l,C.lat>=f.lat&&j.lat<=_.lat&&C.lng>=f.lng&&j.lng<=_.lng},intersects:function(l){l=W(l);var f=this._southWest,_=this._northEast,C=l.getSouthWest(),j=l.getNorthEast(),D=j.lat>=f.lat&&C.lat<=_.lat,$=j.lng>=f.lng&&C.lng<=_.lng;return D&&$},overlaps:function(l){l=W(l);var f=this._southWest,_=this._northEast,C=l.getSouthWest(),j=l.getNorthEast(),D=j.lat>f.lat&&C.lat<_.lat,$=j.lng>f.lng&&C.lng<_.lng;return D&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=W(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(l,f){return l instanceof z?l:new z(l,f)}function oe(l,f,_){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,_!==void 0&&(this.alt=+_)}oe.prototype={equals:function(l,f){if(!l)return!1;l=fe(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+x(this.lat,l)+", "+x(this.lng,l)+")"},distanceTo:function(l){return Re.distance(this,fe(l))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,_=f/Math.cos(Math.PI/180*this.lat);return W([this.lat-f,this.lng-_],[this.lat+f,this.lng+_])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function fe(l,f,_){return l instanceof oe?l:M(l)&&typeof l[0]!="object"?l.length===3?new oe(l[0],l[1],l[2]):l.length===2?new oe(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new oe(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new oe(l,f,_)}var Ce={latLngToPoint:function(l,f){var _=this.projection.project(l),C=this.scale(f);return this.transformation._transform(_,C)},pointToLatLng:function(l,f){var _=this.scale(f),C=this.transformation.untransform(l,_);return this.projection.unproject(C)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,_=this.scale(l),C=this.transformation.transform(f.min,_),j=this.transformation.transform(f.max,_);return new V(C,j)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?y(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?y(l.lat,this.wrapLat,!0):l.lat,C=l.alt;return new oe(_,f,C)},wrapLatLngBounds:function(l){var f=l.getCenter(),_=this.wrapLatLng(f),C=f.lat-_.lat,j=f.lng-_.lng;if(C===0&&j===0)return l;var D=l.getSouthWest(),$=l.getNorthEast(),ie=new oe(D.lat-C,D.lng-j),ce=new oe($.lat-C,$.lng-j);return new z(ie,ce)}},Re=a({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var _=Math.PI/180,C=l.lat*_,j=f.lat*_,D=Math.sin((f.lat-l.lat)*_/2),$=Math.sin((f.lng-l.lng)*_/2),ie=D*D+Math.cos(C)*Math.cos(j)*$*$,ce=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*ce}}),ve=6378137,Le={R:ve,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,_=this.MAX_LATITUDE,C=Math.max(Math.min(_,l.lat),-_),j=Math.sin(C*f);return new Y(this.R*l.lng*f,this.R*Math.log((1+j)/(1-j))/2)},unproject:function(l){var f=180/Math.PI;return new oe((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:(function(){var l=ve*Math.PI;return new V([-l,-l],[l,l])})()};function Ve(l,f,_,C){if(M(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=_,this._d=C}Ve.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new Y((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function De(l,f,_,C){return new Ve(l,f,_,C)}var He=a({},Re,{code:"EPSG:3857",projection:Le,transformation:(function(){var l=.5/(Math.PI*Le.R);return De(l,.5,-l,.5)})()}),gt=a({},He,{code:"EPSG:900913"});function Rt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ei(l,f){var _="",C,j,D,$,ie,ce;for(C=0,D=l.length;C<D;C++){for(ie=l[C],j=0,$=ie.length;j<$;j++)ce=ie[j],_+=(j?"L":"M")+ce.x+" "+ce.y;_+=f?Oe.svg?"z":"x":""}return _||"M0 0"}var Pi=document.documentElement.style,Ri="ActiveXObject"in window,rs=Ri&&!document.addEventListener,Er="msLaunchUri"in navigator&&!("documentMode"in document),Tr=zn("webkit"),so=zn("android"),ao=zn("android 2")||zn("android 3"),gn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rl=so&&zn("Google")&&gn<537&&!("AudioNode"in window),ge=!!window.opera,Te=!Er&&zn("chrome"),Ie=zn("gecko")&&!Tr&&!ge&&!Ri,et=!Te&&zn("safari"),lt=zn("phantom"),Sn="OTransition"in Pi,Di=navigator.platform.indexOf("Win")===0,cn=Ri&&"transition"in Pi,Dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ao,yn="MozPerspective"in Pi,yt=!window.L_DISABLE_3D&&(cn||Dt||yn)&&!Sn&&!lt,Dn=typeof orientation<"u"||zn("mobile"),ti=Dn&&Tr,Mf=Dn&&Dt,ea=!window.PointerEvent&&window.MSPointerEvent,ta=!!(window.PointerEvent||ea),na="ontouchstart"in window||!!window.TouchEvent,jr=!window.L_NO_TOUCH&&(na||ta),oo=Dn&&ge,ia=Dn&&Ie,Of=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fc=(function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",v,f),window.removeEventListener("testPassiveEventSupport",v,f)}catch{}return l})(),Dl=(function(){return!!document.createElement("canvas").getContext})(),Lr=!!(document.createElementNS&&Rt("svg").createSVGRect),Pf=!!Lr&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),qc=!Lr&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),$c=navigator.platform.indexOf("Mac")===0,Zc=navigator.platform.indexOf("Linux")===0;function zn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Oe={ie:Ri,ielt9:rs,edge:Er,webkit:Tr,android:so,android23:ao,androidStock:Rl,opera:ge,chrome:Te,gecko:Ie,safari:et,phantom:lt,opera12:Sn,win:Di,ie3d:cn,webkit3d:Dt,gecko3d:yn,any3d:yt,mobile:Dn,mobileWebkit:ti,mobileWebkit3d:Mf,msPointer:ea,pointer:ta,touch:jr,touchNative:na,mobileOpera:oo,mobileGecko:ia,retina:Of,passiveEvents:Fc,canvas:Dl,svg:Lr,vml:qc,inlineSvg:Pf,mac:$c,linux:Zc},zl=Oe.msPointer?"MSPointerDown":"pointerdown",Bl=Oe.msPointer?"MSPointerMove":"pointermove",zi=Oe.msPointer?"MSPointerUp":"pointerup",Wt=Oe.msPointer?"MSPointerCancel":"pointercancel",hn={touchstart:zl,touchmove:Bl,touchend:zi,touchcancel:Wt},kr={touchstart:as,touchmove:nr,touchend:nr,touchcancel:nr},tr={},Gc=!1;function Rf(l,f,_){return f==="touchstart"&&ss(),kr[f]?(_=kr[f].bind(this,_),l.addEventListener(hn[f],_,!1),_):(console.warn("wrong event specified:",f),v)}function Kc(l,f,_){if(!hn[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(hn[f],_,!1)}function ra(l){tr[l.pointerId]=l}function Il(l){tr[l.pointerId]&&(tr[l.pointerId]=l)}function Ar(l){delete tr[l.pointerId]}function ss(){Gc||(document.addEventListener(zl,ra,!0),document.addEventListener(Bl,Il,!0),document.addEventListener(zi,Ar,!0),document.addEventListener(Wt,Ar,!0),Gc=!0)}function nr(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var _ in tr)f.touches.push(tr[_]);f.changedTouches=[f],l(f)}}function as(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Vt(f),nr(l,f)}function Yt(l){var f={},_,C;for(C in l)_=l[C],f[C]=_&&_.bind?_.bind(l):_;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Wc=200;function Yc(l,f){l.addEventListener("dblclick",f);var _=0,C;function j(D){if(D.detail!==1){C=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var $=ha(D);if(!($.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!$.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ie=Date.now();ie-_<=Wc?(C++,C===2&&f(Yt(D))):C=1,_=ie}}}return l.addEventListener("click",j),{dblclick:f,simDblclick:j}}function Nr(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var ir=oa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sa=oa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ul=sa==="webkitTransition"||sa==="OTransition"?sa+"End":"transitionend";function Vl(l){return typeof l=="string"?document.getElementById(l):l}function aa(l,f){var _=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!_||_==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(l,null);_=C?C[f]:null}return _==="auto"?null:_}function tt(l,f,_){var C=document.createElement(l);return C.className=f||"",_&&_.appendChild(C),C}function bt(l){var f=l.parentNode;f&&f.removeChild(l)}function Bn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function sn(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function Mr(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function Hl(l,f){if(l.classList!==void 0)return l.classList.contains(f);var _=lo(l);return _.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(_)}function Ge(l,f){if(l.classList!==void 0)for(var _=E(f),C=0,j=_.length;C<j;C++)l.classList.add(_[C]);else if(!Hl(l,f)){var D=lo(l);os(l,(D?D+" ":"")+f)}}function Nt(l,f){l.classList!==void 0?l.classList.remove(f):os(l,w((" "+lo(l)+" ").replace(" "+f+" "," ")))}function os(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function lo(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function kt(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&Fl(l,f)}function Fl(l,f){var _=!1,C="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(C)}catch{if(f===1)return}f=Math.round(f*100),_?(_.Enabled=f!==100,_.Opacity=f):l.style.filter+=" progid:"+C+"(opacity="+f+")"}function oa(l){for(var f=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in f)return l[_];return!1}function Bi(l,f,_){var C=f||new Y(0,0);l.style[ir]=(Oe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(_?" scale("+_+")":"")}function Ct(l,f){l._leaflet_pos=f,Oe.any3d?Bi(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function rr(l){return l._leaflet_pos||new Y(0,0)}var ls,yi,ql;if("onselectstart"in document)ls=function(){Fe(window,"selectstart",Vt)},yi=function(){mt(window,"selectstart",Vt)};else{var us=oa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ls=function(){if(us){var l=document.documentElement.style;ql=l[us],l[us]="none"}},yi=function(){us&&(document.documentElement.style[us]=ql,ql=void 0)}}function uo(){Fe(window,"dragstart",Vt)}function la(){mt(window,"dragstart",Vt)}var co,$l;function cs(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(In(),co=l,$l=l.style.outlineStyle,l.style.outlineStyle="none",Fe(window,"keydown",In))}function In(){co&&(co.style.outlineStyle=$l,co=void 0,$l=void 0,mt(window,"keydown",In))}function ho(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function ua(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var hs={__proto__:null,TRANSFORM:ir,TRANSITION:sa,TRANSITION_END:Ul,get:Vl,getStyle:aa,create:tt,remove:bt,empty:Bn,toFront:sn,toBack:Mr,hasClass:Hl,addClass:Ge,removeClass:Nt,setClass:os,getClass:lo,setOpacity:kt,testProp:oa,setTransform:Bi,setPosition:Ct,getPosition:rr,get disableTextSelection(){return ls},get enableTextSelection(){return yi},disableImageDrag:uo,enableImageDrag:la,preventOutline:cs,restoreOutline:In,getSizedParentNode:ho,getScale:ua};function Fe(l,f,_,C){if(f&&typeof f=="object")for(var j in f)ii(l,j,f[j],_);else{f=E(f);for(var D=0,$=f.length;D<$;D++)ii(l,f[D],_,C)}return this}var ni="_leaflet_events";function mt(l,f,_,C){if(arguments.length===1)Zl(l),delete l[ni];else if(f&&typeof f=="object")for(var j in f)ca(l,j,f[j],_);else if(f=E(f),arguments.length===2)Zl(l,function(ie){return U(f,ie)!==-1});else for(var D=0,$=f.length;D<$;D++)ca(l,f[D],_,C);return this}function Zl(l,f){for(var _ in l[ni]){var C=_.split(/\d/)[0];(!f||f(C))&&ca(l,C,null,null,_)}}var Or={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ii(l,f,_,C){var j=f+d(_)+(C?"_"+d(C):"");if(l[ni]&&l[ni][j])return this;var D=function(ie){return _.call(C||l,ie||window.event)},$=D;!Oe.touchNative&&Oe.pointer&&f.indexOf("touch")===0?D=Rf(l,f,D):Oe.touch&&f==="dblclick"?D=Yc(l,D):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Or[f]||f,D,Oe.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(D=function(ie){ie=ie||window.event,Ii(l,ie)&&$(ie)},l.addEventListener(Or[f],D,!1)):l.addEventListener(f,$,!1):l.attachEvent("on"+f,D),l[ni]=l[ni]||{},l[ni][j]=D}function ca(l,f,_,C,j){j=j||f+d(_)+(C?"_"+d(C):"");var D=l[ni]&&l[ni][j];if(!D)return this;!Oe.touchNative&&Oe.pointer&&f.indexOf("touch")===0?Kc(l,f,D):Oe.touch&&f==="dblclick"?Nr(l,D):"removeEventListener"in l?l.removeEventListener(Or[f]||f,D,!1):l.detachEvent("on"+f,D),l[ni][j]=null}function ri(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function vi(l){return ii(l,"wheel",ri),this}function Pr(l){return Fe(l,"mousedown touchstart dblclick contextmenu",ri),l._leaflet_disable_click=!0,this}function Vt(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function sr(l){return Vt(l),ri(l),this}function ha(l){if(l.composedPath)return l.composedPath();for(var f=[],_=l.target;_;)f.push(_),_=_.parentNode;return f}function da(l,f){if(!f)return new Y(l.clientX,l.clientY);var _=ua(f),C=_.boundingClientRect;return new Y((l.clientX-C.left)/_.x-f.clientLeft,(l.clientY-C.top)/_.y-f.clientTop)}var Xc=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vn(l){return Oe.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Xc:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Ii(l,f){var _=f.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var fo={__proto__:null,on:Fe,off:mt,stopPropagation:ri,disableScrollPropagation:vi,disableClickPropagation:Pr,preventDefault:Vt,stop:sr,getPropagationPath:ha,getMousePosition:da,getWheelDelta:vn,isExternalTarget:Ii,addListener:Fe,removeListener:mt},ds=ee.extend({run:function(l,f,_,C){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=rr(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,_=this._duration*1e3;f<_?this._runFrame(this._easeOut(f/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var _=this._startPos.add(this._offset.multiplyBy(l));f&&_._round(),Ct(this._el,_),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),st=ee.extend({options:{crs:He,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=T(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(fe(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sa&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,Ul,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,_){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(fe(l),f,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=a({animate:_.animate},_.zoom),_.pan=a({animate:_.animate,duration:_.duration},_.pan));var C=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,_.zoom):this._tryAnimatedPan(l,_.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,_){var C=this.getZoomScale(f),j=this.getSize().divideBy(2),D=l instanceof Y?l:this.latLngToContainerPoint(l),$=D.subtract(j).multiplyBy(1-1/C),ie=this.containerPointToLatLng(j.add($));return this.setView(ie,f,{zoom:_})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():W(l);var _=R(f.paddingTopLeft||f.padding||[0,0]),C=R(f.paddingBottomRight||f.padding||[0,0]),j=this.getBoundsZoom(l,!1,_.add(C));if(j=typeof f.maxZoom=="number"?Math.min(f.maxZoom,j):j,j===1/0)return{center:l.getCenter(),zoom:j};var D=C.subtract(_).divideBy(2),$=this.project(l.getSouthWest(),j),ie=this.project(l.getNorthEast(),j),ce=this.unproject($.add(ie).divideBy(2).add(D),j);return{center:ce,zoom:j}},fitBounds:function(l,f){if(l=W(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,f);return this.setView(_.center,_.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=R(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ds,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Ge(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,_){if(_=_||{},_.animate===!1||!Oe.any3d)return this.setView(l,f,_);this._stop();var C=this.project(this.getCenter()),j=this.project(l),D=this.getSize(),$=this._zoom;l=fe(l),f=f===void 0?$:f;var ie=Math.max(D.x,D.y),ce=ie*this.getZoomScale($,f),_e=j.distanceTo(C)||1,je=1.42,Pe=je*je;function Xe(zt){var Fi=zt?-1:1,Br=zt?ce:ie,ou=ce*ce-ie*ie+Fi*Pe*Pe*_e*_e,La=2*Br*Pe*_e,ka=ou/La,pr=Math.sqrt(ka*ka+1)-ka,qi=pr<1e-9?-18:Math.log(pr);return qi}function an(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function Ht(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function Mn(zt){return an(zt)/Ht(zt)}var ut=Xe(0);function ct(zt){return ie*(Ht(ut)/Ht(ut+je*zt))}function nt(zt){return ie*(Ht(ut)*Mn(ut+je*zt)-an(ut))/Pe}function dr(zt){return 1-Math.pow(1-zt,1.5)}var Fn=Date.now(),jo=(Xe(1)-ut)/je,fr=_.duration?1e3*_.duration:1e3*jo*.8;function au(){var zt=(Date.now()-Fn)/fr,Fi=dr(zt)*jo;zt<=1?(this._flyToFrame=K(au,this),this._move(this.unproject(C.add(j.subtract(C).multiplyBy(nt(Fi)/_e)),$),this.getScaleZoom(ie/ct(Fi),$),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),au.call(this),this},flyToBounds:function(l,f){var _=this._getBoundsCenterZoom(l,f);return this.flyTo(_.center,_.zoom,f)},setMaxBounds:function(l){return l=W(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var _=this.getCenter(),C=this._limitCenter(_,this._zoom,W(l));return _.equals(C)||this.panTo(C,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var _=R(f.paddingTopLeft||f.padding||[0,0]),C=R(f.paddingBottomRight||f.padding||[0,0]),j=this.project(this.getCenter()),D=this.project(l),$=this.getPixelBounds(),ie=X([$.min.add(_),$.max.subtract(C)]),ce=ie.getSize();if(!ie.contains(D)){this._enforcingBounds=!0;var _e=D.subtract(ie.getCenter()),je=ie.extend(D).getSize().subtract(ce);j.x+=_e.x<0?-je.x:je.x,j.y+=_e.y<0?-je.y:je.y,this.panTo(this.unproject(j),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=a({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),C=f.divideBy(2).round(),j=_.divideBy(2).round(),D=C.subtract(j);return!D.x&&!D.y?this:(l.animate&&l.pan?this.panBy(D):(l.pan&&this._rawPanBy(D),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=a({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=u(this._handleGeolocationResponse,this),_=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,_,l):navigator.geolocation.getCurrentPosition(f,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,_=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,_=l.coords.longitude,C=new oe(f,_),j=C.toBounds(l.coords.accuracy*2),D=this._locateOptions;if(D.setView){var $=this.getBoundsZoom(j);this.setView(C,D.maxZoom?Math.min($,D.maxZoom):$)}var ie={latlng:C,bounds:j,timestamp:l.timestamp};for(var ce in l.coords)typeof l.coords[ce]=="number"&&(ie[ce]=l.coords[ce]);this.fire("locationfound",ie)}},addHandler:function(l,f){if(!f)return this;var _=this[l]=new f(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)bt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),C=tt("div",_,f||this._mapPane);return l&&(this._panes[l]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new z(f,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,_){l=W(l),_=R(_||[0,0]);var C=this.getZoom()||0,j=this.getMinZoom(),D=this.getMaxZoom(),$=l.getNorthWest(),ie=l.getSouthEast(),ce=this.getSize().subtract(_),_e=X(this.project(ie,C),this.project($,C)).getSize(),je=Oe.any3d?this.options.zoomSnap:1,Pe=ce.x/_e.x,Xe=ce.y/_e.y,an=f?Math.max(Pe,Xe):Math.min(Pe,Xe);return C=this.getScaleZoom(an,C),je&&(C=Math.round(C/(je/100))*(je/100),C=f?Math.ceil(C/je)*je:Math.floor(C/je)*je),Math.max(j,Math.min(D,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var _=this._getTopLeftPoint(l,f);return new V(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var _=this.options.crs;return f=f===void 0?this._zoom:f,_.scale(l)/_.scale(f)},getScaleZoom:function(l,f){var _=this.options.crs;f=f===void 0?this._zoom:f;var C=_.zoom(l*_.scale(f));return isNaN(C)?1/0:C},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(fe(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(R(l),f)},layerPointToLatLng:function(l){var f=R(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(fe(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(fe(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(W(l))},distance:function(l,f){return this.options.crs.distance(fe(l),fe(f))},containerPointToLayerPoint:function(l){return R(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return R(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(R(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(l)))},mouseEventToContainerPoint:function(l){return da(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=Vl(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Ge(l,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=aa(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(l.markerPane,"leaflet-zoom-hide"),Ge(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,_){Ct(this._mapPane,new Y(0,0));var C=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var j=this._zoom!==f;this._moveStart(j,_)._move(l,f)._moveEnd(j),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,_,C){f===void 0&&(f=this._zoom);var j=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),C?_&&_.pinch&&this.fire("zoom",_):((j||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Ct(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var f=l?mt:Fe;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var _=[],C,j=f==="mouseout"||f==="mouseover",D=l.target||l.srcElement,$=!1;D;){if(C=this._targets[d(D)],C&&(f==="click"||f==="preclick")&&this._draggableMoved(C)){$=!0;break}if(C&&C.listens(f,!0)&&(j&&!Ii(D,l)||(_.push(C),j))||D===this._container)break;D=D.parentNode}return!_.length&&!$&&!j&&this.listens(f,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var _=l.type;_==="mousedown"&&cs(f),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,_){if(l.type==="click"){var C=a({},l);C.type="preclick",this._fireDOMEvent(C,C.type,_)}var j=this._findEventTargets(l,f);if(_){for(var D=[],$=0;$<_.length;$++)_[$].listens(f,!0)&&D.push(_[$]);j=D.concat(j)}if(j.length){f==="contextmenu"&&Vt(l);var ie=j[0],ce={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var _e=ie.getLatLng&&(!ie._radius||ie._radius<=10);ce.containerPoint=_e?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(l),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=_e?ie.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for($=0;$<j.length;$++)if(j[$].fire(f,ce,!0),ce.originalEvent._stopped||j[$].options.bubblingMouseEvents===!1&&U(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return rr(this._mapPane)||new Y(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var _=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var _=this.getSize()._divideBy(2);return this.project(l,f)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,_){var C=this._getNewPixelOrigin(_,f);return this.project(l,f)._subtract(C)},_latLngBoundsToNewLayerBounds:function(l,f,_){var C=this._getNewPixelOrigin(_,f);return X([this.project(l.getSouthWest(),f)._subtract(C),this.project(l.getNorthWest(),f)._subtract(C),this.project(l.getSouthEast(),f)._subtract(C),this.project(l.getNorthEast(),f)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,_){if(!_)return l;var C=this.project(l,f),j=this.getSize().divideBy(2),D=new V(C.subtract(j),C.add(j)),$=this._getBoundsOffset(D,_,f);return Math.abs($.x)<=1&&Math.abs($.y)<=1?l:this.unproject(C.add($),f)},_limitOffset:function(l,f){if(!f)return l;var _=this.getPixelBounds(),C=new V(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(C,f))},_getBoundsOffset:function(l,f,_){var C=X(this.project(f.getNorthEast(),_),this.project(f.getSouthWest(),_)),j=C.min.subtract(l.min),D=C.max.subtract(l.max),$=this._rebound(j.x,-D.x),ie=this._rebound(j.y,-D.y);return new Y($,ie)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),_=this.getMaxZoom(),C=Oe.any3d?this.options.zoomSnap:1;return C&&(l=Math.round(l/C)*C),Math.max(f,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var _=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,f),!0)},_createAnimProxy:function(){var l=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var _=ir,C=this._proxy.style[_];Bi(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),C===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();Bi(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(f),j=this._getCenterOffset(l)._divideBy(1-1/C);return _.animate!==!0&&!this.getSize().contains(j)?!1:(K(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,_,C){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gl(l,f){return new st(l,f)}var Nn=se.extend({options:{position:"topright"},initialize:function(l){T(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),_=this.getPosition(),C=l._controlCorners[_];return Ge(f,"leaflet-control"),_.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Ui=function(l){return new Nn(l)};st.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",_=this._controlContainer=tt("div",f+"control-container",this._container);function C(j,D){var $=f+j+" "+f+D;l[j+D]=tt("div",$,_)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)bt(this._controlCorners[l]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fa=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,_,C){return _<C?-1:C<_?1:0}},initialize:function(l,f,_){T(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in l)this._addLayer(l[C],C);for(C in f)this._addLayer(f[C],C,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Nn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=tt("div",l),_=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Pr(f),vi(f);var C=this._section=tt("section",l+"-list");_&&(this._map.on("click",this.collapse,this),Fe(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var j=this._layersLink=tt("a",l+"-toggle",f);j.href="#",j.title="Layers",j.setAttribute("role","button"),Fe(j,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Vt(D),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=tt("div",l+"-base",C),this._separator=tt("div",l+"-separator",C),this._overlaysList=tt("div",l+"-overlays",C),f.appendChild(C)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:_}),this.options.sortLayers&&this._layers.sort(u(function(C,j){return this.options.sortFunction(C.layer,j.layer,C.name,j.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bn(this._baseLayersList),Bn(this._overlaysList),this._layerControlInputs=[];var l,f,_,C,j=0;for(_=0;_<this._layers.length;_++)C=this._layers[_],this._addItem(C),f=f||C.overlay,l=l||!C.overlay,j+=C.overlay?0:1;return this.options.hideSingleBase&&(l=l&&j>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(d(l.target)),_=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,f)},_createRadioElement:function(l,f){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=_,C.firstChild},_addItem:function(l){var f=document.createElement("label"),_=this._map.hasLayer(l.layer),C;l.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=_):C=this._createRadioElement("leaflet-base-layers_"+d(this),_),this._layerControlInputs.push(C),C.layerId=d(l.layer),Fe(C,"click",this._onInputClick,this);var j=document.createElement("span");j.innerHTML=" "+l.name;var D=document.createElement("span");f.appendChild(D),D.appendChild(C),D.appendChild(j);var $=l.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,_,C=[],j=[];this._handlingClick=!0;for(var D=l.length-1;D>=0;D--)f=l[D],_=this._getLayer(f.layerId).layer,f.checked?C.push(_):f.checked||j.push(_);for(D=0;D<j.length;D++)this._map.hasLayer(j[D])&&this._map.removeLayer(j[D]);for(D=0;D<C.length;D++)this._map.hasLayer(C[D])||this._map.addLayer(C[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,_,C=this._map.getZoom(),j=l.length-1;j>=0;j--)f=l[j],_=this._getLayer(f.layerId).layer,f.disabled=_.options.minZoom!==void 0&&C<_.options.minZoom||_.options.maxZoom!==void 0&&C>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Fe(l,"click",Vt),this.expand();var f=this;setTimeout(function(){mt(l,"click",Vt),f._preventClick=!1})}}),Jc=function(l,f,_){return new fa(l,f,_)},Kl=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",_=tt("div",f+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,f+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,f+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,_,C,j){var D=tt("a",_,C);return D.innerHTML=l,D.href="#",D.title=f,D.setAttribute("role","button"),D.setAttribute("aria-label",f),Pr(D),Fe(D,"click",sr),Fe(D,"click",j,this),Fe(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";Nt(this._zoomInButton,f),Nt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ge(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ge(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Kl,this.addControl(this.zoomControl))});var Df=function(l){return new Kl(l)},Qc=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",_=tt("div",f),C=this.options;return this._addScales(C,f+"-line",_),l.on(C.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,_){l.metric&&(this._mScale=tt("div",f,_)),l.imperial&&(this._iScale=tt("div",f,_))},_update:function(){var l=this._map,f=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),_=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,_,f/l)},_updateImperial:function(l){var f=l*3.2808399,_,C,j;f>5280?(_=f/5280,C=this._getRoundNum(_),this._updateScale(this._iScale,C+" mi",C/_)):(j=this._getRoundNum(f),this._updateScale(this._iScale,j+" ft",j/f))},_updateScale:function(l,f,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),_=l/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,f*_}}),Wl=function(l){return new Qc(l)},zf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yl=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?zf+" ":"")+"Leaflet</a>"},initialize:function(l){T(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),Pr(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Yl().addTo(this)});var Bf=function(l){return new Yl(l)};Nn.Layers=fa,Nn.Zoom=Kl,Nn.Scale=Qc,Nn.Attribution=Yl,Ui.layers=Jc,Ui.zoom=Df,Ui.scale=Wl,Ui.attribution=Bf;var _i=se.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(l,f){return l.addHandler(f,this),this};var If={Events:q},Xl=Oe.touch?"touchstart mousedown":"mousedown",ar=ee.extend({options:{clickTolerance:3},initialize:function(l,f,_,C){T(this,C),this._element=l,this._dragStartTarget=f||l,this._preventOutline=_},enable:function(){this._enabled||(Fe(this._dragStartTarget,Xl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ar._dragging===this&&this.finishDrag(!0),mt(this._dragStartTarget,Xl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Hl(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){ar._dragging===this&&this.finishDrag();return}if(!(ar._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(ar._dragging=this,this._preventOutline&&cs(this._element),uo(),ls(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,_=ho(this._element);this._startPoint=new Y(f.clientX,f.clientY),this._startPos=rr(this._element),this._parentScale=ua(_);var C=l.type==="mousedown";Fe(document,C?"mousemove":"touchmove",this._onMove,this),Fe(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,_=new Y(f.clientX,f.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Vt(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ge(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Ct(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mt(document,"mousemove touchmove",this._onMove,this),mt(document,"mouseup touchend touchcancel",this._onUp,this),la(),yi();var f=this._moved&&this._moving;this._moving=!1,ar._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function eh(l,f,_){var C,j=[1,4,2,8],D,$,ie,ce,_e,je,Pe,Xe;for(D=0,je=l.length;D<je;D++)l[D]._code=Rr(l[D],f);for(ie=0;ie<4;ie++){for(Pe=j[ie],C=[],D=0,je=l.length,$=je-1;D<je;$=D++)ce=l[D],_e=l[$],ce._code&Pe?_e._code&Pe||(Xe=po(_e,ce,Pe,f,_),Xe._code=Rr(Xe,f),C.push(Xe)):(_e._code&Pe&&(Xe=po(_e,ce,Pe,f,_),Xe._code=Rr(Xe,f),C.push(Xe)),C.push(ce));l=C}return l}function th(l,f){var _,C,j,D,$,ie,ce,_e,je;if(!l||l.length===0)throw new Error("latlngs not passed");Un(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Pe=fe([0,0]),Xe=W(l),an=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());an<1700&&(Pe=Jl(l));var Ht=l.length,Mn=[];for(_=0;_<Ht;_++){var ut=fe(l[_]);Mn.push(f.project(fe([ut.lat-Pe.lat,ut.lng-Pe.lng])))}for(ie=ce=_e=0,_=0,C=Ht-1;_<Ht;C=_++)j=Mn[_],D=Mn[C],$=j.y*D.x-D.y*j.x,ce+=(j.x+D.x)*$,_e+=(j.y+D.y)*$,ie+=$*3;ie===0?je=Mn[0]:je=[ce/ie,_e/ie];var ct=f.unproject(R(je));return fe([ct.lat+Pe.lat,ct.lng+Pe.lng])}function Jl(l){for(var f=0,_=0,C=0,j=0;j<l.length;j++){var D=fe(l[j]);f+=D.lat,_+=D.lng,C++}return fe([f/C,_/C])}var Ql={__proto__:null,clipPolygon:eh,polygonCenter:th,centroid:Jl};function nh(l,f){if(!f||!l.length)return l.slice();var _=f*f;return l=Vf(l,_),l=rh(l,_),l}function ih(l,f,_){return Math.sqrt(pa(l,f,_,!0))}function Uf(l,f,_){return pa(l,f,_)}function rh(l,f){var _=l.length,C=typeof Uint8Array<"u"?Uint8Array:Array,j=new C(_);j[0]=j[_-1]=1,eu(l,j,f,0,_-1);var D,$=[];for(D=0;D<_;D++)j[D]&&$.push(l[D]);return $}function eu(l,f,_,C,j){var D=0,$,ie,ce;for(ie=C+1;ie<=j-1;ie++)ce=pa(l[ie],l[C],l[j],!0),ce>D&&($=ie,D=ce);D>_&&(f[$]=1,eu(l,f,_,C,$),eu(l,f,_,$,j))}function Vf(l,f){for(var _=[l[0]],C=1,j=0,D=l.length;C<D;C++)Hf(l[C],l[j])>f&&(_.push(l[C]),j=C);return j<D-1&&_.push(l[D-1]),_}var sh;function ah(l,f,_,C,j){var D=C?sh:Rr(l,_),$=Rr(f,_),ie,ce,_e;for(sh=$;;){if(!(D|$))return[l,f];if(D&$)return!1;ie=D||$,ce=po(l,f,ie,_,j),_e=Rr(ce,_),ie===D?(l=ce,D=_e):(f=ce,$=_e)}}function po(l,f,_,C,j){var D=f.x-l.x,$=f.y-l.y,ie=C.min,ce=C.max,_e,je;return _&8?(_e=l.x+D*(ce.y-l.y)/$,je=ce.y):_&4?(_e=l.x+D*(ie.y-l.y)/$,je=ie.y):_&2?(_e=ce.x,je=l.y+$*(ce.x-l.x)/D):_&1&&(_e=ie.x,je=l.y+$*(ie.x-l.x)/D),new Y(_e,je,j)}function Rr(l,f){var _=0;return l.x<f.min.x?_|=1:l.x>f.max.x&&(_|=2),l.y<f.min.y?_|=4:l.y>f.max.y&&(_|=8),_}function Hf(l,f){var _=f.x-l.x,C=f.y-l.y;return _*_+C*C}function pa(l,f,_,C){var j=f.x,D=f.y,$=_.x-j,ie=_.y-D,ce=$*$+ie*ie,_e;return ce>0&&(_e=((l.x-j)*$+(l.y-D)*ie)/ce,_e>1?(j=_.x,D=_.y):_e>0&&(j+=$*_e,D+=ie*_e)),$=l.x-j,ie=l.y-D,C?$*$+ie*ie:new Y(j,D)}function Un(l){return!M(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function mo(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Un(l)}function fs(l,f){var _,C,j,D,$,ie,ce,_e;if(!l||l.length===0)throw new Error("latlngs not passed");Un(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var je=fe([0,0]),Pe=W(l),Xe=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Xe<1700&&(je=Jl(l));var an=l.length,Ht=[];for(_=0;_<an;_++){var Mn=fe(l[_]);Ht.push(f.project(fe([Mn.lat-je.lat,Mn.lng-je.lng])))}for(_=0,C=0;_<an-1;_++)C+=Ht[_].distanceTo(Ht[_+1])/2;if(C===0)_e=Ht[0];else for(_=0,D=0;_<an-1;_++)if($=Ht[_],ie=Ht[_+1],j=$.distanceTo(ie),D+=j,D>C){ce=(D-C)/j,_e=[ie.x-ce*(ie.x-$.x),ie.y-ce*(ie.y-$.y)];break}var ut=f.unproject(R(_e));return fe([ut.lat+je.lat,ut.lng+je.lng])}var Ff={__proto__:null,simplify:nh,pointToSegmentDistance:ih,closestPointOnSegment:Uf,clipSegment:ah,_getEdgeIntersection:po,_getBitCode:Rr,_sqClosestPointOnSegment:pa,isFlat:Un,_flat:mo,polylineCenter:fs},go={project:function(l){return new Y(l.lng,l.lat)},unproject:function(l){return new oe(l.y,l.x)},bounds:new V([-180,-90],[180,90])},yo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,_=this.R,C=l.lat*f,j=this.R_MINOR/_,D=Math.sqrt(1-j*j),$=D*Math.sin(C),ie=Math.tan(Math.PI/4-C/2)/Math.pow((1-$)/(1+$),D/2);return C=-_*Math.log(Math.max(ie,1e-10)),new Y(l.lng*f*_,C)},unproject:function(l){for(var f=180/Math.PI,_=this.R,C=this.R_MINOR/_,j=Math.sqrt(1-C*C),D=Math.exp(-l.y/_),$=Math.PI/2-2*Math.atan(D),ie=0,ce=.1,_e;ie<15&&Math.abs(ce)>1e-7;ie++)_e=j*Math.sin($),_e=Math.pow((1-_e)/(1+_e),j/2),ce=Math.PI/2-2*Math.atan(D*_e)-$,$+=ce;return new oe($*f,l.x*f/_)}},oh={__proto__:null,LonLat:go,Mercator:yo,SphericalMercator:Le},lh=a({},Re,{code:"EPSG:3395",projection:yo,transformation:(function(){var l=.5/(Math.PI*yo.R);return De(l,.5,-l,.5)})()}),tu=a({},Re,{code:"EPSG:4326",projection:go,transformation:De(1/180,1,-1/180,.5)}),ps=a({},Ce,{projection:go,transformation:De(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var _=f.lng-l.lng,C=f.lat-l.lat;return Math.sqrt(_*_+C*C)},infinite:!0});Ce.Earth=Re,Ce.EPSG3395=lh,Ce.EPSG3857=He,Ce.EPSG900913=gt,Ce.EPSG4326=tu,Ce.Simple=ps;var si=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var _=this.getEvents();f.on(_,this),this.once("remove",function(){f.off(_,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});st.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=d(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,f){for(var _ in this._layers)l.call(f,this._layers[_]);return this},_addLayers:function(l){l=l?M(l)?l:[l]:[];for(var f=0,_=l.length;f<_;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=d(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,_=this._getZoomSpan();for(var C in this._zoomBoundLayers){var j=this._zoomBoundLayers[C].options;l=j.minZoom===void 0?l:Math.min(l,j.minZoom),f=j.maxZoom===void 0?f:Math.max(f,j.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ms=si.extend({initialize:function(l,f){T(this,f),this._layers={};var _,C;if(l)for(_=0,C=l.length;_<C;_++)this.addLayer(l[_])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),_,C;for(_ in this._layers)C=this._layers[_],C[l]&&C[l].apply(C,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var _ in this._layers)l.call(f,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),qf=function(l,f){return new ms(l,f)},bi=ms.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),ms.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),ms.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new z;for(var f in this._layers){var _=this._layers[f];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),uh=function(l,f){return new bi(l,f)},xi=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){T(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(_,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(C,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(l,f){var _=this.options,C=_[f+"Size"];typeof C=="number"&&(C=[C,C]);var j=R(C),D=R(f==="shadow"&&_.shadowAnchor||_.iconAnchor||j&&j.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(_.className||""),D&&(l.style.marginLeft=-D.x+"px",l.style.marginTop=-D.y+"px"),j&&(l.style.width=j.x+"px",l.style.height=j.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return Oe.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function ma(l){return new xi(l)}var ga=xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof ga.imagePath!="string"&&(ga.imagePath=this._detectIconPath()),(this.options.imagePath||ga.imagePath)+xi.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(_,C,j){var D=C.exec(_);return D&&D[j]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=tt("div","leaflet-default-icon-path",document.body),f=aa(l,"background-image")||aa(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),ya=_i.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new ar(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,_=f._map,C=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,D=rr(f._icon),$=_.getPixelBounds(),ie=_.getPixelOrigin(),ce=X($.min._subtract(ie).add(j),$.max._subtract(ie).subtract(j));if(!ce.contains(D)){var _e=R((Math.max(ce.max.x,D.x)-ce.max.x)/($.max.x-ce.max.x)-(Math.min(ce.min.x,D.x)-ce.min.x)/($.min.x-ce.min.x),(Math.max(ce.max.y,D.y)-ce.max.y)/($.max.y-ce.max.y)-(Math.min(ce.min.y,D.y)-ce.min.y)/($.min.y-ce.min.y)).multiplyBy(C);_.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),Ct(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=K(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,_=f._shadow,C=rr(f._icon),j=f._map.layerPointToLatLng(C);_&&Ct(_,C),f._latlng=j,l.latlng=j,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),va=si.extend({options:{icon:new ga,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){T(this,f),this._latlng=fe(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=fe(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),C=!1;_!==this._icon&&(this._icon&&this._removeIcon(),C=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),Ge(_,f),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(_,"focus",this._panOnFocus,this);var j=l.icon.createShadow(this._shadow),D=!1;j!==this._shadow&&(this._removeShadow(),D=!0),j&&(Ge(j,f),j.alt=""),this._shadow=j,l.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),j&&D&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Ct(this._icon,l),this._shadow&&Ct(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ya)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ya(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&kt(this._icon,l),this._shadow&&kt(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,_=f.iconSize?R(f.iconSize):R(0,0),C=f.iconAnchor?R(f.iconAnchor):R(0,0);l.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:_.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ch(l,f){return new va(l,f)}var wi=si.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return T(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gs=wi.extend({options:{fill:!0,radius:10},initialize:function(l,f){T(this,f),this._latlng=fe(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=fe(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return wi.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,_=this._clickTolerance(),C=[l+_,f+_];this._pxBounds=new V(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hh(l,f){return new gs(l,f)}var vo=gs.extend({initialize:function(l,f,_){if(typeof f=="number"&&(f=a({},_,{radius:f})),T(this,f),this._latlng=fe(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:wi.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,_=this._map,C=_.options.crs;if(C.distance===Re.distance){var j=Math.PI/180,D=this._mRadius/Re.R/j,$=_.project([f+D,l]),ie=_.project([f-D,l]),ce=$.add(ie).divideBy(2),_e=_.unproject(ce).lat,je=Math.acos((Math.cos(D*j)-Math.sin(f*j)*Math.sin(_e*j))/(Math.cos(f*j)*Math.cos(_e*j)))/j;(isNaN(je)||je===0)&&(je=D/Math.cos(Math.PI/180*f)),this._point=ce.subtract(_.getPixelOrigin()),this._radius=isNaN(je)?0:ce.x-_.project([_e,l-je]).x,this._radiusY=ce.y-$.y}else{var Pe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Pe).x}this._updateBounds()}});function dh(l,f,_){return new vo(l,f,_)}var Vi=wi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){T(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,_=null,C=pa,j,D,$=0,ie=this._parts.length;$<ie;$++)for(var ce=this._parts[$],_e=1,je=ce.length;_e<je;_e++){j=ce[_e-1],D=ce[_e];var Pe=C(l,j,D,!0);Pe<f&&(f=Pe,_=C(l,j,D))}return _&&(_.distance=Math.sqrt(f)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=fe(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new z,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Un(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],_=Un(l),C=0,j=l.length;C<j;C++)_?(f[C]=fe(l[C]),this._bounds.extend(f[C])):f[C]=this._convertLatLngs(l[C]);return f},_project:function(){var l=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new Y(l,l);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,_){var C=l[0]instanceof oe,j=l.length,D,$;if(C){for($=[],D=0;D<j;D++)$[D]=this._map.latLngToLayerPoint(l[D]),_.extend($[D]);f.push($)}else for(D=0;D<j;D++)this._projectLatlngs(l[D],f,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,_,C,j,D,$,ie,ce;for(_=0,j=0,D=this._rings.length;_<D;_++)for(ce=this._rings[_],C=0,$=ce.length;C<$-1;C++)ie=ah(ce[C],ce[C+1],l,C,!0),ie&&(f[j]=f[j]||[],f[j].push(ie[0]),(ie[1]!==ce[C+1]||C===$-2)&&(f[j].push(ie[1]),j++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,_=0,C=l.length;_<C;_++)l[_]=nh(l[_],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var _,C,j,D,$,ie,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,D=this._parts.length;_<D;_++)for(ie=this._parts[_],C=0,$=ie.length,j=$-1;C<$;j=C++)if(!(!f&&C===0)&&ih(l,ie[j],ie[C])<=ce)return!0;return!1}});function $f(l,f){return new Vi(l,f)}Vi._flat=mo;var ys=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return th(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=Vi.prototype._convertLatLngs.call(this,l),_=f.length;return _>=2&&f[0]instanceof oe&&f[0].equals(f[_-1])&&f.pop(),f},_setLatLngs:function(l){Vi.prototype._setLatLngs.call(this,l),Un(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Un(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,_=new Y(f,f);if(l=new V(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,j=this._rings.length,D;C<j;C++)D=eh(this._rings[C],l,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,_,C,j,D,$,ie,ce,_e;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(D=0,ce=this._parts.length;D<ce;D++)for(_=this._parts[D],$=0,_e=_.length,ie=_e-1;$<_e;ie=$++)C=_[$],j=_[ie],C.y>l.y!=j.y>l.y&&l.x<(j.x-C.x)*(l.y-C.y)/(j.y-C.y)+C.x&&(f=!f);return f||Vi.prototype._containsPoint.call(this,l,!0)}});function Zf(l,f){return new ys(l,f)}var Hi=bi.extend({initialize:function(l,f){T(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=M(l)?l:l.features,_,C,j;if(f){for(_=0,C=f.length;_<C;_++)j=f[_],(j.geometries||j.geometry||j.features||j.coordinates)&&this.addData(j);return this}var D=this.options;if(D.filter&&!D.filter(l))return this;var $=dn(l,D);return $?($.feature=xo(l),$.defaultOptions=$.options,this.resetStyle($),D.onEachFeature&&D.onEachFeature(l,$),this.addLayer($)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=a({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function dn(l,f){var _=l.type==="Feature"?l.geometry:l,C=_?_.coordinates:null,j=[],D=f&&f.pointToLayer,$=f&&f.coordsToLatLng||_o,ie,ce,_e,je;if(!C&&!_)return null;switch(_.type){case"Point":return ie=$(C),vs(D,l,ie,f);case"MultiPoint":for(_e=0,je=C.length;_e<je;_e++)ie=$(C[_e]),j.push(vs(D,l,ie,f));return new bi(j);case"LineString":case"MultiLineString":return ce=_a(C,_.type==="LineString"?0:1,$),new Vi(ce,f);case"Polygon":case"MultiPolygon":return ce=_a(C,_.type==="Polygon"?1:2,$),new ys(ce,f);case"GeometryCollection":for(_e=0,je=_.geometries.length;_e<je;_e++){var Pe=dn({geometry:_.geometries[_e],type:"Feature",properties:l.properties},f);Pe&&j.push(Pe)}return new bi(j);case"FeatureCollection":for(_e=0,je=_.features.length;_e<je;_e++){var Xe=dn(_.features[_e],f);Xe&&j.push(Xe)}return new bi(j);default:throw new Error("Invalid GeoJSON object.")}}function vs(l,f,_,C){return l?l(f,_):new va(_,C&&C.markersInheritOptions&&C)}function _o(l){return new oe(l[1],l[0],l[2])}function _a(l,f,_){for(var C=[],j=0,D=l.length,$;j<D;j++)$=f?_a(l[j],f-1,_):(_||_o)(l[j]),C.push($);return C}function bo(l,f){return l=fe(l),l.alt!==void 0?[x(l.lng,f),x(l.lat,f),x(l.alt,f)]:[x(l.lng,f),x(l.lat,f)]}function ba(l,f,_,C){for(var j=[],D=0,$=l.length;D<$;D++)j.push(f?ba(l[D],Un(l[D])?0:f-1,_,C):bo(l[D],C));return!f&&_&&j.length>0&&j.push(j[0].slice()),j}function or(l,f){return l.feature?a({},l.feature,{geometry:f}):xo(f)}function xo(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var lr={toGeoJSON:function(l){return or(this,{type:"Point",coordinates:bo(this.getLatLng(),l)})}};va.include(lr),vo.include(lr),gs.include(lr),Vi.include({toGeoJSON:function(l){var f=!Un(this._latlngs),_=ba(this._latlngs,f?1:0,!1,l);return or(this,{type:(f?"Multi":"")+"LineString",coordinates:_})}}),ys.include({toGeoJSON:function(l){var f=!Un(this._latlngs),_=f&&!Un(this._latlngs[0]),C=ba(this._latlngs,_?2:f?1:0,!0,l);return f||(C=[C]),or(this,{type:(_?"Multi":"")+"Polygon",coordinates:C})}}),ms.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(_){f.push(_.toGeoJSON(l).geometry.coordinates)}),or(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var _=f==="GeometryCollection",C=[];return this.eachLayer(function(j){if(j.toGeoJSON){var D=j.toGeoJSON(l);if(_)C.push(D.geometry);else{var $=xo(D);$.type==="FeatureCollection"?C.push.apply(C,$.features):C.push($)}}}),_?or(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function wo(l,f){return new Hi(l,f)}var xa=wo,_s=si.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,_){this._url=l,this._bounds=W(f),T(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&sn(this._image),this},bringToBack:function(){return this._map&&Mr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=W(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:tt("img");if(Ge(f,"leaflet-image-layer"),this._zoomAnimated&&Ge(f,"leaflet-zoom-animated"),this.options.className&&Ge(f,this.options.className),f.onselectstart=v,f.onmousemove=v,f.onload=u(this.fire,this,"load"),f.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Bi(this._image,_,f)},_reset:function(){var l=this._image,f=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=f.getSize();Ct(l,f.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),fh=function(l,f,_){return new _s(l,f,_)},ur=_s.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:tt("video");if(Ge(f,"leaflet-image-layer"),this._zoomAnimated&&Ge(f,"leaflet-zoom-animated"),this.options.className&&Ge(f,this.options.className),f.onselectstart=v,f.onmousemove=v,f.onloadeddata=u(this.fire,this,"load"),l){for(var _=f.getElementsByTagName("source"),C=[],j=0;j<_.length;j++)C.push(_[j].src);this._url=_.length>0?C:[f.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var $=tt("source");$.src=this._url[D],f.appendChild($)}}});function bs(l,f,_){return new ur(l,f,_)}var So=_s.extend({_initImage:function(){var l=this._image=this._url;Ge(l,"leaflet-image-layer"),this._zoomAnimated&&Ge(l,"leaflet-zoom-animated"),this.options.className&&Ge(l,this.options.className),l.onselectstart=v,l.onmousemove=v}});function ph(l,f,_){return new So(l,f,_)}var fn=si.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof oe||M(l))?(this._latlng=fe(l),T(this,f)):(T(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(u(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=fe(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&sn(this._container),this},bringToBack:function(){return this._map&&Mr(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof bi){f=null;var _=this._source._layers;for(var C in _)if(_[C]._map){f=_[C];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=R(this.options.offset),_=this._getAnchor();this._zoomAnimated?Ct(this._container,l.add(_)):f=f.add(l).add(_);var C=this._containerBottom=-f.y,j=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=C+"px",this._container.style.left=j+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(l,f,_,C){var j=f;return j instanceof l||(j=new l(C).setContent(f)),_&&j.setLatLng(_),j}}),si.include({_initOverlay:function(l,f,_,C){var j=_;return j instanceof l?(T(j,C),j._source=this):(j=f&&!C?f:new l(C,this),j.setContent(_)),j}});var wa=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,fn.prototype.openOn.call(this,l)},onAdd:function(l){fn.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wi||this._source.on("preclick",ri))},onRemove:function(l){fn.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wi||this._source.off("preclick",ri))},getEvents:function(){var l=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=tt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=tt("div",l+"-content-wrapper",f);if(this._contentNode=tt("div",l+"-content",_),Pr(f),vi(this._contentNode),Fe(f,"contextmenu",ri),this._tipContainer=tt("div",l+"-tip-container",f),this._tip=tt("div",l+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=tt("a",l+"-close-button",f);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(C,"click",function(j){Vt(j),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),f.width=_+1+"px",f.whiteSpace="",f.height="";var C=l.offsetHeight,j=this.options.maxHeight,D="leaflet-popup-scrolled";j&&C>j?(f.height=j+"px",Ge(l,D)):Nt(l,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();Ct(this._container,f.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(aa(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+f,C=this._containerWidth,j=new Y(this._containerLeft,-_-this._containerBottom);j._add(rr(this._container));var D=l.layerPointToContainerPoint(j),$=R(this.options.autoPanPadding),ie=R(this.options.autoPanPaddingTopLeft||$),ce=R(this.options.autoPanPaddingBottomRight||$),_e=l.getSize(),je=0,Pe=0;D.x+C+ce.x>_e.x&&(je=D.x+C-_e.x+ce.x),D.x-je-ie.x<0&&(je=D.x-ie.x),D.y+_+ce.y>_e.y&&(Pe=D.y+_-_e.y+ce.y),D.y-Pe-ie.y<0&&(Pe=D.y-ie.y),(je||Pe)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([je,Pe]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mh=function(l,f){return new wa(l,f)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(l,f,_){return this._initOverlay(wa,l,f,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),si.include({bindPopup:function(l,f){return this._popup=this._initOverlay(wa,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof bi||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){sr(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof wi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Sa=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){fn.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){fn.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=fn.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,_,C=this._map,j=this._container,D=C.latLngToContainerPoint(C.getCenter()),$=C.layerPointToContainerPoint(l),ie=this.options.direction,ce=j.offsetWidth,_e=j.offsetHeight,je=R(this.options.offset),Pe=this._getAnchor();ie==="top"?(f=ce/2,_=_e):ie==="bottom"?(f=ce/2,_=0):ie==="center"?(f=ce/2,_=_e/2):ie==="right"?(f=0,_=_e/2):ie==="left"?(f=ce,_=_e/2):$.x<D.x?(ie="right",f=0,_=_e/2):(ie="left",f=ce+(je.x+Pe.x)*2,_=_e/2),l=l.subtract(R(f,_,!0)).add(je).add(Pe),Nt(j,"leaflet-tooltip-right"),Nt(j,"leaflet-tooltip-left"),Nt(j,"leaflet-tooltip-top"),Nt(j,"leaflet-tooltip-bottom"),Ge(j,"leaflet-tooltip-"+ie),Ct(j,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&kt(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gf=function(l,f){return new Sa(l,f)};st.include({openTooltip:function(l,f,_){return this._initOverlay(Sa,l,f,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),si.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sa,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[f](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof bi||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(Fe(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Fe(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,_,C;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),C=this._map.containerPointToLayerPoint(_),f=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(f)}});var gh=xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Bn(f),f.appendChild(_.html)):f.innerHTML=_.html!==!1?_.html:"",_.bgPos){var C=R(_.bgPos);f.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Kf(l){return new gh(l)}xi.Default=ga;var xs=si.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){T(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),bt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(sn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof Y?l:new Y(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,_=-l(-1/0,1/0),C=0,j=f.length,D;C<j;C++)D=f[C].style.zIndex,f[C]!==this._container&&D&&(_=l(_,+D));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){kt(this._container,this.options.opacity);var l=+new Date,f=!1,_=!1;for(var C in this._tiles){var j=this._tiles[C];if(!(!j.current||!j.loaded)){var D=Math.min(1,(l-j.loaded)/200);kt(j.el,D),D<1?f=!0:(j.active?_=!0:this._onOpaqueTile(j),j.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),f&&(Q(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=f-Math.abs(l-_),this._onUpdateLevel(_)):(bt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var C=this._levels[l],j=this._map;return C||(C=this._levels[l]={},C.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=f,C.origin=j.project(j.unproject(j.getPixelOrigin()),l).round(),C.zoom=l,this._setZoomTransform(C,j.getCenter(),j.getZoom()),v(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var l,f,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var C=f.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)bt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,_,C){var j=Math.floor(l/2),D=Math.floor(f/2),$=_-1,ie=new Y(+j,+D);ie.z=+$;var ce=this._tileCoordsToKey(ie),_e=this._tiles[ce];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),$>C?this._retainParent(j,D,$,C):!1)},_retainChildren:function(l,f,_,C){for(var j=2*l;j<2*l+2;j++)for(var D=2*f;D<2*f+2;D++){var $=new Y(j,D);$.z=_+1;var ie=this._tileCoordsToKey($),ce=this._tiles[ie];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);_+1<C&&this._retainChildren(j,D,_+1,C)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,_,C){var j=Math.round(f);this.options.maxZoom!==void 0&&j>this.options.maxZoom||this.options.minZoom!==void 0&&j<this.options.minZoom?j=void 0:j=this._clampZoom(j);var D=this.options.updateWhenZooming&&j!==this._tileZoom;(!C||D)&&(this._tileZoom=j,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),j!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,f)},_setZoomTransform:function(l,f,_){var C=this._map.getZoomScale(_,l.zoom),j=l.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(f,_)).round();Oe.any3d?Bi(l.el,j,C):Ct(l.el,j)},_resetGrid:function(){var l=this._map,f=l.options.crs,_=this._tileSize=this.getTileSize(),C=this._tileZoom,j=this._map.getPixelWorldBounds(this._tileZoom);j&&(this._globalTileRange=this._pxBoundsToTileRange(j)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],C).x/_.x),Math.ceil(l.project([0,f.wrapLng[1]],C).x/_.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],C).y/_.x),Math.ceil(l.project([f.wrapLat[1],0],C).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,_=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),C=f.getZoomScale(_,this._tileZoom),j=f.project(l,this._tileZoom).floor(),D=f.getSize().divideBy(C*2);return new V(j.subtract(D),j.add(D))},_update:function(l){var f=this._map;if(f){var _=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(l),j=this._pxBoundsToTileRange(C),D=j.getCenter(),$=[],ie=this.options.keepBuffer,ce=new V(j.getBottomLeft().subtract([ie,-ie]),j.getTopRight().add([ie,-ie]));if(!(isFinite(j.min.x)&&isFinite(j.min.y)&&isFinite(j.max.x)&&isFinite(j.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var je=this._tiles[_e].coords;(je.z!==this._tileZoom||!ce.contains(new Y(je.x,je.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Pe=j.min.y;Pe<=j.max.y;Pe++)for(var Xe=j.min.x;Xe<=j.max.x;Xe++){var an=new Y(Xe,Pe);if(an.z=this._tileZoom,!!this._isValidTile(an)){var Ht=this._tiles[this._tileCoordsToKey(an)];Ht?Ht.current=!0:$.push(an)}}if($.sort(function(ut,ct){return ut.distanceTo(D)-ct.distanceTo(D)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mn=document.createDocumentFragment();for(Xe=0;Xe<$.length;Xe++)this._addTile($[Xe],Mn);this._level.el.appendChild(Mn)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var _=this._globalTileRange;if(!f.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!f.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(l);return W(this.options.bounds).overlaps(C)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,_=this.getTileSize(),C=l.scaleBy(_),j=C.add(_),D=f.unproject(C,l.z),$=f.unproject(j,l.z);return[D,$]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),_=new z(f[0],f[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),_=new Y(+f[0],+f[1]);return _.z=+f[2],_},_removeTile:function(l){var f=this._tiles[l];f&&(bt(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ge(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=v,l.onmousemove=v,Oe.ielt9&&this.options.opacity<1&&kt(l,this.options.opacity)},_addTile:function(l,f){var _=this._getTilePos(l),C=this._tileCoordsToKey(l),j=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(j),this.createTile.length<2&&K(u(this._tileReady,this,l,null,j)),Ct(j,_),this._tiles[C]={el:j,coords:l,current:!0},f.appendChild(j),this.fire("tileloadstart",{tile:j,coords:l})},_tileReady:function(l,f,_){f&&this.fire("tileerror",{error:f,tile:_,coords:l});var C=this._tileCoordsToKey(l);_=this._tiles[C],_&&(_.loaded=+new Date,this._map._fadeAnimated?(kt(_.el,0),Q(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),f||(Ge(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new Y(this._wrapX?y(l.x,this._wrapX):l.x,this._wrapY?y(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new V(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function yh(l){return new xs(l)}var cr=xs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=T(this,f),f.detectRetina&&Oe.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var _=document.createElement("img");return Fe(_,"load",u(this._tileOnLoad,this,f,_)),Fe(_,"error",u(this._tileOnError,this,f,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var f={r:Oe.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=_),f["-y"]=_}return P(this._url,a(f,this.options))},_tileOnLoad:function(l,f){Oe.ielt9?setTimeout(u(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,_){var C=this.options.errorTileUrl;C&&f.getAttribute("src")!==C&&(f.src=C),l(_,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,_=this.options.zoomReverse,C=this.options.zoomOffset;return _&&(l=f-l),l+C},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=v,f.onerror=v,!f.complete)){f.src=H;var _=this._tiles[l].coords;bt(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:_})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",H),xs.prototype._removeTile.call(this,l)},_tileReady:function(l,f,_){if(!(!this._map||_&&_.getAttribute("src")===H))return xs.prototype._tileReady.call(this,l,f,_)}});function Vn(l,f){return new cr(l,f)}var Ca=cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var _=a({},this.defaultWmsParams);for(var C in f)C in this.options||(_[C]=f[C]);f=T(this,f);var j=f.detectRetina&&Oe.retina?2:1,D=this.getTileSize();_.width=D.x*j,_.height=D.y*j,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,cr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),_=this._crs,C=X(_.project(f[0]),_.project(f[1])),j=C.min,D=C.max,$=(this._wmsVersion>=1.3&&this._crs===tu?[j.y,j.x,D.y,D.x]:[j.x,j.y,D.x,D.y]).join(","),ie=cr.prototype.getTileUrl.call(this,l);return ie+N(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(l,f){return a(this.wmsParams,l),f||this.redraw(),this}});function Hn(l,f){return new Ca(l,f)}cr.WMS=Ca,Vn.wms=Hn;var Cn=si.extend({options:{padding:.1},initialize:function(l){T(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var _=this._map.getZoomScale(f,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),j=this._map.project(this._center,f),D=C.multiplyBy(-_).add(j).subtract(this._map._getNewPixelOrigin(l,f));Oe.any3d?Bi(this._container,D,_):Ct(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),_=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new V(_,_.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Co=Cn.extend({options:{tolerance:0},getEvents:function(){var l=Cn.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Fe(l,"mousemove",this._onMouseMove,this),Fe(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,bt(this._container),mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var l=this._bounds,f=this._container,_=l.getSize(),C=Oe.retina?2:1;Ct(f,l.min),f.width=C*_.x,f.height=C*_.y,f.style.width=_.x+"px",f.style.height=_.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,_=f.next,C=f.prev;_?_.prev=C:this._drawLast=C,C?C.next=_:this._drawFirst=_,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),_=[],C,j;for(j=0;j<f.length;j++){if(C=Number(f[j]),isNaN(C))return;_.push(C)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var _=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)l=C.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var _,C,j,D,$=l._parts,ie=$.length,ce=this._ctx;if(ie){for(ce.beginPath(),_=0;_<ie;_++){for(C=0,j=$[_].length;C<j;C++)D=$[_][C],ce[C?"lineTo":"moveTo"](D.x,D.y);f&&ce.closePath()}this._fillStroke(ce,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,_=this._ctx,C=Math.max(Math.round(l._radius),1),j=(Math.max(Math.round(l._radiusY),1)||C)/C;j!==1&&(_.save(),_.scale(1,j)),_.beginPath(),_.arc(f.x,f.y/j,C,0,Math.PI*2,!1),j!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,f){var _=f.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),_,C,j=this._drawFirst;j;j=j.next)_=j.layer,_.options.interactive&&_._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(C=_);this._fireEvent(C?[C]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var _,C,j=this._drawFirst;j;j=j.next)_=j.layer,_.options.interactive&&_._containsPoint(f)&&(C=_);C!==this._hoveredLayer&&(this._handleMouseOut(l),C&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([C],l,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,_){this._map._fireDOMEvent(f,_||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var _=f.next,C=f.prev;if(_)_.prev=C;else return;C?C.next=_:_&&(this._drawFirst=_),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var _=f.next,C=f.prev;if(C)C.next=_;else return;_?_.prev=C:C&&(this._drawLast=C),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function Ea(l){return Oe.canvas?new Co(l):null}var hr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),nu={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=hr("shape");Ge(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=hr("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;bt(f),l.removeInteractiveTarget(f),delete this._layers[d(l)]},_updateStyle:function(l){var f=l._stroke,_=l._fill,C=l.options,j=l._container;j.stroked=!!C.stroke,j.filled=!!C.fill,C.stroke?(f||(f=l._stroke=hr("stroke")),j.appendChild(f),f.weight=C.weight+"px",f.color=C.color,f.opacity=C.opacity,C.dashArray?f.dashStyle=M(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=C.lineCap.replace("butt","flat"),f.joinstyle=C.lineJoin):f&&(j.removeChild(f),l._stroke=null),C.fill?(_||(_=l._fill=hr("fill")),j.appendChild(_),_.color=C.fillColor||C.color,_.opacity=C.fillOpacity):_&&(j.removeChild(_),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),_=Math.round(l._radius),C=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+_+","+C+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){sn(l._container)},_bringToBack:function(l){Mr(l._container)}},Si=Oe.vml?hr:Rt,ws=Cn.extend({_initContainer:function(){this._container=Si("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Si("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var l=this._bounds,f=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,_.setAttribute("width",f.x),_.setAttribute("height",f.y)),Ct(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=Si("path");l.options.className&&Ge(f,l.options.className),l.options.interactive&&Ge(f,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){bt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,_=l.options;f&&(_.stroke?(f.setAttribute("stroke",_.color),f.setAttribute("stroke-opacity",_.opacity),f.setAttribute("stroke-width",_.weight),f.setAttribute("stroke-linecap",_.lineCap),f.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?f.setAttribute("stroke-dasharray",_.dashArray):f.removeAttribute("stroke-dasharray"),_.dashOffset?f.setAttribute("stroke-dashoffset",_.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),_.fill?(f.setAttribute("fill",_.fillColor||_.color),f.setAttribute("fill-opacity",_.fillOpacity),f.setAttribute("fill-rule",_.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,ei(l._parts,f))},_updateCircle:function(l){var f=l._point,_=Math.max(Math.round(l._radius),1),C=Math.max(Math.round(l._radiusY),1)||_,j="a"+_+","+C+" 0 1,0 ",D=l._empty()?"M0 0":"M"+(f.x-_)+","+f.y+j+_*2+",0 "+j+-_*2+",0 ";this._setPath(l,D)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){sn(l._path)},_bringToBack:function(l){Mr(l._path)}});Oe.vml&&ws.include(nu);function Ta(l){return Oe.svg||Oe.vml?new ws(l):null}st.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&Ea(l)||Ta(l)}});var Dr=ys.extend({initialize:function(l,f){ys.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=W(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Wf(l,f){return new Dr(l,f)}ws.create=Si,ws.pointsToPath=ei,Hi.geometryToLayer=dn,Hi.coordsToLatLng=_o,Hi.coordsToLatLngs=_a,Hi.latLngToCoords=bo,Hi.latLngsToCoords=ba,Hi.getFeature=or,Hi.asFeature=xo,st.mergeOptions({boxZoom:!0});var En=_i.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ls(),uo(),this._startPoint=this._map.mouseEventToContainerPoint(l),Fe(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new V(this._point,this._startPoint),_=f.getSize();Ct(this._box,f.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(bt(this._box),Nt(this._container,"leaflet-crosshair")),yi(),la(),mt(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var f=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",En),st.mergeOptions({doubleClickZoom:!0});var Eo=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,_=f.getZoom(),C=f.options.zoomDelta,j=l.originalEvent.shiftKey?_-C:_+C;f.options.doubleClickZoom==="center"?f.setZoom(j):f.setZoomAround(l.containerPoint,j)}});st.addInitHook("addHandler","doubleClickZoom",Eo),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ci=_i.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new ar(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=W(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),_=this._initialWorldOffset,C=this._draggable._newPos.x,j=(C-f+_)%l+f-_,D=(C+f+_)%l-f-_,$=Math.abs(j+_)<Math.abs(D+_)?j:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(l){var f=this._map,_=f.options,C=!_.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),C)f.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,$=_.easeLinearity,ie=j.multiplyBy($/D),ce=ie.distanceTo([0,0]),_e=Math.min(_.inertiaMaxSpeed,ce),je=ie.multiplyBy(_e/ce),Pe=_e/(_.inertiaDeceleration*$),Xe=je.multiplyBy(-Pe/2).round();!Xe.x&&!Xe.y?f.fire("moveend"):(Xe=f._limitOffset(Xe,f.options.maxBounds),K(function(){f.panBy(Xe,{duration:Pe,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",Ci),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var iu=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Fe(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,_=l.scrollTop||f.scrollTop,C=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(C,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},_=this.keyCodes,C,j;for(C=0,j=_.left.length;C<j;C++)f[_.left[C]]=[-1*l,0];for(C=0,j=_.right.length;C<j;C++)f[_.right[C]]=[l,0];for(C=0,j=_.down.length;C<j;C++)f[_.down[C]]=[0,l];for(C=0,j=_.up.length;C<j;C++)f[_.up[C]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},_=this.keyCodes,C,j;for(C=0,j=_.zoomIn.length;C<j;C++)f[_.zoomIn[C]]=l;for(C=0,j=_.zoomOut.length;C<j;C++)f[_.zoomOut[C]]=-l},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,_=this._map,C;if(f in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(C=this._panKeys[f],l.shiftKey&&(C=R(C).multiplyBy(3)),_.options.maxBounds&&(C=_._limitOffset(R(C),_.options.maxBounds)),_.options.worldCopyJump){var j=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(C)));_.panTo(j)}else _.panBy(C)}else if(f in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;sr(l)}}});st.addInitHook("addHandler","keyboard",iu),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ja=_i.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=vn(l),_=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var C=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),C),sr(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),j=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,D=_?Math.ceil(j/_)*_:j,$=l._limitZoom(f+(this._delta>0?D:-D))-f;this._delta=0,this._startTime=null,$&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+$):l.setZoomAround(this._lastMousePos,f+$))}});st.addInitHook("addHandler","scrollWheelZoom",ja);var zr=600;st.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var To=_i.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new Y(f.clientX,f.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",Vt),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),zr),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){mt(document,"touchend",Vt),mt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new Y(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});_._simulated=!0,f.target.dispatchEvent(_)}});st.addInitHook("addHandler","tapHold",To),st.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var ru=_i.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var _=f.mouseEventToContainerPoint(l.touches[0]),C=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(_.add(C)._divideBy(2))),this._startDist=_.distanceTo(C),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),Vt(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,_=f.mouseEventToContainerPoint(l.touches[0]),C=f.mouseEventToContainerPoint(l.touches[1]),j=_.distanceTo(C)/this._startDist;if(this._zoom=f.getScaleZoom(j,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&j<1||this._zoom>f.getMaxZoom()&&j>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,j===1)return}else{var D=_._add(C)._divideBy(2)._subtract(this._centerPoint);if(j===1&&D.x===0&&D.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var $=u(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K($,this,!0),Vt(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",ru),st.BoxZoom=En,st.DoubleClickZoom=Eo,st.Drag=Ci,st.Keyboard=iu,st.ScrollWheelZoom=ja,st.TapHold=To,st.TouchZoom=ru,n.Bounds=V,n.Browser=Oe,n.CRS=Ce,n.Canvas=Co,n.Circle=vo,n.CircleMarker=gs,n.Class=se,n.Control=Nn,n.DivIcon=gh,n.DivOverlay=fn,n.DomEvent=fo,n.DomUtil=hs,n.Draggable=ar,n.Evented=ee,n.FeatureGroup=bi,n.GeoJSON=Hi,n.GridLayer=xs,n.Handler=_i,n.Icon=xi,n.ImageOverlay=_s,n.LatLng=oe,n.LatLngBounds=z,n.Layer=si,n.LayerGroup=ms,n.LineUtil=Ff,n.Map=st,n.Marker=va,n.Mixin=If,n.Path=wi,n.Point=Y,n.PolyUtil=Ql,n.Polygon=ys,n.Polyline=Vi,n.Popup=wa,n.PosAnimation=ds,n.Projection=oh,n.Rectangle=Dr,n.Renderer=Cn,n.SVG=ws,n.SVGOverlay=So,n.TileLayer=cr,n.Tooltip=Sa,n.Transformation=Ve,n.Util=ae,n.VideoOverlay=ur,n.bind=u,n.bounds=X,n.canvas=Ea,n.circle=dh,n.circleMarker=hh,n.control=Ui,n.divIcon=Kf,n.extend=a,n.featureGroup=uh,n.geoJSON=wo,n.geoJson=xa,n.gridLayer=yh,n.icon=ma,n.imageOverlay=fh,n.latLng=fe,n.latLngBounds=W,n.layerGroup=qf,n.map=Gl,n.marker=ch,n.point=R,n.polygon=Zf,n.polyline=$f,n.popup=mh,n.rectangle=Wf,n.setOptions=T,n.stamp=d,n.svg=Ta,n.svgOverlay=ph,n.tileLayer=Vn,n.tooltip=Gf,n.transformation=De,n.version=r,n.videoOverlay=bs;var su=window.L;n.noConflict=function(){return window.L=su,this},window.L=n}))})(Yu,Yu.exports)),Yu.exports}var Al=lv();const Ot=Qa(Al);function wf(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Sf(e,t){return t==null?function(r,a){const o=k.useRef(void 0);return o.current||(o.current=e(r,a)),o}:function(r,a){const o=k.useRef(void 0);o.current||(o.current=e(r,a));const u=k.useRef(r),{instance:h}=o.current;return k.useEffect(function(){u.current!==r&&(t(h,r,u.current),u.current=r)},[h,r,t]),o}}function z2(e,t){k.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function B2(e){return function(n){const r=bf(),a=e(xf(n,r),r);return R2(r.map,n.attribution),ov(a.current,n.eventHandlers),z2(a.current,r),a}}function SD(e,t){const n=k.useRef(void 0);k.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function CD(e){return function(n){const r=bf(),a=e(xf(n,r),r);return ov(a.current,n.eventHandlers),z2(a.current,r),SD(a.current,n),a}}function ED(e,t){const n=Sf(e,t),r=B2(n);return D2(r)}function I2(e,t){const n=Sf(e),r=xD(n,t);return _D(r)}function TD(e,t){const n=Sf(e,t),r=CD(n);return D2(r)}function jD(e,t){const n=Sf(e,t),r=B2(n);return bD(r)}function LD(e,t,n){const{opacity:r,zIndex:a}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function kD(){return bf().map}function AD({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:o,placeholder:u,style:h,whenReady:d,zoom:g,...y},v){const[x]=k.useState({className:a,id:o,style:h}),[w,E]=k.useState(null),T=k.useRef(void 0);k.useImperativeHandle(v,()=>w?.map??null,[w]);const N=k.useCallback(P=>{if(P!==null&&!T.current){const M=new Al.Map(P,y);T.current=M,n!=null&&g!=null?M.setView(n,g):e!=null&&M.fitBounds(e,t),d!=null&&M.whenReady(d),E(yD(M))}},[]);k.useEffect(()=>()=>{w?.map.remove()},[w]);const O=w?gi.createElement(av,{value:w},r):u??null;return gi.createElement("div",{...x,ref:N},O)}const ND=k.forwardRef(AD),U2=ED(function({position:t,...n},r){const a=new Al.Marker(t,n);return wf(a,vD(r,{overlayContainer:a}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Cf=I2(function(t,n){const r=new Al.Popup(t,n.overlayContainer);return wf(r,n)},function(t,n,{position:r},a){k.useEffect(function(){const{instance:u}=t;function h(g){g.popup===u&&(u.update(),a(!0))}function d(g){g.popup===u&&a(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:h,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[t,n,a,r])}),MD=jD(function({url:t,...n},r){const a=new Al.TileLayer(t,xf(n,r));return wf(a,r)},function(t,n,r){LD(t,n,r);const{url:a}=n;a!=null&&a!==r.url&&t.setUrl(a)}),OD=I2(function(t,n){const r=new Al.Tooltip(t,n.overlayContainer);return wf(r,n)},function(t,n,{position:r},a){k.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:h}=t,d=y=>{y.tooltip===h&&(r!=null&&h.setLatLng(r),h.update(),a(!0))},g=y=>{y.tooltip===h&&a(!1)};return u.on({tooltipopen:d,tooltipclose:g}),u.bindTooltip(h),function(){u.off({tooltipopen:d,tooltipclose:g}),u._map!=null&&u.unbindTooltip()}},[t,n,a,r])});L.Icon.Glyph=L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"",prefix:"",glyph:"home",glyphColor:"white",glyphSize:"11px",glyphAnchor:[0,0]},createIcon:function(){var e=document.createElement("div"),t=this.options;return t.glyph&&e.appendChild(this._createGlyph()),e.style.position="relative",this._setIconStyles(e,t.className),e},_createGlyph:function(){var e,t,n=this.options;n.prefix?n.prefix==="fab"||n.prefix==="fal"||n.prefix==="far"||n.prefix==="fas"?e="fa-"+n.glyph:n.glyph.slice(0,n.prefix.length+1)===n.prefix+"-"?e=n.glyph:e=n.prefix+"-"+n.glyph:(e="",t=n.glyph);var r=L.DomUtil.create("span",n.prefix+" "+e);return r.style.position="absolute",r.style.fontSize=n.glyphSize,r.style.color=n.glyphColor,r.style.width=n.iconSize[0]+"px",r.style.lineHeight=n.iconSize[1]+"px",r.style.textAlign="center",r.style.left=n.glyphAnchor[0]+"px",r.style.top=n.glyphAnchor[1]+"px",r.style.pointerEvents="none",r.style.display="inline-block",t&&(r.innerHTML=t),r},_setIconStyles:function(e,t){if(t==="shadow")return L.Icon.prototype._setIconStyles.call(this,e,t);var n=this.options,r=L.point(n.iconSize),a=L.point(n.iconAnchor);!a&&r&&(a=r.divideBy(2,!0)),e.className="leaflet-marker-icon leaflet-glyph-icon "+t;var o=this._getIconUrl("icon");o&&(e.style.backgroundImage="url('"+o+"')"),n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.bgSize&&(e.style.backgroundSize=n.bgSize.x+"px "+n.bgSize.y+"px"),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")}});L.icon.glyph=function(e){return new L.Icon.Glyph(e)};L.Icon.Glyph.prototype.options.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=";function uv({glyph:e,glyphColor:t="white",bgColor:n="white",glyphSize:r="8px",iconUrl:a="/Mapassets/icons/glyph-marker-icon-blue.svg",className:o,iconSize:u,prefix:h,glyphAnchor:d,isActive:g}){let y=r;typeof y=="number"?y=`${y}px`:typeof y=="string"&&!y.endsWith("px")?y=`${y}px`:y||(y="8px");const v=u||[25,41],x=Math.round(v[0]*(41/25)),w=Math.round(v[1]*(41/41)),E=Math.round(x*12/41),T=w,N=Sl();return Ot.icon.glyph({iconUrl:a||`${N}assets/icons/glyph-marker-icon-blue.svg`,iconSize:v,iconAnchor:[Math.round(v[0]/2),v[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:`${N}assets/icons/marker-shadow.png`,shadowSize:[x,w],shadowAnchor:[E,T],prefix:h||"",glyph:e||"",glyphColor:t||"white",bgColor:n,glyphSize:y,glyphAnchor:d||[0,0],className:g?`${o} marker-active`:o||""})}function cv(e="md"){const t={sm:"(max-width: 639px)",md:"(max-width: 767px)",lg:"(max-width: 1023px)",xl:"(max-width: 1279px)","2xl":"(max-width: 1535px)"},n=t[e]||t.md,[r,a]=k.useState(()=>typeof window<"u"?window.matchMedia(n).matches:!1);return k.useEffect(()=>{if(typeof window>"u")return;const o=window.matchMedia(n),u=()=>a(o.matches);return o.addEventListener("change",u),()=>o.removeEventListener("change",u)},[n]),r}const hv=k.createContext({});function dv(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const fv=typeof window<"u",V2=fv?k.useLayoutEffect:k.useEffect,Ef=k.createContext(null);function pv(e,t){e.indexOf(t)===-1&&e.push(t)}function mv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ns=(e,t,n)=>n>t?t:n<e?e:n;let gv=()=>{};const is={},H2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function F2(e){return typeof e=="object"&&e!==null}const q2=e=>/^0[^.\s]+$/u.test(e);function yv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mi=e=>e,PD=(e,t)=>n=>t(e(n)),Ic=(...e)=>e.reduce(PD),xc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class vv{constructor(){this.subscriptions=[]}add(t){return pv(this.subscriptions,t),()=>mv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const br=e=>e*1e3,Ni=e=>e/1e3;function $2(e,t){return t?e*(1e3/t):0}const Z2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RD=1e-7,DD=12;function zD(e,t,n,r,a){let o,u,h=0;do u=t+(n-t)/2,o=Z2(u,r,a)-e,o>0?n=u:t=u;while(Math.abs(o)>RD&&++h<DD);return u}function Uc(e,t,n,r){if(e===t&&n===r)return Mi;const a=o=>zD(o,0,1,e,n);return o=>o===0||o===1?o:Z2(a(o),t,r)}const G2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,K2=e=>t=>1-e(1-t),W2=Uc(.33,1.53,.69,.99),_v=K2(W2),Y2=G2(_v),X2=e=>(e*=2)<1?.5*_v(e):.5*(2-Math.pow(2,-10*(e-1))),bv=e=>1-Math.sin(Math.acos(e)),J2=K2(bv),Q2=G2(bv),BD=Uc(.42,0,1,1),ID=Uc(0,0,.58,1),eE=Uc(.42,0,.58,1),UD=e=>Array.isArray(e)&&typeof e[0]!="number",tE=e=>Array.isArray(e)&&typeof e[0]=="number",VD={linear:Mi,easeIn:BD,easeInOut:eE,easeOut:ID,circIn:bv,circInOut:Q2,circOut:J2,backIn:_v,backInOut:Y2,backOut:W2,anticipate:X2},HD=e=>typeof e=="string",K1=e=>{if(tE(e)){gv(e.length===4);const[t,n,r,a]=e;return Uc(t,n,r,a)}else if(HD(e))return VD[e];return e},kd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FD(e,t){let n=new Set,r=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(g.schedule(y),e()),y(h)}const g={schedule:(y,v=!1,x=!1)=>{const E=x&&a?n:r;return v&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,o&&(o=!1,g.process(y))}};return g}const qD=40;function nE(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=kd.reduce((M,U)=>(M[U]=FD(o),M),{}),{setup:h,read:d,resolveKeyframes:g,preUpdate:y,update:v,preRender:x,render:w,postRender:E}=u,T=()=>{const M=is.useManualTiming?a.timestamp:performance.now();n=!1,is.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(M-a.timestamp,qD),1)),a.timestamp=M,a.isProcessing=!0,h.process(a),d.process(a),g.process(a),y.process(a),v.process(a),x.process(a),w.process(a),E.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(T))},N=()=>{n=!0,r=!0,a.isProcessing||e(T)};return{schedule:kd.reduce((M,U)=>{const H=u[U];return M[U]=(I,F=!1,te=!1)=>(n||N(),H.schedule(I,F,te)),M},{}),cancel:M=>{for(let U=0;U<kd.length;U++)u[kd[U]].cancel(M)},state:a,steps:u}}const{schedule:Pt,cancel:Ks,state:wn,steps:hg}=nE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let zd;function $D(){zd=void 0}const Xn={now:()=>(zd===void 0&&Xn.set(wn.isProcessing||is.useManualTiming?wn.timestamp:performance.now()),zd),set:e=>{zd=e,queueMicrotask($D)}},iE=e=>t=>typeof t=="string"&&t.startsWith(e),xv=iE("--"),ZD=iE("var(--"),wv=e=>ZD(e)?GD.test(e.split("/*")[0].trim()):!1,GD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wc={...Nl,transform:e=>ns(0,1,e)},Ad={...Nl,default:1},ac=e=>Math.round(e*1e5)/1e5,Sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KD(e){return e==null}const WD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cv=(e,t)=>n=>!!(typeof n=="string"&&WD.test(n)&&n.startsWith(e)||t&&!KD(n)&&Object.prototype.hasOwnProperty.call(n,t)),rE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,o,u,h]=r.match(Sv);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},YD=e=>ns(0,255,e),dg={...Nl,transform:e=>Math.round(YD(e))},Ka={test:Cv("rgb","red"),parse:rE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dg.transform(e)+", "+dg.transform(t)+", "+dg.transform(n)+", "+ac(wc.transform(r))+")"};function XD(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ly={test:Cv("#"),parse:XD,transform:Ka.transform},Vc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zs=Vc("deg"),xr=Vc("%"),qe=Vc("px"),JD=Vc("vh"),QD=Vc("vw"),W1={...xr,parse:e=>xr.parse(e)/100,transform:e=>xr.transform(e*100)},sl={test:Cv("hsl","hue"),parse:rE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xr.transform(ac(t))+", "+xr.transform(ac(n))+", "+ac(wc.transform(r))+")"},rn={test:e=>Ka.test(e)||ly.test(e)||sl.test(e),parse:e=>Ka.test(e)?Ka.parse(e):sl.test(e)?sl.parse(e):ly.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ka.transform(e):sl.transform(e),getAnimatableNone:e=>{const t=rn.parse(e);return t.alpha=0,rn.transform(t)}},e4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Sv)?.length||0)+(e.match(e4)?.length||0)>0}const sE="number",aE="color",n4="var",i4="var(",Y1="${}",r4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const h=t.replace(r4,d=>(rn.test(d)?(r.color.push(o),a.push(aE),n.push(rn.parse(d))):d.startsWith(i4)?(r.var.push(o),a.push(n4),n.push(d)):(r.number.push(o),a.push(sE),n.push(parseFloat(d))),++o,Y1)).split(Y1);return{values:n,split:h,indexes:r,types:a}}function oE(e){return Sc(e).values}function lE(e){const{split:t,types:n}=Sc(e),r=t.length;return a=>{let o="";for(let u=0;u<r;u++)if(o+=t[u],a[u]!==void 0){const h=n[u];h===sE?o+=ac(a[u]):h===aE?o+=rn.transform(a[u]):o+=a[u]}return o}}const s4=e=>typeof e=="number"?0:rn.test(e)?rn.getAnimatableNone(e):e;function a4(e){const t=oE(e);return lE(e)(t.map(s4))}const Ws={test:t4,parse:oE,createTransformer:lE,getAnimatableNone:a4};function fg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function o4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,o=0,u=0;if(!t)a=o=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,d=2*n-h;a=fg(d,h,e+1/3),o=fg(d,h,e),u=fg(d,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function Qd(e,t){return n=>n>0?t:e}const It=(e,t,n)=>e+(t-e)*n,pg=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},l4=[ly,Ka,sl],u4=e=>l4.find(t=>t.test(e));function X1(e){const t=u4(e);if(!t)return!1;let n=t.parse(e);return t===sl&&(n=o4(n)),n}const J1=(e,t)=>{const n=X1(e),r=X1(t);if(!n||!r)return Qd(e,t);const a={...n};return o=>(a.red=pg(n.red,r.red,o),a.green=pg(n.green,r.green,o),a.blue=pg(n.blue,r.blue,o),a.alpha=It(n.alpha,r.alpha,o),Ka.transform(a))},uy=new Set(["none","hidden"]);function c4(e,t){return uy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function h4(e,t){return n=>It(e,t,n)}function Ev(e){return typeof e=="number"?h4:typeof e=="string"?wv(e)?Qd:rn.test(e)?J1:p4:Array.isArray(e)?uE:typeof e=="object"?rn.test(e)?J1:d4:Qd}function uE(e,t){const n=[...e],r=n.length,a=e.map((o,u)=>Ev(o)(o,t[u]));return o=>{for(let u=0;u<r;u++)n[u]=a[u](o);return n}}function d4(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Ev(e[a])(e[a],t[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function f4(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],u=e.indexes[o][r[o]],h=e.values[u]??0;n[a]=h,r[o]++}return n}const p4=(e,t)=>{const n=Ws.createTransformer(t),r=Sc(e),a=Sc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?uy.has(e)&&!a.values.length||uy.has(t)&&!r.values.length?c4(e,t):Ic(uE(f4(r,a),a.values),n):Qd(e,t)};function cE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?It(e,t,n):Ev(e)(e,t)}const m4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pt.update(t,n),stop:()=>Ks(t),now:()=>wn.isProcessing?wn.timestamp:Xn.now()}},hE=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)r+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ef=2e4;function Tv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ef;)t+=n,r=e.next(t);return t>=ef?1/0:t}function g4(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Tv(r),ef);return{type:"keyframes",ease:o=>r.next(a*o).value/t,duration:Ni(a)}}const y4=5;function dE(e,t,n){const r=Math.max(t-y4,0);return $2(n-e(r),t-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mg=.001;function v4({duration:e=$t.duration,bounce:t=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let a,o,u=1-t;u=ns($t.minDamping,$t.maxDamping,u),e=ns($t.minDuration,$t.maxDuration,Ni(e)),u<1?(a=g=>{const y=g*u,v=y*e,x=y-n,w=cy(g,u),E=Math.exp(-v);return mg-x/w*E},o=g=>{const v=g*u*e,x=v*n+n,w=Math.pow(u,2)*Math.pow(g,2)*e,E=Math.exp(-v),T=cy(Math.pow(g,2),u);return(-a(g)+mg>0?-1:1)*((x-w)*E)/T}):(a=g=>{const y=Math.exp(-g*e),v=(g-n)*e+1;return-mg+y*v},o=g=>{const y=Math.exp(-g*e),v=(n-g)*(e*e);return y*v});const h=5/e,d=b4(a,o,h);if(e=br(e),isNaN(d))return{stiffness:$t.stiffness,damping:$t.damping,duration:e};{const g=Math.pow(d,2)*r;return{stiffness:g,damping:u*2*Math.sqrt(r*g),duration:e}}}const _4=12;function b4(e,t,n){let r=n;for(let a=1;a<_4;a++)r=r-e(r)/t(r);return r}function cy(e,t){return e*Math.sqrt(1-t*t)}const x4=["duration","bounce"],w4=["stiffness","damping","mass"];function Q1(e,t){return t.some(n=>e[n]!==void 0)}function S4(e){let t={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...e};if(!Q1(e,w4)&&Q1(e,x4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*ns(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:$t.mass,stiffness:a,damping:o}}else{const n=v4(e);t={...t,...n,mass:$t.mass},t.isResolvedFromDuration=!0}return t}function tf(e=$t.visualDuration,t=$t.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:g,mass:y,duration:v,velocity:x,isResolvedFromDuration:w}=S4({...n,velocity:-Ni(n.velocity||0)}),E=x||0,T=g/(2*Math.sqrt(d*y)),N=u-o,O=Ni(Math.sqrt(d/y)),P=Math.abs(N)<5;r||(r=P?$t.restSpeed.granular:$t.restSpeed.default),a||(a=P?$t.restDelta.granular:$t.restDelta.default);let M;if(T<1){const H=cy(O,T);M=I=>{const F=Math.exp(-T*O*I);return u-F*((E+T*O*N)/H*Math.sin(H*I)+N*Math.cos(H*I))}}else if(T===1)M=H=>u-Math.exp(-O*H)*(N+(E+O*N)*H);else{const H=O*Math.sqrt(T*T-1);M=I=>{const F=Math.exp(-T*O*I),te=Math.min(H*I,300);return u-F*((E+T*O*N)*Math.sinh(te)+H*N*Math.cosh(te))/H}}const U={calculatedDuration:w&&v||null,next:H=>{const I=M(H);if(w)h.done=H>=v;else{let F=H===0?E:0;T<1&&(F=H===0?br(E):dE(M,H,I));const te=Math.abs(F)<=r,G=Math.abs(u-I)<=a;h.done=te&&G}return h.value=h.done?u:I,h},toString:()=>{const H=Math.min(Tv(U),ef),I=hE(F=>U.next(H*F).value,H,30);return H+"ms "+I},toTransition:()=>{}};return U}tf.applyToOptions=e=>{const t=g4(e,100,tf);return e.ease=t.ease,e.duration=br(t.duration),e.type="keyframes",e};function hy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:g=.5,restSpeed:y}){const v=e[0],x={done:!1,value:v},w=te=>h!==void 0&&te<h||d!==void 0&&te>d,E=te=>h===void 0?d:d===void 0||Math.abs(h-te)<Math.abs(d-te)?h:d;let T=n*t;const N=v+T,O=u===void 0?N:u(N);O!==N&&(T=O-v);const P=te=>-T*Math.exp(-te/r),M=te=>O+P(te),U=te=>{const G=P(te),re=M(te);x.done=Math.abs(G)<=g,x.value=x.done?O:re};let H,I;const F=te=>{w(x.value)&&(H=te,I=tf({keyframes:[x.value,E(x.value)],velocity:dE(M,te,x.value),damping:a,stiffness:o,restDelta:g,restSpeed:y}))};return F(0),{calculatedDuration:null,next:te=>{let G=!1;return!I&&H===void 0&&(G=!0,U(te),F(te)),H!==void 0&&te>=H?I.next(te-H):(!G&&U(te),x)}}}function C4(e,t,n){const r=[],a=n||is.mix||cE,o=e.length-1;for(let u=0;u<o;u++){let h=a(e[u],e[u+1]);if(t){const d=Array.isArray(t)?t[u]||Mi:t;h=Ic(d,h)}r.push(h)}return r}function E4(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const o=e.length;if(gv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=C4(t,r,a),d=h.length,g=y=>{if(u&&y<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const x=xc(e[v],e[v+1],y);return h[v](x)};return n?y=>g(ns(e[0],e[o-1],y)):g}function T4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=xc(0,t,r);e.push(It(n,1,a))}}function j4(e){const t=[0];return T4(t,e.length-1),t}function L4(e,t){return e.map(n=>n*t)}function k4(e,t){return e.map(()=>t||eE).splice(0,e.length-1)}function oc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=UD(r)?r.map(K1):K1(r),o={done:!1,value:t[0]},u=L4(n&&n.length===t.length?n:j4(t),e),h=E4(u,t,{ease:Array.isArray(a)?a:k4(t,a)});return{calculatedDuration:e,next:d=>(o.value=h(d),o.done=d>=e,o)}}const A4=e=>e!==null;function jv(e,{repeat:t,repeatType:n="loop"},r,a=1){const o=e.filter(A4),h=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!h||r===void 0?o[h]:r}const N4={decay:hy,inertia:hy,tween:oc,keyframes:oc,spring:tf};function fE(e){typeof e.type=="string"&&(e.type=N4[e.type])}class Lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const M4=e=>e/100;class kv extends Lv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;fE(t);const{type:n=oc,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=t;let{keyframes:h}=t;const d=n||oc;d!==oc&&typeof h[0]!="number"&&(this.mixKeyframes=Ic(M4,cE(h[0],h[1])),h=[0,100]);const g=d({...t,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Tv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:w,type:E,onUpdate:T,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const O=this.currentTime-g*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let M=this.currentTime,U=r;if(v){const te=Math.min(this.currentTime,a)/h;let G=Math.floor(te),re=te%1;!re&&te>=1&&(re=1),re===1&&G--,G=Math.min(G,v+1),!!(G%2)&&(x==="reverse"?(re=1-re,w&&(re-=w/h)):x==="mirror"&&(U=u)),M=ns(0,1,re)*h}const H=P?{done:!1,value:y[0]}:U.next(M);o&&(H.value=o(H.value));let{done:I}=H;!P&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return F&&E!==hy&&(H.value=jv(y,this.options,N,this.speed)),T&&T(H.value),F&&this.finish(),H}then(t,n){return this.finished.then(t,n)}get duration(){return Ni(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ni(t)}get time(){return Ni(this.currentTime)}set time(t){t=br(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=m4,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function O4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wa=e=>e*180/Math.PI,dy=e=>{const t=Wa(Math.atan2(e[1],e[0]));return fy(t)},P4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dy,rotateZ:dy,skewX:e=>Wa(Math.atan(e[1])),skewY:e=>Wa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fy=e=>(e=e%360,e<0&&(e+=360),e),ew=dy,tw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),R4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tw,scaleY:nw,scale:e=>(tw(e)+nw(e))/2,rotateX:e=>fy(Wa(Math.atan2(e[6],e[5]))),rotateY:e=>fy(Wa(Math.atan2(-e[2],e[0]))),rotateZ:ew,rotate:ew,skewX:e=>Wa(Math.atan(e[4])),skewY:e=>Wa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function py(e){return e.includes("scale")?1:0}function my(e,t){if(!e||e==="none")return py(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=R4,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=P4,a=h}if(!a)return py(t);const o=r[t],u=a[1].split(",").map(z4);return typeof o=="function"?o(u):u[o]}const D4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return my(n,t)};function z4(e){return parseFloat(e.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Ml),iw=e=>e===Nl||e===qe,B4=new Set(["x","y","z"]),I4=Ml.filter(e=>!B4.has(e));function U4(e){const t=[];return I4.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ya={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>my(t,"x"),y:(e,{transform:t})=>my(t,"y")};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const Xa=new Set;let gy=!1,yy=!1,vy=!1;function pE(){if(yy){const e=Array.from(Xa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=U4(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,u])=>{r.getValue(o)?.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yy=!1,gy=!1,Xa.forEach(e=>e.complete(vy)),Xa.clear()}function mE(){Xa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yy=!0)})}function V4(){vy=!0,mE(),pE(),vy=!1}class Av{constructor(t,n,r,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),gy||(gy=!0,Pt.read(mE),Pt.resolveKeyframes(pE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const o=a?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const h=r.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&o===void 0&&a.set(t[0])}O4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H4=e=>e.startsWith("--");function F4(e,t,n){H4(t)?e.style.setProperty(t,n):e.style[t]=n}const q4=yv(()=>window.ScrollTimeline!==void 0),$4={};function Z4(e,t){const n=yv(e);return()=>$4[t]??n()}const gE=Z4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xu([0,.65,.55,1]),circOut:Xu([.55,0,1,.45]),backIn:Xu([.31,.01,.66,-.59]),backOut:Xu([.33,1.53,.69,.99])};function yE(e,t){if(e)return typeof e=="function"?gE()?hE(e,t):"ease-out":tE(e)?Xu(e):Array.isArray(e)?e.map(n=>yE(n,t)||rw.easeOut):rw[e]}function G4(e,t,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},g=void 0){const y={[t]:n};d&&(y.offset=d);const v=yE(h,a);Array.isArray(v)&&(y.easing=v);const x={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),e.animate(y,x)}function vE(e){return typeof e=="function"&&"applyToOptions"in e}function K4({type:e,...t}){return vE(e)&&gE()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class W4 extends Lv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,gv(typeof t.type!="string");const g=K4(t);this.animation=G4(n,r,a,g,o),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=jv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):F4(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ni(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ni(t)}get time(){return Ni(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=br(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&q4()?(this.animation.timeline=t,Mi):n(this)}}const _E={anticipate:X2,backInOut:Y2,circInOut:Q2};function Y4(e){return e in _E}function X4(e){typeof e.ease=="string"&&Y4(e.ease)&&(e.ease=_E[e.ease])}const sw=10;class J4 extends W4{constructor(t){X4(t),fE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new kv({...u,autoplay:!1}),d=br(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-sw).value,h.sample(d).value,sw),h.stop()}}const aw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ws.test(e)||e==="0")&&!e.startsWith("url("));function Q4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ez(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=aw(a,t),h=aw(o,t);return!u||!h?!1:Q4(e)||(n==="spring"||vE(n))&&r}function _y(e){e.duration=0,e.type="keyframes"}const tz=new Set(["opacity","clipPath","filter","transform"]),nz=yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iz(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:g}=t.owner.getProps();return nz()&&n&&tz.has(n)&&(n!=="transform"||!g)&&!d&&!r&&a!=="mirror"&&o!==0&&u!=="inertia"}const rz=40;class sz extends Lv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xn.now();const x={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:u,name:d,motionValue:g,element:y,...v},w=y?.KeyframeResolver||Av;this.keyframeResolver=new w(h,(E,T,N)=>this.onKeyframesResolved(E,T,x,!N),d,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:g,onUpdate:y}=r;this.resolvedAt=Xn.now(),ez(t,o,u,h)||((is.instantAnimations||!d)&&y?.(jv(t,r,n)),t[0]=t[t.length-1],_y(r),r.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},w=!g&&iz(x)?new J4({...x,element:x.motionValue.owner.current}):new kv(x);w.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),V4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const az=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oz(e){const t=az.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function bE(e,t,n=1){const[r,a]=oz(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const u=o.trim();return H2(u)?parseFloat(u):u}return wv(a)?bE(a,t,n+1):a}function Nv(e,t){return e?.[t]??e?.default??e}const xE=new Set(["width","height","top","left","right","bottom",...Ml]),lz={test:e=>e==="auto",parse:e=>e},wE=e=>t=>t.test(e),SE=[Nl,qe,xr,Zs,QD,JD,lz],ow=e=>SE.find(wE(e));function uz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||q2(e):!0}const cz=new Set(["brightness","contrast","saturate","opacity"]);function hz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Sv)||[];if(!r)return e;const a=n.replace(r,"");let o=cz.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+a+")"}const dz=/\b([a-z-]*)\(.*?\)/gu,by={...Ws,getAnimatableNone:e=>{const t=e.match(dz);return t?t.map(hz).join(" "):e}},lw={...Nl,transform:Math.round},fz={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Ad,scaleX:Ad,scaleY:Ad,scaleZ:Ad,skew:Zs,skewX:Zs,skewY:Zs,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:wc,originX:W1,originY:W1,originZ:qe},Mv={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...fz,zIndex:lw,fillOpacity:wc,strokeOpacity:wc,numOctaves:lw},pz={...Mv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:by,WebkitFilter:by},CE=e=>pz[e];function EE(e,t){let n=CE(e);return n!==by&&(n=Ws),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mz=new Set(["auto","none","0"]);function gz(e,t,n){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!mz.has(o)&&Sc(o).values.length&&(a=e[r]),r++}if(a&&n)for(const o of t)e[o]=EE(n,a)}class yz extends Av{constructor(t,n,r,a,o){super(t,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let g=t[d];if(typeof g=="string"&&(g=g.trim(),wv(g))){const y=bE(g,n.current);y!==void 0&&(t[d]=y),d===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!xE.has(r)||t.length!==2)return;const[a,o]=t,u=ow(a),h=ow(o);if(u!==h)if(iw(u)&&iw(h))for(let d=0;d<t.length;d++){const g=t[d];typeof g=="string"&&(t[d]=parseFloat(g))}else Ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||uz(t[a]))&&r.push(a);r.length&&gz(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ya[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,u=r[o];r[o]=Ya[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function vz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const TE=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function jE(e){return F2(e)&&"offsetHeight"in e}const uw=30,_z=e=>!isNaN(parseFloat(e));class bz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_z(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vv);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uw);return $2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(e,t){return new bz(e,t)}const{schedule:Ov}=nE(queueMicrotask,!1),Wi={x:!1,y:!1};function LE(){return Wi.x||Wi.y}function xz(e){return e==="x"||e==="y"?Wi[e]?null:(Wi[e]=!0,()=>{Wi[e]=!1}):Wi.x||Wi.y?null:(Wi.x=Wi.y=!0,()=>{Wi.x=Wi.y=!1})}function kE(e,t){const n=vz(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function cw(e){return!(e.pointerType==="touch"||LE())}function wz(e,t,n={}){const[r,a,o]=kE(e,n),u=h=>{if(!cw(h))return;const{target:d}=h,g=t(d,h);if(typeof g!="function"||!d)return;const y=v=>{cw(v)&&(g(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const AE=(e,t)=>t?e===t?!0:AE(e,t.parentElement):!1,Pv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Sz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cz(e){return Sz.has(e.tagName)||e.tabIndex!==-1}const Bd=new WeakSet;function hw(e){return t=>{t.key==="Enter"&&e(t)}}function gg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ez=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=hw(()=>{if(Bd.has(n))return;gg(n,"down");const a=hw(()=>{gg(n,"up")}),o=()=>gg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function dw(e){return Pv(e)&&!LE()}function Tz(e,t,n={}){const[r,a,o]=kE(e,n),u=h=>{const d=h.currentTarget;if(!dw(h))return;Bd.add(d);const g=t(d,h),y=(w,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Bd.has(d)&&Bd.delete(d),dw(w)&&typeof g=="function"&&g(w,{success:E})},v=w=>{y(w,d===window||d===document||n.useGlobalTarget||AE(d,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),jE(h)&&(h.addEventListener("focus",g=>Ez(g,a)),!Cz(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function NE(e){return F2(e)&&"ownerSVGElement"in e}function jz(e){return NE(e)&&e.tagName==="svg"}const Ln=e=>!!(e&&e.getVelocity),Lz=[...SE,rn,Ws],kz=e=>Lz.find(wE(e)),Rv=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function fw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Az(...e){return t=>{let n=!1;const r=e.map(a=>{const o=fw(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():fw(e[a],null)}}}}function Nz(...e){return k.useCallback(Az(...e),e)}class Mz extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=jE(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Oz({children:e,isPresent:t,anchorX:n,root:r}){const a=k.useId(),o=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=k.useContext(Rv),d=Nz(o,e?.ref);return k.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:x,right:w}=u.current;if(t||!o.current||!g||!y)return;const E=n==="left"?`left: ${x}`:`right: ${w}`;o.current.dataset.motionPopId=a;const T=document.createElement("style");h&&(T.nonce=h);const N=r??document.head;return N.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(T)&&N.removeChild(T)}},[t]),m.jsx(Mz,{isPresent:t,childRef:o,sizeRef:u,children:k.cloneElement(e,{ref:d})})}const Pz=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,root:d})=>{const g=dv(Rz),y=k.useId();let v=!0,x=k.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:w=>{g.set(w,!0);for(const E of g.values())if(!E)return;r&&r()},register:w=>(g.set(w,!1),()=>g.delete(w))}),[n,g,r]);return o&&v&&(x={...x}),k.useMemo(()=>{g.forEach((w,E)=>g.set(E,!1))},[n]),k.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),u==="popLayout"&&(e=m.jsx(Oz,{isPresent:n,anchorX:h,root:d,children:e})),m.jsx(Ef.Provider,{value:x,children:e})};function Rz(){return new Map}function ME(e=!0){const t=k.useContext(Ef);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,o=k.useId();k.useEffect(()=>{if(e)return a(o)},[e]);const u=k.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,u]:[!0]}const Nd=e=>e.key||"";function pw(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const Dz=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[g,y]=ME(u),v=k.useMemo(()=>pw(e),[e]),x=u&&!g?[]:v.map(Nd),w=k.useRef(!0),E=k.useRef(v),T=dv(()=>new Map),[N,O]=k.useState(v),[P,M]=k.useState(v);V2(()=>{w.current=!1,E.current=v;for(let I=0;I<P.length;I++){const F=Nd(P[I]);x.includes(F)?T.delete(F):T.get(F)!==!0&&T.set(F,!1)}},[P,x.length,x.join("-")]);const U=[];if(v!==N){let I=[...v];for(let F=0;F<P.length;F++){const te=P[F],G=Nd(te);x.includes(G)||(I.splice(F,0,te),U.push(te))}return o==="wait"&&U.length&&(I=U),M(pw(I)),O(v),null}const{forceRender:H}=k.useContext(hv);return m.jsx(m.Fragment,{children:P.map(I=>{const F=Nd(I),te=u&&!g?!1:v===P||x.includes(F),G=()=>{if(T.has(F))T.set(F,!0);else return;let re=!0;T.forEach(K=>{K||(re=!1)}),re&&(H?.(),M(E.current),u&&y?.(),r&&r())};return m.jsx(Pz,{isPresent:te,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:te?void 0:G,anchorX:h,children:I},F)})})},OE=k.createContext({strict:!1}),mw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const e in mw)wl[e]={isEnabled:t=>mw[e].some(n=>!!t[n])};function zz(e){for(const t in e)wl[t]={...wl[t],...e[t]}}const Bz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bz.has(e)}let PE=e=>!nf(e);function Iz(e){typeof e=="function"&&(PE=t=>t.startsWith("on")?!nf(t):e(t))}try{Iz(require("@emotion/is-prop-valid").default)}catch{}function Uz(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(PE(a)||n===!0&&nf(a)||!t&&!nf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Tf=k.createContext({});function jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cc(e){return typeof e=="string"||Array.isArray(e)}const Dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zv=["initial",...Dv];function Lf(e){return jf(e.animate)||zv.some(t=>Cc(e[t]))}function RE(e){return!!(Lf(e)||e.variants)}function Vz(e,t){if(Lf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Cc(n)?n:void 0,animate:Cc(r)?r:void 0}}return e.inherit!==!1?t:{}}function Hz(e){const{initial:t,animate:n}=Vz(e,k.useContext(Tf));return k.useMemo(()=>({initial:t,animate:n}),[gw(t),gw(n)])}function gw(e){return Array.isArray(e)?e.join(" "):e}const Ec={};function Fz(e){for(const t in e)Ec[t]=e[t],xv(t)&&(Ec[t].isCSSVariable=!0)}function DE(e,{layout:t,layoutId:n}){return Ol.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ec[e]||e==="opacity")}const qz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$z=Ml.length;function Zz(e,t,n){let r="",a=!0;for(let o=0;o<$z;o++){const u=Ml[o],h=e[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const g=TE(h,Mv[u]);if(!d){a=!1;const y=qz[u]||u;r+=`${y}(${g}) `}n&&(t[u]=g)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Bv(e,t,n){const{style:r,vars:a,transformOrigin:o}=e;let u=!1,h=!1;for(const d in t){const g=t[d];if(Ol.has(d)){u=!0;continue}else if(xv(d)){a[d]=g;continue}else{const y=TE(g,Mv[d]);d.startsWith("origin")?(h=!0,o[d]=y):r[d]=y}}if(t.transform||(u||n?r.transform=Zz(t,e.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:g="50%",originZ:y=0}=o;r.transformOrigin=`${d} ${g} ${y}`}}const Iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zE(e,t,n){for(const r in t)!Ln(t[r])&&!DE(r,n)&&(e[r]=t[r])}function Gz({transformTemplate:e},t){return k.useMemo(()=>{const n=Iv();return Bv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Kz(e,t){const n=e.style||{},r={};return zE(r,n,e),Object.assign(r,Gz(e,t)),r}function Wz(e,t){const n={},r=Kz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Yz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xz={offset:"strokeDashoffset",array:"strokeDasharray"};function Jz(e,t,n=1,r=0,a=!0){e.pathLength=1;const o=a?Yz:Xz;e[o.offset]=qe.transform(-r);const u=qe.transform(t),h=qe.transform(n);e[o.array]=`${u} ${h}`}function BE(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},d,g,y){if(Bv(e,h,g),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x}=e;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&Jz(v,a,o,u,!1)}const IE=()=>({...Iv(),attrs:{}}),UE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Qz(e,t,n,r){const a=k.useMemo(()=>{const o=IE();return BE(o,t,UE(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};zE(o,e.style,e),a.style={...o,...a.style}}return a}const e6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uv(e){return typeof e!="string"||e.includes("-")?!1:!!(e6.indexOf(e)>-1||/[A-Z]/u.test(e))}function t6(e,t,n,{latestValues:r},a,o=!1){const h=(Uv(e)?Qz:Wz)(t,r,a,e),d=Uz(t,typeof e=="string",o),g=e!==k.Fragment?{...d,...h,ref:n}:{},{children:y}=t,v=k.useMemo(()=>Ln(y)?y.get():y,[y]);return k.createElement(e,{...g,children:v})}function yw(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Vv(e,t,n,r){if(typeof t=="function"){const[a,o]=yw(r);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=yw(r);t=t(n!==void 0?n:e.custom,a,o)}return t}function Id(e){return Ln(e)?e.get():e}function n6({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:i6(n,r,a,e),renderState:t()}}function i6(e,t,n,r){const a={},o=r(e,{});for(const x in o)a[x]=Id(o[x]);let{initial:u,animate:h}=e;const d=Lf(e),g=RE(e);t&&g&&!d&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!jf(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const E=Vv(e,x[w]);if(E){const{transitionEnd:T,transition:N,...O}=E;for(const P in O){let M=O[P];if(Array.isArray(M)){const U=y?M.length-1:0;M=M[U]}M!==null&&(a[P]=M)}for(const P in T)a[P]=T[P]}}}return a}const VE=e=>(t,n)=>{const r=k.useContext(Tf),a=k.useContext(Ef),o=()=>n6(e,t,r,a);return n?o():dv(o)};function Hv(e,t,n){const{style:r}=e,a={};for(const o in r)(Ln(r[o])||t.style&&Ln(t.style[o])||DE(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const r6=VE({scrapeMotionValuesFromProps:Hv,createRenderState:Iv});function HE(e,t,n){const r=Hv(e,t,n);for(const a in e)if(Ln(e[a])||Ln(t[a])){const o=Ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}const s6=VE({scrapeMotionValuesFromProps:HE,createRenderState:IE}),a6=Symbol.for("motionComponentSymbol");function al(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function o6(e,t,n){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):al(n)&&(n.current=r))},[t])}const Fv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l6="framerAppearId",FE="data-"+Fv(l6),qE=k.createContext({});function u6(e,t,n,r,a){const{visualElement:o}=k.useContext(Tf),u=k.useContext(OE),h=k.useContext(Ef),d=k.useContext(Rv).reducedMotion,g=k.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=g.current,v=k.useContext(qE);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&c6(g.current,n,a,v);const x=k.useRef(!1);k.useInsertionEffect(()=>{y&&x.current&&y.update(n,h)});const w=n[FE],E=k.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return V2(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),E.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),E.current=!1),y.enteringChildren=void 0)}),y}function c6(e,t,n,r){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$E(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&al(h),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:g})}function $E(e){if(e)return e.options.allowProjection!==!1?e.projection:$E(e.parent)}function yg(e,{forwardMotionProps:t=!1}={},n,r){n&&zz(n);const a=Uv(e)?s6:r6;function o(h,d){let g;const y={...k.useContext(Rv),...h,layoutId:h6(h)},{isStatic:v}=y,x=Hz(h),w=a(h,v);if(!v&&fv){d6();const E=f6(y);g=E.MeasureLayout,x.visualElement=u6(e,w,y,r,E.ProjectionNode)}return m.jsxs(Tf.Provider,{value:x,children:[g&&x.visualElement?m.jsx(g,{visualElement:x.visualElement,...y}):null,t6(e,h,o6(w,x.visualElement,d),w,v,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=k.forwardRef(o);return u[a6]=e,u}function h6({layoutId:e}){const t=k.useContext(hv).id;return t&&e!==void 0?t+"-"+e:e}function d6(e,t){k.useContext(OE).strict}function f6(e){const{drag:t,layout:n}=wl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function p6(e,t){if(typeof Proxy>"u")return yg;const n=new Map,r=(o,u)=>yg(o,u,e,t),a=(o,u)=>r(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?r:(n.has(u)||n.set(u,yg(u,void 0,e,t)),n.get(u))})}function ZE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function m6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function g6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vg(e){return e===void 0||e===1}function xy({scale:e,scaleX:t,scaleY:n}){return!vg(e)||!vg(t)||!vg(n)}function qa(e){return xy(e)||GE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GE(e){return vw(e.x)||vw(e.y)}function vw(e){return e&&e!=="0%"}function rf(e,t,n){const r=e-n,a=t*r;return n+a}function _w(e,t,n,r,a){return a!==void 0&&(e=rf(e,a,r)),rf(e,n,r)+t}function wy(e,t=0,n=1,r,a){e.min=_w(e.min,t,n,r,a),e.max=_w(e.max,t,n,r,a)}function KE(e,{x:t,y:n}){wy(e.x,t.translate,t.scale,t.originPoint),wy(e.y,n.translate,n.scale,n.originPoint)}const bw=.999999999999,xw=1.0000000000001;function y6(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ll(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,KE(e,u)),r&&qa(o.latestValues)&&ll(e,o.latestValues))}t.x<xw&&t.x>bw&&(t.x=1),t.y<xw&&t.y>bw&&(t.y=1)}function ol(e,t){e.min=e.min+t,e.max=e.max+t}function ww(e,t,n,r,a=.5){const o=It(e.min,e.max,a);wy(e,t,n,o,r)}function ll(e,t){ww(e.x,t.x,t.scaleX,t.scale,t.originX),ww(e.y,t.y,t.scaleY,t.scale,t.originY)}function WE(e,t){return ZE(g6(e.getBoundingClientRect(),t))}function v6(e,t,n){const r=WE(e,n),{scroll:a}=t;return a&&(ol(r.x,a.offset.x),ol(r.y,a.offset.y)),r}const Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:Sw(),y:Sw()}),Cw=()=>({min:0,max:0}),Kt=()=>({x:Cw(),y:Cw()}),Sy={current:null},YE={current:!1};function _6(){if(YE.current=!0,!!fv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sy.current=e.matches;e.addEventListener("change",t),t()}else Sy.current=!1}const b6=new WeakMap;function x6(e,t,n){for(const r in t){const a=t[r],o=n[r];if(Ln(a))e.addValue(r,a);else if(Ln(o))e.addValue(r,xl(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(r);e.addValue(r,xl(u!==void 0?u:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Av,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Xn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Pt.render(this.render,!1,!0))};const{latestValues:d,renderState:g}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Lf(n),this.isVariantNode=RE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&Ln(w)&&w.set(d[x])}}mount(t){this.current=t,b6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YE.current||_6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ol.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wl){const n=wl[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ew.length;r++){const a=Ew[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=t[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=x6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(H2(r)||q2(r))?r=parseFloat(r):!kz(r)&&Ws.test(n)&&(r=EE(t,n)),this.setBaseTarget(t,Ln(r)?r.get():r)),Ln(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Vv(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ln(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ov.render(this.render)}}class XE extends w6{constructor(){super(...arguments),this.KeyframeResolver=yz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function JE(e,{style:t,vars:n},r,a){const o=e.style;let u;for(u in t)o[u]=t[u];a?.applyProjectionStyles(o,r);for(u in n)o.setProperty(u,n[u])}function S6(e){return window.getComputedStyle(e)}class C6 extends XE{constructor(){super(...arguments),this.type="html",this.renderInstance=JE}readValueFromInstance(t,n){if(Ol.has(n))return this.projection?.isProjecting?py(n):D4(t,n);{const r=S6(t),a=(xv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return WE(t,n)}build(t,n,r){Bv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Hv(t,n,r)}}const QE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E6(e,t,n,r){JE(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(QE.has(a)?a:Fv(a),t.attrs[a])}class T6 extends XE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ol.has(n)){const r=CE(n);return r&&r.default||0}return n=QE.has(n)?n:Fv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return HE(t,n,r)}build(t,n,r){BE(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){E6(t,n,r,a)}mount(t){this.isSVGTag=UE(t.tagName),super.mount(t)}}const j6=(e,t)=>Uv(e)?new T6(t):new C6(t,{allowProjection:e!==k.Fragment});function ml(e,t,n){const r=e.getProps();return Vv(r,t,n!==void 0?n:r.custom,e)}const Cy=e=>Array.isArray(e);function L6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xl(n))}function k6(e){return Cy(e)?e[e.length-1]||0:e}function A6(e,t){const n=ml(e,t);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const u in o){const h=k6(o[u]);L6(e,u,h)}}function N6(e){return!!(Ln(e)&&e.add)}function Ey(e,t){const n=e.getValue("willChange");if(N6(n))return n.add(t);if(!n&&is.WillChange){const r=new is.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function eT(e){return e.props[FE]}const M6=e=>e!==null;function O6(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(M6),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[o]}const P6={type:"spring",stiffness:500,damping:25,restSpeed:10},R6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D6={type:"keyframes",duration:.8},z6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B6=(e,{keyframes:t})=>t.length>2?D6:Ol.has(e)?e.startsWith("scale")?R6(t[1]):P6:z6;function I6({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:g,...y}){return!!Object.keys(y).length}const qv=(e,t,n,r={},a,o)=>u=>{const h=Nv(r,e)||{},d=h.delay||r.delay||0;let{elapsed:g=0}=r;g=g-br(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:x=>{t.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:o?void 0:a};I6(h)||Object.assign(y,B6(e,y)),y.duration&&(y.duration=br(y.duration)),y.repeatDelay&&(y.repeatDelay=br(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(_y(y),y.delay===0&&(v=!0)),(is.instantAnimations||is.skipAnimations)&&(v=!0,_y(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!o&&t.get()!==void 0){const x=O6(y.keyframes,h);if(x!==void 0){Pt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return h.isSync?new kv(y):new sz(y)};function U6({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function tT(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...h}=t;r&&(o=r);const d=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const v=e.getValue(y,e.latestValues[y]??null),x=h[y];if(x===void 0||g&&U6(g,y))continue;const w={delay:n,...Nv(o||{},y)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===E&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const O=eT(e);if(O){const P=window.MotionHandoffAnimation(O,y,Pt);P!==null&&(w.startTime=P,T=!0)}}Ey(e,y),v.start(qv(y,v,x,e.shouldReduceMotion&&xE.has(y)?{type:!1}:w,e,T));const N=v.animation;N&&d.push(N)}return u&&Promise.all(d).then(()=>{Pt.update(()=>{u&&A6(e,u)})}),d}function nT(e,t,n,r=0,a=1){const o=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=e.size,h=(u-1)*r;return typeof n=="function"?n(o,u):a===1?o*r:h-o*r}function Ty(e,t,n={}){const r=ml(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(tT(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return V6(e,t,d,g,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,g]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>g())}else return Promise.all([o(),u(n.delay)])}function V6(e,t,n=0,r=0,a=0,o=1,u){const h=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),h.push(Ty(d,t,{...u,delay:n+(typeof r=="function"?0:r)+nT(e.variantChildren,d,r,a,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function H6(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>Ty(e,o,n));r=Promise.all(a)}else if(typeof t=="string")r=Ty(e,t,n);else{const a=typeof t=="function"?ml(e,t,n.custom):t;r=Promise.all(tT(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function iT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const F6=zv.length;function rT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?rT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<F6;n++){const r=zv[n],a=e.props[r];(Cc(a)||a===!1)&&(t[r]=a)}return t}const q6=[...Dv].reverse(),$6=Dv.length;function Z6(e){return t=>Promise.all(t.map(({animation:n,options:r})=>H6(e,n,r)))}function G6(e){let t=Z6(e),n=Tw(),r=!0;const a=d=>(g,y)=>{const v=ml(e,y,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,...E}=v;g={...g,...E,...w}}return g};function o(d){t=d(e)}function u(d){const{props:g}=e,y=rT(e.parent)||{},v=[],x=new Set;let w={},E=1/0;for(let N=0;N<$6;N++){const O=q6[N],P=n[O],M=g[O]!==void 0?g[O]:y[O],U=Cc(M),H=O===d?P.isActive:null;H===!1&&(E=N);let I=M===y[O]&&M!==g[O]&&U;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),P.protectedKeys={...w},!P.isActive&&H===null||!M&&!P.prevProp||jf(M)||typeof M=="boolean")continue;const F=K6(P.prevProp,M);let te=F||O===d&&P.isActive&&!I&&U||N>E&&U,G=!1;const re=Array.isArray(M)?M:[M];let K=re.reduce(a(O),{});H===!1&&(K={});const{prevResolvedValues:Q={}}=P,ae={...Q,...K},se=ee=>{te=!0,x.has(ee)&&(G=!0,x.delete(ee)),P.needsAnimating[ee]=!0;const Y=e.getValue(ee);Y&&(Y.liveStyle=!1)};for(const ee in ae){const Y=K[ee],we=Q[ee];if(w.hasOwnProperty(ee))continue;let R=!1;Cy(Y)&&Cy(we)?R=!iT(Y,we):R=Y!==we,R?Y!=null?se(ee):x.add(ee):Y!==void 0&&x.has(ee)?se(ee):P.protectedKeys[ee]=!0}P.prevProp=M,P.prevResolvedValues=K,P.isActive&&(w={...w,...K}),r&&e.blockInitialAnimation&&(te=!1);const de=I&&F;te&&(!de||G)&&v.push(...re.map(ee=>{const Y={type:O};if(typeof ee=="string"&&r&&!de&&e.manuallyAnimateOnMount&&e.parent){const{parent:we}=e,R=ml(we,ee);if(we.enteringChildren&&R){const{delayChildren:V}=R.transition||{};Y.delay=nT(we.enteringChildren,e,V)}}return{animation:ee,options:Y}}))}if(x.size){const N={};if(typeof g.initial!="boolean"){const O=ml(e,Array.isArray(g.initial)?g.initial[0]:g.initial);O&&O.transition&&(N.transition=O.transition)}x.forEach(O=>{const P=e.getBaseTarget(O),M=e.getValue(O);M&&(M.liveStyle=!0),N[O]=P??null}),v.push({animation:N})}let T=!!v.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(v):Promise.resolve()}function h(d,g){if(n[d].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,g)),n[d].isActive=g;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Tw()}}}function K6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iT(t,e):!1}function Va(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tw(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class W6 extends Qs{constructor(t){super(t),t.animationState||(t.animationState=G6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Y6=0;class X6 extends Qs{constructor(){super(...arguments),this.id=Y6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const J6={animation:{Feature:W6},exit:{Feature:X6}};function Tc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Hc(e){return{point:{x:e.pageX,y:e.pageY}}}const Q6=e=>t=>Pv(t)&&e(t,Hc(t));function lc(e,t,n,r){return Tc(e,t,Q6(n),r)}const sT=1e-4,eB=1-sT,tB=1+sT,aT=.01,nB=0-aT,iB=0+aT;function Rn(e){return e.max-e.min}function rB(e,t,n){return Math.abs(e-t)<=n}function jw(e,t,n,r=.5){e.origin=r,e.originPoint=It(t.min,t.max,e.origin),e.scale=Rn(n)/Rn(t),e.translate=It(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eB&&e.scale<=tB||isNaN(e.scale))&&(e.scale=1),(e.translate>=nB&&e.translate<=iB||isNaN(e.translate))&&(e.translate=0)}function uc(e,t,n,r){jw(e.x,t.x,n.x,r?r.originX:void 0),jw(e.y,t.y,n.y,r?r.originY:void 0)}function Lw(e,t,n){e.min=n.min+t.min,e.max=e.min+Rn(t)}function sB(e,t,n){Lw(e.x,t.x,n.x),Lw(e.y,t.y,n.y)}function kw(e,t,n){e.min=t.min-n.min,e.max=e.min+Rn(t)}function cc(e,t,n){kw(e.x,t.x,n.x),kw(e.y,t.y,n.y)}function ki(e){return[e("x"),e("y")]}const oT=({current:e})=>e?e.ownerDocument.defaultView:null,Aw=(e,t)=>Math.abs(e-t);function aB(e,t){const n=Aw(e.x,t.x),r=Aw(e.y,t.y);return Math.sqrt(n**2+r**2)}class lT{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=bg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=aB(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!E)return;const{point:T}=x,{timestamp:N}=wn;this.history.push({...T,timestamp:N});const{onStart:O,onMove:P}=this.handlers;w||(O&&O(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=_g(w,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=bg(x.type==="pointercancel"?this.lastMoveEventInfo:_g(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(x,O),T&&T(x,O)},!Pv(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=Hc(t),d=_g(h,this.transformPagePoint),{point:g}=d,{timestamp:y}=wn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,bg(d,this.history)),this.removeListeners=Ic(lc(this.contextWindow,"pointermove",this.handlePointerMove),lc(this.contextWindow,"pointerup",this.handlePointerUp),lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function _g(e,t){return t?{point:t(e.point)}:e}function Nw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bg({point:e},t){return{point:e,delta:Nw(e,uT(t)),offset:Nw(e,oB(t)),velocity:lB(t,.1)}}function oB(e){return e[0]}function uT(e){return e[e.length-1]}function lB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=uT(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>br(t)));)n--;if(!r)return{x:0,y:0};const o=Ni(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function uB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?It(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?It(n,e,r.max):Math.min(e,n)),e}function Mw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cB(e,{top:t,left:n,bottom:r,right:a}){return{x:Mw(e.x,n,a),y:Mw(e.y,t,r)}}function Ow(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hB(e,t){return{x:Ow(e.x,t.x),y:Ow(e.y,t.y)}}function dB(e,t){let n=.5;const r=Rn(e),a=Rn(t);return a>r?n=xc(t.min,t.max-r,e.min):r>a&&(n=xc(e.min,e.max-a,t.min)),ns(0,1,n)}function fB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jy=.35;function pB(e=jy){return e===!1?e=0:e===!0&&(e=jy),{x:Pw(e,"left","right"),y:Pw(e,"top","bottom")}}function Pw(e,t,n){return{min:Rw(e,t),max:Rw(e,n)}}function Rw(e,t){return typeof e=="number"?e:e[t]||0}const mB=new WeakMap;class gB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hc(v).point)},u=(v,x)=>{const{drag:w,dragPropagation:E,onDragStart:T}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xz(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(O=>{let P=this.getAxisMotionValue(O).get()||0;if(xr.test(P)){const{projection:M}=this.visualElement;if(M&&M.layout){const U=M.layout.layoutBox[O];U&&(P=Rn(U)*(parseFloat(P)/100))}}this.originPoint[O]=P}),T&&Pt.postRender(()=>T(v,x)),Ey(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:T,onDrag:N}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:O}=x;if(E&&this.currentDirection===null){this.currentDirection=yB(O),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),N&&N(v,x)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ki(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new lT(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:oT(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Pt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Md(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=uB(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&al(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=cB(r.layoutBox,t):this.constraints=!1,this.elastic=pB(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ki(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!al(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=v6(r,a.root,this.visualElement.getTransformPagePoint());let u=hB(a.layout.layoutBox,o);if(n){const h=n(m6(u));this.hasMutatedConstraints=!!h,h&&(u=ZE(h))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},g=ki(y=>{if(!Md(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,E={type:"inertia",velocity:r?t[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,E)});return Promise.all(g).then(h)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ey(this.visualElement,t),r.start(qv(t,r,0,n,this.visualElement,!1))}stopAnimation(){ki(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ki(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ki(n=>{const{drag:r}=this.getProps();if(!Md(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];o.set(t[n]-It(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!al(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ki(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=dB({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ki(u=>{if(!Md(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:g}=this.constraints[u];h.set(It(d,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;mB.set(this.visualElement,this);const t=this.visualElement.current,n=lc(t,"pointerdown",d=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();al(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pt.read(r);const u=Tc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:g})=>{this.isDragging&&g&&(ki(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=jy,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Md(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vB extends Qs{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new gB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dw=e=>(t,n)=>{e&&Pt.postRender(()=>e(t,n))};class _B extends Qs{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new lT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Dw(t),onStart:Dw(n),onMove:r,onEnd:(o,u)=>{delete this.session,a&&Pt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=lc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const n=zw(e,t.target.x),r=zw(e,t.target.y);return`${n}% ${r}%`}},bB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ws.parse(e);if(a.length>5)return r;const o=Ws.createTransformer(e),u=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,d=n.y.scale*t.y;a[0+u]/=h,a[1+u]/=d;const g=It(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),o(a)}};let xg=!1;class xB extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;Fz(wB),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),xg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:u}=r;return u&&(u.isPresent=o,xg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||Pt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ov.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cT(e){const[t,n]=ME(),r=k.useContext(hv);return m.jsx(xB,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(qE),isPresent:t,safeToRemove:n})}const wB={borderRadius:{...Zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zu,borderTopRightRadius:Zu,borderBottomLeftRadius:Zu,borderBottomRightRadius:Zu,boxShadow:bB};function SB(e,t,n){const r=Ln(e)?e:xl(e);return r.start(qv("",r,t,n)),r.animation}const CB=(e,t)=>e.depth-t.depth;class EB{constructor(){this.children=[],this.isDirty=!1}add(t){pv(this.children,t),this.isDirty=!0}remove(t){mv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CB),this.isDirty=!1,this.children.forEach(t)}}function TB(e,t){const n=Xn.now(),r=({timestamp:a})=>{const o=a-n;o>=t&&(Ks(r),e(o-t))};return Pt.setup(r,!0),()=>Ks(r)}const hT=["TopLeft","TopRight","BottomLeft","BottomRight"],jB=hT.length,Bw=e=>typeof e=="string"?parseFloat(e):e,Iw=e=>typeof e=="number"||qe.test(e);function LB(e,t,n,r,a,o){a?(e.opacity=It(0,n.opacity??1,kB(r)),e.opacityExit=It(t.opacity??1,0,AB(r))):o&&(e.opacity=It(t.opacity??1,n.opacity??1,r));for(let u=0;u<jB;u++){const h=`border${hT[u]}Radius`;let d=Uw(t,h),g=Uw(n,h);if(d===void 0&&g===void 0)continue;d||(d=0),g||(g=0),d===0||g===0||Iw(d)===Iw(g)?(e[h]=Math.max(It(Bw(d),Bw(g),r),0),(xr.test(g)||xr.test(d))&&(e[h]+="%")):e[h]=g}(t.rotate||n.rotate)&&(e.rotate=It(t.rotate||0,n.rotate||0,r))}function Uw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kB=dT(0,.5,J2),AB=dT(.5,.95,Mi);function dT(e,t,n){return r=>r<e?0:r>t?1:n(xc(e,t,r))}function Vw(e,t){e.min=t.min,e.max=t.max}function Li(e,t){Vw(e.x,t.x),Vw(e.y,t.y)}function Hw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fw(e,t,n,r,a){return e-=t,e=rf(e,1/n,r),a!==void 0&&(e=rf(e,1/a,r)),e}function NB(e,t=0,n=1,r=.5,a,o=e,u=e){if(xr.test(t)&&(t=parseFloat(t),t=It(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=It(o.min,o.max,r);e===o&&(h-=t),e.min=Fw(e.min,t,n,h,a),e.max=Fw(e.max,t,n,h,a)}function qw(e,t,[n,r,a],o,u){NB(e,t[n],t[r],t[a],t.scale,o,u)}const MB=["x","scaleX","originX"],OB=["y","scaleY","originY"];function $w(e,t,n,r){qw(e.x,t,MB,n?n.x:void 0,r?r.x:void 0),qw(e.y,t,OB,n?n.y:void 0,r?r.y:void 0)}function Zw(e){return e.translate===0&&e.scale===1}function fT(e){return Zw(e.x)&&Zw(e.y)}function Gw(e,t){return e.min===t.min&&e.max===t.max}function PB(e,t){return Gw(e.x,t.x)&&Gw(e.y,t.y)}function Kw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pT(e,t){return Kw(e.x,t.x)&&Kw(e.y,t.y)}function Ww(e){return Rn(e.x)/Rn(e.y)}function Yw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RB{constructor(){this.members=[]}add(t){pv(this.members,t),t.scheduleRender()}remove(t){if(mv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DB(e,t,n){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((a||o||u)&&(r=`translate3d(${a}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:x,skewX:w,skewY:E}=n;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const h=e.x.scale*t.x,d=e.y.scale*t.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const wg=["","X","Y","Z"],zB=1e3;let BB=0;function Sg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function mT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eT(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&mT(r)}function gT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=BB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VB),this.nodes.forEach($B),this.nodes.forEach(ZB),this.nodes.forEach(HB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new EB)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=NE(u)&&!jz(u),this.instance=u;const{layoutId:h,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{v=window.innerWidth}),e(u,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=TB(x,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(Qw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||g.getDefaultTransition()||XB,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=g.getProps(),O=!this.targetLayout||!pT(this.targetLayout,w),P=!v&&x;if(this.options.layoutRoot||this.resumeFrom||P||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Nv(E,"layout"),onPlay:T,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(y,P)}else v||Qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qB),this.nodes.forEach(IB),this.nodes.forEach(UB)):this.nodes.forEach(Jw),this.clearAllSnapshots();const h=Xn.now();wn.delta=ns(0,1e3/60,h-wn.timestamp),wn.timestamp=h,wn.isProcessing=!0,hg.update.process(wn),hg.preRender.process(wn),hg.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FB),this.sharedNodes.forEach(KB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!fT(this.projectionDelta),d=this.getTransformTemplate(),g=d?d(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||qa(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),JB(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Kt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QB))){const{scroll:g}=this.root;g&&(ol(h.x,g.offset.x),ol(h.y,g.offset.y))}return h}removeElementScroll(u){const h=Kt();if(Li(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Li(h,u),ol(h.x,y.offset.x),ol(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Kt();Li(d,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ll(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qa(y.latestValues)&&ll(d,y.latestValues)}return qa(this.latestValues)&&ll(d,this.latestValues),d}removeTransform(u){const h=Kt();Li(h,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];if(!g.instance||!qa(g.latestValues))continue;xy(g.latestValues)&&g.updateSnapshot();const y=Kt(),v=g.measurePageBox();Li(y,v),$w(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return qa(this.latestValues)&&$w(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),cc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),KE(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),cc(this.relativeTargetOrigin,this.target,x.target),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xy(this.parent.latestValues)||GE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(d=!1),d)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;y6(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Kt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hw(this.prevProjectionDelta.x,this.projectionDelta.x),Hw(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Yw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(u,h=!1){const d=this.snapshot,g=d?d.latestValues:{},y={...this.latestValues},v=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Kt(),w=d?d.source:void 0,E=this.layout?this.layout.source:void 0,T=w!==E,N=this.getStack(),O=!N||N.members.length<=1,P=!!(T&&!O&&this.options.crossfade===!0&&!this.path.some(YB));this.animationProgress=0;let M;this.mixTargetDelta=U=>{const H=U/1e3;eS(v.x,u.x,H),eS(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WB(this.relativeTarget,this.relativeTargetOrigin,x,H),M&&PB(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Kt()),Li(M,this.relativeTarget)),T&&(this.animationValues=y,LB(y,g,this.latestValues,H,P,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xl(0)),this.currentAnimation=SB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:g,latestValues:y}=u;if(!(!h||!d||!g)){if(this!==u&&this.layout&&g&&yT(this.options.animationType,this.layout.layoutBox,g.layoutBox)){d=this.target||Kt();const v=Rn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const x=Rn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+x}Li(h,d),ll(h,y),uc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new RB),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const g=this.getStack();g&&g.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const g={};d.z&&Sg("z",u,g,this.animationValues);for(let y=0;y<wg.length;y++)Sg(`rotate${wg[y]}`,u,g,this.animationValues),Sg(`skew${wg[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Id(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Id(h?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=DB(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x,y:w}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in Ec){if(y[E]===void 0)continue;const{correct:T,applyTo:N,isCSSVariable:O}=Ec[E],P=v==="none"?y[E]:T(y[E],g);if(N){const M=N.length;for(let U=0;U<M;U++)u[N[U]]=P}else O?this.options.visualElement.renderState.vars[E]=P:u[E]=P}this.options.layoutId&&(u.pointerEvents=g===this?Id(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Xw),this.root.sharedNodes.clear()}}}function IB(e){e.updateLayout()}function UB(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?ki(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],x=Rn(v);v.min=n[y].min,v.max=v.min+x}):yT(a,t.layoutBox,n)&&ki(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],x=Rn(n[y]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const u=ul();uc(u,n,t.layoutBox);const h=ul();o?uc(h,e.applyTransform(r,!0),t.measuredBox):uc(h,n,t.layoutBox);const d=!fT(u);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const w=Kt();cc(w,t.layoutBox,v.layoutBox);const E=Kt();cc(E,n,x.layoutBox),pT(w,E)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function VB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FB(e){e.clearSnapshot()}function Xw(e){e.clearMeasurements()}function Jw(e){e.isLayoutDirty=!1}function qB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $B(e){e.resolveTargetDelta()}function ZB(e){e.calcProjection()}function GB(e){e.resetSkewAndRotation()}function KB(e){e.removeLeadSnapshot()}function eS(e,t,n){e.translate=It(t.translate,0,n),e.scale=It(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tS(e,t,n,r){e.min=It(t.min,n.min,r),e.max=It(t.max,n.max,r)}function WB(e,t,n,r){tS(e.x,t.x,n.x,r),tS(e.y,t.y,n.y,r)}function YB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XB={duration:.45,ease:[.4,0,.1,1]},nS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iS=nS("applewebkit/")&&!nS("chrome/")?Math.round:Mi;function rS(e){e.min=iS(e.min),e.max=iS(e.max)}function JB(e){rS(e.x),rS(e.y)}function yT(e,t,n){return e==="position"||e==="preserve-aspect"&&!rB(Ww(t),Ww(n),.2)}function QB(e){return e!==e.root&&e.scroll?.wasRoot}const eI=gT({attachResizeListener:(e,t)=>Tc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},vT=gT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cg.current){const e=new eI({});e.mount(window),e.setOptions({layoutScroll:!0}),Cg.current=e}return Cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tI={pan:{Feature:_B},drag:{Feature:vB,ProjectionNode:vT,MeasureLayout:cT}};function sS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&Pt.postRender(()=>o(t,Hc(t)))}class nI extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=wz(t,(n,r)=>(sS(this.node,r,"Start"),a=>sS(this.node,a,"End"))))}unmount(){}}class iI extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(Tc(this.node.current,"focus",()=>this.onFocus()),Tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&Pt.postRender(()=>o(t,Hc(t)))}class rI extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=Tz(t,(n,r)=>(aS(this.node,r,"Start"),(a,{success:o})=>aS(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,Eg=new WeakMap,sI=e=>{const t=Ly.get(e.target);t&&t(e)},aI=e=>{e.forEach(sI)};function oI({root:e,...t}){const n=e||document;Eg.has(n)||Eg.set(n,{});const r=Eg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(aI,{root:e,...t})),r[a]}function lI(e,t,n){const r=oI(t);return Ly.set(e,n),r.observe(e),()=>{Ly.delete(e),r.unobserve(e)}}const uI={some:0,all:1};class cI extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:uI[a]},h=d=>{const{isIntersecting:g}=d;if(this.isInView===g||(this.isInView=g,o&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=g?y:v;x&&x(d)};return lI(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hI(t,n))&&this.startObserver()}unmount(){}}function hI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const dI={inView:{Feature:cI},tap:{Feature:rI},focus:{Feature:iI},hover:{Feature:nI}},fI={layout:{ProjectionNode:vT,MeasureLayout:cT}},pI={...J6,...dI,...tI,...fI},oS=p6(pI,j6),_T=({marker:e,onClose:t})=>{const n=kD(),{organizationLogo:r}=Xs(),{isFavorite:a,toggleFavorite:o}=gf();return k.useEffect(()=>(n&&n.dragging.disable(),()=>{n&&n.dragging.enable()}),[n]),e?AC.createPortal(m.jsxs(Dz,{children:[m.jsx(oS.div,{className:"bottom-sheet-backdrop",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}},"backdrop"),m.jsxs(oS.div,{className:"bottom-sheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.25,onDragEnd:(u,h)=>{h.offset.y>100&&t()},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[m.jsx("div",{className:"handle"}),m.jsxs("div",{className:"content",children:[m.jsx("div",{className:"w-20 h-20 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:m.jsx("img",{src:Pc(e.logo,r),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),m.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[m.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&m.jsx(Rc,{isFavorite:a(e.companyId),onToggle:()=>o(e.companyId),size:"md"})]}),e.glyph&&m.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Booth ",e.glyph]}),e.website&&m.jsx("div",{className:"text-sm mb-1",children:m.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:e.website})}),e.info&&m.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",children:e.info}),m.jsx("button",{onClick:t,className:"mt-4 w-full bg-gray-200 py-2 rounded-md text-gray-700 font-medium hover:bg-gray-300",children:"Close"})]})]},"sheet")]}),document.body):null},mI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId;return m.jsxs("div",{className:"flex items-center gap-2 p-1",children:[n&&m.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white rounded-sm border border-gray-200 overflow-hidden",children:m.jsx("img",{src:Pc(e.logo,t),alt:"",className:"max-w-[70%] max-h-[70%] object-contain"})}),m.jsxs("div",{className:"flex flex-col min-w-0",children:[e.glyph&&m.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Booth ",e.glyph]}),e.name?m.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}):m.jsx("div",{className:"text-xs font-medium text-gray-500 italic",children:"Unassigned"})]})]})},gI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId,{isFavorite:r,toggleFavorite:a}=gf(),o=IO(e);return m.jsx(Cf,{closeButton:!0,className:"marker-popup-scrollable",autoPan:!0,maxWidth:320,minWidth:240,children:m.jsx("div",{className:"popup-scroll-container",children:m.jsxs("div",{className:"popup-scroll-content",children:[n&&m.jsx("div",{className:"w-24 h-24 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden flex-shrink-0",children:m.jsx("img",{src:Pc(e.logo,t),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&m.jsx(Rc,{isFavorite:r(e.companyId),onToggle:()=>a(e.companyId),size:"sm"})]}):m.jsx("div",{className:"text-base font-semibold text-gray-500 italic mb-1",children:"Unassigned Booth"}),e.glyph&&m.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Booth ",e.glyph]}),e.website&&m.jsx("div",{className:"text-sm mb-2",children:m.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",style:{wordBreak:"break-all"},children:e.website})}),o&&m.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:o})]})})})},yI=({marker:e,onMoreInfo:t,organizationLogo:n})=>{const r=e.name||e.companyId;return m.jsx(Cf,{closeButton:!0,className:"marker-popup",autoPan:!0,children:m.jsxs("div",{className:"p-2 text-center",children:[r&&m.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:m.jsx("img",{src:Pc(e.logo,n),alt:"",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?m.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name}):m.jsx("div",{className:"font-semibold text-gray-500 italic text-sm",children:"Unassigned Booth"}),e.glyph&&m.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:["Booth ",e.glyph]}),r&&m.jsx("button",{onClick:t,className:"bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full hover:bg-blue-600",children:"More Info"})]})})},bT=({marker:e,onMoreInfo:t,isMobile:n,organizationLogo:r})=>{const a=e&&(e.glyph!==void 0&&e.glyph!==null&&e.glyph!==""||e.name);return m.jsxs(m.Fragment,{children:[!n&&m.jsxs(m.Fragment,{children:[a&&m.jsx(OD,{direction:"top",offset:[0,-10],opacity:.95,children:m.jsx(mI,{marker:e,organizationLogo:r})}),m.jsx(gI,{marker:e,organizationLogo:r})]}),n&&m.jsx(yI,{marker:e,onMoreInfo:t,organizationLogo:r})]})};function xT({marker:e,subscriptions:t,assignments:n,onAssign:r,onUnassign:a,isLoading:o,onClose:u}){const[h,d]=k.useState(""),g=k.useRef(null),y=n.find(E=>E.marker_id===e.id),v=t.filter(E=>{const T=n.filter(M=>M.company_id===E.company_id),N=T.length,O=E.booth_count||1;return!T.some(M=>M.marker_id===e.id)&&N<O}).map(E=>{const N=n.filter(M=>M.company_id===E.company_id).length,O=E.booth_count||1,P=O-N;return{id:E.company_id,name:E.company?.name||"Unknown Company",logo:E.company?.logo||null,website:E.company?.website||null,assignedBooths:N,totalBooths:O,remainingBooths:P}}).filter(E=>E.name.toLowerCase().includes(h.toLowerCase()));k.useEffect(()=>{g.current&&g.current.focus()},[]);const x=async E=>{await r(e.id,E),u()},w=async()=>{y&&(await a(e.id,y.company_id),u())};return m.jsxs("div",{className:"p-2",children:[m.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-300",children:m.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[m.jsx(Se,{path:dl,size:.8,className:"text-blue-600"}),e.name||`Marker ${e.id}`]})}),y&&(()=>{const T=n.filter(P=>P.company_id===y.company_id).length,O=t.find(P=>P.company_id===y.company_id)?.booth_count||1;return m.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.company?.logo?m.jsx("img",{src:Ji(y.company.logo),alt:y.company.name,className:"w-8 h-8 object-contain flex-shrink-0"}):m.jsx(Se,{path:dl,size:1.2,className:"text-gray-400 flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:y.company?.name||"Unknown"}),m.jsxs("div",{className:"text-xs text-gray-600",children:["Using ",T," of ",O," booth",O!==1?"s":""]})]})]}),m.jsx("button",{onClick:w,disabled:o,className:"ml-2 px-2 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Unassign company",children:m.jsx(Se,{path:ts,size:.55,className:"inline"})})]})})})(),v.length>5&&m.jsxs("div",{className:"mb-2 relative",children:[m.jsx(Se,{path:no,size:.65,className:"absolute left-2 top-2 text-gray-400"}),m.jsx("input",{ref:g,type:"text",value:h,onChange:E=>d(E.target.value),placeholder:"Search companies...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?m.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:h?"No companies match your search":y?"No other companies available":"No subscribed companies available"}):m.jsx("div",{className:"space-y-1",children:v.map(E=>m.jsxs("button",{onClick:()=>x(E.id),disabled:o,className:"w-full flex items-center gap-2 p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",title:`Assign ${E.name} (${E.remainingBooths} booth${E.remainingBooths!==1?"s":""} available)`,children:[E.logo?m.jsx("img",{src:Ji(E.logo),alt:E.name,className:"w-8 h-8 object-contain flex-shrink-0"}):m.jsx(Se,{path:dl,size:1.2,className:"text-gray-400 flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"text-sm text-gray-800 truncate",children:E.name}),m.jsxs("div",{className:"text-xs text-gray-500",children:[E.remainingBooths," of ",E.totalBooths," booth",E.totalBooths!==1?"s":""," available"]})]})]},E.id))})}),o&&m.jsx("div",{className:"mt-2 text-xs text-center text-blue-600",children:"Processing..."})]})}function kf(e=new Date().getFullYear()){const[t,n]=k.useState([]),[r,a]=k.useState(!0),[o,u]=k.useState(null),h=k.useRef(e);k.useEffect(()=>{h.current=e},[e]);const d=k.useCallback(async P=>{try{a(!0),u(null);const M=P!==void 0?P:h.current,{data:U,error:H}=await xe.from("assignments").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).eq("event_year",M).order("marker_id",{ascending:!0});if(H)throw H;n(U||[])}catch(M){console.error("Error loading assignments:",M),u(M.message)}finally{a(!1)}},[]),g=k.useCallback(async P=>{try{const M={...P,event_year:P.event_year||e},{data:U,error:H}=await xe.from("assignments").insert([M]).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(H)throw H;return n(I=>[...I,U].sort((F,te)=>F.marker_id-te.marker_id)),{data:U,error:null}}catch(M){return console.error("Error creating assignment:",M),{data:null,error:M.message}}},[e]),y=k.useCallback(async(P,M)=>{try{const{data:U,error:H}=await xe.from("assignments").update(M).eq("id",P).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(H)throw H;return n(I=>I.map(F=>F.id===P?U:F).sort((F,te)=>F.marker_id-te.marker_id)),{data:U,error:null}}catch(U){return console.error("Error updating assignment:",U),{data:null,error:U.message}}},[]),v=k.useCallback(async P=>{try{const{error:M}=await xe.from("assignments").delete().eq("id",P);if(M)throw M;return n(U=>U.filter(H=>H.id!==P)),{error:null}}catch(M){return console.error("Error deleting assignment:",M),{error:M.message}}},[]),x=k.useCallback(async(P,M)=>g({marker_id:P,company_id:M}),[g]),w=k.useCallback(async(P,M)=>{try{const{error:U}=await xe.from("assignments").delete().eq("marker_id",P).eq("company_id",M).eq("event_year",e);if(U)throw U;return n(H=>H.filter(I=>!(I.marker_id===P&&I.company_id===M))),{error:null}}catch(U){return console.error("Error unassigning company:",U),{error:U.message}}},[e]),E=k.useCallback(P=>t.filter(M=>M.marker_id===P),[t]),T=k.useCallback(P=>t.filter(M=>M.company_id===P),[t]),N=k.useCallback(async()=>{try{const{data:P,error:M}=await xe.rpc("archive_assignments",{year_to_archive:e});if(M)throw M;return n([]),{data:P,error:null}}catch(P){return console.error("Error archiving assignments:",P),{data:null,error:P.message}}},[e]),O=k.useCallback(async P=>{try{const{data:M,error:U}=await xe.from("assignments_archive").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info))
        `).eq("event_year",P).order("marker_id",{ascending:!0});if(U)throw U;return{data:M,error:null}}catch(M){return console.error("Error loading archived assignments:",M),{data:null,error:M.message}}},[]);return k.useEffect(()=>{d()},[d]),k.useEffect(()=>{d()},[e,d]),k.useEffect(()=>{const P=xe.channel(`assignments-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"assignments",filter:`event_year=eq.${e}`},M=>{M.eventType==="INSERT"&&M.new?n(U=>(U.some(I=>I.id===M.new.id)||d(),U)):d()}).subscribe();return()=>{xe.removeChannel(P)}},[e,d]),{assignments:t,loading:r,error:o,createAssignment:g,updateAssignment:y,deleteAssignment:v,assignCompanyToMarker:x,unassignCompanyFromMarker:w,getMarkerAssignments:E,getCompanyAssignments:T,archiveCurrentYear:N,loadArchivedAssignments:O,reload:d}}function $v({isOpen:e,title:t,message:n,confirmText:r,cancelText:a,onConfirm:o,onCancel:u,variant:h}){if(!e)return null;const d={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",default:"bg-blue-600 hover:bg-blue-700"},g=d[h]||d.default;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:u,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",onClick:y=>y.stopPropagation(),children:[t&&m.jsx("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-gray-900 mb-2",children:t}),m.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:a}),m.jsx("button",{onClick:o,className:`px-4 py-2 text-white rounded-md transition-colors ${g}`,autoFocus:!0,children:r})]})]})})}$v.propTypes={isOpen:ke.bool.isRequired,title:ke.string,message:ke.string.isRequired,confirmText:ke.string,cancelText:ke.string,onConfirm:ke.func.isRequired,onCancel:ke.func.isRequired,variant:ke.oneOf(["default","danger","warning"])};$v.defaultProps={title:null,confirmText:"Confirm",cancelText:"Cancel",variant:"default"};function Zv({message:e,type:t,onClose:n,duration:r}){k.useEffect(()=>{if(r>0){const u=setTimeout(n,r);return()=>clearTimeout(u)}},[r,n]);const a={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},o=a[t]||a.info;return m.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white max-w-sm ${o}`,role:"alert",children:m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsx("p",{className:"text-sm",children:e}),m.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-lg leading-none","aria-label":"Close",children:""})]})})}Zv.propTypes={message:ke.string.isRequired,type:ke.oneOf(["success","error","warning","info"]),onClose:ke.func.isRequired,duration:ke.number};Zv.defaultProps={type:"info",duration:5e3};const wT=k.createContext(null);function ST({children:e}){const[t,n]=k.useState({isOpen:!1,title:null,message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"default",resolve:null}),[r,a]=k.useState([]),o=k.useCallback(({title:T,message:N,confirmText:O,cancelText:P,variant:M}={})=>new Promise(U=>{n({isOpen:!0,title:T||null,message:N||"",confirmText:O||"Confirm",cancelText:P||"Cancel",variant:M||"default",resolve:U})}),[]),u=k.useCallback(()=>{t.resolve?.(!0),n(T=>({...T,isOpen:!1}))},[t.resolve]),h=k.useCallback(()=>{t.resolve?.(!1),n(T=>({...T,isOpen:!1}))},[t.resolve]),d=k.useCallback(({message:T,type:N="info",duration:O=5e3}={})=>{const P=Date.now()+Math.random();return a(M=>[...M,{id:P,message:T,type:N,duration:O}]),P},[]),g=k.useCallback((T,N)=>d({message:T,type:"success",duration:N}),[d]),y=k.useCallback((T,N)=>d({message:T,type:"error",duration:N}),[d]),v=k.useCallback((T,N)=>d({message:T,type:"warning",duration:N}),[d]),x=k.useCallback((T,N)=>d({message:T,type:"info",duration:N}),[d]),w=k.useCallback(T=>{a(N=>N.filter(O=>O.id!==T))},[]),E={confirm:o,toast:d,toastSuccess:g,toastError:y,toastWarning:v,toastInfo:x};return m.jsxs(wT.Provider,{value:E,children:[e,m.jsx($v,{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,variant:t.variant,onConfirm:u,onCancel:h}),m.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:r.map(T=>m.jsx(Zv,{message:T.message,type:T.type,duration:T.duration,onClose:()=>w(T.id)},T.id))})]})}ST.propTypes={children:ke.node.isRequired};function Pl(){const e=k.useContext(wT);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e}function vI({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,selectedYear:r,isAdminView:a,selectedMarkerId:o,onMarkerSelect:u}){const h=cv("md"),[d,g]=k.useState(null),y=a&&o!==void 0?e.find(re=>re.id===o):d,v=a&&u?re=>u(re?re.id:null):g,{organizationLogo:x}=Xs(),[w,E]=k.useState({isOpen:!1,position:null,marker:null}),[T,N]=k.useState(!1),{subscriptions:O}=Bc(r||new Date().getFullYear()),{assignments:P,assignCompanyToMarker:M,unassignCompanyFromMarker:U}=kf(r||new Date().getFullYear()),{confirm:H}=Pl(),I=k.useCallback(re=>K=>{const{lat:Q,lng:ae}=K.target.getLatLng();t(re,{lat:Q,lng:ae})},[t]),F=k.useCallback(re=>K=>{a&&(Ot.DomEvent.preventDefault(K),E({isOpen:!0,position:K.latlng,marker:re,timestamp:Date.now()}))},[a]),te=k.useCallback(async(re,K)=>{const Q=P.filter(ae=>ae.marker_id===re);if(Q.length>0){const se=O.find(we=>we.company_id===K)?.company?.name||"this company",de=e.find(we=>we.id===re),q=de?.glyph||de?.id||"this booth";let ee;if(Q.length===1){const we=Q[0].company?.name||"another company";ee=`Booth ${q} is already assigned to ${we}.

Assign ${se} as an additional company for this booth?`}else{const we=Q.map(R=>R.company?.name).filter(Boolean).join(", ");ee=`Booth ${q} is already assigned to ${Q.length} companies: ${we}.

Assign ${se} as another company for this booth?`}if(!await H({title:"Multiple Assignments",message:ee,confirmText:"Assign",variant:"warning"}))return}N(!0);try{await M(re,K)}catch(ae){console.error("Error assigning company:",ae)}finally{N(!1)}},[M,P,O,e]),G=k.useCallback(async(re,K)=>{N(!0);try{await U(re,K)}catch(Q){console.error("Error unassigning company:",Q)}finally{N(!1)}},[U]);return m.jsxs(m.Fragment,{children:[e.filter(re=>re.id>=1001).map(re=>{const K=[re.lat,re.lng],Q=uv({className:re.type?`marker-icon marker-type-${re.type}`:"marker-icon",prefix:re.prefix,iconUrl:bl(re.iconUrl||`${re.type||"default"}.svg`),iconSize:Array.isArray(re.iconSize)?re.iconSize:[17,28],glyph:re.glyph||"?",glyphColor:re.glyphColor||"white",glyphSize:re.glyphSize||"12px",glyphAnchor:re.glyphAnchor||[0,-5],isActive:y?.id===re.id}),ae=n(re),se={popupopen:de=>de.target.closeTooltip(),...ae&&{dragend:I(re.id)},...a&&{contextmenu:F(re)}};return m.jsx(U2,{position:K,icon:Q,draggable:ae,eventHandlers:se,children:m.jsx(bT,{marker:re,isMobile:h,organizationLogo:x,onMoreInfo:()=>{v(re)}})},re.id)}),w.isOpen&&w.marker&&m.jsx(Cf,{position:w.position,onClose:()=>E({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:m.jsx(xT,{marker:w.marker,subscriptions:O,assignments:P,onAssign:te,onUnassign:G,isLoading:T,onClose:()=>E({isOpen:!1,position:null,marker:null})})},`context-${w.marker.id}-${w.timestamp||Date.now()}`),h&&y&&m.jsx(_T,{marker:y,onClose:()=>v(null)})]})}var Ju={exports:{}},_I=Ju.exports,lS;function bI(){return lS||(lS=1,(function(e,t){(function(n,r){r(t)})(_I,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=o,h=this._zoom;if(o.__parent)for(;u.__parent._zoom>=h;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,u):this._animationAddLayerNonAnimated(o,u)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,u){if(!L.Util.isArray(o))return this.addLayer(o);var h=this._featureGroup,d=this._nonPointGroup,g=this.options.chunkedLoading,y=this.options.chunkInterval,v=this.options.chunkProgress,x=o.length,w=0,E=!0,T;if(this._map){var N=new Date().getTime(),O=L.bind(function(){var M=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();w<x;w++){if(g&&w%200===0){var U=new Date().getTime()-M;if(U>y)break}if(T=o[w],T instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(T,o),x=o.length;continue}if(!T.getLatLng){d.addLayer(T),u||this.fire("layeradd",{layer:T});continue}if(!this.hasLayer(T)&&(this._addLayer(T,this._maxZoom),u||this.fire("layeradd",{layer:T}),T.__parent&&T.__parent.getChildCount()===2)){var H=T.__parent.getAllChildMarkers(),I=H[0]===T?H[1]:H[0];h.removeLayer(I)}}v&&v(w,x,new Date().getTime()-N),w===x?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(O,this.options.chunkDelay)},this);O()}else for(var P=this._needsClustering;w<x;w++){if(T=o[w],T instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(T,o),x=o.length;continue}if(!T.getLatLng){d.addLayer(T);continue}this.hasLayer(T)||P.push(T)}return this},removeLayers:function(o){var u,h,d=o.length,g=this._featureGroup,y=this._nonPointGroup,v=!0;if(!this._map){for(u=0;u<d;u++){if(h=o[u],h instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(h,o),d=o.length;continue}this._arraySplice(this._needsClustering,h),y.removeLayer(h),this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h})}return this}if(this._unspiderfy){this._unspiderfy();var x=o.slice(),w=d;for(u=0;u<w;u++){if(h=x[u],h instanceof L.LayerGroup){this._extractNonGroupLayers(h,x),w=x.length;continue}this._unspiderfyLayer(h)}}for(u=0;u<d;u++){if(h=o[u],h instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(h,o),d=o.length;continue}if(!h.__parent){y.removeLayer(h),this.fire("layerremove",{layer:h});continue}this._removeLayer(h,!0,!0),this.fire("layerremove",{layer:h}),g.hasLayer(h)&&(g.removeLayer(h),h.clusterShow&&h.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)o.extend(this._needsClustering[u].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,u){var h=this._needsClustering.slice(),d=this._needsRemoving,g,y,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(h),y=h.length-1;y>=0;y--){for(g=!0,v=d.length-1;v>=0;v--)if(d[v].layer===h[y]){g=!1;break}g&&o.call(u,h[y])}this._nonPointGroup.eachLayer(o,u)},getLayers:function(){var o=[];return this.eachLayer(function(u){o.push(u)}),o},getLayer:function(o){var u=null;return o=parseInt(o,10),this.eachLayer(function(h){L.stamp(h)===o&&(u=h)}),u},hasLayer:function(o){if(!o)return!1;var u,h=this._needsClustering;for(u=h.length-1;u>=0;u--)if(h[u]===o)return!0;for(h=this._needsRemoving,u=h.length-1;u>=0;u--)if(h[u].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,u){var h=this._map;typeof u!="function"&&(u=function(){});var d=function(){(h.hasLayer(o)||h.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",d,this),this.off("animationend",d,this),h.hasLayer(o)?u():o.__parent._icon&&(this.once("spiderfied",u,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?u():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",d,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",d,this),this.on("animationend",d,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var u,h,d;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,u=0,h=this._needsRemoving.length;u<h;u++)d=this._needsRemoving[u],d.newlatlng=d.layer._latlng,d.layer._latlng=d.latlng;for(u=0,h=this._needsRemoving.length;u<h;u++)d=this._needsRemoving[u],this._removeLayer(d.layer,!0),d.layer._latlng=d.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),h=this._needsClustering,this._needsClustering=[],this.addLayers(h,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var u=o;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(o,u){for(var h=o.length-1;h>=0;h--)if(o[h]===u)return o.splice(h,1),!0},_removeFromGridUnclustered:function(o,u){for(var h=this._map,d=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());u>=g&&d[u].removeObject(o,h.project(o.getLatLng(),u));u--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var u=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),u&&o.target.openPopup()}},_moveChild:function(o,u,h){o._latlng=u,this.removeLayer(o),o._latlng=h,this.addLayer(o)},_childMarkerDragEnd:function(o){var u=o.target.__dragStart;delete o.target.__dragStart,u&&this._moveChild(o.target,u,o.target._latlng)},_removeLayer:function(o,u,h){var d=this._gridClusters,g=this._gridUnclustered,y=this._featureGroup,v=this._map,x=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(o,this._maxZoom);var w=o.__parent,E=w._markers,T;for(this._arraySplice(E,o);w&&(w._childCount--,w._boundsNeedUpdate=!0,!(w._zoom<x));)u&&w._childCount<=1?(T=w._markers[0]===o?w._markers[1]:w._markers[0],d[w._zoom].removeObject(w,v.project(w._cLatLng,w._zoom)),g[w._zoom].addObject(T,v.project(T.getLatLng(),w._zoom)),this._arraySplice(w.__parent._childClusters,w),w.__parent._markers.push(T),T.__parent=w.__parent,w._icon&&(y.removeLayer(w),h||y.addLayer(T))):w._iconNeedsUpdate=!0,w=w.__parent;delete o.__parent},_isOrIsParent:function(o,u){for(;u;){if(o===u)return!0;u=u.parentNode}return!1},fire:function(o,u,h){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,u,h)},listens:function(o,u){return L.FeatureGroup.prototype.listens.call(this,o,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,u)},_defaultIconCreateFunction:function(o){var u=o.getChildCount(),h=" marker-cluster-";return u<10?h+="small":u<100?h+="medium":h+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+h,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,u=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(u||d||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var u=o.layer,h=u;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;h._childClusters.length===1;)h=h._childClusters[0];h._zoom===this._maxZoom&&h._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom,g=this._map;(o||h||d)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),h=this.options.maxClusterRadius,d=h;typeof h!="function"&&(d=function(){return h}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var g=o;g>=u;g--)this._gridClusters[g]=new L.DistanceGrid(d(g)),this._gridUnclustered[g]=new L.DistanceGrid(d(g));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(o,u){var h=this._gridClusters,d=this._gridUnclustered,g=Math.floor(this._map.getMinZoom()),y,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);u>=g;u--){y=this._map.project(o.getLatLng(),u);var x=h[u].getNearObject(y);if(x){x._addChild(o),o.__parent=x;return}if(x=d[u].getNearObject(y),x){var w=x.__parent;w&&this._removeLayer(x,!1);var E=new this._markerCluster(this,u,x,o);h[u].addObject(E,this._map.project(E._cLatLng,u)),x.__parent=E,o.__parent=E;var T=E;for(v=u-1;v>w._zoom;v--)T=new this._markerCluster(this,v,T),h[v].addObject(T,this._map.project(x.getLatLng(),v));w._addChild(T),this._removeFromGridUnclustered(x,u);return}d[u].addObject(o,y)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var u=this._maxLat;return u!==void 0&&(o.getNorth()>=u&&(o._northEast.lat=1/0),o.getSouth()<=-u&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,u){if(u===o)this._featureGroup.addLayer(o);else if(u._childCount===2){u._addToMap();var h=u.getAllChildMarkers();this._featureGroup.removeLayer(h[0]),this._featureGroup.removeLayer(h[1])}else u._updateIcon()},_extractNonGroupLayers:function(o,u){var h=o.getLayers(),d=0,g;for(u=u||[];d<h.length;d++){if(g=h[d],g instanceof L.LayerGroup){this._extractNonGroupLayers(g,u);continue}u.push(g)}return u},_overrideMarkerIcon:function(o){var u=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,u){this._animationAddLayerNonAnimated(o,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,u){var h=this._getExpandedVisibleBounds(),d=this._featureGroup,g=Math.floor(this._map.getMinZoom()),y;this._ignoreMove=!0,this._topClusterLevel._recursively(h,o,g,function(v){var x=v._latlng,w=v._markers,E;for(h.contains(x)||(x=null),v._isSingleParent()&&o+1===u?(d.removeLayer(v),v._recursivelyAddChildrenToMap(null,u,h)):(v.clusterHide(),v._recursivelyAddChildrenToMap(x,u,h)),y=w.length-1;y>=0;y--)E=w[y],h.contains(E._latlng)||d.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(h,u),d.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(h,o,u,function(v){v._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(h,o,g,function(v){d.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,u){this._animationZoomOutSingle(this._topClusterLevel,o-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,u){var h=this,d=this._featureGroup;d.addLayer(o),u!==o&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(u.getLatLng())),o.clusterHide(),this._enqueue(function(){d.removeLayer(o),o.clusterShow(),h._animationEnd()})):(this._forceLayout(),h._animationStart(),h._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,u,h){var d=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(d,g,u+1,h);var y=this;this._forceLayout(),o._recursivelyBecomeVisible(d,h),this._enqueue(function(){if(o._childCount===1){var v=o._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else o._recursively(d,h,g,function(x){x._recursivelyRemoveChildrenFromMap(d,g,u+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,u,h,d){L.Marker.prototype.initialize.call(this,h?h._cLatLng||h.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,h&&this._addChild(h),d&&this._addChild(d)},getAllChildMarkers:function(o,u){o=o||[];for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h].getAllChildMarkers(o,u);for(var d=this._markers.length-1;d>=0;d--)u&&this._markers[d].__dragStart||o.push(this._markers[d]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var u=this._childClusters.slice(),h=this._group._map,d=h.getBoundsZoom(this._bounds),g=this._zoom+1,y=h.getZoom(),v;u.length>0&&d>g;){g++;var x=[];for(v=0;v<u.length;v++)x=x.concat(u[v]._childClusters);u=x}d>g?this._group._map.setView(this._latlng,g):d<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(u||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(u||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,u=this._childClusters,h=0,d=0,g=this._childCount,y,v,x,w;if(g!==0){for(this._resetBounds(),y=0;y<o.length;y++)x=o[y]._latlng,this._bounds.extend(x),h+=x.lat,d+=x.lng;for(y=0;y<u.length;y++)v=u[y],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),x=v._wLatLng,w=v._childCount,h+=x.lat*w,d+=x.lng*w;this._latlng=this._wLatLng=new L.LatLng(h/g,d/g),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,u,h){this._recursively(o,this._group._map.getMinZoom(),h-1,function(d){var g=d._markers,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(u),v.clusterHide())},function(d){var g=d._childClusters,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(u),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,u,h,d){this._recursively(o,d,u,function(g){g._recursivelyAnimateChildrenIn(o,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),h),g._isSingleParent()&&h-1===d?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(o,u,h)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(o,u){this._recursively(o,this._group._map.getMinZoom(),u,null,function(h){h.clusterShow()})},_recursivelyAddChildrenToMap:function(o,u,h){this._recursively(h,this._group._map.getMinZoom()-1,u,function(d){if(u!==d._zoom)for(var g=d._markers.length-1;g>=0;g--){var y=d._markers[g];h.contains(y._latlng)&&(o&&(y._backupLatlng=y.getLatLng(),y.setLatLng(o),y.clusterHide&&y.clusterHide()),d._group._featureGroup.addLayer(y))}},function(d){d._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var u=this._markers.length-1;u>=0;u--){var h=this._markers[u];h._backupLatlng&&(h.setLatLng(h._backupLatlng),delete h._backupLatlng)}if(o-1===this._zoom)for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._restorePosition();else for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,u,h,d){var g,y;this._recursively(o,u-1,h-1,function(v){for(y=v._markers.length-1;y>=0;y--)g=v._markers[y],(!d||!d.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(v){for(y=v._childClusters.length-1;y>=0;y--)g=v._childClusters[y],(!d||!d.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(o,u,h,d,g){var y=this._childClusters,v=this._zoom,x,w;if(u<=v&&(d&&d(this),g&&v===h&&g(this)),v<u||v<h)for(x=y.length-1;x>=0;x--)w=y[x],w._boundsNeedUpdate&&w._recalculateBounds(),o.intersects(w._bounds)&&w._recursively(o,u,h,d,g)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,u){var h=this._getCoord(u.x),d=this._getCoord(u.y),g=this._grid,y=g[d]=g[d]||{},v=y[h]=y[h]||[],x=L.Util.stamp(o);this._objectPoint[x]=u,v.push(o)},updateObject:function(o,u){this.removeObject(o),this.addObject(o,u)},removeObject:function(o,u){var h=this._getCoord(u.x),d=this._getCoord(u.y),g=this._grid,y=g[d]=g[d]||{},v=y[h]=y[h]||[],x,w;for(delete this._objectPoint[L.Util.stamp(o)],x=0,w=v.length;x<w;x++)if(v[x]===o)return v.splice(x,1),w===1&&delete y[h],!0},eachObject:function(o,u){var h,d,g,y,v,x,w,E=this._grid;for(h in E){v=E[h];for(d in v)for(x=v[d],g=0,y=x.length;g<y;g++)w=o.call(u,x[g]),w&&(g--,y--)}},getNearObject:function(o){var u=this._getCoord(o.x),h=this._getCoord(o.y),d,g,y,v,x,w,E,T,N=this._objectPoint,O=this._sqCellSize,P=null;for(d=h-1;d<=h+1;d++)if(v=this._grid[d],v){for(g=u-1;g<=u+1;g++)if(x=v[g],x)for(y=0,w=x.length;y<w;y++)E=x[y],T=this._sqDist(N[L.Util.stamp(E)],o),(T<O||T<=O&&P===null)&&(O=T,P=E)}return P},_getCoord:function(o){var u=Math.floor(o/this._cellSize);return isFinite(u)?u:o},_sqDist:function(o,u){var h=u.x-o.x,d=u.y-o.y;return h*h+d*d}},(function(){L.QuickHull={getDistant:function(o,u){var h=u[1].lat-u[0].lat,d=u[0].lng-u[1].lng;return d*(o.lat-u[0].lat)+h*(o.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(o,u){var h=0,d=null,g=[],y,v,x;for(y=u.length-1;y>=0;y--){if(v=u[y],x=this.getDistant(v,o),x>0)g.push(v);else continue;x>h&&(h=x,d=v)}return{maxPoint:d,newPoints:g}},buildConvexHull:function(o,u){var h=[],d=this.findMostDistantPointFromBaseLine(o,u);return d.maxPoint?(h=h.concat(this.buildConvexHull([o[0],d.maxPoint],d.newPoints)),h=h.concat(this.buildConvexHull([d.maxPoint,o[1]],d.newPoints)),h):[o[0]]},getConvexHull:function(o){var u=!1,h=!1,d=!1,g=!1,y=null,v=null,x=null,w=null,E=null,T=null,N;for(N=o.length-1;N>=0;N--){var O=o[N];(u===!1||O.lat>u)&&(y=O,u=O.lat),(h===!1||O.lat<h)&&(v=O,h=O.lat),(d===!1||O.lng>d)&&(x=O,d=O.lng),(g===!1||O.lng<g)&&(w=O,g=O.lng)}h!==u?(T=v,E=y):(T=w,E=x);var P=[].concat(this.buildConvexHull([T,E],o),this.buildConvexHull([E,T],o));return P}}})(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),u=[],h,d;for(d=o.length-1;d>=0;d--)h=o[d].getLatLng(),u.push(h);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),u=this._group,h=u._map,d=h.latLngToLayerPoint(this._latlng),g;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?g=this._group.options.spiderfyShapePositions(o.length,d):o.length>=this._circleSpiralSwitchover?g=this._generatePointsSpiral(o.length,d):(d.y+=10,g=this._generatePointsCircle(o.length,d)),this._animationSpiderfy(o,g)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,u){var h=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),d=h/this._2PI,g=this._2PI/o,y=[],v,x;for(d=Math.max(d,35),y.length=o,v=0;v<o;v++)x=this._circleStartAngle+v*g,y[v]=new L.Point(u.x+d*Math.cos(x),u.y+d*Math.sin(x))._round();return y},_generatePointsSpiral:function(o,u){var h=this._group.options.spiderfyDistanceMultiplier,d=h*this._spiralLengthStart,g=h*this._spiralFootSeparation,y=h*this._spiralLengthFactor*this._2PI,v=0,x=[],w;for(x.length=o,w=o;w>=0;w--)w<o&&(x[w]=new L.Point(u.x+d*Math.cos(v),u.y+d*Math.sin(v))._round()),v+=g/d+w*5e-4,d+=y/v;return x},_noanimationUnspiderfy:function(){var o=this._group,u=o._map,h=o._featureGroup,d=this.getAllChildMarkers(null,!0),g,y;for(o._ignoreMove=!0,this.setOpacity(1),y=d.length-1;y>=0;y--)g=d[y],h.removeLayer(g),g._preSpiderfyLatlng&&(g.setLatLng(g._preSpiderfyLatlng),delete g._preSpiderfyLatlng),g.setZIndexOffset&&g.setZIndexOffset(0),g._spiderLeg&&(u.removeLayer(g._spiderLeg),delete g._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:d}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,u){var h=this._group,d=h._map,g=h._featureGroup,y=this._group.options.spiderLegPolylineOptions,v,x,w,E;for(h._ignoreMove=!0,v=0;v<o.length;v++)E=d.layerPointToLatLng(u[v]),x=o[v],w=new L.Polyline([this._latlng,E],y),d.addLayer(w),x._spiderLeg=w,x._preSpiderfyLatlng=x._latlng,x.setLatLng(E),x.setZIndexOffset&&x.setZIndexOffset(1e6),g.addLayer(x);this.setOpacity(.3),h._ignoreMove=!1,h.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,u){var h=this,d=this._group,g=d._map,y=d._featureGroup,v=this._latlng,x=g.latLngToLayerPoint(v),w=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),T=E.opacity,N,O,P,M,U,H;for(T===void 0&&(T=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),w?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=T,d._ignoreMove=!0,N=0;N<o.length;N++)O=o[N],H=g.layerPointToLatLng(u[N]),P=new L.Polyline([v,H],E),g.addLayer(P),O._spiderLeg=P,w&&(M=P._path,U=M.getTotalLength()+.1,M.style.strokeDasharray=U,M.style.strokeDashoffset=U),O.setZIndexOffset&&O.setZIndexOffset(1e6),O.clusterHide&&O.clusterHide(),y.addLayer(O),O._setPos&&O._setPos(x);for(d._forceLayout(),d._animationStart(),N=o.length-1;N>=0;N--)H=g.layerPointToLatLng(u[N]),O=o[N],O._preSpiderfyLatlng=O._latlng,O.setLatLng(H),O.clusterShow&&O.clusterShow(),w&&(P=O._spiderLeg,M=P._path,M.style.strokeDashoffset=0,P.setStyle({opacity:T}));this.setOpacity(.3),d._ignoreMove=!1,setTimeout(function(){d._animationEnd(),d.fire("spiderfied",{cluster:h,markers:o})},200)},_animationUnspiderfy:function(o){var u=this,h=this._group,d=h._map,g=h._featureGroup,y=o?d._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):d.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),x=L.Path.SVG,w,E,T,N,O,P;for(h._ignoreMove=!0,h._animationStart(),this.setOpacity(1),E=v.length-1;E>=0;E--)w=v[E],w._preSpiderfyLatlng&&(w.closePopup(),w.setLatLng(w._preSpiderfyLatlng),delete w._preSpiderfyLatlng,P=!0,w._setPos&&(w._setPos(y),P=!1),w.clusterHide&&(w.clusterHide(),P=!1),P&&g.removeLayer(w),x&&(T=w._spiderLeg,N=T._path,O=N.getTotalLength()+.1,N.style.strokeDashoffset=O,T.setStyle({opacity:0})));h._ignoreMove=!1,setTimeout(function(){var M=0;for(E=v.length-1;E>=0;E--)w=v[E],w._spiderLeg&&M++;for(E=v.length-1;E>=0;E--)w=v[E],w._spiderLeg&&(w.clusterShow&&w.clusterShow(),w.setZIndexOffset&&w.setZIndexOffset(0),M>1&&g.removeLayer(w),d.removeLayer(w._spiderLeg),delete w._spiderLeg);h._animationEnd(),h.fire("unspiderfied",{cluster:u,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var u,h;for(u in o)for(h=o[u].__parent;h;)h._iconNeedsUpdate=!0,h=h.__parent},_refreshSingleMarkerModeMarkers:function(o){var u,h;for(u in o)h=o[u],this.hasLayer(h)&&h.setIcon(this._overrideMarkerIcon(h))}}),L.Marker.include({refreshIconOptions:function(o,u){var h=this.options.icon;return L.setOptions(h,o),this.setIcon(h),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(Ju,Ju.exports)),Ju.exports}bI();function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}var xI=["children"];function uS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(n),!0).forEach(function(r){wI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wI(e,t,n){return(t=SI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){var t=CI(e,"string");return jc(t)=="symbol"?t:t+""}function CI(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hS(e,t){return LI(e)||jI(e,t)||TI(e,t)||EI()}function EI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TI(e,t){if(e){if(typeof e=="string")return dS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dS(e,t):void 0}}function dS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,u,h=[],d=!0,g=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(h.push(r.value),h.length!==t);d=!0);}catch(y){g=!0,a=y}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function LI(e){if(Array.isArray(e))return e}function kI(e,t){if(e==null)return{};var n,r,a=AI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function AI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}Ot.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});Ot.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function NI(e,t){e.children;var n=kI(e,xI),r={},a={};Object.entries(n).forEach(function(u){var h=hS(u,2),d=h[0],g=h[1];return d.startsWith("on")?a[d]=g:r[d]=g});var o=new Ot.MarkerClusterGroup(r);return Object.entries(a).forEach(function(u){var h=hS(u,2),d=h[0],g=h[1],y="cluster".concat(d.substring(2).toLowerCase());o.on(y,g)}),{instance:o,context:cS(cS({},t),{},{layerContainer:o})}}var MI=TD(NI);const Ha={CHUNKED_LOADING:!0,SHOW_COVERAGE_ON_HOVER:!0,SPIDERFY_ON_MAX_ZOOM:!1,REMOVE_OUTSIDE_VISIBLE_BOUNDS:!0,DISABLE_CLUSTERING_AT_ZOOM:18,MAX_CLUSTER_RADIUS:400,MAX_MARKER_ID:1001},Od={SIZE:[15,25],GLYPH_COLOR:"white",GLYPH_SIZE:"9px",GLYPH_ANCHOR:[0,-4]},OI=e=>e.iconUrl?bl(e.iconUrl):bl(`${e.type||"default"}.svg`),PI=(e,t=!1,n=!1)=>{let r=e.type?`marker-icon marker-type-${e.type}`:"marker-icon";return t&&(r+=" marker-active"),n&&(r+=" marker-favorited"),uv({className:r,prefix:e.prefix,iconUrl:OI(e),iconSize:Array.isArray(e.iconSize)?e.iconSize:Od.SIZE,glyph:e.glyph||"",glyphColor:e.glyphColor||Od.GLYPH_COLOR,glyphSize:e.glyphSize||Od.GLYPH_SIZE,glyphAnchor:e.glyphAnchor||Od.GLYPH_ANCHOR})},RI=e=>`${e.id}-${e.lat}-${e.lng}-${e.iconUrl||""}-${e.glyph||""}`,DI=k.memo(({marker:e,isDraggable:t,icon:n,eventHandlers:r,markerRef:a,isMobile:o,organizationLogo:u,onMarkerSelect:h})=>m.jsx(U2,{position:[e.lat,e.lng],icon:n,draggable:t,eventHandlers:r,ref:a,children:m.jsx(bT,{marker:e,isMobile:o,organizationLogo:u,onMoreInfo:()=>h(e)})}),(e,t)=>{const n=e.icon===t.icon,r=e.isDraggable===t.isDraggable,a=e.eventHandlers===t.eventHandlers;return n&&r&&a?!(e.marker.name!==t.marker.name||e.marker.logo!==t.marker.logo||e.marker.website!==t.marker.website||e.marker.info!==t.marker.info):!1});function Gv({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,iconCreateFunction:r,selectedYear:a,isAdminView:o,selectedMarkerId:u,onMarkerSelect:h,focusMarkerId:d,onFocusHandled:g}){const y=k.useRef({}),v=cv("md"),[x,w]=k.useState(null),E=o&&u!==void 0?e.find(z=>z.id===u):x,T=o&&h?z=>h(z?z.id:null):w,{organizationLogo:N,loading:O}=Xs();let P=null;try{P=gf()}catch{}const M=P?.isFavorite||(()=>!1),[U,H]=k.useState({isOpen:!1,position:null,marker:null}),[I,F]=k.useState(!1),{subscriptions:te}=Bc(a||new Date().getFullYear()),{assignments:G,assignCompanyToMarker:re,unassignCompanyFromMarker:K}=kf(a||new Date().getFullYear()),{confirm:Q}=Pl(),ae=k.useMemo(()=>e.filter(z=>z.id<Ha.MAX_MARKER_ID),[e]),se=k.useCallback(z=>W=>{const{lat:oe,lng:fe}=W.target.getLatLng();t(z,{lat:oe,lng:fe})},[t]),de=k.useCallback(z=>(y.current[z]||(y.current[z]=gi.createRef()),y.current[z]),[]),q=k.useCallback(z=>W=>{o&&(Ot.DomEvent.preventDefault(W),H({isOpen:!0,position:W.latlng,marker:z,timestamp:Date.now()}))},[o]),ee=k.useCallback(async(z,W)=>{const oe=G.filter(fe=>fe.marker_id===z);if(oe.length>0){const Ce=te.find(De=>De.company_id===W)?.company?.name||"this company",Re=e.find(De=>De.id===z),ve=Re?.glyph||Re?.id||"this booth";let Le;if(oe.length===1){const De=oe[0].company?.name||"another company";Le=`Booth ${ve} is already assigned to ${De}.

Assign ${Ce} as an additional company for this booth?`}else{const De=oe.map(He=>He.company?.name).filter(Boolean).join(", ");Le=`Booth ${ve} is already assigned to ${oe.length} companies: ${De}.

Assign ${Ce} as another company for this booth?`}if(!await Q({title:"Multiple Assignments",message:Le,confirmText:"Assign",variant:"warning"}))return}F(!0);try{await re(z,W)}catch(fe){console.error("Error assigning company:",fe)}finally{F(!1)}},[re,G,te,e]),Y=k.useCallback(async(z,W)=>{F(!0);try{await K(z,W)}catch(oe){console.error("Error unassigning company:",oe)}finally{F(!1)}},[K]),we=k.useRef({}),R=k.useCallback(z=>{const W=`${z.id}-${n?"draggable":"static"}-${o?"admin":"visitor"}`;return we.current[W]||(we.current[W]={dragend:n?se(z.id):void 0,popupopen:oe=>oe.target.closeTooltip(),contextmenu:o?q(z):void 0}),we.current[W]},[n,se,o,q]),V=k.useRef({}),X=k.useCallback((z,W)=>{const oe=z.companyId?M(z.companyId):!1,fe=`${z.id}-${z.iconUrl||""}-${z.glyph||""}-${z.glyphColor||""}-${W}-${oe}`;return V.current[fe]||(V.current[fe]=PI(z,W,oe)),V.current[fe]},[M]);return k.useEffect(()=>{const z=new Set(ae.map(W=>W.id));Object.keys(we.current).forEach(W=>{const oe=parseInt(W.split("-")[0],10);z.has(oe)||delete we.current[W]}),Object.keys(V.current).forEach(W=>{const oe=parseInt(W.split("-")[0],10);z.has(oe)||delete V.current[W]})},[ae]),k.useEffect(()=>{if(!d)return;const W=setTimeout(()=>{const oe=y.current[d];if(oe?.current){if(v){const fe=ae.find(Ce=>Ce.id===d);fe&&w(fe)}else oe.current.openPopup();g&&g()}},1200);return()=>clearTimeout(W)},[d,v,ae,g]),O?null:m.jsxs(m.Fragment,{children:[m.jsx(MI,{chunkedLoading:Ha.CHUNKED_LOADING,showCoverageOnHover:Ha.SHOW_COVERAGE_ON_HOVER,spiderfyOnMaxZoom:Ha.SPIDERFY_ON_MAX_ZOOM,removeOutsideVisibleBounds:Ha.REMOVE_OUTSIDE_VISIBLE_BOUNDS,disableClusteringAtZoom:Ha.DISABLE_CLUSTERING_AT_ZOOM,maxClusterRadius:Ha.MAX_CLUSTER_RADIUS,iconCreateFunction:r,children:ae.map(z=>{const W=E?.id===z.id,oe=X(z,W),fe=n(z),Ce=RI(z);return m.jsx(DI,{marker:z,isDraggable:fe,icon:oe,eventHandlers:R(z),markerRef:de(z.id),isMobile:v,organizationLogo:N,onMarkerSelect:T},Ce)})},"cluster-group"),U.isOpen&&U.marker&&m.jsx(Cf,{position:U.position,onClose:()=>H({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:m.jsx(xT,{marker:U.marker,subscriptions:te,assignments:G,onAssign:ee,onUnassign:Y,isLoading:I,onClose:()=>H({isOpen:!1,position:null,marker:null})})},`context-${U.marker.id}-${U.timestamp||Date.now()}`),v&&E&&m.jsx(_T,{marker:E,onClose:()=>T(null)})]})}Gv.propTypes={safeMarkers:ke.arrayOf(ke.shape({id:ke.number.isRequired,lat:ke.number.isRequired,lng:ke.number.isRequired,type:ke.string,iconUrl:ke.string,iconSize:ke.arrayOf(ke.number),glyph:ke.string,glyphColor:ke.string,glyphSize:ke.string,glyphAnchor:ke.arrayOf(ke.number),prefix:ke.string,name:ke.string,logo:ke.string,website:ke.string,info:ke.string,companyId:ke.number})).isRequired,updateMarker:ke.func.isRequired,isMarkerDraggable:ke.func.isRequired,iconCreateFunction:ke.func.isRequired,selectedYear:ke.number,isAdminView:ke.bool,selectedMarkerId:ke.number,onMarkerSelect:ke.func,focusMarkerId:ke.number,onFocusHandled:ke.func};Gv.defaultProps={selectedYear:new Date().getFullYear(),isAdminView:!1,selectedMarkerId:null,onMarkerSelect:null,focusMarkerId:null,onFocusHandled:null};function zI({isAdminView:e,mapInstance:t,updateMarker:n}){const{t:r}=mn(),[a,o]=k.useState(!1),[u,h]=k.useState(!1),[d,g]=k.useState(""),[y,v]=k.useState(""),x=()=>{h(!0),g(""),v("")},w=async()=>{if(!d||isNaN(Number(d))){v("Please enter a valid numeric ID.");return}if(await T(d)){v("ID already exists. Please choose another.");return}h(!1),o(!0),v("")},E=()=>{h(!1),g(""),v("")};k.useEffect(()=>{if(!a||!t||!d)return;const N=O=>{const P=O.latlng,M={...BI({lat:P.lat,lng:P.lng}),id:Number(d)};typeof n=="function"&&n(M.id,M,{add:!0}),o(!1),g(""),t.off("click",N)};return t.on("click",N),()=>{t.off("click",N)}},[a,t,n,d]);async function T(N){try{const{supabase:O}=await Qi(async()=>{const{supabase:M}=await Promise.resolve().then(()=>fC);return{supabase:M}},void 0),P=["Markers_Core","Markers_Appearance","Markers_Content"];for(const M of P){const{data:U,error:H}=await O.from(M).select("id").eq("id",Number(N));if(H)return!1;if(U&&U.length>0)return!0}return!1}catch{return!1}}return e?m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:x,"aria-label":"Add marker",className:"bg-white rounded-full shadow p-2 flex items-center justify-center print-hide",style:{position:"absolute",left:10,top:60,zIndex:1001,width:44,height:44,border:"none",cursor:a?"crosshair":"pointer",background:a?"#e3f2fd":"white"},title:a?"Click on map to place marker":"Add marker",children:[m.jsx(BC.Icon,{path:CO,size:1.5,color:"#1976d2","aria-hidden":"true",style:{width:"42px",height:"42px"}}),m.jsx("span",{className:"sr-only",children:"Add marker"})]}),u&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100svh",background:"rgba(0,0,0,0.3)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{style:{background:"white",borderRadius:8,boxShadow:"0 2px 16px rgba(25,118,210,0.15)",padding:32,minWidth:320,display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx("h2",{style:{color:"#1976d2",fontWeight:700,marginBottom:16},children:"Enter Marker ID"}),m.jsx("input",{type:"number",value:d,onChange:N=>g(N.target.value),style:{fontSize:18,padding:"8px 12px",border:"2px solid #1976d2",borderRadius:4,marginBottom:12,width:"100%"},placeholder:"Marker ID (integer)",min:1}),y&&m.jsx("div",{style:{color:"red",marginBottom:8},children:y}),m.jsxs("div",{style:{display:"flex",gap:12},children:[m.jsx("button",{onClick:w,style:{background:"#1976d2",color:"white",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:"Confirm"}),m.jsx("button",{onClick:E,style:{background:"#eee",color:"#1976d2",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]})]})})]}):null}function BI({lat:e,lng:t}){return{id:null,lat:e,lng:t,name:"",label:"",logo:"",coreLocked:!1}}var CT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fS=gi.createContext&&gi.createContext(CT),II=["attr","size","title"];function UI(e,t){if(e==null)return{};var n=VI(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VI(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(this,arguments)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(r){HI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HI(e,t,n){return t=FI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FI(e){var t=qI(e,"string");return typeof t=="symbol"?t:t+""}function qI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ET(e){return e&&e.map((t,n)=>gi.createElement(t.tag,af({key:n},t.attr),ET(t.child)))}function Af(e){return t=>gi.createElement($I,sf({attr:af({},e.attr)},t),ET(e.child))}function $I(e){var t=n=>{var{attr:r,size:a,title:o}=e,u=UI(e,II),h=a||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),gi.createElement("svg",sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:d,style:af(af({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&gi.createElement("title",null,o),e.children)};return fS!==void 0?gi.createElement(fS.Consumer,null,n=>t(n)):t(CT)}function ZI(e){return Af({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function GI(e){return Af({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(e)}function KI(e){return Af({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function WI(e){return Af({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function YI(e){e&&e.zoomIn()}function XI(e){e&&e.zoomOut()}function JI(e,t,n){e&&e.setView(t,n)}function QI({mapInstance:e}){const t=()=>{window.L&&e&&e.printControl?e.printControl.printMap():window.print()};return m.jsx("button",{onClick:t,className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center","aria-label":"Print map",title:"Print map",type:"button",children:m.jsx(GI,{size:24,color:"#1976d2"})})}const e8={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function t8({mapInstance:e,mapCenter:t,mapZoom:n,searchControlRef:r,isAdminView:a,showLayersMenu:o,setShowLayersMenu:u,activeLayer:h,setActiveLayer:d,showRectanglesAndHandles:g,setShowRectanglesAndHandles:y,MAP_LAYERS:v}){const x=()=>YI(e),w=()=>XI(e),E=()=>JI(e,t,n);return m.jsxs("div",{className:"map-controls-print-hide",style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[m.jsxs("button",{onClick:E,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[m.jsx(ZI,{size:28,color:"#1976d2","aria-hidden":"true"}),m.jsx("span",{className:"sr-only",children:"Home"})]}),m.jsxs("button",{onClick:x,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[m.jsx(KI,{size:28,color:"#1976d2","aria-hidden":"true"}),m.jsx("span",{className:"sr-only",children:"Zoom in"})]}),m.jsxs("button",{onClick:w,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[m.jsx(WI,{size:28,color:"#1976d2","aria-hidden":"true"}),m.jsx("span",{className:"sr-only",children:"Zoom out"})]}),a&&m.jsx(QI,{mapInstance:e}),a&&m.jsxs("div",{style:{position:"relative"},children:[m.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>u(T=>!T),children:[m.jsx(Se,{path:vO,size:1.2,color:"#1976d2"}),m.jsx("span",{className:"sr-only",children:"Map layers"})]}),o&&m.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[m.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),v.map(T=>m.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${h===T.key?"bg-blue-50 font-bold":""}`,onClick:()=>d(T.key),role:"menuitem",style:{color:"#1976d2"},children:T.name},T.key)),m.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),m.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[m.jsx("input",{type:"checkbox",checked:g,onChange:T=>y(T.target.checked),style:e8}),m.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:g?"inline-block":"none"},children:m.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:m.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),m.jsx("span",{style:{marginLeft:g?-8:0},children:"Booth Surface"})]})]})]})]})}function n8(e){return function(n){const r=XC(e),a="/Map".endsWith("/")?"/Map":"/Map/";return uv({iconUrl:`${a}assets/icons/glyph-marker-icon-orange.svg`,iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='${r}' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}}function i8(e){return e.angle||0}function qs(e,t,n){const r=n*Math.PI/180,a=e*Math.cos(r)-t*Math.sin(r),o=e*Math.sin(r)+t*Math.cos(r);return[a,o]}function Gu(e){return e/111320}function Ku(e,t){return e/(40075e3*Math.cos(t*Math.PI/180)/360)}function r8(e){return e*111320}function s8(e,t){return e*(40075e3*Math.cos(t*Math.PI/180)/360)}function a8({mapInstance:e,markers:t,rectangleSize:n,isAdminView:r,showRectanglesAndHandles:a,updateMarker:o,rectangleLayerRef:u}){if(!e)return;u.current||(u.current=Ot.layerGroup(),u.current.addTo(e));const h=u.current;h._markerLayers||(h._markerLayers={}),Object.keys(h._markerLayers).forEach(d=>{t.find(g=>g.id===d)||(h.removeLayer(h._markerLayers[d].rectangle),h.removeLayer(h._markerLayers[d].handle),delete h._markerLayers[d])}),t.forEach(d=>{if(d.lat&&d.lng){const g=Ot.latLng(d.lat,d.lng),y=Array.isArray(d.rectangle)&&d.rectangle.length===2?d.rectangle:n,v=Number(y[0])/2,x=Number(y[1])/2,w=i8(d),E="#1976d2",T=[qs(-v,-x,w),qs(v,-x,w),qs(v,x,w),qs(-v,x,w)],N=T.map(([M,U])=>Ot.latLng(g.lat+Gu(U),g.lng+Ku(M,g.lat)));let O,P;if(h._markerLayers[d.id]){O=h._markerLayers[d.id].rectangle,O.setLatLngs(N),P=h._markerLayers[d.id].handle;const[M,U]=T[2],H=Ot.latLng(g.lat+Gu(U),g.lng+Ku(M,g.lat));P.setLatLng(H)}else{O=Ot.polygon(N,{color:E,weight:1});const[M,U]=T[2],H=Ot.latLng(g.lat+Gu(U),g.lng+Ku(M,g.lat));let I;if(r&&!d.coreLocked){const F=Ot.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});I=Ot.marker(H,{icon:F,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),I.on("dragstart",function(){e&&e.dragging.disable()});let te=w;I.on("drag",function(G){const re=G.target.getLatLng(),K=s8(re.lng-g.lng,g.lat),Q=r8(re.lat-g.lat);let se=Math.atan2(Q,K)*180/Math.PI;se<0&&(se+=360),te=se;const de=[qs(-v,-x,te),qs(v,-x,te),qs(v,x,te),qs(-v,x,te)],q=de.map(([R,V])=>Ot.latLng(g.lat+Gu(V),g.lng+Ku(R,g.lat)));O.setLatLngs(q);const[ee,Y]=de[2],we=Ot.latLng(g.lat+Gu(Y),g.lng+Ku(ee,g.lat));I.setLatLng(we)}),I.on("dragend",function(){e&&e.dragging.enable(),o(d.id,{angle:te})})}else{const F=Ot.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});I=Ot.marker(H,{icon:F,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}h.addLayer(O),h.addLayer(I),h._markerLayers[d.id]={rectangle:O,handle:I}}}}),Object.values(h._markerLayers).forEach(({rectangle:d,handle:g})=>{a?(h.addLayer(d),h.addLayer(g)):(h.removeLayer(d),h.removeLayer(g))})}function o8(){const e=k.useCallback(n=>{},[]),t=k.useCallback(n=>{},[]);return{trackMarkerView:e,trackMapInteraction:t}}var Tg={exports:{}},mS;function l8(){return mS||(mS=1,(function(e){(function(t){e.exports=t(lv())})(function(t){return t.Control.Search=t.Control.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,r){var a=r.split("."),o=a.pop(),u=a.length,h=a[0],d=1;if(u>0)for(;(n=n[h])&&d<u;)h=a[d++];if(n)return n[o]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){t.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new t.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=t.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof t.Marker||this.options.marker instanceof t.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new t.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=t.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):t.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var r=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){r.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",t.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var r=t.DomUtil.create("div",n,this._container);return r.style.display="none",t.DomEvent.on(r,"click",t.DomEvent.stop,this).on(r,"click",this.hideAlert,this),r},_createInput:function(n,r){var a=this,o=t.DomUtil.create("label",r,this._container),u=t.DomUtil.create("input",r,this._container);return u.type="text",u.size=this._inputMinSize,u.value="",u.autocomplete="off",u.autocorrect="off",u.autocapitalize="off",u.placeholder=n,u.style.display="none",u.role="search",u.id=u.role+u.type+u.size,o.htmlFor=u.id,o.style.display="none",o.value=n,t.DomEvent.disableClickPropagation(u).on(u,"keyup",this._handleKeypress,this).on(u,"paste",function(h){setTimeout(function(d){a._handleKeypress(d)},10,h)},this).on(u,"blur",this.collapseDelayed,this).on(u,"focus",this.collapseDelayedStop,this),u},_createCancel:function(n,r){var a=t.DomUtil.create("a",r,this._container);return a.href="#",a.title=n,a.style.display="none",a.innerHTML="<span>&otimes;</span>",t.DomEvent.on(a,"click",t.DomEvent.stop,this).on(a,"click",this.cancel,this),a},_createButton:function(n,r){var a=t.DomUtil.create("a",r,this._container);return a.href="#",a.title=n,t.DomEvent.on(a,"click",t.DomEvent.stop,this).on(a,"click",this._handleSubmit,this).on(a,"focus",this.collapseDelayedStop,this).on(a,"blur",this.collapseDelayed,this),a},_createTooltip:function(n){var r=this,a=t.DomUtil.create("ul",n,this._container);return a.style.display="none",t.DomEvent.disableClickPropagation(a).on(a,"blur",this.collapseDelayed,this).on(a,"wheel",function(o){r.collapseDelayedStop(),t.DomEvent.stopPropagation(o)},this).on(a,"mouseover",function(o){r.collapseDelayedStop()},this),a},_createTip:function(n,r){var a;if(this.options.buildTip){if(a=this.options.buildTip.call(this,n,r),typeof a=="string"){var o=t.DomUtil.create("div");o.innerHTML=a,a=o.firstChild}}else a=t.DomUtil.create("li",""),a.innerHTML=n;return t.DomUtil.addClass(a,"search-tip"),a._text=n,this.options.tipAutoSubmit&&t.DomEvent.disableClickPropagation(a).on(a,"click",t.DomEvent.stop,this).on(a,"click",function(u){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),a},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,r){var a,o,u,h={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];a=this.options.initial?"^":"",o=this.options.casesensitive?void 0:"i",u=new RegExp(a+n,o);for(let d in r)u.test(d)&&(h[d]=r[d]);return h},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let r in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(r,n[r]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var r=this,a=this.options.propertyName,o=this.options.propertyLoc,u={};if(t.Util.isArray(o))for(let h in n)u[r._getPath(n[h],a)]=t.latLng(r._getPath(n[h],o[0]),r._getPath(n[h],o[1]));else for(let h in n)u[r._getPath(n[h],a)]=t.latLng(r._getPath(n[h],o));return u},_recordsFromJsonp:function(n,r){t.Control.Search.callJsonp=r;var a=t.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),o=t.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return a.type="text/javascript",a.src=o,{abort:function(){a.parentNode.removeChild(a)}}},_recordsFromAjax:function(n,r){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var a=t.Browser.ie&&!window.atob&&document.querySelector,o=a?new XDomainRequest:new XMLHttpRequest,u=t.Util.template(this._getUrl(n),{s:n});return o.open("GET",u),o.onload=function(){r(JSON.parse(o.responseText))},o.onreadystatechange=function(){o.readyState===4&&o.status===200&&this.onload()},o.send(),o},_searchInLayer:function(n,r,a){var o=this,u;n instanceof t.Control.Search.Marker||(n instanceof t.Marker||n instanceof t.CircleMarker?o._getPath(n.options,a)?(u=n.getLatLng(),u.layer=n,r[o._getPath(n.options,a)]=u):o._getPath(n.feature.properties,a)&&(u=n.getLatLng(),u.layer=n,r[o._getPath(n.feature.properties,a)]=u):n instanceof t.Path||n instanceof t.Polyline||n instanceof t.Polygon?o._getPath(n.options,a)?(u=n.getBounds().getCenter(),u.layer=n,r[o._getPath(n.options,a)]=u):o._getPath(n.feature.properties,a)&&(u=n.getBounds().getCenter(),u.layer=n,r[o._getPath(n.feature.properties,a)]=u):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(a)&&(n.getLatLng&&typeof n.getLatLng=="function"?(u=n.getLatLng(),u.layer=n,r[n.feature.properties[a]]=u):n.getBounds&&typeof n.getBounds=="function"&&(u=n.getBounds().getCenter(),u.layer=n,r[n.feature.properties[a]]=u)):n instanceof t.LayerGroup&&n.eachLayer(function(h){o._searchInLayer(h,r,a)}))},_recordsFromLayer:function(){var n=this,r={},a=this.options.propertyName;return this._layer.eachLayer(function(o){n._searchInLayer(o,r,a)}),r},_autoType:function(){var n=this._input.value.length,r=this._tooltip.firstChild?this._tooltip.firstChild._text:"",a=r.length;if(r.indexOf(this._input.value)===0)if(this._input.value=r,this._handleAutoresize(),this._input.createTextRange){var o=this._input.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",a),o.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,a):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=a)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var r=this._input.value.length;n.moveStart("character",r),n.moveEnd("character",r),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var r=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){r._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var r=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:r})},_fillRecordsCache:function(){var n=this,r=this._input.value,a;this._curReq&&this._curReq.abort&&this._curReq.abort(),t.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),a=this._filterData(this._input.value,this._recordsCache),this.showTooltip(a),t.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,r,function(o){n._recordsCache=n._formatData.call(n,o),n.options.sourceData?a=n._filterData(n._input.value,n._recordsCache):a=n._recordsCache,n.showTooltip(a),t.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=83,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var r=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let o=0;o<r.length;o++)t.DomUtil.removeClass(r[o],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=r.length-1)t.DomUtil.addClass(r[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,t.DomUtil.addClass(r[this._tooltip.currentSelection],"search-tip-select"),this._input.value=r[this._tooltip.currentSelection]._text;var a=r[this._tooltip.currentSelection].offsetTop;a+r[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=a-this._tooltip.clientHeight+r[this._tooltip.currentSelection].clientHeight:a<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=a)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,r,a){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,r){var a=this;return a._map.once("moveend zoomend",function(o){a._markerSearch&&a._markerSearch.addTo(a._map).setLatLng(n)}),a._moveToLocation(n,r,a._map),a.options.autoCollapse&&a.collapse(),a}}),t.Control.Search.Marker=t.Marker.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{icon:new t.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,r){t.setOptions(this,r),r.icon===!0&&(r.icon=new t.Icon.Default),t.Marker.prototype.initialize.call(this,n,r),t.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new t.CircleMarker(n,this.options.circle))},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){t.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return t.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&t.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&t.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,r=200,a=5,o=parseInt(n._radius/a),u=this.options.circle.radius,h=n._radius*2,d=0;n._timerAnimLoc=setInterval(function(){d+=.5,o+=d,h-=o,n.setRadius(h),h<u&&(clearInterval(n._timerAnimLoc),n.setRadius(u))},r)}return this}}),t.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=t.control.search(this.options.searchControl),this.addControl(this.searchControl))}),t.control.search=function(n){return new t.Control.Search(n)},t.Control.Search})})(Tg)),Tg.exports}l8();var jg={exports:{}},gS;function u8(){return gS||(gS=1,(function(e,t){(function(n,r){e.exports=n(lv()),typeof r<"u"&&r.L&&(r.L.Control.MiniMap=n(L),r.L.control.minimap=function(a,o){return new r.L.Control.MiniMap(a,o)})})(function(n){var r=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(a,o){n.Util.setOptions(this,o),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=a},onAdd:function(a){this._mainMap=a,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var o={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:a.options.crs};return o=n.Util.extend(this.options.mapOptions,o),this._miniMap=new n.Map(this._container,o),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(a){n.Control.prototype.addTo.call(this,a);var o=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(a){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(a){this._miniMap.removeLayer(this._layer),this._layer=a,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(a,o,u,h,d,g){var y=n.DomUtil.create("a",u,h);y.innerHTML=a,y.href="#",y.title=o;var v=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",v).on(y,"mousedown",v).on(y,"dblclick",v).on(y,"click",n.DomEvent.preventDefault).on(y,"click",d,g),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(a){a!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(a){if(this._miniMapMoving)this._miniMapMoving=!1;else{var o=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(a){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(a){if(!this.options.centerFixed){var o=this._aimingRect.getBounds(),u=this._miniMap.latLngToContainerPoint(o.getSouthWest()),h=this._miniMap.latLngToContainerPoint(o.getNorthEast());this._lastAimingRectPosition={sw:u,ne:h}}},_onMiniMapMoving:function(a){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(a){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var a=this.options.zoomLevelFixed;return this._isDefined(a)&&this._isInteger(a)},_decideZoom:function(a){if(this._isZoomLevelFixed())return a?this.options.zoomLevelFixed:this._mainMap.getZoom();if(a)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var o=this._miniMap.getZoom()-this._mainMap.getZoom(),u=this._miniMap.getZoom()-this.options.zoomLevelOffset,h;return o>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(h=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):h=this._mainMap.getZoom():h=u,this._lastMiniMapZoom=this._miniMap.getZoom(),h},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(a){return typeof a=="number"},_isDefined:function(a){return typeof a<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var a={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",a),this.fire("toggle",a)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new r().addTo(this))}),r},window)})(jg)),jg.exports}u8();const c8=e=>[e.name,e.glyph,e.label].filter(Boolean).join(" | "),yS=(e,t)=>t&&e&&e.coreLocked===!1;function Nf({isAdminView:e,markersState:t,updateMarker:n,selectedYear:r,selectedMarkerId:a,onMarkerSelect:o}){const[u,h]=k.useState({}),[d,g]=k.useState(!1),[y,v]=k.useState(Ed[0].key),[x,w]=k.useState(!1),[E,T]=k.useState(null),[N,O]=k.useState(null),{organizationLogo:P}=Xs(),[M,U]=YN(),H=k.useRef(null),I=k.useRef(null),F=k.useRef(!1),[te,G]=k.useState(null),re=k.useMemo(()=>n8(P),[P]),{t:K}=mn(),Q=cv();o8();const ae=k.useMemo(()=>Array.isArray(t)?t:[],[t]);k.useEffect(()=>{ae.forEach(q=>{if(q.logo){const ee=new window.Image;ee.src=Ji(q.logo)}})},[ae]),k.useEffect(()=>{E&&a8({mapInstance:E,markers:ae,rectangleSize:ln.RECTANGLE_SIZE,isAdminView:e,showRectanglesAndHandles:x,updateMarker:n,rectangleLayerRef:I})},[E,ae,e,x,n]),k.useEffect(()=>{if(!E)return;const q=Ot.layerGroup();ae.forEach(ee=>{if(ee.lat&&ee.lng){const Y=c8(ee),we=Ot.marker([ee.lat,ee.lng],{opacity:0,interactive:!1});we.feature={type:"Feature",properties:{searchText:Y}},we.bindPopup(ee.name||ee.label||""),q.addLayer(we)}}),O(q)},[E,ae]),k.useEffect(()=>{if(!E||!N)return;const q=new Ot.Control.Search({layer:N,propertyName:"searchText",initial:!1,zoom:ln.SEARCH_ZOOM,marker:{icon:!1,animate:!0},textPlaceholder:"Search for name or booth...",position:"topleft"});return E.addControl(q),H.current=q,q.on("search:locationfound",ee=>{if(ee?.layer?.getLatLng){const Y=ee.layer.getLatLng();E.flyTo(Y,ln.SEARCH_ZOOM,{animate:!0}),q._input&&q._input.blur(),q.hideAlert&&q.hideAlert(),q.collapse&&q.collapse()}}),()=>{E&&q&&(E.removeControl(q),H.current=null)}},[E,N]),k.useEffect(()=>{if(E&&!E._minimapControl){const q=Ot.tileLayer(Ed[0].url,{attribution:"",minZoom:0,maxZoom:16}),ee=new Ot.Control.MiniMap(q,{position:"bottomright",width:ln.MINIMAP.WIDTH,height:ln.MINIMAP.HEIGHT,zoomLevelFixed:ln.MINIMAP.ZOOM_LEVEL,toggleDisplay:!0,centerFixed:ln.DEFAULT_POSITION,aimingRectOptions:{color:ln.MINIMAP.AIMING_COLOR,weight:2,opacity:.9,fillOpacity:.1,fill:!0},shadowRectOptions:{color:ln.MINIMAP.SHADOW_COLOR,weight:1,opacity:.5,fillOpacity:.05,fill:!0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"}});ee.addTo(E),E._minimapControl=ee}},[E]),k.useEffect(()=>{if(!E||!ae.length||F.current)return;const q=M.get("focus");if(q){const ee=parseInt(q,10),Y=ae.find(we=>we.id===ee);Y&&Y.lat&&Y.lng&&(setTimeout(()=>{E.flyTo([Y.lat,Y.lng],ln.SEARCH_ZOOM,{animate:!0,duration:1}),G(ee)},300),F.current=!0,U({},{replace:!0}))}},[E,ae,M,U]);const se=q=>{const ee=q?.target||q;T(ee)},de=e?{height:"100%",width:"100%",position:"relative",touchAction:"pan-x pan-y",overflow:"hidden"}:{height:"100svh",width:"100vw",position:"fixed",inset:0,zIndex:0,touchAction:"pan-x pan-y",overflow:"hidden"};return m.jsxs("div",{style:de,tabIndex:0,"aria-label":"Event Map",role:"region",children:[m.jsx(t8,{mapInstance:E,mapCenter:ln.DEFAULT_POSITION,mapZoom:ln.DEFAULT_ZOOM,searchControlRef:H,isAdminView:e,showLayersMenu:d,setShowLayersMenu:g,activeLayer:y,setActiveLayer:v,showRectanglesAndHandles:x,setShowRectanglesAndHandles:w,MAP_LAYERS:Ed}),e&&m.jsx(zI,{mapInstance:E,isAdminView:e,updateMarker:n}),m.jsx("div",{id:"map-container",className:e?"w-full h-full":"fixed inset-0 w-full h-full",style:{zIndex:e?"auto":1,height:e?"100%":"100svh",touchAction:"pan-x pan-y",overflow:"hidden"},"aria-label":K("map.ariaLabel"),children:m.jsxs(ND,{center:ln.DEFAULT_POSITION,zoom:ln.DEFAULT_ZOOM,minZoom:ln.MIN_ZOOM,maxZoom:ln.MAX_ZOOM,zoomDelta:ln.ZOOM_DELTA,zoomSnap:ln.ZOOM_SNAP,zoomControl:!1,style:{width:e?"100%":"100vw",height:e?"100%":"100svh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:se,attributionControl:!1,children:[Ed.filter(q=>q.key===y).map(q=>m.jsx(MD,{attribution:q.attribution,url:q.url,maxZoom:ln.MAX_ZOOM},q.key)),m.jsx(Gv,{safeMarkers:ae,infoButtonToggled:u,setInfoButtonToggled:h,isMobile:Q,updateMarker:n,isMarkerDraggable:q=>yS(q,e),iconCreateFunction:re,selectedYear:r,isAdminView:e,selectedMarkerId:a,onMarkerSelect:o,focusMarkerId:te,onFocusHandled:()=>G(null)}),m.jsx(vI,{safeMarkers:ae,infoButtonToggled:u,setInfoButtonToggled:h,isMobile:Q,updateMarker:n,isMarkerDraggable:q=>yS(q,e),selectedMarkerId:a,onMarkerSelect:o,isAdminView:e,selectedYear:r})]})})]})}Nf.propTypes={isAdminView:ke.bool,markersState:ke.array,updateMarker:ke.func.isRequired,selectedYear:ke.number,selectedMarkerId:ke.number,onMarkerSelect:ke.func};Nf.defaultProps={isAdminView:!1,markersState:[],selectedYear:new Date().getFullYear(),selectedMarkerId:null,onMarkerSelect:null};const h8=Object.freeze(Object.defineProperty({__proto__:null,default:Nf},Symbol.toStringTag,{value:"Module"}));function d8({markersState:e,setMarkersState:t,updateMarker:n,selectedYear:r}){const[a,o]=k.useState(""),[u,h]=k.useState(null),[d,g]=k.useState(!1),[y,v]=k.useState(null),[x,w]=k.useState("id-asc"),[E,T]=k.useState([]),{toastError:N}=Pl();k.useEffect(()=>{async function K(){try{const[Q,ae]=await Promise.all([xe.from("Markers_Core").select("*").in("id",[-1,-2]),xe.from("Markers_Appearance").select("*").in("id",[-1,-2])]);if(Q.error)throw Q.error;if(ae.error)throw ae.error;const se=(Q.data||[]).map(de=>{const q=(ae.data||[]).find(ee=>ee.id===de.id)||{};return{...de,...q}});T(se)}catch(Q){console.error("Error fetching default markers:",Q)}}K()},[]);const O=k.useMemo(()=>{if(!e)return E;const Q=[...e.filter(ae=>{const se=a.toLowerCase();return ae.id.toString().includes(se)||ae.glyph?.toLowerCase().includes(se)||ae.name?.toLowerCase().includes(se)})].sort((ae,se)=>{switch(x){case"id-asc":return ae.id-se.id;case"id-desc":return se.id-ae.id;case"name-asc":return(ae.glyph||ae.name||"").localeCompare(se.glyph||se.name||"");case"name-desc":return(se.glyph||se.name||"").localeCompare(ae.glyph||ae.name||"");case"type":return ae.id>=1e3!=se.id>=1e3?ae.id>=1e3?-1:1:ae.id-se.id;default:return 0}});return a?Q:[...[...E].sort((se,de)=>de.id-se.id),...Q]},[e,E,a,x]),P=k.useMemo(()=>{if(!u)return null;const K=E.find(Q=>Q.id===u);return K||e?.find(Q=>Q.id===u)},[u,e,E]),M=K=>{h(K.id),g(!1)},U=()=>{P&&(v({...P}),g(!0))},H=()=>{v(null),g(!1)},I=async()=>{if(!y)return;const K=y.id===-1||y.id===-2;try{if(K){const Q={rectWidth:y.rectWidth,rectHeight:y.rectHeight},ae={iconUrl:y.iconUrl,iconSize:y.iconSize,glyphColor:y.glyphColor,glyphSize:y.glyphSize},[se,de]=await Promise.all([xe.from("Markers_Core").update(Q).eq("id",y.id),xe.from("Markers_Appearance").update(ae).eq("id",y.id)]);if(se.error)throw se.error;if(de.error)throw de.error;T(q=>q.map(ee=>ee.id===y.id?{...ee,...y}:ee))}else t(Q=>Q.map(ae=>ae.id===y.id?{...ae,...y}:ae));g(!1),v(null)}catch(Q){console.error("Error saving marker:",Q),N("Failed to save marker. Please try again.")}},F=(K,Q)=>{v(ae=>({...ae,[K]:Q}))},te=P&&(P.id===-1||P.id===-2),G=P&&P.id>=1e3,re=P&&P.id>0&&P.id<1e3;return m.jsx(sv,{requiredRole:["super_admin","system_manager"],children:m.jsxs("div",{className:"bg-white rounded-lg shadow",children:[m.jsx("div",{className:"p-6 border-b border-gray-200",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Se,{path:no,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search by ID, booth label, or name...",value:a,onChange:K=>o(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{className:"relative w-64",children:[m.jsx(Se,{path:jO,size:.9,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m.jsxs("select",{value:x,onChange:K=>w(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[m.jsx("option",{value:"id-asc",children:"ID: Low to High"}),m.jsx("option",{value:"id-desc",children:"ID: High to Low"}),m.jsx("option",{value:"name-asc",children:"Name: A to Z"}),m.jsx("option",{value:"name-desc",children:"Name: Z to A"}),m.jsx("option",{value:"type",children:"Type (Special First)"})]})]})]})}),m.jsxs("div",{className:"flex h-[calc(100vh-150px)]",children:[m.jsx("div",{className:"w-64 border-r border-gray-200 overflow-y-auto flex-shrink-0",children:m.jsx("div",{className:"p-2",children:O.map(K=>{const Q=K.id===u,ae=K.id===-1||K.id===-2,se=K.id>=1e3;return m.jsx("button",{onClick:()=>M(K),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${Q?"bg-blue-50 border-2 border-blue-500":ae?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-white border border-gray-200 hover:bg-gray-50"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[K.iconUrl&&m.jsx("img",{src:bl(K.iconUrl),alt:"icon",className:"w-6 h-6"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-semibold text-gray-900 truncate",children:ae?K.id===-1?"Assigned Booth Default":"Unassigned Booth Default":K.glyph||`Marker ${K.id}`}),m.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",K.id,ae&&"  Global Default",se&&" (Special)"]}),K.name&&m.jsx("div",{className:"text-xs text-gray-600 truncate",children:K.name})]})]})},K.id)})})}),m.jsx("div",{className:"flex-1 relative bg-gray-50",children:m.jsx(k.Suspense,{fallback:m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading map..."}),children:m.jsx(Nf,{isAdminView:!0,markersState:e,updateMarker:n,selectedYear:r,selectedMarkerId:u,onMarkerSelect:K=>{h(K),g(!1)}})})}),m.jsx("div",{className:"w-96 border-l border-gray-200 overflow-y-auto p-6 flex-shrink-0",children:P?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:te?P.id===-1?"Assigned Booth Default":"Unassigned Booth Default":P.glyph||`Marker ${P.id}`}),m.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",P.id,te&&"  Global Default for Booth Markers",G&&" (Special Marker)",re&&" (Booth - Content managed via Companies/Assignments)"]})]}),!d&&m.jsx("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit"})]}),d?m.jsx(p8,{marker:y,isDefaultMarker:te,isSpecialMarker:G,isBoothMarker:re,onChange:F,onSave:I,onCancel:H}):m.jsx(f8,{marker:P,isSpecialMarker:G,isDefaultMarker:te})]}):m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a marker to view details"})})]})]})})}function f8({marker:e,isSpecialMarker:t,isDefaultMarker:n}){return m.jsxs("div",{className:"space-y-6",children:[n&&m.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" About Default Markers"}),m.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"This defines the default appearance for booth markers (ID < 1000) that have a company assigned.":"This defines the default appearance for booth markers (ID < 1000) that have no company assigned."}),m.jsx("p",{className:"text-sm text-amber-800",children:"Individual booth markers can override these defaults by having their own values in the Appearance table."})]}),!n&&m.jsxs(gl,{title:"Position & Structure",children:[m.jsx(Pn,{label:"Latitude",value:e.lat}),m.jsx(Pn,{label:"Longitude",value:e.lng}),m.jsx(Pn,{label:"Rectangle",value:JSON.stringify(e.rectangle)}),m.jsx(Pn,{label:"Angle",value:e.angle||0})]}),m.jsxs(gl,{title:n?"Default Visual Styling":"Visual Styling",children:[m.jsx(Pn,{label:"Icon",children:e.iconUrl&&m.jsx("img",{src:bl(e.iconUrl),alt:"icon",className:"w-8 h-8"})}),m.jsx(Pn,{label:"Icon Size",value:JSON.stringify(e.iconSize)}),!n&&m.jsx(Pn,{label:"Glyph (Booth Label)",value:e.glyph}),m.jsx(Pn,{label:"Glyph Color",value:e.glyphColor}),m.jsx(Pn,{label:"Glyph Size",value:e.glyphSize}),n&&m.jsxs(m.Fragment,{children:[m.jsx(Pn,{label:"Rectangle Width",value:e.rectWidth}),m.jsx(Pn,{label:"Rectangle Height",value:e.rectHeight})]})]}),t&&m.jsxs(gl,{title:"Content (Special Marker)",children:[m.jsx(Pn,{label:"Name",value:e.name}),m.jsx(Pn,{label:"Logo",children:e.logo&&m.jsx("img",{src:Ji(e.logo),alt:"logo",className:"w-12 h-12"})}),m.jsx(Pn,{label:"Website",value:e.website}),m.jsx(Pn,{label:"Info",value:e.info})]})]})}function p8({marker:e,isDefaultMarker:t,isSpecialMarker:n,isBoothMarker:r,onChange:a,onSave:o,onCancel:u}){return m.jsxs("div",{className:"space-y-6",children:[t&&m.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[m.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" Editing Global Defaults"}),m.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"Changes here will affect all booth markers (ID < 1000) that have a company assigned, unless they have individual overrides.":"Changes here will affect all booth markers (ID < 1000) that have no company assigned, unless they have individual overrides."})]}),!t&&m.jsxs(gl,{title:"Position & Structure",children:[m.jsx(Gi,{label:"Latitude",type:"number",step:"0.0001",value:e.lat,onChange:h=>a("lat",parseFloat(h))}),m.jsx(Gi,{label:"Longitude",type:"number",step:"0.0001",value:e.lng,onChange:h=>a("lng",parseFloat(h))}),m.jsx(Gi,{label:"Angle",type:"number",step:"0.1",value:e.angle||0,onChange:h=>a("angle",parseFloat(h))})]}),m.jsxs(gl,{title:t?"Default Visual Styling":"Visual Styling",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),m.jsx("div",{className:"grid grid-cols-6 gap-2",children:mD.map(h=>m.jsx("button",{onClick:()=>a("iconUrl",h),className:`p-2 border-2 rounded-lg transition-all ${e.iconUrl===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:m.jsx("img",{src:bl(h),alt:h,className:"w-8 h-8"})},h))})]}),!t&&m.jsx(Gi,{label:"Glyph (Booth Label)",value:e.glyph,onChange:h=>a("glyph",h)}),m.jsx(Gi,{label:"Glyph Color",type:"color",value:e.glyphColor,onChange:h=>a("glyphColor",h)}),m.jsx(Gi,{label:"Glyph Size",type:"number",step:"1",value:e.glyphSize,onChange:h=>a("glyphSize",parseFloat(h))}),t&&m.jsxs(m.Fragment,{children:[m.jsx(Gi,{label:"Rectangle Width",type:"number",step:"1",value:e.rectWidth,onChange:h=>a("rectWidth",parseFloat(h))}),m.jsx(Gi,{label:"Rectangle Height",type:"number",step:"1",value:e.rectHeight,onChange:h=>a("rectHeight",parseFloat(h))})]})]}),n&&m.jsxs(gl,{title:"Content (Special Marker)",children:[m.jsx(Gi,{label:"Name",value:e.name,onChange:h=>a("name",h)}),m.jsx(Gi,{label:"Logo URL",value:e.logo,onChange:h=>a("logo",h)}),m.jsx(Gi,{label:"Website",value:e.website,onChange:h=>a("website",h)}),m.jsx(m8,{label:"Info",value:e.info,onChange:h=>a("info",h)})]}),r&&m.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-sm text-yellow-800",children:[m.jsx("strong",{children:"Note:"})," This is a booth marker. Content (name, logo, website, info) is managed via the Companies and Assignments tabs."]})}),m.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[m.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(Se,{path:cO,size:.9}),"Save Changes"]}),m.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:[m.jsx(Se,{path:ts,size:.9}),"Cancel"]})]})]})}function gl({title:e,children:t}){return m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),m.jsx("div",{className:"space-y-3",children:t})]})}function Pn({label:e,value:t,children:n}){return m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e}),n||m.jsx("div",{className:"text-gray-900",children:t||""})]})}function Gi({label:e,value:t,onChange:n,type:r="text",...a}){return m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsx("input",{type:r,value:t||"",onChange:o=>n(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...a})]})}function m8({label:e,value:t,onChange:n}){return m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsx("textarea",{value:t||"",onChange:r=>n(r.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}function TT(){const[e,t]=k.useState([]),[n,r]=k.useState(!0),[a,o]=k.useState(null),u=k.useCallback(async()=>{try{r(!0),o(null);const{data:v,error:x}=await xe.from("companies").select("*").order("name",{ascending:!0});if(x)throw x;t(v||[])}catch(v){console.error("Error loading companies:",v),o(v.message)}finally{r(!1)}},[]),h=k.useCallback(async v=>{try{const{data:x,error:w}=await xe.from("companies").insert([v]).select().single();if(w)throw w;return t(E=>[...E,x].sort((T,N)=>T.name.localeCompare(N.name))),{data:x,error:null}}catch(x){return console.error("Error creating company:",x),{data:null,error:x.message}}},[]),d=k.useCallback(async(v,x)=>{try{const{data:w,error:E}=await xe.from("companies").update(x).eq("id",v).select().single();if(E)throw E;return t(T=>T.map(N=>N.id===v?w:N).sort((N,O)=>N.name.localeCompare(O.name))),{data:w,error:null}}catch(w){return console.error("Error updating company:",w),{data:null,error:w.message}}},[]),g=k.useCallback(async v=>{try{const{error:x}=await xe.from("companies").delete().eq("id",v);if(x)throw x;return t(w=>w.filter(E=>E.id!==v)),{error:null}}catch(x){return console.error("Error deleting company:",x),{error:x.message}}},[]),y=k.useCallback(v=>{if(!v)return e;const x=v.toLowerCase();return e.filter(w=>w.name?.toLowerCase().includes(x))},[e]);return k.useEffect(()=>{u()},[u]),k.useEffect(()=>{const v=xe.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},()=>{u()}).subscribe();return()=>{xe.removeChannel(v)}},[u]),{companies:e,loading:n,error:a,createCompany:h,updateCompany:d,deleteCompany:g,searchCompanies:y,reload:u}}function g8(){const[e,t]=k.useState(null),[n,r]=k.useState(!0),[a,o]=k.useState(null),u=k.useCallback(async()=>{try{r(!0);const{data:d,error:g}=await xe.from("Organization_Profile").select("*").single();if(g)if(g.code==="PGRST116")console.warn("No organization profile found. A default one should be created by the migration."),t(null);else throw g;t(d),o(null)}catch(d){console.error("Error fetching organization profile:",d),o(d.message)}finally{r(!1)}},[]);return k.useEffect(()=>{u();const d=xe.channel("public:Organization_Profile").on("postgres_changes",{event:"*",schema:"public",table:"Organization_Profile",filter:"id=eq.1"},g=>{g.new&&t(g.new)}).subscribe();return()=>{xe.removeChannel(d)}},[u]),{profile:e,loading:n,error:a,updateProfile:async d=>{try{const{data:g,error:y}=await xe.from("Organization_Profile").update(d).eq("id",1).select().single();if(y)throw y;return t(g),{data:g,error:null}}catch(g){return console.error("Error updating organization profile:",g),{data:null,error:g.message}}}}}function y8({createCompany:e,updateCompany:t,deleteCompany:n,updateProfile:r,organizationLogo:a,confirm:o,toastError:u}){const[h,d]=k.useState(null),[g,y]=k.useState({}),[v,x]=k.useState(!1),[w,E]=k.useState({name:"",logo:a||"",website:"",info:""});return{editingId:h,editForm:g,setEditForm:y,isCreating:v,newCompanyForm:w,setNewCompanyForm:E,handleEdit:I=>{d(I.id),y({...I})},handleSave:async()=>{const I=h;if(I==="organization"){const{name:F,logo:te,website:G,info:re}=g;await r({name:F,logo:te,website:G,info:re})}else await t(I,g);d(null),y({})},handleCancel:()=>{d(null),y({})},handleDelete:async(I,F)=>{if(!await o({title:"Delete Company",message:`Are you sure you want to delete "${F}"? This will also delete all assignments for this company.`,confirmText:"Delete",variant:"danger"}))return;const{error:G}=await n(I);G&&u(`Error deleting company: ${G}`)},handleCreate:async()=>{if(!w.name.trim()){u("Company name is required");return}const{error:I}=await e(w);I?u(`Error creating company: ${I}`):(x(!1),E({name:"",logo:a,website:"",info:""}))},handleStartCreate:()=>{x(!0),E({name:"",logo:a,website:"",info:""})},handleCancelCreate:()=>{x(!1),E({name:"",logo:a,website:"",info:""})}}}function jT(e){const[t,n]=k.useState({}),[r,a]=k.useState(!1),[o,u]=k.useState(null),h=k.useCallback(async()=>{if(!e){n({});return}try{a(!0),u(null);const{data:x,error:w}=await xe.from("company_translations").select("language_code, info").eq("company_id",e);if(w)throw w;const E={};(x||[]).forEach(T=>{E[T.language_code]=T.info}),n(E)}catch(x){console.error("Error loading translations:",x),u(x.message)}finally{a(!1)}},[e]),d=async(x,w)=>{if(e)try{u(null);const{error:E}=await xe.from("company_translations").upsert({company_id:e,language_code:x,info:w,updated_at:new Date().toISOString()},{onConflict:"company_id,language_code"});if(E)throw E;return n(T=>({...T,[x]:w})),!0}catch(E){return console.error("Error saving translation:",E),u(E.message),!1}},g=async x=>{if(e)try{u(null);const{error:w}=await xe.from("company_translations").delete().eq("company_id",e).eq("language_code",x);if(w)throw w;return n(E=>{const T={...E};return delete T[x],T}),!0}catch(w){return console.error("Error deleting translation:",w),u(w.message),!1}},y=(x,w="nl")=>t[x]||t[w]||"",v=()=>Object.keys(t);return k.useEffect(()=>{h()},[h]),{translations:t,loading:r,error:o,saveTranslation:d,deleteTranslation:g,getTranslation:y,getAvailableLanguages:v,reload:h}}const v8=[{code:"nl",label:"Nederlands",flag:""},{code:"en",label:"English",flag:""}];function _8({currentLanguage:e,onLanguageChange:t,translations:n={},className:r=""}){return m.jsx("div",{className:`flex items-center gap-1 ${r}`,children:v8.map(a=>{const o=e===a.code,u=n[a.code]&&n[a.code].trim()!=="";return m.jsxs("button",{type:"button",onClick:()=>t(a.code),className:`px-2 py-1 rounded text-xs font-medium transition flex items-center gap-1 ${o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[m.jsx("span",{children:a.flag}),m.jsx("span",{children:a.code.toUpperCase()}),u&&!o&&m.jsx(Se,{path:es,size:.5,className:"text-green-600"})]},a.code)})})}function b8({translations:e={}}){const t=Object.keys(e).filter(n=>e[n]&&e[n].trim()!=="").length;return t<=1?null:m.jsx("span",{className:"inline-block ml-1 text-blue-600",title:`Available in ${t} languages`,children:""})}function x8({companyId:e,editingLanguage:t,onLanguageChange:n}){const{translations:r,saveTranslation:a}=jT(e),[o,u]=k.useState(""),[h,d]=k.useState(!1);k.useEffect(()=>{u(r[t]||"")},[t,r]);const g=async()=>{if(o!==(r[t]||"")){d(!0);try{await a(t,o)}catch(y){console.error("Failed to save translation:",y)}finally{d(!1)}}};return m.jsxs("div",{className:"space-y-2",children:[m.jsx(_8,{currentLanguage:t,onLanguageChange:n,translations:r,className:"mb-2"}),m.jsx("textarea",{value:o,onChange:y=>u(y.target.value),onBlur:g,className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4,placeholder:`Enter info in ${t==="nl"?"Dutch":"English"}...`,disabled:h}),h&&m.jsx("span",{className:"text-xs text-gray-500 italic",children:"Saving..."})]})}function w8({companyId:e,currentLanguage:t}){const{translations:n,getTranslation:r}=jT(e),a=r(t,"nl");return m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap flex-1",children:a||m.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),m.jsx(b8,{translations:n})]})}function S8(){const{companies:e,loading:t,error:n,createCompany:r,updateCompany:a,deleteCompany:o}=TT(),{profile:u,loading:h,error:d,updateProfile:g}=g8(),{organizationLogo:y}=Xs(),{confirm:v,toastError:x}=Pl(),{i18n:w}=mn(),[E,T]=k.useState(""),[N,O]=k.useState("nl"),{editingId:P,editForm:M,setEditForm:U,isCreating:H,newCompanyForm:I,setNewCompanyForm:F,handleEdit:te,handleSave:G,handleCancel:re,handleDelete:K,handleCreate:Q,handleStartCreate:ae,handleCancelCreate:se}=y8({createCompany:r,updateCompany:a,deleteCompany:o,updateProfile:g,organizationLogo:y,confirm:v,toastError:x}),de=k.useMemo(()=>{const Y=[];if(u&&Y.push({...u,id:"organization",isOrganization:!0}),Y.push(...e),!E)return Y;const we=E.toLowerCase();return Y.filter(R=>R.name?.toLowerCase().includes(we))},[u,e,E]),q=t||h,ee=n||d;return q?m.jsx("div",{className:"p-4",children:"Loading data..."}):ee?m.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",ee]}):m.jsxs("div",{className:"h-full flex flex-col p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Se,{path:no,size:1,className:"text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search companies...",value:E,onChange:Y=>T(Y.target.value),className:"px-3 py-2 border rounded-lg"}),m.jsxs("span",{className:"text-sm text-gray-600",children:[de.length," of ",e.length+1]})]}),m.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[m.jsx(Se,{path:mf,size:.8}),"Add Company"]})]}),H&&m.jsxs("div",{className:"mb-4 border rounded-lg overflow-hidden flex-shrink-0",children:[m.jsxs("div",{className:"p-4 bg-blue-50",children:[m.jsx("h3",{className:"font-bold mb-3",children:"New Company"}),m.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[m.jsx("h4",{className:"font-semibold text-sm mb-2 text-blue-800",children:"Public Info (visible to attendees)"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("input",{type:"text",placeholder:"Company Name *",value:I.name,onChange:Y=>F({...I,name:Y.target.value}),className:"px-3 py-2 border rounded"}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company Logo"}),m.jsx(_c,{currentLogo:I.logo,onUploadComplete:(Y,we)=>{F({...I,logo:Y})},folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!0,onDelete:()=>{F({...I,logo:y})}}),m.jsx("input",{type:"text",placeholder:"Or paste external logo URL",value:I.logo,onChange:Y=>F({...I,logo:Y.target.value}),className:"px-3 py-2 border rounded mt-2 w-full text-sm"})]}),m.jsx("input",{type:"text",placeholder:"Website URL",value:I.website,onChange:Y=>F({...I,website:Y.target.value}),className:"px-3 py-2 border rounded"}),m.jsx("textarea",{placeholder:"Info",value:I.info,onChange:Y=>F({...I,info:Y.target.value}),className:"px-3 py-2 border rounded",rows:2})]})]}),m.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[m.jsx("h4",{className:"font-semibold text-sm mb-2 text-green-800",children:"Manager-Only Info (default contact info)"}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx("input",{type:"text",placeholder:"Contact Person",value:I.contact||"",onChange:Y=>F({...I,contact:Y.target.value}),className:"px-3 py-2 border rounded"}),m.jsx("input",{type:"text",placeholder:"Phone",value:I.phone||"",onChange:Y=>F({...I,phone:Y.target.value}),className:"px-3 py-2 border rounded"}),m.jsx("input",{type:"email",placeholder:"Email",value:I.email||"",onChange:Y=>F({...I,email:Y.target.value}),className:"px-3 py-2 border rounded"})]})]})]}),m.jsxs("div",{className:"flex gap-2 mt-3",children:[m.jsxs("button",{onClick:Q,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:[m.jsx(Se,{path:es,size:.7}),"Create"]}),m.jsxs("button",{onClick:se,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:[m.jsx(Se,{path:ts,size:.7}),"Cancel"]})]})]}),m.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[m.jsxs("table",{className:"w-full rounded",style:{tableLayout:"fixed",fontSize:"11px"},children:[m.jsxs("thead",{className:"sticky top-0 z-10",children:[m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 text-center bg-blue-100 border-b font-bold text-blue-800",colSpan:4,children:"Public Info"}),m.jsx("th",{className:"p-2 text-center bg-green-100 border-b font-bold text-green-800",colSpan:3,children:"Manager-Only Info"}),m.jsx("th",{className:"p-2 bg-gray-100 border-b font-semibold text-gray-900",rowSpan:2,style:{minWidth:"90px",width:"90px",maxWidth:"120px"},children:"Actions"})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Name"}),m.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Logo"}),m.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Website"}),m.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Info"}),m.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Contact"}),m.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Phone"}),m.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Email"})]})]}),m.jsx("tbody",{children:de.map(Y=>{const we=P===Y.id,R=Y.isOrganization,V=R?"bg-gray-700 text-white":"bg-white text-gray-900 hover:bg-gray-50";return m.jsxs("tr",{className:`${V} border-b`,children:[m.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-blue-50"}`,children:we?m.jsx("input",{type:"text",value:M.name,onChange:X=>U({...M,name:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1"}):m.jsx("span",{className:"font-semibold",children:Y.name})}),m.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-blue-50"}`,children:we?m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(_c,{currentLogo:M.logo,onUploadComplete:(X,z)=>{U({...M,logo:X})},folder:R?"organization":"companies",label:"Upload",showPreview:!0,allowDelete:!0,onDelete:()=>{U({...M,logo:y})}}),m.jsx("input",{type:"text",value:M.logo||"",onChange:X=>U({...M,logo:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1 text-xs",placeholder:"Or paste URL"})]}):m.jsx("img",{src:Ji(Y.logo&&Y.logo.trim()!==""?Y.logo:y),alt:Y.name,className:"h-8 object-contain"})}),m.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-blue-50"}`,children:we?m.jsx("input",{type:"text",value:M.website||"",onChange:X=>U({...M,website:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Website URL"}):Y.website?m.jsx("a",{href:Y.website.startsWith("http")?Y.website:`https://${Y.website}`,target:"_blank",rel:"noopener noreferrer",className:R?"text-blue-300 hover:underline":"text-blue-600 hover:underline",children:Y.website.replace(/^https?:\/\//,"").substring(0,30)}):m.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),m.jsx("td",{className:`py-1 px-3 border-b text-left max-w-xs ${R?"":"bg-blue-50"}`,children:we?m.jsx(x8,{companyId:Y.id,editingLanguage:N,onLanguageChange:O}):m.jsx(w8,{companyId:Y.id,currentLanguage:w.language})}),m.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-green-50"}`,children:we?m.jsx("input",{type:"text",value:M.contact||"",onChange:X=>U({...M,contact:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Contact Person"}):m.jsx("span",{className:"text-xs",children:Y.contact||m.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),m.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-green-50"}`,children:we?m.jsx("input",{type:"text",value:M.phone||"",onChange:X=>U({...M,phone:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Phone"}):m.jsx("span",{className:"text-xs",children:Y.phone||m.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),m.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-green-50"}`,children:we?m.jsx("input",{type:"email",value:M.email||"",onChange:X=>U({...M,email:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Email"}):m.jsx("span",{className:"text-xs",children:Y.email||m.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),m.jsx("td",{className:"py-1 px-3 border-b text-left",children:we?m.jsxs("div",{className:"flex gap-1 justify-center",children:[m.jsx("button",{onClick:G,className:"p-1.5 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:m.jsx(Se,{path:es,size:.8})}),m.jsx("button",{onClick:re,className:"p-1.5 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:m.jsx(Se,{path:ts,size:.8})})]}):m.jsxs("div",{className:"flex gap-1 justify-center",children:[m.jsx("button",{onClick:()=>te(Y),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:m.jsx(Se,{path:Fy,size:.8})}),!R&&m.jsx("button",{onClick:()=>K(Y.id,Y.name),className:"p-1.5 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete",children:m.jsx(Se,{path:Oc,size:.8})}),R&&m.jsx("div",{className:"flex items-center justify-center pt-1 text-gray-300",children:m.jsx(Se,{path:dl,size:.8})})]})})]},Y.id)})})]}),de.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:E?"No items found matching your search":'No companies yet. Click "Add Company" to create one.'})]})]})}function LT(e){const[t,n]=k.useState([]),[r,a]=k.useState(!0),[o,u]=k.useState(null);return k.useEffect(()=>{async function h(){try{a(!0),u(null);const{data:d,error:g}=await xe.from("Markers_Core").select("id").lt("id",1e3).order("id",{ascending:!0});if(g)throw g;const{data:y,error:v}=await xe.from("Markers_Appearance").select("id, glyph").lt("id",1e3);if(v)throw v;const x={};(y||[]).forEach(E=>{E&&E.id&&(x[E.id]=E.glyph||"")});const w=(d||[]).map(E=>({id:E.id,glyph:x[E.id]||E.id.toString()}));n(w)}catch(d){console.error("Error loading markers:",d),u(d)}finally{a(!1)}}h()},[e]),{markers:t,loading:r,error:o}}function C8({selectedYear:e}){const{organizationLogo:t}=Xs(),{subscriptions:n,loading:r,error:a,subscribeCompany:o,updateSubscription:u,unsubscribeCompany:h,archiveCurrentYear:d,copyFromPreviousYear:g}=Bc(e),{companies:y}=TT(),{assignments:v}=kf(e),{markers:x}=LT(e),[w,E]=k.useState(""),[T,N]=k.useState(null),[O,P]=k.useState({}),[M,U]=k.useState(!1),[H,I]=k.useState(""),[F,te]=k.useState("company"),[G,re]=k.useState("asc"),{confirm:K,toastError:Q,toastSuccess:ae,toastWarning:se}=Pl(),de=k.useMemo(()=>{const ve=new Set(n.map(Le=>Le.company_id));return y.filter(Le=>!ve.has(Le.id))},[y,n]),q=k.useMemo(()=>{const ve={};return v.forEach(Le=>{ve[Le.company_id]||(ve[Le.company_id]=[]),ve[Le.company_id].push(Le)}),ve},[v]),ee=k.useMemo(()=>{const ve={};return x.forEach(Le=>{ve[Le.id]=Le.glyph}),ve},[x]),Y=k.useCallback(ve=>{const Le=q[ve]||[];if(Le.length===0)return"-";const Ve=Le.sort((De,He)=>De.marker_id-He.marker_id).map(De=>ee[De.marker_id]||De.marker_id.toString()).filter(Boolean);return Ve.length>0?Ve.join(", "):"-"},[q,ee]),we=k.useMemo(()=>{let ve=n;if(w){const Ve=w.toLowerCase();ve=ve.filter(De=>De.company?.name?.toLowerCase().includes(Ve))}return[...ve].sort((Ve,De)=>{let He=0;if(F==="company"){const gt=(Ve.company?.name||"").toLowerCase(),Rt=(De.company?.name||"").toLowerCase();He=gt.localeCompare(Rt)}else if(F==="booths"){const gt=Y(Ve.company_id),Rt=Y(De.company_id);if(gt==="-"&&Rt!=="-")return 1;if(gt!=="-"&&Rt==="-")return-1;if(gt==="-"&&Rt==="-")return 0;He=gt.localeCompare(Rt,void 0,{numeric:!0})}return G==="asc"?He:-He})},[n,w,F,G,Y]),R=k.useMemo(()=>we.reduce((ve,Le)=>(ve.booth_count+=Le.booth_count||0,ve.breakfast_sat+=Le.breakfast_sat||0,ve.lunch_sat+=Le.lunch_sat||0,ve.bbq_sat+=Le.bbq_sat||0,ve.breakfast_sun+=Le.breakfast_sun||0,ve.lunch_sun+=Le.lunch_sun||0,ve.coins+=Le.coins||0,ve),{booth_count:0,breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[we]),V=ve=>{N(ve.id),P({...ve})},X=async()=>{const{id:ve,company:Le,...Ve}=O;await u(ve,Ve),N(null),P({})},z=()=>{N(null),P({})},W=async ve=>{const Le=ve.company?.name||"this company",Ve=Y(ve.company_id),De=Ve?` and their booth assignments (${Ve})`:"";if(!await K({title:"Unsubscribe Company",message:`Unsubscribe ${Le} from ${e}? This will delete their subscription${De}.`,confirmText:"Unsubscribe",variant:"danger"}))return;const{error:gt}=await h(ve.id);gt&&Q(`Error unsubscribing company: ${gt}`)},oe=async()=>{if(!H){se("Please select a company");return}const{error:ve}=await o(parseInt(H));ve?Q(`Error subscribing company: ${ve}`):(U(!1),I(""))},fe=async()=>{if(!await K({title:"Archive Subscriptions",message:`Archive all subscriptions for ${e}? This will move them to the archive and clear the active list.`,confirmText:"Archive",variant:"warning"}))return;const{data:Le,error:Ve}=await d();Ve?Q(`Error archiving: ${Ve}`):ae(`Archived ${Le} subscriptions for ${e}`)},Ce=async()=>{const ve=e-1;if(!K(`Copy all subscriptions from ${ve} to ${e}?`))return;const{error:Le}=await g(ve);Le&&alert(`Error copying subscriptions: ${Le}`)},Re=ve=>{F===ve?re(G==="asc"?"desc":"asc"):(te(ve),re("asc"))};return r?m.jsx("div",{className:"p-4",children:"Loading subscriptions..."}):a?m.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",a]}):m.jsxs("div",{className:"h-full flex flex-col p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Se,{path:no,size:1,className:"text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search subscribed companies...",value:w,onChange:ve=>E(ve.target.value),className:"px-3 py-2 border rounded-lg"}),m.jsxs("span",{className:"text-sm text-gray-600",children:[we.length," of ",n.length]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",title:`Copy from ${e-1}`,children:[m.jsx(Se,{path:uO,size:.8}),"Copy from ",e-1]}),m.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[m.jsx(Se,{path:df,size:.8}),"Archive ",e]}),m.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[m.jsx(Se,{path:mf,size:.8}),"Subscribe Company"]})]})]}),M&&m.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-blue-50 flex-shrink-0",children:[m.jsxs("h3",{className:"font-bold mb-3",children:["Subscribe Company to ",e]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("select",{value:H,onChange:ve=>I(ve.target.value),className:"flex-1 px-3 py-2 border rounded",children:[m.jsx("option",{value:"",children:"Select a company..."}),de.map(ve=>m.jsx("option",{value:ve.id,children:ve.name},ve.id))]}),m.jsxs("button",{onClick:oe,className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[m.jsx(Se,{path:es,size:.7}),"Subscribe"]}),m.jsxs("button",{onClick:()=>{U(!1),I("")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:[m.jsx(Se,{path:ts,size:.7}),"Cancel"]})]}),de.length===0&&m.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["All companies are already subscribed to ",e]})]}),m.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[m.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[m.jsxs("thead",{className:"bg-gray-100 text-gray-900 sticky top-0 z-10",children:[m.jsxs("tr",{children:[m.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Re("booths"),title:"Click to sort by booth labels",rowSpan:3,children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:"Booths"}),F==="booths"&&m.jsx(Se,{path:G==="asc"?n1:t1,size:.6,className:"text-blue-600"})]})}),m.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Re("company"),title:"Click to sort by company name",rowSpan:3,children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:"Company"}),F==="company"&&m.jsx(Se,{path:G==="asc"?n1:t1,size:.6,className:"text-blue-600"})]})}),m.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Contact"}),m.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Phone"}),m.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Email"}),m.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:"Booth Count"}),m.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Area"}),m.jsx("th",{className:"p-2 text-center border-b bg-blue-50",colSpan:3,children:m.jsx("span",{className:"font-bold text-blue-700",children:"Saturday"})}),m.jsx("th",{className:"p-2 text-center border-b bg-green-50",colSpan:2,children:m.jsx("span",{className:"font-bold text-green-700",children:"Sunday"})}),m.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:"Coins"}),m.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Notes"}),m.jsx("th",{className:"p-2 text-center border-b bg-gray-100",rowSpan:3,style:{minWidth:"80px"},children:"Actions"})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}}),m.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"Breakfast"}),m.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"Lunch"}),m.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"BBQ"}),m.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:"Breakfast"}),m.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:"Lunch"}),m.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:R.booth_count}),m.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.breakfast_sat}),m.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.lunch_sat}),m.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.bbq_sat}),m.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:R.breakfast_sun}),m.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:R.lunch_sun}),m.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:R.coins})]})]}),m.jsx("tbody",{children:we.map(ve=>{const Le=T===ve.id,Ve=ve.company,De=Y(ve.company_id);return m.jsxs("tr",{className:"bg-white hover:bg-gray-50 border-b",children:[m.jsx("td",{className:"p-2 text-left",children:m.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:De})}),m.jsx("td",{className:"p-2 text-left",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("img",{src:Ji(Ve?.logo||t),alt:Ve?.name,className:"w-8 h-8 object-contain"}),m.jsx("span",{className:"font-semibold text-gray-700",children:Ve?.name})]})}),m.jsx("td",{className:"p-2 text-left",children:Le?m.jsx("input",{type:"text",value:O.contact||"",onChange:He=>P({...O,contact:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.contact||"-"})}),m.jsx("td",{className:"p-2 text-left",children:Le?m.jsx("input",{type:"text",value:O.phone||"",onChange:He=>P({...O,phone:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.phone||"-"})}),m.jsx("td",{className:"p-2 text-left",children:Le?m.jsx("input",{type:"email",value:O.email||"",onChange:He=>P({...O,email:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.email||"-"})}),m.jsx("td",{className:"p-2 text-center",children:Le?m.jsx("input",{type:"number",min:"1",value:O.booth_count||1,onChange:He=>P({...O,booth_count:parseInt(He.target.value)}),className:"w-16 px-2 py-1 border rounded text-xs text-center bg-white text-gray-900"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.booth_count})}),m.jsx("td",{className:"p-2",children:Le?m.jsx("input",{type:"text",value:O.area||"",onChange:He=>P({...O,area:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",placeholder:"large field, small field..."}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.area||"-"})}),["breakfast_sat","lunch_sat","bbq_sat"].map(He=>m.jsx("td",{className:"p-2 text-center bg-blue-50",children:Le?m.jsx("input",{type:"number",min:"0",value:O[He]||0,onChange:gt=>P({...O,[He]:parseInt(gt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve[He]})},He)),["breakfast_sun","lunch_sun"].map(He=>m.jsx("td",{className:"p-2 text-center bg-green-50",children:Le?m.jsx("input",{type:"number",min:"0",value:O[He]||0,onChange:gt=>P({...O,[He]:parseInt(gt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve[He]})},He)),m.jsx("td",{className:"p-2 text-center",children:Le?m.jsx("input",{type:"number",min:"0",value:O.coins||0,onChange:He=>P({...O,coins:parseInt(He.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center bg-white text-gray-900"}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.coins})}),m.jsx("td",{className:"p-2 text-left",children:Le?m.jsx("textarea",{value:O.notes||"",onChange:He=>P({...O,notes:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",rows:2}):m.jsx("span",{className:"text-xs text-gray-700",children:ve.notes||"-"})}),m.jsx("td",{className:"p-2 text-center",children:Le?m.jsxs("div",{className:"flex gap-1 justify-center",children:[m.jsx("button",{onClick:X,className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:m.jsx(Se,{path:es,size:.6})}),m.jsx("button",{onClick:z,className:"p-1 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:m.jsx(Se,{path:ts,size:.6})})]}):m.jsxs("div",{className:"flex gap-1 justify-center",children:[m.jsx("button",{onClick:()=>V(ve),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:m.jsx(Se,{path:Fy,size:.6})}),m.jsx("button",{onClick:()=>W(ve),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Unsubscribe",children:m.jsx(Se,{path:Oc,size:.6})})]})})]},ve.id)})})]}),we.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:w?"No subscriptions found matching your search":`No companies subscribed to ${e} yet. Click "Subscribe Company" to add one.`})]})]})}const vS="assignmentsTab_sortPreferences";function E8({selectedYear:e}){const[t,n]=k.useState(""),a=(()=>{try{const W=localStorage.getItem(vS);if(W)return JSON.parse(W)}catch(W){console.error("Error loading sort preferences:",W)}return{sortBy:"alphabetic",sortDirection:"asc",columnSort:"markerId",columnSortDirection:"asc"}})(),[o,u]=k.useState(a.sortBy),[h,d]=k.useState(a.sortDirection),[g,y]=k.useState(a.columnSort),[v,x]=k.useState(a.columnSortDirection),{markers:w,loading:E}=LT(),{assignments:T,loading:N,error:O,assignCompanyToMarker:P,unassignCompanyFromMarker:M,archiveCurrentYear:U,loadArchivedAssignments:H}=kf(e),{subscriptions:I}=Bc(e),{confirm:F,toastError:te,toastSuccess:G,toastInfo:re}=Pl(),K=k.useMemo(()=>I.map(W=>({id:W.company_id,name:W.company?.name||"Unknown",logo:W.company?.logo||""})),[I]);k.useEffect(()=>{try{const W={sortBy:o,sortDirection:h,columnSort:g,columnSortDirection:v};localStorage.setItem(vS,JSON.stringify(W))}catch(W){console.error("Error saving sort preferences:",W)}},[o,h,g,v]);const Q=k.useMemo(()=>{const W={};return T.forEach(oe=>{W[oe.company_id]=(W[oe.company_id]||0)+1}),W},[T]),ae=k.useMemo(()=>{const W={};return T.forEach(oe=>{(!W[oe.company_id]||oe.marker_id<W[oe.company_id])&&(W[oe.company_id]=oe.marker_id)}),W},[T]),se=k.useMemo(()=>[...t?K.filter(fe=>fe.name?.toLowerCase().includes(t.toLowerCase())):K].sort((fe,Ce)=>{const Re=Q[fe.id]||0,ve=Q[Ce.id]||0,Le=ae[fe.id],Ve=ae[Ce.id];let De=0;switch(o){case"byMarker":!Le&&Ve?De=1:Le&&!Ve?De=-1:!Le&&!Ve?De=fe.name.localeCompare(Ce.name):Le!==Ve?De=Le-Ve:De=fe.name.localeCompare(Ce.name);break;case"unassignedFirst":Re===0&&ve>0?De=-1:Re>0&&ve===0?De=1:Re===0&&ve===0?De=fe.name.localeCompare(Ce.name):!Le&&Ve?De=1:Le&&!Ve?De=-1:Le!==Ve?De=Le-Ve:De=fe.name.localeCompare(Ce.name);break;case"alphabetic":default:De=fe.name.localeCompare(Ce.name);break}return h==="desc"?-De:De}),[K,t,o,h,Q,ae]),de=k.useMemo(()=>[...w].sort((oe,fe)=>{let Ce=0;return g==="glyphText"?Ce=oe.glyph.localeCompare(fe.glyph,void 0,{numeric:!0,sensitivity:"base"}):Ce=oe.id-fe.id,v==="desc"?-Ce:Ce}),[w,g,v]),q=k.useMemo(()=>{const W={};return T.forEach(oe=>{const fe=`${oe.company_id}_${oe.marker_id}`;W[fe]=oe}),W},[T]),ee=k.useMemo(()=>{const W=new Set;return T.forEach(oe=>{W.add(oe.marker_id)}),W},[T]),Y=W=>ee.has(W),we=(W,oe)=>{const fe=`${W}_${oe}`;return!!q[fe]},R=(W,oe)=>{const fe=`${W}_${oe}`;return q[fe]},V=async(W,oe)=>{if(R(W,oe)){const{error:Ce}=await M(oe,W);Ce&&te(`Error removing assignment: ${Ce}`)}else{const Ce=T.filter(ve=>ve.marker_id===oe);if(Ce.length>0){const Le=K.find(Rt=>Rt.id===W)?.name||"this company",De=de.find(Rt=>Rt.id===oe)?.glyph||oe;let He;if(Ce.length===1){const ei=K.find(Pi=>Pi.id===Ce[0].company_id)?.name||"another company";He=`Booth ${De} is already assigned to ${ei}.

Assign ${Le} as an additional company for this booth?`}else{const Rt=Ce.map(ei=>K.find(Ri=>Ri.id===ei.company_id)?.name).filter(Boolean).join(", ");He=`Booth ${De} is already assigned to ${Ce.length} companies: ${Rt}.

Assign ${Le} as another company for this booth?`}if(!await F({title:"Multiple Assignments",message:He,confirmText:"Assign",variant:"warning"}))return}const{error:Re}=await P(oe,W,null);Re&&te(`Error creating assignment: ${Re}`)}},X=async()=>{if(!await F({title:"Archive Assignments",message:`Archive all assignments for ${e}? This will move them to the archive and clear the current year.`,confirmText:"Archive",variant:"warning"}))return;const{error:oe}=await U();oe?te(`Error archiving: ${oe}`):G(`Successfully archived ${T.length} assignments for ${e}`)},z=async W=>{const{error:oe}=await H(W);oe?te(`Error loading archived assignments: ${oe}`):re(`Archived data loaded for ${W}. Feature coming soon: display in table.`)};return N||E?m.jsx("div",{className:"p-4",children:"Loading assignments..."}):O?m.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",O]}):m.jsxs("div",{className:"h-full flex flex-col p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Se,{path:no,size:1,className:"text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search companies...",value:t,onChange:W=>n(W.target.value),className:"px-3 py-2 border rounded-lg"}),m.jsxs("span",{className:"text-sm text-gray-600",children:[se.length," of ",K.length]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>z(e),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",title:`View archived assignments for ${e}`,children:[m.jsx(Se,{path:mO,size:.8}),m.jsx("span",{children:"Archive"})]}),m.jsx("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:T.length===0,title:`Archive all assignments for ${e}`,children:m.jsx(Se,{path:df,size:.8})}),m.jsxs("div",{className:"flex items-end gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Companies"}),m.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[m.jsxs("select",{value:o,onChange:W=>u(W.target.value),className:"pl-3 pr-8 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0",title:"Sort table rows",children:[m.jsx("option",{value:"alphabetic",children:"A-Z"}),m.jsx("option",{value:"byMarker",children:"Marker"}),m.jsx("option",{value:"unassignedFirst",children:"Unassigned"})]}),m.jsx("button",{onClick:()=>d(h==="asc"?"desc":"asc"),className:"p-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:h==="asc"?"Ascending":"Descending",children:m.jsx(Se,{path:h==="asc"?e1:Qx,size:.8})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Markers"}),m.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[m.jsxs("select",{value:g,onChange:W=>y(W.target.value),className:"pl-3 pr-8 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0",title:"Sort table columns",children:[m.jsx("option",{value:"markerId",children:"ID"}),m.jsx("option",{value:"glyphText",children:"Label"})]}),m.jsx("button",{onClick:()=>x(v==="asc"?"desc":"asc"),className:"p-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:v==="asc"?"Ascending":"Descending",children:m.jsx(Se,{path:v==="asc"?e1:Qx,size:.8})})]})]})]})]})]}),m.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[m.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[m.jsx("thead",{className:"sticky top-0 z-10",children:m.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[m.jsx("th",{className:"p-2 text-left font-semibold border-b border-r bg-gray-200 sticky left-0 z-20",style:{minWidth:"200px"},children:"Company"}),de.map(W=>{const oe=Y(W.id);return m.jsx("th",{className:`p-1 text-center border-b ${oe?"":"bg-gray-200"}`,style:{minWidth:"45px",maxWidth:"45px"},title:`Marker ID: ${W.id}, Booth: ${W.glyph}${oe?"":" (Unassigned)"}`,children:m.jsx("div",{className:`font-semibold ${oe?"":"text-gray-500"}`,children:W.glyph})},W.id)})]})}),m.jsx("tbody",{children:se.map(W=>{const oe=Q[W.id]||0;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"p-2 border-b border-r bg-white sticky left-0 z-10",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("div",{className:"font-semibold text-gray-900 truncate",title:W.name,children:W.name}),m.jsx("span",{className:`inline-flex items-center justify-center min-w-[24px] h-5 px-1.5 rounded-full text-xs font-medium ${oe===0?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-700"}`,title:`${oe} assignment${oe!==1?"s":""}`,children:oe})]})}),de.map(fe=>{const Ce=we(W.id,fe.id),Re=Y(fe.id);return m.jsx("td",{className:`p-0 border-b border-r text-center ${Re?"":"bg-gray-100"}`,children:m.jsx("button",{onClick:()=>V(W.id,fe.id),className:`w-full h-full p-2 transition-colors ${Ce?"bg-green-100 hover:bg-green-200 text-green-700":Re?"bg-white hover:bg-gray-100 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-400"}`,title:Ce?`${W.name}  Booth ${fe.glyph}`:`Assign ${W.name} to Booth ${fe.glyph}`,children:Ce&&m.jsx(Se,{path:es,size:.6})})},fe.id)})]},W.id)})})]}),se.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:t?"No companies found matching your search":"No companies available. Add companies in the Companies tab."})]}),m.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center",children:m.jsx(Se,{path:es,size:.5,className:"text-green-700"})}),m.jsx("span",{className:"font-medium",children:"Assigned"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-6 h-6 bg-white border border-gray-300 rounded"}),m.jsx("span",{className:"font-medium",children:"Not assigned"})]})]}),m.jsxs("div",{className:"text-sm text-gray-900",children:[m.jsxs("strong",{children:["Statistics for ",e,":"]})," ",T.length," assignments,"," ",new Set(T.map(W=>W.company_id)).size," unique companies,"," ",new Set(T.map(W=>W.marker_id)).size," markers assigned"]})]})]})}function T8(){const{t:e}=mn(),{isSuperAdmin:t}=io(),[n,r]=k.useState([]),[a,o]=k.useState(!0),[u,h]=k.useState(null),[d,g]=k.useState(!1),[y,v]=k.useState(""),[x,w]=k.useState("event_manager"),[E,T]=k.useState(!1),[N,O]=k.useState(!1),[P,M]=k.useState(null);k.useEffect(()=>{U()},[]);const U=async()=>{try{o(!0),h(null);let G,re;try{const ae=await xe.rpc("get_user_roles_with_email");G=ae.data,re=ae.error}catch{console.warn("get_user_roles_with_email not available, using fallback");const se=await xe.from("user_roles").select("user_id, role, created_at, updated_at").order("created_at",{ascending:!1});G=se.data,re=se.error}if(re)throw re;const{data:{user:K}}=await xe.auth.getUser(),Q=(G||[]).map(ae=>{const se=K?.id===ae.user_id;return{id:ae.user_id,email:ae.email||(se?K.email:`user-${ae.user_id.substring(0,8)}...`),role:ae.role,created_at:ae.created_at,last_sign_in_at:ae.last_sign_in_at||(se?K.last_sign_in_at:null),isCurrentUser:se}});r(Q),o(!1)}catch(G){console.error("Error fetching users:",G),h(e("settings.userManagement.errors.fetchFailed")),o(!1)}},H=async G=>{G.preventDefault(),T(!0),h(null);try{const Q=`${window.location.origin}/Map#/reset-password`,ae=Math.random().toString(36).slice(-12)+"A1!",{data:se,error:de}=await xe.auth.signUp({email:y,password:ae,options:{data:{role:x},emailRedirectTo:Q}});if(de)throw de;if(se?.user?.id){const{error:ee}=await xe.from("user_roles").insert({user_id:se.user.id,role:x});ee&&console.warn("Failed to add user to user_roles:",ee)}const{error:q}=await xe.auth.resetPasswordForEmail(y,{redirectTo:Q});q&&console.warn("Password reset email failed:",q),O(!0),setTimeout(()=>{g(!1),O(!1),v(""),w("event_manager"),U()},3e3)}catch(re){console.error("Error inviting user:",re),h(re.message||e("settings.userManagement.errors.inviteFailed"))}finally{T(!1)}},I=async(G,re)=>{if(confirm(e("settings.userManagement.confirmDelete",{email:re})))try{h(null);const{error:K}=await xe.from("user_roles").delete().eq("user_id",G);if(K)throw K;await U()}catch(K){console.error("Error deleting user:",K),h(e("settings.userManagement.errors.deleteFailed"))}},F={super_admin:e("settings.userManagement.roles.superAdmin"),system_manager:e("settings.userManagement.roles.systemManager"),event_manager:e("settings.userManagement.roles.eventManager")},te={super_admin:"bg-purple-100 text-purple-800 border-purple-200",system_manager:"bg-blue-100 text-blue-800 border-blue-200",event_manager:"bg-green-100 text-green-800 border-green-200"};return a?m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx("div",{className:"text-gray-500",children:e("settings.userManagement.loading")})})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[m.jsx(Se,{path:IC,size:1}),e("settings.userManagement.title")]}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.userManagement.description")})]}),m.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center gap-2",children:[m.jsx(Se,{path:mf,size:.8}),e("settings.userManagement.inviteUser")]})]}),m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Se,{path:vc,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm text-blue-800",children:[m.jsx("p",{className:"font-semibold mb-1",children:e("settings.userManagement.implementation.title")}),m.jsx("p",{children:e("settings.userManagement.implementation.message")})]})]})}),u&&m.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg mb-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Se,{path:vc,size:.8,className:"mr-2"}),m.jsx("span",{className:"text-sm",children:u})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-200",children:[m.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.email")}),m.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.role")}),m.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.created")}),m.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.lastLogin")}),m.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.actions")})]})}),m.jsx("tbody",{children:n.map(G=>m.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[m.jsx("td",{className:"py-3 px-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Se,{path:hO,size:.7,className:"text-gray-400"}),m.jsx("span",{className:"text-sm text-gray-900",children:G.email})]})}),m.jsx("td",{className:"py-3 px-4",children:m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${te[G.role]||"bg-gray-100 text-gray-800"}`,children:F[G.role]||G.role})}),m.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:new Date(G.created_at).toLocaleDateString()}),m.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:G.last_sign_in_at?new Date(G.last_sign_in_at).toLocaleDateString():"-"}),m.jsx("td",{className:"py-3 px-4 text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>M(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:e("settings.userManagement.editRole"),children:m.jsx(Se,{path:Fy,size:.7})}),t&&m.jsx("button",{onClick:()=>I(G.id,G.email),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("settings.userManagement.deleteUser"),children:m.jsx(Se,{path:Oc,size:.7})})]})})]},G.id))})]})})]}),d&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e("settings.userManagement.inviteUser")}),m.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:m.jsx(Se,{path:ts,size:.8})})]}),N?m.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Se,{path:es,size:.8,className:"mr-2"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:e("settings.userManagement.inviteSuccess")}),m.jsx("p",{className:"text-sm mt-1",children:e("settings.userManagement.inviteSuccessMessage")})]})]})}):m.jsxs("form",{onSubmit:H,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"label-base",children:e("settings.userManagement.emailLabel")}),m.jsx("input",{type:"email",value:y,onChange:G=>v(G.target.value),className:"input-base",placeholder:"manager@example.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label-base",children:e("settings.userManagement.roleLabel")}),m.jsxs("select",{value:x,onChange:G=>w(G.target.value),className:"input-base",children:[m.jsx("option",{value:"event_manager",children:F.event_manager}),m.jsx("option",{value:"system_manager",children:F.system_manager}),t&&m.jsx("option",{value:"super_admin",children:F.super_admin})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e(`settings.userManagement.roleDescriptions.${x}`)})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:e("settings.userManagement.cancel")}),m.jsx("button",{type:"submit",disabled:E,className:"flex-1 btn-primary",children:e(E?"settings.userManagement.sending":"settings.userManagement.sendInvite")})]})]})]})})]})}function j8(){const{t:e}=mn(),[t,n]=k.useState(!0),[r,a]=k.useState(!1),[o,u]=k.useState(!1),[h,d]=k.useState(null),[g,y]=k.useState(0),[v,x]=k.useState(0),[w,E]=k.useState(0),[T,N]=k.useState(0),[O,P]=k.useState(0),[M,U]=k.useState(!0),[H,I]=k.useState(!0),[F,te]=k.useState(!0);k.useEffect(()=>{G()},[]);const G=async()=>{n(!0),d(null);try{const{data:K,error:Q}=await xe.from("Organization_Profile").select("*").single();if(Q)Q.code==="PGRST116"?console.log("No organization profile found, using defaults"):console.warn("Error loading settings (columns may not exist yet):",Q);else if(K&&(y(K.default_breakfast_sat??0),x(K.default_lunch_sat??0),E(K.default_bbq_sat??0),N(K.default_breakfast_sun??0),P(K.default_lunch_sun??0),K.notification_settings)){const ae=typeof K.notification_settings=="string"?JSON.parse(K.notification_settings):K.notification_settings;U(ae.emailNotifications??!0),I(ae.newSubscriptionNotify??!0),te(ae.assignmentChangeNotify??!0)}}catch(K){console.warn("Failed to load settings (columns may not exist yet):",K)}finally{n(!1)}},re=async K=>{K.preventDefault(),a(!0),d(null),u(!1);try{const Q={emailNotifications:M,newSubscriptionNotify:H,assignmentChangeNotify:F},{error:ae}=await xe.from("Organization_Profile").select("default_breakfast").limit(1);if(ae&&ae.message?.includes("column")){d("Database columns not yet created. Please run the migration: ALTER TABLE organization_profile ADD COLUMN..."),console.error("EventDefaults columns missing. Run migration to add: default_breakfast, default_lunch, default_bbq, notification_settings");return}const{error:se}=await xe.from("Organization_Profile").upsert({id:1,default_breakfast_sat:g,default_lunch_sat:v,default_bbq_sat:w,default_breakfast_sun:T,default_lunch_sun:O,notification_settings:Q,updated_at:new Date().toISOString()});if(se)throw se;u(!0),setTimeout(()=>u(!1),3e3)}catch(Q){console.error("Failed to save settings:",Q),d(e("settings.eventDefaults.errors.saveFailed"))}finally{a(!1)}};return t?m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-center py-12",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),m.jsx("span",{className:"ml-3 text-gray-600",children:e("settings.eventDefaults.loading")})]})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e("settings.eventDefaults.title")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.description")})]}),o&&m.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start",children:[m.jsx(Se,{path:ff,size:1,className:"text-green-600 mr-3 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-green-800",children:e("settings.eventDefaults.saveSuccess")}),m.jsx("p",{className:"text-sm text-green-700",children:e("settings.eventDefaults.saveSuccessMessage")})]})]}),h&&m.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start",children:[m.jsx(Se,{path:vc,size:1,className:"text-red-600 mr-3 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-red-800",children:e("settings.eventDefaults.error")}),m.jsx("p",{className:"text-sm text-red-700",children:h})]})]}),m.jsxs("form",{onSubmit:re,className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(Se,{path:dO,size:1,className:"text-orange-600"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.mealDefaults.title")})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.mealDefaults.description")}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.saturday")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"breakfastSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),m.jsx("input",{type:"number",id:"breakfastSat",min:"0",max:"9999",value:g,onChange:K=>y(parseInt(K.target.value)||0),className:"input-base"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"lunchSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),m.jsx("input",{type:"number",id:"lunchSat",min:"0",max:"9999",value:v,onChange:K=>x(parseInt(K.target.value)||0),className:"input-base"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"bbqSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.bbq")}),m.jsx("input",{type:"number",id:"bbqSat",min:"0",max:"9999",value:w,onChange:K=>E(parseInt(K.target.value)||0),className:"input-base"})]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.sunday")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"breakfastSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),m.jsx("input",{type:"number",id:"breakfastSun",min:"0",max:"9999",value:T,onChange:K=>N(parseInt(K.target.value)||0),className:"input-base"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"lunchSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),m.jsx("input",{type:"number",id:"lunchSun",min:"0",max:"9999",value:O,onChange:K=>P(parseInt(K.target.value)||0),className:"input-base"})]}),m.jsxs("div",{className:"opacity-50",children:[m.jsx("label",{className:"label-base text-gray-400",children:e("settings.eventDefaults.mealDefaults.bbq")}),m.jsx("input",{type:"number",disabled:!0,value:"",className:"input-base bg-gray-100 cursor-not-allowed"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("settings.eventDefaults.mealDefaults.sundayNoBbq")})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(Se,{path:QM,size:1,className:"text-orange-600"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.notifications.title")})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.notifications.description")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"emailNotifications",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.emailNotifications")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.emailNotificationsDesc")})]}),m.jsx("button",{type:"button",role:"switch","aria-checked":M,onClick:()=>U(!M),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${M?"bg-orange-600":"bg-gray-300"}`,children:m.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${M?"translate-x-5":"translate-x-0"}`})})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"newSubscriptionNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.newSubscription")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.newSubscriptionDesc")})]}),m.jsx("button",{type:"button",role:"switch","aria-checked":H,onClick:()=>I(!H),disabled:!M,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${H&&M?"bg-orange-600":"bg-gray-300"} ${M?"":"opacity-50 cursor-not-allowed"}`,children:m.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${H?"translate-x-5":"translate-x-0"}`})})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"assignmentChangeNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.assignmentChange")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.assignmentChangeDesc")})]}),m.jsx("button",{type:"button",role:"switch","aria-checked":F,onClick:()=>te(!F),disabled:!M,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${F&&M?"bg-orange-600":"bg-gray-300"} ${M?"":"opacity-50 cursor-not-allowed"}`,children:m.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${F?"translate-x-5":"translate-x-0"}`})})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 bg-white rounded-lg shadow p-6",children:[m.jsx("button",{type:"button",onClick:G,disabled:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e("settings.eventDefaults.reset")}),m.jsx("button",{type:"submit",disabled:r,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(r?"settings.eventDefaults.saving":"settings.eventDefaults.save")})]})]})]})}function kT(){const[e,t]=k.useState([]),[n,r]=k.useState(!0),[a,o]=k.useState(null),[u,h]=k.useState(null),[d,g]=k.useState(new Set);k.useEffect(()=>{(async()=>{const{data:{user:U}}=await xe.auth.getUser();h(U?.id||null)})()},[]);const y=k.useCallback(async(M={})=>{try{r(!0),o(null);let U=xe.from("feedback_requests").select("*").order("created_at",{ascending:!1});M.type&&(U=U.eq("type",M.type)),M.status&&(U=U.eq("status",M.status)),M.userId&&(U=U.eq("user_id",M.userId));const{data:H,error:I}=await U;if(I)throw I;if(t(H||[]),u){const{data:F}=await xe.from("feedback_votes").select("request_id").eq("user_id",u);g(new Set(F?.map(te=>te.request_id)||[]))}}catch(U){console.error("Error loading feedback requests:",U),o(U.message)}finally{r(!1)}},[u]),v=async M=>{try{const{data:{user:U}}=await xe.auth.getUser();if(!U)throw new Error("User not authenticated");const{data:H,error:I}=await xe.from("feedback_requests").insert({user_id:U.id,user_email:U.email,type:M.type,title:M.title,description:M.description||""}).select().single();if(I)throw I;return await y(),{data:H,error:null}}catch(U){return console.error("Error creating request:",U),{data:null,error:U.message}}},x=async(M,U)=>{try{const{data:H,error:I}=await xe.from("feedback_requests").update(U).eq("id",M).select().single();if(I)throw I;return await y(),{data:H,error:null}}catch(H){return console.error("Error updating request:",H),{data:null,error:H.message}}},w=async M=>{try{const{error:U}=await xe.from("feedback_requests").delete().eq("id",M);if(U)throw U;return await y(),{error:null}}catch(U){return console.error("Error deleting request:",U),{error:U.message}}},E=async M=>{try{const{data:{user:U}}=await xe.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:H}=await xe.from("feedback_votes").insert({request_id:M,user_id:U.id});if(H)throw H;return g(I=>new Set([...I,M])),t(I=>I.map(F=>F.id===M?{...F,votes:F.votes+1}:F)),{error:null}}catch(U){return console.error("Error adding vote:",U),{error:U.message}}},T=async M=>{try{const{data:{user:U}}=await xe.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:H}=await xe.from("feedback_votes").delete().eq("request_id",M).eq("user_id",U.id);if(H)throw H;return g(I=>{const F=new Set(I);return F.delete(M),F}),t(I=>I.map(F=>F.id===M?{...F,votes:Math.max(0,F.votes-1)}:F)),{error:null}}catch(U){return console.error("Error removing vote:",U),{error:U.message}}},N=async M=>{try{const{data:U,error:H}=await xe.from("feedback_comments").select("*").eq("request_id",M).order("created_at",{ascending:!0});if(H)throw H;return{data:U||[],error:null}}catch(U){return console.error("Error loading comments:",U),{data:[],error:U.message}}},O=async(M,U)=>{try{const{data:{user:H}}=await xe.auth.getUser();if(!H)throw new Error("User not authenticated");const{data:I,error:F}=await xe.from("feedback_comments").insert({request_id:M,user_id:H.id,user_email:H.email,comment:U}).select().single();if(F)throw F;return t(te=>te.map(G=>G.id===M?{...G,comments_count:G.comments_count+1}:G)),{data:I,error:null}}catch(H){return console.error("Error adding comment:",H),{data:null,error:H.message}}},P=async(M,U)=>{try{const{error:H}=await xe.from("feedback_comments").delete().eq("id",M);if(H)throw H;return t(I=>I.map(F=>F.id===U?{...F,comments_count:Math.max(0,F.comments_count-1)}:F)),{error:null}}catch(H){return console.error("Error deleting comment:",H),{error:H.message}}};return k.useEffect(()=>{const M=xe.channel("feedback_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests"},()=>{y()}).subscribe();return()=>{xe.removeChannel(M)}},[y]),{requests:e,loading:n,error:a,userVotes:d,currentUserId:u,loadRequests:y,createRequest:v,updateRequest:x,deleteRequest:w,addVote:E,removeVote:T,loadComments:N,addComment:O,deleteComment:P}}function L8({request:e,onClose:t,onUpdate:n}){const{t:r}=mn(),{role:a}=io(),o=a==="super_admin",{userVotes:u,currentUserId:h,addVote:d,removeVote:g,loadComments:y,addComment:v,deleteComment:x,updateRequest:w}=kT(),[E,T]=k.useState([]),[N,O]=k.useState(""),[P,M]=k.useState(!0),[U,H]=k.useState(!1),[I,F]=k.useState(!1),[te,G]=k.useState(e.status),[re,K]=k.useState(e.priority||""),[Q,ae]=k.useState(e.version_completed||""),[se,de]=k.useState(!1);k.useEffect(()=>{(async()=>{M(!0);const{data:z}=await y(e.id);T(z||[]),M(!1)})()},[e.id]);const q=async()=>{u.has(e.id)?await g(e.id):await d(e.id)},ee=async X=>{if(X.preventDefault(),!N.trim())return;H(!0);const{data:z,error:W}=await v(e.id,N.trim());!W&&z&&(T([...E,z]),O("")),H(!1)},Y=async X=>{if(!confirm(r("common.confirmDelete")))return;const{error:z}=await x(X,e.id);z||T(E.filter(W=>W.id!==X))},we=async()=>{de(!0);const X={status:te,priority:re||null,version_completed:Q||null};te==="completed"&&e.status!=="completed"&&(X.completed_at=new Date().toISOString(),X.completed_by=h);const{error:z}=await w(e.id,X);z||(F(!1),n&&n()),de(!1)},R=X=>{switch(X){case"completed":return ff;case"in_progress":return GC;case"archived":return df;default:return VC}},V=X=>{switch(X){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.type==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[m.jsx(Se,{path:e.type==="issue"?Wg:Yg,size:.5,className:"mr-1"}),r(`settings.feedbackRequests.types.${e.type}`)]}),I?m.jsxs("select",{value:te,onChange:X=>G(X.target.value),className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[m.jsx("option",{value:"open",children:r("settings.feedbackRequests.statuses.open")}),m.jsx("option",{value:"in_progress",children:r("settings.feedbackRequests.statuses.inProgress")}),m.jsx("option",{value:"completed",children:r("settings.feedbackRequests.statuses.completed")}),m.jsx("option",{value:"archived",children:r("settings.feedbackRequests.statuses.archived")})]}):m.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${V(e.status)}`,children:[m.jsx(Se,{path:R(e.status),size:.6}),r(`settings.feedbackRequests.statuses.${e.status.replace("_","")}`)]})]}),m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),m.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[m.jsx("span",{children:e.user_email}),m.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.version_completed&&!I&&m.jsxs("span",{className:"text-green-600 font-medium",children:["v",e.version_completed]})]})]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:m.jsx(Se,{path:ts,size:1})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[e.description&&m.jsx("div",{className:"mb-6",children:m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})}),o&&m.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"font-semibold text-blue-900",children:r("settings.feedbackRequests.detail.status")}),I?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>F(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:r("common.cancel")}),m.jsx("button",{onClick:we,disabled:se,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:r(se?"common.saving":"common.save")})]}):m.jsx("button",{onClick:()=>F(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:r("common.edit")})]}),I&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("settings.feedbackRequests.detail.priority")}),m.jsxs("select",{value:re,onChange:X=>K(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[m.jsx("option",{value:"",children:"No priority"}),m.jsx("option",{value:"low",children:r("settings.feedbackRequests.priorities.low")}),m.jsx("option",{value:"medium",children:r("settings.feedbackRequests.priorities.medium")}),m.jsx("option",{value:"high",children:r("settings.feedbackRequests.priorities.high")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("settings.feedbackRequests.detail.version")}),m.jsx("input",{type:"text",value:Q,onChange:X=>ae(X.target.value),placeholder:"e.g., 1.2.0",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),m.jsx("div",{className:"mb-6",children:m.jsxs("button",{onClick:q,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${u.has(e.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Se,{path:KC,size:.8}),m.jsx("span",{className:"font-medium",children:u.has(e.id)?r("common.voted"):r("common.vote")}),m.jsxs("span",{className:"text-sm",children:["(",e.votes,")"]})]})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[m.jsx(Se,{path:FC,size:.8}),r("settings.feedbackRequests.detail.comments")," (",E.length,")"]}),P?m.jsx("div",{className:"text-center py-4 text-gray-500",children:r("common.loading")}):E.length===0?m.jsx("p",{className:"text-gray-500 text-sm mb-4",children:r("settings.feedbackRequests.detail.noComments")}):m.jsx("div",{className:"space-y-3 mb-4",children:E.map(X=>m.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"text-sm",children:[m.jsx("span",{className:"font-medium text-gray-900",children:X.user_email}),m.jsx("span",{className:"text-gray-500 ml-2",children:new Date(X.created_at).toLocaleDateString()})]}),(X.user_id===h||o)&&m.jsx("button",{onClick:()=>Y(X.id),className:"text-red-600 hover:text-red-700",children:m.jsx(Se,{path:Oc,size:.6})})]}),m.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:X.comment})]},X.id))}),m.jsxs("form",{onSubmit:ee,className:"flex gap-2",children:[m.jsx("input",{type:"text",value:N,onChange:X=>O(X.target.value),placeholder:r("settings.feedbackRequests.detail.addComment"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.jsxs("button",{type:"submit",disabled:U||!N.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[m.jsx(Se,{path:TO,size:.7}),r("settings.feedbackRequests.detail.postComment")]})]})]})]})]})})}function k8(){const{t:e}=mn(),{role:t}=io(),n=t==="super_admin",{requests:r,loading:a,error:o,userVotes:u,currentUserId:h,loadRequests:d,createRequest:g,addVote:y,removeVote:v}=kT(),[x,w]=k.useState("all"),[E,T]=k.useState(""),[N,O]=k.useState(""),[P,M]=k.useState(""),[U,H]=k.useState(null),[I,F]=k.useState("feature"),[te,G]=k.useState(""),[re,K]=k.useState(""),[Q,ae]=k.useState(!1);k.useEffect(()=>{const R={};E&&(R.type=E),N&&(R.status=N),x==="my"&&h&&(R.userId=h),d(R)},[E,N,x,h,d]);const se=r.filter(R=>{if(!P)return!0;const V=P.toLowerCase();return R.title.toLowerCase().includes(V)||R.description?.toLowerCase().includes(V)||R.user_email.toLowerCase().includes(V)}),de=async R=>{u.has(R)?await v(R):await y(R)},q=async R=>{if(R.preventDefault(),!te.trim())return;ae(!0);const{error:V}=await g({type:I,title:te.trim(),description:re.trim()});V||(G(""),K(""),w("all")),ae(!1)},ee=R=>{switch(R){case"completed":return ff;case"in_progress":return GC;case"archived":return df;default:return VC}},Y=R=>{switch(R){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}},we=R=>R==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800";return a&&r.length===0?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("settings.feedbackRequests.title")}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.feedbackRequests.description")})]}),m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("nav",{className:"-mb-px flex space-x-8",children:[m.jsx("button",{onClick:()=>w("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.all")}),m.jsx("button",{onClick:()=>w("my"),className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="my"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.myRequests")}),m.jsxs("button",{onClick:()=>w("submit"),className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="submit"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[m.jsx(Se,{path:mf,size:.7,className:"inline mr-1"}),e("settings.feedbackRequests.tabs.submit")]})]})}),(x==="all"||x==="my")&&m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[m.jsx(Se,{path:qC,size:.8}),m.jsx("span",{className:"font-medium",children:e("settings.feedbackRequests.filters.title")})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("input",{type:"text",placeholder:e("settings.feedbackRequests.filters.search"),value:P,onChange:R=>M(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.jsxs("select",{value:E,onChange:R=>T(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allTypes")}),m.jsx("option",{value:"issue",children:e("settings.feedbackRequests.types.issue")}),m.jsx("option",{value:"feature",children:e("settings.feedbackRequests.types.feature")})]}),m.jsxs("select",{value:N,onChange:R=>O(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allStatuses")}),m.jsx("option",{value:"open",children:e("settings.feedbackRequests.statuses.open")}),m.jsx("option",{value:"in_progress",children:e("settings.feedbackRequests.statuses.inProgress")}),m.jsx("option",{value:"completed",children:e("settings.feedbackRequests.statuses.completed")}),m.jsx("option",{value:"archived",children:e("settings.feedbackRequests.statuses.archived")})]})]})]}),x==="submit"?m.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("settings.feedbackRequests.submit.title")}),m.jsxs("form",{onSubmit:q,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.type")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"feature",checked:I==="feature",onChange:R=>F(R.target.value),className:"mr-2"}),m.jsx(Se,{path:Yg,size:.8,className:"mr-1 text-blue-600"}),e("settings.feedbackRequests.types.feature")]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"issue",checked:I==="issue",onChange:R=>F(R.target.value),className:"mr-2"}),m.jsx(Se,{path:Wg,size:.8,className:"mr-1 text-red-600"}),e("settings.feedbackRequests.types.issue")]})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e("settings.feedbackRequests.submit.title")," *"]}),m.jsx("input",{type:"text",value:te,onChange:R=>G(R.target.value),placeholder:e("settings.feedbackRequests.submit.titlePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.description")}),m.jsx("textarea",{value:re,onChange:R=>K(R.target.value),placeholder:e("settings.feedbackRequests.submit.descriptionPlaceholder"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),te&&m.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[" ",e("settings.feedbackRequests.submit.duplicateHint")]}),m.jsx("button",{type:"submit",disabled:Q||!te.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(Q?"common.saving":"settings.feedbackRequests.submit.button")})]})]}):m.jsxs("div",{className:"space-y-3",children:[o&&m.jsx("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg",children:o}),se.length===0?m.jsx("div",{className:"text-center py-12 text-gray-500",children:e("settings.feedbackRequests.noRequests")}):se.map(R=>m.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>H(R),children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${we(R.type)}`,children:[m.jsx(Se,{path:R.type==="issue"?Wg:Yg,size:.5,className:"mr-1"}),e(`settings.feedbackRequests.types.${R.type}`)]}),m.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${Y(R.status)}`,children:[m.jsx(Se,{path:ee(R.status),size:.6}),e(`settings.feedbackRequests.statuses.${R.status.replace("_","")}`)]}),R.priority&&n&&m.jsx("span",{className:"text-xs text-gray-500",children:e(`settings.feedbackRequests.priorities.${R.priority}`)})]}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:R.title}),R.description&&m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:R.description}),m.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[m.jsx("span",{children:R.user_email}),m.jsx("span",{children:new Date(R.created_at).toLocaleDateString()}),R.version_completed&&m.jsxs("span",{className:"text-green-600 font-medium",children:["v",R.version_completed]})]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[m.jsxs("button",{onClick:V=>{V.stopPropagation(),de(R.id)},className:`flex items-center gap-1 px-3 py-1 rounded-full border ${u.has(R.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Se,{path:KC,size:.6}),m.jsx("span",{className:"font-medium",children:R.votes})]}),m.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[m.jsx(Se,{path:FC,size:.6}),m.jsx("span",{className:"text-sm",children:R.comments_count})]})]})]})},R.id))]}),U&&m.jsx(L8,{request:U,onClose:()=>H(null),onUpdate:()=>{H(null),d()}})]})}function A8(){const{t:e}=mn(),[t,n]=k.useState(!0),[r,a]=k.useState(!1),[o,u]=k.useState(!1),[h,d]=k.useState("#ffffff"),[g,y]=k.useState("Arvo, Sans-serif");k.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const{data:w,error:E}=await xe.from("Organization_Profile").select("theme_color, font_family").eq("id",1).single();if(E)throw E;w&&(d(w.theme_color||"#ffffff"),y(w.font_family||"Arvo, Sans-serif"))}catch(w){console.error("Error loading branding settings:",w)}finally{n(!1)}},x=async()=>{try{a(!0);const{error:w}=await xe.from("Organization_Profile").update({theme_color:h,font_family:g}).eq("id",1);if(w)throw w;u(!0),setTimeout(()=>u(!1),3e3)}catch(w){console.error("Error saving branding settings:",w),alert(e("settings.branding.errors.saveFailed"))}finally{a(!1)}};return t?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx("div",{className:"text-gray-500",children:e("settings.branding.loading")})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[m.jsx(Se,{path:ZC,size:1}),e("settings.branding.title")]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.branding.description")}),m.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",e("settings.branding.note")]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.themeColor.label")}),m.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.themeColor.description")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"color",value:h,onChange:w=>d(w.target.value),className:"h-12 w-24 border border-gray-300 rounded cursor-pointer"}),m.jsx("input",{type:"text",value:h,onChange:w=>d(w.target.value),placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:7})]}),m.jsxs("div",{className:"mt-3 space-y-2",children:[m.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:h,borderColor:h},children:[m.jsx("p",{className:"font-bold text-white text-lg",children:"Preview Text (White on Color)"}),m.jsx("p",{className:"text-white text-sm opacity-90",children:"The quick brown fox jumps over the lazy dog"})]}),m.jsxs("div",{className:"p-4 rounded-lg border-2 border-gray-300 bg-white",children:[m.jsx("p",{className:"font-bold text-lg",style:{color:h},children:"Preview Text (Color on White)"}),m.jsx("p",{className:"text-sm",style:{color:h},children:"The quick brown fox jumps over the lazy dog"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.fontFamily.label")}),m.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.fontFamily.description")}),m.jsxs("select",{value:g,onChange:w=>y(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"Arvo, Sans-serif",children:"Arvo (Default)"}),m.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),m.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),m.jsx("option",{value:"Georgia, serif",children:"Georgia"}),m.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),m.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),m.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),m.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),m.jsx("option",{value:"Impact, sans-serif",children:"Impact"})]}),m.jsxs("div",{className:"mt-3 p-4 rounded-lg border border-gray-300 bg-white",style:{fontFamily:g},children:[m.jsx("p",{className:"text-lg text-gray-900 font-semibold",children:"The quick brown fox jumps over the lazy dog"}),m.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"1234567890 !@#$%^&*()"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("button",{onClick:()=>{d("#ffffff"),y("Arvo, Sans-serif")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:e("settings.branding.reset")}),m.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:r?e("common.saving"):o?m.jsxs(m.Fragment,{children:[m.jsx(Se,{path:ff,size:.8}),e("settings.branding.saveSuccess")]}):e("common.save")})]})]})}function N8(){const{t:e}=mn();return m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Se,{path:Xg,size:1.2,className:"text-blue-600"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.uiLanguage.title")}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.uiLanguage.description")})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Se,{path:Xg,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm text-blue-800",children:[m.jsx("p",{className:"font-semibold mb-1",children:e("settings.uiLanguage.note.title")}),m.jsx("p",{children:e("settings.uiLanguage.note.description")})]})]})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("settings.uiLanguage.selectLanguage")}),m.jsx(yc,{})]})]})]})}function M8(){const{t:e}=mn(),{role:t,isSuperAdmin:n}=io(),[r,a]=k.useState("user-management"),u=[{id:"user-management",label:e("settings.userManagement.title"),icon:IC,roles:["super_admin","system_manager"],component:m.jsx(T8,{})},{id:"branding",label:e("settings.branding.title"),icon:ZC,roles:["super_admin","system_manager"],component:m.jsx(A8,{})},{id:"ui-language",label:e("settings.uiLanguage.title"),icon:Xg,roles:["super_admin","system_manager","event_manager"],component:m.jsx(N8,{})},{id:"map-defaults",label:e("settings.mapDefaults.title"),icon:pf,roles:["super_admin","system_manager"],component:m.jsx(O8,{})},{id:"event-defaults",label:e("settings.eventDefaults.title"),icon:HC,roles:["super_admin","system_manager","event_manager"],component:m.jsx(j8,{})},{id:"feedback-requests",label:e("settings.feedbackRequests.title"),icon:lO,roles:["super_admin","system_manager","event_manager"],component:m.jsx(k8,{})},{id:"advanced",label:e("settings.advanced.title"),icon:vc,roles:["super_admin"],component:m.jsx(P8,{})}].filter(d=>n?!0:d.roles.includes(t));gi.useEffect(()=>{u.find(d=>d.id===r)||a(u[0]?.id||"event-defaults")},[t]);const h=u.find(d=>d.id===r)?.component;return m.jsxs("div",{className:"h-full flex flex-col",children:[m.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("settings.title")}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e("settings.subtitle"),m.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium capitalize",children:t?.replace("_"," ")})]})]}),m.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[m.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:m.jsx("nav",{className:"p-4 space-y-1",children:u.map(d=>m.jsxs("button",{onClick:()=>a(d.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${r===d.id?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Se,{path:d.icon,size:.9}),m.jsx("span",{children:d.label})]},d.id))})}),m.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:h})]})]})}function O8(){const{t:e}=mn();return m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:e("settings.mapDefaults.title")}),m.jsx("p",{className:"text-gray-600",children:e("settings.mapDefaults.description")}),m.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsx("p",{className:"text-sm text-blue-800",children:" Map Defaults component coming soon..."})})]})}function P8(){const{t:e}=mn();return m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[m.jsx(Se,{path:vc,size:1,className:"text-red-600"}),e("settings.advanced.title")]}),m.jsx("p",{className:"text-gray-600",children:e("settings.advanced.description")}),m.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:m.jsx("p",{className:"text-sm text-red-800",children:" Advanced Settings (Danger Zone) coming soon..."})})]})}const R8=k.lazy(()=>Qi(()=>Promise.resolve().then(()=>h8),void 0));k.lazy(()=>Qi(()=>import("./AccessibilityToggle-CkHdReSQ.js"),[]));k.lazy(()=>Qi(()=>import("./FeedbackForm-CtCbIJuk.js"),[]));function D8({branding:e,user:t,markersState:n,updateMarker:r,setMarkersState:a,onLogin:o,selectedYear:u,setSelectedYear:h}){const d=({children:g})=>m.jsx(Fm,{children:m.jsxs(o1,{selectedYear:u,children:[m.jsx(rM,{}),m.jsx("main",{className:"pb-16",children:g}),m.jsx(DO,{})]})});return m.jsxs(xN,{children:[m.jsx(Wn,{path:"/",element:m.jsx(d,{children:m.jsx(qy,{selectedYear:u,branding:e})})}),m.jsx(Wn,{path:"/map",element:m.jsx(d,{children:m.jsx(k.Suspense,{fallback:m.jsx("div",{children:"Loading map..."}),children:m.jsx(R8,{isAdminView:!1,markersState:n,updateMarker:r,setMarkersState:a,selectedYear:u})})})}),m.jsx(Wn,{path:"/exhibitors",element:m.jsx(d,{children:m.jsx(VO,{markersState:n,selectedYear:u})})}),m.jsx(Wn,{path:"/schedule",element:m.jsx(d,{children:m.jsx(HO,{selectedYear:u})})}),m.jsx(Wn,{path:"/reset-password",element:m.jsx(Fm,{children:m.jsx(k.Suspense,{fallback:m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:m.jsx(GM,{branding:e})})})}),m.jsxs(Wn,{path:"/admin",element:t?m.jsx(o1,{selectedYear:u,children:m.jsx(fD,{selectedYear:u,setSelectedYear:h})}):m.jsx(Fm,{children:m.jsx(k.Suspense,{fallback:m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:m.jsx(ZM,{onLogin:o,branding:e})})}),children:[m.jsx(Wn,{index:!0,element:m.jsx(pD,{selectedYear:u})}),m.jsx(Wn,{path:"map",element:m.jsx(d8,{markersState:n,setMarkersState:a,updateMarker:r,selectedYear:u})}),m.jsx(Wn,{path:"companies",element:m.jsx(S8,{})}),m.jsx(Wn,{path:"subscriptions",element:m.jsx(C8,{selectedYear:u})}),m.jsx(Wn,{path:"assignments",element:m.jsx(E8,{selectedYear:u})}),m.jsx(Wn,{path:"settings",element:m.jsx(M8,{})})]}),m.jsx(Wn,{path:"/storage-test",element:m.jsx(RO,{})})]})}const z8="Event Map App",B8="Welcome to the event!",I8="Home",U8="Admin Dashboard",V8={loading:"Loading...",saving:"Saving...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this?",vote:"Vote",voted:"Voted"},H8={event:"Event",parking:"Parking",food:"Food"},F8={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},q8={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},$8={title:"Settings",subtitle:"Manage system configuration and preferences",userManagement:{title:"User Management",description:"Manage admin users, roles, and permissions",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Invitation sent!",inviteSuccessMessage:"User will receive an email to set their password.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},implementation:{title:"Server-side API Required",message:"Full user management requires server-side implementation using Supabase Admin API. Currently showing mock data. Contact your developer to enable edit/delete functionality."},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user",requiresServerApi:"This action requires server-side API implementation"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding Settings",description:"Configure visual branding (colors, fonts)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI Language",description:"Change the language of buttons, menus, and interface elements",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Map Defaults",description:"Default map layers, zoom levels, and map settings"},eventDefaults:{title:"Event Defaults",description:"Default meal counts, booth sizes, and event preferences",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature Requests",description:"Submit issues, request features, and track progress",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",priority:"Priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Advanced Settings",description:"System maintenance, data management, and danger zone"}},Z8={subtitle:"Your Next Adventure Starts Here!",title:"The 4x4 Holiday Fair",eventDate:"October 10-11, 2026",exhibitors:"Exhibitors",days:"Days",openingHours:"Opening Hours",openingHoursInfo:`Saturday 10:00 - 17:00
Sunday 10:00 - 16:00`,location:"Location",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parking",parkingInfo:"Free parking available at Strandpark Slijk-Ewijk",phaseNote:"<strong>Note:</strong> This is a Phase 1 placeholder. In Phase 2, this page will show real event data, welcome messages, and upcoming activities."},G8={appTitle:z8,welcome:B8,home:I8,admin:U8,common:V8,marker:H8,adminLogin:F8,resetPassword:q8,settings:$8,homePage:Z8},K8="Evenementenkaart App",W8="Welkom op het evenement!",Y8="Startpagina",X8="Admin Dashboard",J8={loading:"Laden...",saving:"Opslaan...",save:"Opslaan",cancel:"Annuleren",edit:"Bewerken",delete:"Verwijderen",confirmDelete:"Weet je zeker dat je dit wilt verwijderen?",vote:"Stem",voted:"Gestemd"},Q8={event:"Evenement",parking:"Parkeren",food:"Eten"},e9={title:"Manager Inloggen",subtitle:"Inloggen om evenementgegevens te beheren",email:"E-mail",emailPlaceholder:"Voer uw e-mailadres in",password:"Wachtwoord",passwordPlaceholder:"Voer uw wachtwoord in",show:"Toon",hide:"Verberg",forgotPassword:"Wachtwoord vergeten?",resetPassword:"Wachtwoord Resetten",backToLogin:"Terug naar inloggen",sendResetLink:"Verstuur Reset Link",resetEmailSent:"Wachtwoord reset link is verzonden naar uw e-mail",resetInstructions:"Voer uw e-mailadres in en we sturen u een link om uw wachtwoord te resetten.",loginButton:"Inloggen",loggingIn:"Bezig met inloggen...",rememberMe:"Onthoud mijn e-mail",rememberMeTooltip:"Uw browser zal ook aanbieden om uw wachtwoord veilig op te slaan",errors:{invalidCredentials:"Ongeldig e-mailadres of wachtwoord",emailRequired:"E-mail is verplicht",passwordRequired:"Wachtwoord is verplicht",networkError:"Netwerkfout. Controleer uw verbinding.",unknownError:"Er is een fout opgetreden. Probeer het opnieuw.",resetFailed:"Kon reset e-mail niet verzenden. Probeer het opnieuw."}},t9={title:"Nieuw wachtwoord instellen",instructions:"Voer hieronder uw nieuwe wachtwoord in. Maak het veilig!",newPassword:"Nieuw wachtwoord",newPasswordPlaceholder:"Voer nieuw wachtwoord in",confirmPassword:"Bevestig wachtwoord",confirmPasswordPlaceholder:"Voer nieuw wachtwoord opnieuw in",showPassword:"Toon wachtwoord",hidePassword:"Verberg wachtwoord",passwordRequirements:"Minimaal 6 tekens",updatePassword:"Wachtwoord bijwerken",updating:"Aan het bijwerken...",success:"Wachtwoord succesvol bijgewerkt!",redirecting:"Doorverwijzen naar inlogpagina...",backToLogin:"Terug naar inloggen",requestNewLink:"Nieuwe Reset Link Aanvragen",errors:{linkExpiredTitle:"Reset Link Verlopen",invalidToken:"Deze reset link is ongeldig of verlopen. Vraag een nieuwe aan.",tokenExpired:"Deze reset link is verlopen. Reset links zijn slechts 60 seconden geldig nadat ze zijn verzonden. Ga terug naar de inlogpagina en vraag een nieuwe reset link aan.",passwordTooShort:"Wachtwoord moet minimaal 6 tekens zijn",passwordMismatch:"Wachtwoorden komen niet overeen",updateFailed:"Kon wachtwoord niet bijwerken. Probeer het opnieuw."}},n9={title:"Instellingen",subtitle:"Beheer systeemconfiguratie en voorkeuren",userManagement:{title:"Gebruikersbeheer",description:"Beheer admin gebruikers, rollen en rechten",loading:"Gebruikers laden...",inviteUser:"Gebruiker uitnodigen",emailLabel:"E-mailadres",roleLabel:"Gebruikersrol",sendInvite:"Uitnodiging versturen",sending:"Verzenden...",cancel:"Annuleren",editRole:"Rol bewerken",deleteUser:"Gebruiker verwijderen",confirmDelete:"Weet u zeker dat u {{email}} wilt verwijderen?",inviteSuccess:"Uitnodiging verzonden!",inviteSuccessMessage:"Gebruiker ontvangt een e-mail om wachtwoord in te stellen.",table:{email:"E-mail",role:"Rol",created:"Aangemaakt",lastLogin:"Laatste login",actions:"Acties"},roles:{superAdmin:"Super Admin",systemManager:"Systeembeheerder",eventManager:"Evenementbeheerder"},roleDescriptions:{super_admin:"Volledige toegang tot alle functies",system_manager:"Kaartbeheer en gebruikersadministratie",event_manager:"Bedrijven, inschrijvingen en toewijzingen"},implementation:{title:"Server-side API vereist",message:"Volledig gebruikersbeheer vereist server-side implementatie met Supabase Admin API. Momenteel worden mock-gegevens getoond. Neem contact op met uw ontwikkelaar om bewerken/verwijderen functionaliteit in te schakelen."},errors:{fetchFailed:"Kan gebruikers niet laden",inviteFailed:"Kan uitnodiging niet verzenden",updateFailed:"Kan gebruikersrol niet bijwerken",deleteFailed:"Kan gebruiker niet verwijderen",requiresServerApi:"Deze actie vereist server-side API implementatie"}},organization:{title:"Organisatieprofiel",description:"Organisatienaam, logo en contactinformatie"},branding:{title:"Branding Instellingen",description:"Configureer visuele branding (kleuren, lettertypen)",note:"Organisatienaam en logo worden beheerd in het Bedrijven-tabblad",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Standaardinstellingen Herstellen",saveSuccess:"Opgeslagen!",themeColor:{label:"Themakleur",description:"Primaire kleur gebruikt in de hele applicatie"},fontFamily:{label:"Lettertype",description:"Lettertype gebruikt voor koppen en tekst"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},uiLanguage:{title:"UI Taal",description:"Wijzig de taal van knoppen, menu's en interface-elementen",selectLanguage:"Selecteer je voorkeurstaal",note:{title:"Manager Interface Taal",description:"Dit wijzigt de taal van knoppen, menu's en instellingen. Het heeft GEEN invloed op inhoudvertalingen (bedrijfsinformatie, markeerbeschrijvingen). Inhoudvertalingen worden apart beheerd."}},mapDefaults:{title:"Kaart Standaardinstellingen",description:"Standaard kaartlagen, zoomniveaus en kaartinstellingen"},eventDefaults:{title:"Evenement Standaardinstellingen",description:"Standaard maaltijdaantallen, standgrootte en evenementvoorkeuren",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Resetten",saveSuccess:"Instellingen succesvol opgeslagen",saveSuccessMessage:"Je wijzigingen zijn toegepast.",error:"Fout",mealDefaults:{title:"Standaard Maaltijdaantallen",description:"Stel standaard maaltijdhoeveelheden in voor nieuwe evenementinschrijvingen. Deze waarden worden vooraf ingevuld maar kunnen per inschrijving worden aangepast.",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"Geen BBQ op zondag"},notifications:{title:"Meldingsvoorkeuren",description:"Configureer e-mailmeldingen voor evenementmanagers",emailNotifications:"E-mailmeldingen Inschakelen",emailNotificationsDesc:"Hoofdschakelaar voor alle e-mailmeldingen",newSubscription:"Nieuwe Inschrijvingsmeldingen",newSubscriptionDesc:"Ontvang een melding wanneer bedrijven zich registreren voor het evenement",assignmentChange:"Toewijzingswijzigingen",assignmentChangeDesc:"Ontvang een melding wanneer standtoewijzingen worden gewijzigd"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},feedbackRequests:{title:"Feedback & Functieverzoeken",description:"Meld problemen, vraag functies aan en volg voortgang",tabs:{all:"Alle Verzoeken",myRequests:"Mijn Verzoeken",submit:"Nieuwe Indienen"},filters:{title:"Filters",search:"Zoek verzoeken...",allTypes:"Alle Types",allStatuses:"Alle Statussen"},types:{issue:"Probleem",feature:"Functieverzoek"},statuses:{open:"Open",inProgress:"In Behandeling",completed:"Voltooid",archived:"Gearchiveerd"},priorities:{low:"Lage Prioriteit",medium:"Gemiddelde Prioriteit",high:"Hoge Prioriteit"},submit:{title:"Nieuw Verzoek Indienen",type:"Type",titleLabel:"Titel",titlePlaceholder:"Korte samenvatting van je verzoek",description:"Beschrijving",descriptionPlaceholder:"Geef details over je verzoek...",duplicateHint:"Controleer de lijst hieronder om te zien of een soortgelijk verzoek al bestaat",button:"Verzoek Indienen"},noRequests:"Geen verzoeken gevonden",detail:{comments:"Reacties",addComment:"Voeg reactie toe...",postComment:"Plaatsen",noComments:"Nog geen reacties. Wees de eerste die reageert!",status:"Status",priority:"Prioriteit",version:"Versie Uitgerold",updateStatus:"Status Bijwerken",setPriority:"Prioriteit Instellen",markCompleted:"Markeren als Voltooid",delete:"Verzoek Verwijderen"}},advanced:{title:"Geavanceerde Instellingen",description:"Systeemonderhoud, gegevensbeheer en gevarenzone"}},i9={subtitle:"Jouw Volgende Avontuur Start Hier!",title:"D 4x4 Vakantiebeurs",eventDate:"10-11 oktober 2026",exhibitors:"Exposanten",days:"Dagen",openingHours:"Openingstijden",openingHoursInfo:`Zaterdag 10:00 - 17:00 uur
Zondag 10:00 - 16:00 uur`,location:"Locatie",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parkeren",parkingInfo:"Gratis parkeren bij Strandpark Slijk-Ewijk",phaseNote:"<strong>Let op:</strong> Dit is een Fase 1 tijdelijke versie. In Fase 2 zal deze pagina echte evenementgegevens, welkomstberichten en aankomende activiteiten tonen."},r9={appTitle:K8,welcome:W8,home:Y8,admin:X8,common:J8,marker:Q8,adminLogin:e9,resetPassword:t9,settings:n9,homePage:i9};kn.use(DM).init({resources:{en:{translation:G8},nl:{translation:r9}},lng:"nl",fallbackLng:"nl",interpolation:{escapeValue:!1}});function s9(){const e=new Date().getFullYear(),[t,n]=k.useState(()=>{const w=localStorage.getItem("selectedEventYear");return w?parseInt(w,10):e});k.useEffect(()=>{localStorage.setItem("selectedEventYear",t.toString())},[t]);const{markers:r}=iM(t),[a,o,u]=nM(r),[h,d]=k.useState({logo:null,themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif",eventName:"4x4 Vakantiebeurs"});k.useEffect(()=>{async function w(){const{data:T,error:N}=await xe.from("Organization_Profile").select("*").eq("id",1).single();if(N){console.error("Error fetching Organization_Profile:",N);return}if(T){const O=T.logo||"";d({logo:O?Ji(O):null,eventName:T.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}w();const E=xe.channel("organization-profile-branding-sync").on("postgres_changes",{event:"*",schema:"public",table:"Organization_Profile",filter:"id=eq.1"},T=>{if(T.new){const N=T.new.logo||"";d({logo:N?Ji(N):null,eventName:T.new.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}).subscribe();return()=>{xe.removeChannel(E)}},[]);const[g,y]=k.useState(null);k.useEffect(()=>{xe.auth.getSession().then(({data:E})=>{y(E?.session?.user||null)});const{data:w}=xe.auth.onAuthStateChange((E,T)=>{y(T?.user||null)});return()=>{w?.subscription?.unsubscribe()}},[]);const v=$N,x={};return m.jsx(ST,{children:m.jsx(zO,{children:m.jsx(v,{...x,children:m.jsx(D8,{branding:h,user:g,markersState:a,updateMarker:o,setMarkersState:u,onLogin:y,selectedYear:t,setSelectedYear:n})})})})}const Lg=Sl();Ot.Icon.Default.mergeOptions({iconRetinaUrl:`${Lg}assets/icons/marker-icon-2x.png`,iconUrl:`${Lg}assets/icons/glyph-marker-icon-blue.svg`,shadowUrl:`${Lg}assets/icons/marker-shadow.png`});eL.createRoot(document.getElementById("root")).render(m.jsx(k.StrictMode,{children:m.jsx(s9,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(`${Sl()}service-worker.js`)});export{gi as R,m as j,k as r};
