function u9(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function lo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var Wp={exports:{}},Yu={};var k_;function d9(){if(k_)return Yu;k_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var d in s)d!=="key"&&(a[d]=s[d])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Yu.Fragment=t,Yu.jsx=n,Yu.jsxs=n,Yu}var $_;function h9(){return $_||($_=1,Wp.exports=d9()),Wp.exports}var h=h9(),Yp={exports:{}},Xe={};var N_;function f9(){if(N_)return Xe;N_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function $(R,J,D){this.props=R,this.context=J,this.refs=k,this.updater=D||C}$.prototype.isReactComponent={},$.prototype.setState=function(R,J){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,J,"setState")},$.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function P(){}P.prototype=$.prototype;function N(R,J,D){this.props=R,this.context=J,this.refs=k,this.updater=D||C}var U=N.prototype=new P;U.constructor=N,T(U,$.prototype),U.isPureReactComponent=!0;var H=Array.isArray;function B(){}var Z={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function F(R,J,D){var ce=D.ref;return{$$typeof:e,type:R,key:J,ref:ce!==void 0?ce:null,props:D}}function W(R,J){return F(R.type,J,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function X(R){var J={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(D){return J[D]})}var oe=/\/+/g;function Q(R,J){return typeof R=="object"&&R!==null&&R.key!=null?X(""+R.key):J.toString(36)}function se(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(B,B):(R.status="pending",R.then(function(J){R.status==="pending"&&(R.status="fulfilled",R.value=J)},function(J){R.status==="pending"&&(R.status="rejected",R.reason=J)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function V(R,J,D,ce,ie){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var Te=!1;if(R===null)Te=!0;else switch(ue){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(R.$$typeof){case e:case t:Te=!0;break;case y:return Te=R._init,V(Te(R._payload),J,D,ce,ie)}}if(Te)return ie=ie(R),Te=ce===""?"."+Q(R,0):ce,H(ie)?(D="",Te!=null&&(D=Te.replace(oe,"$&/")+"/"),V(ie,J,D,"",function(_e){return _e})):ie!=null&&(q(ie)&&(ie=W(ie,D+(ie.key==null||R&&R.key===ie.key?"":(""+ie.key).replace(oe,"$&/")+"/")+Te)),J.push(ie)),1;Te=0;var Ee=ce===""?".":ce+":";if(H(R))for(var Le=0;Le<R.length;Le++)ce=R[Le],ue=Ee+Q(ce,Le),Te+=V(ce,J,D,ue,ie);else if(Le=w(R),typeof Le=="function")for(R=Le.call(R),Le=0;!(ce=R.next()).done;)ce=ce.value,ue=Ee+Q(ce,Le++),Te+=V(ce,J,D,ue,ie);else if(ue==="object"){if(typeof R.then=="function")return V(se(R),J,D,ce,ie);throw J=String(R),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function G(R,J,D){if(R==null)return R;var ce=[],ie=0;return V(R,ce,"","",function(ue){return J.call(D,ue,ie++)}),ce}function re(R){if(R._status===-1){var J=R._result;J=J(),J.then(function(D){(R._status===0||R._status===-1)&&(R._status=1,R._result=D)},function(D){(R._status===0||R._status===-1)&&(R._status=2,R._result=D)}),R._status===-1&&(R._status=0,R._result=J)}if(R._status===1)return R._result.default;throw R._result}var Ce=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},O={map:G,forEach:function(R,J,D){G(R,function(){J.apply(this,arguments)},D)},count:function(R){var J=0;return G(R,function(){J++}),J},toArray:function(R){return G(R,function(J){return J})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Xe.Activity=v,Xe.Children=O,Xe.Component=$,Xe.Fragment=n,Xe.Profiler=s,Xe.PureComponent=N,Xe.StrictMode=i,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Z.H.useMemoCache(R)}},Xe.cache=function(R){return function(){return R.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(R,J,D){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ce=T({},R.props),ie=R.key;if(J!=null)for(ue in J.key!==void 0&&(ie=""+J.key),J)!ne.call(J,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&J.ref===void 0||(ce[ue]=J[ue]);var ue=arguments.length-2;if(ue===1)ce.children=D;else if(1<ue){for(var Te=Array(ue),Ee=0;Ee<ue;Ee++)Te[Ee]=arguments[Ee+2];ce.children=Te}return F(R.type,ie,ce)},Xe.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},Xe.createElement=function(R,J,D){var ce,ie={},ue=null;if(J!=null)for(ce in J.key!==void 0&&(ue=""+J.key),J)ne.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ie[ce]=J[ce]);var Te=arguments.length-2;if(Te===1)ie.children=D;else if(1<Te){for(var Ee=Array(Te),Le=0;Le<Te;Le++)Ee[Le]=arguments[Le+2];ie.children=Ee}if(R&&R.defaultProps)for(ce in Te=R.defaultProps,Te)ie[ce]===void 0&&(ie[ce]=Te[ce]);return F(R,ue,ie)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(R){return{$$typeof:d,render:R}},Xe.isValidElement=q,Xe.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:re}},Xe.memo=function(R,J){return{$$typeof:g,type:R,compare:J===void 0?null:J}},Xe.startTransition=function(R){var J=Z.T,D={};Z.T=D;try{var ce=R(),ie=Z.S;ie!==null&&ie(D,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(B,Ce)}catch(ue){Ce(ue)}finally{J!==null&&D.types!==null&&(J.types=D.types),Z.T=J}},Xe.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Xe.use=function(R){return Z.H.use(R)},Xe.useActionState=function(R,J,D){return Z.H.useActionState(R,J,D)},Xe.useCallback=function(R,J){return Z.H.useCallback(R,J)},Xe.useContext=function(R){return Z.H.useContext(R)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(R,J){return Z.H.useDeferredValue(R,J)},Xe.useEffect=function(R,J){return Z.H.useEffect(R,J)},Xe.useEffectEvent=function(R){return Z.H.useEffectEvent(R)},Xe.useId=function(){return Z.H.useId()},Xe.useImperativeHandle=function(R,J,D){return Z.H.useImperativeHandle(R,J,D)},Xe.useInsertionEffect=function(R,J){return Z.H.useInsertionEffect(R,J)},Xe.useLayoutEffect=function(R,J){return Z.H.useLayoutEffect(R,J)},Xe.useMemo=function(R,J){return Z.H.useMemo(R,J)},Xe.useOptimistic=function(R,J){return Z.H.useOptimistic(R,J)},Xe.useReducer=function(R,J,D){return Z.H.useReducer(R,J,D)},Xe.useRef=function(R){return Z.H.useRef(R)},Xe.useState=function(R){return Z.H.useState(R)},Xe.useSyncExternalStore=function(R,J,D){return Z.H.useSyncExternalStore(R,J,D)},Xe.useTransition=function(){return Z.H.useTransition()},Xe.version="19.2.0",Xe}var L_;function Hc(){return L_||(L_=1,Yp.exports=f9()),Yp.exports}var j=Hc();const Si=lo(j);var Xp={exports:{}},Xu={},Qp={exports:{}},Jp={};var A_;function m9(){return A_||(A_=1,(function(e){function t(V,G){var re=V.length;V.push(G);e:for(;0<re;){var Ce=re-1>>>1,O=V[Ce];if(0<s(O,G))V[Ce]=G,V[re]=O,re=Ce;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var G=V[0],re=V.pop();if(re!==G){V[0]=re;e:for(var Ce=0,O=V.length,R=O>>>1;Ce<R;){var J=2*(Ce+1)-1,D=V[J],ce=J+1,ie=V[ce];if(0>s(D,re))ce<O&&0>s(ie,D)?(V[Ce]=ie,V[ce]=re,Ce=ce):(V[Ce]=D,V[J]=re,Ce=J);else if(ce<O&&0>s(ie,re))V[Ce]=ie,V[ce]=re,Ce=ce;else break e}}return G}function s(V,G){var re=V.sortIndex-G.sortIndex;return re!==0?re:V.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],g=[],y=1,v=null,x=3,w=!1,C=!1,T=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function U(V){for(var G=n(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=V)i(g),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(g)}}function H(V){if(T=!1,U(V),!C)if(n(f)!==null)C=!0,B||(B=!0,X());else{var G=n(g);G!==null&&se(H,G.startTime-V)}}var B=!1,Z=-1,ne=5,F=-1;function W(){return k?!0:!(e.unstable_now()-F<ne)}function q(){if(k=!1,B){var V=e.unstable_now();F=V;var G=!0;try{e:{C=!1,T&&(T=!1,P(Z),Z=-1),w=!0;var re=x;try{t:{for(U(V),v=n(f);v!==null&&!(v.expirationTime>V&&W());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,x=v.priorityLevel;var O=Ce(v.expirationTime<=V);if(V=e.unstable_now(),typeof O=="function"){v.callback=O,U(V),G=!0;break t}v===n(f)&&i(f),U(V)}else i(f);v=n(f)}if(v!==null)G=!0;else{var R=n(g);R!==null&&se(H,R.startTime-V),G=!1}}break e}finally{v=null,x=re,w=!1}G=void 0}}finally{G?X():B=!1}}}var X;if(typeof N=="function")X=function(){N(q)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Q=oe.port2;oe.port1.onmessage=q,X=function(){Q.postMessage(null)}}else X=function(){$(q,0)};function se(V,G){Z=$(function(){V(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var re=x;x=G;try{return V()}finally{x=re}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=x;x=V;try{return G()}finally{x=re}},e.unstable_scheduleCallback=function(V,G,re){var Ce=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=re+O,V={id:y++,callback:G,priorityLevel:V,startTime:re,expirationTime:O,sortIndex:-1},re>Ce?(V.sortIndex=re,t(g,V),n(f)===null&&V===n(g)&&(T?(P(Z),Z=-1):T=!0,se(H,re-Ce))):(V.sortIndex=O,t(f,V),C||w||(C=!0,B||(B=!0,X()))),V},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(V){var G=x;return function(){var re=x;x=G;try{return V.apply(this,arguments)}finally{x=re}}}})(Jp)),Jp}var P_;function p9(){return P_||(P_=1,Qp.exports=m9()),Qp.exports}var eg={exports:{}},Ln={};var M_;function g9(){if(M_)return Ln;M_=1;var e=Hc();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ln.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(f,g,null,y)},Ln.flushSync=function(f){var g=l.T,y=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=g,i.p=y,i.d.f()}},Ln.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Ln.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ln.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ln.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Ln.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ln.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=d(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Ln.requestFormReset=function(f){i.d.r(f)},Ln.unstable_batchedUpdates=function(f,g){return f(g)},Ln.useFormState=function(f,g,y){return l.H.useFormState(f,g,y)},Ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var O_;function S3(){if(O_)return eg.exports;O_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eg.exports=g9(),eg.exports}var R_;function y9(){if(R_)return Xu;R_=1;var e=p9(),t=Hc(),n=S3();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function g(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,p=o;;){var _=c.return;if(_===null)break;var S=_.alternate;if(S===null){if(p=_.return,p!==null){c=p;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===c)return f(_),r;if(S===p)return f(_),o;S=S.sibling}throw Error(i(188))}if(c.return!==p.return)c=_,p=S;else{for(var M=!1,I=_.child;I;){if(I===c){M=!0,c=_,p=S;break}if(I===p){M=!0,p=_,c=S;break}I=I.sibling}if(!M){for(I=S.child;I;){if(I===c){M=!0,c=S,p=_;break}if(I===p){M=!0,p=S,c=_;break}I=I.sibling}if(!M)throw Error(i(189))}}if(c.alternate!==p)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function y(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=y(r),o!==null)return o;r=r.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Symbol.for("react.client.reference");function Q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===oe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case $:return"Profiler";case k:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList";case F:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case N:return r.displayName||"Context";case P:return(r._context.displayName||"Context")+".Consumer";case U:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return o=r.displayName||null,o!==null?o:Q(r.type)||"Memo";case ne:o=r._payload,r=r._init;try{return Q(r(o))}catch{}}return null}var se=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ce=[],O=-1;function R(r){return{current:r}}function J(r){0>O||(r.current=Ce[O],Ce[O]=null,O--)}function D(r,o){O++,Ce[O]=r.current,r.current=o}var ce=R(null),ie=R(null),ue=R(null),Te=R(null);function Ee(r,o){switch(D(ue,o),D(ie,r),D(ce,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Xb(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Xb(o),r=Qb(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(ce),D(ce,r)}function Le(){J(ce),J(ie),J(ue)}function _e(r){r.memoizedState!==null&&D(Te,r);var o=ce.current,c=Qb(o,r.type);o!==c&&(D(ie,r),D(ce,c))}function ee(r){ie.current===r&&(J(ce),J(ie)),Te.current===r&&(J(Te),Zu._currentValue=re)}var ke,Oe;function De(r){if(ke===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ke=o&&o[1]||"",Oe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+r+Oe}var ct=!1;function Pe(r,o){if(!r||ct)return"";ct=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(pe){var me=pe}Reflect.construct(r,[],we)}else{try{we.call()}catch(pe){me=pe}r.call(we.prototype)}}else{try{throw Error()}catch(pe){me=pe}(we=r())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(pe){if(pe&&me&&typeof pe.stack=="string")return[pe.stack,me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),M=S[0],I=S[1];if(M&&I){var Y=M.split(`
`),he=I.split(`
`);for(_=p=0;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;for(;_<he.length&&!he[_].includes("DetermineComponentFrameRoot");)_++;if(p===Y.length||_===he.length)for(p=Y.length-1,_=he.length-1;1<=p&&0<=_&&Y[p]!==he[_];)_--;for(;1<=p&&0<=_;p--,_--)if(Y[p]!==he[_]){if(p!==1||_!==1)do if(p--,_--,0>_||Y[p]!==he[_]){var ye=`
`+Y[p].replace(" at new "," at ");return r.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",r.displayName)),ye}while(1<=p&&0<=_);break}}}finally{ct=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?De(c):""}function Fn(r,o){switch(r.tag){case 26:case 27:case 5:return De(r.type);case 16:return De("Lazy");case 13:return r.child!==o&&o!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Pe(r.type,!1);case 11:return Pe(r.type.render,!1);case 1:return Pe(r.type,!0);case 31:return De("Activity");default:return""}}function Qt(r){try{var o="",c=null;do o+=Fn(r,c),c=r,r=r.return;while(r);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var St=Object.prototype.hasOwnProperty,Jt=e.unstable_scheduleCallback,Dn=e.unstable_cancelCallback,ar=e.unstable_shouldYield,sa=e.unstable_requestPaint,_n=e.unstable_now,Gl=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,$e=e.unstable_UserBlockingPriority,He=e.unstable_NormalPriority,nt=e.unstable_LowPriority,dt=e.unstable_IdlePriority,kn=e.log,Ui=e.unstable_setDisableYieldValue,pn=null,It=null;function xn(r){if(typeof kn=="function"&&Ui(r),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(pn,r)}catch{}}var bt=Math.clz32?Math.clz32:tm,qn=Math.log,li=Math.LN2;function tm(r){return r>>>=0,r===0?32:31-(qn(r)/li|0)|0}var aa=256,oa=262144,la=4194304;function Ar(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function po(r,o,c){var p=r.pendingLanes;if(p===0)return 0;var _=0,S=r.suspendedLanes,M=r.pingedLanes;r=r.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?_=Ar(p):(M&=I,M!==0?_=Ar(M):c||(c=I&~r,c!==0&&(_=Ar(c))))):(I=p&~S,I!==0?_=Ar(I):M!==0?_=Ar(M):c||(c=p&~r,c!==0&&(_=Ar(c)))),_===0?0:o!==0&&o!==_&&(o&S)===0&&(S=_&-_,c=o&-o,S>=c||S===32&&(c&4194048)!==0)?o:_}function ua(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function nm(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sd(){var r=la;return la<<=1,(la&62914560)===0&&(la=4194304),r}function Kl(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Pr(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function im(r,o,c,p,_,S){var M=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var I=r.entanglements,Y=r.expirationTimes,he=r.hiddenUpdates;for(c=M&~c;0<c;){var ye=31-bt(c),we=1<<ye;I[ye]=0,Y[ye]=-1;var me=he[ye];if(me!==null)for(he[ye]=null,ye=0;ye<me.length;ye++){var pe=me[ye];pe!==null&&(pe.lane&=-536870913)}c&=~we}p!==0&&ad(r,p,0),S!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=S&~(M&~o))}function ad(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var p=31-bt(o);r.entangledLanes|=o,r.entanglements[p]=r.entanglements[p]|1073741824|c&261930}function od(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var p=31-bt(c),_=1<<p;_&o|r[p]&o&&(r[p]|=o),c&=~_}}function ld(r,o){var c=o&-o;return c=(c&42)!==0?1:Zn(c),(c&(r.suspendedLanes|o))!==0?0:c}function Zn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wl(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:x_(r.type))}function Yl(r,o){var c=G.p;try{return G.p=r,o()}finally{G.p=c}}var Vi=Math.random().toString(36).slice(2),en="__reactFiber$"+Vi,gn="__reactProps$"+Vi,Mr="__reactContainer$"+Vi,or="__reactEvents$"+Vi,ud="__reactListeners$"+Vi,rm="__reactHandles$"+Vi,cd="__reactResources$"+Vi,ca="__reactMarker$"+Vi;function Xl(r){delete r[en],delete r[gn],delete r[or],delete r[ud],delete r[rm]}function Or(r){var o=r[en];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Mr]||c[en]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=s_(r);r!==null;){if(c=r[en])return c;r=s_(r)}return o}r=c,c=r.parentNode}return null}function cs(r){if(r=r[en]||r[Mr]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function lr(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function ds(r){var o=r[cd];return o||(o=r[cd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function tn(r){r[ca]=!0}var dd=new Set,hd={};function Rr(r,o){ur(r,o),ur(r+"Capture",o)}function ur(r,o){for(hd[r]=o,r=0;r<o.length;r++)dd.add(o[r])}var da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Jl={};function ha(r){return St.call(Jl,r)?!0:St.call(Ql,r)?!1:da.test(r)?Jl[r]=!0:(Ql[r]=!0,!1)}function it(r,o,c){if(ha(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Ct(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Gn(r,o,c,p){if(p===null)r.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+p)}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dr(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function eu(r,o,c){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,S=p.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return _.call(this)},set:function(M){c=""+M,S.call(this,M)}}),Object.defineProperty(r,o,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ye(r){if(!r._valueTracker){var o=Dr(r)?"checked":"value";r._valueTracker=eu(r,o,""+r[o])}}function Ot(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return r&&(p=Dr(r)?r.checked?"true":"false":r.value),r=p,r!==c?(o.setValue(r),!0):!1}function hs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var go=/[\n"\\]/g;function Pt(r){return r.replace(go,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function tu(r,o,c,p,_,S,M,I){r.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.type=M:r.removeAttribute("type"),o!=null?M==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+cn(o)):r.value!==""+cn(o)&&(r.value=""+cn(o)):M!=="submit"&&M!=="reset"||r.removeAttribute("value"),o!=null?Hi(r,M,cn(o)):c!=null?Hi(r,M,cn(c)):p!=null&&r.removeAttribute("value"),_==null&&S!=null&&(r.defaultChecked=!!S),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+cn(I):r.removeAttribute("name")}function fa(r,o,c,p,_,S,M,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),o!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Ye(r);return}c=c!=null?""+cn(c):"",o=o!=null?""+cn(o):c,I||o===r.value||(r.value=o),r.defaultValue=o}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=I?r.checked:!!p,r.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(r.name=M),Ye(r)}function Hi(r,o,c){o==="number"&&hs(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function kt(r,o,c,p){if(r=r.options,o){o={};for(var _=0;_<c.length;_++)o["$"+c[_]]=!0;for(c=0;c<r.length;c++)_=o.hasOwnProperty("$"+r[c].value),r[c].selected!==_&&(r[c].selected=_),_&&p&&(r[c].defaultSelected=!0)}else{for(c=""+cn(c),o=null,_=0;_<r.length;_++){if(r[_].value===c){r[_].selected=!0,p&&(r[_].defaultSelected=!0);return}o!==null||r[_].disabled||(o=r[_])}o!==null&&(o.selected=!0)}}function cr(r,o,c){if(o!=null&&(o=""+cn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+cn(c):""}function fs(r,o,c,p){if(o==null){if(p!=null){if(c!=null)throw Error(i(92));if(se(p)){if(1<p.length)throw Error(i(93));p=p[0]}c=p}c==null&&(c=""),o=c}c=cn(o),r.defaultValue=c,p=r.textContent,p===c&&p!==""&&p!==null&&(r.value=p),Ye(r)}function Ei(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ms(r,o,c){var p=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":p?r.setProperty(o,c):typeof c!="number"||c===0||nu.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function yo(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var _ in o)p=o[_],o.hasOwnProperty(_)&&c[_]!==p&&ms(r,_,p)}else for(var S in o)o.hasOwnProperty(S)&&ms(r,S,o[S])}function ma(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(r){return iu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Kn(){}var bo=null;function pa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gs=null,Ze=null;function ui(r){var o=cs(r);if(o&&(r=o.stateNode)){var c=r[gn]||null;e:switch(r=o.stateNode,o.type){case"input":if(tu(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Pt(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==r&&p.form===r.form){var _=p[gn]||null;if(!_)throw Error(i(90));tu(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<c.length;o++)p=c[o],p.form===r.form&&Ot(p)}break e;case"textarea":cr(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&kt(r,!!c.multiple,o,!1)}}}var vt=!1;function ru(r,o,c){if(vt)return r(o,c);vt=!0;try{var p=r(o);return p}finally{if(vt=!1,(gs!==null||Ze!==null)&&(lh(),gs&&(o=gs,r=Ze,Ze=gs=null,ui(o),r)))for(o=0;o<r.length;o++)ui(r[o])}}function zr(r,o){var c=r.stateNode;if(c===null)return null;var p=c[gn]||null;if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(ci)try{var di={};Object.defineProperty(di,"passive",{get:function(){ga=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{ga=!1}var Ti=null,Ir=null,Ft=null;function dr(){if(Ft)return Ft;var r,o=Ir,c=o.length,p,_="value"in Ti?Ti.value:Ti.textContent,S=_.length;for(r=0;r<c&&o[r]===_[r];r++);var M=c-r;for(p=1;p<=M&&o[c-p]===_[S-p];p++);return Ft=_.slice(r,1<p?1-p:void 0)}function ya(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function va(){return!0}function fd(){return!1}function wn(r){function o(c,p,_,S,M){this._reactName=c,this._targetInst=_,this.type=p,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(c=r[I],this[I]=c?c(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?va:fd,this.isPropagationStopped=fd,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),o}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=wn(Fi),ys=v({},Fi,{view:0,detail:0}),ot=wn(ys),su,zn,qi,ba=v({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qi&&(qi&&r.type==="mousemove"?(su=r.screenX-qi.screenX,zn=r.screenY-qi.screenY):zn=su=0,qi=r),su)},movementY:function(r){return"movementY"in r?r.movementY:zn}}),md=wn(ba),au=v({},ba,{dataTransfer:0}),sm=wn(au),pd=v({},ys,{relatedTarget:0}),ou=wn(pd),am=v({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=wn(am),om=v({},Fi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ji=wn(om),lm=v({},Fi,{data:0}),uu=wn(lm),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=yd[r])?!!o[r]:!1}function du(){return cu}var vd=v({},ys,{key:function(r){if(r.key){var o=hr[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ya(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(r){return r.type==="keypress"?ya(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ya(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bd=wn(vd),um=v({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=wn(um),hu=v({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),cm=wn(hu),xd=v({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wd=wn(xd),xo=v({},ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Br=wn(xo),dm=v({},Fi,{newState:0,oldState:0}),_a=wn(dm),Wn=[9,13,27,32],wo=ci&&"CompositionEvent"in window,vs=null;ci&&"documentMode"in document&&(vs=document.documentMode);var hm=ci&&"TextEvent"in window&&!vs,So=ci&&(!wo||vs&&8<vs&&11>=vs),Co=" ",Sd=!1;function Cd(r,o){switch(r){case"keyup":return Wn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bs=!1;function hi(r,o){switch(r){case"compositionend":return fu(o);case"keypress":return o.which!==32?null:(Sd=!0,Co);case"textInput":return r=o.data,r===Co&&Sd?null:r;default:return null}}function _s(r,o){if(bs)return r==="compositionend"||!wo&&Cd(r,o)?(r=dr(),Ft=Ir=Ti=null,bs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return So&&o.locale!=="ko"?null:o.data;default:return null}}var fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ki(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!fm[r.type]:o==="textarea"}function Ed(r,o,c,p){gs?Ze?Ze.push(p):Ze=[p]:gs=p,o=ph(o,"onChange"),0<o.length&&(c=new _o("onChange","change",null,c,p),r.push({event:c,listeners:o}))}var $i=null,xa=null;function wa(r){qb(r,0)}function Sa(r){var o=lr(r);if(Ot(o))return r}function Ca(r,o){if(r==="change")return o}var Td=!1;if(ci){var Ni;if(ci){var xs="oninput"in document;if(!xs){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),xs=typeof jd.oninput=="function"}Ni=xs}else Ni=!1;Td=Ni&&(!document.documentMode||9<document.documentMode)}function Eo(){$i&&($i.detachEvent("onpropertychange",kd),xa=$i=null)}function kd(r){if(r.propertyName==="value"&&Sa(xa)){var o=[];Ed(o,xa,r,pa(r)),ru(wa,o)}}function Zi(r,o,c){r==="focusin"?(Eo(),$i=o,xa=c,$i.attachEvent("onpropertychange",kd)):r==="focusout"&&Eo()}function mm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Sa(xa)}function ws(r,o){if(r==="click")return Sa(o)}function pm(r,o){if(r==="input"||r==="change")return Sa(o)}function Gi(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var yn=typeof Object.is=="function"?Object.is:Gi;function Ss(r,o){if(yn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var _=c[p];if(!St.call(o,_)||!yn(r[_],o[_]))return!1}return!0}function To(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ea(r,o){var c=To(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=o&&p>=o)return{node:c,offset:o-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=To(c)}}function jo(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?jo(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Ta(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=hs(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=hs(r.document)}return o}function fr(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var ko=ci&&"documentMode"in document&&11>=document.documentMode,mr=null,$o=null,ja=null,Cs=!1;function $d(r,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Cs||mr==null||mr!==hs(p)||(p=mr,"selectionStart"in p&&fr(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ja&&Ss(ja,p)||(ja=p,p=ph($o,"onSelect"),0<p.length&&(o=new _o("onSelect","select",null,o,c),r.push({event:o,listeners:p}),o.target=mr)))}function pr(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Es={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},No={},Nd={};ci&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function vn(r){if(No[r])return No[r];if(!Es[r])return r;var o=Es[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Nd)return No[r]=o[c];return r}var ka=vn("animationend"),Ld=vn("animationiteration"),$a=vn("animationstart"),gm=vn("transitionrun"),Ad=vn("transitionstart"),ym=vn("transitioncancel"),Ts=vn("transitionend"),Pd=new Map,gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gr.push("scrollEnd");function Yn(r,o){Pd.set(r,o),Rr(o,[r])}var Na=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Xn=[],$n=0,Lo=0;function La(){for(var r=$n,o=Lo=$n=0;o<r;){var c=Xn[o];Xn[o++]=null;var p=Xn[o];Xn[o++]=null;var _=Xn[o];Xn[o++]=null;var S=Xn[o];if(Xn[o++]=null,p!==null&&_!==null){var M=p.pending;M===null?_.next=_:(_.next=M.next,M.next=_),p.pending=_}S!==0&&js(c,_,S)}}function yr(r,o,c,p){Xn[$n++]=r,Xn[$n++]=o,Xn[$n++]=c,Xn[$n++]=p,Lo|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function mu(r,o,c,p){return yr(r,o,c,p),Aa(r)}function Li(r,o){return yr(r,null,null,o),Aa(r)}function js(r,o,c){r.lanes|=c;var p=r.alternate;p!==null&&(p.lanes|=c);for(var _=!1,S=r.return;S!==null;)S.childLanes|=c,p=S.alternate,p!==null&&(p.childLanes|=c),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(_=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,_&&o!==null&&(_=31-bt(c),r=S.hiddenUpdates,p=r[_],p===null?r[_]=[o]:p.push(o),o.lane=c|536870912),S):null}function Aa(r){if(50<Iu)throw Iu=0,bp=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ur={};function vm(r,o,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,o,c,p){return new vm(r,o,c,p)}function Ao(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,o){var c=r.alternate;return c===null?(c=Nn(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function pu(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Pa(r,o,c,p,_,S){var M=0;if(p=r,typeof r=="function")Ao(r)&&(M=1);else if(typeof r=="string")M=X6(r,c,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case F:return r=Nn(31,c,o,_),r.elementType=F,r.lanes=S,r;case T:return Vr(c.children,_,S,o);case k:M=8,_|=24;break;case $:return r=Nn(12,c,o,_|2),r.elementType=$,r.lanes=S,r;case H:return r=Nn(13,c,o,_),r.elementType=H,r.lanes=S,r;case B:return r=Nn(19,c,o,_),r.elementType=B,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:M=10;break e;case P:M=9;break e;case U:M=11;break e;case Z:M=14;break e;case ne:M=16,p=null;break e}M=29,c=Error(i(130,r===null?"null":typeof r,"")),p=null}return o=Nn(M,c,o,_),o.elementType=r,o.type=p,o.lanes=S,o}function Vr(r,o,c,p){return r=Nn(7,r,p,o),r.lanes=c,r}function Po(r,o,c){return r=Nn(6,r,null,o),r.lanes=c,r}function gu(r){var o=Nn(18,null,null,0);return o.stateNode=r,o}function yu(r,o,c){return o=Nn(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var u=new WeakMap;function m(r,o){if(typeof r=="object"&&r!==null){var c=u.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Qt(o)},u.set(r,o),o)}return{value:r,source:o,stack:Qt(o)}}var b=[],E=0,A=null,z=0,K=[],le=0,fe=null,xe=1,Ne="";function Be(r,o){b[E++]=z,b[E++]=A,A=r,z=o}function Je(r,o,c){K[le++]=xe,K[le++]=Ne,K[le++]=fe,fe=r;var p=xe;r=Ne;var _=32-bt(p)-1;p&=~(1<<_),c+=1;var S=32-bt(o)+_;if(30<S){var M=_-_%5;S=(p&(1<<M)-1).toString(32),p>>=M,_-=M,xe=1<<32-bt(o)+_|c<<_|p,Ne=S+r}else xe=1<<S|c<<_|p,Ne=r}function dn(r){r.return!==null&&(Be(r,1),Je(r,1,0))}function qt(r){for(;r===A;)A=b[--E],b[E]=null,z=b[--E],b[E]=null;for(;r===fe;)fe=K[--le],K[le]=null,Ne=K[--le],K[le]=null,xe=K[--le],K[le]=null}function In(r,o){K[le++]=xe,K[le++]=Ne,K[le++]=fe,xe=o.id,Ne=o.overflow,fe=r}var ht=null,ft=null,rt=!1,vr=null,Qn=!1,Mo=Error(i(519));function br(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ma(m(o,r)),Mo}function vu(r){var o=r.stateNode,c=r.type,p=r.memoizedProps;switch(o[en]=r,o[gn]=p,c){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(c=0;c<Uu.length;c++)at(Uu[c],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),fa(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),fs(o,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||p.suppressHydrationWarning===!0||Wb(o.textContent,c)?(p.popover!=null&&(at("beforetoggle",o),at("toggle",o)),p.onScroll!=null&&at("scroll",o),p.onScrollEnd!=null&&at("scrollend",o),p.onClick!=null&&(o.onclick=Kn),o=!0):o=!1,o||br(r,!0)}function Bt(r){for(ht=r.return;ht;)switch(ht.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:ht=ht.return}}function Ki(r){if(r!==ht)return!1;if(!rt)return Bt(r),rt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Mp(r.type,r.memoizedProps)),c=!c),c&&ft&&br(r),Bt(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ft=r_(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ft=r_(r)}else o===27?(o=ft,Us(r.type)?(r=Ip,Ip=null,ft=r):ft=o):ft=ht?Mi(r.stateNode.nextSibling):null;return!0}function Hr(){ft=ht=null,rt=!1}function bu(){var r=vr;return r!==null&&(ni===null?ni=r:ni.push.apply(ni,r),vr=null),r}function Ma(r){vr===null?vr=[r]:vr.push(r)}var Oa=R(null),_r=null,Wi=null;function ks(r,o,c){D(Oa,o._currentValue),o._currentValue=c}function Fr(r){r._currentValue=Oa.current,J(Oa)}function bm(r,o,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===c)break;r=r.return}}function _m(r,o,c,p){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var S=_.dependencies;if(S!==null){var M=_.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=_;for(var Y=0;Y<o.length;Y++)if(I.context===o[Y]){S.lanes|=c,I=S.alternate,I!==null&&(I.lanes|=c),bm(S.return,c,r),p||(M=null);break e}S=I.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(i(341));M.lanes|=c,S=M.alternate,S!==null&&(S.lanes|=c),bm(M,c,r),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===r){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function Oo(r,o,c,p){r=null;for(var _=o,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var I=_.type;yn(_.pendingProps.value,M.value)||(r!==null?r.push(I):r=[I])}}else if(_===Te.current){if(M=_.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(Zu):r=[Zu])}_=_.return}r!==null&&_m(o,r,c,p),o.flags|=262144}function Md(r){for(r=r.firstContext;r!==null;){if(!yn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ra(r){_r=r,Wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Sn(r){return M1(_r,r)}function Od(r,o){return _r===null&&Ra(r),M1(r,o)}function M1(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Wi===null){if(r===null)throw Error(i(308));Wi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Wi=Wi.next=o;return c}var GC=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,p){r.push(p)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},KC=e.unstable_scheduleCallback,WC=e.unstable_NormalPriority,nn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new GC,data:new Map,refCount:0}}function _u(r){r.refCount--,r.refCount===0&&KC(WC,function(){r.controller.abort()})}var xu=null,wm=0,Ro=0,Do=null;function YC(r,o){if(xu===null){var c=xu=[];wm=0,Ro=Ep(),Do={status:"pending",value:void 0,then:function(p){c.push(p)}}}return wm++,o.then(O1,O1),o}function O1(){if(--wm===0&&xu!==null){Do!==null&&(Do.status="fulfilled");var r=xu;xu=null,Ro=0,Do=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function XC(r,o){var c=[],p={status:"pending",value:null,reason:null,then:function(_){c.push(_)}};return r.then(function(){p.status="fulfilled",p.value=o;for(var _=0;_<c.length;_++)(0,c[_])(o)},function(_){for(p.status="rejected",p.reason=_,_=0;_<c.length;_++)(0,c[_])(void 0)}),p}var R1=V.S;V.S=function(r,o){bb=_n(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&YC(r,o),R1!==null&&R1(r,o)};var Da=R(null);function Sm(){var r=Da.current;return r!==null?r:$t.pooledCache}function Rd(r,o){o===null?D(Da,Da.current):D(Da,o.pool)}function D1(){var r=Sm();return r===null?null:{parent:nn._currentValue,pool:r}}var zo=Error(i(460)),Cm=Error(i(474)),Dd=Error(i(542)),zd={then:function(){}};function z1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function I1(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Kn,Kn),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,U1(r),r;default:if(typeof o.status=="string")o.then(Kn,Kn);else{if(r=$t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(p){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=p}},function(p){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,U1(r),r}throw Ia=o,zo}}function za(r){try{var o=r._init;return o(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ia=c,zo):c}}var Ia=null;function B1(){if(Ia===null)throw Error(i(459));var r=Ia;return Ia=null,r}function U1(r){if(r===zo||r===Dd)throw Error(i(483))}var Io=null,wu=0;function Id(r){var o=wu;return wu+=1,Io===null&&(Io=[]),I1(Io,r,o)}function Su(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Bd(r,o){throw o.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function V1(r){function o(ae,te){if(r){var de=ae.deletions;de===null?(ae.deletions=[te],ae.flags|=16):de.push(te)}}function c(ae,te){if(!r)return null;for(;te!==null;)o(ae,te),te=te.sibling;return null}function p(ae){for(var te=new Map;ae!==null;)ae.key!==null?te.set(ae.key,ae):te.set(ae.index,ae),ae=ae.sibling;return te}function _(ae,te){return ae=Ai(ae,te),ae.index=0,ae.sibling=null,ae}function S(ae,te,de){return ae.index=de,r?(de=ae.alternate,de!==null?(de=de.index,de<te?(ae.flags|=67108866,te):de):(ae.flags|=67108866,te)):(ae.flags|=1048576,te)}function M(ae){return r&&ae.alternate===null&&(ae.flags|=67108866),ae}function I(ae,te,de,be){return te===null||te.tag!==6?(te=Po(de,ae.mode,be),te.return=ae,te):(te=_(te,de),te.return=ae,te)}function Y(ae,te,de,be){var Ve=de.type;return Ve===T?ye(ae,te,de.props.children,be,de.key):te!==null&&(te.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ne&&za(Ve)===te.type)?(te=_(te,de.props),Su(te,de),te.return=ae,te):(te=Pa(de.type,de.key,de.props,null,ae.mode,be),Su(te,de),te.return=ae,te)}function he(ae,te,de,be){return te===null||te.tag!==4||te.stateNode.containerInfo!==de.containerInfo||te.stateNode.implementation!==de.implementation?(te=yu(de,ae.mode,be),te.return=ae,te):(te=_(te,de.children||[]),te.return=ae,te)}function ye(ae,te,de,be,Ve){return te===null||te.tag!==7?(te=Vr(de,ae.mode,be,Ve),te.return=ae,te):(te=_(te,de),te.return=ae,te)}function we(ae,te,de){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Po(""+te,ae.mode,de),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return de=Pa(te.type,te.key,te.props,null,ae.mode,de),Su(de,te),de.return=ae,de;case C:return te=yu(te,ae.mode,de),te.return=ae,te;case ne:return te=za(te),we(ae,te,de)}if(se(te)||X(te))return te=Vr(te,ae.mode,de,null),te.return=ae,te;if(typeof te.then=="function")return we(ae,Id(te),de);if(te.$$typeof===N)return we(ae,Od(ae,te),de);Bd(ae,te)}return null}function me(ae,te,de,be){var Ve=te!==null?te.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ve!==null?null:I(ae,te,""+de,be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return de.key===Ve?Y(ae,te,de,be):null;case C:return de.key===Ve?he(ae,te,de,be):null;case ne:return de=za(de),me(ae,te,de,be)}if(se(de)||X(de))return Ve!==null?null:ye(ae,te,de,be,null);if(typeof de.then=="function")return me(ae,te,Id(de),be);if(de.$$typeof===N)return me(ae,te,Od(ae,de),be);Bd(ae,de)}return null}function pe(ae,te,de,be,Ve){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ae=ae.get(de)||null,I(te,ae,""+be,Ve);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return ae=ae.get(be.key===null?de:be.key)||null,Y(te,ae,be,Ve);case C:return ae=ae.get(be.key===null?de:be.key)||null,he(te,ae,be,Ve);case ne:return be=za(be),pe(ae,te,de,be,Ve)}if(se(be)||X(be))return ae=ae.get(de)||null,ye(te,ae,be,Ve,null);if(typeof be.then=="function")return pe(ae,te,de,Id(be),Ve);if(be.$$typeof===N)return pe(ae,te,de,Od(te,be),Ve);Bd(te,be)}return null}function Me(ae,te,de,be){for(var Ve=null,mt=null,Re=te,et=te=0,ut=null;Re!==null&&et<de.length;et++){Re.index>et?(ut=Re,Re=null):ut=Re.sibling;var pt=me(ae,Re,de[et],be);if(pt===null){Re===null&&(Re=ut);break}r&&Re&&pt.alternate===null&&o(ae,Re),te=S(pt,te,et),mt===null?Ve=pt:mt.sibling=pt,mt=pt,Re=ut}if(et===de.length)return c(ae,Re),rt&&Be(ae,et),Ve;if(Re===null){for(;et<de.length;et++)Re=we(ae,de[et],be),Re!==null&&(te=S(Re,te,et),mt===null?Ve=Re:mt.sibling=Re,mt=Re);return rt&&Be(ae,et),Ve}for(Re=p(Re);et<de.length;et++)ut=pe(Re,ae,et,de[et],be),ut!==null&&(r&&ut.alternate!==null&&Re.delete(ut.key===null?et:ut.key),te=S(ut,te,et),mt===null?Ve=ut:mt.sibling=ut,mt=ut);return r&&Re.forEach(function(Zs){return o(ae,Zs)}),rt&&Be(ae,et),Ve}function Fe(ae,te,de,be){if(de==null)throw Error(i(151));for(var Ve=null,mt=null,Re=te,et=te=0,ut=null,pt=de.next();Re!==null&&!pt.done;et++,pt=de.next()){Re.index>et?(ut=Re,Re=null):ut=Re.sibling;var Zs=me(ae,Re,pt.value,be);if(Zs===null){Re===null&&(Re=ut);break}r&&Re&&Zs.alternate===null&&o(ae,Re),te=S(Zs,te,et),mt===null?Ve=Zs:mt.sibling=Zs,mt=Zs,Re=ut}if(pt.done)return c(ae,Re),rt&&Be(ae,et),Ve;if(Re===null){for(;!pt.done;et++,pt=de.next())pt=we(ae,pt.value,be),pt!==null&&(te=S(pt,te,et),mt===null?Ve=pt:mt.sibling=pt,mt=pt);return rt&&Be(ae,et),Ve}for(Re=p(Re);!pt.done;et++,pt=de.next())pt=pe(Re,ae,et,pt.value,be),pt!==null&&(r&&pt.alternate!==null&&Re.delete(pt.key===null?et:pt.key),te=S(pt,te,et),mt===null?Ve=pt:mt.sibling=pt,mt=pt);return r&&Re.forEach(function(l9){return o(ae,l9)}),rt&&Be(ae,et),Ve}function jt(ae,te,de,be){if(typeof de=="object"&&de!==null&&de.type===T&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case w:e:{for(var Ve=de.key;te!==null;){if(te.key===Ve){if(Ve=de.type,Ve===T){if(te.tag===7){c(ae,te.sibling),be=_(te,de.props.children),be.return=ae,ae=be;break e}}else if(te.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ne&&za(Ve)===te.type){c(ae,te.sibling),be=_(te,de.props),Su(be,de),be.return=ae,ae=be;break e}c(ae,te);break}else o(ae,te);te=te.sibling}de.type===T?(be=Vr(de.props.children,ae.mode,be,de.key),be.return=ae,ae=be):(be=Pa(de.type,de.key,de.props,null,ae.mode,be),Su(be,de),be.return=ae,ae=be)}return M(ae);case C:e:{for(Ve=de.key;te!==null;){if(te.key===Ve)if(te.tag===4&&te.stateNode.containerInfo===de.containerInfo&&te.stateNode.implementation===de.implementation){c(ae,te.sibling),be=_(te,de.children||[]),be.return=ae,ae=be;break e}else{c(ae,te);break}else o(ae,te);te=te.sibling}be=yu(de,ae.mode,be),be.return=ae,ae=be}return M(ae);case ne:return de=za(de),jt(ae,te,de,be)}if(se(de))return Me(ae,te,de,be);if(X(de)){if(Ve=X(de),typeof Ve!="function")throw Error(i(150));return de=Ve.call(de),Fe(ae,te,de,be)}if(typeof de.then=="function")return jt(ae,te,Id(de),be);if(de.$$typeof===N)return jt(ae,te,Od(ae,de),be);Bd(ae,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,te!==null&&te.tag===6?(c(ae,te.sibling),be=_(te,de),be.return=ae,ae=be):(c(ae,te),be=Po(de,ae.mode,be),be.return=ae,ae=be),M(ae)):c(ae,te)}return function(ae,te,de,be){try{wu=0;var Ve=jt(ae,te,de,be);return Io=null,Ve}catch(Re){if(Re===zo||Re===Dd)throw Re;var mt=Nn(29,Re,null,ae.mode);return mt.lanes=be,mt.return=ae,mt}finally{}}}var Ba=V1(!0),H1=V1(!1),$s=!1;function Em(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ns(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ls(r,o,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(gt&2)!==0){var _=p.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),p.pending=o,o=Aa(r),js(r,null,c),o}return yr(r,p,o,c),Aa(r)}function Cu(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var p=o.lanes;p&=r.pendingLanes,c|=p,o.lanes=c,od(r,c)}}function jm(r,o){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var _=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var M={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?_=S=M:S=S.next=M,c=c.next}while(c!==null);S===null?_=S=o:S=S.next=o}else _=S=o;c={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var km=!1;function Eu(){if(km){var r=Do;if(r!==null)throw r}}function Tu(r,o,c,p){km=!1;var _=r.updateQueue;$s=!1;var S=_.firstBaseUpdate,M=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var Y=I,he=Y.next;Y.next=null,M===null?S=he:M.next=he,M=Y;var ye=r.alternate;ye!==null&&(ye=ye.updateQueue,I=ye.lastBaseUpdate,I!==M&&(I===null?ye.firstBaseUpdate=he:I.next=he,ye.lastBaseUpdate=Y))}if(S!==null){var we=_.baseState;M=0,ye=he=Y=null,I=S;do{var me=I.lane&-536870913,pe=me!==I.lane;if(pe?(lt&me)===me:(p&me)===me){me!==0&&me===Ro&&(km=!0),ye!==null&&(ye=ye.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Me=r,Fe=I;me=o;var jt=c;switch(Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){we=Me.call(jt,we,me);break e}we=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,me=typeof Me=="function"?Me.call(jt,we,me):Me,me==null)break e;we=v({},we,me);break e;case 2:$s=!0}}me=I.callback,me!==null&&(r.flags|=64,pe&&(r.flags|=8192),pe=_.callbacks,pe===null?_.callbacks=[me]:pe.push(me))}else pe={lane:me,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ye===null?(he=ye=pe,Y=we):ye=ye.next=pe,M|=me;if(I=I.next,I===null){if(I=_.shared.pending,I===null)break;pe=I,I=pe.next,pe.next=null,_.lastBaseUpdate=pe,_.shared.pending=null}}while(!0);ye===null&&(Y=we),_.baseState=Y,_.firstBaseUpdate=he,_.lastBaseUpdate=ye,S===null&&(_.shared.lanes=0),Rs|=M,r.lanes=M,r.memoizedState=we}}function F1(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function q1(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)F1(c[r],o)}var Bo=R(null),Ud=R(0);function Z1(r,o){r=Jr,D(Ud,r),D(Bo,o),Jr=r|o.baseLanes}function $m(){D(Ud,Jr),D(Bo,Bo.current)}function Nm(){Jr=Ud.current,J(Bo),J(Ud)}var fi=R(null),Pi=null;function As(r){var o=r.alternate;D(Wt,Wt.current&1),D(fi,r),Pi===null&&(o===null||Bo.current!==null||o.memoizedState!==null)&&(Pi=r)}function Lm(r){D(Wt,Wt.current),D(fi,r),Pi===null&&(Pi=r)}function G1(r){r.tag===22?(D(Wt,Wt.current),D(fi,r),Pi===null&&(Pi=r)):Ps()}function Ps(){D(Wt,Wt.current),D(fi,fi.current)}function mi(r){J(fi),Pi===r&&(Pi=null),J(Wt)}var Wt=R(0);function Vd(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Dp(c)||zp(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qr=0,Qe=null,Et=null,rn=null,Hd=!1,Uo=!1,Ua=!1,Fd=0,ju=0,Vo=null,QC=0;function Zt(){throw Error(i(321))}function Am(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!yn(r[c],o[c]))return!1;return!0}function Pm(r,o,c,p,_,S){return qr=S,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=r===null||r.memoizedState===null?Nv:Km,Ua=!1,S=c(p,_),Ua=!1,Uo&&(S=W1(o,c,p,_)),K1(r),S}function K1(r){V.H=Nu;var o=Et!==null&&Et.next!==null;if(qr=0,rn=Et=Qe=null,Hd=!1,ju=0,Vo=null,o)throw Error(i(300));r===null||sn||(r=r.dependencies,r!==null&&Md(r)&&(sn=!0))}function W1(r,o,c,p){Qe=r;var _=0;do{if(Uo&&(Vo=null),ju=0,Uo=!1,25<=_)throw Error(i(301));if(_+=1,rn=Et=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}V.H=Lv,S=o(c,p)}while(Uo);return S}function JC(){var r=V.H,o=r.useState()[0];return o=typeof o.then=="function"?ku(o):o,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(Qe.flags|=1024),o}function Mm(){var r=Fd!==0;return Fd=0,r}function Om(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Rm(r){if(Hd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Hd=!1}qr=0,rn=Et=Qe=null,Uo=!1,ju=Fd=0,Vo=null}function Bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Qe.memoizedState=rn=r:rn=rn.next=r,rn}function Yt(){if(Et===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var o=rn===null?Qe.memoizedState:rn.next;if(o!==null)rn=o,Et=r;else{if(r===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},rn===null?Qe.memoizedState=rn=r:rn=rn.next=r}return rn}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(r){var o=ju;return ju+=1,Vo===null&&(Vo=[]),r=I1(Vo,r,o),o=Qe,(rn===null?o.memoizedState:rn.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?Nv:Km),r}function Zd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ku(r);if(r.$$typeof===N)return Sn(r)}throw Error(i(438,String(r)))}function Dm(r){var o=null,c=Qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var p=Qe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=qd(),Qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),p=0;p<r;p++)c[p]=W;return o.index++,c}function Zr(r,o){return typeof o=="function"?o(r):o}function Gd(r){var o=Yt();return zm(o,Et,r)}function zm(r,o,c){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=c;var _=r.baseQueue,S=p.pending;if(S!==null){if(_!==null){var M=_.next;_.next=S.next,S.next=M}o.baseQueue=_=S,p.pending=null}if(S=r.baseState,_===null)r.memoizedState=S;else{o=_.next;var I=M=null,Y=null,he=o,ye=!1;do{var we=he.lane&-536870913;if(we!==he.lane?(lt&we)===we:(qr&we)===we){var me=he.revertLane;if(me===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),we===Ro&&(ye=!0);else if((qr&me)===me){he=he.next,me===Ro&&(ye=!0);continue}else we={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Y===null?(I=Y=we,M=S):Y=Y.next=we,Qe.lanes|=me,Rs|=me;we=he.action,Ua&&c(S,we),S=he.hasEagerState?he.eagerState:c(S,we)}else me={lane:we,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Y===null?(I=Y=me,M=S):Y=Y.next=me,Qe.lanes|=we,Rs|=we;he=he.next}while(he!==null&&he!==o);if(Y===null?M=S:Y.next=I,!yn(S,r.memoizedState)&&(sn=!0,ye&&(c=Do,c!==null)))throw c;r.memoizedState=S,r.baseState=M,r.baseQueue=Y,p.lastRenderedState=S}return _===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Im(r){var o=Yt(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var p=c.dispatch,_=c.pending,S=o.memoizedState;if(_!==null){c.pending=null;var M=_=_.next;do S=r(S,M.action),M=M.next;while(M!==_);yn(S,o.memoizedState)||(sn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),c.lastRenderedState=S}return[S,p]}function Y1(r,o,c){var p=Qe,_=Yt(),S=rt;if(S){if(c===void 0)throw Error(i(407));c=c()}else c=o();var M=!yn((Et||_).memoizedState,c);if(M&&(_.memoizedState=c,sn=!0),_=_.queue,Vm(J1.bind(null,p,_,r),[r]),_.getSnapshot!==o||M||rn!==null&&rn.memoizedState.tag&1){if(p.flags|=2048,Ho(9,{destroy:void 0},Q1.bind(null,p,_,c,o),null),$t===null)throw Error(i(349));S||(qr&127)!==0||X1(p,o,c)}return c}function X1(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Qe.updateQueue,o===null?(o=qd(),Qe.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function Q1(r,o,c,p){o.value=c,o.getSnapshot=p,ev(o)&&tv(r)}function J1(r,o,c){return c(function(){ev(o)&&tv(r)})}function ev(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!yn(r,c)}catch{return!0}}function tv(r){var o=Li(r,2);o!==null&&ii(o,r,2)}function Bm(r){var o=Bn();if(typeof r=="function"){var c=r;if(r=c(),Ua){xn(!0);try{c()}finally{xn(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:r},o}function nv(r,o,c,p){return r.baseState=c,zm(r,Et,typeof p=="function"?p:Zr)}function e6(r,o,c,p,_){if(Yd(r))throw Error(i(485));if(r=o.action,r!==null){var S={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};V.T!==null?c(!0):S.isTransition=!1,p(S),c=o.pending,c===null?(S.next=o.pending=S,iv(o,S)):(S.next=c.next,o.pending=c.next=S)}}function iv(r,o){var c=o.action,p=o.payload,_=r.state;if(o.isTransition){var S=V.T,M={};V.T=M;try{var I=c(_,p),Y=V.S;Y!==null&&Y(M,I),rv(r,o,I)}catch(he){Um(r,o,he)}finally{S!==null&&M.types!==null&&(S.types=M.types),V.T=S}}else try{S=c(_,p),rv(r,o,S)}catch(he){Um(r,o,he)}}function rv(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){sv(r,o,p)},function(p){return Um(r,o,p)}):sv(r,o,c)}function sv(r,o,c){o.status="fulfilled",o.value=c,av(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,iv(r,c)))}function Um(r,o,c){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=c,av(o),o=o.next;while(o!==p)}r.action=null}function av(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function ov(r,o){return o}function lv(r,o){if(rt){var c=$t.formState;if(c!==null){e:{var p=Qe;if(rt){if(ft){t:{for(var _=ft,S=Qn;_.nodeType!==8;){if(!S){_=null;break t}if(_=Mi(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){ft=Mi(_.nextSibling),p=_.data==="F!";break e}}br(p)}p=!1}p&&(o=c[0])}}return c=Bn(),c.memoizedState=c.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:o},c.queue=p,c=jv.bind(null,Qe,p),p.dispatch=c,p=Bm(!1),S=Gm.bind(null,Qe,!1,p.queue),p=Bn(),_={state:o,dispatch:null,action:r,pending:null},p.queue=_,c=e6.bind(null,Qe,_,S,c),_.dispatch=c,p.memoizedState=r,[o,c,!1]}function uv(r){var o=Yt();return cv(o,Et,r)}function cv(r,o,c){if(o=zm(r,o,ov)[0],r=Gd(Zr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=ku(o)}catch(M){throw M===zo?Dd:M}else p=o;o=Yt();var _=o.queue,S=_.dispatch;return c!==o.memoizedState&&(Qe.flags|=2048,Ho(9,{destroy:void 0},t6.bind(null,_,c),null)),[p,S,r]}function t6(r,o){r.action=o}function dv(r){var o=Yt(),c=Et;if(c!==null)return cv(o,c,r);Yt(),o=o.memoizedState,c=Yt();var p=c.queue.dispatch;return c.memoizedState=r,[o,p,!1]}function Ho(r,o,c,p){return r={tag:r,create:c,deps:p,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=qd(),Qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,o.lastEffect=r),r}function hv(){return Yt().memoizedState}function Kd(r,o,c,p){var _=Bn();Qe.flags|=r,_.memoizedState=Ho(1|o,{destroy:void 0},c,p===void 0?null:p)}function Wd(r,o,c,p){var _=Yt();p=p===void 0?null:p;var S=_.memoizedState.inst;Et!==null&&p!==null&&Am(p,Et.memoizedState.deps)?_.memoizedState=Ho(o,S,c,p):(Qe.flags|=r,_.memoizedState=Ho(1|o,S,c,p))}function fv(r,o){Kd(8390656,8,r,o)}function Vm(r,o){Wd(2048,8,r,o)}function n6(r){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=qd(),Qe.updateQueue=o,o.events=[r];else{var c=o.events;c===null?o.events=[r]:c.push(r)}}function mv(r){var o=Yt().memoizedState;return n6({ref:o,nextImpl:r}),function(){if((gt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function pv(r,o){return Wd(4,2,r,o)}function gv(r,o){return Wd(4,4,r,o)}function yv(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function vv(r,o,c){c=c!=null?c.concat([r]):null,Wd(4,4,yv.bind(null,o,r),c)}function Hm(){}function bv(r,o){var c=Yt();o=o===void 0?null:o;var p=c.memoizedState;return o!==null&&Am(o,p[1])?p[0]:(c.memoizedState=[r,o],r)}function _v(r,o){var c=Yt();o=o===void 0?null:o;var p=c.memoizedState;if(o!==null&&Am(o,p[1]))return p[0];if(p=r(),Ua){xn(!0);try{r()}finally{xn(!1)}}return c.memoizedState=[p,o],p}function Fm(r,o,c){return c===void 0||(qr&1073741824)!==0&&(lt&261930)===0?r.memoizedState=o:(r.memoizedState=c,r=xb(),Qe.lanes|=r,Rs|=r,c)}function xv(r,o,c,p){return yn(c,o)?c:Bo.current!==null?(r=Fm(r,c,p),yn(r,o)||(sn=!0),r):(qr&42)===0||(qr&1073741824)!==0&&(lt&261930)===0?(sn=!0,r.memoizedState=c):(r=xb(),Qe.lanes|=r,Rs|=r,o)}function wv(r,o,c,p,_){var S=G.p;G.p=S!==0&&8>S?S:8;var M=V.T,I={};V.T=I,Gm(r,!1,o,c);try{var Y=_(),he=V.S;if(he!==null&&he(I,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ye=XC(Y,p);$u(r,o,ye,yi(r))}else $u(r,o,p,yi(r))}catch(we){$u(r,o,{then:function(){},status:"rejected",reason:we},yi())}finally{G.p=S,M!==null&&I.types!==null&&(M.types=I.types),V.T=M}}function i6(){}function qm(r,o,c,p){if(r.tag!==5)throw Error(i(476));var _=Sv(r).queue;wv(r,_,o,re,c===null?i6:function(){return Cv(r),c(p)})}function Sv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:re},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Cv(r){var o=Sv(r);o.next===null&&(o=r.alternate.memoizedState),$u(r,o.next.queue,{},yi())}function Zm(){return Sn(Zu)}function Ev(){return Yt().memoizedState}function Tv(){return Yt().memoizedState}function r6(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=yi();r=Ns(c);var p=Ls(o,r,c);p!==null&&(ii(p,o,c),Cu(p,o,c)),o={cache:xm()},r.payload=o;return}o=o.return}}function s6(r,o,c){var p=yi();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yd(r)?kv(o,c):(c=mu(r,o,c,p),c!==null&&(ii(c,r,p),$v(c,o,p)))}function jv(r,o,c){var p=yi();$u(r,o,c,p)}function $u(r,o,c,p){var _={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yd(r))kv(o,_);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var M=o.lastRenderedState,I=S(M,c);if(_.hasEagerState=!0,_.eagerState=I,yn(I,M))return yr(r,o,_,0),$t===null&&La(),!1}catch{}finally{}if(c=mu(r,o,_,p),c!==null)return ii(c,r,p),$v(c,o,p),!0}return!1}function Gm(r,o,c,p){if(p={lane:2,revertLane:Ep(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Yd(r)){if(o)throw Error(i(479))}else o=mu(r,c,p,2),o!==null&&ii(o,r,2)}function Yd(r){var o=r.alternate;return r===Qe||o!==null&&o===Qe}function kv(r,o){Uo=Hd=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function $v(r,o,c){if((c&4194048)!==0){var p=o.lanes;p&=r.pendingLanes,c|=p,o.lanes=c,od(r,c)}}var Nu={readContext:Sn,use:Zd,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt};Nu.useEffectEvent=Zt;var Nv={readContext:Sn,use:Zd,useCallback:function(r,o){return Bn().memoizedState=[r,o===void 0?null:o],r},useContext:Sn,useEffect:fv,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,Kd(4194308,4,yv.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Kd(4194308,4,r,o)},useInsertionEffect:function(r,o){Kd(4,2,r,o)},useMemo:function(r,o){var c=Bn();o=o===void 0?null:o;var p=r();if(Ua){xn(!0);try{r()}finally{xn(!1)}}return c.memoizedState=[p,o],p},useReducer:function(r,o,c){var p=Bn();if(c!==void 0){var _=c(o);if(Ua){xn(!0);try{c(o)}finally{xn(!1)}}}else _=o;return p.memoizedState=p.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},p.queue=r,r=r.dispatch=s6.bind(null,Qe,r),[p.memoizedState,r]},useRef:function(r){var o=Bn();return r={current:r},o.memoizedState=r},useState:function(r){r=Bm(r);var o=r.queue,c=jv.bind(null,Qe,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Hm,useDeferredValue:function(r,o){var c=Bn();return Fm(c,r,o)},useTransition:function(){var r=Bm(!1);return r=wv.bind(null,Qe,r.queue,!0,!1),Bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var p=Qe,_=Bn();if(rt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),$t===null)throw Error(i(349));(lt&127)!==0||X1(p,o,c)}_.memoizedState=c;var S={value:c,getSnapshot:o};return _.queue=S,fv(J1.bind(null,p,S,r),[r]),p.flags|=2048,Ho(9,{destroy:void 0},Q1.bind(null,p,S,c,o),null),c},useId:function(){var r=Bn(),o=$t.identifierPrefix;if(rt){var c=Ne,p=xe;c=(p&~(1<<32-bt(p)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Fd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=QC++,o="_"+o+"r_"+c.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Zm,useFormState:lv,useActionState:lv,useOptimistic:function(r){var o=Bn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Gm.bind(null,Qe,!0,c),c.dispatch=o,[r,o]},useMemoCache:Dm,useCacheRefresh:function(){return Bn().memoizedState=r6.bind(null,Qe)},useEffectEvent:function(r){var o=Bn(),c={impl:r};return o.memoizedState=c,function(){if((gt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Km={readContext:Sn,use:Zd,useCallback:bv,useContext:Sn,useEffect:Vm,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:Gd,useRef:hv,useState:function(){return Gd(Zr)},useDebugValue:Hm,useDeferredValue:function(r,o){var c=Yt();return xv(c,Et.memoizedState,r,o)},useTransition:function(){var r=Gd(Zr)[0],o=Yt().memoizedState;return[typeof r=="boolean"?r:ku(r),o]},useSyncExternalStore:Y1,useId:Ev,useHostTransitionStatus:Zm,useFormState:uv,useActionState:uv,useOptimistic:function(r,o){var c=Yt();return nv(c,Et,r,o)},useMemoCache:Dm,useCacheRefresh:Tv};Km.useEffectEvent=mv;var Lv={readContext:Sn,use:Zd,useCallback:bv,useContext:Sn,useEffect:Vm,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:Im,useRef:hv,useState:function(){return Im(Zr)},useDebugValue:Hm,useDeferredValue:function(r,o){var c=Yt();return Et===null?Fm(c,r,o):xv(c,Et.memoizedState,r,o)},useTransition:function(){var r=Im(Zr)[0],o=Yt().memoizedState;return[typeof r=="boolean"?r:ku(r),o]},useSyncExternalStore:Y1,useId:Ev,useHostTransitionStatus:Zm,useFormState:dv,useActionState:dv,useOptimistic:function(r,o){var c=Yt();return Et!==null?nv(c,Et,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:Tv};Lv.useEffectEvent=mv;function Wm(r,o,c,p){o=r.memoizedState,c=c(p,o),c=c==null?o:v({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ym={enqueueSetState:function(r,o,c){r=r._reactInternals;var p=yi(),_=Ns(p);_.payload=o,c!=null&&(_.callback=c),o=Ls(r,_,p),o!==null&&(ii(o,r,p),Cu(o,r,p))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var p=yi(),_=Ns(p);_.tag=1,_.payload=o,c!=null&&(_.callback=c),o=Ls(r,_,p),o!==null&&(ii(o,r,p),Cu(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=yi(),p=Ns(c);p.tag=2,o!=null&&(p.callback=o),o=Ls(r,p,c),o!==null&&(ii(o,r,c),Cu(o,r,c))}};function Av(r,o,c,p,_,S,M){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,S,M):o.prototype&&o.prototype.isPureReactComponent?!Ss(c,p)||!Ss(_,S):!0}function Pv(r,o,c,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==r&&Ym.enqueueReplaceState(o,o.state,null)}function Va(r,o){var c=o;if("ref"in o){c={};for(var p in o)p!=="ref"&&(c[p]=o[p])}if(r=r.defaultProps){c===o&&(c=v({},c));for(var _ in r)c[_]===void 0&&(c[_]=r[_])}return c}function Mv(r){Na(r)}function Ov(r){console.error(r)}function Rv(r){Na(r)}function Xd(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Dv(r,o,c){try{var p=r.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Xm(r,o,c){return c=Ns(c),c.tag=3,c.payload={element:null},c.callback=function(){Xd(r,o)},c}function zv(r){return r=Ns(r),r.tag=3,r}function Iv(r,o,c,p){var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var S=p.value;r.payload=function(){return _(S)},r.callback=function(){Dv(o,c,p)}}var M=c.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(r.callback=function(){Dv(o,c,p),typeof _!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function a6(r,o,c,p,_){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=c.alternate,o!==null&&Oo(o,c,_,!0),c=fi.current,c!==null){switch(c.tag){case 31:case 13:return Pi===null?uh():c.alternate===null&&Gt===0&&(Gt=3),c.flags&=-257,c.flags|=65536,c.lanes=_,p===zd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([p]):o.add(p),wp(r,p,_)),!1;case 22:return c.flags|=65536,p===zd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([p]):c.add(p)),wp(r,p,_)),!1}throw Error(i(435,c.tag))}return wp(r,p,_),uh(),!1}if(rt)return o=fi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,p!==Mo&&(r=Error(i(422),{cause:p}),Ma(m(r,c)))):(p!==Mo&&(o=Error(i(423),{cause:p}),Ma(m(o,c))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,p=m(p,c),_=Xm(r.stateNode,p,_),jm(r,_),Gt!==4&&(Gt=2)),!1;var S=Error(i(520),{cause:p});if(S=m(S,c),zu===null?zu=[S]:zu.push(S),Gt!==4&&(Gt=2),o===null)return!0;p=m(p,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=_&-_,c.lanes|=r,r=Xm(c.stateNode,p,r),jm(c,r),!1;case 1:if(o=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ds===null||!Ds.has(S))))return c.flags|=65536,_&=-_,c.lanes|=_,_=zv(_),Iv(_,r,c,p),jm(c,_),!1}c=c.return}while(c!==null);return!1}var Qm=Error(i(461)),sn=!1;function Cn(r,o,c,p){o.child=r===null?H1(o,null,c,p):Ba(o,r.child,c,p)}function Bv(r,o,c,p,_){c=c.render;var S=o.ref;if("ref"in p){var M={};for(var I in p)I!=="ref"&&(M[I]=p[I])}else M=p;return Ra(o),p=Pm(r,o,c,M,S,_),I=Mm(),r!==null&&!sn?(Om(r,o,_),Gr(r,o,_)):(rt&&I&&dn(o),o.flags|=1,Cn(r,o,p,_),o.child)}function Uv(r,o,c,p,_){if(r===null){var S=c.type;return typeof S=="function"&&!Ao(S)&&S.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=S,Vv(r,o,S,p,_)):(r=Pa(c.type,null,p,o,o.mode,_),r.ref=o.ref,r.return=o,o.child=r)}if(S=r.child,!ap(r,_)){var M=S.memoizedProps;if(c=c.compare,c=c!==null?c:Ss,c(M,p)&&r.ref===o.ref)return Gr(r,o,_)}return o.flags|=1,r=Ai(S,p),r.ref=o.ref,r.return=o,o.child=r}function Vv(r,o,c,p,_){if(r!==null){var S=r.memoizedProps;if(Ss(S,p)&&r.ref===o.ref)if(sn=!1,o.pendingProps=p=S,ap(r,_))(r.flags&131072)!==0&&(sn=!0);else return o.lanes=r.lanes,Gr(r,o,_)}return Jm(r,o,c,p,_)}function Hv(r,o,c,p){var _=p.children,S=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,r!==null){for(p=o.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~S}else p=0,o.child=null;return Fv(r,o,S,c,p)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rd(o,S!==null?S.cachePool:null),S!==null?Z1(o,S):$m(),G1(o);else return p=o.lanes=536870912,Fv(r,o,S!==null?S.baseLanes|c:c,c,p)}else S!==null?(Rd(o,S.cachePool),Z1(o,S),Ps(),o.memoizedState=null):(r!==null&&Rd(o,null),$m(),Ps());return Cn(r,o,_,c),o.child}function Lu(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Fv(r,o,c,p,_){var S=Sm();return S=S===null?null:{parent:nn._currentValue,pool:S},o.memoizedState={baseLanes:c,cachePool:S},r!==null&&Rd(o,null),$m(),G1(o),r!==null&&Oo(r,o,p,!0),o.childLanes=_,null}function Qd(r,o){return o=eh({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function qv(r,o,c){return Ba(o,r.child,null,c),r=Qd(o,o.pendingProps),r.flags|=2,mi(o),o.memoizedState=null,r}function o6(r,o,c){var p=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(rt){if(p.mode==="hidden")return r=Qd(o,p),o.lanes=536870912,Lu(null,r);if(Lm(o),(r=ft)?(r=i_(r,Qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:fe!==null?{id:xe,overflow:Ne}:null,retryLane:536870912,hydrationErrors:null},c=gu(r),c.return=o,o.child=c,ht=o,ft=null)):r=null,r===null)throw br(o);return o.lanes=536870912,null}return Qd(o,p)}var S=r.memoizedState;if(S!==null){var M=S.dehydrated;if(Lm(o),_)if(o.flags&256)o.flags&=-257,o=qv(r,o,c);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(sn||Oo(r,o,c,!1),_=(c&r.childLanes)!==0,sn||_){if(p=$t,p!==null&&(M=ld(p,c),M!==0&&M!==S.retryLane))throw S.retryLane=M,Li(r,M),ii(p,r,M),Qm;uh(),o=qv(r,o,c)}else r=S.treeContext,ft=Mi(M.nextSibling),ht=o,rt=!0,vr=null,Qn=!1,r!==null&&In(o,r),o=Qd(o,p),o.flags|=4096;return o}return r=Ai(r.child,{mode:p.mode,children:p.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Jd(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function Jm(r,o,c,p,_){return Ra(o),c=Pm(r,o,c,p,void 0,_),p=Mm(),r!==null&&!sn?(Om(r,o,_),Gr(r,o,_)):(rt&&p&&dn(o),o.flags|=1,Cn(r,o,c,_),o.child)}function Zv(r,o,c,p,_,S){return Ra(o),o.updateQueue=null,c=W1(o,p,c,_),K1(r),p=Mm(),r!==null&&!sn?(Om(r,o,S),Gr(r,o,S)):(rt&&p&&dn(o),o.flags|=1,Cn(r,o,c,S),o.child)}function Gv(r,o,c,p,_){if(Ra(o),o.stateNode===null){var S=Ur,M=c.contextType;typeof M=="object"&&M!==null&&(S=Sn(M)),S=new c(p,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Ym,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=p,S.state=o.memoizedState,S.refs={},Em(o),M=c.contextType,S.context=typeof M=="object"&&M!==null?Sn(M):Ur,S.state=o.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(Wm(o,c,M,p),S.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&Ym.enqueueReplaceState(S,S.state,null),Tu(o,p,S,_),Eu(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(r===null){S=o.stateNode;var I=o.memoizedProps,Y=Va(c,I);S.props=Y;var he=S.context,ye=c.contextType;M=Ur,typeof ye=="object"&&ye!==null&&(M=Sn(ye));var we=c.getDerivedStateFromProps;ye=typeof we=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ye||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||he!==M)&&Pv(o,S,p,M),$s=!1;var me=o.memoizedState;S.state=me,Tu(o,p,S,_),Eu(),he=o.memoizedState,I||me!==he||$s?(typeof we=="function"&&(Wm(o,c,we,p),he=o.memoizedState),(Y=$s||Av(o,c,Y,p,me,he,M))?(ye||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=he),S.props=p,S.state=he,S.context=M,p=Y):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,Tm(r,o),M=o.memoizedProps,ye=Va(c,M),S.props=ye,we=o.pendingProps,me=S.context,he=c.contextType,Y=Ur,typeof he=="object"&&he!==null&&(Y=Sn(he)),I=c.getDerivedStateFromProps,(he=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==we||me!==Y)&&Pv(o,S,p,Y),$s=!1,me=o.memoizedState,S.state=me,Tu(o,p,S,_),Eu();var pe=o.memoizedState;M!==we||me!==pe||$s||r!==null&&r.dependencies!==null&&Md(r.dependencies)?(typeof I=="function"&&(Wm(o,c,I,p),pe=o.memoizedState),(ye=$s||Av(o,c,ye,p,me,pe,Y)||r!==null&&r.dependencies!==null&&Md(r.dependencies))?(he||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,pe,Y),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,pe,Y)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===r.memoizedProps&&me===r.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&me===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=pe),S.props=p,S.state=pe,S.context=Y,p=ye):(typeof S.componentDidUpdate!="function"||M===r.memoizedProps&&me===r.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&me===r.memoizedState||(o.flags|=1024),p=!1)}return S=p,Jd(r,o),p=(o.flags&128)!==0,S||p?(S=o.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,r!==null&&p?(o.child=Ba(o,r.child,null,_),o.child=Ba(o,null,c,_)):Cn(r,o,c,_),o.memoizedState=S.state,r=o.child):r=Gr(r,o,_),r}function Kv(r,o,c,p){return Hr(),o.flags|=256,Cn(r,o,c,p),o.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(r){return{baseLanes:r,cachePool:D1()}}function np(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=gi),r}function Wv(r,o,c){var p=o.pendingProps,_=!1,S=(o.flags&128)!==0,M;if((M=S)||(M=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),M&&(_=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,r===null){if(rt){if(_?As(o):Ps(),(r=ft)?(r=i_(r,Qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:fe!==null?{id:xe,overflow:Ne}:null,retryLane:536870912,hydrationErrors:null},c=gu(r),c.return=o,o.child=c,ht=o,ft=null)):r=null,r===null)throw br(o);return zp(r)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,_?(Ps(),_=o.mode,I=eh({mode:"hidden",children:I},_),p=Vr(p,_,c,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=tp(c),p.childLanes=np(r,M,c),o.memoizedState=ep,Lu(null,p)):(As(o),ip(o,I))}var Y=r.memoizedState;if(Y!==null&&(I=Y.dehydrated,I!==null)){if(S)o.flags&256?(As(o),o.flags&=-257,o=rp(r,o,c)):o.memoizedState!==null?(Ps(),o.child=r.child,o.flags|=128,o=null):(Ps(),I=p.fallback,_=o.mode,p=eh({mode:"visible",children:p.children},_),I=Vr(I,_,c,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,Ba(o,r.child,null,c),p=o.child,p.memoizedState=tp(c),p.childLanes=np(r,M,c),o.memoizedState=ep,o=Lu(null,p));else if(As(o),zp(I)){if(M=I.nextSibling&&I.nextSibling.dataset,M)var he=M.dgst;M=he,p=Error(i(419)),p.stack="",p.digest=M,Ma({value:p,source:null,stack:null}),o=rp(r,o,c)}else if(sn||Oo(r,o,c,!1),M=(c&r.childLanes)!==0,sn||M){if(M=$t,M!==null&&(p=ld(M,c),p!==0&&p!==Y.retryLane))throw Y.retryLane=p,Li(r,p),ii(M,r,p),Qm;Dp(I)||uh(),o=rp(r,o,c)}else Dp(I)?(o.flags|=192,o.child=r.child,o=null):(r=Y.treeContext,ft=Mi(I.nextSibling),ht=o,rt=!0,vr=null,Qn=!1,r!==null&&In(o,r),o=ip(o,p.children),o.flags|=4096);return o}return _?(Ps(),I=p.fallback,_=o.mode,Y=r.child,he=Y.sibling,p=Ai(Y,{mode:"hidden",children:p.children}),p.subtreeFlags=Y.subtreeFlags&65011712,he!==null?I=Ai(he,I):(I=Vr(I,_,c,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,Lu(null,p),p=o.child,I=r.child.memoizedState,I===null?I=tp(c):(_=I.cachePool,_!==null?(Y=nn._currentValue,_=_.parent!==Y?{parent:Y,pool:Y}:_):_=D1(),I={baseLanes:I.baseLanes|c,cachePool:_}),p.memoizedState=I,p.childLanes=np(r,M,c),o.memoizedState=ep,Lu(r.child,p)):(As(o),c=r.child,r=c.sibling,c=Ai(c,{mode:"visible",children:p.children}),c.return=o,c.sibling=null,r!==null&&(M=o.deletions,M===null?(o.deletions=[r],o.flags|=16):M.push(r)),o.child=c,o.memoizedState=null,c)}function ip(r,o){return o=eh({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function eh(r,o){return r=Nn(22,r,null,o),r.lanes=0,r}function rp(r,o,c){return Ba(o,r.child,null,c),r=ip(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Yv(r,o,c){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),bm(r.return,o,c)}function sp(r,o,c,p,_,S){var M=r.memoizedState;M===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:_,treeForkCount:S}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=p,M.tail=c,M.tailMode=_,M.treeForkCount=S)}function Xv(r,o,c){var p=o.pendingProps,_=p.revealOrder,S=p.tail;p=p.children;var M=Wt.current,I=(M&2)!==0;if(I?(M=M&1|2,o.flags|=128):M&=1,D(Wt,M),Cn(r,o,p,c),p=rt?z:0,!I&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Yv(r,c,o);else if(r.tag===19)Yv(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(_){case"forwards":for(c=o.child,_=null;c!==null;)r=c.alternate,r!==null&&Vd(r)===null&&(_=c),c=c.sibling;c=_,c===null?(_=o.child,o.child=null):(_=c.sibling,c.sibling=null),sp(o,!1,_,c,S,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,_=o.child,o.child=null;_!==null;){if(r=_.alternate,r!==null&&Vd(r)===null){o.child=_;break}r=_.sibling,_.sibling=c,c=_,_=r}sp(o,!0,c,null,S,p);break;case"together":sp(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Gr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Rs|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Oo(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=Ai(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Ai(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function ap(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Md(r)))}function l6(r,o,c){switch(o.tag){case 3:Ee(o,o.stateNode.containerInfo),ks(o,nn,r.memoizedState.cache),Hr();break;case 27:case 5:_e(o);break;case 4:Ee(o,o.stateNode.containerInfo);break;case 10:ks(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Lm(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(As(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Wv(r,o,c):(As(o),r=Gr(r,o,c),r!==null?r.sibling:null);As(o);break;case 19:var _=(r.flags&128)!==0;if(p=(c&o.childLanes)!==0,p||(Oo(r,o,c,!1),p=(c&o.childLanes)!==0),_){if(p)return Xv(r,o,c);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),D(Wt,Wt.current),p)break;return null;case 22:return o.lanes=0,Hv(r,o,c,o.pendingProps);case 24:ks(o,nn,r.memoizedState.cache)}return Gr(r,o,c)}function Qv(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)sn=!0;else{if(!ap(r,c)&&(o.flags&128)===0)return sn=!1,l6(r,o,c);sn=(r.flags&131072)!==0}else sn=!1,rt&&(o.flags&1048576)!==0&&Je(o,z,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(r=za(o.elementType),o.type=r,typeof r=="function")Ao(r)?(p=Va(r,p),o.tag=1,o=Gv(null,o,r,p,c)):(o.tag=0,o=Jm(null,o,r,p,c));else{if(r!=null){var _=r.$$typeof;if(_===U){o.tag=11,o=Bv(null,o,r,p,c);break e}else if(_===Z){o.tag=14,o=Uv(null,o,r,p,c);break e}}throw o=Q(r)||r,Error(i(306,o,""))}}return o;case 0:return Jm(r,o,o.type,o.pendingProps,c);case 1:return p=o.type,_=Va(p,o.pendingProps),Gv(r,o,p,_,c);case 3:e:{if(Ee(o,o.stateNode.containerInfo),r===null)throw Error(i(387));p=o.pendingProps;var S=o.memoizedState;_=S.element,Tm(r,o),Tu(o,p,null,c);var M=o.memoizedState;if(p=M.cache,ks(o,nn,p),p!==S.cache&&_m(o,[nn],c,!0),Eu(),p=M.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=Kv(r,o,p,c);break e}else if(p!==_){_=m(Error(i(424)),o),Ma(_),o=Kv(r,o,p,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ft=Mi(r.firstChild),ht=o,rt=!0,vr=null,Qn=!0,c=H1(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Hr(),p===_){o=Gr(r,o,c);break e}Cn(r,o,p,c)}o=o.child}return o;case 26:return Jd(r,o),r===null?(c=u_(o.type,null,o.pendingProps,null))?o.memoizedState=c:rt||(c=o.type,r=o.pendingProps,p=gh(ue.current).createElement(c),p[en]=o,p[gn]=r,En(p,c,r),tn(p),o.stateNode=p):o.memoizedState=u_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return _e(o),r===null&&rt&&(p=o.stateNode=a_(o.type,o.pendingProps,ue.current),ht=o,Qn=!0,_=ft,Us(o.type)?(Ip=_,ft=Mi(p.firstChild)):ft=_),Cn(r,o,o.pendingProps.children,c),Jd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&rt&&((_=p=ft)&&(p=z6(p,o.type,o.pendingProps,Qn),p!==null?(o.stateNode=p,ht=o,ft=Mi(p.firstChild),Qn=!1,_=!0):_=!1),_||br(o)),_e(o),_=o.type,S=o.pendingProps,M=r!==null?r.memoizedProps:null,p=S.children,Mp(_,S)?p=null:M!==null&&Mp(_,M)&&(o.flags|=32),o.memoizedState!==null&&(_=Pm(r,o,JC,null,null,c),Zu._currentValue=_),Jd(r,o),Cn(r,o,p,c),o.child;case 6:return r===null&&rt&&((r=c=ft)&&(c=I6(c,o.pendingProps,Qn),c!==null?(o.stateNode=c,ht=o,ft=null,r=!0):r=!1),r||br(o)),null;case 13:return Wv(r,o,c);case 4:return Ee(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=Ba(o,null,p,c):Cn(r,o,p,c),o.child;case 11:return Bv(r,o,o.type,o.pendingProps,c);case 7:return Cn(r,o,o.pendingProps,c),o.child;case 8:return Cn(r,o,o.pendingProps.children,c),o.child;case 12:return Cn(r,o,o.pendingProps.children,c),o.child;case 10:return p=o.pendingProps,ks(o,o.type,p.value),Cn(r,o,p.children,c),o.child;case 9:return _=o.type._context,p=o.pendingProps.children,Ra(o),_=Sn(_),p=p(_),o.flags|=1,Cn(r,o,p,c),o.child;case 14:return Uv(r,o,o.type,o.pendingProps,c);case 15:return Vv(r,o,o.type,o.pendingProps,c);case 19:return Xv(r,o,c);case 31:return o6(r,o,c);case 22:return Hv(r,o,c,o.pendingProps);case 24:return Ra(o),p=Sn(nn),r===null?(_=Sm(),_===null&&(_=$t,S=xm(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=c),_=S),o.memoizedState={parent:p,cache:_},Em(o),ks(o,nn,_)):((r.lanes&c)!==0&&(Tm(r,o),Tu(o,null,null,c),Eu()),_=r.memoizedState,S=o.memoizedState,_.parent!==p?(_={parent:p,cache:p},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),ks(o,nn,p)):(p=S.cache,ks(o,nn,p),p!==_.cache&&_m(o,[nn],c,!0))),Cn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Kr(r){r.flags|=4}function op(r,o,c,p,_){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(_&335544128)===_)if(r.stateNode.complete)r.flags|=8192;else if(Eb())r.flags|=8192;else throw Ia=zd,Cm}else r.flags&=-16777217}function Jv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!m_(o))if(Eb())r.flags|=8192;else throw Ia=zd,Cm}function th(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?sd():536870912,r.lanes|=o,Go|=o)}function Au(r,o){if(!rt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Mt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(o)for(var _=r.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=p,r.childLanes=c,o}function u6(r,o,c){var p=o.pendingProps;switch(qt(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(o),null;case 1:return Mt(o),null;case 3:return c=o.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Fr(nn),Le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ki(o)?Kr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,bu())),Mt(o),null;case 26:var _=o.type,S=o.memoizedState;return r===null?(Kr(o),S!==null?(Mt(o),Jv(o,S)):(Mt(o),op(o,_,null,p,c))):S?S!==r.memoizedState?(Kr(o),Mt(o),Jv(o,S)):(Mt(o),o.flags&=-16777217):(r=r.memoizedProps,r!==p&&Kr(o),Mt(o),op(o,_,r,p,c)),null;case 27:if(ee(o),c=ue.current,_=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&Kr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return Mt(o),null}r=ce.current,Ki(o)?vu(o):(r=a_(_,p,c),o.stateNode=r,Kr(o))}return Mt(o),null;case 5:if(ee(o),_=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&Kr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return Mt(o),null}if(S=ce.current,Ki(o))vu(o);else{var M=gh(ue.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?M.createElement("select",{is:p.is}):M.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?M.createElement(_,{is:p.is}):M.createElement(_)}}S[en]=o,S[gn]=p;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=S;e:switch(En(S,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Kr(o)}}return Mt(o),op(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,c),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==p&&Kr(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(i(166));if(r=ue.current,Ki(o)){if(r=o.stateNode,c=o.memoizedProps,p=null,_=ht,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}r[en]=o,r=!!(r.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||Wb(r.nodeValue,c)),r||br(o,!0)}else r=gh(r).createTextNode(p),r[en]=o,o.stateNode=r}return Mt(o),null;case 31:if(c=o.memoizedState,r===null||r.memoizedState!==null){if(p=Ki(o),c!==null){if(r===null){if(!p)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[en]=o}else Hr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),r=!1}else c=bu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return o.flags&256?(mi(o),o):(mi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Mt(o),null;case 13:if(p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=Ki(o),p!==null&&p.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[en]=o}else Hr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),_=!1}else _=bu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(mi(o),o):(mi(o),null)}return mi(o),(o.flags&128)!==0?(o.lanes=c,o):(c=p!==null,r=r!==null&&r.memoizedState!==null,c&&(p=o.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==_&&(p.flags|=2048)),c!==r&&c&&(o.child.flags|=8192),th(o,o.updateQueue),Mt(o),null);case 4:return Le(),r===null&&$p(o.stateNode.containerInfo),Mt(o),null;case 10:return Fr(o.type),Mt(o),null;case 19:if(J(Wt),p=o.memoizedState,p===null)return Mt(o),null;if(_=(o.flags&128)!==0,S=p.rendering,S===null)if(_)Au(p,!1);else{if(Gt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(S=Vd(r),S!==null){for(o.flags|=128,Au(p,!1),r=S.updateQueue,o.updateQueue=r,th(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)pu(c,r),c=c.sibling;return D(Wt,Wt.current&1|2),rt&&Be(o,p.treeForkCount),o.child}r=r.sibling}p.tail!==null&&_n()>ah&&(o.flags|=128,_=!0,Au(p,!1),o.lanes=4194304)}else{if(!_)if(r=Vd(S),r!==null){if(o.flags|=128,_=!0,r=r.updateQueue,o.updateQueue=r,th(o,r),Au(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!rt)return Mt(o),null}else 2*_n()-p.renderingStartTime>ah&&c!==536870912&&(o.flags|=128,_=!0,Au(p,!1),o.lanes=4194304);p.isBackwards?(S.sibling=o.child,o.child=S):(r=p.last,r!==null?r.sibling=S:o.child=S,p.last=S)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=_n(),r.sibling=null,c=Wt.current,D(Wt,_?c&1|2:c&1),rt&&Be(o,p.treeForkCount),r):(Mt(o),null);case 22:case 23:return mi(o),Nm(),p=o.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(c&536870912)!==0&&(o.flags&128)===0&&(Mt(o),o.subtreeFlags&6&&(o.flags|=8192)):Mt(o),c=o.updateQueue,c!==null&&th(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==c&&(o.flags|=2048),r!==null&&J(Da),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Fr(nn),Mt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function c6(r,o){switch(qt(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Fr(nn),Le(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return ee(o),null;case 31:if(o.memoizedState!==null){if(mi(o),o.alternate===null)throw Error(i(340));Hr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(mi(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Hr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return J(Wt),null;case 4:return Le(),null;case 10:return Fr(o.type),null;case 22:case 23:return mi(o),Nm(),r!==null&&J(Da),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Fr(nn),null;case 25:return null;default:return null}}function eb(r,o){switch(qt(o),o.tag){case 3:Fr(nn),Le();break;case 26:case 27:case 5:ee(o);break;case 4:Le();break;case 31:o.memoizedState!==null&&mi(o);break;case 13:mi(o);break;case 19:J(Wt);break;case 10:Fr(o.type);break;case 22:case 23:mi(o),Nm(),r!==null&&J(Da);break;case 24:Fr(nn)}}function Pu(r,o){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&r)===r){p=void 0;var S=c.create,M=c.inst;p=S(),M.destroy=p}c=c.next}while(c!==_)}}catch(I){xt(o,o.return,I)}}function Ms(r,o,c){try{var p=o.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var S=_.next;p=S;do{if((p.tag&r)===r){var M=p.inst,I=M.destroy;if(I!==void 0){M.destroy=void 0,_=o;var Y=c,he=I;try{he()}catch(ye){xt(_,Y,ye)}}}p=p.next}while(p!==S)}}catch(ye){xt(o,o.return,ye)}}function tb(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{q1(o,c)}catch(p){xt(r,r.return,p)}}}function nb(r,o,c){c.props=Va(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(p){xt(r,o,p)}}function Mu(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof c=="function"?r.refCleanup=c(p):c.current=p}}catch(_){xt(r,o,_)}}function xr(r,o){var c=r.ref,p=r.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(_){xt(r,o,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(_){xt(r,o,_)}else c.current=null}function ib(r){var o=r.type,c=r.memoizedProps,p=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(_){xt(r,r.return,_)}}function lp(r,o,c){try{var p=r.stateNode;A6(p,r.type,c,o),p[gn]=o}catch(_){xt(r,r.return,_)}}function rb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Us(r.type)||r.tag===4}function up(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Us(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cp(r,o,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Kn));else if(p!==4&&(p===27&&Us(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(cp(r,o,c),r=r.sibling;r!==null;)cp(r,o,c),r=r.sibling}function nh(r,o,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(p!==4&&(p===27&&Us(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(nh(r,o,c),r=r.sibling;r!==null;)nh(r,o,c),r=r.sibling}function sb(r){var o=r.stateNode,c=r.memoizedProps;try{for(var p=r.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);En(o,p,c),o[en]=r,o[gn]=c}catch(S){xt(r,r.return,S)}}var Wr=!1,an=!1,dp=!1,ab=typeof WeakSet=="function"?WeakSet:Set,bn=null;function d6(r,o){if(r=r.containerInfo,Ap=Sh,r=Ta(r),fr(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var _=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var M=0,I=-1,Y=-1,he=0,ye=0,we=r,me=null;t:for(;;){for(var pe;we!==c||_!==0&&we.nodeType!==3||(I=M+_),we!==S||p!==0&&we.nodeType!==3||(Y=M+p),we.nodeType===3&&(M+=we.nodeValue.length),(pe=we.firstChild)!==null;)me=we,we=pe;for(;;){if(we===r)break t;if(me===c&&++he===_&&(I=M),me===S&&++ye===p&&(Y=M),(pe=we.nextSibling)!==null)break;we=me,me=we.parentNode}we=pe}c=I===-1||Y===-1?null:{start:I,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pp={focusedElem:r,selectionRange:c},Sh=!1,bn=o;bn!==null;)if(o=bn,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,bn=r;else for(;bn!==null;){switch(o=bn,S=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)_=r[c],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,c=o,_=S.memoizedProps,S=S.memoizedState,p=c.stateNode;try{var Me=Va(c.type,_);r=p.getSnapshotBeforeUpdate(Me,S),p.__reactInternalSnapshotBeforeUpdate=r}catch(Fe){xt(c,c.return,Fe)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Rp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,bn=r;break}bn=o.return}}function ob(r,o,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Xr(r,c),p&4&&Pu(5,c);break;case 1:if(Xr(r,c),p&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(M){xt(c,c.return,M)}else{var _=Va(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(_,o,r.__reactInternalSnapshotBeforeUpdate)}catch(M){xt(c,c.return,M)}}p&64&&tb(c),p&512&&Mu(c,c.return);break;case 3:if(Xr(r,c),p&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{q1(r,o)}catch(M){xt(c,c.return,M)}}break;case 27:o===null&&p&4&&sb(c);case 26:case 5:Xr(r,c),o===null&&p&4&&ib(c),p&512&&Mu(c,c.return);break;case 12:Xr(r,c);break;case 31:Xr(r,c),p&4&&cb(r,c);break;case 13:Xr(r,c),p&4&&db(r,c),p&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=_6.bind(null,c),B6(r,c))));break;case 22:if(p=c.memoizedState!==null||Wr,!p){o=o!==null&&o.memoizedState!==null||an,_=Wr;var S=an;Wr=p,(an=o)&&!S?Qr(r,c,(c.subtreeFlags&8772)!==0):Xr(r,c),Wr=_,an=S}break;case 30:break;default:Xr(r,c)}}function lb(r){var o=r.alternate;o!==null&&(r.alternate=null,lb(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Xl(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,Jn=!1;function Yr(r,o,c){for(c=c.child;c!==null;)ub(r,o,c),c=c.sibling}function ub(r,o,c){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(pn,c)}catch{}switch(c.tag){case 26:an||xr(c,o),Yr(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:an||xr(c,o);var p=Rt,_=Jn;Us(c.type)&&(Rt=c.stateNode,Jn=!1),Yr(r,o,c),Hu(c.stateNode),Rt=p,Jn=_;break;case 5:an||xr(c,o);case 6:if(p=Rt,_=Jn,Rt=null,Yr(r,o,c),Rt=p,Jn=_,Rt!==null)if(Jn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(c.stateNode)}catch(S){xt(c,o,S)}else try{Rt.removeChild(c.stateNode)}catch(S){xt(c,o,S)}break;case 18:Rt!==null&&(Jn?(r=Rt,t_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),tl(r)):t_(Rt,c.stateNode));break;case 4:p=Rt,_=Jn,Rt=c.stateNode.containerInfo,Jn=!0,Yr(r,o,c),Rt=p,Jn=_;break;case 0:case 11:case 14:case 15:Ms(2,c,o),an||Ms(4,c,o),Yr(r,o,c);break;case 1:an||(xr(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"&&nb(c,o,p)),Yr(r,o,c);break;case 21:Yr(r,o,c);break;case 22:an=(p=an)||c.memoizedState!==null,Yr(r,o,c),an=p;break;default:Yr(r,o,c)}}function cb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{tl(r)}catch(c){xt(o,o.return,c)}}}function db(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{tl(r)}catch(c){xt(o,o.return,c)}}function h6(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new ab),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new ab),o;default:throw Error(i(435,r.tag))}}function ih(r,o){var c=h6(r);o.forEach(function(p){if(!c.has(p)){c.add(p);var _=x6.bind(null,r,p);p.then(_,_)}})}function ei(r,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var _=c[p],S=r,M=o,I=M;e:for(;I!==null;){switch(I.tag){case 27:if(Us(I.type)){Rt=I.stateNode,Jn=!1;break e}break;case 5:Rt=I.stateNode,Jn=!1;break e;case 3:case 4:Rt=I.stateNode.containerInfo,Jn=!0;break e}I=I.return}if(Rt===null)throw Error(i(160));ub(S,M,_),Rt=null,Jn=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)hb(o,r),o=o.sibling}var Yi=null;function hb(r,o){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ei(o,r),ti(r),p&4&&(Ms(3,r,r.return),Pu(3,r),Ms(5,r,r.return));break;case 1:ei(o,r),ti(r),p&512&&(an||c===null||xr(c,c.return)),p&64&&Wr&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var _=Yi;if(ei(o,r),ti(r),p&512&&(an||c===null||xr(c,c.return)),p&4){var S=c!==null?c.memoizedState:null;if(p=r.memoizedState,c===null)if(p===null)if(r.stateNode===null){e:{p=r.type,c=r.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":S=_.getElementsByTagName("title")[0],(!S||S[ca]||S[en]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(p),_.head.insertBefore(S,_.querySelector("head > title"))),En(S,p,c),S[en]=r,tn(S),p=S;break e;case"link":var M=h_("link","href",_).get(p+(c.href||""));if(M){for(var I=0;I<M.length;I++)if(S=M[I],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){M.splice(I,1);break t}}S=_.createElement(p),En(S,p,c),_.head.appendChild(S);break;case"meta":if(M=h_("meta","content",_).get(p+(c.content||""))){for(I=0;I<M.length;I++)if(S=M[I],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){M.splice(I,1);break t}}S=_.createElement(p),En(S,p,c),_.head.appendChild(S);break;default:throw Error(i(468,p))}S[en]=r,tn(S),p=S}r.stateNode=p}else f_(_,r.type,r.stateNode);else r.stateNode=d_(_,p,r.memoizedProps);else S!==p?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,p===null?f_(_,r.type,r.stateNode):d_(_,p,r.memoizedProps)):p===null&&r.stateNode!==null&&lp(r,r.memoizedProps,c.memoizedProps)}break;case 27:ei(o,r),ti(r),p&512&&(an||c===null||xr(c,c.return)),c!==null&&p&4&&lp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ei(o,r),ti(r),p&512&&(an||c===null||xr(c,c.return)),r.flags&32){_=r.stateNode;try{Ei(_,"")}catch(Me){xt(r,r.return,Me)}}p&4&&r.stateNode!=null&&(_=r.memoizedProps,lp(r,_,c!==null?c.memoizedProps:_)),p&1024&&(dp=!0);break;case 6:if(ei(o,r),ti(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,c=r.stateNode;try{c.nodeValue=p}catch(Me){xt(r,r.return,Me)}}break;case 3:if(bh=null,_=Yi,Yi=yh(o.containerInfo),ei(o,r),Yi=_,ti(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{tl(o.containerInfo)}catch(Me){xt(r,r.return,Me)}dp&&(dp=!1,fb(r));break;case 4:p=Yi,Yi=yh(r.stateNode.containerInfo),ei(o,r),ti(r),Yi=p;break;case 12:ei(o,r),ti(r);break;case 31:ei(o,r),ti(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,ih(r,p)));break;case 13:ei(o,r),ti(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(sh=_n()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,ih(r,p)));break;case 22:_=r.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,he=Wr,ye=an;if(Wr=he||_,an=ye||Y,ei(o,r),an=ye,Wr=he,ti(r),p&8192)e:for(o=r.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(c===null||Y||Wr||an||Ha(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){Y=c=o;try{if(S=Y.stateNode,_)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{I=Y.stateNode;var we=Y.memoizedProps.style,me=we!=null&&we.hasOwnProperty("display")?we.display:null;I.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Me){xt(Y,Y.return,Me)}}}else if(o.tag===6){if(c===null){Y=o;try{Y.stateNode.nodeValue=_?"":Y.memoizedProps}catch(Me){xt(Y,Y.return,Me)}}}else if(o.tag===18){if(c===null){Y=o;try{var pe=Y.stateNode;_?n_(pe,!0):n_(Y.stateNode,!1)}catch(Me){xt(Y,Y.return,Me)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=r.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,ih(r,c))));break;case 19:ei(o,r),ti(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,ih(r,p)));break;case 30:break;case 21:break;default:ei(o,r),ti(r)}}function ti(r){var o=r.flags;if(o&2){try{for(var c,p=r.return;p!==null;){if(rb(p)){c=p;break}p=p.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var _=c.stateNode,S=up(r);nh(r,S,_);break;case 5:var M=c.stateNode;c.flags&32&&(Ei(M,""),c.flags&=-33);var I=up(r);nh(r,I,M);break;case 3:case 4:var Y=c.stateNode.containerInfo,he=up(r);cp(r,he,Y);break;default:throw Error(i(161))}}catch(ye){xt(r,r.return,ye)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function fb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;fb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Xr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ob(r,o.alternate,o),o=o.sibling}function Ha(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ms(4,o,o.return),Ha(o);break;case 1:xr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&nb(o,o.return,c),Ha(o);break;case 27:Hu(o.stateNode);case 26:case 5:xr(o,o.return),Ha(o);break;case 22:o.memoizedState===null&&Ha(o);break;case 30:Ha(o);break;default:Ha(o)}r=r.sibling}}function Qr(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,_=r,S=o,M=S.flags;switch(S.tag){case 0:case 11:case 15:Qr(_,S,c),Pu(4,S);break;case 1:if(Qr(_,S,c),p=S,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(he){xt(p,p.return,he)}if(p=S,_=p.updateQueue,_!==null){var I=p.stateNode;try{var Y=_.shared.hiddenCallbacks;if(Y!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Y.length;_++)F1(Y[_],I)}catch(he){xt(p,p.return,he)}}c&&M&64&&tb(S),Mu(S,S.return);break;case 27:sb(S);case 26:case 5:Qr(_,S,c),c&&p===null&&M&4&&ib(S),Mu(S,S.return);break;case 12:Qr(_,S,c);break;case 31:Qr(_,S,c),c&&M&4&&cb(_,S);break;case 13:Qr(_,S,c),c&&M&4&&db(_,S);break;case 22:S.memoizedState===null&&Qr(_,S,c),Mu(S,S.return);break;case 30:break;default:Qr(_,S,c)}o=o.sibling}}function hp(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&_u(c))}function fp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&_u(r))}function Xi(r,o,c,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mb(r,o,c,p),o=o.sibling}function mb(r,o,c,p){var _=o.flags;switch(o.tag){case 0:case 11:case 15:Xi(r,o,c,p),_&2048&&Pu(9,o);break;case 1:Xi(r,o,c,p);break;case 3:Xi(r,o,c,p),_&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&_u(r)));break;case 12:if(_&2048){Xi(r,o,c,p),r=o.stateNode;try{var S=o.memoizedProps,M=S.id,I=S.onPostCommit;typeof I=="function"&&I(M,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){xt(o,o.return,Y)}}else Xi(r,o,c,p);break;case 31:Xi(r,o,c,p);break;case 13:Xi(r,o,c,p);break;case 23:break;case 22:S=o.stateNode,M=o.alternate,o.memoizedState!==null?S._visibility&2?Xi(r,o,c,p):Ou(r,o):S._visibility&2?Xi(r,o,c,p):(S._visibility|=2,Fo(r,o,c,p,(o.subtreeFlags&10256)!==0||!1)),_&2048&&hp(M,o);break;case 24:Xi(r,o,c,p),_&2048&&fp(o.alternate,o);break;default:Xi(r,o,c,p)}}function Fo(r,o,c,p,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=r,M=o,I=c,Y=p,he=M.flags;switch(M.tag){case 0:case 11:case 15:Fo(S,M,I,Y,_),Pu(8,M);break;case 23:break;case 22:var ye=M.stateNode;M.memoizedState!==null?ye._visibility&2?Fo(S,M,I,Y,_):Ou(S,M):(ye._visibility|=2,Fo(S,M,I,Y,_)),_&&he&2048&&hp(M.alternate,M);break;case 24:Fo(S,M,I,Y,_),_&&he&2048&&fp(M.alternate,M);break;default:Fo(S,M,I,Y,_)}o=o.sibling}}function Ou(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,p=o,_=p.flags;switch(p.tag){case 22:Ou(c,p),_&2048&&hp(p.alternate,p);break;case 24:Ou(c,p),_&2048&&fp(p.alternate,p);break;default:Ou(c,p)}o=o.sibling}}var Ru=8192;function qo(r,o,c){if(r.subtreeFlags&Ru)for(r=r.child;r!==null;)pb(r,o,c),r=r.sibling}function pb(r,o,c){switch(r.tag){case 26:qo(r,o,c),r.flags&Ru&&r.memoizedState!==null&&Q6(c,Yi,r.memoizedState,r.memoizedProps);break;case 5:qo(r,o,c);break;case 3:case 4:var p=Yi;Yi=yh(r.stateNode.containerInfo),qo(r,o,c),Yi=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Ru,Ru=16777216,qo(r,o,c),Ru=p):qo(r,o,c));break;default:qo(r,o,c)}}function gb(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Du(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];bn=p,vb(p,r)}gb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yb(r),r=r.sibling}function yb(r){switch(r.tag){case 0:case 11:case 15:Du(r),r.flags&2048&&Ms(9,r,r.return);break;case 3:Du(r);break;case 12:Du(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,rh(r)):Du(r);break;default:Du(r)}}function rh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];bn=p,vb(p,r)}gb(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ms(8,o,o.return),rh(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,rh(o));break;default:rh(o)}r=r.sibling}}function vb(r,o){for(;bn!==null;){var c=bn;switch(c.tag){case 0:case 11:case 15:Ms(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:_u(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,bn=p;else e:for(c=r;bn!==null;){p=bn;var _=p.sibling,S=p.return;if(lb(p),p===c){bn=null;break e}if(_!==null){_.return=S,bn=_;break e}bn=S}}}var f6={getCacheForType:function(r){var o=Sn(nn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c},cacheSignal:function(){return Sn(nn).controller.signal}},m6=typeof WeakMap=="function"?WeakMap:Map,gt=0,$t=null,st=null,lt=0,_t=0,pi=null,Os=!1,Zo=!1,mp=!1,Jr=0,Gt=0,Rs=0,Fa=0,pp=0,gi=0,Go=0,zu=null,ni=null,gp=!1,sh=0,bb=0,ah=1/0,oh=null,Ds=null,hn=0,zs=null,Ko=null,es=0,yp=0,vp=null,_b=null,Iu=0,bp=null;function yi(){return(gt&2)!==0&&lt!==0?lt&-lt:V.T!==null?Ep():Wl()}function xb(){if(gi===0)if((lt&536870912)===0||rt){var r=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),gi=r}else gi=536870912;return r=fi.current,r!==null&&(r.flags|=32),gi}function ii(r,o,c){(r===$t&&(_t===2||_t===9)||r.cancelPendingCommit!==null)&&(Wo(r,0),Is(r,lt,gi,!1)),Pr(r,c),((gt&2)===0||r!==$t)&&(r===$t&&((gt&2)===0&&(Fa|=c),Gt===4&&Is(r,lt,gi,!1)),wr(r))}function wb(r,o,c){if((gt&6)!==0)throw Error(i(327));var p=!c&&(o&127)===0&&(o&r.expiredLanes)===0||ua(r,o),_=p?y6(r,o):xp(r,o,!0),S=p;do{if(_===0){Zo&&!p&&Is(r,o,0,!1);break}else{if(c=r.current.alternate,S&&!p6(c)){_=xp(r,o,!1),S=!1;continue}if(_===2){if(S=o,r.errorRecoveryDisabledLanes&S)var M=0;else M=r.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var I=r;_=zu;var Y=I.current.memoizedState.isDehydrated;if(Y&&(Wo(I,M).flags|=256),M=xp(I,M,!1),M!==2){if(mp&&!Y){I.errorRecoveryDisabledLanes|=S,Fa|=S,_=4;break e}S=ni,ni=_,S!==null&&(ni===null?ni=S:ni.push.apply(ni,S))}_=M}if(S=!1,_!==2)continue}}if(_===1){Wo(r,0),Is(r,o,0,!0);break}e:{switch(p=r,S=_,S){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Is(p,o,gi,!Os);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=sh+300-_n(),10<_)){if(Is(p,o,gi,!Os),po(p,0,!0)!==0)break e;es=o,p.timeoutHandle=Jb(Sb.bind(null,p,c,ni,oh,gp,o,gi,Fa,Go,Os,S,"Throttled",-0,0),_);break e}Sb(p,c,ni,oh,gp,o,gi,Fa,Go,Os,S,null,-0,0)}}break}while(!0);wr(r)}function Sb(r,o,c,p,_,S,M,I,Y,he,ye,we,me,pe){if(r.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},pb(o,S,we);var Me=(S&62914560)===S?sh-_n():(S&4194048)===S?bb-_n():0;if(Me=J6(we,Me),Me!==null){es=S,r.cancelPendingCommit=Me(Lb.bind(null,r,o,S,c,p,_,M,I,Y,ye,we,null,me,pe)),Is(r,S,M,!he);return}}Lb(r,o,S,c,p,_,M,I,Y)}function p6(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var _=c[p],S=_.getSnapshot;_=_.value;try{if(!yn(S(),_))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(r,o,c,p){o&=~pp,o&=~Fa,r.suspendedLanes|=o,r.pingedLanes&=~o,p&&(r.warmLanes|=o),p=r.expirationTimes;for(var _=o;0<_;){var S=31-bt(_),M=1<<S;p[S]=-1,_&=~M}c!==0&&ad(r,c,o)}function lh(){return(gt&6)===0?(Bu(0),!1):!0}function _p(){if(st!==null){if(_t===0)var r=st.return;else r=st,Wi=_r=null,Rm(r),Io=null,wu=0,r=st;for(;r!==null;)eb(r.alternate,r),r=r.return;st=null}}function Wo(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,O6(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),es=0,_p(),$t=r,st=c=Ai(r.current,null),lt=o,_t=0,pi=null,Os=!1,Zo=ua(r,o),mp=!1,Go=gi=pp=Fa=Rs=Gt=0,ni=zu=null,gp=!1,(o&8)!==0&&(o|=o&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=o;0<p;){var _=31-bt(p),S=1<<_;o|=r[_],p&=~S}return Jr=o,La(),c}function Cb(r,o){Qe=null,V.H=Nu,o===zo||o===Dd?(o=B1(),_t=3):o===Cm?(o=B1(),_t=4):_t=o===Qm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,pi=o,st===null&&(Gt=1,Xd(r,m(o,r.current)))}function Eb(){var r=fi.current;return r===null?!0:(lt&4194048)===lt?Pi===null:(lt&62914560)===lt||(lt&536870912)!==0?r===Pi:!1}function Tb(){var r=V.H;return V.H=Nu,r===null?Nu:r}function jb(){var r=V.A;return V.A=f6,r}function uh(){Gt=4,Os||(lt&4194048)!==lt&&fi.current!==null||(Zo=!0),(Rs&134217727)===0&&(Fa&134217727)===0||$t===null||Is($t,lt,gi,!1)}function xp(r,o,c){var p=gt;gt|=2;var _=Tb(),S=jb();($t!==r||lt!==o)&&(oh=null,Wo(r,o)),o=!1;var M=Gt;e:do try{if(_t!==0&&st!==null){var I=st,Y=pi;switch(_t){case 8:_p(),M=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(o=!0);var he=_t;if(_t=0,pi=null,Yo(r,I,Y,he),c&&Zo){M=0;break e}break;default:he=_t,_t=0,pi=null,Yo(r,I,Y,he)}}g6(),M=Gt;break}catch(ye){Cb(r,ye)}while(!0);return o&&r.shellSuspendCounter++,Wi=_r=null,gt=p,V.H=_,V.A=S,st===null&&($t=null,lt=0,La()),M}function g6(){for(;st!==null;)kb(st)}function y6(r,o){var c=gt;gt|=2;var p=Tb(),_=jb();$t!==r||lt!==o?(oh=null,ah=_n()+500,Wo(r,o)):Zo=ua(r,o);e:do try{if(_t!==0&&st!==null){o=st;var S=pi;t:switch(_t){case 1:_t=0,pi=null,Yo(r,o,S,1);break;case 2:case 9:if(z1(S)){_t=0,pi=null,$b(o);break}o=function(){_t!==2&&_t!==9||$t!==r||(_t=7),wr(r)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:z1(S)?(_t=0,pi=null,$b(o)):(_t=0,pi=null,Yo(r,o,S,7));break;case 5:var M=null;switch(st.tag){case 26:M=st.memoizedState;case 5:case 27:var I=st;if(M?m_(M):I.stateNode.complete){_t=0,pi=null;var Y=I.sibling;if(Y!==null)st=Y;else{var he=I.return;he!==null?(st=he,ch(he)):st=null}break t}}_t=0,pi=null,Yo(r,o,S,5);break;case 6:_t=0,pi=null,Yo(r,o,S,6);break;case 8:_p(),Gt=6;break e;default:throw Error(i(462))}}v6();break}catch(ye){Cb(r,ye)}while(!0);return Wi=_r=null,V.H=p,V.A=_,gt=c,st!==null?0:($t=null,lt=0,La(),Gt)}function v6(){for(;st!==null&&!ar();)kb(st)}function kb(r){var o=Qv(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,o===null?ch(r):st=o}function $b(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=Zv(c,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=Zv(c,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:Rm(o);default:eb(c,o),o=st=pu(o,Jr),o=Qv(c,o,Jr)}r.memoizedProps=r.pendingProps,o===null?ch(r):st=o}function Yo(r,o,c,p){Wi=_r=null,Rm(o),Io=null,wu=0;var _=o.return;try{if(a6(r,_,o,c,lt)){Gt=1,Xd(r,m(c,r.current)),st=null;return}}catch(S){if(_!==null)throw st=_,S;Gt=1,Xd(r,m(c,r.current)),st=null;return}o.flags&32768?(rt||p===1?r=!0:Zo||(lt&536870912)!==0?r=!1:(Os=r=!0,(p===2||p===9||p===3||p===6)&&(p=fi.current,p!==null&&p.tag===13&&(p.flags|=16384))),Nb(o,r)):ch(o)}function ch(r){var o=r;do{if((o.flags&32768)!==0){Nb(o,Os);return}r=o.return;var c=u6(o.alternate,o,Jr);if(c!==null){st=c;return}if(o=o.sibling,o!==null){st=o;return}st=o=r}while(o!==null);Gt===0&&(Gt=5)}function Nb(r,o){do{var c=c6(r.alternate,r);if(c!==null){c.flags&=32767,st=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){st=r;return}st=r=c}while(r!==null);Gt=6,st=null}function Lb(r,o,c,p,_,S,M,I,Y){r.cancelPendingCommit=null;do dh();while(hn!==0);if((gt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(S=o.lanes|o.childLanes,S|=Lo,im(r,c,S,M,I,Y),r===$t&&(st=$t=null,lt=0),Ko=o,zs=r,es=c,yp=S,vp=_,_b=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,w6(He,function(){return Rb(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=V.T,V.T=null,_=G.p,G.p=2,M=gt,gt|=4;try{d6(r,o,c)}finally{gt=M,G.p=_,V.T=p}}hn=1,Ab(),Pb(),Mb()}}function Ab(){if(hn===1){hn=0;var r=zs,o=Ko,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=V.T,V.T=null;var p=G.p;G.p=2;var _=gt;gt|=4;try{hb(o,r);var S=Pp,M=Ta(r.containerInfo),I=S.focusedElem,Y=S.selectionRange;if(M!==I&&I&&I.ownerDocument&&jo(I.ownerDocument.documentElement,I)){if(Y!==null&&fr(I)){var he=Y.start,ye=Y.end;if(ye===void 0&&(ye=he),"selectionStart"in I)I.selectionStart=he,I.selectionEnd=Math.min(ye,I.value.length);else{var we=I.ownerDocument||document,me=we&&we.defaultView||window;if(me.getSelection){var pe=me.getSelection(),Me=I.textContent.length,Fe=Math.min(Y.start,Me),jt=Y.end===void 0?Fe:Math.min(Y.end,Me);!pe.extend&&Fe>jt&&(M=jt,jt=Fe,Fe=M);var ae=Ea(I,Fe),te=Ea(I,jt);if(ae&&te&&(pe.rangeCount!==1||pe.anchorNode!==ae.node||pe.anchorOffset!==ae.offset||pe.focusNode!==te.node||pe.focusOffset!==te.offset)){var de=we.createRange();de.setStart(ae.node,ae.offset),pe.removeAllRanges(),Fe>jt?(pe.addRange(de),pe.extend(te.node,te.offset)):(de.setEnd(te.node,te.offset),pe.addRange(de))}}}}for(we=[],pe=I;pe=pe.parentNode;)pe.nodeType===1&&we.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<we.length;I++){var be=we[I];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Sh=!!Ap,Pp=Ap=null}finally{gt=_,G.p=p,V.T=c}}r.current=o,hn=2}}function Pb(){if(hn===2){hn=0;var r=zs,o=Ko,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=V.T,V.T=null;var p=G.p;G.p=2;var _=gt;gt|=4;try{ob(r,o.alternate,o)}finally{gt=_,G.p=p,V.T=c}}hn=3}}function Mb(){if(hn===4||hn===3){hn=0,sa();var r=zs,o=Ko,c=es,p=_b;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?hn=5:(hn=0,Ko=zs=null,Ob(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(Ds=null),ze(c),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(pn,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=V.T,_=G.p,G.p=2,V.T=null;try{for(var S=r.onRecoverableError,M=0;M<p.length;M++){var I=p[M];S(I.value,{componentStack:I.stack})}}finally{V.T=o,G.p=_}}(es&3)!==0&&dh(),wr(r),_=r.pendingLanes,(c&261930)!==0&&(_&42)!==0?r===bp?Iu++:(Iu=0,bp=r):Iu=0,Bu(0)}}function Ob(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,_u(o)))}function dh(){return Ab(),Pb(),Mb(),Rb()}function Rb(){if(hn!==5)return!1;var r=zs,o=yp;yp=0;var c=ze(es),p=V.T,_=G.p;try{G.p=32>c?32:c,V.T=null,c=vp,vp=null;var S=zs,M=es;if(hn=0,Ko=zs=null,es=0,(gt&6)!==0)throw Error(i(331));var I=gt;if(gt|=4,yb(S.current),mb(S,S.current,M,c),gt=I,Bu(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(pn,S)}catch{}return!0}finally{G.p=_,V.T=p,Ob(r,o)}}function Db(r,o,c){o=m(c,o),o=Xm(r.stateNode,o,2),r=Ls(r,o,2),r!==null&&(Pr(r,2),wr(r))}function xt(r,o,c){if(r.tag===3)Db(r,r,c);else for(;o!==null;){if(o.tag===3){Db(o,r,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ds===null||!Ds.has(p))){r=m(c,r),c=zv(2),p=Ls(o,c,2),p!==null&&(Iv(c,p,o,r),Pr(p,2),wr(p));break}}o=o.return}}function wp(r,o,c){var p=r.pingCache;if(p===null){p=r.pingCache=new m6;var _=new Set;p.set(o,_)}else _=p.get(o),_===void 0&&(_=new Set,p.set(o,_));_.has(c)||(mp=!0,_.add(c),r=b6.bind(null,r,o,c),o.then(r,r))}function b6(r,o,c){var p=r.pingCache;p!==null&&p.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,$t===r&&(lt&c)===c&&(Gt===4||Gt===3&&(lt&62914560)===lt&&300>_n()-sh?(gt&2)===0&&Wo(r,0):pp|=c,Go===lt&&(Go=0)),wr(r)}function zb(r,o){o===0&&(o=sd()),r=Li(r,o),r!==null&&(Pr(r,o),wr(r))}function _6(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),zb(r,c)}function x6(r,o){var c=0;switch(r.tag){case 31:case 13:var p=r.stateNode,_=r.memoizedState;_!==null&&(c=_.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(o),zb(r,c)}function w6(r,o){return Jt(r,o)}var hh=null,Xo=null,Sp=!1,fh=!1,Cp=!1,Bs=0;function wr(r){r!==Xo&&r.next===null&&(Xo===null?hh=Xo=r:Xo=Xo.next=r),fh=!0,Sp||(Sp=!0,C6())}function Bu(r,o){if(!Cp&&fh){Cp=!0;do for(var c=!1,p=hh;p!==null;){if(r!==0){var _=p.pendingLanes;if(_===0)var S=0;else{var M=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-bt(42|r)+1)-1,S&=_&~(M&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,Vb(p,S))}else S=lt,S=po(p,p===$t?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||ua(p,S)||(c=!0,Vb(p,S));p=p.next}while(c);Cp=!1}}function S6(){Ib()}function Ib(){fh=Sp=!1;var r=0;Bs!==0&&M6()&&(r=Bs);for(var o=_n(),c=null,p=hh;p!==null;){var _=p.next,S=Bb(p,o);S===0?(p.next=null,c===null?hh=_:c.next=_,_===null&&(Xo=c)):(c=p,(r!==0||(S&3)!==0)&&(fh=!0)),p=_}hn!==0&&hn!==5||Bu(r),Bs!==0&&(Bs=0)}function Bb(r,o){for(var c=r.suspendedLanes,p=r.pingedLanes,_=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var M=31-bt(S),I=1<<M,Y=_[M];Y===-1?((I&c)===0||(I&p)!==0)&&(_[M]=nm(I,o)):Y<=o&&(r.expiredLanes|=I),S&=~I}if(o=$t,c=lt,c=po(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,c===0||r===o&&(_t===2||_t===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Dn(p),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ua(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(p!==null&&Dn(p),ze(c)){case 2:case 8:c=$e;break;case 32:c=He;break;case 268435456:c=dt;break;default:c=He}return p=Ub.bind(null,r),c=Jt(c,p),r.callbackPriority=o,r.callbackNode=c,o}return p!==null&&p!==null&&Dn(p),r.callbackPriority=2,r.callbackNode=null,2}function Ub(r,o){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(dh()&&r.callbackNode!==c)return null;var p=lt;return p=po(r,r===$t?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(wb(r,p,o),Bb(r,_n()),r.callbackNode!=null&&r.callbackNode===c?Ub.bind(null,r):null)}function Vb(r,o){if(dh())return null;wb(r,o,!0)}function C6(){R6(function(){(gt&6)!==0?Jt(ve,S6):Ib()})}function Ep(){if(Bs===0){var r=Ro;r===0&&(r=aa,aa<<=1,(aa&261888)===0&&(aa=256)),Bs=r}return Bs}function Hb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ps(""+r)}function Fb(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function E6(r,o,c,p,_){if(o==="submit"&&c&&c.stateNode===_){var S=Hb((_[gn]||null).action),M=p.submitter;M&&(o=(o=M[gn]||null)?Hb(o.formAction):M.getAttribute("formAction"),o!==null&&(S=o,M=null));var I=new _o("action","action",null,p,_);r.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Bs!==0){var Y=M?Fb(_,M):new FormData(_);qm(c,{pending:!0,data:Y,method:_.method,action:S},null,Y)}}else typeof S=="function"&&(I.preventDefault(),Y=M?Fb(_,M):new FormData(_),qm(c,{pending:!0,data:Y,method:_.method,action:S},S,Y))},currentTarget:_}]})}}for(var Tp=0;Tp<gr.length;Tp++){var jp=gr[Tp],T6=jp.toLowerCase(),j6=jp[0].toUpperCase()+jp.slice(1);Yn(T6,"on"+j6)}Yn(ka,"onAnimationEnd"),Yn(Ld,"onAnimationIteration"),Yn($a,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(gm,"onTransitionRun"),Yn(Ad,"onTransitionStart"),Yn(ym,"onTransitionCancel"),Yn(Ts,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function qb(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],_=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var M=p.length-1;0<=M;M--){var I=p[M],Y=I.instance,he=I.currentTarget;if(I=I.listener,Y!==S&&_.isPropagationStopped())break e;S=I,_.currentTarget=he;try{S(_)}catch(ye){Na(ye)}_.currentTarget=null,S=Y}else for(M=0;M<p.length;M++){if(I=p[M],Y=I.instance,he=I.currentTarget,I=I.listener,Y!==S&&_.isPropagationStopped())break e;S=I,_.currentTarget=he;try{S(_)}catch(ye){Na(ye)}_.currentTarget=null,S=Y}}}}function at(r,o){var c=o[or];c===void 0&&(c=o[or]=new Set);var p=r+"__bubble";c.has(p)||(Zb(o,r,2,!1),c.add(p))}function kp(r,o,c){var p=0;o&&(p|=4),Zb(c,r,p,o)}var mh="_reactListening"+Math.random().toString(36).slice(2);function $p(r){if(!r[mh]){r[mh]=!0,dd.forEach(function(c){c!=="selectionchange"&&(k6.has(c)||kp(c,!1,r),kp(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[mh]||(o[mh]=!0,kp("selectionchange",!1,o))}}function Zb(r,o,c,p){switch(x_(o)){case 2:var _=n9;break;case 8:_=i9;break;default:_=Fp}c=_.bind(null,o,c,r),_=void 0,!ga||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),p?_!==void 0?r.addEventListener(o,c,{capture:!0,passive:_}):r.addEventListener(o,c,!0):_!==void 0?r.addEventListener(o,c,{passive:_}):r.addEventListener(o,c,!1)}function Np(r,o,c,p,_){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var I=p.stateNode.containerInfo;if(I===_)break;if(M===4)for(M=p.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;I!==null;){if(M=Or(I),M===null)return;if(Y=M.tag,Y===5||Y===6||Y===26||Y===27){p=S=M;continue e}I=I.parentNode}}p=p.return}ru(function(){var he=S,ye=pa(c),we=[];e:{var me=Pd.get(r);if(me!==void 0){var pe=_o,Me=r;switch(r){case"keypress":if(ya(c)===0)break e;case"keydown":case"keyup":pe=bd;break;case"focusin":Me="focus",pe=ou;break;case"focusout":Me="blur",pe=ou;break;case"beforeblur":case"afterblur":pe=ou;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=cm;break;case ka:case Ld:case $a:pe=lu;break;case Ts:pe=wd;break;case"scroll":case"scrollend":pe=ot;break;case"wheel":pe=Br;break;case"copy":case"cut":case"paste":pe=ji;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=_d;break;case"toggle":case"beforetoggle":pe=_a}var Fe=(o&4)!==0,jt=!Fe&&(r==="scroll"||r==="scrollend"),ae=Fe?me!==null?me+"Capture":null:me;Fe=[];for(var te=he,de;te!==null;){var be=te;if(de=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||de===null||ae===null||(be=zr(te,ae),be!=null&&Fe.push(Vu(te,be,de))),jt)break;te=te.return}0<Fe.length&&(me=new pe(me,Me,null,c,ye),we.push({event:me,listeners:Fe}))}}if((o&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",me&&c!==bo&&(Me=c.relatedTarget||c.fromElement)&&(Or(Me)||Me[Mr]))break e;if((pe||me)&&(me=ye.window===ye?ye:(me=ye.ownerDocument)?me.defaultView||me.parentWindow:window,pe?(Me=c.relatedTarget||c.toElement,pe=he,Me=Me?Or(Me):null,Me!==null&&(jt=a(Me),Fe=Me.tag,Me!==jt||Fe!==5&&Fe!==27&&Fe!==6)&&(Me=null)):(pe=null,Me=he),pe!==Me)){if(Fe=md,be="onMouseLeave",ae="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=_d,be="onPointerLeave",ae="onPointerEnter",te="pointer"),jt=pe==null?me:lr(pe),de=Me==null?me:lr(Me),me=new Fe(be,te+"leave",pe,c,ye),me.target=jt,me.relatedTarget=de,be=null,Or(ye)===he&&(Fe=new Fe(ae,te+"enter",Me,c,ye),Fe.target=de,Fe.relatedTarget=jt,be=Fe),jt=be,pe&&Me)t:{for(Fe=$6,ae=pe,te=Me,de=0,be=ae;be;be=Fe(be))de++;be=0;for(var Ve=te;Ve;Ve=Fe(Ve))be++;for(;0<de-be;)ae=Fe(ae),de--;for(;0<be-de;)te=Fe(te),be--;for(;de--;){if(ae===te||te!==null&&ae===te.alternate){Fe=ae;break t}ae=Fe(ae),te=Fe(te)}Fe=null}else Fe=null;pe!==null&&Gb(we,me,pe,Fe,!1),Me!==null&&jt!==null&&Gb(we,jt,Me,Fe,!0)}}e:{if(me=he?lr(he):window,pe=me.nodeName&&me.nodeName.toLowerCase(),pe==="select"||pe==="input"&&me.type==="file")var mt=Ca;else if(ki(me))if(Td)mt=pm;else{mt=mm;var Re=Zi}else pe=me.nodeName,!pe||pe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?he&&ma(he.elementType)&&(mt=Ca):mt=ws;if(mt&&(mt=mt(r,he))){Ed(we,mt,c,ye);break e}Re&&Re(r,me,he),r==="focusout"&&he&&me.type==="number"&&he.memoizedProps.value!=null&&Hi(me,"number",me.value)}switch(Re=he?lr(he):window,r){case"focusin":(ki(Re)||Re.contentEditable==="true")&&(mr=Re,$o=he,ja=null);break;case"focusout":ja=$o=mr=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,$d(we,c,ye);break;case"selectionchange":if(ko)break;case"keydown":case"keyup":$d(we,c,ye)}var et;if(wo)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else bs?Cd(r,c)&&(ut="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ut="onCompositionStart");ut&&(So&&c.locale!=="ko"&&(bs||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&bs&&(et=dr()):(Ti=ye,Ir="value"in Ti?Ti.value:Ti.textContent,bs=!0)),Re=ph(he,ut),0<Re.length&&(ut=new uu(ut,r,null,c,ye),we.push({event:ut,listeners:Re}),et?ut.data=et:(et=fu(c),et!==null&&(ut.data=et)))),(et=hm?hi(r,c):_s(r,c))&&(ut=ph(he,"onBeforeInput"),0<ut.length&&(Re=new uu("onBeforeInput","beforeinput",null,c,ye),we.push({event:Re,listeners:ut}),Re.data=et)),E6(we,r,he,c,ye)}qb(we,o)})}function Vu(r,o,c){return{instance:r,listener:o,currentTarget:c}}function ph(r,o){for(var c=o+"Capture",p=[];r!==null;){var _=r,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=zr(r,c),_!=null&&p.unshift(Vu(r,_,S)),_=zr(r,o),_!=null&&p.push(Vu(r,_,S))),r.tag===3)return p;r=r.return}return[]}function $6(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Gb(r,o,c,p,_){for(var S=o._reactName,M=[];c!==null&&c!==p;){var I=c,Y=I.alternate,he=I.stateNode;if(I=I.tag,Y!==null&&Y===p)break;I!==5&&I!==26&&I!==27||he===null||(Y=he,_?(he=zr(c,S),he!=null&&M.unshift(Vu(c,he,Y))):_||(he=zr(c,S),he!=null&&M.push(Vu(c,he,Y)))),c=c.return}M.length!==0&&r.push({event:o,listeners:M})}var N6=/\r\n?/g,L6=/\u0000|\uFFFD/g;function Kb(r){return(typeof r=="string"?r:""+r).replace(N6,`
`).replace(L6,"")}function Wb(r,o){return o=Kb(o),Kb(r)===o}function Tt(r,o,c,p,_,S){switch(c){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Ei(r,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Ei(r,""+p);break;case"className":Ct(r,"class",p);break;case"tabIndex":Ct(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ct(r,c,p);break;case"style":yo(r,p,S);break;case"data":if(o!=="object"){Ct(r,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=ps(""+p),r.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(o!=="input"&&Tt(r,o,"name",_.name,_,null),Tt(r,o,"formEncType",_.formEncType,_,null),Tt(r,o,"formMethod",_.formMethod,_,null),Tt(r,o,"formTarget",_.formTarget,_,null)):(Tt(r,o,"encType",_.encType,_,null),Tt(r,o,"method",_.method,_,null),Tt(r,o,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=ps(""+p),r.setAttribute(c,p);break;case"onClick":p!=null&&(r.onclick=Kn);break;case"onScroll":p!=null&&at("scroll",r);break;case"onScrollEnd":p!=null&&at("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}c=ps(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""+p):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":p===!0?r.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,p):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(c,p):r.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(c):r.setAttribute(c,p);break;case"popover":at("beforetoggle",r),at("toggle",r),it(r,"popover",p);break;case"xlinkActuate":Gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Gn(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Gn(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Gn(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Gn(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":it(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=vo.get(c)||c,it(r,c,p))}}function Lp(r,o,c,p,_,S){switch(c){case"style":yo(r,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof p=="string"?Ei(r,p):(typeof p=="number"||typeof p=="bigint")&&Ei(r,""+p);break;case"onScroll":p!=null&&at("scroll",r);break;case"onScrollEnd":p!=null&&at("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(_=c.endsWith("Capture"),o=c.slice(2,_?c.length-7:void 0),S=r[gn]||null,S=S!=null?S[c]:null,typeof S=="function"&&r.removeEventListener(o,S,_),typeof p=="function")){typeof S!="function"&&S!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,p,_);break e}c in r?r[c]=p:p===!0?r.setAttribute(c,""):it(r,c,p)}}}function En(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",r),at("load",r);var p=!1,_=!1,S;for(S in c)if(c.hasOwnProperty(S)){var M=c[S];if(M!=null)switch(S){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Tt(r,o,S,M,c,null)}}_&&Tt(r,o,"srcSet",c.srcSet,c,null),p&&Tt(r,o,"src",c.src,c,null);return;case"input":at("invalid",r);var I=S=M=_=null,Y=null,he=null;for(p in c)if(c.hasOwnProperty(p)){var ye=c[p];if(ye!=null)switch(p){case"name":_=ye;break;case"type":M=ye;break;case"checked":Y=ye;break;case"defaultChecked":he=ye;break;case"value":S=ye;break;case"defaultValue":I=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,o));break;default:Tt(r,o,p,ye,c,null)}}fa(r,S,I,Y,he,M,_,!1);return;case"select":at("invalid",r),p=M=S=null;for(_ in c)if(c.hasOwnProperty(_)&&(I=c[_],I!=null))switch(_){case"value":S=I;break;case"defaultValue":M=I;break;case"multiple":p=I;default:Tt(r,o,_,I,c,null)}o=S,c=M,r.multiple=!!p,o!=null?kt(r,!!p,o,!1):c!=null&&kt(r,!!p,c,!0);return;case"textarea":at("invalid",r),S=_=p=null;for(M in c)if(c.hasOwnProperty(M)&&(I=c[M],I!=null))switch(M){case"value":p=I;break;case"defaultValue":_=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:Tt(r,o,M,I,c,null)}fs(r,p,_,S);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(p=c[Y],p!=null))switch(Y){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Tt(r,o,Y,p,c,null)}return;case"dialog":at("beforetoggle",r),at("toggle",r),at("cancel",r),at("close",r);break;case"iframe":case"object":at("load",r);break;case"video":case"audio":for(p=0;p<Uu.length;p++)at(Uu[p],r);break;case"image":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"embed":case"source":case"link":at("error",r),at("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in c)if(c.hasOwnProperty(he)&&(p=c[he],p!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Tt(r,o,he,p,c,null)}return;default:if(ma(o)){for(ye in c)c.hasOwnProperty(ye)&&(p=c[ye],p!==void 0&&Lp(r,o,ye,p,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(p=c[I],p!=null&&Tt(r,o,I,p,c,null))}function A6(r,o,c,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,M=null,I=null,Y=null,he=null,ye=null;for(pe in c){var we=c[pe];if(c.hasOwnProperty(pe)&&we!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Y=we;default:p.hasOwnProperty(pe)||Tt(r,o,pe,null,p,we)}}for(var me in p){var pe=p[me];if(we=c[me],p.hasOwnProperty(me)&&(pe!=null||we!=null))switch(me){case"type":S=pe;break;case"name":_=pe;break;case"checked":he=pe;break;case"defaultChecked":ye=pe;break;case"value":M=pe;break;case"defaultValue":I=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,o));break;default:pe!==we&&Tt(r,o,me,pe,p,we)}}tu(r,M,I,Y,he,ye,S,_);return;case"select":pe=M=I=me=null;for(S in c)if(Y=c[S],c.hasOwnProperty(S)&&Y!=null)switch(S){case"value":break;case"multiple":pe=Y;default:p.hasOwnProperty(S)||Tt(r,o,S,null,p,Y)}for(_ in p)if(S=p[_],Y=c[_],p.hasOwnProperty(_)&&(S!=null||Y!=null))switch(_){case"value":me=S;break;case"defaultValue":I=S;break;case"multiple":M=S;default:S!==Y&&Tt(r,o,_,S,p,Y)}o=I,c=M,p=pe,me!=null?kt(r,!!c,me,!1):!!p!=!!c&&(o!=null?kt(r,!!c,o,!0):kt(r,!!c,c?[]:"",!1));return;case"textarea":pe=me=null;for(I in c)if(_=c[I],c.hasOwnProperty(I)&&_!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Tt(r,o,I,null,p,_)}for(M in p)if(_=p[M],S=c[M],p.hasOwnProperty(M)&&(_!=null||S!=null))switch(M){case"value":me=_;break;case"defaultValue":pe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==S&&Tt(r,o,M,_,p,S)}cr(r,me,pe);return;case"option":for(var Me in c)if(me=c[Me],c.hasOwnProperty(Me)&&me!=null&&!p.hasOwnProperty(Me))switch(Me){case"selected":r.selected=!1;break;default:Tt(r,o,Me,null,p,me)}for(Y in p)if(me=p[Y],pe=c[Y],p.hasOwnProperty(Y)&&me!==pe&&(me!=null||pe!=null))switch(Y){case"selected":r.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Tt(r,o,Y,me,p,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in c)me=c[Fe],c.hasOwnProperty(Fe)&&me!=null&&!p.hasOwnProperty(Fe)&&Tt(r,o,Fe,null,p,me);for(he in p)if(me=p[he],pe=c[he],p.hasOwnProperty(he)&&me!==pe&&(me!=null||pe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,o));break;default:Tt(r,o,he,me,p,pe)}return;default:if(ma(o)){for(var jt in c)me=c[jt],c.hasOwnProperty(jt)&&me!==void 0&&!p.hasOwnProperty(jt)&&Lp(r,o,jt,void 0,p,me);for(ye in p)me=p[ye],pe=c[ye],!p.hasOwnProperty(ye)||me===pe||me===void 0&&pe===void 0||Lp(r,o,ye,me,p,pe);return}}for(var ae in c)me=c[ae],c.hasOwnProperty(ae)&&me!=null&&!p.hasOwnProperty(ae)&&Tt(r,o,ae,null,p,me);for(we in p)me=p[we],pe=c[we],!p.hasOwnProperty(we)||me===pe||me==null&&pe==null||Tt(r,o,we,me,p,pe)}function Yb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P6(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var _=c[p],S=_.transferSize,M=_.initiatorType,I=_.duration;if(S&&I&&Yb(M)){for(M=0,I=_.responseEnd,p+=1;p<c.length;p++){var Y=c[p],he=Y.startTime;if(he>I)break;var ye=Y.transferSize,we=Y.initiatorType;ye&&Yb(we)&&(Y=Y.responseEnd,M+=ye*(Y<I?1:(I-he)/(Y-he)))}if(--p,o+=8*(S+M)/(_.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ap=null,Pp=null;function gh(r){return r.nodeType===9?r:r.ownerDocument}function Xb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Mp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Op=null;function M6(){var r=window.event;return r&&r.type==="popstate"?r===Op?!1:(Op=r,!0):(Op=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,O6=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,R6=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(r){return e_.resolve(null).then(r).catch(D6)}:Jb;function D6(r){setTimeout(function(){throw r})}function Us(r){return r==="head"}function t_(r,o){var c=o,p=0;do{var _=c.nextSibling;if(r.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"||c==="/&"){if(p===0){r.removeChild(_),tl(o);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Hu(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Hu(c);for(var S=c.firstChild;S;){var M=S.nextSibling,I=S.nodeName;S[ca]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=M}}else c==="body"&&Hu(r.ownerDocument.body);c=_}while(c);tl(o)}function n_(r,o){var c=r;r=0;do{var p=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=p}while(c)}function Rp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Rp(c),Xl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function z6(r,o,c,p){for(;r.nodeType===1;){var _=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[ca])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=Mi(r.nextSibling),r===null)break}return null}function I6(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Mi(r.nextSibling),r===null))return null;return r}function i_(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Mi(r.nextSibling),r===null))return null;return r}function Dp(r){return r.data==="$?"||r.data==="$~"}function zp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function B6(r,o){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||c.readyState!=="loading")o();else{var p=function(){o(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function Mi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Ip=null;function r_(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(o===0)return Mi(r.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}r=r.nextSibling}return null}function s_(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return r;o--}else c!=="/$"&&c!=="/&"||o++}r=r.previousSibling}return null}function a_(r,o,c){switch(o=gh(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Hu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Xl(r)}var Oi=new Map,o_=new Set;function yh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ts=G.d;G.d={f:U6,r:V6,D:H6,C:F6,L:q6,m:Z6,X:K6,S:G6,M:W6};function U6(){var r=ts.f(),o=lh();return r||o}function V6(r){var o=cs(r);o!==null&&o.tag===5&&o.type==="form"?Cv(o):ts.r(r)}var Qo=typeof document>"u"?null:document;function l_(r,o,c){var p=Qo;if(p&&typeof o=="string"&&o){var _=Pt(o);_='link[rel="'+r+'"][href="'+_+'"]',typeof c=="string"&&(_+='[crossorigin="'+c+'"]'),o_.has(_)||(o_.add(_),r={rel:r,crossOrigin:c,href:o},p.querySelector(_)===null&&(o=p.createElement("link"),En(o,"link",r),tn(o),p.head.appendChild(o)))}}function H6(r){ts.D(r),l_("dns-prefetch",r,null)}function F6(r,o){ts.C(r,o),l_("preconnect",r,o)}function q6(r,o,c){ts.L(r,o,c);var p=Qo;if(p&&r&&o){var _='link[rel="preload"][as="'+Pt(o)+'"]';o==="image"&&c&&c.imageSrcSet?(_+='[imagesrcset="'+Pt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(_+='[imagesizes="'+Pt(c.imageSizes)+'"]')):_+='[href="'+Pt(r)+'"]';var S=_;switch(o){case"style":S=Jo(r);break;case"script":S=el(r)}Oi.has(S)||(r=v({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Oi.set(S,r),p.querySelector(_)!==null||o==="style"&&p.querySelector(Fu(S))||o==="script"&&p.querySelector(qu(S))||(o=p.createElement("link"),En(o,"link",r),tn(o),p.head.appendChild(o)))}}function Z6(r,o){ts.m(r,o);var c=Qo;if(c&&r){var p=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Pt(p)+'"][href="'+Pt(r)+'"]',S=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=el(r)}if(!Oi.has(S)&&(r=v({rel:"modulepreload",href:r},o),Oi.set(S,r),c.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(qu(S)))return}p=c.createElement("link"),En(p,"link",r),tn(p),c.head.appendChild(p)}}}function G6(r,o,c){ts.S(r,o,c);var p=Qo;if(p&&r){var _=ds(p).hoistableStyles,S=Jo(r);o=o||"default";var M=_.get(S);if(!M){var I={loading:0,preload:null};if(M=p.querySelector(Fu(S)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Oi.get(S))&&Bp(r,c);var Y=M=p.createElement("link");tn(Y),En(Y,"link",r),Y._p=new Promise(function(he,ye){Y.onload=he,Y.onerror=ye}),Y.addEventListener("load",function(){I.loading|=1}),Y.addEventListener("error",function(){I.loading|=2}),I.loading|=4,vh(M,o,p)}M={type:"stylesheet",instance:M,count:1,state:I},_.set(S,M)}}}function K6(r,o){ts.X(r,o);var c=Qo;if(c&&r){var p=ds(c).hoistableScripts,_=el(r),S=p.get(_);S||(S=c.querySelector(qu(_)),S||(r=v({src:r,async:!0},o),(o=Oi.get(_))&&Up(r,o),S=c.createElement("script"),tn(S),En(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function W6(r,o){ts.M(r,o);var c=Qo;if(c&&r){var p=ds(c).hoistableScripts,_=el(r),S=p.get(_);S||(S=c.querySelector(qu(_)),S||(r=v({src:r,async:!0,type:"module"},o),(o=Oi.get(_))&&Up(r,o),S=c.createElement("script"),tn(S),En(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function u_(r,o,c,p){var _=(_=ue.current)?yh(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Jo(c.href),c=ds(_).hoistableStyles,p=c.get(o),p||(p={type:"style",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Jo(c.href);var S=ds(_).hoistableStyles,M=S.get(r);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,M),(S=_.querySelector(Fu(r)))&&!S._p&&(M.instance=S,M.state.loading=5),Oi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Oi.set(r,c),S||Y6(_,r,c,M.state))),o&&p===null)throw Error(i(528,""));return M}if(o&&p!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=el(c),c=ds(_).hoistableScripts,p=c.get(o),p||(p={type:"script",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jo(r){return'href="'+Pt(r)+'"'}function Fu(r){return'link[rel="stylesheet"]['+r+"]"}function c_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Y6(r,o,c,p){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=r.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),En(o,"link",c),tn(o),r.head.appendChild(o))}function el(r){return'[src="'+Pt(r)+'"]'}function qu(r){return"script[async]"+r}function d_(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var p=r.querySelector('style[data-href~="'+Pt(c.href)+'"]');if(p)return o.instance=p,tn(p),p;var _=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),tn(p),En(p,"style",_),vh(p,c.precedence,r),o.instance=p;case"stylesheet":_=Jo(c.href);var S=r.querySelector(Fu(_));if(S)return o.state.loading|=4,o.instance=S,tn(S),S;p=c_(c),(_=Oi.get(_))&&Bp(p,_),S=(r.ownerDocument||r).createElement("link"),tn(S);var M=S;return M._p=new Promise(function(I,Y){M.onload=I,M.onerror=Y}),En(S,"link",p),o.state.loading|=4,vh(S,c.precedence,r),o.instance=S;case"script":return S=el(c.src),(_=r.querySelector(qu(S)))?(o.instance=_,tn(_),_):(p=c,(_=Oi.get(S))&&(p=v({},c),Up(p,_)),r=r.ownerDocument||r,_=r.createElement("script"),tn(_),En(_,"link",p),r.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,vh(p,c.precedence,r));return o.instance}function vh(r,o,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,S=_,M=0;M<p.length;M++){var I=p[M];if(I.dataset.precedence===o)S=I;else if(S!==_)break}S?S.parentNode.insertBefore(r,S.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Bp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Up(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var bh=null;function h_(r,o,c){if(bh===null){var p=new Map,_=bh=new Map;_.set(c,p)}else _=bh,p=_.get(c),p||(p=new Map,_.set(c,p));if(p.has(r))return p;for(p.set(r,null),c=c.getElementsByTagName(r),_=0;_<c.length;_++){var S=c[_];if(!(S[ca]||S[en]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(o)||"";M=r+M;var I=p.get(M);I?I.push(S):p.set(M,[S])}}return p}function f_(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function X6(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function m_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Q6(r,o,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=Jo(p.href),S=o.querySelector(Fu(_));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=_h.bind(r),o.then(r,r)),c.state.loading|=4,c.instance=S,tn(S);return}S=o.ownerDocument||o,p=c_(p),(_=Oi.get(_))&&Bp(p,_),S=S.createElement("link"),tn(S);var M=S;M._p=new Promise(function(I,Y){M.onload=I,M.onerror=Y}),En(S,"link",p),c.instance=S}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=_h.bind(r),o.addEventListener("load",c),o.addEventListener("error",c))}}var Vp=0;function J6(r,o){return r.stylesheets&&r.count===0&&wh(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var p=setTimeout(function(){if(r.stylesheets&&wh(r,r.stylesheets),r.unsuspend){var S=r.unsuspend;r.unsuspend=null,S()}},6e4+o);0<r.imgBytes&&Vp===0&&(Vp=62500*P6());var _=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&wh(r,r.stylesheets),r.unsuspend)){var S=r.unsuspend;r.unsuspend=null,S()}},(r.imgBytes>Vp?50:800)+o);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function _h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var xh=null;function wh(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,xh=new Map,o.forEach(e9,r),xh=null,_h.call(r))}function e9(r,o){if(!(o.state.loading&4)){var c=xh.get(r);if(c)var p=c.get(null);else{c=new Map,xh.set(r,c);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var M=_[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(c.set(M.dataset.precedence,M),p=M)}p&&c.set(null,p)}_=o.instance,M=_.getAttribute("data-precedence"),S=c.get(M)||p,S===p&&c.set(null,_),c.set(M,_),this.count++,p=_h.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),S?S.parentNode.insertBefore(_,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),o.state.loading|=4}}var Zu={$$typeof:N,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function t9(r,o,c,p,_,S,M,I,Y){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function p_(r,o,c,p,_,S,M,I,Y,he,ye,we){return r=new t9(r,o,c,M,Y,he,ye,we,I),o=1,S===!0&&(o|=24),S=Nn(3,null,null,o),r.current=S,S.stateNode=r,o=xm(),o.refCount++,r.pooledCache=o,o.refCount++,S.memoizedState={element:p,isDehydrated:c,cache:o},Em(S),r}function g_(r){return r?(r=Ur,r):Ur}function y_(r,o,c,p,_,S){_=g_(_),p.context===null?p.context=_:p.pendingContext=_,p=Ns(o),p.payload={element:c},S=S===void 0?null:S,S!==null&&(p.callback=S),c=Ls(r,p,o),c!==null&&(ii(c,r,o),Cu(c,r,o))}function v_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Hp(r,o){v_(r,o),(r=r.alternate)&&v_(r,o)}function b_(r){if(r.tag===13||r.tag===31){var o=Li(r,67108864);o!==null&&ii(o,r,67108864),Hp(r,67108864)}}function __(r){if(r.tag===13||r.tag===31){var o=yi();o=Zn(o);var c=Li(r,o);c!==null&&ii(c,r,o),Hp(r,o)}}var Sh=!0;function n9(r,o,c,p){var _=V.T;V.T=null;var S=G.p;try{G.p=2,Fp(r,o,c,p)}finally{G.p=S,V.T=_}}function i9(r,o,c,p){var _=V.T;V.T=null;var S=G.p;try{G.p=8,Fp(r,o,c,p)}finally{G.p=S,V.T=_}}function Fp(r,o,c,p){if(Sh){var _=qp(p);if(_===null)Np(r,o,p,Ch,c),w_(r,p);else if(s9(_,r,o,c,p))p.stopPropagation();else if(w_(r,p),o&4&&-1<r9.indexOf(r)){for(;_!==null;){var S=cs(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Ar(S.pendingLanes);if(M!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;M;){var Y=1<<31-bt(M);I.entanglements[1]|=Y,M&=~Y}wr(S),(gt&6)===0&&(ah=_n()+500,Bu(0))}}break;case 31:case 13:I=Li(S,2),I!==null&&ii(I,S,2),lh(),Hp(S,2)}if(S=qp(p),S===null&&Np(r,o,p,Ch,c),S===_)break;_=S}_!==null&&p.stopPropagation()}else Np(r,o,p,null,c)}}function qp(r){return r=pa(r),Zp(r)}var Ch=null;function Zp(r){if(Ch=null,r=Or(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===31){if(r=d(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ch=r,null}function x_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gl()){case ve:return 2;case $e:return 8;case He:case nt:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Gp=!1,Vs=null,Hs=null,Fs=null,Gu=new Map,Ku=new Map,qs=[],r9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(r,o){switch(r){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Gu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(o.pointerId)}}function Wu(r,o,c,p,_,S){return r===null||r.nativeEvent!==S?(r={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[_]},o!==null&&(o=cs(o),o!==null&&b_(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),r)}function s9(r,o,c,p,_){switch(o){case"focusin":return Vs=Wu(Vs,r,o,c,p,_),!0;case"dragenter":return Hs=Wu(Hs,r,o,c,p,_),!0;case"mouseover":return Fs=Wu(Fs,r,o,c,p,_),!0;case"pointerover":var S=_.pointerId;return Gu.set(S,Wu(Gu.get(S)||null,r,o,c,p,_)),!0;case"gotpointercapture":return S=_.pointerId,Ku.set(S,Wu(Ku.get(S)||null,r,o,c,p,_)),!0}return!1}function S_(r){var o=Or(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Yl(r.priority,function(){__(c)});return}}else if(o===31){if(o=d(c),o!==null){r.blockedOn=o,Yl(r.priority,function(){__(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=qp(r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);bo=p,c.target.dispatchEvent(p),bo=null}else return o=cs(c),o!==null&&b_(o),r.blockedOn=c,!1;o.shift()}return!0}function C_(r,o,c){Eh(r)&&c.delete(o)}function a9(){Gp=!1,Vs!==null&&Eh(Vs)&&(Vs=null),Hs!==null&&Eh(Hs)&&(Hs=null),Fs!==null&&Eh(Fs)&&(Fs=null),Gu.forEach(C_),Ku.forEach(C_)}function Th(r,o){r.blockedOn===o&&(r.blockedOn=null,Gp||(Gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a9)))}var jh=null;function E_(r){jh!==r&&(jh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jh===r&&(jh=null);for(var o=0;o<r.length;o+=3){var c=r[o],p=r[o+1],_=r[o+2];if(typeof p!="function"){if(Zp(p||c)===null)continue;break}var S=cs(c);S!==null&&(r.splice(o,3),o-=3,qm(S,{pending:!0,data:_,method:c.method,action:p},p,_))}}))}function tl(r){function o(Y){return Th(Y,r)}Vs!==null&&Th(Vs,r),Hs!==null&&Th(Hs,r),Fs!==null&&Th(Fs,r),Gu.forEach(o),Ku.forEach(o);for(var c=0;c<qs.length;c++){var p=qs[c];p.blockedOn===r&&(p.blockedOn=null)}for(;0<qs.length&&(c=qs[0],c.blockedOn===null);)S_(c),c.blockedOn===null&&qs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var _=c[p],S=c[p+1],M=_[gn]||null;if(typeof S=="function")M||E_(c);else if(M){var I=null;if(S&&S.hasAttribute("formAction")){if(_=S,M=S[gn]||null)I=M.formAction;else if(Zp(_)!==null)continue}else I=M.action;typeof I=="function"?c[p+1]=I:(c.splice(p,3),p-=3),E_(c)}}}function T_(){function r(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return _=M})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function Kp(r){this._internalRoot=r}kh.prototype.render=Kp.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,p=yi();y_(c,p,r,o,null,null)},kh.prototype.unmount=Kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;y_(r.current,2,null,r,null,null),lh(),o[Mr]=null}};function kh(r){this._internalRoot=r}kh.prototype.unstable_scheduleHydration=function(r){if(r){var o=Wl();r={blockedOn:null,target:r,priority:o};for(var c=0;c<qs.length&&o!==0&&o<qs[c].priority;c++);qs.splice(c,0,r),c===0&&S_(r)}};var j_=t.version;if(j_!=="19.2.0")throw Error(i(527,j_,"19.2.0"));G.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(o),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var o9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{pn=$h.inject(o9),It=$h}catch{}}return Xu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,p="",_=Mv,S=Ov,M=Rv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=p_(r,1,!1,null,null,c,p,null,_,S,M,T_),r[Mr]=o.current,$p(r),new Kp(o)},Xu.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var p=!1,_="",S=Mv,M=Ov,I=Rv,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(Y=c.formState)),o=p_(r,1,!0,o,c??null,p,_,Y,S,M,I,T_),o.context=g_(null),c=o.current,p=yi(),p=Zn(p),_=Ns(p),_.callback=null,Ls(c,_,p),c=p,o.current.lanes=c,Pr(o,c),wr(o),r[Mr]=o.current,$p(r),new kh(o)},Xu.version="19.2.0",Xu}var D_;function v9(){if(D_)return Xp.exports;D_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xp.exports=y9(),Xp.exports}var b9=v9();function Ol(){const e="/Map";return e.endsWith("/")?e:`${e}/`}function ir(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Ol();return e.startsWith("/assets/logos/")?`${t}${e.slice(1)}`:e.startsWith("logos/")?`${t}assets/logos/${e.slice(6)}`:`${t}assets/logos/${e}`}var t0=function(e,t){return t0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t0(e,t)};function C3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");t0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var sf=function(){return sf=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},sf.apply(this,arguments)};function Rl(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function E3(e,t,n,i){var s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(l=e[d])&&(a=(s<3?l(a):s>3?l(t,n,a):l(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function T3(e,t){return function(n,i){t(n,i,e)}}function j3(e,t,n,i,s,a){function l($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var d=i.kind,f=d==="getter"?"get":d==="setter"?"set":"value",g=!t&&e?i.static?e:e.prototype:null,y=t||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),v,x=!1,w=n.length-1;w>=0;w--){var C={};for(var T in i)C[T]=T==="access"?{}:i[T];for(var T in i.access)C.access[T]=i.access[T];C.addInitializer=function($){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l($||null))};var k=(0,n[w])(d==="accessor"?{get:y.get,set:y.set}:y[f],C);if(d==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(v=l(k.get))&&(y.get=v),(v=l(k.set))&&(y.set=v),(v=l(k.init))&&s.unshift(v)}else(v=l(k))&&(d==="field"?s.unshift(v):y[f]=v)}g&&Object.defineProperty(g,i.name,y),x=!0}function k3(e,t,n){for(var i=arguments.length>2,s=0;s<t.length;s++)n=i?t[s].call(e,n):t[s].call(e);return i?n:void 0}function $3(e){return typeof e=="symbol"?e:"".concat(e)}function N3(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function L3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ie(e,t,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(y){try{g(i.next(y))}catch(v){l(v)}}function f(y){try{g(i.throw(y))}catch(v){l(v)}}function g(y){y.done?a(y.value):s(y.value).then(d,f)}g((i=i.apply(e,t||[])).next())})}function A3(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=d(0),l.throw=d(1),l.return=d(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(g){return function(y){return f([g,y])}}function f(g){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(n=0)),n;)try{if(i=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{i=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var jf=Object.create?(function(e,t,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]});function P3(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&jf(t,e,n)}function af(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ly(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,a=[],l;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(d){l={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(l)throw l.error}}return a}function M3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ly(arguments[t]));return e}function O3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],l=0,d=a.length;l<d;l++,s++)i[s]=a[l];return i}function R3(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}function Tl(e){return this instanceof Tl?(this.v=e,this):new Tl(e)}function D3(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(w){return function(C){return Promise.resolve(C).then(w,v)}}function d(w,C){i[w]&&(s[w]=function(T){return new Promise(function(k,$){a.push([w,T,k,$])>1||f(w,T)})},C&&(s[w]=C(s[w])))}function f(w,C){try{g(i[w](C))}catch(T){x(a[0][3],T)}}function g(w){w.value instanceof Tl?Promise.resolve(w.value.v).then(y,v):x(a[0][2],w)}function y(w){f("next",w)}function v(w){f("throw",w)}function x(w,C){w(C),a.shift(),a.length&&f(a[0][0],a[0][1])}}function z3(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,a){t[s]=e[s]?function(l){return(n=!n)?{value:Tl(e[s](l)),done:!1}:a?a(l):l}:a}}function I3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof af=="function"?af(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(l){return new Promise(function(d,f){l=e[a](l),s(d,f,l.done,l.value)})}}function s(a,l,d,f){Promise.resolve(f).then(function(g){a({value:g,done:d})},l)}}function B3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _9=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},n0=function(e){return n0=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},n0(e)};function U3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=n0(e),i=0;i<n.length;i++)n[i]!=="default"&&jf(t,e,n[i]);return _9(t,e),t}function V3(e){return e&&e.__esModule?e:{default:e}}function H3(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function F3(e,t,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function q3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Z3(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var x9=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function G3(e){function t(a){e.error=e.hasError?new x9(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(a).then(s,function(l){return t(l),s()})}else i|=1}catch(l){t(l)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function K3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,s,a,l){return i?t?".jsx":".js":s&&(!a||!l)?n:s+a+"."+l.toLowerCase()+"js"}):e}const w9={__extends:C3,__assign:sf,__rest:Rl,__decorate:E3,__param:T3,__esDecorate:j3,__runInitializers:k3,__propKey:$3,__setFunctionName:N3,__metadata:L3,__awaiter:Ie,__generator:A3,__createBinding:jf,__exportStar:P3,__values:af,__read:ly,__spread:M3,__spreadArrays:O3,__spreadArray:R3,__await:Tl,__asyncGenerator:D3,__asyncDelegator:z3,__asyncValues:I3,__makeTemplateObject:B3,__importStar:U3,__importDefault:V3,__classPrivateFieldGet:H3,__classPrivateFieldSet:F3,__classPrivateFieldIn:q3,__addDisposableResource:Z3,__disposeResources:G3,__rewriteRelativeImportExtension:K3},S9=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Z3,get __assign(){return sf},__asyncDelegator:z3,__asyncGenerator:D3,__asyncValues:I3,__await:Tl,__awaiter:Ie,__classPrivateFieldGet:H3,__classPrivateFieldIn:q3,__classPrivateFieldSet:F3,__createBinding:jf,__decorate:E3,__disposeResources:G3,__esDecorate:j3,__exportStar:P3,__extends:C3,__generator:A3,__importDefault:V3,__importStar:U3,__makeTemplateObject:B3,__metadata:L3,__param:T3,__propKey:$3,__read:ly,__rest:Rl,__rewriteRelativeImportExtension:K3,__runInitializers:k3,__setFunctionName:N3,__spread:M3,__spreadArray:R3,__spreadArrays:O3,__values:af,default:w9},Symbol.toStringTag,{value:"Module"})),C9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class uy extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class E9 extends uy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class z_ extends uy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class I_ extends uy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var i0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i0||(i0={}));class T9{constructor(t,{headers:n={},customFetch:i,region:s=i0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=C9(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ie(this,arguments,void 0,function*(n,i={}){var s;let a,l;try{const{headers:d,method:f,body:g,signal:y,timeout:v}=i;let x={},{region:w}=i;w||(w=this.region);const C=new URL(`${this.url}/${n}`);w&&w!=="any"&&(x["x-region"]=w,C.searchParams.set("forceFunctionRegion",w));let T;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(x["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(x["Content-Type"]="application/json",T=JSON.stringify(g)):T=g;let k=y;v&&(l=new AbortController,a=setTimeout(()=>l.abort(),v),y?(k=l.signal,y.addEventListener("abort",()=>l.abort())):k=l.signal);const $=yield this.fetch(C.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:T,signal:k}).catch(H=>{throw new E9(H)}),P=$.headers.get("x-relay-error");if(P&&P==="true")throw new z_($);if(!$.ok)throw new I_($);let N=((s=$.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),U;return N==="application/json"?U=yield $.json():N==="application/octet-stream"||N==="application/pdf"?U=yield $.blob():N==="text/event-stream"?U=$:N==="multipart/form-data"?U=yield $.formData():U=yield $.text(),{data:U,error:null,response:$}}catch(d){return{data:null,error:d,response:d instanceof I_||d instanceof z_?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var An={};const Dl=c9(S9);var Nh={},Lh={},Ah={},Ph={},Mh={},Oh={},B_;function W3(){if(B_)return Oh;B_=1,Object.defineProperty(Oh,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Oh.default=e,Oh}var U_;function Y3(){if(U_)return Mh;U_=1,Object.defineProperty(Mh,"__esModule",{value:!0});const t=Dl.__importDefault(W3());class n{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,y,v,x;let w=null,C=null,T=null,k=f.status,$=f.statusText;if(f.ok){if(this.method!=="HEAD"){const H=await f.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?C=H:C=JSON.parse(H))}const N=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),U=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&U&&U.length>1&&(T=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,T=null,k=406,$="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const N=await f.text();try{w=JSON.parse(N),Array.isArray(w)&&f.status===404&&(C=[],w=null,k=200,$="OK")}catch{f.status===404&&N===""?(k=204,$="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,k=200,$="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:C,count:T,status:k,statusText:$}});return this.shouldThrowOnError||(d=d.catch(f=>{var g,y,v,x,w,C;let T="";const k=f?.cause;if(k){const $=(g=k?.message)!==null&&g!==void 0?g:"",P=(y=k?.code)!==null&&y!==void 0?y:"";T=`${(v=f?.name)!==null&&v!==void 0?v:"FetchError"}: ${f?.message}`,T+=`

Caused by: ${(x=k?.name)!==null&&x!==void 0?x:"Error"}: ${$}`,P&&(T+=` (${P})`),k?.stack&&(T+=`
${k.stack}`)}else T=(w=f?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(C=f?.name)!==null&&C!==void 0?C:"FetchError"}: ${f?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,a)}returns(){return this}overrideTypes(){return this}}return Mh.default=n,Mh}var V_;function X3(){if(V_)return Ph;V_=1,Object.defineProperty(Ph,"__esModule",{value:!0});const t=Dl.__importDefault(Y3());class n extends t.default{select(s){let a=!1;const l=(s??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(g,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:g="text"}={}){var y;const v=[s?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ph.default=n,Ph}var H_;function cy(){if(H_)return Ah;H_=1,Object.defineProperty(Ah,"__esModule",{value:!0});const t=Dl.__importDefault(X3()),n=new RegExp("[,()]");class i extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}regexMatch(a,l){return this.url.searchParams.append(a,`match.${l}`),this}regexIMatch(a,l){return this.url.searchParams.append(a,`imatch.${l}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}isDistinct(a,l){return this.url.searchParams.append(a,`isdistinct.${l}`),this}in(a,l){const d=Array.from(new Set(l)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:d,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${g}fts${y}.${l}`),this}match(a){return Object.entries(a).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(a,l,d){return this.url.searchParams.append(a,`not.${l}.${d}`),this}or(a,{foreignTable:l,referencedTable:d=l}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,d){return this.url.searchParams.append(a,`${l}.${d}`),this}}return Ah.default=i,Ah}var F_;function Q3(){if(F_)return Lh;F_=1,Object.defineProperty(Lh,"__esModule",{value:!0});const t=Dl.__importDefault(cy());class n{constructor(s,{headers:a={},schema:l,fetch:d}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(s,a){const{head:l=!1,count:d}=a??{},f=l?"HEAD":"GET";let g=!1;const y=(s??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:l=!0}={}){var d;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(s,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var a;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Lh.default=n,Lh}var q_;function j9(){if(q_)return Nh;q_=1,Object.defineProperty(Nh,"__esModule",{value:!0});const e=Dl,t=e.__importDefault(Q3()),n=e.__importDefault(cy());class i{constructor(a,{headers:l={},schema:d,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:f=!1,count:g}={}){var y;let v;const x=new URL(`${this.url}/rpc/${a}`);let w;d||f?(v=d?"HEAD":"GET",Object.entries(l).filter(([T,k])=>k!==void 0).map(([T,k])=>[T,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([T,k])=>{x.searchParams.append(T,k)})):(v="POST",w=l);const C=new Headers(this.headers);return g&&C.set("Prefer",`count=${g}`),new n.default({method:v,url:x,headers:C,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Nh.default=i,Nh}var Z_;function k9(){if(Z_)return An;Z_=1,Object.defineProperty(An,"__esModule",{value:!0}),An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const e=Dl,t=e.__importDefault(j9());An.PostgrestClient=t.default;const n=e.__importDefault(Q3());An.PostgrestQueryBuilder=n.default;const i=e.__importDefault(cy());An.PostgrestFilterBuilder=i.default;const s=e.__importDefault(X3());An.PostgrestTransformBuilder=s.default;const a=e.__importDefault(Y3());An.PostgrestBuilder=a.default;const l=e.__importDefault(W3());return An.PostgrestError=l.default,An.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},An}var J3=k9();const eS=lo(J3),$9=u9({__proto__:null,default:eS},[J3]),{PostgrestClient:N9,PostgrestQueryBuilder:PV,PostgrestFilterBuilder:MV,PostgrestTransformBuilder:OV,PostgrestBuilder:RV,PostgrestError:DV}=eS||$9;class L9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const A9="2.84.0",P9=`realtime-js/${A9}`,tS="1.0.0",M9="2.0.0",G_=tS,r0=1e4,O9=1e3,R9=100;var Xa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xa||(Xa={}));var mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mn||(mn={}));var nr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nr||(nr={}));var s0;(function(e){e.websocket="websocket"})(s0||(s0={}));var Qa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qa||(Qa={}));class D9{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i,s,a;const l=t.topic,d=(n=t.ref)!==null&&n!==void 0?n:"",f=(i=t.join_ref)!==null&&i!==void 0?i:"",g=t.payload.event,y=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(x),C=0;w.setUint8(C++,this.KINDS.userBroadcastPush),w.setUint8(C++,f.length),w.setUint8(C++,d.length),w.setUint8(C++,l.length),w.setUint8(C++,g.length),w.setUint8(C++,this.BINARY_ENCODING),Array.from(f,k=>w.setUint8(C++,k.charCodeAt(0))),Array.from(d,k=>w.setUint8(C++,k.charCodeAt(0))),Array.from(l,k=>w.setUint8(C++,k.charCodeAt(0))),Array.from(g,k=>w.setUint8(C++,k.charCodeAt(0)));var T=new Uint8Array(x.byteLength+y.byteLength);return T.set(new Uint8Array(x),0),T.set(new Uint8Array(y),x.byteLength),T.buffer}_encodeJsonUserBroadcastPush(t){var n,i,s,a;const l=t.topic,d=(n=t.ref)!==null&&n!==void 0?n:"",f=(i=t.join_ref)!==null&&i!==void 0?i:"",g=t.payload.event,y=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},x=new TextEncoder().encode(JSON.stringify(y)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+g.length,C=new ArrayBuffer(this.HEADER_LENGTH+w);let T=new DataView(C),k=0;T.setUint8(k++,this.KINDS.userBroadcastPush),T.setUint8(k++,f.length),T.setUint8(k++,d.length),T.setUint8(k++,l.length),T.setUint8(k++,g.length),T.setUint8(k++,this.JSON_ENCODING),Array.from(f,P=>T.setUint8(k++,P.charCodeAt(0))),Array.from(d,P=>T.setUint8(k++,P.charCodeAt(0))),Array.from(l,P=>T.setUint8(k++,P.charCodeAt(0))),Array.from(g,P=>T.setUint8(k++,P.charCodeAt(0)));var $=new Uint8Array(C.byteLength+x.byteLength);return $.set(new Uint8Array(C),0),$.set(new Uint8Array(x),C.byteLength),$.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,a,l,d,f]=i;return n({join_ref:s,ref:a,topic:l,event:d,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const g=i.decode(t.slice(f,f+s));f=f+s;const y=i.decode(t.slice(f,f+a));f=f+a;const v=i.decode(t.slice(f,f+l));f=f+l;const x=t.slice(f,t.byteLength),w=d===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,C={type:this.BROADCAST_EVENT,event:y,payload:w};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class nS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nt||(Nt={}));const K_=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=z9(l,e,t,s),a),{}):{}},z9=(e,t,n,i)=>{const s=t.find(d=>d.name===e),a=s?.type,l=n[e];return a&&!i.includes(a)?iS(a,l):a0(l)},iS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return V9(t,n)}switch(e){case Nt.bool:return I9(t);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return B9(t);case Nt.json:case Nt.jsonb:return U9(t);case Nt.timestamp:return H9(t);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return a0(t);default:return a0(t)}},a0=e=>e,I9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},B9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>iS(t,d))}return e},H9=e=>typeof e=="string"?e.replace(" ","T"):e,rS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class tg{constructor(t,n,i={},s=r0){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var W_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(W_||(W_={}));class dc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dc.syncState(this.state,s,a,l),this.pendingDiffs.forEach(f=>{this.state=dc.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=dc.syncDiff(this.state,s,a,l),d())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const a=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(a,(g,y)=>{l[g]||(f[g]=y)}),this.map(l,(g,y)=>{const v=a[g];if(v){const x=y.map(k=>k.presence_ref),w=v.map(k=>k.presence_ref),C=y.filter(k=>w.indexOf(k.presence_ref)<0),T=v.filter(k=>x.indexOf(k.presence_ref)<0);C.length>0&&(d[g]=C),T.length>0&&(f[g]=T)}else d[g]=y}),this.syncDiff(a,{joins:d,leaves:f},i,s)}static syncDiff(t,n,i,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(d,f)=>{var g;const y=(g=t[d])!==null&&g!==void 0?g:[];if(t[d]=this.cloneDeep(f),y.length>0){const v=t[d].map(w=>w.presence_ref),x=y.filter(w=>v.indexOf(w.presence_ref)<0);t[d].unshift(...x)}i(d,y,f)}),this.map(l,(d,f)=>{let g=t[d];if(!g)return;const y=f.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[d]=g,s(d,g,f),g.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Y_||(Y_={}));var hc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hc||(hc={}));var ns;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ns||(ns={}));class dy{constructor(t,n={config:{}},i){var s,a;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tg(this,nr.join,this.params,this.timeout),this.rejoinTimer=new nS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new dc(this),this.broadcastEndpointURL=rS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==mn.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,g=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[hc.PRESENCE]&&this.bindings[hc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},x={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(ns.CHANNEL_ERROR,w)),this._onClose(()=>t?.(ns.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket.setAuth(),w===void 0){t?.(ns.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,k=(C=T?.length)!==null&&C!==void 0?C:0,$=[];for(let P=0;P<k;P++){const N=T[P],{filter:{event:U,schema:H,table:B,filter:Z}}=N,ne=w&&w[P];if(ne&&ne.event===U&&ne.schema===H&&ne.table===B&&ne.filter===Z)$.push(Object.assign(Object.assign({},N),{id:ne.id}));else{this.unsubscribe(),this.state=mn.errored,t?.(ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,t&&t(ns.SUBSCRIBED);return}}).receive("error",w=>{this.state=mn.errored,t?.(ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===mn.joined&&t===hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const g=await d.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=g.body)===null||s===void 0?void 0:s.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,f;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),g.receive("ok",()=>a("ok")),g.receive("error",()=>a("error")),g.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new tg(this,nr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new tg(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>R9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,a;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:g,join:y}=nr;if(i&&[d,f,g,y].indexOf(l)>=0&&i!==this._joinRef())return;let x=this._onMessage(l,n,i);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var C,T,k;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((k=(T=w.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(w=>w.callback(x,i)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var C,T,k,$,P,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const U=w.id,H=(C=w.filter)===null||C===void 0?void 0:C.event;return U&&((T=n.ids)===null||T===void 0?void 0:T.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const U=(P=($=w?.filter)===null||$===void 0?void 0:$.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:T,table:k,commit_timestamp:$,type:P,errors:N}=C;x=Object.assign(Object.assign({},{schema:T,table:k,commit_timestamp:$,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(C))}w.callback(x,i)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&dy.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nr.close,{},t)}_onError(t){this._on(nr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=K_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=K_(t.columns,t.old_record)),n}}const ng=()=>{},Rh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F9=[1e3,2e3,5e3,1e4],q9=1e4,Z9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G9{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r0,this.transport=null,this.heartbeatIntervalMs=Rh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ng,this.ref=0,this.reconnectTimer=null,this.vsn=G_,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new D9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${s0.websocket}`,this.httpEndpoint=rS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Xa.connecting:return Qa.Connecting;case Xa.open:return Qa.Open;case Xa.closing:return Qa.Closing;default:return Qa.Closed}}isConnected(){return this.connectionState()===Qa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new dy(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:s,ref:a}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(O9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:a,ref:l}=n,d=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${i} ${s} ${d}`.trim(),a),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(s,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xa.open||this.conn.readyState===Xa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(nr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([Z9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:P9};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new nS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,a,l,d,f,g,y,v,x,w;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:r0,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Rh.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:ng,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:G_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>F9[C-1]||q9),this.vsn){case tS:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((C,T)=>T(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,T)=>T(JSON.parse(C)));break;case M9:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class hy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class K9 extends hy{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o0 extends hy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const fy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W9=()=>Response,l0=e=>{if(Array.isArray(e))return e.map(n=>l0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=l0(i)}),t},Y9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ig=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},X9=(e,t,n)=>Ie(void 0,void 0,void 0,function*(){const i=yield W9();e instanceof i&&!n?.noResolveJson?e.json().then(s=>{const a=e.status||500,l=s?.statusCode||a+"";t(new K9(ig(s),a,l))}).catch(s=>{t(new o0(ig(s),s))}):t(new o0(ig(e),e))}),Q9=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!i?s:(Y9(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Fc(e,t,n,i,s,a){return Ie(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,Q9(t,i,s,a)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>X9(f,d,i))})})}function Sc(e,t,n,i){return Ie(this,void 0,void 0,function*(){return Fc(e,"GET",t,n,i)})}function tr(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return Fc(e,"POST",t,i,s,n)})}function u0(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return Fc(e,"PUT",t,i,s,n)})}function J9(e,t,n,i){return Ie(this,void 0,void 0,function*(){return Fc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function my(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return Fc(e,"DELETE",t,i,s,n)})}class eE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}}var sS;class tE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[sS]="BlobDownloadBuilder",this.promise=null}asStream(){return new eE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ut(t))return{data:null,error:t};throw t}})}}sS=Symbol.toStringTag;const nE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iE{constructor(t,n={},i,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=fy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,s){return Ie(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},X_),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=i,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),v=yield(t=="PUT"?u0:tr)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ut(a))return{data:null,error:a};throw a}})}upload(t,n,i){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,s){return Ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const g=Object.assign({upsert:X_.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",g.cacheControl)):(f=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield u0(this.fetch,d.toString(),f,{headers:y});return{data:{path:a,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Ut(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Ie(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const a=yield tr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new hy("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}update(t,n,i){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}copy(t,n,i){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,i){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,i){return Ie(this,void 0,void 0,function*(){try{const s=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",d=this._getFinalPath(t),f=()=>Sc(this.fetch,`${this.url}/${s}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new tE(f,this.shouldThrowOnError)}info(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Sc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:l0(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}exists(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield J9(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i)&&i instanceof o0){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),s=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let g=s.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield my(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}list(t,n,i){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},nE),n),{prefix:t||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}listV2(t,n){return Ie(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const aS="2.84.0",oS={"X-Client-Info":`storage-js/${aS}`};class rE{constructor(t,n={},i,s){this.shouldThrowOnError=!1;const a=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oS),n),this.fetch=fy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ie(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Sc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}getBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}createBucket(t){return Ie(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield my(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class sE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oS),n),this.fetch=fy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ie(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Sc(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield my(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}}const py={"X-Client-Info":`storage-js/${aS}`,"Content-Type":"application/json"};class lS extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _i(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class rg extends lS{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aE extends lS{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Q_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Q_||(Q_={}));const gy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},J_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lE=(e,t,n)=>Ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(l=>{const d=l?.statusCode||l?.code||s+"";t(new rg(J_(l),s,d))}).catch(()=>{const l=s+"",d=a.statusText||`HTTP ${s} error`;t(new rg(d,s,l))});else{const l=s+"",d=a.statusText||`HTTP ${s} error`;t(new rg(d,s,l))}}else t(new aE(J_(e),e))}),uE=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return i?(oE(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),n)):s};function cE(e,t,n,i,s,a){return Ie(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,uE(t,i,s,a)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;const g=f.headers.get("content-type");return!g||!g.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>lE(f,d,i))})})}function xi(e,t,n,i,s){return Ie(this,void 0,void 0,function*(){return cE(e,"POST",t,i,s,n)})}class dE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),n),this.fetch=gy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield xi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}listIndexes(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:(yield xi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_i(i))return{data:null,error:i};throw i}})}}class hE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),n),this.fetch=gy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}getVectors(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}listVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield xi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}}class fE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),n),this.fetch=gy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield xi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}getBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}listBuckets(){return Ie(this,arguments,void 0,function*(t={}){try{return{data:yield xi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield xi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_i(n))return{data:null,error:n};throw n}})}}class mE extends fE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new pE(this.url,this.headers,t,this.fetch)}}class pE extends dE{constructor(t,n,i,s){super(t,n,s),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ie(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ie(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ie(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ie(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new gE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class gE extends hE{constructor(t,n,i,s,a){super(t,n,a),this.vectorBucketName=i,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ie(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ie(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ie(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ie(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ie(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yE extends rE{constructor(t,n={},i,s){super(t,n,i,s)}from(t){return new iE(this.url,this.headers,t,this.fetch)}get vectors(){return new mE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sE(this.url+"/iceberg",this.headers,this.fetch)}}const vE="2.84.0";let oc="";typeof Deno<"u"?oc="deno":typeof document<"u"?oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oc="react-native":oc="node";const bE={"X-Client-Info":`supabase-js-${oc}/${vE}`},_E={headers:bE},xE={schema:"public"},wE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SE={},CE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EE=()=>Headers,TE=(e,t,n)=>{const i=CE(n),s=EE();return async(a,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let g=new s(l?.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),i(a,Object.assign(Object.assign({},l),{headers:g}))}};function jE(e){return e.endsWith("/")?e:e+"/"}function kE(e,t){var n,i;const{db:s,auth:a,realtime:l,global:d}=e,{db:f,auth:g,realtime:y,global:v}=t,x={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},g),a),realtime:Object.assign(Object.assign({},y),l),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function $E(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const uS="2.84.0",dl=30*1e3,c0=3,sg=c0*dl,NE="http://localhost:9999",LE="supabase.auth.token",AE={"X-Client-Info":`gotrue-js/${uS}`},d0="X-Supabase-Api-Version",cS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ME=600*1e3;class Cc extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OE extends Cc{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function RE(e){return Ue(e)&&e.name==="AuthApiError"}class Ja extends Cc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ta extends Cc{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class vi extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DE(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class nl extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dh extends ta{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zh extends ta{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zE(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class ex extends ta{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h0 extends ta{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ag(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class tx extends ta{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class f0 extends ta{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nx=` 	
\r=`.split(""),IE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nx.length;t+=1)e[nx[t].charCodeAt(0)]=-2;for(let t=0;t<of.length;t+=1)e[of[t].charCodeAt(0)]=t;return e})();function ix(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(of[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(of[i]),t.queuedBits-=6}}function dS(e,t,n){const i=IE[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rx(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{VE(l,i,n)};for(let l=0;l<e.length;l+=1)dS(e.charCodeAt(l),s,a);return t.join("")}function BE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UE(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}BE(i,t)}}function VE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vl(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)dS(e.charCodeAt(s),n,i);return new Uint8Array(t)}function HE(e){const t=[];return UE(e,n=>t.push(n)),new Uint8Array(t)}function eo(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>ix(s,n,i)),ix(null,n,i),t.join("")}function FE(e){return Math.round(Date.now()/1e3)+e}function qE(){return Symbol("auth-callback")}const Tn=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},hS=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function ZE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const fS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Za=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gs=async(e,t)=>{await e.removeItem(t)};class kf{constructor(){this.promise=new kf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kf.promiseConstructor=Promise;function og(e){const t=e.split(".");if(t.length!==3)throw new f0("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!PE.test(t[i]))throw new f0("JWT not in base64url format");return{header:JSON.parse(rx(t[0])),payload:JSON.parse(rx(t[1])),signature:vl(t[2]),raw:{header:t[0],payload:t[1]}}}async function KE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WE(e,t){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){i(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function YE(e){return("0"+e.toString(16)).substr(-2)}function XE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,YE).join("")}async function QE(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function JE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await QE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function il(e,t,n=!1){const i=XE();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await hl(e,`${t}-code-verifier`,s);const a=await JE(i);return[a,i===a?"plain":"s256"]}const e8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t8(e){const t=e.headers.get(d0);if(!t||!t.match(e8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function n8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(e){if(!r8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s8(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function sx(e){return JSON.parse(JSON.stringify(e))}const Wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a8=[502,503,504];async function ax(e){var t;if(!GE(e))throw new h0(Wa(e),0);if(a8.includes(e.status))throw new h0(Wa(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ja(Wa(a),a)}let i;const s=t8(e);if(s&&s.getTime()>=cS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new tx(Wa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new vi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new tx(Wa(n),e.status,n.weak_password.reasons);throw new OE(Wa(n),e.status||500,i)}const o8=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function qe(e,t,n,i){var s;const a=Object.assign({},i?.headers);a[d0]||(a[d0]=cS["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await l8(e,t,n+d,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function l8(e,t,n,i,s,a){const l=o8(t,i,s,a);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new h0(Wa(f),0)}if(d.ok||await ax(d),i?.noResolveJson)return d;try{return await d.json()}catch(f){await ax(f)}}function Ji(e){var t;let n=null;d8(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=FE(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function ox(e){const t=Ji(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function u8(e){return{data:e,error:null}}function c8(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=e,l=Rl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function lx(e){return e}function d8(e){return e.access_token&&e.refresh_token&&e.expires_in}const ug=["global","local","others"];class h8{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=fS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ug[0]){if(ug.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ug.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xs})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Rl(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:c8,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,a,l,d,f;try{const g={nextPage:null,lastPage:0,total:0},y=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:lx});if(y.error)throw y.error;const v=await y.json(),x=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const T=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);g[`${k}Page`]=T}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Ue(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){rl(t);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){rl(t);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xs})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){rl(t);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xs})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){rl(t.userId);try{const{data:n,error:i}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){rl(t.userId),rl(t.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,a,l,d,f;try{const g={nextPage:null,lastPage:0,total:0},y=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:lx});if(y.error)throw y.error;const v=await y.json(),x=(l=y.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const T=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);g[`${k}Page`]=T}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Ue(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function ux(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const sl={debug:!!(globalThis&&hS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class f8 extends mS{}async function m8(e,t,n){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),sl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new f8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function p8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function g8(e){return parseInt(e,16)}function y8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function v8(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:f,resources:g,scheme:y,uri:v,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=pS(e.address),C=y?`${y}://${i}`:i,T=e.statement?`${e.statement}
`:"",k=`${C} wants you to sign in with your Ethereum account:
${w}

${T}`;let $=`URI: ${v}
Version: ${x}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&($+=`
Expiration Time: ${s.toISOString()}`),d&&($+=`
Not Before: ${d.toISOString()}`),f&&($+=`
Request ID: ${f}`),g){let P=`
Resources:`;for(const N of g){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}$+=P}return`${k}
${$}`}class ln extends Error{constructor({message:t,code:n,cause:i,name:s}){var a;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=s??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class lf extends ln{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function b8({error:e,options:t}){var n,i,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ln({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ln({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ln({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ln({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ln({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ln({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ln({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ln({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(gS(l)){if(a.rp.id!==l)return new ln({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ln({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ln({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ln({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ln({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _8({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ln({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ln({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(gS(i)){if(n.rpId!==i)return new ln({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ln({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ln({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ln({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class x8{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const w8=new x8;function S8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=Rl(e,["challenge","user","excludeCredentials"]),a=vl(t).buffer,l=Object.assign(Object.assign({},n),{id:vl(n.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:a,user:l});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const g=i[f];d.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:vl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function C8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Rl(e,["challenge","allowCredentials"]),s=vl(t).buffer,a=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:vl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function E8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:eo(new Uint8Array(e.response.attestationObject)),clientDataJSON:eo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:eo(new Uint8Array(s.authenticatorData)),clientDataJSON:eo(new Uint8Array(s.clientDataJSON)),signature:eo(new Uint8Array(s.signature)),userHandle:s.userHandle?eo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function cx(){var e,t;return!!(Tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function j8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lf("Browser returned unexpected credential type",t)}:{data:null,error:new lf("Empty credential response",t)}}catch(t){return{data:null,error:b8({error:t,options:e})}}}async function k8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lf("Browser returned unexpected credential type",t)}:{data:null,error:new lf("Empty credential response",t)}}catch(t){return{data:null,error:_8({error:t,options:e})}}}const $8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},N8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(n(l))i[a]=l;else if(t(l)){const d=i[a];t(d)?i[a]=uf(d,l):i[a]=uf(l)}else i[a]=l}return i}function L8(e,t){return uf($8,e,t||{})}function A8(e,t){return uf(N8,e,t||{})}class P8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=s??w8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:g}=l.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(l.webauthn.type){case"create":{const g=L8(l.webauthn.credential_options.publicKey,a?.create),{data:y,error:v}=await j8({publicKey:g,signal:f});return y?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=A8(l.webauthn.credential_options.publicKey,a?.request),{data:y,error:v}=await k8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:g,signal:f}));return y?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new Ja("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new Cc("rpId is required for WebAuthn authentication")};try{if(!cx())return{data:null,error:new Ja("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:a});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new Ja("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new Cc("rpId is required for WebAuthn registration")};try{if(!cx())return{data:null,error:new Ja("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:f,error:g}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new Ja("Unexpected error in register",l)}}}}p8();const M8={url:NE,storageKey:LE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dx(e,t,n){return await n()}const al={};class Ec{get jwks(){var t,n;return(n=(t=al[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=al[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},M8),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Ec.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ec.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Tn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new h8({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=fS(a.fetch),this.lock=a.lock||dx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Tn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=m8:this.lock=dx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:hS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ux(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ux(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(Tn()&&(n=ZE(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Tn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zE(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?this._returnResult({error:n}):this._returnResult({error:new Ja("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const a=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ji}),{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,g=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,i,s;try{let a;if("email"in t){const{email:y,password:v,options:x}=t;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await il(this.storage,this.storageKey)),a=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:v,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:C},xform:Ji})}else if("phone"in t){const{phone:y,password:v,options:x}=t;a=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(s=x?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ji})}else throw new Dh("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,g=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:d}=t;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ox})}else if("phone"in t){const{phone:a,password:l,options:d}=t;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ox})}else throw new Dh("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const a=new nl;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,a,l,d,f,g,y,v,x;let w,C;if("message"in t)w=t.message,C=t.signature;else{const{chain:T,wallet:k,statement:$,options:P}=t;let N;if(Tn())if(typeof k=="object")N=k;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")N=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),H=await N.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=pS(H[0]);let Z=(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Z){const F=await N.request({method:"eth_chainId"});Z=g8(F)}const ne={domain:U.host,address:B,statement:$,uri:U.href,version:"1",chainId:Z,nonce:(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=P?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=v8(ne),C=await N.request({method:"personal_sign",params:[y8(w),B]})}try{const{data:T,error:k}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ji});if(k)throw k;if(!T||!T.session||!T.user){const $=new nl;return this._returnResult({data:{user:null,session:null},error:$})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(Ue(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var n,i,s,a,l,d,f,g,y,v,x,w;let C,T;if("message"in t)C=t.message,T=t.signature;else{const{chain:k,wallet:$,statement:P,options:N}=t;let U;if(Tn())if(typeof $=="object")U=$;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))U=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=$}const H=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const B=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),P?{statement:P}:null));let Z;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")Z=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)Z=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)C=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),T=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(s=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=N?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(y=N?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const B=await U.signMessage(new TextEncoder().encode(C),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=B}}try{const{data:k,error:$}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:eo(T)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ji});if($)throw $;if(!k||!k.session||!k.user){const P=new nl;return this._returnResult({data:{user:null,session:null},error:P})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:$})}catch(k){if(Ue(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const n=await Za(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:a,error:l}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ji});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const d=new nl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:a,nonce:l}=t,d=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ji}),{data:f,error:g}=d;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f||!f.session||!f.user){const y=new nl;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:g})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,a,l;try{if("email"in t){const{email:d,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await il(this.storage,this.storageKey));const{error:v}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:d,options:f}=t,{data:g,error:y}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new Dh("You must provide either an email or phone number.")}catch(d){if(Ue(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,i;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:d}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Ji});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,g=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,a,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await il(this.storage,this.storageKey));const g=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:u8});return!((a=g.data)===null||a===void 0)&&a.url&&Tn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(d){if(Ue(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new vi;const{error:s}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:a}=t,{error:l}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:a}=t,{data:l,error:d}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new Dh("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<sg:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await Za(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=lg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=s8(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xs}):await this._useSession(async n=>{var i,s,a;const{data:l,error:d}=n;if(d)throw d;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vi}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Xs})})}catch(n){if(Ue(n))return DE(n)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new vi;const l=s.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await il(this.storage,this.storageKey));const{data:g,error:y}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Xs});if(y)throw y;return l.user=g.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(Ue(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vi;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:l}=og(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new vi;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Tn())throw new zh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ex("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ex("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:d,expires_at:f,token_type:g}=t;if(!a||!d||!l||!g)throw new zh("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let x=y+v;f&&(x=parseInt(f));const w=x-y;w*1e3<=dl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const C=x-v;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,y);const{data:T,error:k}=await this._getUser(a);if(k)throw k;const $={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:v,expires_at:x,refresh_token:l,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:t.type},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(RE(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=qE(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await il(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var l,d,f,g,y;const{data:v,error:x}=a;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return Tn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:l,provider:d,token:f,access_token:g,nonce:y}=t,v=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:f,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ji}),{data:x,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new nl}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)throw l;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await WE(async s=>(s>0&&await KE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ji})),(s,a)=>{const l=200*Math.pow(2,s);return a&&ag(a)&&Date.now()+l-i<dl})}catch(i){if(this._debug(n,"error",i),Ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Tn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Za(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await hl(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:lg()}else if(s&&!s.user&&!s.user){const l=await Za(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await Gs(this.storage,this.storageKey+"-user"),await hl(this.storage,this.storageKey,s)):s.user=lg()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sg;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${sg}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),ag(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(s.access_token);!d&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kf;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new vi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(s,"error",a),Ue(a)){const l={data:null,error:a};return ag(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await hl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=sx(s);await hl(this.storage,this.storageKey,a)}else{const s=sx(n);await hl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await Gs(this.storage,this.storageKey+"-code-verifier"),await Gs(this.storage,this.storageKey+"-user"),this.userStorage&&await Gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/dl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dl}ms, refresh threshold is ${c0} ticks`),s<=c0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await il(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(d.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:g}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?E8(t.webauthn.credential_response):T8(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:S8(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:C8(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=og(i.access_token);let l=null;a.aal&&(l=a.aal);let d=l;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const g=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new vi})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new vi});const l=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Tn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ue(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new vi});const l=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Tn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ue(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new vi})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new vi})})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(d=>d.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+ME>s)return i;const{data:a,error:l}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:w,error:C}=await this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});i=w.session.access_token}const{header:s,payload:a,signature:l,raw:{header:d,payload:f}}=og(i);n?.allowExpired||n8(a.exp);const g=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}const y=i8(s.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,l,HE(`${d}.${f}`)))throw new f0("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(Ue(i))return this._returnResult({data:null,error:i});throw i}}}Ec.nextInstanceID={};const O8=Ec;class R8 extends O8{constructor(t){super(t)}}class D8{constructor(t,n,i){var s,a,l;this.supabaseUrl=t,this.supabaseKey=n;const d=$E(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:xE,realtime:SE,auth:Object.assign(Object.assign({},wE),{storageKey:f}),global:_E},y=kE(i??{},g);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=y.auth)!==null&&l!==void 0?l:{},this.headers,y.global.fetch),this.fetch=TE(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new N9(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new yE(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new T9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:a,storageKey:l,flowType:d,lock:f,debug:g,throwOnError:y},v,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R8({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:a,flowType:d,lock:f,debug:g,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new G9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z8=(e,t,n)=>new D8(e,t,n);function I8(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}I8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const B8="https://xtkbvnnkovogqwcwdhkg.supabase.co",U8="sb_publishable_HIszZakF8E4vj8K5mAftOg_gtrgQTrv",ge=z8(B8,U8,{auth:{storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),yS=Object.freeze(Object.defineProperty({__proto__:null,supabase:ge},Symbol.toStringTag,{value:"Module"}));var hx="popstate";function V8(e={}){function t(s,a){let{pathname:l="/",search:d="",hash:f=""}=uo(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),m0("",{pathname:l,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=s.location.href,g=f.indexOf("#");d=g===-1?f:f.slice(0,g)}return d+"#"+(typeof a=="string"?a:Tc(a))}function i(s,a){Ci(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return F8(t,n,i,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ci(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H8(){return Math.random().toString(36).substring(2,10)}function fx(e,t){return{usr:e.state,key:e.key,idx:t}}function m0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?uo(t):t,state:n,key:t&&t.key||i||H8()}}function Tc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function uo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function F8(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,d="POP",f=null,g=y();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function y(){return(l.state||{idx:null}).idx}function v(){d="POP";let k=y(),$=k==null?null:k-g;g=k,f&&f({action:d,location:T.location,delta:$})}function x(k,$){d="PUSH";let P=m0(T.location,k,$);n&&n(P,k),g=y()+1;let N=fx(P,g),U=T.createHref(P);try{l.pushState(N,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(U)}a&&f&&f({action:d,location:T.location,delta:1})}function w(k,$){d="REPLACE";let P=m0(T.location,k,$);n&&n(P,k),g=y();let N=fx(P,g),U=T.createHref(P);l.replaceState(N,"",U),a&&f&&f({action:d,location:T.location,delta:0})}function C(k){return q8(k)}let T={get action(){return d},get location(){return e(s,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(hx,v),f=k,()=>{s.removeEventListener(hx,v),f=null}},createHref(k){return t(s,k)},createURL:C,encodeLocation(k){let $=C(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:x,replace:w,go(k){return l.go(k)}};return T}function q8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Tc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function vS(e,t,n="/"){return Z8(e,t,n,!1)}function Z8(e,t,n,i){let s=typeof t=="string"?uo(t):t,a=ss(s.pathname||"/",n);if(a==null)return null;let l=bS(e);G8(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let g=rT(a);d=nT(l[f],g,i)}return d}function bS(e,t=[],n=[],i="",s=!1){let a=(l,d,f=s,g)=>{let y={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;Ht(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=rs([i,y.relativePath]),x=n.concat(y);l.children&&l.children.length>0&&(Ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),bS(l.children,t,x,v,f)),!(l.path==null&&!l.index)&&t.push({path:v,score:eT(v,l.index),routesMeta:x})};return e.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let f of _S(l.path))a(l,d,!0,f)}),t}function _S(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=_S(i.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function G8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tT(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var K8=/^:[\w-]+$/,W8=3,Y8=2,X8=1,Q8=10,J8=-2,mx=e=>e==="*";function eT(e,t){let n=e.split("/"),i=n.length;return n.some(mx)&&(i+=J8),t&&(i+=Y8),n.filter(s=>!mx(s)).reduce((s,a)=>s+(K8.test(a)?W8:a===""?X8:Q8),i)}function tT(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function nT(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let d=0;d<i.length;++d){let f=i[d],g=d===i.length-1,y=a==="/"?t:t.slice(a.length)||"/",v=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),x=f.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:rs([a,v.pathname]),pathnameBase:uT(rs([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=rs([a,v.pathnameBase]))}return l}function cf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=iT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let C=d[x]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[x];return v&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:e}}function iT(e,t=!1,n=!0){Ci(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function rT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ci(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aT=e=>sT.test(e);function oT(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?uo(e):e,a;if(n)if(aT(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=px(n.substring(1),"/"):a=px(n,t)}else a=t;return{pathname:a,search:cT(i),hash:dT(s)}}function px(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cg(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xS(e){let t=lT(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function wS(e,t,n,i=!1){let s;typeof e=="string"?s=uo(e):(s={...e},Ht(!s.pathname||!s.pathname.includes("?"),cg("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),cg("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),cg("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let v=t.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}d=v>=0?t[v]:"/"}let f=oT(s,d),g=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var rs=e=>e.join("/").replace(/\/\/+/g,"/"),uT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SS=["POST","PUT","PATCH","DELETE"];new Set(SS);var fT=["GET",...SS];new Set(fT);var zl=j.createContext(null);zl.displayName="DataRouter";var $f=j.createContext(null);$f.displayName="DataRouterState";j.createContext(!1);var CS=j.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var mT=j.createContext(new Map);mT.displayName="Fetchers";var pT=j.createContext(null);pT.displayName="Await";var $r=j.createContext(null);$r.displayName="Navigation";var qc=j.createContext(null);qc.displayName="Location";var Nr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var yy=j.createContext(null);yy.displayName="RouteError";function gT(e,{relative:t}={}){Ht(Zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext($r),{hash:s,pathname:a,search:l}=Gc(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:rs([n,a])),i.createHref({pathname:d,search:l,hash:s})}function Zc(){return j.useContext(qc)!=null}function sr(){return Ht(Zc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(qc).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(e){j.useContext($r).static||j.useLayoutEffect(e)}function Il(){let{isDataRoute:e}=j.useContext(Nr);return e?LT():yT()}function yT(){Ht(Zc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(zl),{basename:t,navigator:n}=j.useContext($r),{matches:i}=j.useContext(Nr),{pathname:s}=sr(),a=JSON.stringify(xS(i)),l=j.useRef(!1);return TS(()=>{l.current=!0}),j.useCallback((f,g={})=>{if(Ci(l.current,ES),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=wS(f,JSON.parse(a),s,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:rs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,a,s,e])}var vT=j.createContext(null);function bT(e){let t=j.useContext(Nr).outlet;return j.useMemo(()=>t&&j.createElement(vT.Provider,{value:e},t),[t,e])}function Gc(e,{relative:t}={}){let{matches:n}=j.useContext(Nr),{pathname:i}=sr(),s=JSON.stringify(xS(n));return j.useMemo(()=>wS(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function _T(e,t){return jS(e,t)}function jS(e,t,n,i,s){Ht(Zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext($r),{matches:l}=j.useContext(Nr),d=l[l.length-1],f=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let P=v&&v.path||"";kS(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=sr(),w;if(t){let P=typeof t=="string"?uo(t):t;Ht(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=x;let C=w.pathname||"/",T=C;if(y!=="/"){let P=y.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=vS(e,{pathname:T});Ci(v||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ci(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=ET(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:rs([y,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:rs([y,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),l,n,i,s);return t&&$?j.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},$):$}function xT(){let e=NT(),t=hT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,l)}var wT=j.createElement(xT,null),ST=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Nr.Provider,{value:this.props.routeContext},j.createElement(yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CT({routeContext:e,match:t,children:n}){let i=j.useContext(zl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Nr.Provider,{value:e},n)}function ET(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let y=a.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Ht(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let d=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let v=a[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:x,errors:w}=n,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||C){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let g=n&&i?(y,v)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return a.reduceRight((y,v,x)=>{let w,C=!1,T=null,k=null;n&&(w=l&&v.route.id?l[v.route.id]:void 0,T=v.route.errorElement||wT,d&&(f<0&&x===0?(kS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):f===x&&(C=!0,k=v.route.hydrateFallbackElement||null)));let $=t.concat(a.slice(0,x+1)),P=()=>{let N;return w?N=T:C?N=k:v.route.Component?N=j.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=y,j.createElement(CT,{match:v,routeContext:{outlet:y,matches:$,isDataRoute:n!=null},children:N})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(ST,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:P(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):P()},null)}function vy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(e){let t=j.useContext(zl);return Ht(t,vy(e)),t}function jT(e){let t=j.useContext($f);return Ht(t,vy(e)),t}function kT(e){let t=j.useContext(Nr);return Ht(t,vy(e)),t}function by(e){let t=kT(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function $T(){return by("useRouteId")}function NT(){let e=j.useContext(yy),t=jT("useRouteError"),n=by("useRouteError");return e!==void 0?e:t.errors?.[n]}function LT(){let{router:e}=TT("useNavigate"),t=by("useNavigate"),n=j.useRef(!1);return TS(()=>{n.current=!0}),j.useCallback(async(s,a={})=>{Ci(n.current,ES),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var gx={};function kS(e,t,n){!t&&!gx[e]&&(gx[e]=!0,Ci(!1,n))}j.memo(AT);function AT({routes:e,future:t,state:n,unstable_onError:i}){return jS(e,void 0,n,i,t)}function PT(e){return bT(e.context)}function Pn(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MT({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Ht(!Zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=uo(n));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:x="default"}=n,w=j.useMemo(()=>{let C=ss(f,l);return C==null?null:{location:{pathname:C,search:g,hash:y,state:v,key:x},navigationType:i}},[l,f,g,y,v,x,i]);return Ci(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement($r.Provider,{value:d},j.createElement(qc.Provider,{children:t,value:w}))}function OT({children:e,location:t}){return _T(p0(e),t)}function p0(e,t=[]){let n=[];return j.Children.forEach(e,(i,s)=>{if(!j.isValidElement(i))return;let a=[...t,s];if(i.type===j.Fragment){n.push.apply(n,p0(i.props.children,a));return}Ht(i.type===Pn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=p0(i.props.children,a)),n.push(l)}),n}var Yh="get",Xh="application/x-www-form-urlencoded";function Nf(e){return e!=null&&typeof e.tagName=="string"}function RT(e){return Nf(e)&&e.tagName.toLowerCase()==="button"}function DT(e){return Nf(e)&&e.tagName.toLowerCase()==="form"}function zT(e){return Nf(e)&&e.tagName.toLowerCase()==="input"}function IT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BT(e,t){return e.button===0&&(!t||t==="_self")&&!IT(e)}function g0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function UT(e,t){let n=g0(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Ih=null;function VT(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var HT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(e){return e!=null&&!HT.has(e)?(Ci(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):e}function FT(e,t){let n,i,s,a,l;if(DT(e)){let d=e.getAttribute("action");i=d?ss(d,t):null,n=e.getAttribute("method")||Yh,s=dg(e.getAttribute("enctype"))||Xh,a=new FormData(e)}else if(RT(e)||zT(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(i=f?ss(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Yh,s=dg(e.getAttribute("formenctype"))||dg(d.getAttribute("enctype"))||Xh,a=new FormData(d,e),!VT()){let{name:g,type:y,value:v}=e;if(y==="image"){let x=g?`${g}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else g&&a.append(g,v)}}else{if(Nf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yh,i=null,s=Xh,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qT(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ss(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ZT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KT(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await ZT(a,n);return l.links?l.links():[]}return[]}));return QT(i.flat(1).filter(GT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yx(e,t,n,i,s,a){let l=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,d=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return a==="assets"?t.filter((f,g)=>l(f,g)||d(f,g)):a==="data"?t.filter((f,g)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function WT(e,t,{includeHydrateFallback:n}={}){return YT(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function YT(e){return[...new Set(e)]}function XT(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function QT(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(XT(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function $S(){let e=j.useContext(zl);return _y(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JT(){let e=j.useContext($f);return _y(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xy=j.createContext(void 0);xy.displayName="FrameworkContext";function NS(){let e=j.useContext(xy);return _y(e,"You must render this element inside a <HydratedRouter> element"),e}function ej(e,t){let n=j.useContext(xy),[i,s]=j.useState(!1),[a,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let T=$=>{$.forEach(P=>{l(P.isIntersecting)})},k=new IntersectionObserver(T,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[e]),j.useEffect(()=>{if(i){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[i]);let w=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:Qu(d,w),onBlur:Qu(f,C),onMouseEnter:Qu(g,w),onMouseLeave:Qu(y,C),onTouchStart:Qu(v,w)}]:[!1,x,{}]}function Qu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tj({page:e,...t}){let{router:n}=$S(),i=j.useMemo(()=>vS(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(ij,{page:e,matches:i,...t}):null}function nj(e){let{manifest:t,routeModules:n}=NS(),[i,s]=j.useState([]);return j.useEffect(()=>{let a=!1;return KT(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function ij({page:e,matches:t,...n}){let i=sr(),{manifest:s,routeModules:a}=NS(),{basename:l}=$S(),{loaderData:d,matches:f}=JT(),g=j.useMemo(()=>yx(e,t,f,s,i,"data"),[e,t,f,s,i]),y=j.useMemo(()=>yx(e,t,f,s,i,"assets"),[e,t,f,s,i]),v=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,T=!1;if(t.forEach($=>{let P=s.routes[$.route.id];!P||!P.hasLoader||(!g.some(N=>N.route.id===$.route.id)&&$.route.id in d&&a[$.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:C.add($.route.id))}),C.size===0)return[];let k=qT(e,l,"data");return T&&C.size>0&&k.searchParams.set("_routes",t.filter($=>C.has($.route.id)).map($=>$.route.id).join(",")),[k.pathname+k.search]},[l,d,i,s,g,t,e,a]),x=j.useMemo(()=>WT(y,s),[y,s]),w=nj(y);return j.createElement(j.Fragment,null,v.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),x.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:T})=>j.createElement("link",{key:C,nonce:n.nonce,...T})))}function rj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LS&&(window.__reactRouterVersion="7.9.6")}catch{}function sj({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=V8({window:n,v5Compat:!0}));let s=i.current,[a,l]=j.useState({action:s.action,location:s.location}),d=j.useCallback(f=>{j.startTransition(()=>l(f))},[l]);return j.useLayoutEffect(()=>s.listen(d),[s,d]),j.createElement(MT,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var AS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:d,target:f,to:g,preventScrollReset:y,viewTransition:v,...x},w){let{basename:C}=j.useContext($r),T=typeof g=="string"&&AS.test(g),k,$=!1;if(typeof g=="string"&&T&&(k=g,LS))try{let F=new URL(window.location.href),W=g.startsWith("//")?new URL(F.protocol+g):new URL(g),q=ss(W.pathname,C);W.origin===F.origin&&q!=null?g=q+W.search+W.hash:$=!0}catch{Ci(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=gT(g,{relative:s}),[N,U,H]=ej(i,x),B=uj(g,{replace:l,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:v});function Z(F){t&&t(F),F.defaultPrevented||B(F)}let ne=j.createElement("a",{...x,...H,href:k||P,onClick:$||a?t:Z,ref:rj(w,U),target:f,"data-discover":!T&&n==="render"?"true":void 0});return N&&!T?j.createElement(j.Fragment,null,ne,j.createElement(tj,{page:P})):ne});bl.displayName="Link";var aj=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:d,children:f,...g},y){let v=Gc(l,{relative:g.relative}),x=sr(),w=j.useContext($f),{navigator:C,basename:T}=j.useContext($r),k=w!=null&&pj(v)&&d===!0,$=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,P=x.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),N=N?N.toLowerCase():null,$=$.toLowerCase()),N&&T&&(N=ss(N,T)||N);const U=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let H=P===$||!s&&P.startsWith($)&&P.charAt(U)==="/",B=N!=null&&(N===$||!s&&N.startsWith($)&&N.charAt($.length)==="/"),Z={isActive:H,isPending:B,isTransitioning:k},ne=H?t:void 0,F;typeof i=="function"?F=i(Z):F=[i,H?"active":null,B?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(Z):a;return j.createElement(bl,{...g,"aria-current":ne,className:F,ref:y,style:W,to:l,viewTransition:d},typeof f=="function"?f(Z):f)});aj.displayName="NavLink";var oj=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Yh,action:d,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,...x},w)=>{let C=fj(),T=mj(d,{relative:g}),k=l.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&AS.test(d),P=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let U=N.nativeEvent.submitter,H=U?.getAttribute("formmethod")||l;C(U||N.currentTarget,{fetcherKey:t,method:H,navigate:n,replace:s,state:a,relative:g,preventScrollReset:y,viewTransition:v})};return j.createElement("form",{ref:w,method:k,action:T,onSubmit:i?f:P,...x,"data-discover":!$&&e==="render"?"true":void 0})});oj.displayName="Form";function lj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(e){let t=j.useContext(zl);return Ht(t,lj(e)),t}function uj(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let d=Il(),f=sr(),g=Gc(e,{relative:a});return j.useCallback(y=>{if(BT(y,t)){y.preventDefault();let v=n!==void 0?n:Tc(f)===Tc(g);d(e,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[f,d,g,n,i,t,e,s,a,l])}function cj(e){Ci(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(g0(e)),n=j.useRef(!1),i=sr(),s=j.useMemo(()=>UT(i.search,n.current?null:t.current),[i.search]),a=Il(),l=j.useCallback((d,f)=>{const g=g0(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,a("?"+g,f)},[a,s]);return[s,l]}var dj=0,hj=()=>`__${String(++dj)}__`;function fj(){let{router:e}=PS("useSubmit"),{basename:t}=j.useContext($r),n=$T();return j.useCallback(async(i,s={})=>{let{action:a,method:l,encType:d,formData:f,body:g}=FT(i,t);if(s.navigate===!1){let y=s.fetcherKey||hj();await e.fetch(y,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function mj(e,{relative:t}={}){let{basename:n}=j.useContext($r),i=j.useContext(Nr);Ht(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Gc(e||".",{relative:t})},l=sr();if(e==null){a.search=l.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();a.search=y?`?${y}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:rs([n,a.pathname])),Tc(a)}function pj(e,{relative:t}={}){let n=j.useContext(CS);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=PS("useViewTransitionState"),s=Gc(e,{relative:t});if(!n.isTransitioning)return!1;let a=ss(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ss(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cf(s.pathname,l)!=null||cf(s.pathname,a)!=null}var MS=S3();const gj="modulepreload",yj=function(e){return"/Map/"+e},vx={},Kc=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");s=f(n.map(g=>{if(g=yj(g),g in vx)return;vx[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":gj,y||(x.as="script"),x.crossOrigin="",x.href=g,d&&x.setAttribute("nonce",d),document.head.appendChild(x),y)return new Promise((w,C)=>{x.addEventListener("load",w),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return s.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function vj(e=[]){const[t,n]=j.useState(e);j.useEffect(()=>{Array.isArray(e)&&n(e)},[e]);const i=["id","lat","lng","rectangle","angle","coreLocked"],s=["iconUrl","iconSize","iconColor","className","prefix","glyph","glyphColor","glyphSize","glyphAnchor","appearanceLocked"],a=["name","logo","website","info","contentLocked"],l=j.useCallback(async(d,f)=>{async function g(v,x,w){const{data:C,error:T}=await v.from(x).select("id").eq("id",w);if(!T&&(!C||C.length===0)){let k={id:w};return x==="Markers_Core"&&(k.coreLocked=!1),x==="Markers_Appearance"&&(k.appearanceLocked=!1),x==="Markers_Content"&&(k.contentLocked=!1),await v.from(x).insert([k]),!0}return!0}const y=typeof d=="string"&&d.startsWith("m")?parseInt(d.slice(1),10):d;n(v=>v.map(x=>x.id===d?{...x,...f}:x));try{const{supabase:v}=await Kc(async()=>{const{supabase:w}=await Promise.resolve().then(()=>yS);return{supabase:w}},[]),x=[{name:"Markers_Core",fields:i},{name:"Markers_Appearance",fields:s},{name:"Markers_Content",fields:a}];for(const{name:w}of x)await g(v,w,y);for(const[w,C]of Object.entries(f)){let T=null;if(i.includes(w)?T="Markers_Core":s.includes(w)?T="Markers_Appearance":a.includes(w)&&(T="Markers_Content"),T){if(!await g(v,T,y))continue;await v.from(T).update({[w]:C}).eq("id",y)}}}catch{}},[]);return[t,l,n]}function bj(e=new Date().getFullYear()){const t=typeof window<"u"?localStorage.getItem("eventMarkers"):null,n=typeof navigator<"u"?navigator.onLine:!0,[i,s]=j.useState(n),[a,l]=j.useState(()=>!n&&t?JSON.parse(t):[]),[d,f]=j.useState(()=>!(!n&&t)),g=j.useRef(e);j.useEffect(()=>{g.current=e},[e]);const y=j.useCallback(async v=>{const x=g.current;if(f(!0),!v&&t){l(JSON.parse(t)),f(!1);return}try{const[w,C,T,k,$]=await Promise.all([ge.from("Markers_Core").select("*"),ge.from("Markers_Appearance").select("*"),ge.from("Markers_Content").select("*"),ge.from("assignments").select(`
            *,
            company:companies(id, name, logo, website, info, company_translations(language_code, info))
          `).eq("event_year",x),ge.from("event_subscriptions").select("*").eq("event_year",x)]);if(w.error)throw w.error;if(C.error)throw C.error;if(T.error)throw T.error;if(k.error)throw k.error;if($.error)throw $.error;const P={};for(const F of C.data||[])F&&F.id&&(P[F.id]=F);const N={};for(const F of T.data||[])F&&F.id&&(N[F.id]=F);const U={appearance:P[-1]||{},core:(w.data||[]).find(F=>F.id===-1)||{}},H={appearance:P[-2]||{},core:(w.data||[]).find(F=>F.id===-2)||{}},B={};for(const F of $.data||[])F&&F.company_id&&(B[F.company_id]=F);const Z={};for(const F of k.data||[])!F||!F.marker_id||(Z[F.marker_id]||(Z[F.marker_id]=[]),Z[F.marker_id].push({assignmentId:F.id,companyId:F.company_id,...F.company}));const ne=(w.data||[]).filter(F=>F.id>0).map(F=>{const W=P[F.id]||{},q=N[F.id]||{},X=Z[F.id]||[];let oe={},Q={};if(F.id<1e3){const se=X[0]||{},V=!!se.companyId;oe={name:se.name,logo:se.logo,website:se.website,info:se.info,companyId:se.companyId,assignmentId:se.assignmentId,company_translations:se.company_translations};const G=V?U:H,re={...G.appearance,...W},Ce={...G.core,...F};if(Object.assign(F,Ce),Object.assign(W,re),se.companyId){const O=B[se.companyId]||{};Q={contact:O.contact,phone:O.phone,email:O.email,boothCount:O.booth_count,area:O.area,coins:O.coins,breakfast:O.breakfast_sat,lunch:O.lunch_sat,bbq:O.bbq_sat,notes:O.notes}}}else oe={name:q.name,logo:q.logo,website:q.website,info:q.info},Q={};return{...F,...W,...oe,...Q,assignments:X}});l(ne),localStorage.setItem("eventMarkers",JSON.stringify(ne))}catch(w){console.error("Error loading markers:",w)}finally{f(!1)}},[t]);return j.useEffect(()=>{y(i);function v(){s(!0),y(!0)}function x(){s(!1);const N=localStorage.getItem("eventMarkers");N&&l(JSON.parse(N)),f(!1)}window.addEventListener("online",v),window.addEventListener("offline",x);const w=ge.channel("markers-core-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Core"},()=>{y(!0)}).subscribe(),C=ge.channel("markers-appearance-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Appearance"},()=>{y(!0)}).subscribe(),T=ge.channel("markers-content-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Content"},()=>{y(!0)}).subscribe(),k=ge.channel("markers-assignments-changes").on("postgres_changes",{event:"*",schema:"public",table:"assignments"},async N=>{if(N.eventType==="DELETE")y(!0);else if(N.eventType==="INSERT"||N.eventType==="UPDATE"){if(N.new?.event_year!==g.current)return;y(!0)}}).subscribe(),$=ge.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},N=>{if(N.eventType==="UPDATE"&&N.new){const U=N.new;l(H=>H.map(B=>B.companyId===U.id?{...B,name:U.name,logo:U.logo,website:U.website,info:U.info}:B)),l(H=>(localStorage.setItem("eventMarkers",JSON.stringify(H)),H))}else y(!0)}).subscribe(),P=ge.channel(`event-subscriptions-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},N=>{y(!0)}).subscribe();return()=>{window.removeEventListener("online",v),window.removeEventListener("offline",x),ge.removeChannel(w),ge.removeChannel(C),ge.removeChannel(T),ge.removeChannel(k),ge.removeChannel($),ge.removeChannel(P)}},[i,y]),j.useEffect(()=>{y(i)},[e,i,y]),{markers:a,loading:d,isOnline:i,reload:()=>y(i)}}class hg extends Si.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?h.jsxs("div",{style:{color:"red",padding:"2rem"},children:[h.jsx("h2",{children:"Something went wrong in a component."}),h.jsx("pre",{children:typeof this.state.error=="string"?this.state.error:JSON.stringify(this.state.error,null,2)})]}):h.jsx("div",{style:{width:"100%",minHeight:"100svh",boxSizing:"border-box",position:"relative"},children:this.props.children})}}function _j(){const[e,t]=j.useState(typeof navigator<"u"?navigator.onLine:!0);return j.useEffect(()=>{function n(){t(!0)}function i(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),e?null:h.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-900 px-4 py-2 rounded shadow-lg z-50",role:"status","aria-live":"polite",children:h.jsx("span",{"aria-label":"Offline mode",children:"You are offline. Some features may be unavailable."})})}const We=e=>typeof e=="string",Ju=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},bx=e=>e==null?"":""+e,xj=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},wj=/###/g,_x=e=>e&&e.indexOf("###")>-1?e.replace(wj,"."):e,xx=e=>!e||We(e),fc=(e,t,n)=>{const i=We(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(xx(e))return{};const a=_x(i[s]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++s}return xx(e)?{}:{obj:e,k:_x(i[s])}},wx=(e,t,n)=>{const{obj:i,k:s}=fc(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let a=t[t.length-1],l=t.slice(0,t.length-1),d=fc(e,l,Object);for(;d.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),d=fc(e,l,Object),d?.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=n},Sj=(e,t,n,i)=>{const{obj:s,k:a}=fc(e,t,Object);s[a]=s[a]||[],s[a].push(n)},df=(e,t)=>{const{obj:n,k:i}=fc(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},Cj=(e,t,n)=>{const i=df(e,n);return i!==void 0?i:df(t,n)},OS=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?We(e[i])||e[i]instanceof String||We(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):OS(e[i],t[i],n):e[i]=t[i]);return e},ol=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ej={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Tj=e=>We(e)?e.replace(/[&<>"'\/]/g,t=>Ej[t]):e;class jj{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const kj=[" ",",","?","!",";"],$j=new jj(20),Nj=(e,t,n)=>{t=t||"",n=n||"";const i=kj.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=$j.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!s.test(e);if(!a){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(a=!0)}return a},y0=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let a=0;a<i.length;){if(!s||typeof s!="object")return;let l,d="";for(let f=a;f<i.length;++f)if(f!==a&&(d+=n),d+=i[f],l=s[d],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<i.length-1)continue;a+=f-a+1;break}s=l}return s},jc=e=>e?.replace("_","-"),Lj={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class hf{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Lj,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(We(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new hf(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new hf(this.logger,t)}}var Er=new hf;class Lf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[t,...n])})}}class Sx extends Lf{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],i&&(Array.isArray(i)?d.push(...i):We(i)&&a?d.push(...i.split(a)):d.push(i)));const f=df(this.data,d);return!f&&!n&&!i&&t.indexOf(".")>-1&&(t=d[0],n=d[1],i=d.slice(2).join(".")),f||!l||!We(i)?f:y0(this.data?.[t]?.[n],i,a)}addResource(t,n,i,s,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[t,n];i&&(d=d.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(d=t.split("."),s=n,n=d[1]),this.addNamespaces(n),wx(this.data,d,s),a.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const a in i)(We(i[a])||Array.isArray(i[a]))&&this.addResource(t,n,a,i[a],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,a,l={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),s=i,i=n,n=d[1]),this.addNamespaces(n);let f=df(this.data,d)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?OS(f,i,a):f={...f,...i},wx(this.data,d,f),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var RS={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(a=>{t=this.processors[a]?.process(t,n,i,s)??t}),t}};const DS=Symbol("i18next/PATH_KEY");function Aj(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===DS?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function v0(e,t){const{[DS]:n}=e(Aj());return n.join(t?.keySeparator??".")}const Cx={},fg=e=>!We(e)&&typeof e!="boolean"&&typeof e!="number";class ff extends Lf{constructor(t,n={}){super(),xj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Er.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const a=fg(s.res);return!(i.returnObjects===!1&&a)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Nj(t,i,s);if(l&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:We(a)?[a]:a};const g=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(g[0])>-1)&&(a=g.shift()),t=g.join(s)}return{key:t,namespaces:We(a)?[a]:a}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=v0(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],s),g=f[f.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=s.lng||this.language,x=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return x?a?{res:`${g}${y}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:`${g}${y}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:d;const w=this.resolve(t,s);let C=w?.res;const T=w?.usedKey||d,k=w?.exactUsedKey||d,$=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,U=s.count!==void 0&&!We(s.count),H=ff.hasDefaultValue(s),B=U?this.pluralResolver.getSuffix(v,s.count,s):"",Z=s.ordinal&&U?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",ne=U&&!s.ordinal&&s.count===0,F=ne&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${B}`]||s[`defaultValue${Z}`]||s.defaultValue;let W=C;N&&!C&&H&&(W=F);const q=fg(W),X=Object.prototype.toString.apply(W);if(N&&W&&q&&$.indexOf(X)<0&&!(We(P)&&Array.isArray(W))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,W,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(w.res=oe,w.usedParams=this.getUsedParamsDetails(s),w):oe}if(l){const oe=Array.isArray(W),Q=oe?[]:{},se=oe?k:T;for(const V in W)if(Object.prototype.hasOwnProperty.call(W,V)){const G=`${se}${l}${V}`;H&&!C?Q[V]=this.translate(G,{...s,defaultValue:fg(F)?F[V]:void 0,joinArrays:!1,ns:f}):Q[V]=this.translate(G,{...s,joinArrays:!1,ns:f}),Q[V]===G&&(Q[V]=W[V])}C=Q}}else if(N&&We(P)&&Array.isArray(C))C=C.join(P),C&&(C=this.extendTranslation(C,t,s,i));else{let oe=!1,Q=!1;!this.isValidLookup(C)&&H&&(oe=!0,C=F),this.isValidLookup(C)||(Q=!0,C=d);const V=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:C,G=H&&F!==C&&this.options.updateMissing;if(Q||oe||G){if(this.logger.log(G?"updateKey":"missingKey",v,g,d,G?F:C),l){const R=this.resolve(d,{...s,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const Ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ce&&Ce[0])for(let R=0;R<Ce.length;R++)re.push(Ce[R]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(s.lng||this.language):re.push(s.lng||this.language);const O=(R,J,D)=>{const ce=H&&D!==C?D:V;this.options.missingKeyHandler?this.options.missingKeyHandler(R,g,J,ce,G,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(R,g,J,ce,G,s),this.emit("missingKey",R,g,J,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?re.forEach(R=>{const J=this.pluralResolver.getSuffixes(R,s);ne&&s[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(D=>{O([R],d+D,s[`defaultValue${D}`]||F)})}):O(re,d,F))}C=this.extendTranslation(C,t,s,w,i),Q&&C===d&&this.options.appendNamespaceToMissingKey&&(C=`${g}${y}${d}`),(Q||oe)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${d}`:d,oe?C:void 0,s))}return a?(w.res=C,w.usedParams=this.getUsedParamsDetails(s),w):C}extendTranslation(t,n,i,s,a){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=We(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(f){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let y=i.replace&&!We(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),t=this.interpolator.interpolate(t,y,i.lng||this.language||s.usedLng,i),f){const v=t.match(this.interpolator.nestingRegexp),x=v&&v.length;g<x&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>a?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,d=We(l)?[l]:l;return t!=null&&d?.length&&i.applyPostProcessor!==!1&&(t=RS.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,a,l,d;return We(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(f,n),y=g.key;s=y;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const x=n.count!==void 0&&!We(n.count),w=x&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(We(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(k=>{this.isValidLookup(i)||(d=k,!Cx[`${T[0]}-${k}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(Cx[`${T[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${T.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach($=>{if(this.isValidLookup(i))return;l=$;const P=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,y,$,k,n);else{let U;x&&(U=this.pluralResolver.getSuffix($,n.count,n));const H=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&U.indexOf(B)===0&&P.push(y+U.replace(B,this.options.pluralSeparator)),P.push(y+U),w&&P.push(y+H)),C){const Z=`${y}${this.options.contextSeparator||"_"}${n.context}`;P.push(Z),x&&(n.ordinal&&U.indexOf(B)===0&&P.push(Z+U.replace(B,this.options.pluralSeparator)),P.push(Z+U),w&&P.push(Z+H))}}let N;for(;N=P.pop();)this.isValidLookup(i)||(a=N,i=this.getResource($,k,N,n))}))})}),{res:i,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!We(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const a of n)delete s[a]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class Ex{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Er.create("languageUtils")}getScriptPartFromCode(t){if(t=jc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=jc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(We(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),We(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],a=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return We(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):We(t)&&a(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}}const Tx={zero:0,one:1,two:2,few:3,many:4,other:5},jx={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Pj{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Er.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=jc(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jx;if(!t.match(/-|_/))return jx;const f=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(f,n)}return this.pluralRulesCache[a]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,a)=>Tx[s]-Tx[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const kx=(e,t,n,i=".",s=!0)=>{let a=Cj(e,t,n);return!a&&s&&We(n)&&(a=y0(e,n,i),a===void 0&&(a=y0(t,n,i))),a},mg=e=>e.replace(/\$/g,"$$$$");class Mj{constructor(t={}){this.logger=Er.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:d,suffixEscaped:f,formatSeparator:g,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:x,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:T,nestingOptionsSeparator:k,maxReplaces:$,alwaysFormat:P}=t.interpolation;this.escape=n!==void 0?n:Tj,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?ol(a):l||"{{",this.suffix=d?ol(d):f||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=x?ol(x):w||ol("$t("),this.nestingSuffix=C?ol(C):T||ol(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=$||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let a,l,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=w=>{if(w.indexOf(this.formatSeparator)<0){const $=kx(n,f,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,i,{...s,...n,interpolationkey:w}):$}const C=w.split(this.formatSeparator),T=C.shift().trim(),k=C.join(this.formatSeparator).trim();return this.format(kx(n,f,T,this.options.keySeparator,this.options.ignoreJSONStructure),k,i,{...s,...n,interpolationkey:T})};this.resetRegExp();const y=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>mg(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?mg(this.escape(w)):mg(w)}].forEach(w=>{for(d=0;a=w.regex.exec(t);){const C=a[1].trim();if(l=g(C),l===void 0)if(typeof y=="function"){const k=y(t,a,s);l=We(k)?k:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!We(l)&&!this.useRawValueToEscape&&(l=bx(l));const T=w.safeValue(l);if(t=t.replace(a[0],T),v?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,a,l;const d=(f,g)=>{const y=this.nestingOptionsSeparator;if(f.indexOf(y)<0)return f;const v=f.split(new RegExp(`${y}[ ]*{`));let x=`{${v[1]}`;f=v[0],x=this.interpolate(x,l);const w=x.match(/'/g),C=x.match(/"/g);((w?.length??0)%2===0&&!C||C.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),g&&(l={...g,...l})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,T),`${f}${y}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;s=this.nestingRegexp.exec(t);){let f=[];l={...i},l=l.replace&&!We(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const g=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(g!==-1&&(f=s[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),s[1]=s[1].slice(0,g)),a=n(d.call(this,s[1].trim(),l),l),a&&s[0]===t&&!We(a))return a;We(a)||(a=bx(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),a=""),f.length&&(a=f.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:s[1].trim()}),a.trim())),t=t.replace(s[0],a),this.regexp.lastIndex=0}return t}}const Oj=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[d,...f]=l.split(":"),g=f.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:t,formatOptions:n}},$x=e=>{const t={};return(n,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const l=i+JSON.stringify(a);let d=t[l];return d||(d=e(jc(i),s),t[l]=d),d(n)}},Rj=e=>(t,n,i)=>e(jc(n),i)(t);class Dj{constructor(t={}){this.logger=Er.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?$x:Rj;this.formats={number:i((s,a)=>{const l=new Intl.NumberFormat(s,{...a});return d=>l.format(d)}),currency:i((s,a)=>{const l=new Intl.NumberFormat(s,{...a,style:"currency"});return d=>l.format(d)}),datetime:i((s,a)=>{const l=new Intl.DateTimeFormat(s,{...a});return d=>l.format(d)}),relativetime:i((s,a)=>{const l=new Intl.RelativeTimeFormat(s,{...a});return d=>l.format(d,a.range||"day")}),list:i((s,a)=>{const l=new Intl.ListFormat(s,{...a});return d=>l.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=$x(n)}format(t,n,i,s={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:g,formatOptions:y}=Oj(f);if(this.formats[g]){let v=d;try{const x=s?.formatParams?.[s.interpolationkey]||{},w=x.locale||x.lng||s.locale||s.lng||i;v=this.formats[g](d,w,{...y,...s,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${g}`);return d},t)}}const zj=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Ij extends Lf{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Er.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const a={},l={},d={},f={};return t.forEach(g=>{let y=!0;n.forEach(v=>{const x=`${g}|${v}`;!i.reload&&this.store.hasResourceBundle(g,v)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,y=!1,l[x]===void 0&&(l[x]=!0),a[x]===void 0&&(a[x]=!0),f[v]===void 0&&(f[v]=!0)))}),y||(d[g]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,i){const s=t.split("|"),a=s[0],l=s[1];n&&this.emit("failedLoading",a,l,n),!n&&i&&this.store.addResourceBundle(a,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const d={};this.queue.forEach(f=>{Sj(f.loaded,[a],l),zj(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(g=>{d[g]||(d[g]={});const y=f.loaded[g];y.length&&y.forEach(v=>{d[g][v]===void 0&&(d[g][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,i,s=0,a=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:a,callback:l});return}this.readingCalls++;const d=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,a*2,l)},a);return}l(g,y)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const g=f(t,n);g&&typeof g.then=="function"?g.then(y=>d(null,y)).catch(d):d(null,g)}catch(g){d(g)}return}return f(t,n,d)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();We(t)&&(t=this.languageUtils.toResolveHierarchy(t)),We(n)&&(n=[n]);const a=this.queueLoad(t,n,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,(l,d)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,l),!l&&d&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,d),this.loaded(t,l,d)})}saveMissing(t,n,i,s,a,l={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const f={...l,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,i,s,f):y=g(t,n,i,s),y&&typeof y.then=="function"?y.then(v=>d(null,v)).catch(d):d(null,y)}catch(y){d(y)}else g(t,n,i,s,d,f)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Nx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),We(e[1])&&(t.defaultValue=e[1]),We(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Lx=e=>(We(e.ns)&&(e.ns=[e.ns]),We(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),We(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Bh=()=>{},Bj=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class mc extends Lf{constructor(t={},n){if(super(),this.options=Lx(t),this.services={},this.logger=Er,this.modules={external:[]},Bj(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(We(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Nx();this.options={...i,...this.options,...Lx(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Er.init(s(this.modules.logger),this.options):Er.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=Dj;const y=new Ex(this.options);this.store=new Sx(this.options.resources,this.options);const v=this.services;v.logger=Er,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new Pj(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Mj(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Ij(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new ff(this.services,this.options),this.translator.on("*",(w,...C)=>{this.emit(w,...C)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Bh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const d=Ju(),f=()=>{const g=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=Bh){let i=n;const s=We(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],l=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&a.indexOf(g)<0&&a.push(g)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),this.options.preload?.forEach?.(d=>l(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(d)})}else i(null)}reloadResources(t,n,i){const s=Ju();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Bh),this.services.backendConnector.reload(t,n,a=>{s.resolve(),i(a)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&RS.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Ju();this.emit("languageChanging",t);const s=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,f)=>{f?this.isLanguageChangingTo===t&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),n&&n(d,(...g)=>this.t(...g))},l=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const f=We(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(We(d)?[d]:d);g&&(this.language||s(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,y=>{a(y,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(a,l,...d)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(d)):f={...l},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||s.keyPrefix);const g=this.options.keySeparator||".";let y;return f.keyPrefix&&Array.isArray(a)?y=a.map(v=>(typeof v=="function"&&(v=v0(v,{...this.options,...l})),`${f.keyPrefix}${g}${v}`)):(typeof a=="function"&&(a=v0(a,{...this.options,...l})),y=f.keyPrefix?`${f.keyPrefix}${g}${a}`:a),this.t(y,f)};return We(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(d,f)=>{const g=this.services.backendConnector.state[`${d}|${f}`];return g===-1||g===0||g===2};if(n.precheck){const d=n.precheck(this,l);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(a,t)))}loadNamespaces(t,n){const i=Ju();return this.options.ns?(We(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Ju();We(t)&&(t=[t]);const s=this.options.preload||[],a=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Ex(Nx());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new mc(t,n);return i.createInstance=mc.createInstance,i}cloneInstance(t={},n=Bh){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},a=new mc(s);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){const d=Object.keys(this.store.data).reduce((f,g)=>(f[g]={...this.store.data[g]},f[g]=Object.keys(f[g]).reduce((y,v)=>(y[v]={...f[g][v]},y),f[g]),f),{});a.store=new Sx(d,s),a.services.resourceStore=a.store}return a.translator=new ff(a.services,s),a.translator.on("*",(d,...f)=>{a.emit(d,...f)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Hn=mc.createInstance();Hn.createInstance;Hn.dir;Hn.init;Hn.loadResources;Hn.reloadResources;Hn.use;Hn.changeLanguage;Hn.getFixedT;Hn.t;Hn.exists;Hn.setDefaultNamespace;Hn.hasLoadedNamespace;Hn.loadNamespaces;Hn.loadLanguages;const Uj=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);ao(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},Ax={},zS=(e,t,n,i)=>{ao(n)&&Ax[n]||(ao(n)&&(Ax[n]=new Date),Uj(e,t,n,i))},IS=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},b0=(e,t,n)=>{e.loadNamespaces(t,IS(e,n))},Px=(e,t,n,i)=>{if(ao(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return b0(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,IS(e,i))},Vj=(e,t,n={})=>!t.languages||!t.languages.length?(zS(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),ao=e=>typeof e=="string",Hj=e=>typeof e=="object"&&e!==null,Fj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Zj=e=>qj[e],Gj=e=>e.replace(Fj,Zj);let _0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gj};const Kj=(e={})=>{_0={..._0,...e}},Wj=()=>_0;let BS;const Yj=e=>{BS=e},Xj=()=>BS,Qj={type:"3rdParty",init(e){Kj(e.options.react),Yj(e)}},Jj=j.createContext();class ek{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var pg={exports:{}},gg={};var Mx;function tk(){if(Mx)return gg;Mx=1;var e=Hc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function d(v,x){var w=x(),C=i({inst:{value:w,getSnapshot:x}}),T=C[0].inst,k=C[1];return a(function(){T.value=w,T.getSnapshot=x,f(T)&&k({inst:T})},[v,w,x]),s(function(){return f(T)&&k({inst:T}),v(function(){f(T)&&k({inst:T})})},[v]),l(w),w}function f(v){var x=v.getSnapshot;v=v.value;try{var w=x();return!n(v,w)}catch{return!0}}function g(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return gg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,gg}var Ox;function nk(){return Ox||(Ox=1,pg.exports=tk()),pg.exports}var ik=nk();const rk=(e,t)=>ao(t)?t:Hj(t)&&ao(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,sk={t:rk,ready:!1},ak=()=>()=>{},wt=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=j.useContext(Jj)||{},a=n||i||Xj();a&&!a.reportNamespaces&&(a.reportNamespaces=new ek),a||zS(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=j.useMemo(()=>({...Wj(),...a?.options?.react,...t}),[a,t]),{useSuspense:d,keyPrefix:f}=l,g=s||a?.options?.defaultNS,y=ao(g)?[g]:g||["translation"],v=j.useMemo(()=>y,y);a?.reportNamespaces?.addUsedNamespaces?.(v);const x=j.useRef(0),w=j.useCallback(F=>{if(!a)return ak;const{bindI18n:W,bindI18nStore:q}=l,X=()=>{x.current+=1,F()};return W&&a.on(W,X),q&&a.store.on(q,X),()=>{W&&W.split(" ").forEach(oe=>a.off(oe,X)),q&&q.split(" ").forEach(oe=>a.store.off(oe,X))}},[a,l]),C=j.useRef(),T=j.useCallback(()=>{if(!a)return sk;const F=!!(a.isInitialized||a.initializedStoreOnce)&&v.every(se=>Vj(se,a,l)),W=t.lng||a.language,q=x.current,X=C.current;if(X&&X.ready===F&&X.lng===W&&X.keyPrefix===f&&X.revision===q)return X;const Q={t:a.getFixedT(W,l.nsMode==="fallback"?v:v[0],f),ready:F,lng:W,keyPrefix:f,revision:q};return C.current=Q,Q},[a,v,f,l,t.lng]),[k,$]=j.useState(0),{t:P,ready:N}=ik.useSyncExternalStore(w,T,T);j.useEffect(()=>{if(a&&!N&&!d){const F=()=>$(W=>W+1);t.lng?Px(a,t.lng,v,F):b0(a,v,F)}},[a,t.lng,v,N,d,k]);const U=a||{},H=j.useRef(null),B=j.useRef(),Z=F=>{const W=Object.getOwnPropertyDescriptors(F);W.__original&&delete W.__original;const q=Object.create(Object.getPrototypeOf(F),W);if(!Object.prototype.hasOwnProperty.call(q,"__original"))try{Object.defineProperty(q,"__original",{value:F,writable:!1,enumerable:!1,configurable:!1})}catch{}return q},ne=j.useMemo(()=>{const F=U,W=F?.language;let q=F;F&&(H.current&&H.current.__original===F?B.current!==W?(q=Z(F),H.current=q,B.current=W):q=H.current:(q=Z(F),H.current=q,B.current=W));const X=[P,q,N];return X.t=P,X.i18n=q,X.ready=N,X},[P,U,N,U.resolvedLanguage,U.language,U.languages]);if(a&&d&&!N)throw new Promise(F=>{const W=()=>F();t.lng?Px(a,t.lng,v,W):b0(a,v,W)});return ne},ok=[{code:"en",label:"English",flag:""},{code:"nl",label:"Nederlands",flag:""},{code:"de",label:"Deutsch",flag:""}];function kc({className:e=""}){const{i18n:t}=wt(),n=t.language;return h.jsx("div",{className:`flex items-center gap-2 ${e}`,children:ok.map(i=>h.jsxs("button",{onClick:()=>t.changeLanguage(i.code),className:`px-2 py-1 rounded border text-xs font-semibold transition focus:outline-none flex items-center gap-1 ${n===i.code?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-300 hover:bg-blue-50"}`,"aria-pressed":n===i.code,children:[h.jsx("span",{style:{fontSize:"1.1em"},children:i.flag}),i.label]},i.code))})}const fn={DEFAULT_POSITION:[51.898095078807025,5.772961378097534],DEFAULT_ZOOM:17,MIN_ZOOM:14,MAX_ZOOM:22,SEARCH_ZOOM:21,ZOOM_DELTA:.5,ZOOM_SNAP:.5,RECTANGLE_SIZE:[6,6],MINIMAP:{WIDTH:120,HEIGHT:120,ZOOM_LEVEL:15,AIMING_COLOR:"#1976d2",SHADOW_COLOR:"#90caf9"}},jl={DEFAULT_LOGO:"4x4Vakantiebeurs.png",getDefaultLogoPath:()=>{const e="/Map";return`${e.endsWith("/")?e:`${e}/`}assets/logos/${jl.DEFAULT_LOGO}`}},Uh=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function lk({onLogin:e,branding:t}){const{t:n}=wt(),[i,s]=j.useState(""),[a,l]=j.useState(""),[d,f]=j.useState(!1),[g,y]=j.useState(!1),[v,x]=j.useState(null),[w,C]=j.useState(!1),[T,k]=j.useState(!1),[$,P]=j.useState(""),[N,U]=j.useState(!1),[H,B]=j.useState(!1),Z=j.useRef(null);j.useEffect(()=>{const X=localStorage.getItem("adminRememberEmail");X&&(s(X),y(!0))},[]),j.useEffect(()=>{v&&Z.current&&Z.current.focus()},[v]);const ne=async X=>{X.preventDefault(),C(!0),x(null),g?localStorage.setItem("adminRememberEmail",i):localStorage.removeItem("adminRememberEmail");const{data:oe,error:Q}=await ge.auth.signInWithPassword({email:i,password:a});C(!1),Q?Q.message.includes("Invalid login credentials")?x(n("adminLogin.errors.invalidCredentials")):Q.message.includes("Email not confirmed")?x(Q.message):Q.message.includes("Network")?x(n("adminLogin.errors.networkError")):x(n("adminLogin.errors.unknownError")):e(oe.user)},F=async X=>{X.preventDefault(),U(!0),x(null);const Q=`${window.location.origin}/Map#/reset-password`,{error:se}=await ge.auth.resetPasswordForEmail($,{redirectTo:Q});U(!1),se?x(n("adminLogin.errors.resetFailed")):(B(!0),setTimeout(()=>{k(!1),B(!1),P("")},5e3))},W=t?.eventName||"4x4 Vakantiebeurs",q=t?.logo||jl.getDefaultLogoPath();return T?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(kc,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:q,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:W}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:n("adminLogin.resetPassword")}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n("adminLogin.resetInstructions")}),H?h.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",role:"alert","aria-live":"polite",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{children:n("adminLogin.resetEmailSent")})]})}):h.jsxs("form",{onSubmit:F,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"reset-email",className:"label-base",children:n("adminLogin.email")}),h.jsx("input",{id:"reset-email",type:"email",value:$,onChange:X=>P(X.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),required:!0})]}),v&&h.jsx("div",{ref:Z,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm",children:v})]})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,children:n(N?"adminLogin.loggingIn":"adminLogin.sendResetLink")}),h.jsxs("button",{type:"button",onClick:()=>{k(!1),x(null),P("")},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",n("adminLogin.backToLogin")]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(kc,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:q,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:W}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-lg font-semibold mb-6 text-gray-700 text-center",children:n("adminLogin.subtitle")}),h.jsxs("form",{onSubmit:ne,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"label-base",children:n("adminLogin.email")}),h.jsx("input",{id:"email",type:"email",value:i,onChange:X=>s(X.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),"aria-required":"true",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"label-base",children:n("adminLogin.password")}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"password",type:d?"text":"password",value:a,onChange:X=>l(X.target.value),className:"input-base pr-20",placeholder:n("adminLogin.passwordPlaceholder"),"aria-label":n("adminLogin.password"),"aria-required":"true",required:!0}),h.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>f(X=>!X),"aria-label":n(d?"adminLogin.hide":"adminLogin.show"),tabIndex:-1,children:d?"":""})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{htmlFor:"remember-me",className:"flex items-center cursor-pointer group",children:[h.jsx("input",{id:"remember-me",type:"checkbox",checked:g,onChange:X=>y(X.target.checked),className:"mr-2 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 cursor-pointer","aria-label":n("adminLogin.rememberMe")}),h.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:n("adminLogin.rememberMe")})]}),h.jsx("button",{type:"button",onClick:()=>k(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:n("adminLogin.forgotPassword")})]}),v&&h.jsx("div",{ref:Z,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm font-medium",children:v})]})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",disabled:w,children:w?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("adminLogin.loggingIn")]}):n("adminLogin.loginButton")})]})]}),h.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:h.jsx("p",{children:"Secure manager access only"})})]})})}function uk({branding:e}){const{t}=wt(),n=Il(),[i,s]=j.useState(""),[a,l]=j.useState(""),[d,f]=j.useState(!1),[g,y]=j.useState(null),[v,x]=j.useState(null),[w,C]=j.useState(!1),[T,k]=j.useState(!1),$=j.useRef(null);j.useEffect(()=>{g&&$.current&&$.current.focus()},[g]),j.useEffect(()=>{(async()=>{const B=window.location.hash;let Z;if(B.includes("error=")){const oe=B.substring(1);Z=new URLSearchParams(oe)}else{const oe=B.indexOf("#",1);if(oe>0){const Q=B.substring(oe+1);Z=new URLSearchParams(Q)}else Z=new URLSearchParams(window.location.search)}const ne=Z.get("access_token"),F=Z.get("refresh_token"),W=Z.get("error"),q=Z.get("error_description");if(W){W==="access_denied"||q?.includes("expired")?x(t("resetPassword.errors.tokenExpired")):x(t("resetPassword.errors.invalidToken"));return}if(ne&&F){const{data:{session:oe},error:Q}=await ge.auth.setSession({access_token:ne,refresh_token:F});(Q||!oe)&&(console.error("Failed to set session:",Q),x(t("resetPassword.errors.invalidToken")));return}const{data:{session:X}}=await ge.auth.getSession();X||x(t("resetPassword.errors.invalidToken"))})()},[t]);const P=async H=>{if(H.preventDefault(),y(null),i.length<6){y(t("resetPassword.errors.passwordTooShort"));return}if(i!==a){y(t("resetPassword.errors.passwordMismatch"));return}C(!0);const{error:B}=await ge.auth.updateUser({password:i});C(!1),B?y(t("resetPassword.errors.updateFailed")):(k(!0),setTimeout(()=>{n("/admin")},3e3))},N=e?.eventName||"4x4 Vakantiebeurs",U=e?.logo||jl.getDefaultLogoPath();return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(kc,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:U,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:N}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:t("resetPassword.title")}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t("resetPassword.instructions")}),T?h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"polite",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"font-semibold",children:t("resetPassword.success")})]}),h.jsx("p",{className:"text-sm ml-8",children:t("resetPassword.redirecting")})]}):v?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{ref:$,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold mb-1",children:t("resetPassword.errors.linkExpiredTitle")}),h.jsx("p",{className:"text-sm",children:v})]})]})}),h.jsx("div",{className:"flex gap-3",children:h.jsx("button",{type:"button",onClick:()=>n("/admin"),className:"flex-1 btn-primary",children:t("resetPassword.requestNewLink")})})]}):h.jsxs("form",{onSubmit:P,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"new-password",className:"label-base",children:t("resetPassword.newPassword")}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"new-password",type:d?"text":"password",value:i,onChange:H=>s(H.target.value),className:"input-base",placeholder:t("resetPassword.newPasswordPlaceholder"),"aria-label":t("resetPassword.newPassword"),required:!0,minLength:6}),h.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors text-sm","aria-label":t(d?"resetPassword.hidePassword":"resetPassword.showPassword"),children:d?"":""})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("resetPassword.passwordRequirements")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirm-password",className:"label-base",children:t("resetPassword.confirmPassword")}),h.jsx("input",{id:"confirm-password",type:d?"text":"password",value:a,onChange:H=>l(H.target.value),className:"input-base",placeholder:t("resetPassword.confirmPasswordPlaceholder"),"aria-label":t("resetPassword.confirmPassword"),required:!0})]}),g&&h.jsx("div",{ref:$,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm",children:g})]})}),h.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:w,children:t(w?"resetPassword.updating":"resetPassword.updatePassword")}),h.jsxs("button",{type:"button",onClick:()=>n("/admin"),className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",t("resetPassword.backToLogin")]})]})]})})})}var yg={exports:{}},vg,Rx;function ck(){if(Rx)return vg;Rx=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vg=e,vg}var bg,Dx;function dk(){if(Dx)return bg;Dx=1;var e=ck();function t(){}function n(){}return n.resetWarningCache=t,bg=function(){function i(l,d,f,g,y,v){if(v!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},bg}var zx;function US(){return zx||(zx=1,yg.exports=dk()()),yg.exports}var hk=US();const Ae=lo(hk);var _g,Ix;function fk(){return Ix||(Ix=1,_g=(function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(i,s,a){n.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,s){if(1&s&&(i=n(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)n.d(a,l,(function(d){return i[d]}).bind(null,l));return a},n.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="",n(n.s=2)})([function(e,t){e.exports=US()},function(e,t){e.exports=Hc()},function(e,t,n){n.r(t);var i=n(1),s=n(0),a=function(){return(a=Object.assign||function(C){for(var T,k=1,$=arguments.length;k<$;k++)for(var P in T=arguments[k])Object.prototype.hasOwnProperty.call(T,P)&&(C[P]=T[P]);return C}).apply(this,arguments)},l=function(C,T){var k={};for(var $ in C)Object.prototype.hasOwnProperty.call(C,$)&&T.indexOf($)<0&&(k[$]=C[$]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for($=Object.getOwnPropertySymbols(C);P<$.length;P++)T.indexOf($[P])<0&&Object.prototype.propertyIsEnumerable.call(C,$[P])&&(k[$[P]]=C[$[P]])}return k},d=0,f=i.forwardRef((function(C,T){var k=C.title,$=k===void 0?null:k,P=C.description,N=P===void 0?null:P,U=C.size,H=U===void 0?null:U,B=C.color,Z=B===void 0?"currentColor":B,ne=C.horizontal,F=ne===void 0?null:ne,W=C.vertical,q=W===void 0?null:W,X=C.rotate,oe=X===void 0?null:X,Q=C.spin,se=Q===void 0?null:Q,V=C.style,G=V===void 0?{}:V,re=C.children,Ce=l(C,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);d++;var O,R=se!==null&&se,J=i.Children.map(re,(function(ue){var Te=ue;R!==!0&&(R=(se===null?Te.props.spin:se)===!0);var Ee=Te.props.size;typeof H=="number"&&typeof Te.props.size=="number"&&(Ee=Te.props.size/H);var Le={size:Ee,color:Z===null?Te.props.color:Z,horizontal:F===null?Te.props.horizontal:F,vertical:q===null?Te.props.vertical:q,rotate:oe===null?Te.props.rotate:oe,spin:se===null?Te.props.spin:se,inStack:!0};return i.cloneElement(Te,Le)}));H!==null&&(G.width=typeof H=="string"?H:1.5*H+"rem");var D,ce="stack_labelledby_"+d,ie="stack_describedby_"+d;if($)O=N?ce+" "+ie:ce;else if(D="presentation",N)throw new Error("title attribute required when description is set");return i.createElement("svg",a({ref:T,viewBox:"0 0 24 24",style:G,role:D,"aria-labelledby":O},Ce),$&&i.createElement("title",{id:ce},$),N&&i.createElement("desc",{id:ie},N),R&&i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),J)}));f.displayName="Stack",f.propTypes={size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),children:s.oneOfType([s.arrayOf(s.node),s.node]).isRequired,className:s.string,style:s.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=f;n.d(t,"Icon",(function(){return w})),n.d(t,"Stack",(function(){return g}));var y=function(){return(y=Object.assign||function(C){for(var T,k=1,$=arguments.length;k<$;k++)for(var P in T=arguments[k])Object.prototype.hasOwnProperty.call(T,P)&&(C[P]=T[P]);return C}).apply(this,arguments)},v=function(C,T){var k={};for(var $ in C)Object.prototype.hasOwnProperty.call(C,$)&&T.indexOf($)<0&&(k[$]=C[$]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for($=Object.getOwnPropertySymbols(C);P<$.length;P++)T.indexOf($[P])<0&&Object.prototype.propertyIsEnumerable.call(C,$[P])&&(k[$[P]]=C[$[P]])}return k},x=0,w=i.forwardRef((function(C,T){var k=C.path,$=C.id,P=$===void 0?++x:$,N=C.title,U=N===void 0?null:N,H=C.description,B=H===void 0?null:H,Z=C.size,ne=Z===void 0?null:Z,F=C.color,W=F===void 0?"currentColor":F,q=C.horizontal,X=q!==void 0&&q,oe=C.vertical,Q=oe!==void 0&&oe,se=C.rotate,V=se===void 0?0:se,G=C.spin,re=G!==void 0&&G,Ce=C.style,O=Ce===void 0?{}:Ce,R=C.inStack,J=R!==void 0&&R,D=v(C,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),ce={},ie=[];ne!==null&&(J?ie.push("scale("+ne+")"):(O.width=typeof ne=="string"?ne:1.5*ne+"rem",O.height=O.width)),X&&ie.push("scaleX(-1)"),Q&&ie.push("scaleY(-1)"),V!==0&&ie.push("rotate("+V+"deg)"),W!==null&&(ce.fill=W);var ue=i.createElement("path",y({d:k,style:ce},J?D:{})),Te=ue;ie.length>0&&(O.transform=ie.join(" "),O.transformOrigin="center",J&&(Te=i.createElement("g",{style:O},ue,i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Ee,Le=Te,_e=re===!0||typeof re!="number"?2:re,ee=!J&&(X||Q);if(_e<0&&(ee=!ee),re&&(Le=i.createElement("g",{style:{animation:"spin"+(ee?"-inverse":"")+" linear "+Math.abs(_e)+"s infinite",transformOrigin:"center"}},Te,!(X||Q||V!==0)&&i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),J)return Le;var ke,Oe="icon_labelledby_"+P,De="icon_describedby_"+P;if(U)Ee=B?Oe+" "+De:Oe;else if(ke="presentation",B)throw new Error("title attribute required when description is set");return i.createElement("svg",y({ref:T,viewBox:"0 0 24 24",style:O,role:ke,"aria-labelledby":Ee},D),U&&i.createElement("title",{id:Oe},U),B&&i.createElement("desc",{id:De},B),!J&&re&&(ee?i.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),Le)}));w.displayName="Icon",w.propTypes={path:s.string.isRequired,size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),style:s.object,inStack:s.bool,className:s.string},w.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=w}])),_g}var VS=fk();const Se=lo(VS);var HS="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",mk="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",pk="M20.56 3.91C21.15 4.5 21.15 5.45 20.56 6.03L16.67 9.92L18.79 19.11L17.38 20.53L13.5 13.1L9.6 17L9.96 19.47L8.89 20.53L7.13 17.35L3.94 15.58L5 14.5L7.5 14.87L11.37 11L3.94 7.09L5.36 5.68L14.55 7.8L18.44 3.91C19 3.33 20 3.33 20.56 3.91Z",x0="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",Af="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Pf="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",gk="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z",yk="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",w0="M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z",vk="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",bk="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",FS="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",_k="M6.5 5C5.84 5 5.28 5.42 5.08 6L3 12V20A1 1 0 0 0 4 21H5A1 1 0 0 0 6 20V19H11.3A7 7 0 0 1 11 17A7 7 0 0 1 14.41 11H5L6.5 6.5H17.5L18.68 10.03A7 7 0 0 1 20.47 10.46L18.92 6C18.72 5.42 18.16 5 17.5 5H6.5M17 12C16.87 12 16.76 12.09 16.74 12.21L16.55 13.53C16.25 13.66 15.96 13.82 15.7 14L14.46 13.5C14.35 13.5 14.22 13.5 14.15 13.63L13.15 15.36C13.09 15.47 13.11 15.6 13.21 15.68L14.27 16.5C14.25 16.67 14.24 16.83 14.24 17C14.24 17.17 14.25 17.33 14.27 17.5L13.21 18.32C13.12 18.4 13.09 18.53 13.15 18.64L14.15 20.37C14.21 20.5 14.34 20.5 14.46 20.5L15.7 20C15.96 20.18 16.24 20.35 16.55 20.47L16.74 21.79C16.76 21.91 16.86 22 17 22H19C19.11 22 19.22 21.91 19.24 21.79L19.43 20.47C19.73 20.34 20 20.18 20.27 20L21.5 20.5C21.63 20.5 21.76 20.5 21.83 20.37L22.83 18.64C22.89 18.53 22.86 18.4 22.77 18.32L21.7 17.5C21.72 17.33 21.74 17.17 21.74 17C21.74 16.83 21.73 16.67 21.7 16.5L22.76 15.68C22.85 15.6 22.88 15.47 22.82 15.36L21.82 13.63C21.76 13.5 21.63 13.5 21.5 13.5L20.27 14C20 13.82 19.73 13.65 19.42 13.53L19.23 12.21C19.22 12.09 19.11 12 19 12H17M6.5 13A1.5 1.5 0 0 1 8 14.5A1.5 1.5 0 0 1 6.5 16A1.5 1.5 0 0 1 5 14.5A1.5 1.5 0 0 1 6.5 13M18 15.5C18.83 15.5 19.5 16.17 19.5 17C19.5 17.83 18.83 18.5 18 18.5C17.16 18.5 16.5 17.83 16.5 17C16.5 16.17 17.17 15.5 18 15.5Z",xk="M18.9 6C18.7 5.4 18.1 5 17.5 5H6.5C5.8 5 5.3 5.4 5.1 6L3 12V20C3 20.5 3.5 21 4 21H5C5.6 21 6 20.5 6 20V19H18V20C18 20.5 18.5 21 19 21H20C20.5 21 21 20.5 21 20V12L18.9 6M6.8 7H17.1L18.2 10H5.8L6.8 7M19 17H5V12H19V17M7.5 13C8.3 13 9 13.7 9 14.5S8.3 16 7.5 16 6 15.3 6 14.5 6.7 13 7.5 13M16.5 13C17.3 13 18 13.7 18 14.5S17.3 16 16.5 16C15.7 16 15 15.3 15 14.5S15.7 13 16.5 13Z",wk="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z",Sk="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z",Qs="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",Mf="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",kl="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Ck="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",qS="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",$l="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",Ek="M15 4A8 8 0 1 1 7 12A8 8 0 0 1 15 4M3 12A6 6 0 0 0 7 17.65V19.74A8 8 0 0 1 7 4.26V6.35A6 6 0 0 0 3 12Z",ZS="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Tk="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z",jk="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",oo="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",GS="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",KS="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z",kk="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M13,10H11V6H13V10M13,14H11V12H13V14Z",$k="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",Nk="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Bl="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",_l="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z",Qh="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",Lk="M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z",Ak="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",WS="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",Bx="M22,19L19,17L22,15V19M15,15L19,9L22,13L18,16L15,15M5,17L2,19V15L5,17M9,15L6,16L2,13L5,9L9,15M14,6L18,8L13,15H11L6,8L10,6H14Z",Pk="M20.16 12.73C22.93 9.96 22.57 5.26 19.09 3C17.08 1.67 14.39 1.66 12.36 2.97C10.6 4.1 9.63 5.86 9.46 7.68C9.33 9 8.83 10.23 7.91 11.15L7.88 11.18C6.72 12.34 6.72 14.11 7.81 15.19L8.8 16.18C9.89 17.27 11.66 17.27 12.75 16.18C13.72 15.21 15 14.68 16.39 14.53C17.76 14.38 19.1 13.78 20.16 12.73M6.26 19.86C6.53 20.42 6.44 21.1 5.97 21.56C5.39 22.15 4.44 22.15 3.85 21.56C3.58 21.29 3.44 20.94 3.42 20.58C3.06 20.56 2.71 20.42 2.44 20.15C1.85 19.56 1.85 18.61 2.44 18.03C2.9 17.57 3.59 17.47 4.14 17.74L6.62 15.31C6.76 15.5 6.92 15.72 7.1 15.9L8.09 16.89C8.3 17.09 8.5 17.26 8.76 17.41L6.26 19.86Z",Ux="M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z",Mk="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",Vx="M8.06,2C7.88,3.17 8.17,4.16 8.95,4.97C9.45,5.47 9.61,6.14 9.42,7H10.41C10.53,6.45 10.55,6 10.45,5.55C10.36,5.13 10.05,4.63 9.5,4.03C9.05,3.47 8.89,2.8 9.05,2H8.06M10.55,2C10.36,3.17 10.66,4.16 11.44,4.97C11.94,5.47 12.09,6.14 11.91,7H12.89C13,6.45 13.03,6 12.94,5.55C12.84,5.13 12.53,4.63 12,4.03C11.53,3.47 11.38,2.8 11.53,2H10.55M13.08,2C12.89,3.17 13.19,4.16 13.97,4.97C14.47,5.47 14.61,6.14 14.39,7H15.42C15.55,6.45 15.56,6 15.47,5.55C15.38,5.13 15.06,4.63 14.53,4.03C14.06,3.47 13.91,2.8 14.06,2H13.08M5,8C5,9.42 5.39,10.7 6.14,11.84C6.87,12.96 7.91,13.85 9.14,14.39L5.16,20.44C5.06,20.56 5,20.75 5,21C5,21.41 5.16,21.69 5.44,21.84C5.56,21.94 5.75,22 6,22C6.41,22 6.69,21.84 6.84,21.56L7.83,19.97H14.2C14.41,20.55 14.79,21.05 15.28,21.42C15.78,21.8 16.36,22 17,22C17.83,22 18.53,21.69 19.13,21.09C19.72,20.5 20,19.8 20,19C20,18.17 19.72,17.47 19.13,16.88C18.53,16.28 17.83,16 17,16C16.36,16 15.78,16.17 15.28,16.55C14.78,16.92 14.42,17.41 14.2,18H9.14L11.11,14.95C11.27,15 11.56,15 12,15C12.44,15 12.73,15 12.89,14.95L13.88,16.5C14.29,15.96 14.84,15.54 15.47,15.28L14.91,14.39C16.03,13.89 17,13 17.79,11.77C18.59,10.5 19,9.27 19,8H5M17,18C17.3,18 17.53,18.09 17.72,18.28C17.91,18.47 18,18.72 18,19C18,19.27 17.91,19.5 17.72,19.71C17.54,19.91 17.28,20 17,20C16.74,20 16.5,19.91 16.29,19.71C16.09,19.5 16,19.26 16,19C16,18.7 16.09,18.47 16.29,18.28C16.5,18.09 16.73,18 17,18Z",Ok="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",Rk="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",Dk="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",zk="M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z",Ik="M12 0L3 7L4.63 8.27L12 14L19.36 8.27L21 7L12 0M19.37 10.73L12 16.47L4.62 10.74L3 12L12 19L21 12L19.37 10.73M19.37 15.73L12 21.47L4.62 15.74L3 17L12 24L21 17L19.37 15.73Z",S0="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z",Bk="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",Uk="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",Vk="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",Hk="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",co="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",YS="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z",Of="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",Fk="M14,11.5A2.5,2.5 0 0,0 16.5,9A2.5,2.5 0 0,0 14,6.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 14,11.5M14,2C17.86,2 21,5.13 21,9C21,14.25 14,22 14,22C14,22 7,14.25 7,9A7,7 0 0,1 14,2M5,9C5,13.5 10.08,19.66 11,20.81L10,22C10,22 3,14.25 3,9C3,5.83 5.11,3.15 8,2.29C6.16,3.94 5,6.33 5,9Z",qk="M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z",Zk="M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z",XS="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",Rf="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",Wc="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",QS="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",Gk="M2,21L23,12L2,3V10L17,12L2,14V21Z",Kk="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",Wk="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",C0="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",Yk="M4,6C4,7.19 4.39,8.27 5,9A3,3 0 0,1 2,6A3,3 0 0,1 5,3C4.39,3.73 4,4.81 4,6M2,21V19H4.76L12,4.78L19.24,19H22V21H2M12,9.19L7,19H17L12,9.19Z",Xk="M14,6L10.25,11L13.1,14.8L11.5,16C9.81,13.75 7,10 7,10L1,18H23L14,6Z",JS="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z",E0="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",Qk="M22,15V17H10A3,3 0 0,1 7,20A3,3 0 0,1 4,17H2V6A2,2 0 0,1 4,4H17A2,2 0 0,1 19,6V15H22M7,16A1,1 0 0,0 6,17A1,1 0 0,0 7,18A1,1 0 0,0 8,17A1,1 0 0,0 7,16Z",Jk="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",e$="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z";const mf="Logos",Hx=5*1024*1024,t$=["image/png","image/jpeg","image/jpg","image/webp","image/avif","image/svg+xml"];async function n$(e,t="companies"){try{const n=e5(e);if(!n.valid)return{error:n.error};const i=e.name.split(".").pop(),s=Date.now(),a=Math.random().toString(36).substring(2,8),l=`${s}_${a}.${i}`,d=t?`${t}/${l}`:l,{data:f,error:g}=await ge.storage.from(mf).upload(d,e,{cacheControl:"3600",upsert:!1});if(g)return console.error("Upload error:",g),{error:`Upload failed: ${g.message}`};const{data:{publicUrl:y}}=ge.storage.from(mf).getPublicUrl(d);return{url:y,path:d,error:null}}catch(n){return console.error("Upload service error:",n),{error:`Upload failed: ${n.message}`}}}function e5(e){return e?t$.includes(e.type)?e.size>Hx?{valid:!1,error:`File too large. Maximum size: ${Hx/1024/1024}MB`}:{valid:!0,error:null}:{valid:!1,error:"Invalid file type. Allowed: PNG, JPG, WEBP, AVIF, SVG"}:{valid:!1,error:"No file selected"}}async function i$(){try{const{data:e,error:t}=await ge.storage.listBuckets();return t?{exists:!1,error:`Error accessing storage: ${t.message}`}:e?.some(i=>i.name===mf)?{exists:!0,error:null}:{exists:!1,error:`Storage bucket "${mf}" not found. Available buckets: ${e?.map(i=>i.name).join(", ")||"none"}`}}catch(e){return{exists:!1,error:`Error checking storage bucket: ${e.message}`}}}function Df({currentLogo:e="",onUploadComplete:t,onDelete:n,folder:i="companies",label:s="Upload Logo",showPreview:a=!0,allowDelete:l=!1}){const[d,f]=j.useState(!1),[g,y]=j.useState(null),[v,x]=j.useState(""),w=j.useRef(null),C=async k=>{const $=k.target.files?.[0];if(!$)return;y(null),x("");const P=e5($);if(!P.valid){y("error"),x(P.error);return}f(!0);const N=await n$($,i);f(!1),N.error?(y("error"),x(N.error)):(y("success"),x("Upload successful!"),t&&t(N.url,N.path),setTimeout(()=>{y(null),x("")},3e3)),w.current&&(w.current.value="")},T=()=>{n&&n()};return h.jsxs("div",{className:"flex flex-col gap-2",children:[a&&e&&h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("img",{src:ir(e),alt:"Current logo",className:"h-12 w-12 object-contain border rounded p-1"}),l&&n&&h.jsx("button",{type:"button",onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove logo",children:h.jsx(Se,{path:Bl,size:.7})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{ref:w,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/avif,image/svg+xml",onChange:C,className:"hidden",id:`logo-upload-${i}`}),h.jsx("label",{htmlFor:`logo-upload-${i}`,className:`
            flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-xs
            ${d?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}
            text-white transition-colors whitespace-nowrap
          `,children:d?h.jsxs(h.Fragment,{children:[h.jsx(Se,{path:Uk,size:.8,spin:!0}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Se,{path:Jk,size:.8}),s]})}),g&&h.jsxs("div",{className:"flex items-center gap-2",children:[g==="success"&&h.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[h.jsx(Se,{path:Qs,size:.8}),h.jsx("span",{className:"text-sm",children:v})]}),g==="error"&&h.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[h.jsx(Se,{path:x0,size:.8}),h.jsx("span",{className:"text-sm",children:v})]})]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PNG, JPG, WEBP, AVIF, SVG  Max size: 5MB"})]})}Df.propTypes={currentLogo:Ae.string,onUploadComplete:Ae.func.isRequired,onDelete:Ae.func,folder:Ae.string,label:Ae.string,showPreview:Ae.bool,allowDelete:Ae.bool};Df.defaultProps={currentLogo:"",onDelete:null,folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!1};function r$(){const[e,t]=j.useState({checking:!0,exists:!1,error:null}),[n,i]=j.useState(""),[s,a]=j.useState([]),[l,d]=j.useState(null);j.useEffect(()=>{f(),g()},[]);const f=async()=>{t({checking:!0,exists:!1,error:null});const v=await i$();t({checking:!1,exists:v.exists,error:v.error})},g=async()=>{const{data:{user:v}}=await ge.auth.getUser();d(v)},y=(v,x)=>{i(v),a([{timestamp:new Date().toISOString(),url:v,path:x,success:!0},...s])};return h.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Supabase Storage Test Page"}),h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Authentication Status"}),l?h.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["Authenticated as: ",l.email]})]}):h.jsxs("div",{className:"text-red-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Not authenticated - Please log in first"})]})]}),h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Storage Bucket Status"}),h.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Recheck"})]}),e.checking?h.jsx("div",{className:"text-gray-600",children:"Checking bucket..."}):e.exists?h.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Bucket 'logos' exists and is accessible"})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"text-red-600 flex items-center gap-2 mb-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Bucket 'logos' not found or inaccessible"})]}),e.error&&h.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:["Error: ",e.error]}),h.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[h.jsx("p",{className:"font-semibold mb-2",children:"Setup Required:"}),h.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[h.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),h.jsx("li",{children:"Create a new public bucket named 'logos'"}),h.jsx("li",{children:"Set up RLS policies (see SUPABASE_STORAGE_SETUP.md)"}),h.jsx("li",{children:"Refresh this page"})]})]})]})]}),l&&e.exists&&h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Test Logo Upload"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a test image to verify everything works correctly."}),h.jsx(Df,{currentLogo:n,onUploadComplete:y,folder:"test",label:"Upload Test Image",showPreview:!0,allowDelete:!0,onDelete:()=>i("")})]}),s.length>0&&h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload History"}),h.jsx("div",{className:"space-y-2",children:s.map((v,x)=>h.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-green-600 font-semibold",children:" Success"}),h.jsx("span",{className:"text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),h.jsxs("div",{className:"text-gray-600",children:[h.jsxs("div",{children:[h.jsx("strong",{children:"URL:"})," ",v.url]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Path:"})," ",v.path]})]}),v.url&&h.jsx("img",{src:v.url,alt:"Uploaded",className:"mt-2 h-20 object-contain border rounded"})]},x))})]}),h.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Documentation"}),h.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"For complete setup instructions, see:"}),h.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[h.jsx("li",{children:"SUPABASE_STORAGE_SETUP.md - Bucket configuration and policies"}),h.jsx("li",{children:"LOGO_UPLOADER_INTEGRATION.md - Integration examples"})]})]})]})}function s$(){const e=Il(),t=sr(),{t:n}=wt(),i=[{id:"home",labelKey:"navigation.home",icon:Dk,path:"/"},{id:"map",labelKey:"navigation.map",icon:YS,path:"/map"},{id:"exhibitors",labelKey:"navigation.exhibitors",icon:Mk,path:"/exhibitors"},{id:"schedule",labelKey:"navigation.schedule",icon:FS,path:"/schedule"}],s=a=>{e(a)};return h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:h.jsx("div",{className:"flex justify-around items-center h-16 max-w-screen-xl mx-auto",children:i.map(a=>{const l=t.pathname===a.path;return h.jsxs("button",{onClick:()=>s(a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[h.jsx(Se,{path:a.icon,size:1.1,className:"mb-1"}),h.jsx("span",{className:`text-xs font-medium ${l?"font-semibold":""}`,children:n(a.labelKey)})]},a.id)})})})}const t5=j.createContext();function a$({children:e}){const[t,n]=j.useState(jl.DEFAULT_LOGO),[i,s]=j.useState(!0);return j.useEffect(()=>{async function a(){try{const{data:d,error:f}=await ge.from("organization_profile").select("logo").eq("id",1).single();if(f){console.error("Error fetching organization logo:",f);return}d&&d.logo&&d.logo.trim()!==""&&n(d.logo)}catch(d){console.error("Error fetching organization logo:",d)}finally{s(!1)}}a();const l=ge.channel("organization-logo-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},d=>{d.new&&d.new.logo&&(d.new.logo.trim()!==""?n(d.new.logo):n(jl.DEFAULT_LOGO))}).subscribe();return()=>{ge.removeChannel(l)}},[]),h.jsx(t5.Provider,{value:{organizationLogo:t,loading:i},children:e})}function na(){const e=j.useContext(t5);if(e===void 0)throw new Error("useOrganizationLogo must be used within OrganizationLogoProvider");return e}function wy({selectedYear:e,branding:t}){Il();const{t:n}=wt(),{organizationLogo:i}=na(),s={name:t?.eventName||"4x4 Vakantiebeurs"};return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white shadow-sm",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[h.jsx("div",{className:"flex justify-end mb-4",children:h.jsx(kc,{})}),i&&h.jsx("div",{className:"mb-6",children:h.jsx("img",{src:ir(i),alt:s.name,className:"h-24 mx-auto object-contain"})}),h.jsx("p",{className:"text-sm text-orange-600 mb-2",style:{fontFamily:t?.fontFamily},children:n("homePage.subtitle")}),h.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",style:{fontFamily:t?.fontFamily},children:n("homePage.title")}),h.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n("homePage.eventDate")}),h.jsxs("div",{className:"flex justify-center gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"67"}),h.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.exhibitors")})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"2"}),h.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.days")})]})]})]})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.openingHours")]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.openingHoursInfo")})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.location")]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.locationInfo")})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.parking")]}),h.jsx("p",{className:"text-gray-700",children:n("homePage.parkingInfo")})]})]})})]})}wy.propTypes={selectedYear:Ae.number,branding:Ae.shape({eventName:Ae.string,fontFamily:Ae.string})};wy.defaultProps={selectedYear:new Date().getFullYear(),branding:null};function n5(e){const t=e||jl.DEFAULT_LOGO;return t.startsWith("http://")||t.startsWith("https://")?t:`${Ol()}assets/logos/${t}`}function Yc(e,t){return e&&e.trim()!==""?ir(e):n5(t)}function o$(e){const[t,n]=j.useState([]),i=j.useCallback(f=>t.includes(f),[t]),s=j.useCallback(f=>{n(g=>g.includes(f)?g.filter(y=>y!==f):[...g,f])},[]),a=j.useCallback(f=>{n(g=>g.includes(f)?g:[...g,f])},[]),l=j.useCallback(f=>{n(g=>g.filter(y=>y!==f))},[]),d=j.useCallback(()=>{n([])},[]);return{favorites:t,isFavorite:i,toggleFavorite:s,addFavorite:a,removeFavorite:l,clearAllFavorites:d}}const i5=j.createContext(null);function Fx({selectedYear:e,children:t}){const n=o$();return h.jsx(i5.Provider,{value:n,children:t})}function zf(){const e=j.useContext(i5);if(!e)throw new Error("useFavoritesContext must be used within FavoritesProvider");return e}function Xc({isFavorite:e,onToggle:t,size:n="md",className:i=""}){const s={sm:.8,md:1,lg:1.2},a=s[n]||s.md,l=d=>{d.stopPropagation(),d.preventDefault(),t()};return h.jsx("button",{onClick:l,className:`transition-all ${e?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"} ${i}`,title:e?"Remove from favorites":"Add to favorites","aria-label":e?"Remove from favorites":"Add to favorites",children:h.jsx(Se,{path:e?Kk:Wk,size:a,className:"drop-shadow-sm"})})}Xc.propTypes={isFavorite:Ae.bool.isRequired,onToggle:Ae.func.isRequired,size:Ae.oneOf(["sm","md","lg"]),className:Ae.string};Xc.defaultProps={size:"md",className:""};function l$(e){const{i18n:t}=wt(),n=t.language;return j.useMemo(()=>{if(!e?.company_translations||e.company_translations.length===0)return e?.info||"";const s=e.company_translations.find(d=>d.language_code===n);if(s?.info)return s.info;const a=e.company_translations.find(d=>d.language_code==="nl");return a?.info?a.info:e.company_translations.find(d=>d.info)?.info||""},[e,n])}function u$(e,t="nl",n=""){if(!e||e.length===0)return n||"";const i=e.find(l=>l.language_code===t);if(i?.info)return i.info;const s=e.find(l=>l.language_code==="nl");return s?.info?s.info:e.find(l=>l.info)?.info||n||""}const xg={mdiCarOutline:xk,mdiTent:Yk,mdiTrailer:Qk,mdiCarCog:_k,mdiAirplane:pk,mdiHomeCity:zk,mdiAccountGroup:mk,mdiTerrainIcon:Xk,mdiCellphone:wk,mdiDotsHorizontal:Qh};function Sy(e="nl"){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null),d=j.useCallback(async()=>{try{s(!0),l(null);const{data:T,error:k}=await ge.from("categories").select(`
          id,
          slug,
          icon,
          color,
          sort_order,
          active,
          category_translations(
            language,
            name,
            description
          )
        `).eq("active",!0).order("sort_order");if(k)throw k;const $=T.map(P=>{const N=P.category_translations.find(U=>U.language===e)||P.category_translations.find(U=>U.language==="nl")||P.category_translations[0];return{id:P.id,slug:P.slug,icon:xg[P.icon]||Qh,iconName:P.icon,color:P.color,sort_order:P.sort_order,active:P.active,name:N?.name||P.slug,description:N?.description||"",translations:P.category_translations}});n($)}catch(T){console.error("Error loading categories:",T),l(T.message),(T.message?.includes("does not exist")||T.code==="42P01")&&(console.warn("Categories table not found. Please run migration 007."),n([]))}finally{s(!1)}},[e]);j.useEffect(()=>{d()},[d]),j.useEffect(()=>{const T=ge.channel("categories-changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>d()).on("postgres_changes",{event:"*",schema:"public",table:"category_translations"},()=>d()).subscribe();return()=>{ge.removeChannel(T)}},[d]);const f=async T=>{try{const{data:k,error:$}=await ge.from("categories").insert({slug:T.slug,icon:T.icon,color:T.color,sort_order:T.sort_order||0}).select().single();if($)throw $;const P=Object.entries(T.translations||{}).map(([N,U])=>({category_id:k.id,language:N,name:U.name,description:U.description||null}));if(P.length>0){const{error:N}=await ge.from("category_translations").insert(P);if(N)throw N}return await d(),{success:!0,data:k}}catch(k){return console.error("Error creating category:",k),{success:!1,error:k.message}}},g=async(T,k)=>{try{const{error:$}=await ge.from("categories").update({slug:k.slug,icon:k.icon,color:k.color,sort_order:k.sort_order,active:k.active}).eq("id",T);if($)throw $;if(k.translations)for(const[P,N]of Object.entries(k.translations)){const{error:U}=await ge.from("category_translations").upsert({category_id:T,language:P,name:N.name,description:N.description||null},{onConflict:"category_id,language"});if(U)throw U}return await d(),{success:!0}}catch($){return console.error("Error updating category:",$),{success:!1,error:$.message}}},y=async T=>{try{const{error:k}=await ge.from("categories").delete().eq("id",T);if(k)throw k;return await d(),{success:!0}}catch(k){return console.error("Error deleting category:",k),{success:!1,error:k.message}}},v=async T=>{try{const{data:k,error:$}=await ge.from("company_categories").select(`
          category_id,
          categories(
            id,
            slug,
            icon,
            color,
            category_translations(language, name)
          )
        `).eq("company_id",T);if($)throw $;return k.map(P=>{const N=P.categories,U=N.category_translations.find(H=>H.language===e)||N.category_translations[0];return{id:N.id,slug:N.slug,icon:xg[N.icon]||Qh,iconName:N.icon,color:N.color,name:U?.name||N.slug}})}catch(k){return console.error("Error fetching company categories:",k),[]}},x=j.useCallback(async T=>{try{const{data:k,error:$}=await ge.from("company_categories").select(`
          company_id,
          category_id,
          categories(
            id,
            slug,
            icon,
            color,
            category_translations(language, name)
          )
        `).in("company_id",T);if($)throw $;const P={};return k.forEach(N=>{P[N.company_id]||(P[N.company_id]=[]);const U=N.categories,H=U.category_translations.find(B=>B.language===e)||U.category_translations[0];P[N.company_id].push({id:U.id,slug:U.slug,icon:xg[U.icon]||Qh,iconName:U.icon,color:U.color,name:H?.name||U.slug})}),P}catch(k){return console.error("Error fetching all company categories:",k),{}}},[e]);return{categories:t,loading:i,error:a,createCategory:f,updateCategory:g,deleteCategory:y,getCompanyCategories:v,getAllCompanyCategories:x,assignCategoriesToCompany:async(T,k)=>{try{if(await ge.from("company_categories").delete().eq("company_id",T),k.length>0){const $=k.map(N=>({company_id:T,category_id:N})),{error:P}=await ge.from("company_categories").insert($);if(P)throw P}return{success:!0}}catch($){return console.error("Error assigning categories:",$),{success:!1,error:$.message}}},getCategoryStats:async()=>{try{const{data:T,error:k}=await ge.from("company_categories").select("category_id");if(k)throw k;const $={};return T.forEach(P=>{$[P.category_id]||($[P.category_id]=0),$[P.category_id]++}),$}catch(T){return console.error("Error fetching category stats:",T),{}}},refetch:d}}function c$({markersState:e,selectedYear:t}){const n=Il(),{organizationLogo:i}=na(),{t:s,i18n:a}=wt(),[l,d]=j.useState(""),[f,g]=j.useState(!1),[y,v]=j.useState(null),[x,w]=j.useState("name"),[C,T]=j.useState("asc"),[k,$]=j.useState(!1),P=j.useRef(null),N=j.useRef(null),U={name:s("exhibitorPage.sortName")||"Name",booth:s("exhibitorPage.sortBooth")||"Booth",favorites:s("exhibitorPage.sortFavoritesBase")||"Favorites"},{favorites:H,isFavorite:B,toggleFavorite:Z}=zf(),{categories:ne,loading:F,getAllCompanyCategories:W}=Sy(a.language),q=j.useMemo(()=>e.filter(O=>O.id<1e3&&O.name),[e]),X=j.useMemo(()=>{const O={};return q.forEach(R=>{R.companyId&&(O[R.companyId]?(O[R.companyId].boothNumbers.push(R.glyph),O[R.companyId].markerIds.push(R.id)):O[R.companyId]={...R,boothNumbers:[R.glyph],markerIds:[R.id],categories:[]})}),Object.values(O).forEach(R=>{R.boothNumbers.sort((J,D)=>(parseInt(J)||0)-(parseInt(D)||0))}),Object.values(O)},[q]),[oe,Q]=j.useState([]),[se,V]=j.useState(!1);j.useEffect(()=>{if(F)return;if(X.length===0){Q([]),V(!1);return}(async()=>{const R=X.map(ce=>ce.companyId),J=await W(R),D=X.map(ce=>({...ce,categories:J[ce.companyId]||[]}));Q(D),V(!0)})()},[X,F,W,a.language]),j.useEffect(()=>{if(!k)return;const O=R=>{const J=P.current,D=N.current;!J||!D||!J.contains(R.target)&&!D.contains(R.target)&&($(!1),setTimeout(()=>J&&J.focus(),0))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[k]);const G=j.useMemo(()=>{let O=oe;if(f&&(O=O.filter(R=>R.companyId&&B(R.companyId))),y&&(O=O.filter(R=>!R.categories||R.categories.length===0?!1:R.categories.some(J=>J.id===y))),l){const R=l.toLowerCase();O=O.filter(J=>J.name?.toLowerCase().includes(R)||J.boothNumbers?.some(D=>D?.toLowerCase().includes(R)))}return O},[oe,f,y,l,B]),re=j.useMemo(()=>{const O=[...G],R=J=>{if(!J.boothNumbers||J.boothNumbers.length===0)return Number.MAX_SAFE_INTEGER;const D=J.boothNumbers.map(ce=>parseInt(ce)).filter(ce=>!isNaN(ce));return D.length?Math.min(...D):Number.MAX_SAFE_INTEGER};return x==="favorites"?(O.sort((J,D)=>{const ce=J.companyId&&B(J.companyId)?0:1,ie=D.companyId&&B(D.companyId)?0:1;if(ce!==ie)return ce-ie;const ue=(J.name||"").localeCompare(D.name||"");return C==="asc"?ue:-ue}),O):x==="name"?(O.sort((J,D)=>{const ce=(J.name||"").localeCompare(D.name||"");return C==="asc"?ce:-ce}),O):(x==="booth"&&O.sort((J,D)=>{const ce=R(J)-R(D);return C==="asc"?ce:-ce}),O)},[G,x,C,B]),Ce=O=>n(`/map?focus=${O[0]}`);return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s("exhibitorPage.title")}),h.jsxs("div",{className:"relative",children:[h.jsx(Se,{path:co,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:s("exhibitorPage.searchPlaceholder"),value:l,onChange:O=>d(O.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),h.jsxs("div",{className:"mt-3 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:[s("exhibitorPage.showing")," ",G.length," ",s("exhibitorPage.of")," ",q.length," ",s("exhibitorPage.exhibitors"),H.length>0&&`  ${H.length} ${s("exhibitorPage.favorited")}`]}),h.jsxs("div",{className:"flex flex-wrap gap-2 items-center relative",children:[h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:x,onChange:O=>w(O.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none","aria-label":s("exhibitorPage.sortBy"),children:[h.jsx("option",{value:"name",children:U.name}),h.jsx("option",{value:"booth",children:U.booth}),H.length>0&&h.jsx("option",{value:"favorites",children:U.favorites})]}),h.jsx("button",{type:"button",onClick:()=>T(C==="asc"?"desc":"asc"),"aria-label":`Toggle sort direction to ${C==="asc"?"descending":"ascending"}`,className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",children:h.jsx(Se,{path:C==="asc"?$l:kl,size:.8})})]}),!F&&ne.length>0&&h.jsxs("div",{className:"relative flex items-center gap-1",onKeyDown:O=>{if(O.key==="Escape"){$(!1);const R=P.current;R&&R.focus()}},children:[h.jsxs("button",{type:"button",ref:P,onClick:()=>$(!k),className:`px-3 py-1.5 rounded-lg border text-sm flex items-center gap-1.5 select-none transition-colors ${y?"bg-orange-50 border-orange-300 text-orange-700 hover:bg-orange-100":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,"aria-haspopup":"listbox","aria-expanded":k,"aria-label":s("exhibitorPage.filterByCategory"),children:[h.jsx(Se,{path:C0,size:.7}),h.jsx("span",{className:"font-medium",children:y?ne.find(O=>O.id===y)?.name:s("exhibitorPage.allCategories")})]}),y&&h.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),v(null)},"aria-label":s("exhibitorPage.clearFilters"),className:"px-2 py-1.5 rounded-lg border text-sm flex items-center justify-center transition-colors bg-white border-gray-300 text-gray-700 hover:bg-gray-100",children:h.jsx(Se,{path:oo,size:.6})}),k&&h.jsxs("ul",{role:"listbox",ref:N,tabIndex:-1,className:"absolute left-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-20 py-1 max-h-80 overflow-y-auto",style:{top:"100%"},children:[h.jsx("li",{children:h.jsxs("button",{type:"button",role:"option","aria-selected":!y,onClick:()=>{v(null),$(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 ${y?"text-gray-700":"font-semibold text-blue-700 bg-blue-50"}`,children:[h.jsx(Se,{path:C0,size:.7,className:"opacity-50"}),s("exhibitorPage.allCategories")]})}),h.jsx("div",{className:"border-t border-gray-200 my-1"}),ne.map(O=>h.jsx("li",{children:h.jsxs("button",{type:"button",role:"option","aria-selected":y===O.id,onClick:()=>{v(O.id),$(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 ${y===O.id?"font-semibold text-blue-700 bg-blue-50":"text-gray-700"}`,children:[h.jsx(Se,{path:O.icon,size:.7,style:{color:O.color}}),O.name]})},O.id))]})]}),H.length>0&&h.jsxs("button",{onClick:()=>g(!f),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[h.jsx(Se,{path:WS,size:.7}),s("exhibitorPage.favoritesOnly")]})]})]}),!F&&y&&G.length===0&&h.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-center text-sm text-gray-600",children:s("exhibitorPage.noCategoryMatch")})]})}),h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[G.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500",children:s("exhibitorPage.noExhibitors")})}):h.jsx("div",{className:"space-y-3",children:re.map(O=>h.jsx("div",{onClick:()=>Ce(O.markerIds),className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer p-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:h.jsx("img",{src:Yc(O.logo,i),alt:O.name,className:"max-w-full max-h-full object-contain p-2"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("h3",{className:"font-semibold text-gray-900 text-lg break-words",children:O.name}),O.companyId&&h.jsx(Xc,{isFavorite:B(O.companyId),onToggle:()=>Z(O.companyId),size:"md",className:"flex-shrink-0"})]}),O.boothNumbers&&O.boothNumbers.length>0&&h.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[h.jsx(Se,{path:Of,size:.7,className:"text-orange-600"}),h.jsxs("span",{className:"text-sm font-medium text-orange-600",children:[s("exhibitorPage.booth")," ",O.boothNumbers.join(", ")]})]}),O.categories&&O.categories.length>0&&h.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:O.categories.map(R=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-white rounded",style:{backgroundColor:R.color},title:R.name,children:[h.jsx(Se,{path:R.icon,size:.5}),R.name]},R.id))}),(()=>{const R=u$(O.company_translations,a.language,O.info);return R?h.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:R}):null})()]})]})},O.companyId||O.id))}),h.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsxs("p",{children:[" ",h.jsx("strong",{children:s("exhibitorPage.phaseNote")})," ",s("exhibitorPage.comingInFuturePhases")]}),h.jsxs("ul",{className:"list-disc list-inside mt-2",children:[h.jsx("li",{children:s("exhibitorPage.categoryFiltering")}),h.jsx("li",{children:s("exhibitorPage.sortOptions")})]})]})})]})]})}function r5(){const[e,t]=j.useState({saturday:[],sunday:[]}),[n,i]=j.useState(!0),[s,a]=j.useState(null);j.useEffect(()=>{l();const f=()=>l();return window.addEventListener("eventActivitiesUpdated",f),()=>window.removeEventListener("eventActivitiesUpdated",f)},[]);async function l(){try{i(!0),a(null);const{data:f,error:g}=await ge.from("event_activities").select(`
          *,
          companies!event_activities_company_id_fkey (
            id,
            name
          )
        `).eq("is_active",!0).order("display_order",{ascending:!0});if(g)throw g;const y=f?.filter(x=>x.day==="saturday")||[],v=f?.filter(x=>x.day==="sunday")||[];t({saturday:y,sunday:v})}catch(f){console.error("Error fetching event activities:",f),a(f.message)}finally{i(!1)}}function d(f,g){if(f.location_type==="exhibitor"&&f.companies){const y=f.companies;return{text:y.name,boothNumber:null,companyId:y.id}}return{text:g==="nl"?f.location_nl:g==="de"?f.location_de:f.location_en,boothNumber:null,companyId:null}}return{activities:e,loading:n,error:s,getActivityLocation:d,refetch:l}}function d$({selectedYear:e}){const{t,i18n:n}=wt(),[i,s]=j.useState("saturday"),a=n.language||"en",{activities:l,loading:d,error:f,getActivityLocation:g}=r5(),y=i==="saturday"?l.saturday:l.sunday;return d?h.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mb-4"}),h.jsx("p",{className:"text-gray-600",children:a==="en"?"Loading schedule...":"Programma laden..."})]})}):f?h.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[h.jsx(Se,{path:x0,size:2,className:"text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:a==="en"?"Unable to load schedule":"Kan programma niet laden"}),h.jsx("p",{className:"text-gray-600",children:f})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white border-b",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:a==="en"?"Program":"Programma"}),h.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 rounded",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Se,{path:x0,size:1,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-yellow-800 mb-1",children:a==="en"?"Note for Managers":"Let op!"}),h.jsx("p",{className:"text-sm text-yellow-700",children:a==="en"?"This schedule shows 2025 program data (October 11-12, 2025). Please update for the 2026 event (October 10-11, 2026).":"Dit programma toont 2025 gegevens (11-12 oktober 2025). Gelieve bij te werken voor het 2026 evenement (10-11 oktober 2026)."})]})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>s("saturday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="saturday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a==="en"?"Saturday October 10":"Zaterdag 10 oktober"}),h.jsx("button",{onClick:()=>s("sunday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="sunday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a==="en"?"Sunday October 11":"Zondag 11 oktober"})]})]})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:h.jsx("div",{className:"space-y-4",children:y.map(v=>{const x=g(v,n.language);return h.jsxs("div",{className:"bg-white rounded-lg shadow border-l-4 border-l-orange-600 p-4 transition-all hover:shadow-md",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:jk,size:.9,className:"text-gray-600"}),h.jsxs("span",{className:"font-semibold text-gray-900",children:[v.start_time," - ",v.end_time]})]}),(v.badge_nl||v.badge_en||v.badge_de)&&h.jsx("span",{className:"inline-block px-2 py-1 bg-orange-600 text-white text-xs font-semibold rounded",children:a==="nl"?v.badge_nl:a==="de"?v.badge_de:v.badge_en})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a==="nl"?v.title_nl:a==="de"?v.title_de:v.title_en}),(v.description_nl||v.description_en||v.description_de)&&h.jsx("p",{className:"text-gray-700 mb-3",children:a==="nl"?v.description_nl:a==="de"?v.description_de:v.description_en}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(Se,{path:Of,size:.8,className:"text-orange-600"}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[t("programManagement.location"),":"]})," ",x.text]}),v.show_location_type_badge&&h.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${v.location_type==="exhibitor"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.location_type==="exhibitor"||v.location_type==="company"?t("programManagement.exhibitor"):t("programManagement.venue")})]})]},v.id)})})})]})}function ho(){const[e,t]=j.useState(null),[n,i]=j.useState(!0);return j.useEffect(()=>{ge.auth.getSession().then(({data:d})=>{const f=d?.session?.user?.user_metadata?.role||null;t(f),i(!1)});const{data:l}=ge.auth.onAuthStateChange((d,f)=>{const g=f?.user?.user_metadata?.role||null;t(g),i(!1)});return()=>{l?.subscription?.unsubscribe()}},[]),{role:e,loading:n,hasRole:l=>e?e==="super_admin"?!0:e===l:!1,hasAnyRole:l=>e?e==="super_admin"?!0:l.includes(e):!1,isSuperAdmin:e==="super_admin",isSystemManager:e==="system_manager",isEventManager:e==="event_manager"}}function h$(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const f$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,m$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,p$={};function qx(e,t){return(p$.jsx?m$:f$).test(e)}const g$=/[ \t\n\f\r]/g;function y$(e){return typeof e=="object"?e.type==="text"?Zx(e.value):!1:Zx(e)}function Zx(e){return e.replace(g$,"")===""}class Qc{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Qc.prototype.normal={};Qc.prototype.property={};Qc.prototype.space=void 0;function s5(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new Qc(n,i,t)}function T0(e){return e.toLowerCase()}class oi{constructor(t,n){this.attribute=n,this.property=t}}oi.prototype.attribute="";oi.prototype.booleanish=!1;oi.prototype.boolean=!1;oi.prototype.commaOrSpaceSeparated=!1;oi.prototype.commaSeparated=!1;oi.prototype.defined=!1;oi.prototype.mustUseProperty=!1;oi.prototype.number=!1;oi.prototype.overloadedBoolean=!1;oi.prototype.property="";oi.prototype.spaceSeparated=!1;oi.prototype.space=void 0;let v$=0;const tt=fo(),on=fo(),j0=fo(),je=fo(),Lt=fo(),xl=fo(),bi=fo();function fo(){return 2**++v$}const k0=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:on,commaOrSpaceSeparated:bi,commaSeparated:xl,number:je,overloadedBoolean:j0,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),wg=Object.keys(k0);class Cy extends oi{constructor(t,n,i,s){let a=-1;if(super(t,n),Gx(this,"space",s),typeof i=="number")for(;++a<wg.length;){const l=wg[a];Gx(this,wg[a],(i&k0[l])===k0[l])}}}Cy.prototype.defined=!0;function Gx(e,t,n){n&&(e[t]=n)}function Ul(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const a=new Cy(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),t[i]=a,n[T0(i)]=i,n[T0(a.attribute)]=i}return new Qc(t,n,e.space)}const a5=Ul({properties:{ariaActiveDescendant:null,ariaAtomic:on,ariaAutoComplete:null,ariaBusy:on,ariaChecked:on,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:on,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:on,ariaFlowTo:Lt,ariaGrabbed:on,ariaHasPopup:null,ariaHidden:on,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:je,ariaLive:null,ariaModal:on,ariaMultiLine:on,ariaMultiSelectable:on,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:on,ariaReadOnly:on,ariaRelevant:null,ariaRequired:on,ariaRoleDescription:Lt,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:on,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function o5(e,t){return t in e?e[t]:t}function l5(e,t){return o5(e,t.toLowerCase())}const b$=Ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xl,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:Lt,autoFocus:tt,autoPlay:tt,blocking:Lt,capture:null,charSet:null,checked:tt,cite:null,className:Lt,cols:je,colSpan:null,content:null,contentEditable:on,controls:tt,controlsList:Lt,coords:je|xl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:j0,draggable:on,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:Lt,height:je,hidden:j0,high:je,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:tt,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:je,pattern:null,ping:Lt,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:Lt,required:tt,reversed:tt,rows:je,rowSpan:je,sandbox:Lt,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:on,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:on,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:on,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:l5}),_$=Ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bi,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xl,g2:xl,glyphName:xl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:bi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bi,rev:bi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bi,requiredFeatures:bi,requiredFonts:bi,requiredFormats:bi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:bi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bi,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:o5}),u5=Ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),c5=Ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:l5}),d5=Ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),x$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},w$=/[A-Z]/g,Kx=/-[a-z]/g,S$=/^data[-\w.:]+$/i;function C$(e,t){const n=T0(t);let i=t,s=oi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&S$.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Kx,T$);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Kx.test(a)){let l=a.replace(w$,E$);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=Cy}return new s(i,t)}function E$(e){return"-"+e.toLowerCase()}function T$(e){return e.charAt(1).toUpperCase()}const j$=s5([a5,b$,u5,c5,d5],"html"),Ey=s5([a5,_$,u5,c5,d5],"svg");function k$(e){return e.join(" ").trim()}var ll={},Sg,Wx;function $$(){if(Wx)return Sg;Wx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,d=/^\s+|\s+$/g,f=`
`,g="/",y="*",v="",x="comment",w="declaration";function C(k,$){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];$=$||{};var P=1,N=1;function U(Q){var se=Q.match(t);se&&(P+=se.length);var V=Q.lastIndexOf(f);N=~V?Q.length-V:N+Q.length}function H(){var Q={line:P,column:N};return function(se){return se.position=new B(Q),F(),se}}function B(Q){this.start=Q,this.end={line:P,column:N},this.source=$.source}B.prototype.content=k;function Z(Q){var se=new Error($.source+":"+P+":"+N+": "+Q);if(se.reason=Q,se.filename=$.source,se.line=P,se.column=N,se.source=k,!$.silent)throw se}function ne(Q){var se=Q.exec(k);if(se){var V=se[0];return U(V),k=k.slice(V.length),se}}function F(){ne(n)}function W(Q){var se;for(Q=Q||[];se=q();)se!==!1&&Q.push(se);return Q}function q(){var Q=H();if(!(g!=k.charAt(0)||y!=k.charAt(1))){for(var se=2;v!=k.charAt(se)&&(y!=k.charAt(se)||g!=k.charAt(se+1));)++se;if(se+=2,v===k.charAt(se-1))return Z("End of comment missing");var V=k.slice(2,se-2);return N+=2,U(V),k=k.slice(se),N+=2,Q({type:x,comment:V})}}function X(){var Q=H(),se=ne(i);if(se){if(q(),!ne(s))return Z("property missing ':'");var V=ne(a),G=Q({type:w,property:T(se[0].replace(e,v)),value:V?T(V[0].replace(e,v)):v});return ne(l),G}}function oe(){var Q=[];W(Q);for(var se;se=X();)se!==!1&&(Q.push(se),W(Q));return Q}return F(),oe()}function T(k){return k?k.replace(d,v):v}return Sg=C,Sg}var Yx;function N$(){if(Yx)return ll;Yx=1;var e=ll&&ll.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ll,"__esModule",{value:!0}),ll.default=n;const t=e($$());function n(i,s){let a=null;if(!i||typeof i!="string")return a;const l=(0,t.default)(i),d=typeof s=="function";return l.forEach(f=>{if(f.type!=="declaration")return;const{property:g,value:y}=f;d?s(g,y,f):y&&(a=a||{},a[g]=y)}),a}return ll}var ec={},Xx;function L$(){if(Xx)return ec;Xx=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(g){return!g||n.test(g)||e.test(g)},l=function(g,y){return y.toUpperCase()},d=function(g,y){return"".concat(y,"-")},f=function(g,y){return y===void 0&&(y={}),a(g)?g:(g=g.toLowerCase(),y.reactCompat?g=g.replace(s,d):g=g.replace(i,d),g.replace(t,l))};return ec.camelCase=f,ec}var tc,Qx;function A$(){if(Qx)return tc;Qx=1;var e=tc&&tc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(N$()),n=L$();function i(s,a){var l={};return!s||typeof s!="string"||(0,t.default)(s,function(d,f){d&&f&&(l[(0,n.camelCase)(d,a)]=f)}),l}return i.default=i,tc=i,tc}var P$=A$();const M$=lo(P$),h5=f5("end"),Ty=f5("start");function f5(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function O$(e){const t=Ty(e),n=h5(e);if(t&&n)return{start:t,end:n}}function pc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Jx(e.position):"start"in e||"end"in e?Jx(e):"line"in e||"column"in e?$0(e):""}function $0(e){return e2(e&&e.line)+":"+e2(e&&e.column)}function Jx(e){return $0(e&&e.start)+"-"+$0(e&&e.end)}function e2(e){return e&&typeof e=="number"?e:1}class On extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(l=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){const f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}const d=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=pc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const jy={}.hasOwnProperty,R$=new Map,D$=/[A-Z]/g,z$=new Set(["table","tbody","thead","tfoot","tr"]),I$=new Set(["td","th"]),m5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function B$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=K$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=G$(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ey:j$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=p5(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function p5(e,t,n){if(t.type==="element")return U$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return V$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return F$(e,t,n);if(t.type==="mdxjsEsm")return H$(e,t);if(t.type==="root")return q$(e,t,n);if(t.type==="text")return Z$(e,t)}function U$(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Ey,e.schema=s),e.ancestors.push(t);const a=y5(e,t.tagName,!1),l=W$(e,t);let d=$y(e,t);return z$.has(t.tagName)&&(d=d.filter(function(f){return typeof f=="string"?!y$(f):!0})),g5(e,l,a,t),ky(l,d),e.ancestors.pop(),e.schema=i,e.create(t,a,l,n)}function V$(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}$c(e,t.position)}function H$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$c(e,t.position)}function F$(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=Ey,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:y5(e,t.name,!0),l=Y$(e,t),d=$y(e,t);return g5(e,l,a,t),ky(l,d),e.ancestors.pop(),e.schema=i,e.create(t,a,l,n)}function q$(e,t,n){const i={};return ky(i,$y(e,t)),e.create(t,e.Fragment,i,n)}function Z$(e,t){return t.value}function g5(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function ky(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function G$(e,t,n){return i;function i(s,a,l,d){const g=Array.isArray(l.children)?n:t;return d?g(a,l,d):g(a,l)}}function K$(e,t){return n;function n(i,s,a,l){const d=Array.isArray(a.children),f=Ty(i);return t(s,a,l,d,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function W$(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&jy.call(t.properties,s)){const a=X$(e,s,t.properties[s]);if(a){const[l,d]=a;e.tableCellAlignToStyle&&l==="align"&&typeof d=="string"&&I$.has(t.tagName)?i=d:n[l]=d}}if(i){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Y$(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const d=l.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else $c(e,t.position);else{const s=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,a=e.evaluater.evaluateExpression(d.expression)}else $c(e,t.position);else a=i.value===null?!0:i.value;n[s]=a}return n}function $y(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:R$;for(;++i<t.children.length;){const a=t.children[i];let l;if(e.passKeys){const f=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(f){const g=s.get(f)||0;l=f+"-"+g,s.set(f,g+1)}}const d=p5(e,a,l);d!==void 0&&n.push(d)}return n}function X$(e,t,n){const i=C$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?h$(n):k$(n)),i.property==="style"){let s=typeof n=="object"?n:Q$(e,String(n));return e.stylePropertyNameCase==="css"&&(s=J$(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?x$[i.property]||i.property:i.attribute,n]}}function Q$(e,t){try{return M$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new On("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=m5+"#cannot-parse-style-attribute",s}}function y5(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,l;for(;++a<s.length;){const d=qx(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:d,computed:!!(a&&d.type==="Literal"),optional:!1}:d}i=l}else i=qx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return jy.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);$c(e)}function $c(e,t){const n=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=m5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function J$(e){const t={};let n;for(n in e)jy.call(e,n)&&(t[eN(n)]=e[n]);return t}function eN(e){let t=e.replace(D$,tN);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function tN(e){return"-"+e.toLowerCase()}const Cg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},nN={};function iN(e,t){const n=nN,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return v5(e,i,s)}function v5(e,t,n){if(rN(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return t2(e.children,t,n)}return Array.isArray(e)?t2(e,t,n):""}function t2(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=v5(e[s],t,n);return i.join("")}function rN(e){return!!(e&&typeof e=="object")}const n2=document.createElement("i");function Ny(e){const t="&"+e+";";n2.innerHTML=t;const n=n2.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function kr(e,t,n,i){const s=e.length;let a=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function zi(e,t){return e.length>0?(kr(e,e.length,0,t),e):t}const i2={}.hasOwnProperty;function sN(e){const t={};let n=-1;for(;++n<e.length;)aN(t,e[n]);return t}function aN(e,t){let n;for(n in t){const s=(i2.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){i2.call(s,l)||(s[l]=[]);const d=a[l];oN(s[l],Array.isArray(d)?d:d?[d]:[])}}}function oN(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);kr(e,0,0,i)}function b5(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cr=ia(/[A-Za-z]/),wi=ia(/[\dA-Za-z]/),lN=ia(/[#-'*+\--9=?A-Z^-~]/);function N0(e){return e!==null&&(e<32||e===127)}const L0=ia(/\d/),uN=ia(/[\dA-Fa-f]/),cN=ia(/[!-/:-@[-`{-~]/);function Ke(e){return e!==null&&e<-2}function ai(e){return e!==null&&(e<0||e===32)}function yt(e){return e===-2||e===-1||e===32}const dN=ia(new RegExp("\\p{P}|\\p{S}","u")),hN=ia(/\s/);function ia(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Vl(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&wi(e.charCodeAt(n+1))&&wi(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const d=e.charCodeAt(n+1);a<56320&&d>56319&&d<57344?(l=String.fromCharCode(a,d),s=1):l=""}else l=String.fromCharCode(a);l&&(t.push(e.slice(i,n),encodeURIComponent(l)),i=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function At(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(f){return yt(f)?(e.enter(n),d(f)):t(f)}function d(f){return yt(f)&&a++<s?(e.consume(f),d):(e.exit(n),t(f))}}const fN={tokenize:mN};function mN(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),At(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),a(d)}function a(d){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(d)}function l(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Ke(d)?(e.consume(d),e.exit("chunkText"),a):(e.consume(d),l)}}const pN={tokenize:gN},r2={tokenize:yN};function gN(e){const t=this,n=[];let i=0,s,a,l;return d;function d(N){if(i<n.length){const U=n[i];return t.containerState=U[1],e.attempt(U[0].continuation,f,g)(N)}return g(N)}function f(N){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&P();const U=t.events.length;let H=U,B;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){B=t.events[H][1].end;break}$(i);let Z=U;for(;Z<t.events.length;)t.events[Z][1].end={...B},Z++;return kr(t.events,H+1,0,t.events.slice(U)),t.events.length=Z,g(N)}return d(N)}function g(N){if(i===n.length){if(!s)return x(N);if(s.currentConstruct&&s.currentConstruct.concrete)return C(N);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(r2,y,v)(N)}function y(N){return s&&P(),$(i),x(N)}function v(N){return t.parser.lazy[t.now().line]=i!==n.length,l=t.now().offset,C(N)}function x(N){return t.containerState={},e.attempt(r2,w,C)(N)}function w(N){return i++,n.push([t.currentConstruct,t.containerState]),x(N)}function C(N){if(N===null){s&&P(),$(0),e.consume(N);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),T(N)}function T(N){if(N===null){k(e.exit("chunkFlow"),!0),$(0),e.consume(N);return}return Ke(N)?(e.consume(N),k(e.exit("chunkFlow")),i=0,t.interrupt=void 0,d):(e.consume(N),T)}function k(N,U){const H=t.sliceStream(N);if(U&&H.push(null),N.previous=a,a&&(a.next=N),a=N,s.defineSkip(N.start),s.write(H),t.parser.lazy[N.start.line]){let B=s.events.length;for(;B--;)if(s.events[B][1].start.offset<l&&(!s.events[B][1].end||s.events[B][1].end.offset>l))return;const Z=t.events.length;let ne=Z,F,W;for(;ne--;)if(t.events[ne][0]==="exit"&&t.events[ne][1].type==="chunkFlow"){if(F){W=t.events[ne][1].end;break}F=!0}for($(i),B=Z;B<t.events.length;)t.events[B][1].end={...W},B++;kr(t.events,ne+1,0,t.events.slice(Z)),t.events.length=B}}function $(N){let U=n.length;for(;U-- >N;){const H=n[U];t.containerState=H[1],H[0].exit.call(t,e)}n.length=N}function P(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function yN(e,t,n){return At(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function s2(e){if(e===null||ai(e)||hN(e))return 1;if(dN(e))return 2}function Ly(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!i.includes(a)&&(t=a(t,n),i.push(a))}return t}const A0={name:"attention",resolveAll:vN,tokenize:bN};function vN(e,t){let n=-1,i,s,a,l,d,f,g,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[i][1].end},x={...e[n][1].start};a2(v,-f),a2(x,f),l={type:f>1?"strongSequence":"emphasisSequence",start:v,end:{...e[i][1].end}},d={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:x},a={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...d.end}},e[i][1].end={...l.start},e[n][1].start={...d.end},g=[],e[i][1].end.offset-e[i][1].start.offset&&(g=zi(g,[["enter",e[i][1],t],["exit",e[i][1],t]])),g=zi(g,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",a,t]]),g=zi(g,Ly(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),g=zi(g,[["exit",a,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,g=zi(g,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,kr(e,i-1,n-i+3,g),n=i+g.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function bN(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=s2(i);let a;return l;function l(f){return a=f,e.enter("attentionSequence"),d(f)}function d(f){if(f===a)return e.consume(f),d;const g=e.exit("attentionSequence"),y=s2(f),v=!y||y===2&&s||n.includes(f),x=!s||s===2&&y||n.includes(i);return g._open=!!(a===42?v:v&&(s||!x)),g._close=!!(a===42?x:x&&(y||!v)),t(f)}}function a2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const _N={name:"autolink",tokenize:xN};function xN(e,t,n){let i=0;return s;function s(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(w){return Cr(w)?(e.consume(w),l):w===64?n(w):g(w)}function l(w){return w===43||w===45||w===46||wi(w)?(i=1,d(w)):g(w)}function d(w){return w===58?(e.consume(w),i=0,f):(w===43||w===45||w===46||wi(w))&&i++<32?(e.consume(w),d):(i=0,g(w))}function f(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):w===null||w===32||w===60||N0(w)?n(w):(e.consume(w),f)}function g(w){return w===64?(e.consume(w),y):lN(w)?(e.consume(w),g):n(w)}function y(w){return wi(w)?v(w):n(w)}function v(w){return w===46?(e.consume(w),i=0,y):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):x(w)}function x(w){if((w===45||wi(w))&&i++<63){const C=w===45?x:v;return e.consume(w),C}return n(w)}}const If={partial:!0,tokenize:wN};function wN(e,t,n){return i;function i(a){return yt(a)?At(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||Ke(a)?t(a):n(a)}}const _5={continuation:{tokenize:CN},exit:EN,name:"blockQuote",tokenize:SN};function SN(e,t,n){const i=this;return s;function s(l){if(l===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return yt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function CN(e,t,n){const i=this;return s;function s(l){return yt(l)?At(e,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(_5,t,n)(l)}}function EN(e){e.exit("blockQuote")}const x5={name:"characterEscape",tokenize:TN};function TN(e,t,n){return i;function i(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return cN(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const w5={name:"characterReference",tokenize:jN};function jN(e,t,n){const i=this;let s=0,a,l;return d;function d(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),f}function f(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),a=31,l=wi,y(v))}function g(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=uN,y):(e.enter("characterReferenceValue"),a=7,l=L0,y(v))}function y(v){if(v===59&&s){const x=e.exit("characterReferenceValue");return l===wi&&!Ny(i.sliceSerialize(x))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(v)&&s++<a?(e.consume(v),y):n(v)}}const o2={partial:!0,tokenize:$N},l2={concrete:!0,name:"codeFenced",tokenize:kN};function kN(e,t,n){const i=this,s={partial:!0,tokenize:H};let a=0,l=0,d;return f;function f(B){return g(B)}function g(B){const Z=i.events[i.events.length-1];return a=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,d=B,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(B)}function y(B){return B===d?(l++,e.consume(B),y):l<3?n(B):(e.exit("codeFencedFenceSequence"),yt(B)?At(e,v,"whitespace")(B):v(B))}function v(B){return B===null||Ke(B)?(e.exit("codeFencedFence"),i.interrupt?t(B):e.check(o2,T,U)(B)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(B))}function x(B){return B===null||Ke(B)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(B)):yt(B)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),At(e,w,"whitespace")(B)):B===96&&B===d?n(B):(e.consume(B),x)}function w(B){return B===null||Ke(B)?v(B):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(B))}function C(B){return B===null||Ke(B)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(B)):B===96&&B===d?n(B):(e.consume(B),C)}function T(B){return e.attempt(s,U,k)(B)}function k(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),$}function $(B){return a>0&&yt(B)?At(e,P,"linePrefix",a+1)(B):P(B)}function P(B){return B===null||Ke(B)?e.check(o2,T,U)(B):(e.enter("codeFlowValue"),N(B))}function N(B){return B===null||Ke(B)?(e.exit("codeFlowValue"),P(B)):(e.consume(B),N)}function U(B){return e.exit("codeFenced"),t(B)}function H(B,Z,ne){let F=0;return W;function W(se){return B.enter("lineEnding"),B.consume(se),B.exit("lineEnding"),q}function q(se){return B.enter("codeFencedFence"),yt(se)?At(B,X,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):X(se)}function X(se){return se===d?(B.enter("codeFencedFenceSequence"),oe(se)):ne(se)}function oe(se){return se===d?(F++,B.consume(se),oe):F>=l?(B.exit("codeFencedFenceSequence"),yt(se)?At(B,Q,"whitespace")(se):Q(se)):ne(se)}function Q(se){return se===null||Ke(se)?(B.exit("codeFencedFence"),Z(se)):ne(se)}}}function $N(e,t,n){const i=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}const Eg={name:"codeIndented",tokenize:LN},NN={partial:!0,tokenize:AN};function LN(e,t,n){const i=this;return s;function s(g){return e.enter("codeIndented"),At(e,a,"linePrefix",5)(g)}function a(g){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?l(g):n(g)}function l(g){return g===null?f(g):Ke(g)?e.attempt(NN,l,f)(g):(e.enter("codeFlowValue"),d(g))}function d(g){return g===null||Ke(g)?(e.exit("codeFlowValue"),l(g)):(e.consume(g),d)}function f(g){return e.exit("codeIndented"),t(g)}}function AN(e,t,n){const i=this;return s;function s(l){return i.parser.lazy[i.now().line]?n(l):Ke(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):At(e,a,"linePrefix",5)(l)}function a(l){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(l):Ke(l)?s(l):n(l)}}const PN={name:"codeText",previous:ON,resolve:MN,tokenize:RN};function MN(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function ON(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function RN(e,t,n){let i=0,s,a;return l;function l(v){return e.enter("codeText"),e.enter("codeTextSequence"),d(v)}function d(v){return v===96?(e.consume(v),i++,d):(e.exit("codeTextSequence"),f(v))}function f(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),f):v===96?(a=e.enter("codeTextSequence"),s=0,y(v)):Ke(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):(e.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||Ke(v)?(e.exit("codeTextData"),f(v)):(e.consume(v),g)}function y(v){return v===96?(e.consume(v),s++,y):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(a.type="codeTextData",g(v))}}class DN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&nc(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),nc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),nc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);nc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);nc(this.left,n.reverse())}}}function nc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function S5(e){const t={};let n=-1,i,s,a,l,d,f,g;const y=new DN(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,zN(y,n)),n=t[n],g=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(l=y.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(y.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(i[1].end={...y.get(s)[1].start},d=y.slice(s,n),d.unshift(i),y.splice(s,n-s+1,d))}}return kr(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!g}function zN(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const a=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const d=l.events,f=[],g={};let y,v,x=-1,w=n,C=0,T=0;const k=[T];for(;w;){for(;e.get(++s)[1]!==w;);a.push(s),w._tokenizer||(y=i.sliceStream(w),w.next||y.push(null),v&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(y),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),v=w,w=w.next}for(w=n;++x<d.length;)d[x][0]==="exit"&&d[x-1][0]==="enter"&&d[x][1].type===d[x-1][1].type&&d[x][1].start.line!==d[x][1].end.line&&(T=x+1,k.push(T),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):k.pop(),x=k.length;x--;){const $=d.slice(k[x],k[x+1]),P=a.pop();f.push([P,P+$.length-1]),e.splice(P,2,$)}for(f.reverse(),x=-1;++x<f.length;)g[C+f[x][0]]=C+f[x][1],C+=f[x][1]-f[x][0]-1;return g}const IN={resolve:UN,tokenize:VN},BN={partial:!0,tokenize:HN};function UN(e){return S5(e),e}function VN(e,t){let n;return i;function i(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?a(d):Ke(d)?e.check(BN,l,a)(d):(e.consume(d),s)}function a(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function l(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function HN(e,t,n){const i=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),At(e,a,"linePrefix")}function a(l){if(l===null||Ke(l))return n(l);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(l):e.interrupt(i.parser.constructs.flow,n,t)(l)}}function C5(e,t,n,i,s,a,l,d,f){const g=f||Number.POSITIVE_INFINITY;let y=0;return v;function v($){return $===60?(e.enter(i),e.enter(s),e.enter(a),e.consume($),e.exit(a),x):$===null||$===32||$===41||N0($)?n($):(e.enter(i),e.enter(l),e.enter(d),e.enter("chunkString",{contentType:"string"}),T($))}function x($){return $===62?(e.enter(a),e.consume($),e.exit(a),e.exit(s),e.exit(i),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),w($))}function w($){return $===62?(e.exit("chunkString"),e.exit(d),x($)):$===null||$===60||Ke($)?n($):(e.consume($),$===92?C:w)}function C($){return $===60||$===62||$===92?(e.consume($),w):w($)}function T($){return!y&&($===null||$===41||ai($))?(e.exit("chunkString"),e.exit(d),e.exit(l),e.exit(i),t($)):y<g&&$===40?(e.consume($),y++,T):$===41?(e.consume($),y--,T):$===null||$===32||$===40||N0($)?n($):(e.consume($),$===92?k:T)}function k($){return $===40||$===41||$===92?(e.consume($),T):T($)}}function E5(e,t,n,i,s,a){const l=this;let d=0,f;return g;function g(w){return e.enter(i),e.enter(s),e.consume(w),e.exit(s),e.enter(a),y}function y(w){return d>999||w===null||w===91||w===93&&!f||w===94&&!d&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(e.exit(a),e.enter(s),e.consume(w),e.exit(s),e.exit(i),t):Ke(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||w===91||w===93||Ke(w)||d++>999?(e.exit("chunkString"),y(w)):(e.consume(w),f||(f=!yt(w)),w===92?x:v)}function x(w){return w===91||w===92||w===93?(e.consume(w),d++,v):v(w)}}function T5(e,t,n,i,s,a){let l;return d;function d(x){return x===34||x===39||x===40?(e.enter(i),e.enter(s),e.consume(x),e.exit(s),l=x===40?41:x,f):n(x)}function f(x){return x===l?(e.enter(s),e.consume(x),e.exit(s),e.exit(i),t):(e.enter(a),g(x))}function g(x){return x===l?(e.exit(a),f(l)):x===null?n(x):Ke(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),At(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===l||x===null||Ke(x)?(e.exit("chunkString"),g(x)):(e.consume(x),x===92?v:y)}function v(x){return x===l||x===92?(e.consume(x),y):y(x)}}function gc(e,t){let n;return i;function i(s){return Ke(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):yt(s)?At(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const FN={name:"definition",tokenize:ZN},qN={partial:!0,tokenize:GN};function ZN(e,t,n){const i=this;let s;return a;function a(w){return e.enter("definition"),l(w)}function l(w){return E5.call(i,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function d(w){return s=wl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),f):n(w)}function f(w){return ai(w)?gc(e,g)(w):g(w)}function g(w){return C5(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function y(w){return e.attempt(qN,v,v)(w)}function v(w){return yt(w)?At(e,x,"whitespace")(w):x(w)}function x(w){return w===null||Ke(w)?(e.exit("definition"),i.parser.defined.push(s),t(w)):n(w)}}function GN(e,t,n){return i;function i(d){return ai(d)?gc(e,s)(d):n(d)}function s(d){return T5(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function a(d){return yt(d)?At(e,l,"whitespace")(d):l(d)}function l(d){return d===null||Ke(d)?t(d):n(d)}}const KN={name:"hardBreakEscape",tokenize:WN};function WN(e,t,n){return i;function i(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return Ke(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const YN={name:"headingAtx",resolve:XN,tokenize:QN};function XN(e,t){let n=e.length-2,i=3,s,a;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},a={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},kr(e,i,n-i+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function QN(e,t,n){let i=0;return s;function s(y){return e.enter("atxHeading"),a(y)}function a(y){return e.enter("atxHeadingSequence"),l(y)}function l(y){return y===35&&i++<6?(e.consume(y),l):y===null||ai(y)?(e.exit("atxHeadingSequence"),d(y)):n(y)}function d(y){return y===35?(e.enter("atxHeadingSequence"),f(y)):y===null||Ke(y)?(e.exit("atxHeading"),t(y)):yt(y)?At(e,d,"whitespace")(y):(e.enter("atxHeadingText"),g(y))}function f(y){return y===35?(e.consume(y),f):(e.exit("atxHeadingSequence"),d(y))}function g(y){return y===null||y===35||ai(y)?(e.exit("atxHeadingText"),d(y)):(e.consume(y),g)}}const JN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],u2=["pre","script","style","textarea"],eL={concrete:!0,name:"htmlFlow",resolveTo:iL,tokenize:rL},tL={partial:!0,tokenize:aL},nL={partial:!0,tokenize:sL};function iL(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rL(e,t,n){const i=this;let s,a,l,d,f;return g;function g(D){return y(D)}function y(D){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(D),v}function v(D){return D===33?(e.consume(D),x):D===47?(e.consume(D),a=!0,T):D===63?(e.consume(D),s=3,i.interrupt?t:O):Cr(D)?(e.consume(D),l=String.fromCharCode(D),k):n(D)}function x(D){return D===45?(e.consume(D),s=2,w):D===91?(e.consume(D),s=5,d=0,C):Cr(D)?(e.consume(D),s=4,i.interrupt?t:O):n(D)}function w(D){return D===45?(e.consume(D),i.interrupt?t:O):n(D)}function C(D){const ce="CDATA[";return D===ce.charCodeAt(d++)?(e.consume(D),d===ce.length?i.interrupt?t:X:C):n(D)}function T(D){return Cr(D)?(e.consume(D),l=String.fromCharCode(D),k):n(D)}function k(D){if(D===null||D===47||D===62||ai(D)){const ce=D===47,ie=l.toLowerCase();return!ce&&!a&&u2.includes(ie)?(s=1,i.interrupt?t(D):X(D)):JN.includes(l.toLowerCase())?(s=6,ce?(e.consume(D),$):i.interrupt?t(D):X(D)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(D):a?P(D):N(D))}return D===45||wi(D)?(e.consume(D),l+=String.fromCharCode(D),k):n(D)}function $(D){return D===62?(e.consume(D),i.interrupt?t:X):n(D)}function P(D){return yt(D)?(e.consume(D),P):W(D)}function N(D){return D===47?(e.consume(D),W):D===58||D===95||Cr(D)?(e.consume(D),U):yt(D)?(e.consume(D),N):W(D)}function U(D){return D===45||D===46||D===58||D===95||wi(D)?(e.consume(D),U):H(D)}function H(D){return D===61?(e.consume(D),B):yt(D)?(e.consume(D),H):N(D)}function B(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),f=D,Z):yt(D)?(e.consume(D),B):ne(D)}function Z(D){return D===f?(e.consume(D),f=null,F):D===null||Ke(D)?n(D):(e.consume(D),Z)}function ne(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||ai(D)?H(D):(e.consume(D),ne)}function F(D){return D===47||D===62||yt(D)?N(D):n(D)}function W(D){return D===62?(e.consume(D),q):n(D)}function q(D){return D===null||Ke(D)?X(D):yt(D)?(e.consume(D),q):n(D)}function X(D){return D===45&&s===2?(e.consume(D),V):D===60&&s===1?(e.consume(D),G):D===62&&s===4?(e.consume(D),R):D===63&&s===3?(e.consume(D),O):D===93&&s===5?(e.consume(D),Ce):Ke(D)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(tL,J,oe)(D)):D===null||Ke(D)?(e.exit("htmlFlowData"),oe(D)):(e.consume(D),X)}function oe(D){return e.check(nL,Q,J)(D)}function Q(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),se}function se(D){return D===null||Ke(D)?oe(D):(e.enter("htmlFlowData"),X(D))}function V(D){return D===45?(e.consume(D),O):X(D)}function G(D){return D===47?(e.consume(D),l="",re):X(D)}function re(D){if(D===62){const ce=l.toLowerCase();return u2.includes(ce)?(e.consume(D),R):X(D)}return Cr(D)&&l.length<8?(e.consume(D),l+=String.fromCharCode(D),re):X(D)}function Ce(D){return D===93?(e.consume(D),O):X(D)}function O(D){return D===62?(e.consume(D),R):D===45&&s===2?(e.consume(D),O):X(D)}function R(D){return D===null||Ke(D)?(e.exit("htmlFlowData"),J(D)):(e.consume(D),R)}function J(D){return e.exit("htmlFlow"),t(D)}}function sL(e,t,n){const i=this;return s;function s(l){return Ke(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}function aL(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(If,t,n)}}const oL={name:"htmlText",tokenize:lL};function lL(e,t,n){const i=this;let s,a,l;return d;function d(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),f}function f(O){return O===33?(e.consume(O),g):O===47?(e.consume(O),H):O===63?(e.consume(O),N):Cr(O)?(e.consume(O),ne):n(O)}function g(O){return O===45?(e.consume(O),y):O===91?(e.consume(O),a=0,C):Cr(O)?(e.consume(O),P):n(O)}function y(O){return O===45?(e.consume(O),w):n(O)}function v(O){return O===null?n(O):O===45?(e.consume(O),x):Ke(O)?(l=v,G(O)):(e.consume(O),v)}function x(O){return O===45?(e.consume(O),w):v(O)}function w(O){return O===62?V(O):O===45?x(O):v(O)}function C(O){const R="CDATA[";return O===R.charCodeAt(a++)?(e.consume(O),a===R.length?T:C):n(O)}function T(O){return O===null?n(O):O===93?(e.consume(O),k):Ke(O)?(l=T,G(O)):(e.consume(O),T)}function k(O){return O===93?(e.consume(O),$):T(O)}function $(O){return O===62?V(O):O===93?(e.consume(O),$):T(O)}function P(O){return O===null||O===62?V(O):Ke(O)?(l=P,G(O)):(e.consume(O),P)}function N(O){return O===null?n(O):O===63?(e.consume(O),U):Ke(O)?(l=N,G(O)):(e.consume(O),N)}function U(O){return O===62?V(O):N(O)}function H(O){return Cr(O)?(e.consume(O),B):n(O)}function B(O){return O===45||wi(O)?(e.consume(O),B):Z(O)}function Z(O){return Ke(O)?(l=Z,G(O)):yt(O)?(e.consume(O),Z):V(O)}function ne(O){return O===45||wi(O)?(e.consume(O),ne):O===47||O===62||ai(O)?F(O):n(O)}function F(O){return O===47?(e.consume(O),V):O===58||O===95||Cr(O)?(e.consume(O),W):Ke(O)?(l=F,G(O)):yt(O)?(e.consume(O),F):V(O)}function W(O){return O===45||O===46||O===58||O===95||wi(O)?(e.consume(O),W):q(O)}function q(O){return O===61?(e.consume(O),X):Ke(O)?(l=q,G(O)):yt(O)?(e.consume(O),q):F(O)}function X(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),s=O,oe):Ke(O)?(l=X,G(O)):yt(O)?(e.consume(O),X):(e.consume(O),Q)}function oe(O){return O===s?(e.consume(O),s=void 0,se):O===null?n(O):Ke(O)?(l=oe,G(O)):(e.consume(O),oe)}function Q(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||ai(O)?F(O):(e.consume(O),Q)}function se(O){return O===47||O===62||ai(O)?F(O):n(O)}function V(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):n(O)}function G(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),re}function re(O){return yt(O)?At(e,Ce,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):Ce(O)}function Ce(O){return e.enter("htmlTextData"),l(O)}}const Ay={name:"labelEnd",resolveAll:hL,resolveTo:fL,tokenize:mL},uL={tokenize:pL},cL={tokenize:gL},dL={tokenize:yL};function hL(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&kr(e,0,e.length,n),e}function fL(e,t){let n=e.length,i=0,s,a,l,d;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=n);const f={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},y={type:"labelText",start:{...e[a+i+2][1].end},end:{...e[l-2][1].start}};return d=[["enter",f,t],["enter",g,t]],d=zi(d,e.slice(a+1,a+i+3)),d=zi(d,[["enter",y,t]]),d=zi(d,Ly(t.parser.constructs.insideSpan.null,e.slice(a+i+4,l-3),t)),d=zi(d,[["exit",y,t],e[l-2],e[l-1],["exit",g,t]]),d=zi(d,e.slice(l+1)),d=zi(d,[["exit",f,t]]),kr(e,a,e.length,d),e}function mL(e,t,n){const i=this;let s=i.events.length,a,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return d;function d(x){return a?a._inactive?v(x):(l=i.parser.defined.includes(wl(i.sliceSerialize({start:a.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),f):n(x)}function f(x){return x===40?e.attempt(uL,y,l?y:v)(x):x===91?e.attempt(cL,y,l?g:v)(x):l?y(x):v(x)}function g(x){return e.attempt(dL,y,v)(x)}function y(x){return t(x)}function v(x){return a._balanced=!0,n(x)}}function pL(e,t,n){return i;function i(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),s}function s(v){return ai(v)?gc(e,a)(v):a(v)}function a(v){return v===41?y(v):C5(e,l,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function l(v){return ai(v)?gc(e,f)(v):y(v)}function d(v){return n(v)}function f(v){return v===34||v===39||v===40?T5(e,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function g(v){return ai(v)?gc(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function gL(e,t,n){const i=this;return s;function s(d){return E5.call(i,e,a,l,"reference","referenceMarker","referenceString")(d)}function a(d){return i.parser.defined.includes(wl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function l(d){return n(d)}}function yL(e,t,n){return i;function i(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const vL={name:"labelStartImage",resolveAll:Ay.resolveAll,tokenize:bL};function bL(e,t,n){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),a}function a(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),l):n(d)}function l(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):t(d)}}const _L={name:"labelStartLink",resolveAll:Ay.resolveAll,tokenize:xL};function xL(e,t,n){const i=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):t(l)}}const Tg={name:"lineEnding",tokenize:wL};function wL(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),At(e,t,"linePrefix")}}const Jh={name:"thematicBreak",tokenize:SL};function SL(e,t,n){let i=0,s;return a;function a(g){return e.enter("thematicBreak"),l(g)}function l(g){return s=g,d(g)}function d(g){return g===s?(e.enter("thematicBreakSequence"),f(g)):i>=3&&(g===null||Ke(g))?(e.exit("thematicBreak"),t(g)):n(g)}function f(g){return g===s?(e.consume(g),i++,f):(e.exit("thematicBreakSequence"),yt(g)?At(e,d,"whitespace")(g):d(g))}}const ri={continuation:{tokenize:jL},exit:$L,name:"list",tokenize:TL},CL={partial:!0,tokenize:NL},EL={partial:!0,tokenize:kL};function TL(e,t,n){const i=this,s=i.events[i.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return d;function d(w){const C=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:L0(w)){if(i.containerState.type||(i.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(Jh,n,g)(w):g(w);if(!i.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(w)}return n(w)}function f(w){return L0(w)&&++l<10?(e.consume(w),f):(!i.interrupt||l<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),g(w)):n(w)}function g(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,e.check(If,i.interrupt?n:y,e.attempt(CL,x,v))}function y(w){return i.containerState.initialBlankLine=!0,a++,x(w)}function v(w){return yt(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),x):n(w)}function x(w){return i.containerState.size=a+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(w)}}function jL(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(If,s,a);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,At(e,t,"listItemIndent",i.containerState.size+1)(d)}function a(d){return i.containerState.furtherBlankLines||!yt(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(EL,t,l)(d))}function l(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,At(e,e.attempt(ri,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function kL(e,t,n){const i=this;return At(e,s,"listItemIndent",i.containerState.size+1);function s(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?t(a):n(a)}}function $L(e){e.exit(this.containerState.type)}function NL(e,t,n){const i=this;return At(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=i.events[i.events.length-1];return!yt(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const c2={name:"setextUnderline",resolveTo:LL,tokenize:AL};function LL(e,t){let n=e.length,i,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",l,t]),e.splice(a+1,0,["exit",e[i][1],t]),e[i][1].end={...e[a][1].end}):e[i][1]=l,e.push(["exit",l,t]),e}function AL(e,t,n){const i=this;let s;return a;function a(g){let y=i.events.length,v;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){v=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(e.enter("setextHeadingLine"),s=g,l(g)):n(g)}function l(g){return e.enter("setextHeadingLineSequence"),d(g)}function d(g){return g===s?(e.consume(g),d):(e.exit("setextHeadingLineSequence"),yt(g)?At(e,f,"lineSuffix")(g):f(g))}function f(g){return g===null||Ke(g)?(e.exit("setextHeadingLine"),t(g)):n(g)}}const PL={tokenize:ML};function ML(e){const t=this,n=e.attempt(If,i,e.attempt(this.parser.constructs.flowInitial,s,At(e,e.attempt(this.parser.constructs.flow,s,e.attempt(IN,s)),"linePrefix")));return n;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const OL={resolveAll:k5()},RL=j5("string"),DL=j5("text");function j5(e){return{resolveAll:k5(e==="text"?zL:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],a=n.attempt(s,l,d);return l;function l(y){return g(y)?a(y):d(y)}function d(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),f}function f(y){return g(y)?(n.exit("data"),a(y)):(n.consume(y),f)}function g(y){if(y===null)return!0;const v=s[y];let x=-1;if(v)for(;++x<v.length;){const w=v[x];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function k5(e){return t;function t(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,i):n}}function zL(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let a=s.length,l=-1,d=0,f;for(;a--;){const g=s[a];if(typeof g=="string"){for(l=g.length;g.charCodeAt(l-1)===32;)d++,l--;if(l)break;l=-1}else if(g===-2)f=!0,d++;else if(g!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const g={type:n===e.length||f||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(e.splice(n,0,["enter",g,t],["exit",g,t]),n+=2)}n++}return e}const IL={42:ri,43:ri,45:ri,48:ri,49:ri,50:ri,51:ri,52:ri,53:ri,54:ri,55:ri,56:ri,57:ri,62:_5},BL={91:FN},UL={[-2]:Eg,[-1]:Eg,32:Eg},VL={35:YN,42:Jh,45:[c2,Jh],60:eL,61:c2,95:Jh,96:l2,126:l2},HL={38:w5,92:x5},FL={[-5]:Tg,[-4]:Tg,[-3]:Tg,33:vL,38:w5,42:A0,60:[_N,oL],91:_L,92:[KN,x5],93:Ay,95:A0,96:PN},qL={null:[A0,OL]},ZL={null:[42,95]},GL={null:[]},KL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZL,contentInitial:BL,disable:GL,document:IL,flow:VL,flowInitial:UL,insideSpan:qL,string:HL,text:FL},Symbol.toStringTag,{value:"Module"}));function WL(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],d=[];const f={attempt:Z(H),check:Z(B),consume:P,enter:N,exit:U,interrupt:Z(B,{interrupt:!0})},g={code:null,containerState:{},defineSkip:T,events:[],now:C,parser:e,previous:null,sliceSerialize:x,sliceStream:w,write:v};let y=t.tokenize.call(g,f);return t.resolveAll&&a.push(t),g;function v(q){return l=zi(l,q),k(),l[l.length-1]!==null?[]:(ne(t,0),g.events=Ly(a,g.events,g),g.events)}function x(q,X){return XL(w(q),X)}function w(q){return YL(l,q)}function C(){const{_bufferIndex:q,_index:X,line:oe,column:Q,offset:se}=i;return{_bufferIndex:q,_index:X,line:oe,column:Q,offset:se}}function T(q){s[q.line]=q.column,W()}function k(){let q;for(;i._index<l.length;){const X=l[i._index];if(typeof X=="string")for(q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===q&&i._bufferIndex<X.length;)$(X.charCodeAt(i._bufferIndex));else $(X)}}function $(q){y=y(q)}function P(q){Ke(q)?(i.line++,i.column=1,i.offset+=q===-3?2:1,W()):q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=q}function N(q,X){const oe=X||{};return oe.type=q,oe.start=C(),g.events.push(["enter",oe,g]),d.push(oe),oe}function U(q){const X=d.pop();return X.end=C(),g.events.push(["exit",X,g]),X}function H(q,X){ne(q,X.from)}function B(q,X){X.restore()}function Z(q,X){return oe;function oe(Q,se,V){let G,re,Ce,O;return Array.isArray(Q)?J(Q):"tokenize"in Q?J([Q]):R(Q);function R(ue){return Te;function Te(Ee){const Le=Ee!==null&&ue[Ee],_e=Ee!==null&&ue.null,ee=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return J(ee)(Ee)}}function J(ue){return G=ue,re=0,ue.length===0?V:D(ue[re])}function D(ue){return Te;function Te(Ee){return O=F(),Ce=ue,ue.partial||(g.currentConstruct=ue),ue.name&&g.parser.constructs.disable.null.includes(ue.name)?ie():ue.tokenize.call(X?Object.assign(Object.create(g),X):g,f,ce,ie)(Ee)}}function ce(ue){return q(Ce,O),se}function ie(ue){return O.restore(),++re<G.length?D(G[re]):V}}}function ne(q,X){q.resolveAll&&!a.includes(q)&&a.push(q),q.resolve&&kr(g.events,X,g.events.length-X,q.resolve(g.events.slice(X),g)),q.resolveTo&&(g.events=q.resolveTo(g.events,g))}function F(){const q=C(),X=g.previous,oe=g.currentConstruct,Q=g.events.length,se=Array.from(d);return{from:Q,restore:V};function V(){i=q,g.previous=X,g.currentConstruct=oe,g.events.length=Q,d=se,W()}}function W(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function YL(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(i,a)];else{if(l=e.slice(n,s),i>-1){const d=l[0];typeof d=="string"?l[0]=d.slice(i):l.shift()}a>0&&l.push(e[s].slice(0,a))}return l}function XL(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,i.push(l)}return i.join("")}function QL(e){const i={constructs:sN([KL,...(e||{}).extensions||[]]),content:s(fN),defined:[],document:s(pN),flow:s(PL),lazy:{},string:s(RL),text:s(DL)};return i;function s(a){return l;function l(d){return WL(i,a,d)}}}function JL(e){for(;!S5(e););return e}const d2=/[\0\t\n\r]/g;function eA(){let e=1,t="",n=!0,i;return s;function s(a,l,d){const f=[];let g,y,v,x,w;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),v=0,t="",n&&(a.charCodeAt(0)===65279&&v++,n=void 0);v<a.length;){if(d2.lastIndex=v,g=d2.exec(a),x=g&&g.index!==void 0?g.index:a.length,w=a.charCodeAt(x),!g){t=a.slice(v);break}if(w===10&&v===x&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),v<x&&(f.push(a.slice(v,x)),e+=x-v),w){case 0:{f.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,f.push(-2);e++<y;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}v=x+1}return d&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const tA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nA(e){return e.replace(tA,iA)}function iA(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return b5(n.slice(a?2:1),a?16:10)}return Ny(n)||e}const $5={}.hasOwnProperty;function rA(e,t,n){return typeof t!="string"&&(n=t,t=void 0),sA(n)(JL(QL(n).document().write(eA()(e,t,!0))))}function sA(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(St),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(ct),blockQuote:a(_e),characterEscape:F,characterReference:F,codeFenced:a(ee),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(ee,l),codeText:a(ke,l),codeTextData:F,data:F,codeFlowValue:F,definition:a(Oe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(De),hardBreakEscape:a(Pe),hardBreakTrailing:a(Pe),htmlFlow:a(Fn,l),htmlFlowData:F,htmlText:a(Fn,l),htmlTextData:F,image:a(Qt),label:l,link:a(St),listItem:a(Dn),listItemValue:x,listOrdered:a(Jt,v),listUnordered:a(Jt),paragraph:a(ar),reference:D,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(ct),strong:a(sa),thematicBreak:a(Gl)},exit:{atxHeading:f(),atxHeadingSequence:H,autolink:f(),autolinkEmail:Le,autolinkProtocol:Ee,blockQuote:f(),characterEscapeValue:W,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:ue,characterReference:Te,codeFenced:f(k),codeFencedFence:T,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:W,codeIndented:f($),codeText:f(se),codeTextData:W,data:W,definition:f(),definitionDestinationString:U,definitionLabelString:P,definitionTitleString:N,emphasis:f(),hardBreakEscape:f(X),hardBreakTrailing:f(X),htmlFlow:f(oe),htmlFlowData:W,htmlText:f(Q),htmlTextData:W,image:f(G),label:Ce,labelText:re,lineEnding:q,link:f(V),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ce,resourceDestinationString:O,resourceTitleString:R,resource:J,setextHeading:f(ne),setextHeadingLineSequence:Z,setextHeadingText:B,strong:f(),thematicBreak:f()}};N5(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(ve){let $e={type:"root",children:[]};const He={stack:[$e],tokenStack:[],config:t,enter:d,exit:g,buffer:l,resume:y,data:n},nt=[];let dt=-1;for(;++dt<ve.length;)if(ve[dt][1].type==="listOrdered"||ve[dt][1].type==="listUnordered")if(ve[dt][0]==="enter")nt.push(dt);else{const kn=nt.pop();dt=s(ve,kn,dt)}for(dt=-1;++dt<ve.length;){const kn=t[ve[dt][0]];$5.call(kn,ve[dt][1].type)&&kn[ve[dt][1].type].call(Object.assign({sliceSerialize:ve[dt][2].sliceSerialize},He),ve[dt][1])}if(He.tokenStack.length>0){const kn=He.tokenStack[He.tokenStack.length-1];(kn[1]||h2).call(He,void 0,kn[0])}for($e.position={start:Ks(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Ks(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<t.transforms.length;)$e=t.transforms[dt]($e)||$e;return $e}function s(ve,$e,He){let nt=$e-1,dt=-1,kn=!1,Ui,pn,It,xn;for(;++nt<=He;){const bt=ve[nt];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?dt++:dt--,xn=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(Ui&&!xn&&!dt&&!It&&(It=nt),xn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xn=void 0}if(!dt&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||dt===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(Ui){let qn=nt;for(pn=void 0;qn--;){const li=ve[qn];if(li[1].type==="lineEnding"||li[1].type==="lineEndingBlank"){if(li[0]==="exit")continue;pn&&(ve[pn][1].type="lineEndingBlank",kn=!0),li[1].type="lineEnding",pn=qn}else if(!(li[1].type==="linePrefix"||li[1].type==="blockQuotePrefix"||li[1].type==="blockQuotePrefixWhitespace"||li[1].type==="blockQuoteMarker"||li[1].type==="listItemIndent"))break}It&&(!pn||It<pn)&&(Ui._spread=!0),Ui.end=Object.assign({},pn?ve[pn][1].start:bt[1].end),ve.splice(pn||nt,0,["exit",Ui,bt[2]]),nt++,He++}if(bt[1].type==="listItemPrefix"){const qn={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};Ui=qn,ve.splice(nt,0,["enter",qn,bt[2]]),nt++,He++,It=void 0,xn=!0}}}return ve[$e][1]._spread=kn,He}function a(ve,$e){return He;function He(nt){d.call(this,ve(nt),nt),$e&&$e.call(this,nt)}}function l(){this.stack.push({type:"fragment",children:[]})}function d(ve,$e,He){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([$e,He||void 0]),ve.position={start:Ks($e.start),end:void 0}}function f(ve){return $e;function $e(He){ve&&ve.call(this,He),g.call(this,He)}}function g(ve,$e){const He=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==ve.type&&($e?$e.call(this,ve,nt[0]):(nt[1]||h2).call(this,ve,nt[0]));else throw new Error("Cannot close `"+ve.type+"` ("+pc({start:ve.start,end:ve.end})+"): its not open");He.position.end=Ks(ve.end)}function y(){return iN(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function x(ve){if(this.data.expectingFirstListItemValue){const $e=this.stack[this.stack.length-2];$e.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.lang=ve}function C(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.meta=ve}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function $(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ve.replace(/(\r?\n|\r)$/g,"")}function P(ve){const $e=this.resume(),He=this.stack[this.stack.length-1];He.label=$e,He.identifier=wl(this.sliceSerialize(ve)).toLowerCase()}function N(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.title=ve}function U(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.url=ve}function H(ve){const $e=this.stack[this.stack.length-1];if(!$e.depth){const He=this.sliceSerialize(ve).length;$e.depth=He}}function B(){this.data.setextHeadingSlurpLineEnding=!0}function Z(ve){const $e=this.stack[this.stack.length-1];$e.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function ne(){this.data.setextHeadingSlurpLineEnding=void 0}function F(ve){const He=this.stack[this.stack.length-1].children;let nt=He[He.length-1];(!nt||nt.type!=="text")&&(nt=_n(),nt.position={start:Ks(ve.start),end:void 0},He.push(nt)),this.stack.push(nt)}function W(ve){const $e=this.stack.pop();$e.value+=this.sliceSerialize(ve),$e.position.end=Ks(ve.end)}function q(ve){const $e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const He=$e.children[$e.children.length-1];He.position.end=Ks(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes($e.type)&&(F.call(this,ve),W.call(this,ve))}function X(){this.data.atHardBreak=!0}function oe(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ve}function Q(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ve}function se(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.value=ve}function V(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const $e=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=$e,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function G(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const $e=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=$e,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function re(ve){const $e=this.sliceSerialize(ve),He=this.stack[this.stack.length-2];He.label=nA($e),He.identifier=wl($e).toLowerCase()}function Ce(){const ve=this.stack[this.stack.length-1],$e=this.resume(),He=this.stack[this.stack.length-1];if(this.data.inReference=!0,He.type==="link"){const nt=ve.children;He.children=nt}else He.alt=$e}function O(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.url=ve}function R(){const ve=this.resume(),$e=this.stack[this.stack.length-1];$e.title=ve}function J(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function ce(ve){const $e=this.resume(),He=this.stack[this.stack.length-1];He.label=$e,He.identifier=wl(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function ie(ve){this.data.characterReferenceType=ve.type}function ue(ve){const $e=this.sliceSerialize(ve),He=this.data.characterReferenceType;let nt;He?(nt=b5($e,He==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=Ny($e);const dt=this.stack[this.stack.length-1];dt.value+=nt}function Te(ve){const $e=this.stack.pop();$e.position.end=Ks(ve.end)}function Ee(ve){W.call(this,ve);const $e=this.stack[this.stack.length-1];$e.url=this.sliceSerialize(ve)}function Le(ve){W.call(this,ve);const $e=this.stack[this.stack.length-1];$e.url="mailto:"+this.sliceSerialize(ve)}function _e(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function ke(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function ct(){return{type:"heading",depth:0,children:[]}}function Pe(){return{type:"break"}}function Fn(){return{type:"html",value:""}}function Qt(){return{type:"image",title:null,url:"",alt:null}}function St(){return{type:"link",title:null,url:"",children:[]}}function Jt(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function Dn(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function ar(){return{type:"paragraph",children:[]}}function sa(){return{type:"strong",children:[]}}function _n(){return{type:"text",value:""}}function Gl(){return{type:"thematicBreak"}}}function Ks(e){return{line:e.line,column:e.column,offset:e.offset}}function N5(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?N5(e,i):aA(e,i)}}function aA(e,t){let n;for(n in t)if($5.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function h2(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+pc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+pc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+pc({start:t.start,end:t.end})+") is still open")}function oA(e){const t=this;t.parser=n;function n(i){return rA(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function lA(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function uA(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function cA(e,t){const n=t.value?t.value+`
`:"",i={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(i.className=["language-"+s[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function dA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Vl(i.toLowerCase()),a=e.footnoteOrder.indexOf(i);let l,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),l=e.footnoteOrder.length):l=a+1,d+=1,e.footnoteCounts.set(i,d);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,f);const g={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,g),e.applyData(t,g)}function mA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function L5(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=i:s.push({type:"text",value:i}),s}function gA(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return L5(e,t);const s={src:Vl(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function yA(e,t){const n={src:Vl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function vA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function bA(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return L5(e,t);const s={href:Vl(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function _A(e,t){const n={href:Vl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function xA(e,t,n){const i=e.all(t),s=n?wA(n):A5(t),a={},l=[];if(typeof t.checked=="boolean"){const y=i[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const y=i[d];(s||d!==0||y.type!=="element"||y.tagName!=="p")&&l.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!s?l.push(...y.children):l.push(y)}const f=i[i.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,g),e.applyData(t,g)}function wA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=A5(n[i])}return t}function A5(e){const t=e.spread;return t??e.children.length>1}function SA(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const l=i[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function CA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function EA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function TA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jA(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=Ty(t.children[1]),f=h5(t.children[t.children.length-1]);d&&f&&(l.position={start:d,end:f}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function kA(e,t,n){const i=n?n.children:void 0,a=(i?i.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,d=l?l.length:t.children.length;let f=-1;const g=[];for(;++f<d;){const v=t.children[f],x={},w=l?l[f]:void 0;w&&(x.align=w);let C={type:"element",tagName:a,properties:x,children:[]};v&&(C.children=e.all(v),e.patch(v,C),C=e.applyData(v,C)),g.push(C)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,y),e.applyData(t,y)}function $A(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const f2=9,m2=32;function NA(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const a=[];for(;i;)a.push(p2(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return a.push(p2(t.slice(s),s>0,!1)),a.join("")}function p2(e,t,n){let i=0,s=e.length;if(t){let a=e.codePointAt(i);for(;a===f2||a===m2;)i++,a=e.codePointAt(i)}if(n){let a=e.codePointAt(s-1);for(;a===f2||a===m2;)s--,a=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function LA(e,t){const n={type:"text",value:NA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function AA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const PA={blockquote:lA,break:uA,code:cA,delete:dA,emphasis:hA,footnoteReference:fA,heading:mA,html:pA,imageReference:gA,image:yA,inlineCode:vA,linkReference:bA,link:_A,listItem:xA,list:SA,paragraph:CA,root:EA,strong:TA,table:jA,tableCell:$A,tableRow:kA,text:LA,thematicBreak:AA,toml:Vh,yaml:Vh,definition:Vh,footnoteDefinition:Vh};function Vh(){}const P5=-1,Bf=0,yc=1,pf=2,Py=3,My=4,Oy=5,Ry=6,M5=7,O5=8,g2=typeof self=="object"?self:globalThis,MA=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),i=s=>{if(e.has(s))return e.get(s);const[a,l]=t[s];switch(a){case Bf:case P5:return n(l,s);case yc:{const d=n([],s);for(const f of l)d.push(i(f));return d}case pf:{const d=n({},s);for(const[f,g]of l)d[i(f)]=i(g);return d}case Py:return n(new Date(l),s);case My:{const{source:d,flags:f}=l;return n(new RegExp(d,f),s)}case Oy:{const d=n(new Map,s);for(const[f,g]of l)d.set(i(f),i(g));return d}case Ry:{const d=n(new Set,s);for(const f of l)d.add(i(f));return d}case M5:{const{name:d,message:f}=l;return n(new g2[d](f),s)}case O5:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:d}=new Uint8Array(l);return n(new DataView(d),l)}}return n(new g2[a](l),s)};return i},y2=e=>MA(new Map,e)(0),ul="",{toString:OA}={},{keys:RA}=Object,ic=e=>{const t=typeof e;if(t!=="object"||!e)return[Bf,t];const n=OA.call(e).slice(8,-1);switch(n){case"Array":return[yc,ul];case"Object":return[pf,ul];case"Date":return[Py,ul];case"RegExp":return[My,ul];case"Map":return[Oy,ul];case"Set":return[Ry,ul];case"DataView":return[yc,n]}return n.includes("Array")?[yc,n]:n.includes("Error")?[M5,n]:[pf,n]},Hh=([e,t])=>e===Bf&&(t==="function"||t==="symbol"),DA=(e,t,n,i)=>{const s=(l,d)=>{const f=i.push(l)-1;return n.set(d,f),f},a=l=>{if(n.has(l))return n.get(l);let[d,f]=ic(l);switch(d){case Bf:{let y=l;switch(f){case"bigint":d=O5,y=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return s([P5],l)}return s([d,y],l)}case yc:{if(f){let x=l;return f==="DataView"?x=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(x=new Uint8Array(l)),s([f,[...x]],l)}const y=[],v=s([d,y],l);for(const x of l)y.push(a(x));return v}case pf:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const y=[],v=s([d,y],l);for(const x of RA(l))(e||!Hh(ic(l[x])))&&y.push([a(x),a(l[x])]);return v}case Py:return s([d,l.toISOString()],l);case My:{const{source:y,flags:v}=l;return s([d,{source:y,flags:v}],l)}case Oy:{const y=[],v=s([d,y],l);for(const[x,w]of l)(e||!(Hh(ic(x))||Hh(ic(w))))&&y.push([a(x),a(w)]);return v}case Ry:{const y=[],v=s([d,y],l);for(const x of l)(e||!Hh(ic(x)))&&y.push(a(x));return v}}const{message:g}=l;return s([d,{name:f,message:g}],l)};return a},v2=(e,{json:t,lossy:n}={})=>{const i=[];return DA(!(t||n),!!t,new Map,i)(e),i},gf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?y2(v2(e,t)):structuredClone(e):(e,t)=>y2(v2(e,t));function zA(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function IA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function BA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zA,i=e.options.footnoteBackLabel||IA,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let f=-1;for(;++f<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[f]);if(!g)continue;const y=e.all(g),v=String(g.identifier).toUpperCase(),x=Vl(v.toLowerCase());let w=0;const C=[],T=e.footnoteCounts.get(v);for(;T!==void 0&&++w<=T;){C.length>0&&C.push({type:"text",value:" "});let P=typeof n=="string"?n:n(f,w);typeof P=="string"&&(P={type:"text",value:P}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,w),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const k=y[y.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const P=k.children[k.children.length-1];P&&P.type==="text"?P.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...C)}else y.push(...C);const $={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(y,!0)};e.patch(g,$),d.push($)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...gf(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const R5=(function(e){if(e==null)return FA;if(typeof e=="function")return Uf(e);if(typeof e=="object")return Array.isArray(e)?UA(e):VA(e);if(typeof e=="string")return HA(e);throw new Error("Expected function, string, or object as test")});function UA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=R5(e[n]);return Uf(i);function i(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function VA(e){const t=e;return Uf(n);function n(i){const s=i;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function HA(e){return Uf(t);function t(n){return n&&n.type===e}}function Uf(e){return t;function t(n,i,s){return!!(qA(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function FA(){return!0}function qA(e){return e!==null&&typeof e=="object"&&"type"in e}const D5=[],ZA=!0,b2=!1,GA="skip";function KA(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const a=R5(s),l=i?-1:1;d(e,void 0,[])();function d(f,g,y){const v=f&&typeof f=="object"?f:{};if(typeof v.type=="string"){const w=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(f.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=D5,C,T,k;if((!t||a(f,g,y[y.length-1]||void 0))&&(w=WA(n(f,y)),w[0]===b2))return w;if("children"in f&&f.children){const $=f;if($.children&&w[0]!==GA)for(T=(i?$.children.length:-1)+l,k=y.concat($);T>-1&&T<$.children.length;){const P=$.children[T];if(C=d(P,T,k)(),C[0]===b2)return C;T=typeof C[1]=="number"?C[1]:T+l}}return w}}}function WA(e){return Array.isArray(e)?e:typeof e=="number"?[ZA,e]:e==null?D5:[e]}function z5(e,t,n,i){let s,a,l;typeof t=="function"&&typeof n!="function"?(a=void 0,l=t,s=n):(a=t,l=n,s=i),KA(e,a,d,s);function d(f,g){const y=g[g.length-1],v=y?y.children.indexOf(f):void 0;return l(f,v,y)}}const P0={}.hasOwnProperty,YA={};function XA(e,t){const n=t||YA,i=new Map,s=new Map,a=new Map,l={...PA,...n.handlers},d={all:g,applyData:JA,definitionById:i,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:f,options:n,patch:QA,wrap:t7};return z5(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?i:s,x=String(y.identifier).toUpperCase();v.has(x)||v.set(x,y)}}),d;function f(y,v){const x=y.type,w=d.handlers[x];if(P0.call(d.handlers,x)&&w)return w(d,y,v);if(d.options.passThrough&&d.options.passThrough.includes(x)){if("children"in y){const{children:T,...k}=y,$=gf(k);return $.children=d.all(y),$}return gf(y)}return(d.options.unknownHandler||e7)(d,y,v)}function g(y){const v=[];if("children"in y){const x=y.children;let w=-1;for(;++w<x.length;){const C=d.one(x[w],y);if(C){if(w&&x[w-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=_2(C.value)),!Array.isArray(C)&&C.type==="element")){const T=C.children[0];T&&T.type==="text"&&(T.value=_2(T.value))}Array.isArray(C)?v.push(...C):v.push(C)}}}return v}}function QA(e,t){e.position&&(t.position=O$(e))}function JA(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,gf(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function e7(e,t){const n=t.data||{},i="value"in t&&!(P0.call(n,"hProperties")||P0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function t7(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function x2(e,t){const n=XA(e,t),i=n.one(e,void 0),s=BA(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function n7(e,t){return e&&"run"in e?async function(n,i){const s=x2(n,{file:i,...t});await e.run(s,i)}:function(n,i){return x2(n,{file:i,...e||t})}}function w2(e){if(e)throw e}var jg,S2;function i7(){if(S2)return jg;S2=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},a=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var y=e.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!y&&!v)return!1;var x;for(x in g);return typeof x>"u"||e.call(g,x)},l=function(g,y){n&&y.name==="__proto__"?n(g,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):g[y.name]=y.newValue},d=function(g,y){if(y==="__proto__")if(e.call(g,y)){if(i)return i(g,y).value}else return;return g[y]};return jg=function f(){var g,y,v,x,w,C,T=arguments[0],k=1,$=arguments.length,P=!1;for(typeof T=="boolean"&&(P=T,T=arguments[1]||{},k=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});k<$;++k)if(g=arguments[k],g!=null)for(y in g)v=d(T,y),x=d(g,y),T!==x&&(P&&x&&(a(x)||(w=s(x)))?(w?(w=!1,C=v&&s(v)?v:[]):C=v&&a(v)?v:{},l(T,{name:y,newValue:f(P,C,x)})):typeof x<"u"&&l(T,{name:y,newValue:x}));return T},jg}var r7=i7();const kg=lo(r7);function M0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s7(){const e=[],t={run:n,use:i};return t;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);d(null,...s);function d(f,...g){const y=e[++a];let v=-1;if(f){l(f);return}for(;++v<s.length;)(g[v]===null||g[v]===void 0)&&(g[v]=s[v]);s=g,y?a7(y,d)(...g):l(null,...g)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function a7(e,t){let n;return i;function i(...l){const d=e.length>l.length;let f;d&&l.push(s);try{f=e.apply(this,l)}catch(g){const y=g;if(d&&n)throw y;return s(y)}d||(f&&f.then&&typeof f.then=="function"?f.then(a,s):f instanceof Error?s(f):a(f))}function s(l,...d){n||(n=!0,t(l,...d))}function a(l){s(null,l)}}const Sr={basename:o7,dirname:l7,extname:u7,join:c7,sep:"/"};function o7(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jc(e);let n=0,i=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else i<0&&(a=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let l=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(i=s):(d=-1,i=l));return n===i?i=l:i<0&&(i=e.length),e.slice(n,i)}function l7(e){if(Jc(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function u7(e){Jc(e);let t=e.length,n=-1,i=0,s=-1,a=0,l;for(;t--;){const d=e.codePointAt(t);if(d===47){if(l){i=t+1;break}continue}n<0&&(l=!0,n=t+1),d===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function c7(...e){let t=-1,n;for(;++t<e.length;)Jc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":d7(n)}function d7(e){Jc(e);const t=e.codePointAt(0)===47;let n=h7(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function h7(e,t){let n="",i=0,s=-1,a=0,l=-1,d,f;for(;++l<=e.length;){if(l<e.length)d=e.codePointAt(l);else{if(d===47)break;d=47}if(d===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",i=0,s=l,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),i=l-s-1;s=l,a=0}else d===46&&a>-1?a++:a=-1}return n}function Jc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const f7={cwd:m7};function m7(){return"/"}function O0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function p7(e){if(typeof e=="string")e=new URL(e);else if(!O0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return g7(e)}function g7(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const $g=["history","path","basename","stem","extname","dirname"];class I5{constructor(t){let n;t?O0(t)?n={path:t}:typeof t=="string"||y7(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":f7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<$g.length;){const a=$g[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)$g.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Sr.basename(this.path):void 0}set basename(t){Lg(t,"basename"),Ng(t,"basename"),this.path=Sr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Sr.dirname(this.path):void 0}set dirname(t){C2(this.basename,"dirname"),this.path=Sr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Sr.extname(this.path):void 0}set extname(t){if(Ng(t,"extname"),C2(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){O0(t)&&(t=p7(t)),Lg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Sr.basename(this.path,this.extname):void 0}set stem(t){Lg(t,"stem"),Ng(t,"stem"),this.path=Sr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new On(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ng(e,t){if(e&&e.includes(Sr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Sr.sep+"`")}function Lg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function C2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function y7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const v7=(function(e){const i=this.constructor.prototype,s=i[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),b7={}.hasOwnProperty;class Dy extends v7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=s7()}copy(){const t=new Dy;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(kg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Mg("data",this.frozen),this.namespace[t]=n,this):b7.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Mg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Fh(t),i=this.parser||this.Parser;return Ag("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Ag("process",this.parser||this.Parser),Pg("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const d=Fh(t),f=i.parse(d);i.run(f,d,function(y,v,x){if(y||!v||!x)return g(y);const w=v,C=i.stringify(w,x);w7(C)?x.value=C:x.result=C,g(y,x)});function g(y,v){y||!v?l(y):a?a(v):n(void 0,v)}}}processSync(t){let n=!1,i;return this.freeze(),Ag("processSync",this.parser||this.Parser),Pg("processSync",this.compiler||this.Compiler),this.process(t,s),T2("processSync","process",n),i;function s(a,l){n=!0,w2(a),i=l}}run(t,n,i){E2(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,d){const f=Fh(n);s.run(t,f,g);function g(y,v,x){const w=v||t;y?d(y):l?l(w):i(void 0,w,x)}}}runSync(t,n){let i=!1,s;return this.run(t,n,a),T2("runSync","run",i),s;function a(l,d){w2(l),s=d,i=!0}}stringify(t,n){this.freeze();const i=Fh(n),s=this.compiler||this.Compiler;return Pg("stringify",s),E2(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(Mg("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(g){if(typeof g=="function")f(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[y,...v]=g;f(y,v)}else l(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function l(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(g.plugins),g.settings&&(s.settings=kg(!0,s.settings,g.settings))}function d(g){let y=-1;if(g!=null)if(Array.isArray(g))for(;++y<g.length;){const v=g[y];a(v)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function f(g,y){let v=-1,x=-1;for(;++v<i.length;)if(i[v][0]===g){x=v;break}if(x===-1)i.push([g,...y]);else if(y.length>0){let[w,...C]=y;const T=i[x][1];M0(T)&&M0(w)&&(w=kg(!0,T,w)),i[x]=[g,w,...C]}}}}const _7=new Dy().freeze();function Ag(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Pg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Mg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function E2(e){if(!M0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function T2(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Fh(e){return x7(e)?e:new I5(e)}function x7(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function w7(e){return typeof e=="string"||S7(e)}function S7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const C7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",j2=[],k2={allowDangerousHtml:!0},E7=/^(https?|ircs?|mailto|xmpp)$/i,T7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function j7(e){const t=k7(e),n=$7(e);return N7(t.runSync(t.parse(n),n),e)}function k7(e){const t=e.rehypePlugins||j2,n=e.remarkPlugins||j2,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...k2}:k2;return _7().use(oA).use(n).use(n7,i).use(t)}function $7(e){const t=e.children||"",n=new I5;return typeof t=="string"&&(n.value=t),n}function N7(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,a=t.disallowedElements,l=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||L7;for(const y of T7)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+C7+y.id,void 0);return z5(e,g),B$(e,{Fragment:h.Fragment,components:s,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function g(y,v,x){if(y.type==="raw"&&x&&typeof v=="number")return l?x.children.splice(v,1):x.children[v]={type:"text",value:y.value},v;if(y.type==="element"){let w;for(w in Cg)if(Object.hasOwn(Cg,w)&&Object.hasOwn(y.properties,w)){const C=y.properties[w],T=Cg[w];(T===null||T.includes(y.tagName))&&(y.properties[w]=f(String(C||""),w,y))}}if(y.type==="element"){let w=n?!n.includes(y.tagName):a?a.includes(y.tagName):!1;if(!w&&i&&typeof v=="number"&&(w=!i(y,v,x)),w&&x&&typeof v=="number")return d&&y.children?x.children.splice(v,1,...y.children):x.children.splice(v,1),v}}}function L7(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||E7.test(e.slice(0,t))?e:""}const $2={dashboard:{title:{en:"Dashboard Overview",nl:"Dashboard Overzicht"},content:{en:`
The dashboard provides a quick overview of your event data:

**Key Metrics:**
- **Total Markers**: All map locations (booths, parking, facilities)
- **Companies**: Registered exhibitor companies
- **Subscriptions**: Companies registered for the selected year
- **Assignments**: Companies assigned to map locations

**Event Stats:**
- View meal counts (breakfast, lunch, BBQ) for Saturday and Sunday
- Track total coins distributed
- All stats update in real-time as you make changes

**Year Selector:**
Use the year dropdown in the top navigation to switch between event years.
      `.trim(),nl:`
Het dashboard biedt een snel overzicht van je event data:

**Belangrijkste Cijfers:**
- **Totaal Markers**: Alle kaartlocaties (stands, parkeren, faciliteiten)
- **Bedrijven**: Geregistreerde exposanten
- **Inschrijvingen**: Bedrijven ingeschreven voor het geselecteerde jaar
- **Toewijzingen**: Bedrijven toegewezen aan kaartlocaties

**Event Statistieken:**
- Bekijk maaltijdaantallen (ontbijt, lunch, BBQ) voor zaterdag en zondag
- Volg totaal uitgedeelde munten
- Alle statistieken updaten real-time bij wijzigingen

**Jaarselector:**
Gebruik de jaarkeuze in de topnavigatie om tussen evenementjaren te wisselen.
      `.trim()},updated:"2025-11-22",tips:{en:["Use the year selector to view past or future events","Stats update automatically when you make changes","Dashboard is read-only - go to specific tabs to edit data"],nl:["Gebruik de jaarselector om verleden of toekomstige events te bekijken","Statistieken updaten automatisch bij wijzigingen","Dashboard is alleen-lezen - ga naar specifieke tabbladen om data te bewerken"]}},mapManagement:{title:{en:"Map Management",nl:"Kaartbeheer"},content:{en:`
The Map Management page lets you place and configure map markers.

**Placing Markers:**
1. Click "Add Marker" or right-click on the map
2. Drag the marker to the desired position
3. Set marker properties (name, type, icon, visibility)
4. Click "Save" to persist changes

**Marker Properties:**
- **Type**: Booth, Parking, Food, Event, etc.
- **Icon & Color**: Visual appearance on map
- **Min/Max Zoom**: Control when marker appears based on zoom level
- **Rotation**: Adjust booth rectangle angle (booths only)
- **Lock**: Prevent accidental moves during event

**Tips:**
- Lock markers before event day to prevent accidental changes
- Use zoom visibility to keep map clean at different zoom levels
- Rectangles (6m x 6m) show booth outlines - only visible in admin view
      `.trim(),nl:`
De Kaartbeheer pagina laat je kaartmarkers plaatsen en configureren.

**Markers Plaatsen:**
1. Klik "Marker Toevoegen" of rechts-klik op de kaart
2. Sleep de marker naar de gewenste positie
3. Stel marker eigenschappen in (naam, type, icoon, zichtbaarheid)
4. Klik "Opslaan" om wijzigingen vast te leggen

**Marker Eigenschappen:**
- **Type**: Stand, Parkeren, Eten, Event, etc.
- **Icoon & Kleur**: Visuele weergave op kaart
- **Min/Max Zoom**: Bepaal wanneer marker verschijnt op basis van zoomniveau
- **Rotatie**: Pas standhoek aan (alleen stands)
- **Vergrendel**: Voorkom onbedoelde verplaatsingen tijdens event

**Tips:**
- Vergrendel markers voor de eventdag om ongelukken te voorkomen
- Gebruik zoomzichtbaarheid om kaart overzichtelijk te houden
- Rechthoeken (6m x 6m) tonen standcontouren - alleen zichtbaar in admin weergave
      `.trim()},updated:"2025-11-22",tips:{en:["Right-click on map for quick marker creation","Lock markers before going live to prevent accidents","Adjust min/max zoom to control marker visibility","Use rectangles to visualize booth layouts"],nl:["Rechts-klik op kaart voor snelle marker creatie","Vergrendel markers voor go-live om ongelukken te voorkomen","Pas min/max zoom aan om marker zichtbaarheid te regelen","Gebruik rechthoeken om standindelingen te visualiseren"]}},companies:{title:{en:"Companies Management",nl:"Bedrijvenbeheer"},content:{en:`
Manage exhibitor companies and their contact information.

**Adding Companies:**
1. Click "Add Company" button
2. Fill in company details (name, contact, phone, email)
3. Click "Save"

**Company Information:**
- **Company Name**: Primary identifier (must be unique)
- **Contact Person**: Main point of contact
- **Phone**: Contact phone number
- **Email**: Contact email address

**Editing Companies:**
- Click on any row to edit company details
- Changes save automatically
- Company data persists across event years
      `.trim(),nl:`
Beheer exposanten en hun contactinformatie.

**Bedrijven Toevoegen:**
1. Klik "Bedrijf Toevoegen" knop
2. Vul bedrijfsgegevens in (naam, contact, telefoon, email)
3. Klik "Opslaan"

**Bedrijfsinformatie:**
- **Bedrijfsnaam**: Primaire identificatie (moet uniek zijn)
- **Contactpersoon**: Hoofdcontact
- **Telefoon**: Contacttelefoonnummer
- **Email**: Contact emailadres

**Bedrijven Bewerken:**
- Klik op een rij om bedrijfsgegevens te bewerken
- Wijzigingen worden automatisch opgeslagen
- Bedrijfsdata blijft behouden over evenementjaren
      `.trim()},updated:"2025-11-22",tips:{en:["Company names must be unique","Use import for bulk company uploads","Contact info is optional but recommended"],nl:["Bedrijfsnamen moeten uniek zijn","Gebruik import voor bulk bedrijfsuploads","Contactinfo is optioneel maar aangeraden"]}},subscriptions:{title:{en:"Event Subscriptions",nl:"Event Inschrijvingen"},content:{en:`
Track company registrations and meal preferences for each event year.

**Managing Subscriptions:**
- View all companies registered for selected year
- See meal selections (breakfast, lunch, BBQ) separately for Saturday and Sunday
- Track coin distribution
- Edit preferences as needed

**Saturday Options:**
- Breakfast, Lunch, BBQ available

**Sunday Options:**
- Breakfast and Lunch (no BBQ on Sunday)

**Importing Subscriptions:**
Use CSV/Excel import for efficient bulk uploads from registration system.
      `.trim(),nl:`
Volg bedrijfsregistraties en maaltijdvoorkeuren per evenementjaar.

**Inschrijvingen Beheren:**
- Bekijk alle bedrijven ingeschreven voor geselecteerd jaar
- Zie maaltijdkeuzes (ontbijt, lunch, BBQ) apart voor zaterdag en zondag
- Volg muntendistributie
- Bewerk voorkeuren indien nodig

**Zaterdag Opties:**
- Ontbijt, Lunch, BBQ beschikbaar

**Zondag Opties:**
- Ontbijt en Lunch (geen BBQ op zondag)

**Inschrijvingen Importeren:**
Gebruik CSV/Excel import voor efficinte bulk uploads vanuit registratiesysteem.
      `.trim()},updated:"2025-11-22",tips:{en:["Import subscriptions at start of event planning","Saturday and Sunday have different meal options","Changes sync to dashboard statistics automatically"],nl:["Importeer inschrijvingen aan start van eventplanning","Zaterdag en zondag hebben verschillende maaltijdopties","Wijzigingen synchroniseren automatisch naar dashboard statistieken"]}},assignments:{title:{en:"Booth Assignments",nl:"Standtoewijzingen"},content:{en:`
Assign companies to specific map locations (booth markers).

**Creating Assignments:**
1. Select event year
2. Choose company from dropdown
3. Select marker (booth) location
4. Click "Assign"

**Assignment Details:**
- Links company to physical booth location
- Displays in public map view
- Can reassign to different location if needed
- One company per booth per year

**Bulk Assignment:**
Import assignments via CSV for efficient setup.
      `.trim(),nl:`
Wijs bedrijven toe aan specifieke kaartlocaties (standmarkers).

**Toewijzingen Maken:**
1. Selecteer evenementjaar
2. Kies bedrijf uit dropdown
3. Selecteer marker (stand) locatie
4. Klik "Toewijzen"

**Toewijzingsdetails:**
- Koppelt bedrijf aan fysieke standlocatie
- Toont in publieke kaartweergave
- Kan hertoegewezen worden naar andere locatie indien nodig
- En bedrijf per stand per jaar

**Bulk Toewijzing:**
Importeer toewijzingen via CSV voor efficinte setup.
      `.trim()},updated:"2025-11-22",tips:{en:["One booth can only be assigned to one company per year","Assignments are year-specific","Use import for efficient bulk assignment"],nl:["En stand kan maar aan n bedrijf per jaar toegewezen worden","Toewijzingen zijn jaar-specifiek","Gebruik import voor efficinte bulk toewijzing"]}},settings:{title:{en:"System Settings",nl:"Systeeminstellingen"},content:{en:`
Configure system-wide settings and preferences.

**Available Settings:**
- **Organization Profile**: Logo, name, branding
- **Map Defaults**: Default layers, zoom levels
- **User Management**: Admin roles and permissions
- **Marker Defaults**: Default icons, colors, sizes
- **Event Defaults**: Saturday/Sunday meal options
- **Branding**: Colors, logo, organization name
- **Program Management**: Event schedule and activities

**Organization Logo:**
Upload your organization logo to appear:
- On map cluster markers
- In admin dashboard header
- In public map branding

**User Roles:**
- **Super Admin**: Full access to all features
- **System Manager**: Dashboard + Map Management
- **Event Manager**: Dashboard + Companies + Subscriptions + Assignments
- **Content Editor**: Program management access

**Important:**
Only Super Admins can access settings. Changes affect all users.
      `.trim(),nl:`
Configureer systeembrede instellingen en voorkeuren.

**Beschikbare Instellingen:**
- **Organisatieprofiel**: Logo, naam, huisstijl
- **Kaart Standaarden**: Standaardlagen, zoomniveaus
- **Gebruikersbeheer**: Admin rollen en rechten
- **Marker Standaarden**: Standaard iconen, kleuren, groottes
- **Event Standaarden**: Zaterdag/zondag maaltijdopties
- **Branding**: Kleuren, logo, organisatienaam
- **Programma Beheer**: Event schema en activiteiten

**Organisatie Logo:**
Upload je organisatie logo om te verschijnen:
- Op kaart cluster markers
- In admin dashboard header
- In publieke kaart branding

**Gebruikersrollen:**
- **Super Admin**: Volledige toegang tot alle features
- **Systeembeheerder**: Dashboard + Kaartbeheer
- **Eventbeheerder**: Dashboard + Bedrijven + Inschrijvingen + Toewijzingen
- **Content Editor**: Programma beheer toegang

**Belangrijk:**
Alleen Super Admins hebben toegang tot instellingen. Wijzigingen benvloeden alle gebruikers.
      `.trim()},updated:"2025-11-22",tips:{en:["Only Super Admins see this section","Test logo uploads in staging first","Changes affect all admin users","Keep user count to 5-10 for best performance"],nl:["Alleen Super Admins zien deze sectie","Test logo uploads eerst in staging","Wijzigingen benvloeden alle admin gebruikers","Houd gebruikersaantal op 5-10 voor beste performance"]}},programManagement:{title:{en:"Program Management",nl:"Programma Beheer"},content:{en:`
Manage your event schedule and activities dynamically.

**Managing Activities:**
- **Add Activity**: Click "Add Activity" to create new schedule item
- **Edit**: Click pencil icon to modify existing activity
- **Delete**: Click trash icon with confirmation
- **Reorder**: Drag activities by the  handle to change order

**Activity Properties:**
- **Title & Description**: Bilingual content (NL/EN)
- **Time**: Start and end time for the activity
- **Location Type**: 
  - **Exhibitor**: Links to company booth
  - **Venue**: Static location text
- **Badge**: Optional label (e.g., "FREE ENTRY!", "Members only")
- **Display Order**: Controls sort order in schedule
- **Active Status**: Hide/show activity from public view
- **Location Badge**: Optional exhibitor/venue indicator

**Day Tabs:**
Switch between Saturday and Sunday to manage each day separately.

**Tips:**
- Drag-to-reorder updates display_order automatically
- Exhibitor activities show company name
- Venue activities use custom location text
- Inactive activities hidden from public schedule
- Location badges help highlight special activities
      `.trim(),nl:`
Beheer je event schema en activiteiten dynamisch.

**Activiteiten Beheren:**
- **Activiteit Toevoegen**: Klik "Activiteit Toevoegen" om nieuw schema-item te creren
- **Bewerken**: Klik potlood icoon om bestaande activiteit te wijzigen
- **Verwijderen**: Klik prullenbak icoon met bevestiging
- **Herschikken**: Sleep activiteiten aan  handvat om volgorde te wijzigen

**Activiteit Eigenschappen:**
- **Titel & Beschrijving**: Tweetalige content (NL/EN)
- **Tijd**: Start- en eindtijd voor de activiteit
- **Locatietype**: 
  - **Standhouder**: Koppelt aan bedrijfsstand
  - **Locatie**: Statische locatietekst
- **Badge**: Optioneel label (bijv. "GRATIS ENTREE!", "Alleen leden")
- **Weergavevolgorde**: Bepaalt sorteervolgorde in schema
- **Actieve Status**: Verberg/toon activiteit in publieke weergave
- **Locatie Badge**: Optionele standhouder/locatie indicator

**Dag Tabbladen:**
Wissel tussen zaterdag en zondag om elke dag apart te beheren.

**Tips:**
- Sleep-om-te-herschikken update weergavevolgorde automatisch
- Standhouder activiteiten tonen bedrijfsnaam
- Locatie activiteiten gebruiken aangepaste locatietekst
- Inactieve activiteiten verborgen in publiek schema
- Locatie badges helpen speciale activiteiten te benadrukken
      `.trim()},updated:"2025-11-22",tips:{en:["Drag activities to reorder them visually","Link exhibitor activities to show booth locations","Use badges to highlight special activities","Set activities inactive to hide from public","Location badges optional - usually not needed"],nl:["Sleep activiteiten om ze visueel te herschikken","Koppel standhouder activiteiten om standlocaties te tonen","Gebruik badges om speciale activiteiten te benadrukken","Zet activiteiten inactief om te verbergen voor publiek","Locatie badges optioneel - meestal niet nodig"]}},general:{title:{en:"Getting Started",nl:"Aan de Slag"},content:{en:`
Welcome to the Event Map Admin Panel!

**Your Role Determines Access:**
- **Super Admin**: Full access to everything
- **System Manager**: Map editing and dashboard
- **Event Manager**: Company and subscription management
- **Content Editor**: Program management access

**Common Workflows:**

**1. Setting Up a New Event Year:**
- Add/update companies in Companies tab
- Import subscriptions for new year
- Assign companies to map locations
- Update event schedule in Program Management

**2. Managing Map:**
- Place markers for booths, parking, facilities
- Adjust visibility by zoom level
- Lock markers before event goes live

**3. Managing Event Program:**
- Add/edit activities in Settings  Program Management
- Link exhibitor activities to company booths
- Drag-to-reorder for easy scheduling
- Set activities active/inactive to control visibility

**4. Day-of-Event:**
- Lock all markers to prevent accidents
- Monitor assignments in real-time
- Public map and schedule update automatically

**Need Help?**
- Hover over (?) icons for quick tips
- Check "What's New" for recent changes
- Contact system administrator for access issues
      `.trim(),nl:`
Welkom bij het Event Kaart Admin Paneel!

**Je Rol Bepaalt Toegang:**
- **Super Admin**: Volledige toegang tot alles
- **Systeembeheerder**: Kaartbewerking en dashboard
- **Eventbeheerder**: Bedrijven- en inschrijvingsbeheer
- **Content Editor**: Programma beheer toegang

**Veelvoorkomende Workflows:**

**1. Nieuw Evenementjaar Instellen:**
- Voeg bedrijven toe/update in Bedrijven tab
- Importeer inschrijvingen voor nieuw jaar
- Wijs bedrijven toe aan kaartlocaties
- Update event schema in Programma Beheer

**2. Kaart Beheren:**
- Plaats markers voor stands, parkeren, faciliteiten
- Pas zichtbaarheid aan per zoomniveau
- Vergrendel markers voor event go-live

**3. Event Programma Beheren:**
- Voeg activiteiten toe/bewerk in Instellingen  Programma Beheer
- Koppel standhouder activiteiten aan bedrijfsstands
- Sleep-om-te-herschikken voor eenvoudig plannen
- Zet activiteiten actief/inactief om zichtbaarheid te regelen

**4. Dag-van-Event:**
- Vergrendel alle markers om ongelukken te voorkomen
- Monitor toewijzingen real-time
- Publieke kaart en schema updaten automatisch

**Hulp Nodig?**
- Hover over (?) iconen voor snelle tips
- Check "Wat is Nieuw" voor recente wijzigingen
- Neem contact op met systeembeheerder voor toegangsproblemen
      `.trim()},updated:"2025-11-22",tips:{en:["Start with dashboard to understand current status","Use year selector to switch between events","Lock markers before going live","Import data saves time vs manual entry","Program management updates public schedule instantly"],nl:["Start met dashboard om huidige status te begrijpen","Gebruik jaarselector om tussen events te wisselen","Vergrendel markers voor go-live","Data importeren bespaart tijd vs handmatige invoer","Programma beheer update publiek schema instant"]}}};function A7(e,t="en"){const n=$2[e]||$2.general;return{title:n.title[t]||n.title.en,content:n.content[t]||n.content.en,updated:n.updated,tips:n.tips[t]||n.tips.en}}function P7(e,t="en"){const i={"/admin":"dashboard","/admin/map":"mapManagement","/admin/companies":"companies","/admin/subscriptions":"subscriptions","/admin/assignments":"assignments","/admin/settings":"settings","/admin/settings/program":"programManagement"}[e]||"general";return A7(i,t)}const M7=[{date:"2025-11-22",changes:[{text:{en:"Program Management: Manage event schedule with database-driven activities",nl:"Programma Beheer: Beheer event schema met database-gedreven activiteiten"},type:"feature"},{text:{en:"Drag-to-reorder activities within Saturday/Sunday schedules",nl:"Sleep-om-te-herschikken activiteiten binnen zaterdag/zondag schema's"},type:"feature"},{text:{en:"Bilingual activity content (NL/EN) with exhibitor linking",nl:"Tweetalige activiteit content (NL/EN) met standhouder koppeling"},type:"feature"},{text:{en:"Optional location type badges for highlighting special activities",nl:"Optionele locatietype badges voor het benadrukken van speciale activiteiten"},type:"feature"},{text:{en:"Content Editor role added for program management access",nl:"Content Editor rol toegevoegd voor programma beheer toegang"},type:"improvement"},{text:{en:"Complete help system now available in English and Dutch",nl:"Compleet helpsysteem nu beschikbaar in Engels en Nederlands"},type:"improvement"}]},{date:"2025-11-21",changes:[{text:{en:"Added in-app help system with contextual guidance",nl:"In-app helpsysteem toegevoegd met contextuele begeleiding"},type:"feature"},{text:{en:"New tooltips on complex controls for easier navigation",nl:"Nieuwe tooltips op complexe bedieningselementen voor eenvoudigere navigatie"},type:"feature"},{text:{en:"Created versioning strategy document for future releases",nl:"Versiebeheerstrategie document gemaakt voor toekomstige releases"},type:"improvement"}]},{date:"2025-11-15",changes:[{text:{en:"Enhanced logo uploader with drag-and-drop support",nl:"Verbeterde logo uploader met drag-and-drop ondersteuning"},type:"feature"},{text:{en:"Improved import validation with better error messages",nl:"Verbeterde import validatie met betere foutmeldingen"},type:"improvement"},{text:{en:"Fixed CSV import encoding issues",nl:"CSV import encoding problemen opgelost"},type:"fix"}]},{date:"2025-11-10",changes:[{text:{en:"Added event subscriptions management tab",nl:"Event inschrijvingen beheer tab toegevoegd"},type:"feature"},{text:{en:"New assignments tab for linking companies to map locations",nl:"Nieuw toewijzingen tab voor koppelen van bedrijven aan kaartlocaties"},type:"feature"},{text:{en:"Improved marker drag performance on map",nl:"Verbeterde marker sleep prestaties op kaart"},type:"improvement"}]},{date:"2025-11-05",changes:[{text:{en:"Map marker rotation with interactive handles",nl:"Kaart marker rotatie met interactieve handgrepen"},type:"feature"},{text:{en:"Role-based navigation (Super Admin, System Manager, Event Manager)",nl:"Rol-gebaseerde navigatie (Super Admin, Systeembeheerder, Eventbeheerder)"},type:"feature"},{text:{en:"Fixed marker lock state persisting correctly",nl:"Marker vergrendelstatus wordt nu correct opgeslagen"},type:"fix"}]},{date:"2025-10-30",changes:[{text:{en:"Initial admin dashboard with key metrics",nl:"Initieel admin dashboard met belangrijkste statistieken"},type:"feature"},{text:{en:"Companies management with import/export",nl:"Bedrijvenbeheer met import/export"},type:"feature"},{text:{en:"Map Management page with marker placement",nl:"Kaartbeheer pagina met marker plaatsing"},type:"feature"}]}];function O7(e=5,t="en"){return M7.slice(0,e).map(n=>({date:n.date,changes:n.changes.map(i=>({text:i.text[t]||i.text.en,type:i.type}))}))}function B5({isOpen:e,onClose:t}){const n=sr(),{t:i,i18n:s}=wt(),{role:a}=ho(),[l,d]=j.useState("current"),[f,g]=j.useState(""),y=P7(n.pathname,s.language),v=O7(5,s.language),x=w=>{const C={feature:"bg-green-100 text-green-800",fix:"bg-red-100 text-red-800",improvement:"bg-blue-100 text-blue-800"};return C[w]||C.improvement};return e?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-slate-900/40 z-[9998]",onClick:t,"aria-hidden":"true"}),h.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[500px] bg-white shadow-2xl z-[9999] flex flex-col",role:"dialog","aria-label":"Help Panel","aria-modal":"true",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:yk,size:1.2,className:"text-blue-600"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:i("helpPanel.title")})]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":i("helpPanel.closeHelp"),children:h.jsx(Se,{path:oo,size:1,className:"text-gray-600"})})]}),a&&h.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200",children:h.jsxs("span",{className:"text-sm text-gray-600",children:[i("helpPanel.yourRole")," ",h.jsx("span",{className:"font-semibold text-blue-600",children:i(`helpPanel.roles.${a}`,a)})]})}),h.jsxs("div",{className:"flex border-b border-gray-200 px-6 bg-white",children:[h.jsx("button",{onClick:()=>d("current"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${l==="current"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.currentPage")}),h.jsx("button",{onClick:()=>d("whats-new"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${l==="whats-new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.whatsNew")}),h.jsx("button",{onClick:()=>d("quick-start"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${l==="quick-start"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.quickStart")})]}),l==="current"&&h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsxs("div",{className:"relative",children:[h.jsx(Se,{path:co,size:.8,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:i("helpPanel.searchPlaceholder"),value:f,onChange:w=>g(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[l==="current"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:y.title}),h.jsxs("p",{className:"text-xs text-gray-500",children:[i("helpPanel.lastUpdated")," ",y.updated]})]}),h.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 text-left",children:h.jsx(j7,{components:{h1:({node:w,...C})=>h.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4 mb-2 text-left",...C}),h2:({node:w,...C})=>h.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-4 mb-2 text-left",...C}),h3:({node:w,...C})=>h.jsx("h3",{className:"text-base font-bold text-gray-900 mt-3 mb-2 text-left",...C}),h4:({node:w,...C})=>h.jsx("h4",{className:"text-sm font-semibold text-gray-900 mt-3 mb-2 text-left",...C}),p:({node:w,...C})=>h.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-left",...C}),ul:({node:w,...C})=>h.jsx("ul",{className:"list-disc list-outside mb-4 space-y-2 text-left ml-5",...C}),ol:({node:w,...C})=>h.jsx("ol",{className:"list-decimal list-outside mb-4 space-y-2 text-left ml-5",...C}),li:({node:w,...C})=>h.jsx("li",{className:"text-gray-700 text-left pl-2",...C}),code:({node:w,...C})=>h.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",...C}),a:({node:w,...C})=>h.jsx("a",{className:"text-blue-600 hover:text-blue-800 underline",...C})},children:y.content})}),y.tips&&y.tips.length>0&&h.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(Se,{path:Bk,size:.9,className:"text-amber-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:i("helpPanel.quickTips")}),h.jsx("ul",{className:"space-y-1",children:y.tips.map((w,C)=>h.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[h.jsx(Se,{path:qS,size:.6,className:"flex-shrink-0 mt-0.5"}),h.jsx("span",{children:w})]},C))})]})]})})]}),l==="whats-new"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.whatsNewTitle")}),h.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.whatsNewSubtitle")})]}),h.jsx("div",{className:"space-y-4",children:v.map((w,C)=>h.jsxs("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Se,{path:Zk,size:.7,className:"text-blue-600"}),h.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(w.date).toLocaleDateString(s.language==="nl"?"nl-NL":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),h.jsx("ul",{className:"space-y-2",children:w.changes.map((T,k)=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${x(T.type)}`,children:i(`helpPanel.changeTypes.${T.type}`,T.type)}),h.jsx("span",{className:"text-sm text-gray-700 flex-1",children:T.text})]},k))})]},C))})]}),l==="quick-start"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.quickStartTitle")}),h.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.quickStartSubtitle")})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:i("helpPanel.steps.step1Title")}),h.jsx("p",{className:"text-sm text-blue-800",children:i("helpPanel.steps.step1Text",{role:i(`helpPanel.roles.${a}`,i("helpPanel.roles.unknown"))})})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:i("helpPanel.steps.step2Title")}),h.jsx("p",{className:"text-sm text-green-800",children:i("helpPanel.steps.step2Text")})]}),h.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:i("helpPanel.steps.step3Title")}),h.jsx("p",{className:"text-sm text-purple-800",children:i("helpPanel.steps.step3Text")})]}),h.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:i("helpPanel.steps.step4Title")}),h.jsxs("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[h.jsx("li",{children:i("helpPanel.steps.step4Item1")}),h.jsx("li",{children:i("helpPanel.steps.step4Item2")}),h.jsx("li",{children:i("helpPanel.steps.step4Item3")}),h.jsx("li",{children:i("helpPanel.steps.step4Item4")})]})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i("helpPanel.steps.step5Title")}),h.jsx("p",{className:"text-sm text-gray-700",children:i("helpPanel.steps.step5Text")})]})]})]})]}),h.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:h.jsx("p",{className:"text-xs text-gray-500 text-center",children:i("helpPanel.footer")})})]})]}):null}B5.propTypes={isOpen:Ae.bool.isRequired,onClose:Ae.func.isRequired};function R7({selectedYear:e,setSelectedYear:t}){const{t:n}=wt(),i=sr(),{role:s,loading:a,hasAnyRole:l}=ho(),d=new Date().getFullYear(),f=Array.from({length:5},(k,$)=>d-2+$),[g,y]=j.useState(()=>localStorage.getItem("adminSidebarCollapsed")==="true"),[v,x]=j.useState(!1);j.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",g)},[g]);const w=async()=>{try{await ge.auth.signOut({scope:"local"})}catch(P){console.error("Logout error:",P)}const k="/Map",$=k.endsWith("/")?k:`${k}/`;window.location.href=`${$}#/admin`},T=[{path:"/admin",label:n("adminNav.dashboard"),icon:e$,roles:["super_admin","system_manager","event_manager"]},{path:"/admin/map",label:n("adminNav.mapManagement"),icon:YS,roles:["super_admin","system_manager"]},{path:"/admin/companies",label:n("adminNav.companiesNav"),icon:_l,roles:["super_admin","event_manager"]},{path:"/admin/subscriptions",label:n("adminNav.eventSubscriptions"),icon:bk,roles:["super_admin","event_manager"]},{path:"/admin/assignments",label:n("adminNav.assignments"),icon:Fk,roles:["super_admin","event_manager"]},{path:"/admin/program",label:n("adminNav.programManagement"),icon:FS,roles:["super_admin","event_manager","content_editor"]},{path:"/admin/settings",label:n("adminNav.settings"),icon:GS,roles:["super_admin","system_manager","event_manager"]}].filter(k=>l(k.roles));return a?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"text-gray-600",children:n("adminNav.loading")})}):h.jsxs("div",{className:"flex h-screen bg-gray-100",children:[h.jsxs("aside",{className:`${g?"w-16":"w-64"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[h.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!g&&h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n("adminNav.adminPanel")}),s&&h.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:n(`adminNav.roles.${s}`)})]}),h.jsx("button",{onClick:()=>y(!g),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:g?"Expand sidebar":"Collapse sidebar",children:h.jsx(Se,{path:g?qS:Ck,size:.9,className:"text-gray-600"})})]}),h.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:h.jsx("ul",{className:"space-y-1",children:T.map(k=>{const $=i.pathname===k.path;return h.jsx("li",{children:h.jsxs(bl,{to:k.path,className:`flex items-center gap-3 ${g?"justify-center px-3":"px-4"} py-3 rounded-lg transition-colors ${$?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,title:g?k.label:"",children:[h.jsx(Se,{path:k.icon,size:1}),!g&&h.jsx("span",{children:k.label})]})},k.path)})})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:g?h.jsx("div",{className:"flex justify-center px-3 py-3 text-gray-700 text-sm font-medium",title:`Event Year: ${e}`,children:e}):h.jsxs("div",{className:"px-2 py-3",children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:n("adminNav.eventYear")}),h.jsx("select",{value:e,onChange:k=>t(parseInt(k.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 text-sm",children:f.map(k=>h.jsx("option",{value:k,children:k},k))})]})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:h.jsxs("button",{onClick:()=>x(!0),className:`flex items-center gap-3 ${g?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-blue-600 hover:bg-blue-50 transition-colors font-medium`,title:g?"Help":"",children:[h.jsx(Se,{path:Ok,size:1}),!g&&h.jsx("span",{children:n("adminNav.help")})]})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:h.jsxs("button",{onClick:w,className:`flex items-center gap-3 ${g?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-gray-700 hover:bg-gray-50 transition-colors`,title:g?"Logout":"",children:[h.jsx(Se,{path:Hk,size:1}),!g&&h.jsx("span",{children:n("adminNav.logout")})]})})]}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:h.jsx("div",{className:"h-full p-4",children:h.jsx(PT,{})})}),h.jsx(B5,{isOpen:v,onClose:()=>x(!1)})]})}const D7={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function z7(e,t){var n=Array.prototype.slice.call(t);return n.push(D7),e.apply(this,n)}function N2(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),i=t[0].split("."),s=0;s<3;s++){var a=Number(n[s]),l=Number(i[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var I7={}.constructor;function Sl(e){return e!=null&&e.constructor===I7}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function Vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B7(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,U7(i.key),i)}}function Hf(e,t,n){return t&&B7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U7(e){var t=V7(e,"string");return Nl(t)=="symbol"?t:t+""}function V7(e,t){if(Nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Nl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var H7="1.2.0",F7="1.7.35",L2=" ext. ",q7=/^\d+$/,Rn=(function(){function e(t){Vf(this,e),U5(t),this.metadata=t,V5.call(this,t)}return Hf(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,i){if(n&&q7.test(n)&&(i=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new A2(this.getCountryMetadata(n),this)}else if(i){if(!this.hasCallingCode(i))throw new Error("Unknown calling code: ".concat(i));this.numberingPlan=new A2(this.getNumberingPlanMetadata(i),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var i=this.countryCallingCodes()[n];if(i)return i.length===1&&i[0].length===3?void 0:i}},{key:"getCountryCodeForCallingCode",value:function(n){var i=this.getCountryCodesForCallingCode(n);if(i)return i[0]}},{key:"getNumberingPlanMetadata",value:function(n){var i=this.getCountryCodeForCallingCode(n);if(i)return this.getCountryMetadata(i);if(this.nonGeographic()){var s=this.nonGeographic()[n];if(s)return s}else{var a=this.countryCallingCodes()[n];if(a&&a.length===1&&a[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),A2=(function(){function e(t,n){Vf(this,e),this.globalMetadataObject=n,this.metadata=t,V5.call(this,n.metadata)}return Hf(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,i=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return i.map(function(s){return new Z7(s,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&P2(this.types(),n))return new K7(P2(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?L2:this.metadata[13]||L2}}])})(),Z7=(function(){function e(t,n){Vf(this,e),this._format=t,this.metadata=n}return Hf(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!G7.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),G7=/^\(?\$1\)?$/,K7=(function(){function e(t,n){Vf(this,e),this.type=t,this.metadata=n}return Hf(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function P2(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function U5(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Sl(e)||!Sl(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Sl(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+W7(e)+": "+e,"."))}var W7=function(t){return Nl(t)};function zy(e,t){if(t=new Rn(t),t.hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function Y7(e,t){return t.countries.hasOwnProperty(e)}function V5(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?N2(t,H7)===-1?this.v2=!0:N2(t,F7)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Iy(e,t,n){return X7(e,t,void 0,n)}function X7(e,t,n,i){t&&(i=new Rn(i.metadata),i.selectNumberingPlan(t));var s=i.type(n),a=s&&s.possibleLengths()||i.possibleLengths();if(!a)return"IS_POSSIBLE";var l=e.length,d=a[0];return d===l?"IS_POSSIBLE":d>l?"TOO_SHORT":a[a.length-1]<l?"TOO_LONG":a.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Q7(e,t,n){if(t===void 0&&(t={}),n=new Rn(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return H5(e.phone||e.nationalNumber,e.country,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function H5(e,t,n){switch(Iy(e,t,n)){case"IS_POSSIBLE":return!0;default:return!1}}function as(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function J7(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=eP(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eP(e,t){if(e){if(typeof e=="string")return M2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M2(e,t):void 0}}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var tP=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function By(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new Rn(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var i=t.v2?e.nationalNumber:e.phone;if(as(i,n.nationalNumberPattern())){if(Og(i,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||Og(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var s=J7(tP),a;!(a=s()).done;){var l=a.value;if(Og(i,l,n))return l}}}}function Og(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:as(e,t.pattern())}function nP(e,t,n){if(t=t||{},n=new Rn(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return By(e,t,n.metadata)!==void 0;var i=t.v2?e.nationalNumber:e.phone;return as(i,n.nationalNumberPattern())}function iP(e,t,n){var i=new Rn(n),s=i.getCountryCodesForCallingCode(e);return s?s.filter(function(a){return rP(t,a,n)}):[]}function rP(e,t,n){var i=new Rn(n);return i.selectNumberingPlan(t),i.numberingPlan.possibleLengths().indexOf(e.length)>=0}var Uy=2,sP=17,aP=3,rr="0-9---",oP="--",lP="/",uP=".",cP=" ",dP="()\\[\\]",hP="~",yf="".concat(oP).concat(lP).concat(uP).concat(cP).concat(dP).concat(hP),Vy="+",fP=new RegExp("(["+rr+"])");function mP(e,t,n,i){if(t){var s=new Rn(i);s.selectNumberingPlan(t,n);var a=new RegExp(s.IDDPrefix());if(e.search(a)===0){e=e.slice(e.match(a)[0].length);var l=e.match(fP);if(!(l&&l[1]!=null&&l[1].length>0&&l[1]==="0"))return e}}}function pP(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),i=n.exec(e);if(i){var s,a,l=i.length-1,d=l>0&&i[l];if(t.nationalPrefixTransformRule()&&d)s=e.replace(n,t.nationalPrefixTransformRule()),l>1&&(a=i[1]);else{var f=i[0];s=e.slice(f.length),d&&(a=i[1])}var g;if(d){var y=e.indexOf(i[1]),v=e.slice(0,y);v===t.numberingPlan.nationalPrefix()&&(g=t.numberingPlan.nationalPrefix())}else g=i[0];return{nationalNumber:s,nationalPrefix:g,carrierCode:a}}}return{nationalNumber:e}}function gP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=yP(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yP(e,t){if(e){if(typeof e=="string")return O2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O2(e,t):void 0}}function O2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function vP(e,t){var n=t.countries,i=t.metadata;i=new Rn(i);for(var s=gP(n),a;!(a=s()).done;){var l=a.value;if(i.selectNumberingPlan(l),i.leadingDigits()){if(e&&e.search(i.leadingDigits())===0)return l}else if(By({phone:e,country:l},void 0,i.metadata))return l}}function F5(e,t){var n=t.nationalNumber,i=t.metadata,s=i.getCountryCodesForCallingCode(e);if(s)return s.length===1?s[0]:vP(n,{countries:s,metadata:i.metadata})}function R0(e,t,n){var i=pP(e,n),s=i.carrierCode,a=i.nationalNumber;if(a!==e){if(!bP(e,a,n))return{nationalNumber:e};if(n.numberingPlan.possibleLengths()&&(t||(t=F5(n.numberingPlan.callingCode(),{nationalNumber:a,metadata:n})),!_P(a,t,n)))return{nationalNumber:e}}return{nationalNumber:a,carrierCode:s}}function bP(e,t,n){return!(as(e,n.nationalNumberPattern())&&!as(t,n.nationalNumberPattern()))}function _P(e,t,n){switch(Iy(e,t,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function xP(e,t,n,i,s){var a=n?zy(n,s):i;if(e.indexOf(a)===0){s=new Rn(s),s.selectNumberingPlan(n,a);var l=e.slice(a.length),d=R0(l,t,s),f=d.nationalNumber,g=R0(e,t,s),y=g.nationalNumber;if(!as(y,s.nationalNumberPattern())&&as(f,s.nationalNumberPattern())||Iy(y,t,s)==="TOO_LONG")return{countryCallingCode:a,number:l}}return{number:e}}function q5(e,t,n,i,s){if(!e)return{};var a;if(e[0]!=="+"){var l=mP(e,n,i,s);if(l&&l!==e)a=!0,e="+"+l;else{if(n||i){var d=xP(e,t,n,i,s),f=d.countryCallingCode,g=d.number;if(f)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:f,number:g}}return{number:e}}}if(e[1]==="0")return{};s=new Rn(s);for(var y=2;y-1<=aP&&y<=e.length;){var v=e.slice(1,y);if(s.hasCallingCode(v))return s.selectNumberingPlan(v),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:v,number:e.slice(y)};y++}return{}}function wP(e){return e.replace(new RegExp("[".concat(yf,"]+"),"g")," ").trim()}var SP=/(\$\d)/;function CP(e,t,n){var i=n.useInternationalFormat,s=n.withNationalPrefix,a=e.replace(new RegExp(t.pattern()),i?t.internationalFormat():s&&t.nationalPrefixFormattingRule()?t.format().replace(SP,t.nationalPrefixFormattingRule()):t.format());return i?wP(a):a}var EP=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function TP(e,t,n){var i=new Rn(n);if(i.selectNumberingPlan(e,t),i.defaultIDDPrefix())return i.defaultIDDPrefix();if(EP.test(i.IDDPrefix()))return i.IDDPrefix()}var jP=";ext=",cl=function(t){return"([".concat(rr,"]{1,").concat(t,"})")};function Z5(e){var t="20",n="15",i="9",s="6",a="[ \\t,]*",l="[:\\.]?[ \\t,-]*",d="#?",f="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",g="(?:[x#~]|int|)",y="[- ]+",v="[ \\t]*",x="(?:,{2}|;)",w=jP+cl(t),C=a+f+l+cl(t)+d,T=a+g+l+cl(i)+d,k=y+cl(s)+"#",$=v+x+l+cl(n)+d,P=v+"(?:,)+"+l+cl(i)+d;return w+"|"+C+"|"+T+"|"+k+"|"+$+"|"+P}var kP="["+rr+"]{"+Uy+"}",$P="["+Vy+"]{0,1}(?:["+yf+"]*["+rr+"]){3,}["+yf+rr+"]*",NP=new RegExp("^["+Vy+"]{0,1}(?:["+yf+"]*["+rr+"]){1,2}$","i"),LP=$P+"(?:"+Z5()+")?",AP=new RegExp("^"+kP+"$|^"+LP+"$","i");function PP(e){return e.length>=Uy&&AP.test(e)}function MP(e){return NP.test(e)}function OP(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}var R2={formatExtension:function(t,n,i){return"".concat(t).concat(i.ext()).concat(n)}};function RP(e,t,n,i){if(n?n=IP({},R2,n):n=R2,i=new Rn(i),e.country&&e.country!=="001"){if(!i.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));i.selectNumberingPlan(e.country)}else if(e.countryCallingCode)i.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var s=i.countryCallingCode(),a=n.v2?e.nationalNumber:e.phone,l;switch(t){case"NATIONAL":return a?(l=vf(a,e.carrierCode,"NATIONAL",i,n),Rg(l,e.ext,i,n.formatExtension)):"";case"INTERNATIONAL":return a?(l=vf(a,null,"INTERNATIONAL",i,n),l="+".concat(s," ").concat(l),Rg(l,e.ext,i,n.formatExtension)):"+".concat(s);case"E.164":return"+".concat(s).concat(a);case"RFC3966":return OP({number:"+".concat(s).concat(a),ext:e.ext});case"IDD":if(!n.fromCountry)return;var d=zP(a,e.carrierCode,s,n.fromCountry,i);return Rg(d,e.ext,i,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function vf(e,t,n,i,s){var a=DP(i.formats(),e);return a?CP(e,a,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&s&&s.nationalPrefix===!1)}):e}function DP(e,t){return BP(e,function(n){if(n.leadingDigitsPatterns().length>0){var i=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(t.search(i)!==0)return!1}return as(t,n.pattern())})}function Rg(e,t,n,i){return t?i(e,t,n):e}function zP(e,t,n,i,s){var a=zy(i,s.metadata);if(a===n){var l=vf(e,t,"NATIONAL",s);return n==="1"?n+" "+l:l}var d=TP(i,void 0,s.metadata);if(d)return"".concat(d," ").concat(n," ").concat(vf(e,null,"INTERNATIONAL",s))}function IP(){for(var e=1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(;e<n.length;){if(n[e])for(var s in n[e])n[0][s]=n[e][s];e++}return n[0]}function BP(e,t){for(var n=0;n<e.length;){if(t(e[n]))return e[n];n++}}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(i){UP(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function UP(e,t,n){return(t=G5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,G5(i.key),i)}}function FP(e,t,n){return t&&HP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G5(e){var t=qP(e,"string");return Nc(t)=="symbol"?t:t+""}function qP(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Nc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZP=(function(){function e(t,n,i){if(VP(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(Sl(n)&&Sl(n.countries)){i=n;var s=t;if(!WP.test(s))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=q5(s,void 0,void 0,void 0,i),l=a.countryCallingCode,d=a.number;if(n=d,t=l,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");U5(i);var f=KP(t,i),g=f.country,y=f.countryCallingCode;this.country=g,this.countryCallingCode=y,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return FP(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:iP(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Q7(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return nP(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Rn(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return By(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,i){return RP(this,n,i?z2(z2({},i),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),GP=function(t){return/^[A-Z]{2}$/.test(t)};function KP(e,t){var n,i,s=new Rn(t);return GP(e)?(n=e,s.selectNumberingPlan(n),i=s.countryCallingCode()):i=e,{country:n,countryCallingCode:i}}var WP=/^\+\d+$/;function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function YP(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function XP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QP(e,t,n){return t=Ac(t),JP(e,Hy()?Reflect.construct(t,n||[],Ac(e).constructor):t.apply(e,n))}function JP(e,t){if(t&&(D0(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eM(e)}function eM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lc(e,t)}function z0(e){var t=typeof Map=="function"?new Map:void 0;return z0=function(i){if(i===null||!iM(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,s)}function s(){return nM(i,arguments,Ac(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Lc(s,i)},z0(e)}function nM(e,t,n){if(Hy())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var s=new(e.bind.apply(e,i));return n&&Lc(s,n.prototype),s}function Hy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hy=function(){return!!e})()}function iM(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Lc(e,t){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lc(e,t)}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ac(e)}var is=(function(e){function t(n){var i;return XP(this,t),i=QP(this,t,[n]),Object.setPrototypeOf(i,t.prototype),i.name=i.constructor.name,i}return tM(t,e),YP(t)})(z0(Error)),I2=new RegExp("(?:"+Z5()+")$","i");function rM(e){var t=e.search(I2);if(t<0)return{};for(var n=e.slice(0,t),i=e.match(I2),s=1;s<i.length;){if(i[s])return{number:n,ext:i[s]};s++}}var sM={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function aM(e){return sM[e]}function oM(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=lM(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lM(e,t){if(e){if(typeof e=="string")return B2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B2(e,t):void 0}}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function U2(e){for(var t="",n=oM(e.split("")),i;!(i=n()).done;){var s=i.value;t+=uM(s,t)||""}return t}function uM(e,t,n){return e==="+"?t?void 0:"+":aM(e)}var K5="+",cM="[\\-\\.\\(\\)]?",V2="(["+rr+"]|"+cM+")",dM="^\\"+K5+V2+"*["+rr+"]"+V2+"*$",hM=new RegExp(dM,"g"),I0=rr,fM="["+I0+"]+((\\-)*["+I0+"])*",mM="a-zA-Z",pM="["+mM+"]+((\\-)*["+I0+"])*",gM="^("+fM+"\\.)*"+pM+"\\.?$",yM=new RegExp(gM,"g"),H2="tel:",B0=";phone-context=",vM=";isub=";function bM(e){var t=e.indexOf(B0);if(t<0)return null;var n=t+B0.length;if(n>=e.length)return"";var i=e.indexOf(";",n);return i>=0?e.substring(n,i):e.substring(n)}function _M(e){return e===null?!0:e.length===0?!1:hM.test(e)||yM.test(e)}function xM(e,t){var n=t.extractFormattedPhoneNumber,i=bM(e);if(!_M(i))throw new is("NOT_A_NUMBER");var s;if(i===null)s=n(e)||"";else{s="",i.charAt(0)===K5&&(s+=i);var a=e.indexOf(H2),l;a>=0?l=a+H2.length:l=0;var d=e.indexOf(B0);s+=e.substring(l,d)}var f=s.indexOf(vM);if(f>0&&(s=s.substring(0,f)),s!=="")return s}var wM=250,SM=new RegExp("["+Vy+rr+"]"),CM=new RegExp("[^"+rr+"#]+$");function EM(e,t,n){if(t=t||{},n=new Rn(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new is("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var i=jM(e,t.v2,t.extract),s=i.number,a=i.ext,l=i.error;if(!s){if(t.v2)throw l==="TOO_SHORT"?new is("TOO_SHORT"):new is("NOT_A_NUMBER");return{}}var d=$M(s,t.defaultCountry,t.defaultCallingCode,n),f=d.country,g=d.nationalNumber,y=d.countryCallingCode,v=d.countryCallingCodeSource,x=d.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new is("INVALID_COUNTRY");return{}}if(!g||g.length<Uy){if(t.v2)throw new is("TOO_SHORT");return{}}if(g.length>sP){if(t.v2)throw new is("TOO_LONG");return{}}if(t.v2){var w=new ZP(y,g,n.metadata);return f&&(w.country=f),x&&(w.carrierCode=x),a&&(w.ext=a),w.__countryCallingCodeSource=v,w}var C=(t.extended?n.hasSelectedNumberingPlan():f)?as(g,n.nationalNumberPattern()):!1;return t.extended?{country:f,countryCallingCode:y,carrierCode:x,valid:C,possible:C?!0:!!(t.extended===!0&&n.possibleLengths()&&H5(g,f,n)),phone:g,ext:a}:C?kM(f,g,a):{}}function TM(e,t,n){if(e){if(e.length>wM){if(n)throw new is("TOO_LONG");return}if(t===!1)return e;var i=e.search(SM);if(!(i<0))return e.slice(i).replace(CM,"")}}function jM(e,t,n){var i=xM(e,{extractFormattedPhoneNumber:function(l){return TM(l,n,t)}});if(!i)return{};if(!PP(i))return MP(i)?{error:"TOO_SHORT"}:{};var s=rM(i);return s.ext?s:{number:i}}function kM(e,t,n){var i={country:e,phone:t};return n&&(i.ext=n),i}function $M(e,t,n,i){var s=q5(U2(e),void 0,t,n,i.metadata),a=s.countryCallingCodeSource,l=s.countryCallingCode,d=s.number,f;if(l)i.selectNumberingPlan(l);else if(d&&(t||n))i.selectNumberingPlan(t,n),t&&(f=t),l=n||zy(t,i.metadata);else return{};if(!d)return{countryCallingCodeSource:a,countryCallingCode:l};var g=R0(U2(d),f,i),y=g.nationalNumber,v=g.carrierCode,x=F5(l,{nationalNumber:y,metadata:i});return x&&(f=x,x==="001"||i.selectNumberingPlan(f)),{country:f,countryCallingCode:l,countryCallingCodeSource:a,nationalNumber:y,carrierCode:v}}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(i){NM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function NM(e,t,n){return(t=LM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(e){var t=AM(e,"string");return Pc(t)=="symbol"?t:t+""}function AM(e,t){if(Pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Pc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PM(e,t,n){return EM(e,q2(q2({},t),{},{v2:!0}),n)}function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function MM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(i){OM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function OM(e,t,n){return(t=RM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RM(e){var t=DM(e,"string");return Mc(t)=="symbol"?t:t+""}function DM(e,t){if(Mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Mc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zM(e,t){return VM(e)||UM(e,t)||BM(e,t)||IM()}function IM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BM(e,t){if(e){if(typeof e=="string")return G2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G2(e,t):void 0}}function G2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function UM(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,l,d=[],f=!0,g=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(f=(i=a.call(n)).done)&&(d.push(i.value),d.length!==t);f=!0);}catch(y){g=!0,s=y}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(g)throw s}}return d}}function VM(e){if(Array.isArray(e))return e}function HM(e){var t=Array.prototype.slice.call(e),n=zM(t,4),i=n[0],s=n[1],a=n[2],l=n[3],d,f,g;if(typeof i=="string")d=i;else throw new TypeError("A text for parsing must be a string.");if(!s||typeof s=="string")l?(f=a,g=l):(f=void 0,g=a),s&&(f=MM({defaultCountry:s},f));else if(Sl(s))a?(f=s,g=a):g=s;else throw new Error("Invalid second argument: ".concat(s));return{text:d,options:f,metadata:g}}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(i){FM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function FM(e,t,n){return(t=qM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qM(e){var t=ZM(e,"string");return Oc(t)=="symbol"?t:t+""}function ZM(e,t){if(Oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Oc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GM(e,t,n){t&&t.defaultCountry&&!Y7(t.defaultCountry,n)&&(t=W2(W2({},t),{},{defaultCountry:void 0}));try{return PM(e,t,n)}catch(i){if(!(i instanceof is))throw i}}function KM(){var e=HM(arguments),t=e.text,n=e.options,i=e.metadata;return GM(t,n,i)}function Ll(){return z7(KM,arguments)}function io(e,t="NL"){if(!e&&e!=="")return null;const n=String(e).trim();if(n==="")return null;let i=Ll(n,t);if(i&&i.isValid())return i.format("E.164");let s=n.replace(/[()\s.-]+/g,"");return s.startsWith("00")&&(s="+"+s.slice(2)),i=Ll(s),i&&i.isValid()?i.format("E.164"):n.replace(/[^0-9+]+/g,"")||n}function ed(e){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null),d=j.useCallback(async()=>{try{s(!0),l(null);const{data:C,error:T}=await ge.from("event_subscriptions").select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).eq("event_year",e).order("id",{ascending:!0});if(T)throw T;n(C||[])}catch(C){console.error("Error loading event subscriptions:",C),l(C.message)}finally{s(!1)}},[e]),f=async(C,T={})=>{try{const{data:{user:k}}=await ge.auth.getUser(),$=k?.email||"unknown",{data:P}=await ge.from("companies").select("contact, phone, email").eq("id",C).single(),{data:N}=await ge.from("organization_profile").select("default_breakfast_sat, default_lunch_sat, default_bbq_sat, default_breakfast_sun, default_lunch_sun").eq("id",1).single(),U=N?.default_breakfast_sat||0,H=N?.default_lunch_sat||0,B=N?.default_bbq_sat||0,Z=N?.default_breakfast_sun||0,ne=N?.default_lunch_sun||0,F=T.phone?io(T.phone):P?.phone?io(P.phone):"",W=(T.email||P?.email||"").toLowerCase().trim(),{data:q,error:X}=await ge.from("event_subscriptions").insert({company_id:C,event_year:e,contact:T.contact||P?.contact||"",phone:F,email:W,booth_count:T.booth_count||1,area:T.area||"",breakfast_sat:T.breakfast_sat??U,lunch_sat:T.lunch_sat??H,bbq_sat:T.bbq_sat??B,breakfast_sun:T.breakfast_sun??Z,lunch_sun:T.lunch_sun??ne,coins:T.coins||0,notes:T.notes||"",created_by:$}).select().single();if(X)throw X;return await d(),{data:q,error:null}}catch(k){return console.error("Error subscribing company:",k),{data:null,error:k.message}}},g=async(C,T)=>{try{typeof T.phone<"u"&&(T.phone=io(T.phone)),T.email&&(T.email=T.email.toLowerCase().trim());const{data:k,error:$}=await ge.from("event_subscriptions").update(T).eq("id",C).select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).single();if($)throw $;return await d(),{data:k,error:null}}catch(k){return console.error("Error updating subscription:",k),{data:null,error:k.message}}},y=async C=>{try{const{data:T,error:k}=await ge.from("event_subscriptions").select("company_id, event_year").eq("id",C).single();if(k)throw k;const{error:$}=await ge.from("assignments").delete().eq("company_id",T.company_id).eq("event_year",T.event_year);if($)throw $;const{error:P}=await ge.from("event_subscriptions").delete().eq("id",C);if(P)throw P;return await d(),{error:null}}catch(T){return console.error("Error unsubscribing company:",T),{error:T.message}}},v=async()=>{try{const{data:{user:C}}=await ge.auth.getUser(),T=C?.email||"unknown",{data:k,error:$}=await ge.rpc("archive_event_subscriptions",{year_to_archive:e,archived_by_user:T});if($)throw $;return await d(),{data:k,error:null}}catch(C){return console.error("Error archiving subscriptions:",C),{data:null,error:C.message}}},x=async C=>{try{const{data:T,error:k}=await ge.from("event_subscriptions_archive").select("*").eq("event_year",C).order("archived_at",{ascending:!1});if(k)throw k;return{data:T,error:null}}catch(T){return console.error("Error loading archived subscriptions:",T),{data:null,error:T.message}}},w=async C=>{try{const{data:{user:T}}=await ge.auth.getUser(),k=T?.email||"unknown",{data:$,error:P}=await ge.from("event_subscriptions").select("*").eq("event_year",C);if(P)throw P;if(!$||$.length===0)return{data:null,error:"No subscriptions found for source year"};const N=$.map(B=>({company_id:B.company_id,event_year:e,contact:B.contact,phone:B.phone,email:B.email,booth_count:B.booth_count,area:B.area,breakfast_sat:B.breakfast_sat,lunch_sat:B.lunch_sat,bbq_sat:B.bbq_sat,breakfast_sun:B.breakfast_sun,lunch_sun:B.lunch_sun,coins:B.coins,notes:B.notes,created_by:k})),{data:U,error:H}=await ge.from("event_subscriptions").insert(N).select();if(H)throw H;return await d(),{data:U,error:null}}catch(T){return console.error("Error copying subscriptions from previous year:",T),{data:null,error:T.message}}};return j.useEffect(()=>{d()},[d]),j.useEffect(()=>{const C=ge.channel("event-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},()=>{d()}).subscribe();return()=>{ge.removeChannel(C)}},[e,d]),{subscriptions:t,loading:i,error:a,subscribeCompany:f,updateSubscription:g,unsubscribeCompany:y,archiveCurrentYear:v,loadArchivedSubscriptions:x,copyFromPreviousYear:w,reload:d}}function WM({selectedYear:e}){const{t}=wt(),{subscriptions:n,loading:i}=ed(e),[s,a]=j.useState({markers:null,companies:null,assignments:null}),[l,d]=j.useState(!0);j.useEffect(()=>{async function v(){d(!0);try{const[x,w,C]=await Promise.all([ge.from("Markers_Core").select("id",{count:"exact",head:!0}).gt("id",0),ge.from("companies").select("id",{count:"exact",head:!0}),ge.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",e)]);a({markers:x.count??0,companies:w.count??0,assignments:C.count??0})}catch(x){console.error("Error fetching dashboard counts:",x)}finally{d(!1)}}v()},[e]);const f=j.useMemo(()=>n.reduce((v,x)=>({breakfast_sat:v.breakfast_sat+(x.breakfast_sat||0),lunch_sat:v.lunch_sat+(x.lunch_sat||0),bbq_sat:v.bbq_sat+(x.bbq_sat||0),breakfast_sun:v.breakfast_sun+(x.breakfast_sun||0),lunch_sun:v.lunch_sun+(x.lunch_sun||0),coins:v.coins+(x.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[n]),g=[{label:t("dashboard.totalMarkers"),value:l?"...":s.markers?.toString()??"-",icon:Of,color:"blue"},{label:t("dashboard.companies"),value:l?"...":s.companies?.toString()??"-",icon:_l,color:"green"},{label:`${e} ${t("dashboard.subscriptions")}`,value:i?"...":n.length.toString(),icon:vk,color:"orange"},{label:`${e} ${t("dashboard.assignments")}`,value:l?"...":s.assignments?.toString()??"-",icon:Tk,color:"purple"}],y={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:[e," ",t("dashboard.eventTotals"),(i||l)&&h.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:t("common.loading")})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:g.map(v=>h.jsx("div",{className:`p-4 rounded-lg border-2 ${y[v.color]}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:v.icon,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:v.value}),h.jsx("div",{className:"text-sm font-medium mt-1",children:v.label})]})]})},v.label))}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.saturday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Bx,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.breakfast_sat}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.breakfast")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Ux,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.lunch_sat}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.lunch")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Vx,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.bbq_sat}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.bbq")})]})]})})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.sunday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Bx,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.breakfast_sun}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.breakfast")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Ux,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.lunch_sun}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.lunch")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Vx,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:"-"}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.noBBQ")})]})]})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.coins")}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Se,{path:Ek,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.coins}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.totalCoins")})]})]})})})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("dashboard.quickActions")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(bl,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.addNewCompany")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.addNewCompanyDesc")})]}),h.jsxs(bl,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.manageSubscriptions")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.manageSubscriptionsDesc")})]}),h.jsxs(bl,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.assignBooths")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.assignBoothsDesc")})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("dashboard.recentActivity")}),h.jsx("p",{className:"text-gray-600",children:t("dashboard.recentActivityPlaceholder")})]})]})}function Fy({requiredRole:e,children:t,message:n}){const{role:i,loading:s,hasRole:a,hasAnyRole:l}=ho();return s?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(Array.isArray(e)?l(e):a(e))?h.jsx(h.Fragment,{children:t}):h.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg border-2 border-gray-200",children:[h.jsx(Se,{path:Vk,size:3,className:"text-gray-400 mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Access Restricted"}),h.jsx("p",{className:"text-gray-600 text-center max-w-md",children:n||"You do not have permission to view this section. Contact your administrator if you need access."}),i&&h.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Your role: ",h.jsx("span",{className:"font-semibold",children:i.replace("_"," ")})]})]})}Fy.propTypes={requiredRole:Ae.oneOfType([Ae.string,Ae.arrayOf(Ae.string)]).isRequired,children:Ae.node.isRequired,message:Ae.string};Fy.defaultProps={message:null};function Al(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Ol();return e.startsWith("/assets/icons/")?`${t}${e.slice(1)}`:e.startsWith("icons/")?`${t}assets/icons/${e.slice(6)}`:`${t}assets/icons/${e}`}const YM=["glyph-marker-icon-black.svg","glyph-marker-icon-blue.svg","glyph-marker-icon-gray.svg","glyph-marker-icon-green.svg","glyph-marker-icon-orange.svg","glyph-marker-icon-purple.svg","glyph-marker-icon-red.svg","glyph-marker-icon-yellow.svg"];function W5(e,t){const n=j.useRef(t);j.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const XM=1;function QM(e){return Object.freeze({__version:XM,map:e})}function JM(e,t){return Object.freeze({...e,...t})}const qy=j.createContext(null);function Ff(){const e=j.use(qy);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Y5(e){function t(n,i){const{instance:s,context:a}=e(n).current;j.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Si.createElement(qy,{value:a},l)}return j.forwardRef(t)}function eO(e){function t(n,i){const[s,a]=j.useState(!1),{instance:l}=e(n,a).current;j.useImperativeHandle(i,()=>l),j.useEffect(function(){s&&l.update()},[l,s,n.children]);const d=l._contentNode;return d?MS.createPortal(n.children,d):null}return j.forwardRef(t)}function tO(e){function t(n,i){const{instance:s}=e(n).current;return j.useImperativeHandle(i,()=>s),null}return j.forwardRef(t)}function Zy(e,t){const n=j.useRef(void 0);j.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function qf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function nO(e,t){return function(i,s){const a=Ff(),l=e(qf(i,a),a);return W5(a.map,i.attribution),Zy(l.current,i.eventHandlers),t(l.current,a,i,s),l}}var lc={exports:{}};var iO=lc.exports,Y2;function Gy(){return Y2||(Y2=1,(function(e,t){(function(n,i){i(t)})(iO,(function(n){var i="1.9.4";function s(u){var m,b,E,A;for(b=1,E=arguments.length;b<E;b++){A=arguments[b];for(m in A)u[m]=A[m]}return u}var a=Object.create||(function(){function u(){}return function(m){return u.prototype=m,new u}})();function l(u,m){var b=Array.prototype.slice;if(u.bind)return u.bind.apply(u,b.call(arguments,1));var E=b.call(arguments,2);return function(){return u.apply(m,E.length?E.concat(b.call(arguments)):arguments)}}var d=0;function f(u){return"_leaflet_id"in u||(u._leaflet_id=++d),u._leaflet_id}function g(u,m,b){var E,A,z,K;return K=function(){E=!1,A&&(z.apply(b,A),A=!1)},z=function(){E?A=arguments:(u.apply(b,arguments),setTimeout(K,m),E=!0)},z}function y(u,m,b){var E=m[1],A=m[0],z=E-A;return u===E&&b?u:((u-A)%z+z)%z+A}function v(){return!1}function x(u,m){if(m===!1)return u;var b=Math.pow(10,m===void 0?6:m);return Math.round(u*b)/b}function w(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return w(u).split(/\s+/)}function T(u,m){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var b in m)u.options[b]=m[b];return u.options}function k(u,m,b){var E=[];for(var A in u)E.push(encodeURIComponent(b?A.toUpperCase():A)+"="+encodeURIComponent(u[A]));return(!m||m.indexOf("?")===-1?"?":"&")+E.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function P(u,m){return u.replace($,function(b,E){var A=m[E];if(A===void 0)throw new Error("No value provided for variable "+b);return typeof A=="function"&&(A=A(m)),A})}var N=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function U(u,m){for(var b=0;b<u.length;b++)if(u[b]===m)return b;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var Z=0;function ne(u){var m=+new Date,b=Math.max(0,16-(m-Z));return Z=m+b,window.setTimeout(u,b)}var F=window.requestAnimationFrame||B("RequestAnimationFrame")||ne,W=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function q(u,m,b){if(b&&F===ne)u.call(m);else return F.call(window,l(u,m))}function X(u){u&&W.call(window,u)}var oe={__proto__:null,extend:s,create:a,bind:l,get lastId(){return d},stamp:f,throttle:g,wrapNum:y,falseFn:v,formatNum:x,trim:w,splitWords:C,setOptions:T,getParamString:k,template:P,isArray:N,indexOf:U,emptyImageUrl:H,requestFn:F,cancelFn:W,requestAnimFrame:q,cancelAnimFrame:X};function Q(){}Q.extend=function(u){var m=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,E=a(b);E.constructor=m,m.prototype=E;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(m[A]=this[A]);return u.statics&&s(m,u.statics),u.includes&&(se(u.includes),s.apply(null,[E].concat(u.includes))),s(E,u),delete E.statics,delete E.includes,E.options&&(E.options=b.options?a(b.options):{},s(E.options,u.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,K=E._initHooks.length;z<K;z++)E._initHooks[z].call(this)}},m},Q.include=function(u){var m=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=m,this.mergeOptions(u.options)),this},Q.mergeOptions=function(u){return s(this.prototype.options,u),this},Q.addInitHook=function(u){var m=Array.prototype.slice.call(arguments,1),b=typeof u=="function"?u:function(){this[u].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function se(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=N(u)?u:[u];for(var m=0;m<u.length;m++)u[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(u,m,b){if(typeof u=="object")for(var E in u)this._on(E,u[E],m);else{u=C(u);for(var A=0,z=u.length;A<z;A++)this._on(u[A],m,b)}return this},off:function(u,m,b){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var E in u)this._off(E,u[E],m);else{u=C(u);for(var A=arguments.length===1,z=0,K=u.length;z<K;z++)A?this._off(u[z]):this._off(u[z],m,b)}return this},_on:function(u,m,b,E){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(u,m,b)===!1){b===this&&(b=void 0);var A={fn:m,ctx:b};E&&(A.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(A)}},_off:function(u,m,b){var E,A,z;if(this._events&&(E=this._events[u],!!E)){if(arguments.length===1){if(this._firingCount)for(A=0,z=E.length;A<z;A++)E[A].fn=v;delete this._events[u];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var K=this._listens(u,m,b);if(K!==!1){var le=E[K];this._firingCount&&(le.fn=v,this._events[u]=E=E.slice()),E.splice(K,1)}}},fire:function(u,m,b){if(!this.listens(u,b))return this;var E=s({},m,{type:u,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var A=this._events[u];if(A){this._firingCount=this._firingCount+1||1;for(var z=0,K=A.length;z<K;z++){var le=A[z],fe=le.fn;le.once&&this.off(u,fe,le.ctx),fe.call(le.ctx||this,E)}this._firingCount--}}return b&&this._propagateEvent(E),this},listens:function(u,m,b,E){typeof u!="string"&&console.warn('"string" type argument expected');var A=m;typeof m!="function"&&(E=!!m,A=void 0,b=void 0);var z=this._events&&this._events[u];if(z&&z.length&&this._listens(u,A,b)!==!1)return!0;if(E){for(var K in this._eventParents)if(this._eventParents[K].listens(u,m,b,E))return!0}return!1},_listens:function(u,m,b){if(!this._events)return!1;var E=this._events[u]||[];if(!m)return!!E.length;b===this&&(b=void 0);for(var A=0,z=E.length;A<z;A++)if(E[A].fn===m&&E[A].ctx===b)return A;return!1},once:function(u,m,b){if(typeof u=="object")for(var E in u)this._on(E,u[E],m,!0);else{u=C(u);for(var A=0,z=u.length;A<z;A++)this._on(u[A],m,b,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[f(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[f(u)],this},_propagateEvent:function(u){for(var m in this._eventParents)this._eventParents[m].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var G=Q.extend(V);function re(u,m,b){this.x=b?Math.round(u):u,this.y=b?Math.round(m):m}var Ce=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(u){return this.clone()._add(O(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(O(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new re(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new re(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(u){u=O(u);var m=u.x-this.x,b=u.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(u){return u=O(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=O(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function O(u,m,b){return u instanceof re?u:N(u)?new re(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new re(u.x,u.y):new re(u,m,b)}function R(u,m){if(u)for(var b=m?[u,m]:u,E=0,A=b.length;E<A;E++)this.extend(b[E])}R.prototype={extend:function(u){var m,b;if(!u)return this;if(u instanceof re||typeof u[0]=="number"||"x"in u)m=b=O(u);else if(u=J(u),m=u.min,b=u.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(u){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var m,b;return typeof u[0]=="number"||u instanceof re?u=O(u):u=J(u),u instanceof R?(m=u.min,b=u.max):m=b=u,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(u){u=J(u);var m=this.min,b=this.max,E=u.min,A=u.max,z=A.x>=m.x&&E.x<=b.x,K=A.y>=m.y&&E.y<=b.y;return z&&K},overlaps:function(u){u=J(u);var m=this.min,b=this.max,E=u.min,A=u.max,z=A.x>m.x&&E.x<b.x,K=A.y>m.y&&E.y<b.y;return z&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var m=this.min,b=this.max,E=Math.abs(m.x-b.x)*u,A=Math.abs(m.y-b.y)*u;return J(O(m.x-E,m.y-A),O(b.x+E,b.y+A))},equals:function(u){return u?(u=J(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function J(u,m){return!u||u instanceof R?u:new R(u,m)}function D(u,m){if(u)for(var b=m?[u,m]:u,E=0,A=b.length;E<A;E++)this.extend(b[E])}D.prototype={extend:function(u){var m=this._southWest,b=this._northEast,E,A;if(u instanceof ie)E=u,A=u;else if(u instanceof D){if(E=u._southWest,A=u._northEast,!E||!A)return this}else return u?this.extend(ue(u)||ce(u)):this;return!m&&!b?(this._southWest=new ie(E.lat,E.lng),this._northEast=new ie(A.lat,A.lng)):(m.lat=Math.min(E.lat,m.lat),m.lng=Math.min(E.lng,m.lng),b.lat=Math.max(A.lat,b.lat),b.lng=Math.max(A.lng,b.lng)),this},pad:function(u){var m=this._southWest,b=this._northEast,E=Math.abs(m.lat-b.lat)*u,A=Math.abs(m.lng-b.lng)*u;return new D(new ie(m.lat-E,m.lng-A),new ie(b.lat+E,b.lng+A))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof ie||"lat"in u?u=ue(u):u=ce(u);var m=this._southWest,b=this._northEast,E,A;return u instanceof D?(E=u.getSouthWest(),A=u.getNorthEast()):E=A=u,E.lat>=m.lat&&A.lat<=b.lat&&E.lng>=m.lng&&A.lng<=b.lng},intersects:function(u){u=ce(u);var m=this._southWest,b=this._northEast,E=u.getSouthWest(),A=u.getNorthEast(),z=A.lat>=m.lat&&E.lat<=b.lat,K=A.lng>=m.lng&&E.lng<=b.lng;return z&&K},overlaps:function(u){u=ce(u);var m=this._southWest,b=this._northEast,E=u.getSouthWest(),A=u.getNorthEast(),z=A.lat>m.lat&&E.lat<b.lat,K=A.lng>m.lng&&E.lng<b.lng;return z&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,m){return u?(u=ce(u),this._southWest.equals(u.getSouthWest(),m)&&this._northEast.equals(u.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(u,m){return u instanceof D?u:new D(u,m)}function ie(u,m,b){if(isNaN(u)||isNaN(m))throw new Error("Invalid LatLng object: ("+u+", "+m+")");this.lat=+u,this.lng=+m,b!==void 0&&(this.alt=+b)}ie.prototype={equals:function(u,m){if(!u)return!1;u=ue(u);var b=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return b<=(m===void 0?1e-9:m)},toString:function(u){return"LatLng("+x(this.lat,u)+", "+x(this.lng,u)+")"},distanceTo:function(u){return Ee.distance(this,ue(u))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(u){var m=180*u/40075017,b=m/Math.cos(Math.PI/180*this.lat);return ce([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function ue(u,m,b){return u instanceof ie?u:N(u)&&typeof u[0]!="object"?u.length===3?new ie(u[0],u[1],u[2]):u.length===2?new ie(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new ie(u.lat,"lng"in u?u.lng:u.lon,u.alt):m===void 0?null:new ie(u,m,b)}var Te={latLngToPoint:function(u,m){var b=this.projection.project(u),E=this.scale(m);return this.transformation._transform(b,E)},pointToLatLng:function(u,m){var b=this.scale(m),E=this.transformation.untransform(u,b);return this.projection.unproject(E)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(u),E=this.transformation.transform(m.min,b),A=this.transformation.transform(m.max,b);return new R(E,A)},infinite:!1,wrapLatLng:function(u){var m=this.wrapLng?y(u.lng,this.wrapLng,!0):u.lng,b=this.wrapLat?y(u.lat,this.wrapLat,!0):u.lat,E=u.alt;return new ie(b,m,E)},wrapLatLngBounds:function(u){var m=u.getCenter(),b=this.wrapLatLng(m),E=m.lat-b.lat,A=m.lng-b.lng;if(E===0&&A===0)return u;var z=u.getSouthWest(),K=u.getNorthEast(),le=new ie(z.lat-E,z.lng-A),fe=new ie(K.lat-E,K.lng-A);return new D(le,fe)}},Ee=s({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(u,m){var b=Math.PI/180,E=u.lat*b,A=m.lat*b,z=Math.sin((m.lat-u.lat)*b/2),K=Math.sin((m.lng-u.lng)*b/2),le=z*z+Math.cos(E)*Math.cos(A)*K*K,fe=2*Math.atan2(Math.sqrt(le),Math.sqrt(1-le));return this.R*fe}}),Le=6378137,_e={R:Le,MAX_LATITUDE:85.0511287798,project:function(u){var m=Math.PI/180,b=this.MAX_LATITUDE,E=Math.max(Math.min(b,u.lat),-b),A=Math.sin(E*m);return new re(this.R*u.lng*m,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(u){var m=180/Math.PI;return new ie((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*m,u.x*m/this.R)},bounds:(function(){var u=Le*Math.PI;return new R([-u,-u],[u,u])})()};function ee(u,m,b,E){if(N(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=m,this._c=b,this._d=E}ee.prototype={transform:function(u,m){return this._transform(u.clone(),m)},_transform:function(u,m){return m=m||1,u.x=m*(this._a*u.x+this._b),u.y=m*(this._c*u.y+this._d),u},untransform:function(u,m){return m=m||1,new re((u.x/m-this._b)/this._a,(u.y/m-this._d)/this._c)}};function ke(u,m,b,E){return new ee(u,m,b,E)}var Oe=s({},Ee,{code:"EPSG:3857",projection:_e,transformation:(function(){var u=.5/(Math.PI*_e.R);return ke(u,.5,-u,.5)})()}),De=s({},Oe,{code:"EPSG:900913"});function ct(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Pe(u,m){var b="",E,A,z,K,le,fe;for(E=0,z=u.length;E<z;E++){for(le=u[E],A=0,K=le.length;A<K;A++)fe=le[A],b+=(A?"L":"M")+fe.x+" "+fe.y;b+=m?ze.svg?"z":"x":""}return b||"M0 0"}var Fn=document.documentElement.style,Qt="ActiveXObject"in window,St=Qt&&!document.addEventListener,Jt="msLaunchUri"in navigator&&!("documentMode"in document),Dn=Zn("webkit"),ar=Zn("android"),sa=Zn("android 2")||Zn("android 3"),_n=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gl=ar&&Zn("Google")&&_n<537&&!("AudioNode"in window),ve=!!window.opera,$e=!Jt&&Zn("chrome"),He=Zn("gecko")&&!Dn&&!ve&&!Qt,nt=!$e&&Zn("safari"),dt=Zn("phantom"),kn="OTransition"in Fn,Ui=navigator.platform.indexOf("Win")===0,pn=Qt&&"transition"in Fn,It="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!sa,xn="MozPerspective"in Fn,bt=!window.L_DISABLE_3D&&(pn||It||xn)&&!kn&&!dt,qn=typeof orientation<"u"||Zn("mobile"),li=qn&&Dn,tm=qn&&It,aa=!window.PointerEvent&&window.MSPointerEvent,oa=!!(window.PointerEvent||aa),la="ontouchstart"in window||!!window.TouchEvent,Ar=!window.L_NO_TOUCH&&(la||oa),po=qn&&ve,ua=qn&&He,nm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sd=(function(){var u=!1;try{var m=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return u})(),Kl=(function(){return!!document.createElement("canvas").getContext})(),Pr=!!(document.createElementNS&&ct("svg").createSVGRect),im=!!Pr&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ad=!Pr&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var m=u.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),od=navigator.platform.indexOf("Mac")===0,ld=navigator.platform.indexOf("Linux")===0;function Zn(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ze={ie:Qt,ielt9:St,edge:Jt,webkit:Dn,android:ar,android23:sa,androidStock:Gl,opera:ve,chrome:$e,gecko:He,safari:nt,phantom:dt,opera12:kn,win:Ui,ie3d:pn,webkit3d:It,gecko3d:xn,any3d:bt,mobile:qn,mobileWebkit:li,mobileWebkit3d:tm,msPointer:aa,pointer:oa,touch:Ar,touchNative:la,mobileOpera:po,mobileGecko:ua,retina:nm,passiveEvents:sd,canvas:Kl,svg:Pr,vml:ad,inlineSvg:im,mac:od,linux:ld},Wl=ze.msPointer?"MSPointerDown":"pointerdown",Yl=ze.msPointer?"MSPointerMove":"pointermove",Vi=ze.msPointer?"MSPointerUp":"pointerup",en=ze.msPointer?"MSPointerCancel":"pointercancel",gn={touchstart:Wl,touchmove:Yl,touchend:Vi,touchcancel:en},Mr={touchstart:ds,touchmove:lr,touchend:lr,touchcancel:lr},or={},ud=!1;function rm(u,m,b){return m==="touchstart"&&cs(),Mr[m]?(b=Mr[m].bind(this,b),u.addEventListener(gn[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function cd(u,m,b){if(!gn[m]){console.warn("wrong event specified:",m);return}u.removeEventListener(gn[m],b,!1)}function ca(u){or[u.pointerId]=u}function Xl(u){or[u.pointerId]&&(or[u.pointerId]=u)}function Or(u){delete or[u.pointerId]}function cs(){ud||(document.addEventListener(Wl,ca,!0),document.addEventListener(Yl,Xl,!0),document.addEventListener(Vi,Or,!0),document.addEventListener(en,Or,!0),ud=!0)}function lr(u,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in or)m.touches.push(or[b]);m.changedTouches=[m],u(m)}}function ds(u,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Ft(m),lr(u,m)}function tn(u){var m={},b,E;for(E in u)b=u[E],m[E]=b&&b.bind?b.bind(u):b;return u=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var dd=200;function hd(u,m){u.addEventListener("dblclick",m);var b=0,E;function A(z){if(z.detail!==1){E=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var K=ya(z);if(!(K.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!K.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var le=Date.now();le-b<=dd?(E++,E===2&&m(tn(z))):E=1,b=le}}}return u.addEventListener("click",A),{dblclick:m,simDblclick:A}}function Rr(u,m){u.removeEventListener("dblclick",m.dblclick),u.removeEventListener("click",m.simDblclick)}var ur=fa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),da=fa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ql=da==="webkitTransition"||da==="OTransition"?da+"End":"transitionend";function Jl(u){return typeof u=="string"?document.getElementById(u):u}function ha(u,m){var b=u.style[m]||u.currentStyle&&u.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(u,null);b=E?E[m]:null}return b==="auto"?null:b}function it(u,m,b){var E=document.createElement(u);return E.className=m||"",b&&b.appendChild(E),E}function Ct(u){var m=u.parentNode;m&&m.removeChild(u)}function Gn(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function cn(u){var m=u.parentNode;m&&m.lastChild!==u&&m.appendChild(u)}function Dr(u){var m=u.parentNode;m&&m.firstChild!==u&&m.insertBefore(u,m.firstChild)}function eu(u,m){if(u.classList!==void 0)return u.classList.contains(m);var b=go(u);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function Ye(u,m){if(u.classList!==void 0)for(var b=C(m),E=0,A=b.length;E<A;E++)u.classList.add(b[E]);else if(!eu(u,m)){var z=go(u);hs(u,(z?z+" ":"")+m)}}function Ot(u,m){u.classList!==void 0?u.classList.remove(m):hs(u,w((" "+go(u)+" ").replace(" "+m+" "," ")))}function hs(u,m){u.className.baseVal===void 0?u.className=m:u.className.baseVal=m}function go(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Pt(u,m){"opacity"in u.style?u.style.opacity=m:"filter"in u.style&&tu(u,m)}function tu(u,m){var b=!1,E="DXImageTransform.Microsoft.Alpha";try{b=u.filters.item(E)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):u.style.filter+=" progid:"+E+"(opacity="+m+")"}function fa(u){for(var m=document.documentElement.style,b=0;b<u.length;b++)if(u[b]in m)return u[b];return!1}function Hi(u,m,b){var E=m||new re(0,0);u.style[ur]=(ze.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(b?" scale("+b+")":"")}function kt(u,m){u._leaflet_pos=m,ze.any3d?Hi(u,m):(u.style.left=m.x+"px",u.style.top=m.y+"px")}function cr(u){return u._leaflet_pos||new re(0,0)}var fs,Ei,nu;if("onselectstart"in document)fs=function(){Ze(window,"selectstart",Ft)},Ei=function(){vt(window,"selectstart",Ft)};else{var ms=fa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(ms){var u=document.documentElement.style;nu=u[ms],u[ms]="none"}},Ei=function(){ms&&(document.documentElement.style[ms]=nu,nu=void 0)}}function yo(){Ze(window,"dragstart",Ft)}function ma(){vt(window,"dragstart",Ft)}var vo,iu;function ps(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Kn(),vo=u,iu=u.style.outlineStyle,u.style.outlineStyle="none",Ze(window,"keydown",Kn))}function Kn(){vo&&(vo.style.outlineStyle=iu,vo=void 0,iu=void 0,vt(window,"keydown",Kn))}function bo(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function pa(u){var m=u.getBoundingClientRect();return{x:m.width/u.offsetWidth||1,y:m.height/u.offsetHeight||1,boundingClientRect:m}}var gs={__proto__:null,TRANSFORM:ur,TRANSITION:da,TRANSITION_END:Ql,get:Jl,getStyle:ha,create:it,remove:Ct,empty:Gn,toFront:cn,toBack:Dr,hasClass:eu,addClass:Ye,removeClass:Ot,setClass:hs,getClass:go,setOpacity:Pt,testProp:fa,setTransform:Hi,setPosition:kt,getPosition:cr,get disableTextSelection(){return fs},get enableTextSelection(){return Ei},disableImageDrag:yo,enableImageDrag:ma,preventOutline:ps,restoreOutline:Kn,getSizedParentNode:bo,getScale:pa};function Ze(u,m,b,E){if(m&&typeof m=="object")for(var A in m)ci(u,A,m[A],b);else{m=C(m);for(var z=0,K=m.length;z<K;z++)ci(u,m[z],b,E)}return this}var ui="_leaflet_events";function vt(u,m,b,E){if(arguments.length===1)ru(u),delete u[ui];else if(m&&typeof m=="object")for(var A in m)ga(u,A,m[A],b);else if(m=C(m),arguments.length===2)ru(u,function(le){return U(m,le)!==-1});else for(var z=0,K=m.length;z<K;z++)ga(u,m[z],b,E);return this}function ru(u,m){for(var b in u[ui]){var E=b.split(/\d/)[0];(!m||m(E))&&ga(u,E,null,null,b)}}var zr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ci(u,m,b,E){var A=m+f(b)+(E?"_"+f(E):"");if(u[ui]&&u[ui][A])return this;var z=function(le){return b.call(E||u,le||window.event)},K=z;!ze.touchNative&&ze.pointer&&m.indexOf("touch")===0?z=rm(u,m,z):ze.touch&&m==="dblclick"?z=hd(u,z):"addEventListener"in u?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?u.addEventListener(zr[m]||m,z,ze.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(z=function(le){le=le||window.event,Fi(u,le)&&K(le)},u.addEventListener(zr[m],z,!1)):u.addEventListener(m,K,!1):u.attachEvent("on"+m,z),u[ui]=u[ui]||{},u[ui][A]=z}function ga(u,m,b,E,A){A=A||m+f(b)+(E?"_"+f(E):"");var z=u[ui]&&u[ui][A];if(!z)return this;!ze.touchNative&&ze.pointer&&m.indexOf("touch")===0?cd(u,m,z):ze.touch&&m==="dblclick"?Rr(u,z):"removeEventListener"in u?u.removeEventListener(zr[m]||m,z,!1):u.detachEvent("on"+m,z),u[ui][A]=null}function di(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ti(u){return ci(u,"wheel",di),this}function Ir(u){return Ze(u,"mousedown touchstart dblclick contextmenu",di),u._leaflet_disable_click=!0,this}function Ft(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function dr(u){return Ft(u),di(u),this}function ya(u){if(u.composedPath)return u.composedPath();for(var m=[],b=u.target;b;)m.push(b),b=b.parentNode;return m}function va(u,m){if(!m)return new re(u.clientX,u.clientY);var b=pa(m),E=b.boundingClientRect;return new re((u.clientX-E.left)/b.x-m.clientLeft,(u.clientY-E.top)/b.y-m.clientTop)}var fd=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wn(u){return ze.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/fd:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Fi(u,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==u;)b=b.parentNode}catch{return!1}return b!==u}var _o={__proto__:null,on:Ze,off:vt,stopPropagation:di,disableScrollPropagation:Ti,disableClickPropagation:Ir,preventDefault:Ft,stop:dr,getPropagationPath:ya,getMousePosition:va,getWheelDelta:wn,isExternalTarget:Fi,addListener:Ze,removeListener:vt},ys=G.extend({run:function(u,m,b,E){this.stop(),this._el=u,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=cr(u),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(u){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),u):(this._runFrame(1),this._complete())},_runFrame:function(u,m){var b=this._startPos.add(this._offset.multiplyBy(u));m&&b._round(),kt(this._el,b),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),ot=G.extend({options:{crs:Oe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,m){m=T(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(ue(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=da&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ze(this._proxy,Ql,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),u=this._limitCenter(ue(u),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=s({animate:b.animate},b.zoom),b.pan=s({animate:b.animate,duration:b.duration},b.pan));var E=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,m,b.zoom):this._tryAnimatedPan(u,b.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(u,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(u,m){return this._loaded?this.setView(this.getCenter(),u,{zoom:m}):(this._zoom=u,this)},zoomIn:function(u,m){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,m)},zoomOut:function(u,m){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,m)},setZoomAround:function(u,m,b){var E=this.getZoomScale(m),A=this.getSize().divideBy(2),z=u instanceof re?u:this.latLngToContainerPoint(u),K=z.subtract(A).multiplyBy(1-1/E),le=this.containerPointToLatLng(A.add(K));return this.setView(le,m,{zoom:b})},_getBoundsCenterZoom:function(u,m){m=m||{},u=u.getBounds?u.getBounds():ce(u);var b=O(m.paddingTopLeft||m.padding||[0,0]),E=O(m.paddingBottomRight||m.padding||[0,0]),A=this.getBoundsZoom(u,!1,b.add(E));if(A=typeof m.maxZoom=="number"?Math.min(m.maxZoom,A):A,A===1/0)return{center:u.getCenter(),zoom:A};var z=E.subtract(b).divideBy(2),K=this.project(u.getSouthWest(),A),le=this.project(u.getNorthEast(),A),fe=this.unproject(K.add(le).divideBy(2).add(z),A);return{center:fe,zoom:A}},fitBounds:function(u,m){if(u=ce(u),!u.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(u,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,m){return this.setView(u,this._zoom,{pan:m})},panBy:function(u,m){if(u=O(u).round(),m=m||{},!u.x&&!u.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Ye(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,m,b){if(b=b||{},b.animate===!1||!ze.any3d)return this.setView(u,m,b);this._stop();var E=this.project(this.getCenter()),A=this.project(u),z=this.getSize(),K=this._zoom;u=ue(u),m=m===void 0?K:m;var le=Math.max(z.x,z.y),fe=le*this.getZoomScale(K,m),xe=A.distanceTo(E)||1,Ne=1.42,Be=Ne*Ne;function Je(Bt){var Ki=Bt?-1:1,Hr=Bt?fe:le,bu=fe*fe-le*le+Ki*Be*Be*xe*xe,Ma=2*Hr*Be*xe,Oa=bu/Ma,_r=Math.sqrt(Oa*Oa+1)-Oa,Wi=_r<1e-9?-18:Math.log(_r);return Wi}function dn(Bt){return(Math.exp(Bt)-Math.exp(-Bt))/2}function qt(Bt){return(Math.exp(Bt)+Math.exp(-Bt))/2}function In(Bt){return dn(Bt)/qt(Bt)}var ht=Je(0);function ft(Bt){return le*(qt(ht)/qt(ht+Ne*Bt))}function rt(Bt){return le*(qt(ht)*In(ht+Ne*Bt)-dn(ht))/Be}function vr(Bt){return 1-Math.pow(1-Bt,1.5)}var Qn=Date.now(),Mo=(Je(1)-ht)/Ne,br=b.duration?1e3*b.duration:1e3*Mo*.8;function vu(){var Bt=(Date.now()-Qn)/br,Ki=vr(Bt)*Mo;Bt<=1?(this._flyToFrame=q(vu,this),this._move(this.unproject(E.add(A.subtract(E).multiplyBy(rt(Ki)/xe)),K),this.getScaleZoom(le/ft(Ki),K),{flyTo:!0})):this._move(u,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),vu.call(this),this},flyToBounds:function(u,m){var b=this._getBoundsCenterZoom(u,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(u){return u=ce(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var m=this.options.minZoom;return this.options.minZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var m=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,m){this._enforcingBounds=!0;var b=this.getCenter(),E=this._limitCenter(b,this._zoom,ce(u));return b.equals(E)||this.panTo(E,m),this._enforcingBounds=!1,this},panInside:function(u,m){m=m||{};var b=O(m.paddingTopLeft||m.padding||[0,0]),E=O(m.paddingBottomRight||m.padding||[0,0]),A=this.project(this.getCenter()),z=this.project(u),K=this.getPixelBounds(),le=J([K.min.add(b),K.max.subtract(E)]),fe=le.getSize();if(!le.contains(z)){this._enforcingBounds=!0;var xe=z.subtract(le.getCenter()),Ne=le.extend(z).getSize().subtract(fe);A.x+=xe.x<0?-Ne.x:Ne.x,A.y+=xe.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(A),m),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),E=m.divideBy(2).round(),A=b.divideBy(2).round(),z=E.subtract(A);return!z.x&&!z.y?this:(u.animate&&u.pan?this.panBy(z):(u.pan&&this._rawPanBy(z),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=l(this._handleGeolocationResponse,this),b=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,u):navigator.geolocation.getCurrentPosition(m,b,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var m=u.code,b=u.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var m=u.coords.latitude,b=u.coords.longitude,E=new ie(m,b),A=E.toBounds(u.coords.accuracy*2),z=this._locateOptions;if(z.setView){var K=this.getBoundsZoom(A);this.setView(E,z.maxZoom?Math.min(K,z.maxZoom):K)}var le={latlng:E,bounds:A,timestamp:u.timestamp};for(var fe in u.coords)typeof u.coords[fe]=="number"&&(le[fe]=u.coords[fe]);this.fire("locationfound",le)}},addHandler:function(u,m){if(!m)return this;var b=this[u]=new m(this);return this._handlers.push(b),this.options[u]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Ct(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,m){var b="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),E=it("div",b,m||this._mapPane);return u&&(this._panes[u]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),m=this.unproject(u.getBottomLeft()),b=this.unproject(u.getTopRight());return new D(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,m,b){u=ce(u),b=O(b||[0,0]);var E=this.getZoom()||0,A=this.getMinZoom(),z=this.getMaxZoom(),K=u.getNorthWest(),le=u.getSouthEast(),fe=this.getSize().subtract(b),xe=J(this.project(le,E),this.project(K,E)).getSize(),Ne=ze.any3d?this.options.zoomSnap:1,Be=fe.x/xe.x,Je=fe.y/xe.y,dn=m?Math.max(Be,Je):Math.min(Be,Je);return E=this.getScaleZoom(dn,E),Ne&&(E=Math.round(E/(Ne/100))*(Ne/100),E=m?Math.ceil(E/Ne)*Ne:Math.floor(E/Ne)*Ne),Math.max(A,Math.min(z,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,m){var b=this._getTopLeftPoint(u,m);return new R(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(u)/b.scale(m)},getScaleZoom:function(u,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var E=b.zoom(u*b.scale(m));return isNaN(E)?1/0:E},project:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(ue(u),m)},unproject:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(O(u),m)},layerPointToLatLng:function(u){var m=O(u).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(u){var m=this.project(ue(u))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(ue(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ce(u))},distance:function(u,m){return this.options.crs.distance(ue(u),ue(m))},containerPointToLayerPoint:function(u){return O(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return O(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var m=this.containerPointToLayerPoint(O(u));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(u)))},mouseEventToContainerPoint:function(u){return va(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var m=this._container=Jl(u);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ze(m,"scroll",this._onScroll,this),this._containerId=f(m)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,Ye(u,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=ha(u,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ye(u.markerPane,"leaflet-zoom-hide"),Ye(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,m,b){kt(this._mapPane,new re(0,0));var E=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var A=this._zoom!==m;this._moveStart(A,b)._move(u,m)._moveEnd(A),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(u,m){return u&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(u,m,b,E){m===void 0&&(m=this._zoom);var A=this._zoom!==m;return this._zoom=m,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),E?b&&b.pinch&&this.fire("zoom",b):((A||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){kt(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[f(this._container)]=this;var m=u?vt:Ze;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,m){for(var b=[],E,A=m==="mouseout"||m==="mouseover",z=u.target||u.srcElement,K=!1;z;){if(E=this._targets[f(z)],E&&(m==="click"||m==="preclick")&&this._draggableMoved(E)){K=!0;break}if(E&&E.listens(m,!0)&&(A&&!Fi(z,u)||(b.push(E),A))||z===this._container)break;z=z.parentNode}return!b.length&&!K&&!A&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var m=u.target||u.srcElement;if(!(!this._loaded||m._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(m))){var b=u.type;b==="mousedown"&&ps(m),this._fireDOMEvent(u,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,m,b){if(u.type==="click"){var E=s({},u);E.type="preclick",this._fireDOMEvent(E,E.type,b)}var A=this._findEventTargets(u,m);if(b){for(var z=[],K=0;K<b.length;K++)b[K].listens(m,!0)&&z.push(b[K]);A=z.concat(A)}if(A.length){m==="contextmenu"&&Ft(u);var le=A[0],fe={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var xe=le.getLatLng&&(!le._radius||le._radius<=10);fe.containerPoint=xe?this.latLngToContainerPoint(le.getLatLng()):this.mouseEventToContainerPoint(u),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=xe?le.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(K=0;K<A.length;K++)if(A[K].fire(m,fe,!0),fe.originalEvent._stopped||A[K].options.bubblingMouseEvents===!1&&U(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,m=this._handlers.length;u<m;u++)this._handlers[u].disable()},whenReady:function(u,m){return this._loaded?u.call(m||this,{target:this}):this.on("load",u,m),this},_getMapPanePos:function(){return cr(this._mapPane)||new re(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,m){var b=u&&m!==void 0?this._getNewPixelOrigin(u,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,m){var b=this.getSize()._divideBy(2);return this.project(u,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,m,b){var E=this._getNewPixelOrigin(b,m);return this.project(u,m)._subtract(E)},_latLngBoundsToNewLayerBounds:function(u,m,b){var E=this._getNewPixelOrigin(b,m);return J([this.project(u.getSouthWest(),m)._subtract(E),this.project(u.getNorthWest(),m)._subtract(E),this.project(u.getSouthEast(),m)._subtract(E),this.project(u.getNorthEast(),m)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,m,b){if(!b)return u;var E=this.project(u,m),A=this.getSize().divideBy(2),z=new R(E.subtract(A),E.add(A)),K=this._getBoundsOffset(z,b,m);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?u:this.unproject(E.add(K),m)},_limitOffset:function(u,m){if(!m)return u;var b=this.getPixelBounds(),E=new R(b.min.add(u),b.max.add(u));return u.add(this._getBoundsOffset(E,m))},_getBoundsOffset:function(u,m,b){var E=J(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),A=E.min.subtract(u.min),z=E.max.subtract(u.max),K=this._rebound(A.x,-z.x),le=this._rebound(A.y,-z.y);return new re(K,le)},_rebound:function(u,m){return u+m>0?Math.round(u-m)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(m))},_limitZoom:function(u){var m=this.getMinZoom(),b=this.getMaxZoom(),E=ze.any3d?this.options.zoomSnap:1;return E&&(u=Math.round(u/E)*E),Math.max(m,Math.min(b,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,m){var b=this._getCenterOffset(u)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var u=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(m){var b=ur,E=this._proxy.style[b];Hi(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),E===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),m=this.getZoom();Hi(this._proxy,this.project(u,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(m),A=this._getCenterOffset(u)._divideBy(1-1/E);return b.animate!==!0&&!this.getSize().contains(A)?!1:(q(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(u,m,!0)},this),!0)},_animateZoom:function(u,m,b,E){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=m,Ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:m,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function su(u,m){return new ot(u,m)}var zn=Q.extend({options:{position:"topright"},initialize:function(u){T(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var m=this._map;return m&&m.removeControl(this),this.options.position=u,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var m=this._container=this.onAdd(u),b=this.getPosition(),E=u._controlCorners[b];return Ye(m,"leaflet-control"),b.indexOf("bottom")!==-1?E.insertBefore(m,E.firstChild):E.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),qi=function(u){return new zn(u)};ot.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},m="leaflet-",b=this._controlContainer=it("div",m+"control-container",this._container);function E(A,z){var K=m+A+" "+m+z;u[A+z]=it("div",K,b)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Ct(this._controlCorners[u]);Ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ba=zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,m,b,E){return b<E?-1:E<b?1:0}},initialize:function(u,m,b){T(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in u)this._addLayer(u[E],E);for(E in m)this._addLayer(m[E],E,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return zn.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,m){return this._addLayer(u,m),this._map?this._update():this},addOverlay:function(u,m){return this._addLayer(u,m,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var m=this._getLayer(f(u));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",m=this._container=it("div",u),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Ir(m),Ti(m);var E=this._section=it("section",u+"-list");b&&(this._map.on("click",this.collapse,this),Ze(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=it("a",u+"-toggle",m);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ze(A,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){Ft(z),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=it("div",u+"-base",E),this._separator=it("div",u+"-separator",E),this._overlaysList=it("div",u+"-overlays",E),m.appendChild(E)},_getLayer:function(u){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&f(this._layers[m].layer)===u)return this._layers[m]},_addLayer:function(u,m,b){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(l(function(E,A){return this.options.sortFunction(E.layer,A.layer,E.name,A.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gn(this._baseLayersList),Gn(this._overlaysList),this._layerControlInputs=[];var u,m,b,E,A=0;for(b=0;b<this._layers.length;b++)E=this._layers[b],this._addItem(E),m=m||E.overlay,u=u||!E.overlay,A+=E.overlay?0:1;return this.options.hideSingleBase&&(u=u&&A>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=m&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var m=this._getLayer(f(u.target)),b=m.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(u,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(m?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=b,E.firstChild},_addItem:function(u){var m=document.createElement("label"),b=this._map.hasLayer(u.layer),E;u.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=b):E=this._createRadioElement("leaflet-base-layers_"+f(this),b),this._layerControlInputs.push(E),E.layerId=f(u.layer),Ze(E,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+u.name;var z=document.createElement("span");m.appendChild(z),z.appendChild(E),z.appendChild(A);var K=u.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,m,b,E=[],A=[];this._handlingClick=!0;for(var z=u.length-1;z>=0;z--)m=u[z],b=this._getLayer(m.layerId).layer,m.checked?E.push(b):m.checked||A.push(b);for(z=0;z<A.length;z++)this._map.hasLayer(A[z])&&this._map.removeLayer(A[z]);for(z=0;z<E.length;z++)this._map.hasLayer(E[z])||this._map.addLayer(E[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,m,b,E=this._map.getZoom(),A=u.length-1;A>=0;A--)m=u[A],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&E<b.options.minZoom||b.options.maxZoom!==void 0&&E>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,Ze(u,"click",Ft),this.expand();var m=this;setTimeout(function(){vt(u,"click",Ft),m._preventClick=!1})}}),md=function(u,m,b){return new ba(u,m,b)},au=zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var m="leaflet-control-zoom",b=it("div",m+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,m,b,E,A){var z=it("a",b,E);return z.innerHTML=u,z.href="#",z.title=m,z.setAttribute("role","button"),z.setAttribute("aria-label",m),Ir(z),Ze(z,"click",dr),Ze(z,"click",A,this),Ze(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var u=this._map,m="leaflet-disabled";Ot(this._zoomInButton,m),Ot(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Ye(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Ye(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new au,this.addControl(this.zoomControl))});var sm=function(u){return new au(u)},pd=zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var m="leaflet-control-scale",b=it("div",m),E=this.options;return this._addScales(E,m+"-line",b),u.on(E.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),b},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,m,b){u.metric&&(this._mScale=it("div",m,b)),u.imperial&&(this._iScale=it("div",m,b))},_update:function(){var u=this._map,m=u.getSize().y/2,b=u.distance(u.containerPointToLatLng([0,m]),u.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var m=this._getRoundNum(u),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/u)},_updateImperial:function(u){var m=u*3.2808399,b,E,A;m>5280?(b=m/5280,E=this._getRoundNum(b),this._updateScale(this._iScale,E+" mi",E/b)):(A=this._getRoundNum(m),this._updateScale(this._iScale,A+" ft",A/m))},_updateScale:function(u,m,b){u.style.width=Math.round(this.options.maxWidth*b)+"px",u.innerHTML=m},_getRoundNum:function(u){var m=Math.pow(10,(Math.floor(u)+"").length-1),b=u/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),ou=function(u){return new pd(u)},am='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lu=zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?am+" ":"")+"Leaflet</a>"},initialize:function(u){T(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=it("div","leaflet-control-attribution"),Ir(this._container);for(var m in u._layers)u._layers[m].getAttribution&&this.addAttribution(u._layers[m].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var m in this._attributions)this._attributions[m]&&u.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),u.length&&b.push(u.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new lu().addTo(this)});var om=function(u){return new lu(u)};zn.Layers=ba,zn.Zoom=au,zn.Scale=pd,zn.Attribution=lu,qi.layers=md,qi.zoom=sm,qi.scale=ou,qi.attribution=om;var ji=Q.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ji.addTo=function(u,m){return u.addHandler(m,this),this};var lm={Events:V},uu=ze.touch?"touchstart mousedown":"mousedown",hr=G.extend({options:{clickTolerance:3},initialize:function(u,m,b,E){T(this,E),this._element=u,this._dragStartTarget=m||u,this._preventOutline=b},enable:function(){this._enabled||(Ze(this._dragStartTarget,uu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hr._dragging===this&&this.finishDrag(!0),vt(this._dragStartTarget,uu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!eu(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){hr._dragging===this&&this.finishDrag();return}if(!(hr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(hr._dragging=this,this._preventOutline&&ps(this._element),yo(),fs(),!this._moving)){this.fire("down");var m=u.touches?u.touches[0]:u,b=bo(this._element);this._startPoint=new re(m.clientX,m.clientY),this._startPos=cr(this._element),this._parentScale=pa(b);var E=u.type==="mousedown";Ze(document,E?"mousemove":"touchmove",this._onMove,this),Ze(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var m=u.touches&&u.touches.length===1?u.touches[0]:u,b=new re(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Ft(u),this._moved||(this.fire("dragstart"),this._moved=!0,Ye(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),kt(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Ot(document.body,"leaflet-dragging"),this._lastTarget&&(Ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),vt(document,"mousemove touchmove",this._onMove,this),vt(document,"mouseup touchend touchcancel",this._onUp,this),ma(),Ei();var m=this._moved&&this._moving;this._moving=!1,hr._dragging=!1,m&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function gd(u,m,b){var E,A=[1,4,2,8],z,K,le,fe,xe,Ne,Be,Je;for(z=0,Ne=u.length;z<Ne;z++)u[z]._code=Br(u[z],m);for(le=0;le<4;le++){for(Be=A[le],E=[],z=0,Ne=u.length,K=Ne-1;z<Ne;K=z++)fe=u[z],xe=u[K],fe._code&Be?xe._code&Be||(Je=xo(xe,fe,Be,m,b),Je._code=Br(Je,m),E.push(Je)):(xe._code&Be&&(Je=xo(xe,fe,Be,m,b),Je._code=Br(Je,m),E.push(Je)),E.push(fe));u=E}return u}function yd(u,m){var b,E,A,z,K,le,fe,xe,Ne;if(!u||u.length===0)throw new Error("latlngs not passed");Wn(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Be=ue([0,0]),Je=ce(u),dn=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());dn<1700&&(Be=cu(u));var qt=u.length,In=[];for(b=0;b<qt;b++){var ht=ue(u[b]);In.push(m.project(ue([ht.lat-Be.lat,ht.lng-Be.lng])))}for(le=fe=xe=0,b=0,E=qt-1;b<qt;E=b++)A=In[b],z=In[E],K=A.y*z.x-z.y*A.x,fe+=(A.x+z.x)*K,xe+=(A.y+z.y)*K,le+=K*3;le===0?Ne=In[0]:Ne=[fe/le,xe/le];var ft=m.unproject(O(Ne));return ue([ft.lat+Be.lat,ft.lng+Be.lng])}function cu(u){for(var m=0,b=0,E=0,A=0;A<u.length;A++){var z=ue(u[A]);m+=z.lat,b+=z.lng,E++}return ue([m/E,b/E])}var du={__proto__:null,clipPolygon:gd,polygonCenter:yd,centroid:cu};function vd(u,m){if(!m||!u.length)return u.slice();var b=m*m;return u=cm(u,b),u=_d(u,b),u}function bd(u,m,b){return Math.sqrt(_a(u,m,b,!0))}function um(u,m,b){return _a(u,m,b)}function _d(u,m){var b=u.length,E=typeof Uint8Array<"u"?Uint8Array:Array,A=new E(b);A[0]=A[b-1]=1,hu(u,A,m,0,b-1);var z,K=[];for(z=0;z<b;z++)A[z]&&K.push(u[z]);return K}function hu(u,m,b,E,A){var z=0,K,le,fe;for(le=E+1;le<=A-1;le++)fe=_a(u[le],u[E],u[A],!0),fe>z&&(K=le,z=fe);z>b&&(m[K]=1,hu(u,m,b,E,K),hu(u,m,b,K,A))}function cm(u,m){for(var b=[u[0]],E=1,A=0,z=u.length;E<z;E++)dm(u[E],u[A])>m&&(b.push(u[E]),A=E);return A<z-1&&b.push(u[z-1]),b}var xd;function wd(u,m,b,E,A){var z=E?xd:Br(u,b),K=Br(m,b),le,fe,xe;for(xd=K;;){if(!(z|K))return[u,m];if(z&K)return!1;le=z||K,fe=xo(u,m,le,b,A),xe=Br(fe,b),le===z?(u=fe,z=xe):(m=fe,K=xe)}}function xo(u,m,b,E,A){var z=m.x-u.x,K=m.y-u.y,le=E.min,fe=E.max,xe,Ne;return b&8?(xe=u.x+z*(fe.y-u.y)/K,Ne=fe.y):b&4?(xe=u.x+z*(le.y-u.y)/K,Ne=le.y):b&2?(xe=fe.x,Ne=u.y+K*(fe.x-u.x)/z):b&1&&(xe=le.x,Ne=u.y+K*(le.x-u.x)/z),new re(xe,Ne,A)}function Br(u,m){var b=0;return u.x<m.min.x?b|=1:u.x>m.max.x&&(b|=2),u.y<m.min.y?b|=4:u.y>m.max.y&&(b|=8),b}function dm(u,m){var b=m.x-u.x,E=m.y-u.y;return b*b+E*E}function _a(u,m,b,E){var A=m.x,z=m.y,K=b.x-A,le=b.y-z,fe=K*K+le*le,xe;return fe>0&&(xe=((u.x-A)*K+(u.y-z)*le)/fe,xe>1?(A=b.x,z=b.y):xe>0&&(A+=K*xe,z+=le*xe)),K=u.x-A,le=u.y-z,E?K*K+le*le:new re(A,z)}function Wn(u){return!N(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function wo(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wn(u)}function vs(u,m){var b,E,A,z,K,le,fe,xe;if(!u||u.length===0)throw new Error("latlngs not passed");Wn(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ne=ue([0,0]),Be=ce(u),Je=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());Je<1700&&(Ne=cu(u));var dn=u.length,qt=[];for(b=0;b<dn;b++){var In=ue(u[b]);qt.push(m.project(ue([In.lat-Ne.lat,In.lng-Ne.lng])))}for(b=0,E=0;b<dn-1;b++)E+=qt[b].distanceTo(qt[b+1])/2;if(E===0)xe=qt[0];else for(b=0,z=0;b<dn-1;b++)if(K=qt[b],le=qt[b+1],A=K.distanceTo(le),z+=A,z>E){fe=(z-E)/A,xe=[le.x-fe*(le.x-K.x),le.y-fe*(le.y-K.y)];break}var ht=m.unproject(O(xe));return ue([ht.lat+Ne.lat,ht.lng+Ne.lng])}var hm={__proto__:null,simplify:vd,pointToSegmentDistance:bd,closestPointOnSegment:um,clipSegment:wd,_getEdgeIntersection:xo,_getBitCode:Br,_sqClosestPointOnSegment:_a,isFlat:Wn,_flat:wo,polylineCenter:vs},So={project:function(u){return new re(u.lng,u.lat)},unproject:function(u){return new ie(u.y,u.x)},bounds:new R([-180,-90],[180,90])},Co={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var m=Math.PI/180,b=this.R,E=u.lat*m,A=this.R_MINOR/b,z=Math.sqrt(1-A*A),K=z*Math.sin(E),le=Math.tan(Math.PI/4-E/2)/Math.pow((1-K)/(1+K),z/2);return E=-b*Math.log(Math.max(le,1e-10)),new re(u.lng*m*b,E)},unproject:function(u){for(var m=180/Math.PI,b=this.R,E=this.R_MINOR/b,A=Math.sqrt(1-E*E),z=Math.exp(-u.y/b),K=Math.PI/2-2*Math.atan(z),le=0,fe=.1,xe;le<15&&Math.abs(fe)>1e-7;le++)xe=A*Math.sin(K),xe=Math.pow((1-xe)/(1+xe),A/2),fe=Math.PI/2-2*Math.atan(z*xe)-K,K+=fe;return new ie(K*m,u.x*m/b)}},Sd={__proto__:null,LonLat:So,Mercator:Co,SphericalMercator:_e},Cd=s({},Ee,{code:"EPSG:3395",projection:Co,transformation:(function(){var u=.5/(Math.PI*Co.R);return ke(u,.5,-u,.5)})()}),fu=s({},Ee,{code:"EPSG:4326",projection:So,transformation:ke(1/180,1,-1/180,.5)}),bs=s({},Te,{projection:So,transformation:ke(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,m){var b=m.lng-u.lng,E=m.lat-u.lat;return Math.sqrt(b*b+E*E)},infinite:!0});Te.Earth=Ee,Te.EPSG3395=Cd,Te.EPSG3857=Oe,Te.EPSG900913=De,Te.EPSG4326=fu,Te.Simple=bs;var hi=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[f(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[f(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var m=u.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var m=f(u);return this._layers[m]?this:(this._layers[m]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var m=f(u);return this._layers[m]?(this._loaded&&u.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return f(u)in this._layers},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},_addLayers:function(u){u=u?N(u)?u:[u]:[];for(var m=0,b=u.length;m<b;m++)this.addLayer(u[m])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[f(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var m=f(u);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,m=-1/0,b=this._getZoomSpan();for(var E in this._zoomBoundLayers){var A=this._zoomBoundLayers[E].options;u=A.minZoom===void 0?u:Math.min(u,A.minZoom),m=A.maxZoom===void 0?m:Math.max(m,A.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=u===1/0?void 0:u,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _s=hi.extend({initialize:function(u,m){T(this,m),this._layers={};var b,E;if(u)for(b=0,E=u.length;b<E;b++)this.addLayer(u[b])},addLayer:function(u){var m=this.getLayerId(u);return this._layers[m]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var m=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(u){var m=typeof u=="number"?u:this.getLayerId(u);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var m=Array.prototype.slice.call(arguments,1),b,E;for(b in this._layers)E=this._layers[b],E[u]&&E[u].apply(E,m);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return f(u)}}),fm=function(u,m){return new _s(u,m)},ki=_s.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),_s.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),_s.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new D;for(var m in this._layers){var b=this._layers[m];u.extend(b.getBounds?b.getBounds():b.getLatLng())}return u}}),Ed=function(u,m){return new ki(u,m)},$i=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){T(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,m){var b=this._getIconUrl(u);if(!b){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(E,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(u,m){var b=this.options,E=b[m+"Size"];typeof E=="number"&&(E=[E,E]);var A=O(E),z=O(m==="shadow"&&b.shadowAnchor||b.iconAnchor||A&&A.divideBy(2,!0));u.className="leaflet-marker-"+m+" "+(b.className||""),z&&(u.style.marginLeft=-z.x+"px",u.style.marginTop=-z.y+"px"),A&&(u.style.width=A.x+"px",u.style.height=A.y+"px")},_createImg:function(u,m){return m=m||document.createElement("img"),m.src=u,m},_getIconUrl:function(u){return ze.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function xa(u){return new $i(u)}var wa=$i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof wa.imagePath!="string"&&(wa.imagePath=this._detectIconPath()),(this.options.imagePath||wa.imagePath)+$i.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var m=function(b,E,A){var z=E.exec(b);return z&&z[A]};return u=m(u,/^url\((['"])?(.+)\1\)$/,2),u&&m(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=it("div","leaflet-default-icon-path",document.body),m=ha(u,"background-image")||ha(u,"backgroundImage");if(document.body.removeChild(u),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Sa=ji.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new hr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ye(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var m=this._marker,b=m._map,E=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,z=cr(m._icon),K=b.getPixelBounds(),le=b.getPixelOrigin(),fe=J(K.min._subtract(le).add(A),K.max._subtract(le).subtract(A));if(!fe.contains(z)){var xe=O((Math.max(fe.max.x,z.x)-fe.max.x)/(K.max.x-fe.max.x)-(Math.min(fe.min.x,z.x)-fe.min.x)/(K.min.x-fe.min.x),(Math.max(fe.max.y,z.y)-fe.max.y)/(K.max.y-fe.max.y)-(Math.min(fe.min.y,z.y)-fe.min.y)/(K.min.y-fe.min.y)).multiplyBy(E);b.panBy(xe,{animate:!1}),this._draggable._newPos._add(xe),this._draggable._startPos._add(xe),kt(m._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=q(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,u)))},_onDrag:function(u){var m=this._marker,b=m._shadow,E=cr(m._icon),A=m._map.layerPointToLatLng(E);b&&kt(b,E),m._latlng=A,u.latlng=A,u.oldLatLng=this._oldLatLng,m.fire("move",u).fire("drag",u)},_onDragEnd:function(u){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Ca=hi.extend({options:{icon:new wa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,m){T(this,m),this._latlng=ue(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var m=this._latlng;return this._latlng=ue(u),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=u.icon.createIcon(this._icon),E=!1;b!==this._icon&&(this._icon&&this._removeIcon(),E=!0,u.title&&(b.title=u.title),b.tagName==="IMG"&&(b.alt=u.alt||"")),Ye(b,m),u.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(b,"focus",this._panOnFocus,this);var A=u.icon.createShadow(this._shadow),z=!1;A!==this._shadow&&(this._removeShadow(),z=!0),A&&(Ye(A,m),A.alt=""),this._shadow=A,u.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&z&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(this._icon,"focus",this._panOnFocus,this),Ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ct(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&kt(this._icon,u),this._shadow&&kt(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sa)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sa(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Pt(this._icon,u),this._shadow&&Pt(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var m=this.options.icon.options,b=m.iconSize?O(m.iconSize):O(0,0),E=m.iconAnchor?O(m.iconAnchor):O(0,0);u.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:b.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Td(u,m){return new Ca(u,m)}var Ni=hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return T(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xs=Ni.extend({options:{fill:!0,radius:10},initialize:function(u,m){T(this,m),this._latlng=ue(u),this._radius=this.options.radius},setLatLng:function(u){var m=this._latlng;return this._latlng=ue(u),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var m=u&&u.radius||this._radius;return Ni.prototype.setStyle.call(this,u),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,m=this._radiusY||u,b=this._clickTolerance(),E=[u+b,m+b];this._pxBounds=new R(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jd(u,m){return new xs(u,m)}var Eo=xs.extend({initialize:function(u,m,b){if(typeof m=="number"&&(m=s({},b,{radius:m})),T(this,m),this._latlng=ue(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ni.prototype.setStyle,_project:function(){var u=this._latlng.lng,m=this._latlng.lat,b=this._map,E=b.options.crs;if(E.distance===Ee.distance){var A=Math.PI/180,z=this._mRadius/Ee.R/A,K=b.project([m+z,u]),le=b.project([m-z,u]),fe=K.add(le).divideBy(2),xe=b.unproject(fe).lat,Ne=Math.acos((Math.cos(z*A)-Math.sin(m*A)*Math.sin(xe*A))/(Math.cos(m*A)*Math.cos(xe*A)))/A;(isNaN(Ne)||Ne===0)&&(Ne=z/Math.cos(Math.PI/180*m)),this._point=fe.subtract(b.getPixelOrigin()),this._radius=isNaN(Ne)?0:fe.x-b.project([xe,u-Ne]).x,this._radiusY=fe.y-K.y}else{var Be=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Be).x}this._updateBounds()}});function kd(u,m,b){return new Eo(u,m,b)}var Zi=Ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,m){T(this,m),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var m=1/0,b=null,E=_a,A,z,K=0,le=this._parts.length;K<le;K++)for(var fe=this._parts[K],xe=1,Ne=fe.length;xe<Ne;xe++){A=fe[xe-1],z=fe[xe];var Be=E(u,A,z,!0);Be<m&&(m=Be,b=E(u,A,z))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,m){return m=m||this._defaultShape(),u=ue(u),m.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new D,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Wn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var m=[],b=Wn(u),E=0,A=u.length;E<A;E++)b?(m[E]=ue(u[E]),this._bounds.extend(m[E])):m[E]=this._convertLatLngs(u[E]);return m},_project:function(){var u=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),m=new re(u,u);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(u,m,b){var E=u[0]instanceof ie,A=u.length,z,K;if(E){for(K=[],z=0;z<A;z++)K[z]=this._map.latLngToLayerPoint(u[z]),b.extend(K[z]);m.push(K)}else for(z=0;z<A;z++)this._projectLatlngs(u[z],m,b)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,E,A,z,K,le,fe;for(b=0,A=0,z=this._rings.length;b<z;b++)for(fe=this._rings[b],E=0,K=fe.length;E<K-1;E++)le=wd(fe[E],fe[E+1],u,E,!0),le&&(m[A]=m[A]||[],m[A].push(le[0]),(le[1]!==fe[E+1]||E===K-2)&&(m[A].push(le[1]),A++))}},_simplifyPoints:function(){for(var u=this._parts,m=this.options.smoothFactor,b=0,E=u.length;b<E;b++)u[b]=vd(u[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,m){var b,E,A,z,K,le,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(b=0,z=this._parts.length;b<z;b++)for(le=this._parts[b],E=0,K=le.length,A=K-1;E<K;A=E++)if(!(!m&&E===0)&&bd(u,le[A],le[E])<=fe)return!0;return!1}});function mm(u,m){return new Zi(u,m)}Zi._flat=wo;var ws=Zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var m=Zi.prototype._convertLatLngs.call(this,u),b=m.length;return b>=2&&m[0]instanceof ie&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(u){Zi.prototype._setLatLngs.call(this,u),Wn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,m=this.options.weight,b=new re(m,m);if(u=new R(u.min.subtract(b),u.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,A=this._rings.length,z;E<A;E++)z=gd(this._rings[E],u,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var m=!1,b,E,A,z,K,le,fe,xe;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(z=0,fe=this._parts.length;z<fe;z++)for(b=this._parts[z],K=0,xe=b.length,le=xe-1;K<xe;le=K++)E=b[K],A=b[le],E.y>u.y!=A.y>u.y&&u.x<(A.x-E.x)*(u.y-E.y)/(A.y-E.y)+E.x&&(m=!m);return m||Zi.prototype._containsPoint.call(this,u,!0)}});function pm(u,m){return new ws(u,m)}var Gi=ki.extend({initialize:function(u,m){T(this,m),this._layers={},u&&this.addData(u)},addData:function(u){var m=N(u)?u:u.features,b,E,A;if(m){for(b=0,E=m.length;b<E;b++)A=m[b],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var z=this.options;if(z.filter&&!z.filter(u))return this;var K=yn(u,z);return K?(K.feature=ko(u),K.defaultOptions=K.options,this.resetStyle(K),z.onEachFeature&&z.onEachFeature(u,K),this.addLayer(K)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(m){this._setLayerStyle(m,u)},this)},_setLayerStyle:function(u,m){u.setStyle&&(typeof m=="function"&&(m=m(u.feature)),u.setStyle(m))}});function yn(u,m){var b=u.type==="Feature"?u.geometry:u,E=b?b.coordinates:null,A=[],z=m&&m.pointToLayer,K=m&&m.coordsToLatLng||To,le,fe,xe,Ne;if(!E&&!b)return null;switch(b.type){case"Point":return le=K(E),Ss(z,u,le,m);case"MultiPoint":for(xe=0,Ne=E.length;xe<Ne;xe++)le=K(E[xe]),A.push(Ss(z,u,le,m));return new ki(A);case"LineString":case"MultiLineString":return fe=Ea(E,b.type==="LineString"?0:1,K),new Zi(fe,m);case"Polygon":case"MultiPolygon":return fe=Ea(E,b.type==="Polygon"?1:2,K),new ws(fe,m);case"GeometryCollection":for(xe=0,Ne=b.geometries.length;xe<Ne;xe++){var Be=yn({geometry:b.geometries[xe],type:"Feature",properties:u.properties},m);Be&&A.push(Be)}return new ki(A);case"FeatureCollection":for(xe=0,Ne=b.features.length;xe<Ne;xe++){var Je=yn(b.features[xe],m);Je&&A.push(Je)}return new ki(A);default:throw new Error("Invalid GeoJSON object.")}}function Ss(u,m,b,E){return u?u(m,b):new Ca(b,E&&E.markersInheritOptions&&E)}function To(u){return new ie(u[1],u[0],u[2])}function Ea(u,m,b){for(var E=[],A=0,z=u.length,K;A<z;A++)K=m?Ea(u[A],m-1,b):(b||To)(u[A]),E.push(K);return E}function jo(u,m){return u=ue(u),u.alt!==void 0?[x(u.lng,m),x(u.lat,m),x(u.alt,m)]:[x(u.lng,m),x(u.lat,m)]}function Ta(u,m,b,E){for(var A=[],z=0,K=u.length;z<K;z++)A.push(m?Ta(u[z],Wn(u[z])?0:m-1,b,E):jo(u[z],E));return!m&&b&&A.length>0&&A.push(A[0].slice()),A}function fr(u,m){return u.feature?s({},u.feature,{geometry:m}):ko(m)}function ko(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var mr={toGeoJSON:function(u){return fr(this,{type:"Point",coordinates:jo(this.getLatLng(),u)})}};Ca.include(mr),Eo.include(mr),xs.include(mr),Zi.include({toGeoJSON:function(u){var m=!Wn(this._latlngs),b=Ta(this._latlngs,m?1:0,!1,u);return fr(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),ws.include({toGeoJSON:function(u){var m=!Wn(this._latlngs),b=m&&!Wn(this._latlngs[0]),E=Ta(this._latlngs,b?2:m?1:0,!0,u);return m||(E=[E]),fr(this,{type:(b?"Multi":"")+"Polygon",coordinates:E})}}),_s.include({toMultiPoint:function(u){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(u).geometry.coordinates)}),fr(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(u){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(u);var b=m==="GeometryCollection",E=[];return this.eachLayer(function(A){if(A.toGeoJSON){var z=A.toGeoJSON(u);if(b)E.push(z.geometry);else{var K=ko(z);K.type==="FeatureCollection"?E.push.apply(E,K.features):E.push(K)}}}),b?fr(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function $o(u,m){return new Gi(u,m)}var ja=$o,Cs=hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,m,b){this._url=u,this._bounds=ce(m),T(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&cn(this._image),this},bringToBack:function(){return this._map&&Dr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ce(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",m=this._image=u?this._url:it("img");if(Ye(m,"leaflet-image-layer"),this._zoomAnimated&&Ye(m,"leaflet-zoom-animated"),this.options.className&&Ye(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=l(this.fire,this,"load"),m.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(u){var m=this._map.getZoomScale(u.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Hi(this._image,b,m)},_reset:function(){var u=this._image,m=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();kt(u,m.min),u.style.width=b.x+"px",u.style.height=b.y+"px"},_updateOpacity:function(){Pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),$d=function(u,m,b){return new Cs(u,m,b)},pr=Cs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",m=this._image=u?this._url:it("video");if(Ye(m,"leaflet-image-layer"),this._zoomAnimated&&Ye(m,"leaflet-zoom-animated"),this.options.className&&Ye(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=l(this.fire,this,"load"),u){for(var b=m.getElementsByTagName("source"),E=[],A=0;A<b.length;A++)E.push(b[A].src);this._url=b.length>0?E:[m.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var K=it("source");K.src=this._url[z],m.appendChild(K)}}});function Es(u,m,b){return new pr(u,m,b)}var No=Cs.extend({_initImage:function(){var u=this._image=this._url;Ye(u,"leaflet-image-layer"),this._zoomAnimated&&Ye(u,"leaflet-zoom-animated"),this.options.className&&Ye(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function Nd(u,m,b){return new No(u,m,b)}var vn=hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,m){u&&(u instanceof ie||N(u))?(this._latlng=ue(u),T(this,m)):(T(this,u),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Pt(this._container,1),this.bringToFront(),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Pt(this._container,0),this._removeTimeout=setTimeout(l(Ct,void 0,this._container),200)):Ct(this._container),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=ue(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&cn(this._container),this},bringToBack:function(){return this._map&&Dr(this._container),this},_prepareOpen:function(u){var m=this._source;if(!m._map)return!1;if(m instanceof ki){m=null;var b=this._source._layers;for(var E in b)if(b[E]._map){m=b[E];break}if(!m)return!1;this._source=m}if(!u)if(m.getCenter)u=m.getCenter();else if(m.getLatLng)u=m.getLatLng();else if(m.getBounds)u=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")u.innerHTML=m;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),m=O(this.options.offset),b=this._getAnchor();this._zoomAnimated?kt(this._container,u.add(b)):m=m.add(u).add(b);var E=this._containerBottom=-m.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=E+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(u,m,b,E){var A=m;return A instanceof u||(A=new u(E).setContent(m)),b&&A.setLatLng(b),A}}),hi.include({_initOverlay:function(u,m,b,E){var A=b;return A instanceof u?(T(A,E),A._source=this):(A=m&&!E?m:new u(E,this),A.setContent(b)),A}});var ka=vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,vn.prototype.openOn.call(this,u)},onAdd:function(u){vn.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ni||this._source.on("preclick",di))},onRemove:function(u){vn.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ni||this._source.off("preclick",di))},getEvents:function(){var u=vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",m=this._container=it("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=it("div",u+"-content-wrapper",m);if(this._contentNode=it("div",u+"-content",b),Ir(m),Ti(this._contentNode),Ze(m,"contextmenu",di),this._tipContainer=it("div",u+"-tip-container",m),this._tip=it("div",u+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=it("a",u+"-close-button",m);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',Ze(E,"click",function(A){Ft(A),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,m=u.style;m.width="",m.whiteSpace="nowrap";var b=u.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var E=u.offsetHeight,A=this.options.maxHeight,z="leaflet-popup-scrolled";A&&E>A?(m.height=A+"px",Ye(u,z)):Ot(u,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),b=this._getAnchor();kt(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,m=parseInt(ha(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,E=this._containerWidth,A=new re(this._containerLeft,-b-this._containerBottom);A._add(cr(this._container));var z=u.layerPointToContainerPoint(A),K=O(this.options.autoPanPadding),le=O(this.options.autoPanPaddingTopLeft||K),fe=O(this.options.autoPanPaddingBottomRight||K),xe=u.getSize(),Ne=0,Be=0;z.x+E+fe.x>xe.x&&(Ne=z.x+E-xe.x+fe.x),z.x-Ne-le.x<0&&(Ne=z.x-le.x),z.y+b+fe.y>xe.y&&(Be=z.y+b-xe.y+fe.y),z.y-Be-le.y<0&&(Be=z.y-le.y),(Ne||Be)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Ne,Be]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ld=function(u,m){return new ka(u,m)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(u,m,b){return this._initOverlay(ka,u,m,b).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),hi.include({bindPopup:function(u,m){return this._popup=this._initOverlay(ka,this._popup,u,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ki||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){dr(u);var m=u.layer||u.target;if(this._popup._source===m&&!(m instanceof Ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=m,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var $a=vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){vn.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){vn.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=vn.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",m=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var m,b,E=this._map,A=this._container,z=E.latLngToContainerPoint(E.getCenter()),K=E.layerPointToContainerPoint(u),le=this.options.direction,fe=A.offsetWidth,xe=A.offsetHeight,Ne=O(this.options.offset),Be=this._getAnchor();le==="top"?(m=fe/2,b=xe):le==="bottom"?(m=fe/2,b=0):le==="center"?(m=fe/2,b=xe/2):le==="right"?(m=0,b=xe/2):le==="left"?(m=fe,b=xe/2):K.x<z.x?(le="right",m=0,b=xe/2):(le="left",m=fe+(Ne.x+Be.x)*2,b=xe/2),u=u.subtract(O(m,b,!0)).add(Ne).add(Be),Ot(A,"leaflet-tooltip-right"),Ot(A,"leaflet-tooltip-left"),Ot(A,"leaflet-tooltip-top"),Ot(A,"leaflet-tooltip-bottom"),Ye(A,"leaflet-tooltip-"+le),kt(A,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Pt(this._container,u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(m)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gm=function(u,m){return new $a(u,m)};ot.include({openTooltip:function(u,m,b){return this._initOverlay($a,u,m,b).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),hi.include({bindTooltip:function(u,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($a,this._tooltip,u,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var m=u?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ki||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&(Ze(m,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),Ze(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var m=u.latlng,b,E;this._tooltip.options.sticky&&u.originalEvent&&(b=this._map.mouseEventToContainerPoint(u.originalEvent),E=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(m)}});var Ad=$i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var m=u&&u.tagName==="DIV"?u:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Gn(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var E=O(b.bgPos);m.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function ym(u){return new Ad(u)}$i.Default=wa;var Ts=hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){T(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Ct(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(cn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof re?u:new re(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var m=this.getPane().children,b=-u(-1/0,1/0),E=0,A=m.length,z;E<A;E++)z=m[E].style.zIndex,m[E]!==this._container&&z&&(b=u(b,+z));isFinite(b)&&(this.options.zIndex=b+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Pt(this._container,this.options.opacity);var u=+new Date,m=!1,b=!1;for(var E in this._tiles){var A=this._tiles[E];if(!(!A.current||!A.loaded)){var z=Math.min(1,(u-A.loaded)/200);Pt(A.el,z),z<1?m=!0:(A.active?b=!0:this._onOpaqueTile(A),A.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(X(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,m=this.options.maxZoom;if(u!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===u?(this._levels[b].el.style.zIndex=m-Math.abs(u-b),this._onUpdateLevel(b)):(Ct(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var E=this._levels[u],A=this._map;return E||(E=this._levels[u]={},E.el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=m,E.origin=A.project(A.unproject(A.getPixelOrigin()),u).round(),E.zoom=u,this._setZoomTransform(E,A.getCenter(),A.getZoom()),v(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)m=this._tiles[u],m.retain=m.current;for(u in this._tiles)if(m=this._tiles[u],m.current&&!m.active){var E=m.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var m in this._tiles)this._tiles[m].coords.z===u&&this._removeTile(m)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Ct(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,m,b,E){var A=Math.floor(u/2),z=Math.floor(m/2),K=b-1,le=new re(+A,+z);le.z=+K;var fe=this._tileCoordsToKey(le),xe=this._tiles[fe];return xe&&xe.active?(xe.retain=!0,!0):(xe&&xe.loaded&&(xe.retain=!0),K>E?this._retainParent(A,z,K,E):!1)},_retainChildren:function(u,m,b,E){for(var A=2*u;A<2*u+2;A++)for(var z=2*m;z<2*m+2;z++){var K=new re(A,z);K.z=b+1;var le=this._tileCoordsToKey(K),fe=this._tiles[le];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);b+1<E&&this._retainChildren(A,z,b+1,E)}},_resetView:function(u){var m=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var m=this.options;return m.minNativeZoom!==void 0&&u<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<u?m.maxNativeZoom:u},_setView:function(u,m,b,E){var A=Math.round(m);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var z=this.options.updateWhenZooming&&A!==this._tileZoom;(!E||z)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(u),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(u,m)},_setZoomTransforms:function(u,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],u,m)},_setZoomTransform:function(u,m,b){var E=this._map.getZoomScale(b,u.zoom),A=u.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(m,b)).round();ze.any3d?Hi(u.el,A,E):kt(u.el,A)},_resetGrid:function(){var u=this._map,m=u.options.crs,b=this._tileSize=this.getTileSize(),E=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,m.wrapLng[0]],E).x/b.x),Math.ceil(u.project([0,m.wrapLng[1]],E).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([m.wrapLat[0],0],E).y/b.x),Math.ceil(u.project([m.wrapLat[1],0],E).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),E=m.getZoomScale(b,this._tileZoom),A=m.project(u,this._tileZoom).floor(),z=m.getSize().divideBy(E*2);return new R(A.subtract(z),A.add(z))},_update:function(u){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(u===void 0&&(u=m.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(u),A=this._pxBoundsToTileRange(E),z=A.getCenter(),K=[],le=this.options.keepBuffer,fe=new R(A.getBottomLeft().subtract([le,-le]),A.getTopRight().add([le,-le]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xe in this._tiles){var Ne=this._tiles[xe].coords;(Ne.z!==this._tileZoom||!fe.contains(new re(Ne.x,Ne.y)))&&(this._tiles[xe].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(u,b);return}for(var Be=A.min.y;Be<=A.max.y;Be++)for(var Je=A.min.x;Je<=A.max.x;Je++){var dn=new re(Je,Be);if(dn.z=this._tileZoom,!!this._isValidTile(dn)){var qt=this._tiles[this._tileCoordsToKey(dn)];qt?qt.current=!0:K.push(dn)}}if(K.sort(function(ht,ft){return ht.distanceTo(z)-ft.distanceTo(z)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var In=document.createDocumentFragment();for(Je=0;Je<K.length;Je++)this._addTile(K[Je],In);this._level.el.appendChild(In)}}}},_isValidTile:function(u){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(u.x<b.min.x||u.x>b.max.x)||!m.wrapLat&&(u.y<b.min.y||u.y>b.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(u);return ce(this.options.bounds).overlaps(E)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var m=this._map,b=this.getTileSize(),E=u.scaleBy(b),A=E.add(b),z=m.unproject(E,u.z),K=m.unproject(A,u.z);return[z,K]},_tileCoordsToBounds:function(u){var m=this._tileCoordsToNwSe(u),b=new D(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var m=u.split(":"),b=new re(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(u){var m=this._tiles[u];m&&(Ct(m.el),delete this._tiles[u],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Ye(u,"leaflet-tile");var m=this.getTileSize();u.style.width=m.x+"px",u.style.height=m.y+"px",u.onselectstart=v,u.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Pt(u,this.options.opacity)},_addTile:function(u,m){var b=this._getTilePos(u),E=this._tileCoordsToKey(u),A=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(A),this.createTile.length<2&&q(l(this._tileReady,this,u,null,A)),kt(A,b),this._tiles[E]={el:A,coords:u,current:!0},m.appendChild(A),this.fire("tileloadstart",{tile:A,coords:u})},_tileReady:function(u,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:u});var E=this._tileCoordsToKey(u);b=this._tiles[E],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Pt(b.el,0),X(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(Ye(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var m=new re(this._wrapX?y(u.x,this._wrapX):u.x,this._wrapY?y(u.y,this._wrapY):u.y);return m.z=u.z,m},_pxBoundsToTileRange:function(u){var m=this.getTileSize();return new R(u.min.unscaleBy(m).floor(),u.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Pd(u){return new Ts(u)}var gr=Ts.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,m){this._url=u,m=T(this,m),m.detectRetina&&ze.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,m){return this._url===u&&m===void 0&&(m=!0),this._url=u,m||this.redraw(),this},createTile:function(u,m){var b=document.createElement("img");return Ze(b,"load",l(this._tileOnLoad,this,m,b)),Ze(b,"error",l(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(u),b},getTileUrl:function(u){var m={r:ze.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-u.y;this.options.tms&&(m.y=b),m["-y"]=b}return P(this._url,s(m,this.options))},_tileOnLoad:function(u,m){ze.ielt9?setTimeout(l(u,this,null,m),0):u(null,m)},_tileOnError:function(u,m,b){var E=this.options.errorTileUrl;E&&m.getAttribute("src")!==E&&(m.src=E),u(b,m)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,E=this.options.zoomOffset;return b&&(u=m-u),u+E},_getSubdomain:function(u){var m=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var u,m;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(m=this._tiles[u].el,m.onload=v,m.onerror=v,!m.complete)){m.src=H;var b=this._tiles[u].coords;Ct(m),delete this._tiles[u],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(u){var m=this._tiles[u];if(m)return m.el.setAttribute("src",H),Ts.prototype._removeTile.call(this,u)},_tileReady:function(u,m,b){if(!(!this._map||b&&b.getAttribute("src")===H))return Ts.prototype._tileReady.call(this,u,m,b)}});function Yn(u,m){return new gr(u,m)}var Na=gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,m){this._url=u;var b=s({},this.defaultWmsParams);for(var E in m)E in this.options||(b[E]=m[E]);m=T(this,m);var A=m.detectRetina&&ze.retina?2:1,z=this.getTileSize();b.width=z.x*A,b.height=z.y*A,this.wmsParams=b},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,gr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var m=this._tileCoordsToNwSe(u),b=this._crs,E=J(b.project(m[0]),b.project(m[1])),A=E.min,z=E.max,K=(this._wmsVersion>=1.3&&this._crs===fu?[A.y,A.x,z.y,z.x]:[A.x,A.y,z.x,z.y]).join(","),le=gr.prototype.getTileUrl.call(this,u);return le+k(this.wmsParams,le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(u,m){return s(this.wmsParams,u),m||this.redraw(),this}});function Xn(u,m){return new Na(u,m)}gr.WMS=Na,Yn.wms=Xn;var $n=hi.extend({options:{padding:.1},initialize:function(u){T(this,u),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,m){var b=this._map.getZoomScale(m,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,m),z=E.multiplyBy(-b).add(A).subtract(this._map._getNewPixelOrigin(u,m));ze.any3d?Hi(this._container,z,b):kt(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-u)).round();this._bounds=new R(b,b.add(m.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lo=$n.extend({options:{tolerance:0},getEvents:function(){var u=$n.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");Ze(u,"mousemove",this._onMouseMove,this),Ze(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ze(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Ct(this._container),vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var m in this._layers)u=this._layers[m],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$n.prototype._update.call(this);var u=this._bounds,m=this._container,b=u.getSize(),E=ze.retina?2:1;kt(m,u.min),m.width=E*b.x,m.height=E*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){$n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[f(u)]=u;var m=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var m=u._order,b=m.next,E=m.prev;b?b.prev=E:this._drawLast=E,E?E.next=b:this._drawFirst=b,delete u._order,delete this._layers[f(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var m=u.options.dashArray.split(/[, ]+/),b=[],E,A;for(A=0;A<m.length;A++){if(E=Number(m[A]),isNaN(E))return;b.push(E)}u.options._dashArray=b}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var m=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(u._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(u._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var m=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)u=E.layer,(!m||u._pxBounds&&u._pxBounds.intersects(m))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,m){if(this._drawing){var b,E,A,z,K=u._parts,le=K.length,fe=this._ctx;if(le){for(fe.beginPath(),b=0;b<le;b++){for(E=0,A=K[b].length;E<A;E++)z=K[b][E],fe[E?"lineTo":"moveTo"](z.x,z.y);m&&fe.closePath()}this._fillStroke(fe,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var m=u._point,b=this._ctx,E=Math.max(Math.round(u._radius),1),A=(Math.max(Math.round(u._radiusY),1)||E)/E;A!==1&&(b.save(),b.scale(1,A)),b.beginPath(),b.arc(m.x,m.y/A,E,0,Math.PI*2,!1),A!==1&&b.restore(),this._fillStroke(b,u)}},_fillStroke:function(u,m){var b=m.options;b.fill&&(u.globalAlpha=b.fillOpacity,u.fillStyle=b.fillColor||b.color,u.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(u.setLineDash&&u.setLineDash(m.options&&m.options._dashArray||[]),u.globalAlpha=b.opacity,u.lineWidth=b.weight,u.strokeStyle=b.color,u.lineCap=b.lineCap,u.lineJoin=b.lineJoin,u.stroke())},_onClick:function(u){for(var m=this._map.mouseEventToLayerPoint(u),b,E,A=this._drawFirst;A;A=A.next)b=A.layer,b.options.interactive&&b._containsPoint(m)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(b))&&(E=b);this._fireEvent(E?[E]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,m)}},_handleMouseOut:function(u){var m=this._hoveredLayer;m&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([m],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,m){if(!this._mouseHoverThrottled){for(var b,E,A=this._drawFirst;A;A=A.next)b=A.layer,b.options.interactive&&b._containsPoint(m)&&(E=b);E!==this._hoveredLayer&&(this._handleMouseOut(u),E&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([E],u,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,m,b){this._map._fireDOMEvent(m,b||m.type,u)},_bringToFront:function(u){var m=u._order;if(m){var b=m.next,E=m.prev;if(b)b.prev=E;else return;E?E.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(u)}},_bringToBack:function(u){var m=u._order;if(m){var b=m.next,E=m.prev;if(E)E.next=b;else return;b?b.prev=E:E&&(this._drawLast=E),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(u)}}});function La(u){return ze.canvas?new Lo(u):null}var yr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),mu={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($n.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var m=u._container=yr("shape");Ye(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",u._path=yr("path"),m.appendChild(u._path),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){var m=u._container;this._container.appendChild(m),u.options.interactive&&u.addInteractiveTarget(m)},_removePath:function(u){var m=u._container;Ct(m),u.removeInteractiveTarget(m),delete this._layers[f(u)]},_updateStyle:function(u){var m=u._stroke,b=u._fill,E=u.options,A=u._container;A.stroked=!!E.stroke,A.filled=!!E.fill,E.stroke?(m||(m=u._stroke=yr("stroke")),A.appendChild(m),m.weight=E.weight+"px",m.color=E.color,m.opacity=E.opacity,E.dashArray?m.dashStyle=N(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=E.lineCap.replace("butt","flat"),m.joinstyle=E.lineJoin):m&&(A.removeChild(m),u._stroke=null),E.fill?(b||(b=u._fill=yr("fill")),A.appendChild(b),b.color=E.fillColor||E.color,b.opacity=E.fillOpacity):b&&(A.removeChild(b),u._fill=null)},_updateCircle:function(u){var m=u._point.round(),b=Math.round(u._radius),E=Math.round(u._radiusY||b);this._setPath(u,u._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+E+" 0,"+65535*360)},_setPath:function(u,m){u._path.v=m},_bringToFront:function(u){cn(u._container)},_bringToBack:function(u){Dr(u._container)}},Li=ze.vml?yr:ct,js=$n.extend({_initContainer:function(){this._container=Li("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Li("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ct(this._container),vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$n.prototype._update.call(this);var u=this._bounds,m=u.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),kt(b,u.min),b.setAttribute("viewBox",[u.min.x,u.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(u){var m=u._path=Li("path");u.options.className&&Ye(m,u.options.className),u.options.interactive&&Ye(m,"leaflet-interactive"),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Ct(u._path),u.removeInteractiveTarget(u._path),delete this._layers[f(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var m=u._path,b=u.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(u,m){this._setPath(u,Pe(u._parts,m))},_updateCircle:function(u){var m=u._point,b=Math.max(Math.round(u._radius),1),E=Math.max(Math.round(u._radiusY),1)||b,A="a"+b+","+E+" 0 1,0 ",z=u._empty()?"M0 0":"M"+(m.x-b)+","+m.y+A+b*2+",0 "+A+-b*2+",0 ";this._setPath(u,z)},_setPath:function(u,m){u._path.setAttribute("d",m)},_bringToFront:function(u){cn(u._path)},_bringToBack:function(u){Dr(u._path)}});ze.vml&&js.include(mu);function Aa(u){return ze.svg||ze.vml?new js(u):null}ot.include({getRenderer:function(u){var m=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var m=this._paneRenderers[u];return m===void 0&&(m=this._createRenderer({pane:u}),this._paneRenderers[u]=m),m},_createRenderer:function(u){return this.options.preferCanvas&&La(u)||Aa(u)}});var Ur=ws.extend({initialize:function(u,m){ws.prototype.initialize.call(this,this._boundsToLatLngs(u),m)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=ce(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function vm(u,m){return new Ur(u,m)}js.create=Li,js.pointsToPath=Pe,Gi.geometryToLayer=yn,Gi.coordsToLatLng=To,Gi.coordsToLatLngs=Ea,Gi.latLngToCoords=jo,Gi.latLngsToCoords=Ta,Gi.getFeature=fr,Gi.asFeature=ko,ot.mergeOptions({boxZoom:!0});var Nn=ji.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fs(),yo(),this._startPoint=this._map.mouseEventToContainerPoint(u),Ze(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),Ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var m=new R(this._point,this._startPoint),b=m.getSize();kt(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Ct(this._box),Ot(this._container,"leaflet-crosshair")),Ei(),ma(),vt(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var m=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",Nn),ot.mergeOptions({doubleClickZoom:!0});var Ao=ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var m=this._map,b=m.getZoom(),E=m.options.zoomDelta,A=u.originalEvent.shiftKey?b-E:b+E;m.options.doubleClickZoom==="center"?m.setZoom(A):m.setZoomAround(u.containerPoint,A)}});ot.addInitHook("addHandler","doubleClickZoom",Ao),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ai=ji.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new hr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,"leaflet-grab"),Ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=ce(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,m){return u-(u-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;u.x<m.min.x&&(u.x=this._viscousLimit(u.x,m.min.x)),u.y<m.min.y&&(u.y=this._viscousLimit(u.y,m.min.y)),u.x>m.max.x&&(u.x=this._viscousLimit(u.x,m.max.x)),u.y>m.max.y&&(u.y=this._viscousLimit(u.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,m=Math.round(u/2),b=this._initialWorldOffset,E=this._draggable._newPos.x,A=(E-m+b)%u+m-b,z=(E+m+b)%u-m-b,K=Math.abs(A+b)<Math.abs(z+b)?A:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(u){var m=this._map,b=m.options,E=!b.inertia||u.noInertia||this._times.length<2;if(m.fire("dragend",u),E)m.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,K=b.easeLinearity,le=A.multiplyBy(K/z),fe=le.distanceTo([0,0]),xe=Math.min(b.inertiaMaxSpeed,fe),Ne=le.multiplyBy(xe/fe),Be=xe/(b.inertiaDeceleration*K),Je=Ne.multiplyBy(-Be/2).round();!Je.x&&!Je.y?m.fire("moveend"):(Je=m._limitOffset(Je,m.options.maxBounds),q(function(){m.panBy(Je,{duration:Be,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",Ai),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pu=ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),Ze(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,m=document.documentElement,b=u.scrollTop||m.scrollTop,E=u.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(E,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var m=this._panKeys={},b=this.keyCodes,E,A;for(E=0,A=b.left.length;E<A;E++)m[b.left[E]]=[-1*u,0];for(E=0,A=b.right.length;E<A;E++)m[b.right[E]]=[u,0];for(E=0,A=b.down.length;E<A;E++)m[b.down[E]]=[0,u];for(E=0,A=b.up.length;E<A;E++)m[b.up[E]]=[0,-1*u]},_setZoomDelta:function(u){var m=this._zoomKeys={},b=this.keyCodes,E,A;for(E=0,A=b.zoomIn.length;E<A;E++)m[b.zoomIn[E]]=u;for(E=0,A=b.zoomOut.length;E<A;E++)m[b.zoomOut[E]]=-u},_addHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var m=u.keyCode,b=this._map,E;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(E=this._panKeys[m],u.shiftKey&&(E=O(E).multiplyBy(3)),b.options.maxBounds&&(E=b._limitOffset(O(E),b.options.maxBounds)),b.options.worldCopyJump){var A=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(E)));b.panTo(A)}else b.panBy(E)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;dr(u)}}});ot.addInitHook("addHandler","keyboard",pu),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pa=ji.extend({addHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var m=wn(u),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var E=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),E),dr(u)},_performZoom:function(){var u=this._map,m=u.getZoom(),b=this._map.options.zoomSnap||0;u._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,z=b?Math.ceil(A/b)*b:A,K=u._limitZoom(m+(this._delta>0?z:-z))-m;this._delta=0,this._startTime=null,K&&(u.options.scrollWheelZoom==="center"?u.setZoom(m+K):u.setZoomAround(this._lastMousePos,m+K))}});ot.addInitHook("addHandler","scrollWheelZoom",Pa);var Vr=600;ot.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Po=ji.extend({addHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var m=u.touches[0];this._startPos=this._newPos=new re(m.clientX,m.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ze(document,"touchend",Ft),Ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),Vr),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){vt(document,"touchend",Ft),vt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)},_onMove:function(u){var m=u.touches[0];this._newPos=new re(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,m){var b=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});ot.addInitHook("addHandler","tapHold",Po),ot.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var gu=ji.extend({addHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var m=this._map;if(!(!u.touches||u.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(u.touches[0]),E=m.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(E)._divideBy(2))),this._startDist=b.distanceTo(E),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),Ft(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(u.touches[0]),E=m.mouseEventToContainerPoint(u.touches[1]),A=b.distanceTo(E)/this._startDist;if(this._zoom=m.getScaleZoom(A,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&A<1||this._zoom>m.getMaxZoom()&&A>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var z=b._add(E)._divideBy(2)._subtract(this._centerPoint);if(A===1&&z.x===0&&z.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var K=l(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(K,this,!0),Ft(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",gu),ot.BoxZoom=Nn,ot.DoubleClickZoom=Ao,ot.Drag=Ai,ot.Keyboard=pu,ot.ScrollWheelZoom=Pa,ot.TapHold=Po,ot.TouchZoom=gu,n.Bounds=R,n.Browser=ze,n.CRS=Te,n.Canvas=Lo,n.Circle=Eo,n.CircleMarker=xs,n.Class=Q,n.Control=zn,n.DivIcon=Ad,n.DivOverlay=vn,n.DomEvent=_o,n.DomUtil=gs,n.Draggable=hr,n.Evented=G,n.FeatureGroup=ki,n.GeoJSON=Gi,n.GridLayer=Ts,n.Handler=ji,n.Icon=$i,n.ImageOverlay=Cs,n.LatLng=ie,n.LatLngBounds=D,n.Layer=hi,n.LayerGroup=_s,n.LineUtil=hm,n.Map=ot,n.Marker=Ca,n.Mixin=lm,n.Path=Ni,n.Point=re,n.PolyUtil=du,n.Polygon=ws,n.Polyline=Zi,n.Popup=ka,n.PosAnimation=ys,n.Projection=Sd,n.Rectangle=Ur,n.Renderer=$n,n.SVG=js,n.SVGOverlay=No,n.TileLayer=gr,n.Tooltip=$a,n.Transformation=ee,n.Util=oe,n.VideoOverlay=pr,n.bind=l,n.bounds=J,n.canvas=La,n.circle=kd,n.circleMarker=jd,n.control=qi,n.divIcon=ym,n.extend=s,n.featureGroup=Ed,n.geoJSON=$o,n.geoJson=ja,n.gridLayer=Pd,n.icon=xa,n.imageOverlay=$d,n.latLng=ue,n.latLngBounds=ce,n.layerGroup=fm,n.map=su,n.marker=Td,n.point=O,n.polygon=pm,n.polyline=mm,n.popup=Ld,n.rectangle=vm,n.setOptions=T,n.stamp=f,n.svg=Aa,n.svgOverlay=Nd,n.tileLayer=Yn,n.tooltip=gm,n.transformation=ke,n.version=i,n.videoOverlay=Es;var yu=window.L;n.noConflict=function(){return window.L=yu,this},window.L=n}))})(lc,lc.exports)),lc.exports}var Hl=Gy();const Dt=lo(Hl);function Zf(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Gf(e,t){return t==null?function(i,s){const a=j.useRef(void 0);return a.current||(a.current=e(i,s)),a}:function(i,s){const a=j.useRef(void 0);a.current||(a.current=e(i,s));const l=j.useRef(i),{instance:d}=a.current;return j.useEffect(function(){l.current!==i&&(t(d,i,l.current),l.current=i)},[d,i,t]),a}}function X5(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Q5(e){return function(n){const i=Ff(),s=e(qf(n,i),i);return W5(i.map,n.attribution),Zy(s.current,n.eventHandlers),X5(s.current,i),s}}function rO(e,t){const n=j.useRef(void 0);j.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function sO(e){return function(n){const i=Ff(),s=e(qf(n,i),i);return Zy(s.current,n.eventHandlers),X5(s.current,i),rO(s.current,n),s}}function aO(e,t){const n=Gf(e,t),i=Q5(n);return Y5(i)}function J5(e,t){const n=Gf(e),i=nO(n,t);return eO(i)}function oO(e,t){const n=Gf(e,t),i=sO(n);return Y5(i)}function lO(e,t){const n=Gf(e,t),i=Q5(n);return tO(i)}function uO(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function cO(){return Ff().map}function dO({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:a,placeholder:l,style:d,whenReady:f,zoom:g,...y},v){const[x]=j.useState({className:s,id:a,style:d}),[w,C]=j.useState(null),T=j.useRef(void 0);j.useImperativeHandle(v,()=>w?.map??null,[w]);const k=j.useCallback(P=>{if(P!==null&&!T.current){const N=new Hl.Map(P,y);T.current=N,n!=null&&g!=null?N.setView(n,g):e!=null&&N.fitBounds(e,t),f!=null&&N.whenReady(f),C(QM(N))}},[]);j.useEffect(()=>()=>{w?.map.remove()},[w]);const $=w?Si.createElement(qy,{value:w},i):l??null;return Si.createElement("div",{...x,ref:k},$)}const hO=j.forwardRef(dO),e4=aO(function({position:t,...n},i){const s=new Hl.Marker(t,n);return Zf(s,JM(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Kf=J5(function(t,n){const i=new Hl.Popup(t,n.overlayContainer);return Zf(i,n)},function(t,n,{position:i},s){j.useEffect(function(){const{instance:l}=t;function d(g){g.popup===l&&(l.update(),s(!0))}function f(g){g.popup===l&&s(!1)}return n.map.on({popupopen:d,popupclose:f}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:d,popupclose:f}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),fO=lO(function({url:t,...n},i){const s=new Hl.TileLayer(t,qf(n,i));return Zf(s,i)},function(t,n,i){uO(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),mO=J5(function(t,n){const i=new Hl.Tooltip(t,n.overlayContainer);return Zf(i,n)},function(t,n,{position:i},s){j.useEffect(function(){const l=n.overlayContainer;if(l==null)return;const{instance:d}=t,f=y=>{y.tooltip===d&&(i!=null&&d.setLatLng(i),d.update(),s(!0))},g=y=>{y.tooltip===d&&s(!1)};return l.on({tooltipopen:f,tooltipclose:g}),l.bindTooltip(d),function(){l.off({tooltipopen:f,tooltipclose:g}),l._map!=null&&l.unbindTooltip()}},[t,n,s,i])});L.Icon.Glyph=L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"",prefix:"",glyph:"home",glyphColor:"white",glyphSize:"11px",glyphAnchor:[0,0]},createIcon:function(){var e=document.createElement("div"),t=this.options;return t.glyph&&e.appendChild(this._createGlyph()),e.style.position="relative",this._setIconStyles(e,t.className),e},_createGlyph:function(){var e,t,n=this.options;n.prefix?n.prefix==="fab"||n.prefix==="fal"||n.prefix==="far"||n.prefix==="fas"?e="fa-"+n.glyph:n.glyph.slice(0,n.prefix.length+1)===n.prefix+"-"?e=n.glyph:e=n.prefix+"-"+n.glyph:(e="",t=n.glyph);var i=L.DomUtil.create("span",n.prefix+" "+e);return i.style.position="absolute",i.style.fontSize=n.glyphSize,i.style.color=n.glyphColor,i.style.width=n.iconSize[0]+"px",i.style.lineHeight=n.iconSize[1]+"px",i.style.textAlign="center",i.style.left=n.glyphAnchor[0]+"px",i.style.top=n.glyphAnchor[1]+"px",i.style.pointerEvents="none",i.style.display="inline-block",t&&(i.innerHTML=t),i},_setIconStyles:function(e,t){if(t==="shadow")return L.Icon.prototype._setIconStyles.call(this,e,t);var n=this.options,i=L.point(n.iconSize),s=L.point(n.iconAnchor);!s&&i&&(s=i.divideBy(2,!0)),e.className="leaflet-marker-icon leaflet-glyph-icon "+t;var a=this._getIconUrl("icon");a&&(e.style.backgroundImage="url('"+a+"')"),n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.bgSize&&(e.style.backgroundSize=n.bgSize.x+"px "+n.bgSize.y+"px"),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")}});L.icon.glyph=function(e){return new L.Icon.Glyph(e)};L.Icon.Glyph.prototype.options.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=";function Ky({glyph:e,glyphColor:t="white",bgColor:n="white",glyphSize:i="8px",iconUrl:s="/Mapassets/icons/glyph-marker-icon-blue.svg",className:a,iconSize:l,prefix:d,glyphAnchor:f,isActive:g}){let y=i;typeof y=="number"?y=`${y}px`:typeof y=="string"&&!y.endsWith("px")?y=`${y}px`:y||(y="8px");const v=l||[25,41],x=Math.round(v[0]*(41/25)),w=Math.round(v[1]*(41/41)),C=Math.round(x*12/41),T=w,k=Ol();return Dt.icon.glyph({iconUrl:s||`${k}assets/icons/glyph-marker-icon-blue.svg`,iconSize:v,iconAnchor:[Math.round(v[0]/2),v[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:`${k}assets/icons/marker-shadow.png`,shadowSize:[x,w],shadowAnchor:[C,T],prefix:d||"",glyph:e||"",glyphColor:t||"white",bgColor:n,glyphSize:y,glyphAnchor:f||[0,0],className:g?`${a} marker-active`:a||""})}function Wy(e="md"){const t={sm:"(max-width: 639px)",md:"(max-width: 767px)",lg:"(max-width: 1023px)",xl:"(max-width: 1279px)","2xl":"(max-width: 1535px)"},n=t[e]||t.md,[i,s]=j.useState(()=>typeof window<"u"?window.matchMedia(n).matches:!1);return j.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia(n),l=()=>s(a.matches);return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[n]),i}const Yy=j.createContext({});function Xy(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qy=typeof window<"u",t4=Qy?j.useLayoutEffect:j.useEffect,Wf=j.createContext(null);function Jy(e,t){e.indexOf(t)===-1&&e.push(t)}function e1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const os=(e,t,n)=>n>t?t:n<e?e:n;let t1=()=>{};const ls={},n4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function i4(e){return typeof e=="object"&&e!==null}const r4=e=>/^0[^.\s]+$/u.test(e);function n1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bi=e=>e,pO=(e,t)=>n=>t(e(n)),td=(...e)=>e.reduce(pO),Rc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class i1{constructor(){this.subscriptions=[]}add(t){return Jy(this.subscriptions,t),()=>e1(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tr=e=>e*1e3,Ii=e=>e/1e3;function s4(e,t){return t?e*(1e3/t):0}const a4=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gO=1e-7,yO=12;function vO(e,t,n,i,s){let a,l,d=0;do l=t+(n-t)/2,a=a4(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>gO&&++d<yO);return l}function nd(e,t,n,i){if(e===t&&n===i)return Bi;const s=a=>vO(a,0,1,e,n);return a=>a===0||a===1?a:a4(s(a),t,i)}const o4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,l4=e=>t=>1-e(1-t),u4=nd(.33,1.53,.69,.99),r1=l4(u4),c4=o4(r1),d4=e=>(e*=2)<1?.5*r1(e):.5*(2-Math.pow(2,-10*(e-1))),s1=e=>1-Math.sin(Math.acos(e)),h4=l4(s1),f4=o4(s1),bO=nd(.42,0,1,1),_O=nd(0,0,.58,1),m4=nd(.42,0,.58,1),xO=e=>Array.isArray(e)&&typeof e[0]!="number",p4=e=>Array.isArray(e)&&typeof e[0]=="number",wO={linear:Bi,easeIn:bO,easeInOut:m4,easeOut:_O,circIn:s1,circInOut:f4,circOut:h4,backIn:r1,backInOut:c4,backOut:u4,anticipate:d4},SO=e=>typeof e=="string",X2=e=>{if(p4(e)){t1(e.length===4);const[t,n,i,s]=e;return nd(t,n,i,s)}else if(SO(e))return wO[e];return e},qh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CO(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,v=!1,x=!1)=>{const C=x&&s?n:i;return v&&l.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(d=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,g.process(y))}};return g}const EO=40;function g4(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=qh.reduce((N,U)=>(N[U]=CO(a),N),{}),{setup:d,read:f,resolveKeyframes:g,preUpdate:y,update:v,preRender:x,render:w,postRender:C}=l,T=()=>{const N=ls.useManualTiming?s.timestamp:performance.now();n=!1,ls.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(N-s.timestamp,EO),1)),s.timestamp=N,s.isProcessing=!0,d.process(s),f.process(s),g.process(s),y.process(s),v.process(s),x.process(s),w.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(T))},k=()=>{n=!0,i=!0,s.isProcessing||e(T)};return{schedule:qh.reduce((N,U)=>{const H=l[U];return N[U]=(B,Z=!1,ne=!1)=>(n||k(),H.schedule(B,Z,ne)),N},{}),cancel:N=>{for(let U=0;U<qh.length;U++)l[qh[U]].cancel(N)},state:s,steps:l}}const{schedule:zt,cancel:Js,state:jn,steps:Dg}=g4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bi,!0);let ef;function TO(){ef=void 0}const si={now:()=>(ef===void 0&&si.set(jn.isProcessing||ls.useManualTiming?jn.timestamp:performance.now()),ef),set:e=>{ef=e,queueMicrotask(TO)}},y4=e=>t=>typeof t=="string"&&t.startsWith(e),a1=y4("--"),jO=y4("var(--"),o1=e=>jO(e)?kO.test(e.split("/*")[0].trim()):!1,kO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dc={...Fl,transform:e=>os(0,1,e)},Zh={...Fl,default:1},vc=e=>Math.round(e*1e5)/1e5,l1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $O(e){return e==null}const NO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u1=(e,t)=>n=>!!(typeof n=="string"&&NO.test(n)&&n.startsWith(e)||t&&!$O(n)&&Object.prototype.hasOwnProperty.call(n,t)),v4=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,d]=i.match(l1);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},LO=e=>os(0,255,e),zg={...Fl,transform:e=>Math.round(LO(e))},to={test:u1("rgb","red"),parse:v4("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+zg.transform(e)+", "+zg.transform(t)+", "+zg.transform(n)+", "+vc(Dc.transform(i))+")"};function AO(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const U0={test:u1("#"),parse:AO,transform:to.transform},id=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ys=id("deg"),jr=id("%"),Ge=id("px"),PO=id("vh"),MO=id("vw"),Q2={...jr,parse:e=>jr.parse(e)/100,transform:e=>jr.transform(e*100)},fl={test:u1("hsl","hue"),parse:v4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+jr.transform(vc(t))+", "+jr.transform(vc(n))+", "+vc(Dc.transform(i))+")"},un={test:e=>to.test(e)||U0.test(e)||fl.test(e),parse:e=>to.test(e)?to.parse(e):fl.test(e)?fl.parse(e):U0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?to.transform(e):fl.transform(e),getAnimatableNone:e=>{const t=un.parse(e);return t.alpha=0,un.transform(t)}},OO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RO(e){return isNaN(e)&&typeof e=="string"&&(e.match(l1)?.length||0)+(e.match(OO)?.length||0)>0}const b4="number",_4="color",DO="var",zO="var(",J2="${}",IO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const d=t.replace(IO,f=>(un.test(f)?(i.color.push(a),s.push(_4),n.push(un.parse(f))):f.startsWith(zO)?(i.var.push(a),s.push(DO),n.push(f)):(i.number.push(a),s.push(b4),n.push(parseFloat(f))),++a,J2)).split(J2);return{values:n,split:d,indexes:i,types:s}}function x4(e){return zc(e).values}function w4(e){const{split:t,types:n}=zc(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const d=n[l];d===b4?a+=vc(s[l]):d===_4?a+=un.transform(s[l]):a+=s[l]}return a}}const BO=e=>typeof e=="number"?0:un.test(e)?un.getAnimatableNone(e):e;function UO(e){const t=x4(e);return w4(e)(t.map(BO))}const ea={test:RO,parse:x4,createTransformer:w4,getAnimatableNone:UO};function Ig(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function VO({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=Ig(f,d,e+1/3),a=Ig(f,d,e),l=Ig(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function bf(e,t){return n=>n>0?t:e}const Vt=(e,t,n)=>e+(t-e)*n,Bg=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},HO=[U0,to,fl],FO=e=>HO.find(t=>t.test(e));function ew(e){const t=FO(e);if(!t)return!1;let n=t.parse(e);return t===fl&&(n=VO(n)),n}const tw=(e,t)=>{const n=ew(e),i=ew(t);if(!n||!i)return bf(e,t);const s={...n};return a=>(s.red=Bg(n.red,i.red,a),s.green=Bg(n.green,i.green,a),s.blue=Bg(n.blue,i.blue,a),s.alpha=Vt(n.alpha,i.alpha,a),to.transform(s))},V0=new Set(["none","hidden"]);function qO(e,t){return V0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function ZO(e,t){return n=>Vt(e,t,n)}function c1(e){return typeof e=="number"?ZO:typeof e=="string"?o1(e)?bf:un.test(e)?tw:WO:Array.isArray(e)?S4:typeof e=="object"?un.test(e)?tw:GO:bf}function S4(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>c1(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function GO(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=c1(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function KO(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],d=e.values[l]??0;n[s]=d,i[a]++}return n}const WO=(e,t)=>{const n=ea.createTransformer(t),i=zc(e),s=zc(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?V0.has(e)&&!s.values.length||V0.has(t)&&!i.values.length?qO(e,t):td(S4(KO(i,s),s.values),n):bf(e,t)};function C4(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Vt(e,t,n):c1(e)(e,t)}const YO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>zt.update(t,n),stop:()=>Js(t),now:()=>jn.isProcessing?jn.timestamp:si.now()}},E4=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},_f=2e4;function d1(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<_f;)t+=n,i=e.next(t);return t>=_f?1/0:t}function XO(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(d1(i),_f);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Ii(s)}}const QO=5;function T4(e,t,n){const i=Math.max(t-QO,0);return s4(n-e(i),t-i)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ug=.001;function JO({duration:e=Kt.duration,bounce:t=Kt.bounce,velocity:n=Kt.velocity,mass:i=Kt.mass}){let s,a,l=1-t;l=os(Kt.minDamping,Kt.maxDamping,l),e=os(Kt.minDuration,Kt.maxDuration,Ii(e)),l<1?(s=g=>{const y=g*l,v=y*e,x=y-n,w=H0(g,l),C=Math.exp(-v);return Ug-x/w*C},a=g=>{const v=g*l*e,x=v*n+n,w=Math.pow(l,2)*Math.pow(g,2)*e,C=Math.exp(-v),T=H0(Math.pow(g,2),l);return(-s(g)+Ug>0?-1:1)*((x-w)*C)/T}):(s=g=>{const y=Math.exp(-g*e),v=(g-n)*e+1;return-Ug+y*v},a=g=>{const y=Math.exp(-g*e),v=(n-g)*(e*e);return y*v});const d=5/e,f=tR(s,a,d);if(e=Tr(e),isNaN(f))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:e};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:l*2*Math.sqrt(i*g),duration:e}}}const eR=12;function tR(e,t,n){let i=n;for(let s=1;s<eR;s++)i=i-e(i)/t(i);return i}function H0(e,t){return e*Math.sqrt(1-t*t)}const nR=["duration","bounce"],iR=["stiffness","damping","mass"];function nw(e,t){return t.some(n=>e[n]!==void 0)}function rR(e){let t={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...e};if(!nw(e,iR)&&nw(e,nR))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*os(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Kt.mass,stiffness:s,damping:a}}else{const n=JO(e);t={...t,...n,mass:Kt.mass},t.isResolvedFromDuration=!0}return t}function xf(e=Kt.visualDuration,t=Kt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:g,mass:y,duration:v,velocity:x,isResolvedFromDuration:w}=rR({...n,velocity:-Ii(n.velocity||0)}),C=x||0,T=g/(2*Math.sqrt(f*y)),k=l-a,$=Ii(Math.sqrt(f/y)),P=Math.abs(k)<5;i||(i=P?Kt.restSpeed.granular:Kt.restSpeed.default),s||(s=P?Kt.restDelta.granular:Kt.restDelta.default);let N;if(T<1){const H=H0($,T);N=B=>{const Z=Math.exp(-T*$*B);return l-Z*((C+T*$*k)/H*Math.sin(H*B)+k*Math.cos(H*B))}}else if(T===1)N=H=>l-Math.exp(-$*H)*(k+(C+$*k)*H);else{const H=$*Math.sqrt(T*T-1);N=B=>{const Z=Math.exp(-T*$*B),ne=Math.min(H*B,300);return l-Z*((C+T*$*k)*Math.sinh(ne)+H*k*Math.cosh(ne))/H}}const U={calculatedDuration:w&&v||null,next:H=>{const B=N(H);if(w)d.done=H>=v;else{let Z=H===0?C:0;T<1&&(Z=H===0?Tr(C):T4(N,H,B));const ne=Math.abs(Z)<=i,F=Math.abs(l-B)<=s;d.done=ne&&F}return d.value=d.done?l:B,d},toString:()=>{const H=Math.min(d1(U),_f),B=E4(Z=>U.next(H*Z).value,H,30);return H+"ms "+B},toTransition:()=>{}};return U}xf.applyToOptions=e=>{const t=XO(e,100,xf);return e.ease=t.ease,e.duration=Tr(t.duration),e.type="keyframes",e};function F0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:g=.5,restSpeed:y}){const v=e[0],x={done:!1,value:v},w=ne=>d!==void 0&&ne<d||f!==void 0&&ne>f,C=ne=>d===void 0?f:f===void 0||Math.abs(d-ne)<Math.abs(f-ne)?d:f;let T=n*t;const k=v+T,$=l===void 0?k:l(k);$!==k&&(T=$-v);const P=ne=>-T*Math.exp(-ne/i),N=ne=>$+P(ne),U=ne=>{const F=P(ne),W=N(ne);x.done=Math.abs(F)<=g,x.value=x.done?$:W};let H,B;const Z=ne=>{w(x.value)&&(H=ne,B=xf({keyframes:[x.value,C(x.value)],velocity:T4(N,ne,x.value),damping:s,stiffness:a,restDelta:g,restSpeed:y}))};return Z(0),{calculatedDuration:null,next:ne=>{let F=!1;return!B&&H===void 0&&(F=!0,U(ne),Z(ne)),H!==void 0&&ne>=H?B.next(ne-H):(!F&&U(ne),x)}}}function sR(e,t,n){const i=[],s=n||ls.mix||C4,a=e.length-1;for(let l=0;l<a;l++){let d=s(e[l],e[l+1]);if(t){const f=Array.isArray(t)?t[l]||Bi:t;d=td(f,d)}i.push(d)}return i}function aR(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(t1(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=sR(t,i,s),f=d.length,g=y=>{if(l&&y<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const x=Rc(e[v],e[v+1],y);return d[v](x)};return n?y=>g(os(e[0],e[a-1],y)):g}function oR(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Rc(0,t,i);e.push(Vt(n,1,s))}}function lR(e){const t=[0];return oR(t,e.length-1),t}function uR(e,t){return e.map(n=>n*t)}function cR(e,t){return e.map(()=>t||m4).splice(0,e.length-1)}function bc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=xO(i)?i.map(X2):X2(i),a={done:!1,value:t[0]},l=uR(n&&n.length===t.length?n:lR(t),e),d=aR(l,t,{ease:Array.isArray(s)?s:cR(t,s)});return{calculatedDuration:e,next:f=>(a.value=d(f),a.done=f>=e,a)}}const dR=e=>e!==null;function h1(e,{repeat:t,repeatType:n="loop"},i,s=1){const a=e.filter(dR),d=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!d||i===void 0?a[d]:i}const hR={decay:F0,inertia:F0,tween:bc,keyframes:bc,spring:xf};function j4(e){typeof e.type=="string"&&(e.type=hR[e.type])}class f1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const fR=e=>e/100;class m1 extends f1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==si.now()&&this.tick(si.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;j4(t);const{type:n=bc,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:d}=t;const f=n||bc;f!==bc&&typeof d[0]!="number"&&(this.mixKeyframes=td(fR,C4(d[0],d[1])),d=[0,100]);const g=f({...t,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=d1(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:w,type:C,onUpdate:T,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?$<0:$>s;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,U=i;if(v){const ne=Math.min(this.currentTime,s)/d;let F=Math.floor(ne),W=ne%1;!W&&ne>=1&&(W=1),W===1&&F--,F=Math.min(F,v+1),!!(F%2)&&(x==="reverse"?(W=1-W,w&&(W-=w/d)):x==="mirror"&&(U=l)),N=os(0,1,W)*d}const H=P?{done:!1,value:y[0]}:U.next(N);a&&(H.value=a(H.value));let{done:B}=H;!P&&f!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return Z&&C!==F0&&(H.value=h1(y,this.options,k,this.speed)),T&&T(H.value),Z&&this.finish(),H}then(t,n){return this.finished.then(t,n)}get duration(){return Ii(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ii(t)}get time(){return Ii(this.currentTime)}set time(t){t=Tr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(si.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=YO,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function mR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const no=e=>e*180/Math.PI,q0=e=>{const t=no(Math.atan2(e[1],e[0]));return Z0(t)},pR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:q0,rotateZ:q0,skewX:e=>no(Math.atan(e[1])),skewY:e=>no(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Z0=e=>(e=e%360,e<0&&(e+=360),e),iw=q0,rw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rw,scaleY:sw,scale:e=>(rw(e)+sw(e))/2,rotateX:e=>Z0(no(Math.atan2(e[6],e[5]))),rotateY:e=>Z0(no(Math.atan2(-e[2],e[0]))),rotateZ:iw,rotate:iw,skewX:e=>no(Math.atan(e[4])),skewY:e=>no(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function G0(e){return e.includes("scale")?1:0}function K0(e,t){if(!e||e==="none")return G0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=gR,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=pR,s=d}if(!s)return G0(t);const a=i[t],l=s[1].split(",").map(vR);return typeof a=="function"?a(l):l[a]}const yR=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return K0(n,t)};function vR(e){return parseFloat(e.trim())}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zl=new Set(ql),aw=e=>e===Fl||e===Ge,bR=new Set(["x","y","z"]),_R=ql.filter(e=>!bR.has(e));function xR(e){const t=[];return _R.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const ro={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>K0(t,"x"),y:(e,{transform:t})=>K0(t,"y")};ro.translateX=ro.x;ro.translateY=ro.y;const so=new Set;let W0=!1,Y0=!1,X0=!1;function k4(){if(Y0){const e=Array.from(so).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=xR(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Y0=!1,W0=!1,so.forEach(e=>e.complete(X0)),so.clear()}function $4(){so.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Y0=!0)})}function wR(){X0=!0,$4(),k4(),X0=!1}class p1{constructor(t,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(so.add(this),W0||(W0=!0,zt.read($4),zt.resolveKeyframes(k4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const a=s?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const d=i.readValue(n,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}mR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),so.delete(this)}cancel(){this.state==="scheduled"&&(so.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SR=e=>e.startsWith("--");function CR(e,t,n){SR(t)?e.style.setProperty(t,n):e.style[t]=n}const ER=n1(()=>window.ScrollTimeline!==void 0),TR={};function jR(e,t){const n=n1(e);return()=>TR[t]??n()}const N4=jR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function L4(e,t){if(e)return typeof e=="function"?N4()?E4(e,t):"ease-out":p4(e)?uc(e):Array.isArray(e)?e.map(n=>L4(n,t)||ow.easeOut):ow[e]}function kR(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:f}={},g=void 0){const y={[t]:n};f&&(y.offset=f);const v=L4(d,s);Array.isArray(v)&&(y.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),e.animate(y,x)}function A4(e){return typeof e=="function"&&"applyToOptions"in e}function $R({type:e,...t}){return A4(e)&&N4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NR extends f1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,t1(typeof t.type!="string");const g=$R(t);this.animation=kR(n,i,s,g,a),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=h1(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):CR(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ii(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ii(t)}get time(){return Ii(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Tr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ER()?(this.animation.timeline=t,Bi):n(this)}}const P4={anticipate:d4,backInOut:c4,circInOut:f4};function LR(e){return e in P4}function AR(e){typeof e.ease=="string"&&LR(e.ease)&&(e.ease=P4[e.ease])}const lw=10;class PR extends NR{constructor(t){AR(t),j4(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new m1({...l,autoplay:!1}),f=Tr(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-lw).value,d.sample(f).value,lw),d.stop()}}const uw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ea.test(e)||e==="0")&&!e.startsWith("url("));function MR(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function OR(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=uw(s,t),d=uw(a,t);return!l||!d?!1:MR(e)||(n==="spring"||A4(n))&&i}function Q0(e){e.duration=0,e.type="keyframes"}const RR=new Set(["opacity","clipPath","filter","transform"]),DR=n1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zR(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=t.owner.getProps();return DR()&&n&&RR.has(n)&&(n!=="transform"||!g)&&!f&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const IR=40;class BR extends f1{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:f,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=si.now();const x={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:g,element:y,...v},w=y?.KeyframeResolver||p1;this.keyframeResolver=new w(d,(C,T,k)=>this.onKeyframesResolved(C,T,x,!k),f,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:f,isHandoff:g,onUpdate:y}=i;this.resolvedAt=si.now(),OR(t,a,l,d)||((ls.instantAnimations||!f)&&y?.(h1(t,i,n)),t[0]=t[t.length-1],Q0(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>IR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},w=!g&&zR(x)?new PR({...x,element:x.motionValue.owner.current}):new m1(x);w.finished.then(()=>this.notifyFinished()).catch(Bi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const UR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VR(e){const t=UR.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function M4(e,t,n=1){const[i,s]=VR(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return n4(l)?parseFloat(l):l}return o1(s)?M4(s,t,n+1):s}function g1(e,t){return e?.[t]??e?.default??e}const O4=new Set(["width","height","top","left","right","bottom",...ql]),HR={test:e=>e==="auto",parse:e=>e},R4=e=>t=>t.test(e),D4=[Fl,Ge,jr,Ys,MO,PO,HR],cw=e=>D4.find(R4(e));function FR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||r4(e):!0}const qR=new Set(["brightness","contrast","saturate","opacity"]);function ZR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(l1)||[];if(!i)return e;const s=n.replace(i,"");let a=qR.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const GR=/\b([a-z-]*)\(.*?\)/gu,J0={...ea,getAnimatableNone:e=>{const t=e.match(GR);return t?t.map(ZR).join(" "):e}},dw={...Fl,transform:Math.round},KR={rotate:Ys,rotateX:Ys,rotateY:Ys,rotateZ:Ys,scale:Zh,scaleX:Zh,scaleY:Zh,scaleZ:Zh,skew:Ys,skewX:Ys,skewY:Ys,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:Dc,originX:Q2,originY:Q2,originZ:Ge},y1={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...KR,zIndex:dw,fillOpacity:Dc,strokeOpacity:Dc,numOctaves:dw},WR={...y1,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:J0,WebkitFilter:J0},z4=e=>WR[e];function I4(e,t){let n=z4(e);return n!==J0&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YR=new Set(["auto","none","0"]);function XR(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!YR.has(a)&&zc(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=I4(n,s)}class QR extends p1{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let g=t[f];if(typeof g=="string"&&(g=g.trim(),o1(g))){const y=M4(g,n.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!O4.has(i)||t.length!==2)return;const[s,a]=t,l=cw(s),d=cw(a);if(l!==d)if(aw(l)&&aw(d))for(let f=0;f<t.length;f++){const g=t[f];typeof g=="string"&&(t[f]=parseFloat(g))}else ro[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||FR(t[s]))&&i.push(s);i.length&&XR(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ro[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=ro[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function JR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const B4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function U4(e){return i4(e)&&"offsetHeight"in e}const hw=30,eD=e=>!isNaN(parseFloat(e));class tD{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=si.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=si.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new i1);const i=this.events[t].add(n);return t==="change"?()=>{i(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hw);return s4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pl(e,t){return new tD(e,t)}const{schedule:v1}=g4(queueMicrotask,!1),er={x:!1,y:!1};function V4(){return er.x||er.y}function nD(e){return e==="x"||e==="y"?er[e]?null:(er[e]=!0,()=>{er[e]=!1}):er.x||er.y?null:(er.x=er.y=!0,()=>{er.x=er.y=!1})}function H4(e,t){const n=JR(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function fw(e){return!(e.pointerType==="touch"||V4())}function iD(e,t,n={}){const[i,s,a]=H4(e,n),l=d=>{if(!fw(d))return;const{target:f}=d,g=t(f,d);if(typeof g!="function"||!f)return;const y=v=>{fw(v)&&(g(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,s)};return i.forEach(d=>{d.addEventListener("pointerenter",l,s)}),a}const F4=(e,t)=>t?e===t?!0:F4(e,t.parentElement):!1,b1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sD(e){return rD.has(e.tagName)||e.tabIndex!==-1}const tf=new WeakSet;function mw(e){return t=>{t.key==="Enter"&&e(t)}}function Vg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aD=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=mw(()=>{if(tf.has(n))return;Vg(n,"down");const s=mw(()=>{Vg(n,"up")}),a=()=>Vg(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function pw(e){return b1(e)&&!V4()}function oD(e,t,n={}){const[i,s,a]=H4(e,n),l=d=>{const f=d.currentTarget;if(!pw(d))return;tf.add(f);const g=t(f,d),y=(w,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),tf.has(f)&&tf.delete(f),pw(w)&&typeof g=="function"&&g(w,{success:C})},v=w=>{y(w,f===window||f===document||n.useGlobalTarget||F4(f,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,s),U4(d)&&(d.addEventListener("focus",g=>aD(g,s)),!sD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function q4(e){return i4(e)&&"ownerSVGElement"in e}function lD(e){return q4(e)&&e.tagName==="svg"}const Mn=e=>!!(e&&e.getVelocity),uD=[...D4,un,ea],cD=e=>uD.find(R4(e)),_1=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function gw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dD(...e){return t=>{let n=!1;const i=e.map(s=>{const a=gw(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():gw(e[s],null)}}}}function hD(...e){return j.useCallback(dD(...e),e)}class fD extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=U4(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mD({children:e,isPresent:t,anchorX:n,root:i}){const s=j.useId(),a=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=j.useContext(_1),f=hD(a,e?.ref);return j.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:x,right:w}=l.current;if(t||!a.current||!g||!y)return;const C=n==="left"?`left: ${x}`:`right: ${w}`;a.current.dataset.motionPopId=s;const T=document.createElement("style");d&&(T.nonce=d);const k=i??document.head;return k.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(T)&&k.removeChild(T)}},[t]),h.jsx(fD,{isPresent:t,childRef:a,sizeRef:l,children:j.cloneElement(e,{ref:f})})}const pD=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:d,root:f})=>{const g=Xy(gD),y=j.useId();let v=!0,x=j.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:n,custom:s,onExitComplete:w=>{g.set(w,!0);for(const C of g.values())if(!C)return;i&&i()},register:w=>(g.set(w,!1),()=>g.delete(w))}),[n,g,i]);return a&&v&&(x={...x}),j.useMemo(()=>{g.forEach((w,C)=>g.set(C,!1))},[n]),j.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),l==="popLayout"&&(e=h.jsx(mD,{isPresent:n,anchorX:d,root:f,children:e})),h.jsx(Wf.Provider,{value:x,children:e})};function gD(){return new Map}function Z4(e=!0){const t=j.useContext(Wf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=j.useId();j.useEffect(()=>{if(e)return s(a)},[e]);const l=j.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const Gh=e=>e.key||"";function yw(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const yD=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:f})=>{const[g,y]=Z4(l),v=j.useMemo(()=>yw(e),[e]),x=l&&!g?[]:v.map(Gh),w=j.useRef(!0),C=j.useRef(v),T=Xy(()=>new Map),[k,$]=j.useState(v),[P,N]=j.useState(v);t4(()=>{w.current=!1,C.current=v;for(let B=0;B<P.length;B++){const Z=Gh(P[B]);x.includes(Z)?T.delete(Z):T.get(Z)!==!0&&T.set(Z,!1)}},[P,x.length,x.join("-")]);const U=[];if(v!==k){let B=[...v];for(let Z=0;Z<P.length;Z++){const ne=P[Z],F=Gh(ne);x.includes(F)||(B.splice(Z,0,ne),U.push(ne))}return a==="wait"&&U.length&&(B=U),N(yw(B)),$(v),null}const{forceRender:H}=j.useContext(Yy);return h.jsx(h.Fragment,{children:P.map(B=>{const Z=Gh(B),ne=l&&!g?!1:v===P||x.includes(Z),F=()=>{if(T.has(Z))T.set(Z,!0);else return;let W=!0;T.forEach(q=>{q||(W=!1)}),W&&(H?.(),N(C.current),l&&y?.(),i&&i())};return h.jsx(pD,{isPresent:ne,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:f,onExitComplete:ne?void 0:F,anchorX:d,children:B},Z)})})},G4=j.createContext({strict:!1}),vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const e in vw)Ml[e]={isEnabled:t=>vw[e].some(n=>!!t[n])};function vD(e){for(const t in e)Ml[t]={...Ml[t],...e[t]}}const bD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bD.has(e)}let K4=e=>!wf(e);function _D(e){typeof e=="function"&&(K4=t=>t.startsWith("on")?!wf(t):e(t))}try{_D(require("@emotion/is-prop-valid").default)}catch{}function xD(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(K4(s)||n===!0&&wf(s)||!t&&!wf(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Yf=j.createContext({});function Xf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ic(e){return typeof e=="string"||Array.isArray(e)}const x1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w1=["initial",...x1];function Qf(e){return Xf(e.animate)||w1.some(t=>Ic(e[t]))}function W4(e){return!!(Qf(e)||e.variants)}function wD(e,t){if(Qf(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Ic(n)?n:void 0,animate:Ic(i)?i:void 0}}return e.inherit!==!1?t:{}}function SD(e){const{initial:t,animate:n}=wD(e,j.useContext(Yf));return j.useMemo(()=>({initial:t,animate:n}),[bw(t),bw(n)])}function bw(e){return Array.isArray(e)?e.join(" "):e}const Bc={};function CD(e){for(const t in e)Bc[t]=e[t],a1(t)&&(Bc[t].isCSSVariable=!0)}function Y4(e,{layout:t,layoutId:n}){return Zl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bc[e]||e==="opacity")}const ED={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TD=ql.length;function jD(e,t,n){let i="",s=!0;for(let a=0;a<TD;a++){const l=ql[a],d=e[l];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(l.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const g=B4(d,y1[l]);if(!f){s=!1;const y=ED[l]||l;i+=`${y}(${g}) `}n&&(t[l]=g)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function S1(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,d=!1;for(const f in t){const g=t[f];if(Zl.has(f)){l=!0;continue}else if(a1(f)){s[f]=g;continue}else{const y=B4(g,y1[f]);f.startsWith("origin")?(d=!0,a[f]=y):i[f]=y}}if(t.transform||(l||n?i.transform=jD(t,e.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:g="50%",originZ:y=0}=a;i.transformOrigin=`${f} ${g} ${y}`}}const C1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function X4(e,t,n){for(const i in t)!Mn(t[i])&&!Y4(i,n)&&(e[i]=t[i])}function kD({transformTemplate:e},t){return j.useMemo(()=>{const n=C1();return S1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function $D(e,t){const n=e.style||{},i={};return X4(i,n,e),Object.assign(i,kD(e,t)),i}function ND(e,t){const n={},i=$D(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const LD={offset:"stroke-dashoffset",array:"stroke-dasharray"},AD={offset:"strokeDashoffset",array:"strokeDasharray"};function PD(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?LD:AD;e[a.offset]=Ge.transform(-i);const l=Ge.transform(t),d=Ge.transform(n);e[a.array]=`${l} ${d}`}function Q4(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...d},f,g,y){if(S1(e,d,g),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x}=e;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&PD(v,s,a,l,!1)}const J4=()=>({...C1(),attrs:{}}),eC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function MD(e,t,n,i){const s=j.useMemo(()=>{const a=J4();return Q4(a,t,eC(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};X4(a,e.style,e),s.style={...a,...s.style}}return s}const OD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E1(e){return typeof e!="string"||e.includes("-")?!1:!!(OD.indexOf(e)>-1||/[A-Z]/u.test(e))}function RD(e,t,n,{latestValues:i},s,a=!1){const d=(E1(e)?MD:ND)(t,i,s,e),f=xD(t,typeof e=="string",a),g=e!==j.Fragment?{...f,...d,ref:n}:{},{children:y}=t,v=j.useMemo(()=>Mn(y)?y.get():y,[y]);return j.createElement(e,{...g,children:v})}function _w(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function T1(e,t,n,i){if(typeof t=="function"){const[s,a]=_w(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=_w(i);t=t(n!==void 0?n:e.custom,s,a)}return t}function nf(e){return Mn(e)?e.get():e}function DD({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:zD(n,i,s,e),renderState:t()}}function zD(e,t,n,i){const s={},a=i(e,{});for(const x in a)s[x]=nf(a[x]);let{initial:l,animate:d}=e;const f=Qf(e),g=W4(e);t&&g&&!f&&e.inherit!==!1&&(l===void 0&&(l=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const v=y?d:l;if(v&&typeof v!="boolean"&&!Xf(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const C=T1(e,x[w]);if(C){const{transitionEnd:T,transition:k,...$}=C;for(const P in $){let N=$[P];if(Array.isArray(N)){const U=y?N.length-1:0;N=N[U]}N!==null&&(s[P]=N)}for(const P in T)s[P]=T[P]}}}return s}const tC=e=>(t,n)=>{const i=j.useContext(Yf),s=j.useContext(Wf),a=()=>DD(e,t,i,s);return n?a():Xy(a)};function j1(e,t,n){const{style:i}=e,s={};for(const a in i)(Mn(i[a])||t.style&&Mn(t.style[a])||Y4(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const ID=tC({scrapeMotionValuesFromProps:j1,createRenderState:C1});function nC(e,t,n){const i=j1(e,t,n);for(const s in e)if(Mn(e[s])||Mn(t[s])){const a=ql.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const BD=tC({scrapeMotionValuesFromProps:nC,createRenderState:J4}),UD=Symbol.for("motionComponentSymbol");function ml(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VD(e,t,n){return j.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):ml(n)&&(n.current=i))},[t])}const k1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HD="framerAppearId",iC="data-"+k1(HD),rC=j.createContext({});function FD(e,t,n,i,s){const{visualElement:a}=j.useContext(Yf),l=j.useContext(G4),d=j.useContext(Wf),f=j.useContext(_1).reducedMotion,g=j.useRef(null);i=i||l.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=g.current,v=j.useContext(rC);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&qD(g.current,n,s,v);const x=j.useRef(!1);j.useInsertionEffect(()=>{y&&x.current&&y.update(n,d)});const w=n[iC],C=j.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return t4(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),C.current=!1),y.enteringChildren=void 0)}),y}function qD(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sC(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||d&&ml(d),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:g})}function sC(e){if(e)return e.options.allowProjection!==!1?e.projection:sC(e.parent)}function Hg(e,{forwardMotionProps:t=!1}={},n,i){n&&vD(n);const s=E1(e)?BD:ID;function a(d,f){let g;const y={...j.useContext(_1),...d,layoutId:ZD(d)},{isStatic:v}=y,x=SD(d),w=s(d,v);if(!v&&Qy){GD();const C=KD(y);g=C.MeasureLayout,x.visualElement=FD(e,w,y,i,C.ProjectionNode)}return h.jsxs(Yf.Provider,{value:x,children:[g&&x.visualElement?h.jsx(g,{visualElement:x.visualElement,...y}):null,RD(e,d,VD(w,x.visualElement,f),w,v,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=j.forwardRef(a);return l[UD]=e,l}function ZD({layoutId:e}){const t=j.useContext(Yy).id;return t&&e!==void 0?t+"-"+e:e}function GD(e,t){j.useContext(G4).strict}function KD(e){const{drag:t,layout:n}=Ml;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function WD(e,t){if(typeof Proxy>"u")return Hg;const n=new Map,i=(a,l)=>Hg(a,l,e,t),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,Hg(l,void 0,e,t)),n.get(l))})}function aC({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function YD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Fg(e){return e===void 0||e===1}function ey({scale:e,scaleX:t,scaleY:n}){return!Fg(e)||!Fg(t)||!Fg(n)}function Ya(e){return ey(e)||oC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oC(e){return xw(e.x)||xw(e.y)}function xw(e){return e&&e!=="0%"}function Sf(e,t,n){const i=e-n,s=t*i;return n+s}function ww(e,t,n,i,s){return s!==void 0&&(e=Sf(e,s,i)),Sf(e,n,i)+t}function ty(e,t=0,n=1,i,s){e.min=ww(e.min,t,n,i,s),e.max=ww(e.max,t,n,i,s)}function lC(e,{x:t,y:n}){ty(e.x,t.translate,t.scale,t.originPoint),ty(e.y,n.translate,n.scale,n.originPoint)}const Sw=.999999999999,Cw=1.0000000000001;function QD(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let d=0;d<s;d++){a=n[d],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&gl(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,lC(e,l)),i&&Ya(a.latestValues)&&gl(e,a.latestValues))}t.x<Cw&&t.x>Sw&&(t.x=1),t.y<Cw&&t.y>Sw&&(t.y=1)}function pl(e,t){e.min=e.min+t,e.max=e.max+t}function Ew(e,t,n,i,s=.5){const a=Vt(e.min,e.max,s);ty(e,t,n,a,i)}function gl(e,t){Ew(e.x,t.x,t.scaleX,t.scale,t.originX),Ew(e.y,t.y,t.scaleY,t.scale,t.originY)}function uC(e,t){return aC(XD(e.getBoundingClientRect(),t))}function JD(e,t,n){const i=uC(e,n),{scroll:s}=t;return s&&(pl(i.x,s.offset.x),pl(i.y,s.offset.y)),i}const Tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),yl=()=>({x:Tw(),y:Tw()}),jw=()=>({min:0,max:0}),Xt=()=>({x:jw(),y:jw()}),ny={current:null},cC={current:!1};function ez(){if(cC.current=!0,!!Qy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ny.current=e.matches;e.addEventListener("change",t),t()}else ny.current=!1}const tz=new WeakMap;function nz(e,t,n){for(const i in t){const s=t[i],a=n[i];if(Mn(s))e.addValue(i,s);else if(Mn(a))e.addValue(i,Pl(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Pl(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iz{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=si.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Qf(n),this.isVariantNode=W4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];f[x]!==void 0&&Mn(w)&&w.set(f[x])}}mount(t){this.current=t,tz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),cC.current||ez(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ny.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Zl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ml){const n=Ml[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<kw.length;i++){const s=kw[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=nz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Pl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(n4(i)||r4(i))?i=parseFloat(i):!cD(i)&&ea.test(n)&&(i=I4(t,n)),this.setBaseTarget(t,Mn(i)?i.get():i)),Mn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=T1(this.props,n,this.presenceContext?.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Mn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new i1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){v1.render(this.render)}}class dC extends iz{constructor(){super(...arguments),this.KeyframeResolver=QR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hC(e,{style:t,vars:n},i,s){const a=e.style;let l;for(l in t)a[l]=t[l];s?.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function rz(e){return window.getComputedStyle(e)}class sz extends dC{constructor(){super(...arguments),this.type="html",this.renderInstance=hC}readValueFromInstance(t,n){if(Zl.has(n))return this.projection?.isProjecting?G0(n):yR(t,n);{const i=rz(t),s=(a1(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return uC(t,n)}build(t,n,i){S1(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return j1(t,n,i)}}const fC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function az(e,t,n,i){hC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(fC.has(s)?s:k1(s),t.attrs[s])}class oz extends dC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zl.has(n)){const i=z4(n);return i&&i.default||0}return n=fC.has(n)?n:k1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return nC(t,n,i)}build(t,n,i){Q4(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){az(t,n,i,s)}mount(t){this.isSVGTag=eC(t.tagName),super.mount(t)}}const lz=(e,t)=>E1(e)?new oz(t):new sz(t,{allowProjection:e!==j.Fragment});function Cl(e,t,n){const i=e.getProps();return T1(i,t,n!==void 0?n:i.custom,e)}const iy=e=>Array.isArray(e);function uz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pl(n))}function cz(e){return iy(e)?e[e.length-1]||0:e}function dz(e,t){const n=Cl(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const d=cz(a[l]);uz(e,l,d)}}function hz(e){return!!(Mn(e)&&e.add)}function ry(e,t){const n=e.getValue("willChange");if(hz(n))return n.add(t);if(!n&&ls.WillChange){const i=new ls.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function mC(e){return e.props[iC]}const fz=e=>e!==null;function mz(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(fz),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[a]}const pz={type:"spring",stiffness:500,damping:25,restSpeed:10},gz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yz={type:"keyframes",duration:.8},vz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bz=(e,{keyframes:t})=>t.length>2?yz:Zl.has(e)?e.startsWith("scale")?gz(t[1]):pz:vz;function _z({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:g,...y}){return!!Object.keys(y).length}const $1=(e,t,n,i={},s,a)=>l=>{const d=g1(i,e)||{},f=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Tr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:a?void 0:s};_z(d)||Object.assign(y,bz(e,y)),y.duration&&(y.duration=Tr(y.duration)),y.repeatDelay&&(y.repeatDelay=Tr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Q0(y),y.delay===0&&(v=!0)),(ls.instantAnimations||ls.skipAnimations)&&(v=!0,Q0(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!a&&t.get()!==void 0){const x=mz(y.keyframes,d);if(x!==void 0){zt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new m1(y):new BR(y)};function xz({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function pC(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...d}=t;i&&(a=i);const f=[],g=s&&e.animationState&&e.animationState.getState()[s];for(const y in d){const v=e.getValue(y,e.latestValues[y]??null),x=d[y];if(x===void 0||g&&xz(g,y))continue;const w={delay:n,...g1(a||{},y)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===C&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const $=mC(e);if($){const P=window.MotionHandoffAnimation($,y,zt);P!==null&&(w.startTime=P,T=!0)}}ry(e,y),v.start($1(y,v,x,e.shouldReduceMotion&&O4.has(y)?{type:!1}:w,e,T));const k=v.animation;k&&f.push(k)}return l&&Promise.all(f).then(()=>{zt.update(()=>{l&&dz(e,l)})}),f}function gC(e,t,n,i=0,s=1){const a=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),l=e.size,d=(l-1)*i;return typeof n=="function"?n(a,l):s===1?a*i:d-a*i}function sy(e,t,n={}){const i=Cl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(pC(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=s;return wz(e,t,f,g,y,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,g]=d==="beforeChildren"?[a,l]:[l,a];return f().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function wz(e,t,n=0,i=0,s=0,a=1,l){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(sy(f,t,{...l,delay:n+(typeof i=="function"?0:i)+gC(e.variantChildren,f,i,s,a)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function Sz(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>sy(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=sy(e,t,n);else{const s=typeof t=="function"?Cl(e,t,n.custom):t;i=Promise.all(pC(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function yC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Cz=w1.length;function vC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Cz;n++){const i=w1[n],s=e.props[i];(Ic(s)||s===!1)&&(t[i]=s)}return t}const Ez=[...x1].reverse(),Tz=x1.length;function jz(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Sz(e,n,i)))}function kz(e){let t=jz(e),n=$w(),i=!0;const s=f=>(g,y)=>{const v=Cl(e,y,f==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,...C}=v;g={...g,...C,...w}}return g};function a(f){t=f(e)}function l(f){const{props:g}=e,y=vC(e.parent)||{},v=[],x=new Set;let w={},C=1/0;for(let k=0;k<Tz;k++){const $=Ez[k],P=n[$],N=g[$]!==void 0?g[$]:y[$],U=Ic(N),H=$===f?P.isActive:null;H===!1&&(C=k);let B=N===y[$]&&N!==g[$]&&U;if(B&&i&&e.manuallyAnimateOnMount&&(B=!1),P.protectedKeys={...w},!P.isActive&&H===null||!N&&!P.prevProp||Xf(N)||typeof N=="boolean")continue;const Z=$z(P.prevProp,N);let ne=Z||$===f&&P.isActive&&!B&&U||k>C&&U,F=!1;const W=Array.isArray(N)?N:[N];let q=W.reduce(s($),{});H===!1&&(q={});const{prevResolvedValues:X={}}=P,oe={...X,...q},Q=G=>{ne=!0,x.has(G)&&(F=!0,x.delete(G)),P.needsAnimating[G]=!0;const re=e.getValue(G);re&&(re.liveStyle=!1)};for(const G in oe){const re=q[G],Ce=X[G];if(w.hasOwnProperty(G))continue;let O=!1;iy(re)&&iy(Ce)?O=!yC(re,Ce):O=re!==Ce,O?re!=null?Q(G):x.add(G):re!==void 0&&x.has(G)?Q(G):P.protectedKeys[G]=!0}P.prevProp=N,P.prevResolvedValues=q,P.isActive&&(w={...w,...q}),i&&e.blockInitialAnimation&&(ne=!1);const se=B&&Z;ne&&(!se||F)&&v.push(...W.map(G=>{const re={type:$};if(typeof G=="string"&&i&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ce}=e,O=Cl(Ce,G);if(Ce.enteringChildren&&O){const{delayChildren:R}=O.transition||{};re.delay=gC(Ce.enteringChildren,e,R)}}return{animation:G,options:re}}))}if(x.size){const k={};if(typeof g.initial!="boolean"){const $=Cl(e,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(k.transition=$.transition)}x.forEach($=>{const P=e.getBaseTarget($),N=e.getValue($);N&&(N.liveStyle=!0),k[$]=P??null}),v.push({animation:k})}let T=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(v):Promise.resolve()}function d(f,g){if(n[f].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(f,g)),n[f].isActive=g;const y=l(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=$w()}}}function $z(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yC(t,e):!1}function Ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $w(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}class ra{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Nz extends ra{constructor(t){super(t),t.animationState||(t.animationState=kz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Lz=0;class Az extends ra{constructor(){super(...arguments),this.id=Lz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Pz={animation:{Feature:Nz},exit:{Feature:Az}};function Uc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function rd(e){return{point:{x:e.pageX,y:e.pageY}}}const Mz=e=>t=>b1(t)&&e(t,rd(t));function _c(e,t,n,i){return Uc(e,t,Mz(n),i)}const bC=1e-4,Oz=1-bC,Rz=1+bC,_C=.01,Dz=0-_C,zz=0+_C;function Vn(e){return e.max-e.min}function Iz(e,t,n){return Math.abs(e-t)<=n}function Nw(e,t,n,i=.5){e.origin=i,e.originPoint=Vt(t.min,t.max,e.origin),e.scale=Vn(n)/Vn(t),e.translate=Vt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Oz&&e.scale<=Rz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dz&&e.translate<=zz||isNaN(e.translate))&&(e.translate=0)}function xc(e,t,n,i){Nw(e.x,t.x,n.x,i?i.originX:void 0),Nw(e.y,t.y,n.y,i?i.originY:void 0)}function Lw(e,t,n){e.min=n.min+t.min,e.max=e.min+Vn(t)}function Bz(e,t,n){Lw(e.x,t.x,n.x),Lw(e.y,t.y,n.y)}function Aw(e,t,n){e.min=t.min-n.min,e.max=e.min+Vn(t)}function wc(e,t,n){Aw(e.x,t.x,n.x),Aw(e.y,t.y,n.y)}function Di(e){return[e("x"),e("y")]}const xC=({current:e})=>e?e.ownerDocument.defaultView:null,Pw=(e,t)=>Math.abs(e-t);function Uz(e,t){const n=Pw(e.x,t.x),i=Pw(e.y,t.y);return Math.sqrt(n**2+i**2)}class wC{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=Uz(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:T}=x,{timestamp:k}=jn;this.history.push({...T,timestamp:k});const{onStart:$,onMove:P}=this.handlers;w||($&&$(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=qg(w,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:C,onSessionEnd:T,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Zg(x.type==="pointercancel"?this.lastMoveEventInfo:qg(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(x,$),T&&T(x,$)},!b1(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=rd(t),f=qg(d,this.transformPagePoint),{point:g}=f,{timestamp:y}=jn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,Zg(f,this.history)),this.removeListeners=td(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function qg(e,t){return t?{point:t(e.point)}:e}function Mw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zg({point:e},t){return{point:e,delta:Mw(e,SC(t)),offset:Mw(e,Vz(t)),velocity:Hz(t,.1)}}function Vz(e){return e[0]}function SC(e){return e[e.length-1]}function Hz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=SC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Tr(t)));)n--;if(!i)return{x:0,y:0};const a=Ii(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Fz(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Vt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Vt(n,e,i.max):Math.min(e,n)),e}function Ow(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qz(e,{top:t,left:n,bottom:i,right:s}){return{x:Ow(e.x,n,s),y:Ow(e.y,t,i)}}function Rw(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function Zz(e,t){return{x:Rw(e.x,t.x),y:Rw(e.y,t.y)}}function Gz(e,t){let n=.5;const i=Vn(e),s=Vn(t);return s>i?n=Rc(t.min,t.max-i,e.min):i>s&&(n=Rc(e.min,e.max-s,t.min)),os(0,1,n)}function Kz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ay=.35;function Wz(e=ay){return e===!1?e=0:e===!0&&(e=ay),{x:Dw(e,"left","right"),y:Dw(e,"top","bottom")}}function Dw(e,t,n){return{min:zw(e,t),max:zw(e,n)}}function zw(e,t){return typeof e=="number"?e:e[t]||0}const Yz=new WeakMap;class Xz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rd(v).point)},l=(v,x)=>{const{drag:w,dragPropagation:C,onDragStart:T}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nD(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Di($=>{let P=this.getAxisMotionValue($).get()||0;if(jr.test(P)){const{projection:N}=this.visualElement;if(N&&N.layout){const U=N.layout.layoutBox[$];U&&(P=Vn(U)*(parseFloat(P)/100))}}this.originPoint[$]=P}),T&&zt.postRender(()=>T(v,x)),ry(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:T,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:$}=x;if(C&&this.currentDirection===null){this.currentDirection=Qz($),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,$),this.updateAxis("y",x.point,$),this.visualElement.render(),k&&k(v,x)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Di(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new wC(t,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:xC(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&zt.postRender(()=>d(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Kh(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=Fz(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&ml(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=qz(i.layoutBox,t):this.constraints=!1,this.elastic=Wz(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Di(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Kz(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ml(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=JD(i,s.root,this.visualElement.getTransformPagePoint());let l=Zz(s.layout.layoutBox,a);if(n){const d=n(YD(l));this.hasMutatedConstraints=!!d,d&&(l=aC(d))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},g=Di(y=>{if(!Kh(y,n,this.currentDirection))return;let v=f&&f[y]||{};l&&(v={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,C={type:"inertia",velocity:i?t[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(y,C)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return ry(this.visualElement,t),i.start($1(t,i,0,n,this.visualElement,!1))}stopAnimation(){Di(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Di(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Di(n=>{const{drag:i}=this.getProps();if(!Kh(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[n];a.set(t[n]-Vt(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ml(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Di(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();s[l]=Gz({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Di(l=>{if(!Kh(l,t,null))return;const d=this.getAxisMotionValue(l),{min:f,max:g}=this.constraints[l];d.set(Vt(f,g,s[l]))})}addListeners(){if(!this.visualElement.current)return;Yz.set(this.visualElement,this);const t=this.visualElement.current,n=_c(t,"pointerdown",f=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ml(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zt.read(i);const l=Uc(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(Di(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=ay,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function Kh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Qz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Jz extends ra{constructor(t){super(t),this.removeGroupControls=Bi,this.removeListeners=Bi,this.controls=new Xz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iw=e=>(t,n)=>{e&&zt.postRender(()=>e(t,n))};class eI extends ra{constructor(){super(...arguments),this.removePointerDownListener=Bi}onPointerDown(t){this.session=new wC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Iw(t),onStart:Iw(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&zt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const n=Bw(e,t.target.x),i=Bw(e,t.target.y);return`${n}% ${i}%`}},tI={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=ea.parse(e);if(s.length>5)return i;const a=ea.createTransformer(e),l=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+l]/=d,s[1+l]/=f;const g=Vt(d,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=g),typeof s[3+l]=="number"&&(s[3+l]/=g),a(s)}};let Gg=!1;class nI extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;CD(iI),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),Gg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,Gg=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||zt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),v1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;Gg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CC(e){const[t,n]=Z4(),i=j.useContext(Yy);return h.jsx(nI,{...e,layoutGroup:i,switchLayoutGroup:j.useContext(rC),isPresent:t,safeToRemove:n})}const iI={borderRadius:{...rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rc,borderTopRightRadius:rc,borderBottomLeftRadius:rc,borderBottomRightRadius:rc,boxShadow:tI};function rI(e,t,n){const i=Mn(e)?e:Pl(e);return i.start($1("",i,t,n)),i.animation}const sI=(e,t)=>e.depth-t.depth;class aI{constructor(){this.children=[],this.isDirty=!1}add(t){Jy(this.children,t),this.isDirty=!0}remove(t){e1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sI),this.isDirty=!1,this.children.forEach(t)}}function oI(e,t){const n=si.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(Js(i),e(a-t))};return zt.setup(i,!0),()=>Js(i)}const EC=["TopLeft","TopRight","BottomLeft","BottomRight"],lI=EC.length,Uw=e=>typeof e=="string"?parseFloat(e):e,Vw=e=>typeof e=="number"||Ge.test(e);function uI(e,t,n,i,s,a){s?(e.opacity=Vt(0,n.opacity??1,cI(i)),e.opacityExit=Vt(t.opacity??1,0,dI(i))):a&&(e.opacity=Vt(t.opacity??1,n.opacity??1,i));for(let l=0;l<lI;l++){const d=`border${EC[l]}Radius`;let f=Hw(t,d),g=Hw(n,d);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Vw(f)===Vw(g)?(e[d]=Math.max(Vt(Uw(f),Uw(g),i),0),(jr.test(g)||jr.test(f))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=Vt(t.rotate||0,n.rotate||0,i))}function Hw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cI=TC(0,.5,h4),dI=TC(.5,.95,Bi);function TC(e,t,n){return i=>i<e?0:i>t?1:n(Rc(e,t,i))}function Fw(e,t){e.min=t.min,e.max=t.max}function Ri(e,t){Fw(e.x,t.x),Fw(e.y,t.y)}function qw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zw(e,t,n,i,s){return e-=t,e=Sf(e,1/n,i),s!==void 0&&(e=Sf(e,1/s,i)),e}function hI(e,t=0,n=1,i=.5,s,a=e,l=e){if(jr.test(t)&&(t=parseFloat(t),t=Vt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let d=Vt(a.min,a.max,i);e===a&&(d-=t),e.min=Zw(e.min,t,n,d,s),e.max=Zw(e.max,t,n,d,s)}function Gw(e,t,[n,i,s],a,l){hI(e,t[n],t[i],t[s],t.scale,a,l)}const fI=["x","scaleX","originX"],mI=["y","scaleY","originY"];function Kw(e,t,n,i){Gw(e.x,t,fI,n?n.x:void 0,i?i.x:void 0),Gw(e.y,t,mI,n?n.y:void 0,i?i.y:void 0)}function Ww(e){return e.translate===0&&e.scale===1}function jC(e){return Ww(e.x)&&Ww(e.y)}function Yw(e,t){return e.min===t.min&&e.max===t.max}function pI(e,t){return Yw(e.x,t.x)&&Yw(e.y,t.y)}function Xw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kC(e,t){return Xw(e.x,t.x)&&Xw(e.y,t.y)}function Qw(e){return Vn(e.x)/Vn(e.y)}function Jw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gI{constructor(){this.members=[]}add(t){Jy(this.members,t),t.scheduleRender()}remove(t){if(e1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yI(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=n?.z||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:x,skewX:w,skewY:C}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),w&&(i+=`skewX(${w}deg) `),C&&(i+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const Kg=["","X","Y","Z"],vI=1e3;let bI=0;function Wg(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function $C(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=mC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&$C(i)}function NC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},d=t?.()){this.id=bI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wI),this.nodes.forEach(TI),this.nodes.forEach(jI),this.nodes.forEach(SI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new aI)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new i1),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=q4(l)&&!lD(l),this.instance=l;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{v=window.innerWidth}),e(l,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=oI(x,250),rf.hasAnimatedSinceResize&&(rf.hasAnimatedSinceResize=!1,this.nodes.forEach(n3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||AI,{onLayoutAnimationStart:T,onLayoutAnimationComplete:k}=g.getProps(),$=!this.targetLayout||!kC(this.targetLayout,w),P=!v&&x;if(this.options.layoutRoot||this.resumeFrom||P||v&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...g1(C,"layout"),onPlay:T,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(y,P)}else v||n3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kI),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$C(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EI),this.nodes.forEach(_I),this.nodes.forEach(xI)):this.nodes.forEach(t3),this.clearAllSnapshots();const d=si.now();jn.delta=os(0,1e3/60,d-jn.timestamp),jn.timestamp=d,jn.isProcessing=!0,Dg.update.process(jn),Dg.preRender.process(jn),Dg.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CI),this.sharedNodes.forEach($I)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vn(this.snapshot.measuredBox.x)&&!Vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!jC(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;l&&this.instance&&(d||Ya(this.latestValues)||y)&&(s(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),PI(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Xt();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(MI))){const{scroll:g}=this.root;g&&(pl(d.x,g.offset.x),pl(d.y,g.offset.y))}return d}removeElementScroll(l){const d=Xt();if(Ri(d,l),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ri(d,l),pl(d.x,y.offset.x),pl(d.y,y.offset.y))}return d}applyTransform(l,d=!1){const f=Xt();Ri(f,l);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&gl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ya(y.latestValues)&&gl(f,y.latestValues)}return Ya(this.latestValues)&&gl(f,this.latestValues),f}removeTransform(l){const d=Xt();Ri(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!Ya(g.latestValues))continue;ey(g.latestValues)&&g.updateSnapshot();const y=Xt(),v=g.measurePageBox();Ri(y,v),Kw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ya(this.latestValues)&&Kw(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),wc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),lC(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),wc(this.relativeTargetOrigin,this.target,x.target),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ey(this.parent.latestValues)||oC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ri(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;QD(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xt());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qw(this.prevProjectionDelta.x,this.projectionDelta.x),qw(this.prevProjectionDelta.y,this.projectionDelta.y)),xc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yl(),this.projectionDelta=yl(),this.projectionDeltaWithTransform=yl()}setAnimationOrigin(l,d=!1){const f=this.snapshot,g=f?f.latestValues:{},y={...this.latestValues},v=yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Xt(),w=f?f.source:void 0,C=this.layout?this.layout.source:void 0,T=w!==C,k=this.getStack(),$=!k||k.members.length<=1,P=!!(T&&!$&&this.options.crossfade===!0&&!this.path.some(LI));this.animationProgress=0;let N;this.mixTargetDelta=U=>{const H=U/1e3;i3(v.x,l.x,H),i3(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NI(this.relativeTarget,this.relativeTargetOrigin,x,H),N&&pI(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Xt()),Ri(N,this.relativeTarget)),T&&(this.animationValues=y,uI(y,g,this.latestValues,H,P,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{rf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pl(0)),this.currentAnimation=rI(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:g,latestValues:y}=l;if(!(!d||!f||!g)){if(this!==l&&this.layout&&g&&LC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Xt();const v=Vn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const x=Vn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+x}Ri(d,f),gl(d,y),xc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new gI),this.sharedNodes.get(l).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const g={};f.z&&Wg("z",l,g,this.animationValues);for(let y=0;y<Kg.length;y++)Wg(`rotate${Kg[y]}`,l,g,this.animationValues),Wg(`skew${Kg[y]}`,l,g,this.animationValues);l.render();for(const y in g)l.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=nf(d?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=nf(d?.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=yI(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),l.transform=v;const{x,y:w}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,g.animationValues?l.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in Bc){if(y[C]===void 0)continue;const{correct:T,applyTo:k,isCSSVariable:$}=Bc[C],P=v==="none"?y[C]:T(y[C],g);if(k){const N=k.length;for(let U=0;U<N;U++)l[k[U]]=P}else $?this.options.visualElement.renderState.vars[C]=P:l[C]=P}this.options.layoutId&&(l.pointerEvents=g===this?nf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(e3),this.root.sharedNodes.clear()}}}function _I(e){e.updateLayout()}function xI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Di(y=>{const v=a?t.measuredBox[y]:t.layoutBox[y],x=Vn(v);v.min=n[y].min,v.max=v.min+x}):LC(s,t.layoutBox,n)&&Di(y=>{const v=a?t.measuredBox[y]:t.layoutBox[y],x=Vn(n[y]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const l=yl();xc(l,n,t.layoutBox);const d=yl();a?xc(d,e.applyTransform(i,!0),t.measuredBox):xc(d,n,t.layoutBox);const f=!jC(l);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const w=Xt();wc(w,t.layoutBox,v.layoutBox);const C=Xt();wc(C,n,x.layoutBox),kC(w,C)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function wI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function SI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CI(e){e.clearSnapshot()}function e3(e){e.clearMeasurements()}function t3(e){e.isLayoutDirty=!1}function EI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function n3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TI(e){e.resolveTargetDelta()}function jI(e){e.calcProjection()}function kI(e){e.resetSkewAndRotation()}function $I(e){e.removeLeadSnapshot()}function i3(e,t,n){e.translate=Vt(t.translate,0,n),e.scale=Vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function r3(e,t,n,i){e.min=Vt(t.min,n.min,i),e.max=Vt(t.max,n.max,i)}function NI(e,t,n,i){r3(e.x,t.x,n.x,i),r3(e.y,t.y,n.y,i)}function LI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const AI={duration:.45,ease:[.4,0,.1,1]},s3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),a3=s3("applewebkit/")&&!s3("chrome/")?Math.round:Bi;function o3(e){e.min=a3(e.min),e.max=a3(e.max)}function PI(e){o3(e.x),o3(e.y)}function LC(e,t,n){return e==="position"||e==="preserve-aspect"&&!Iz(Qw(t),Qw(n),.2)}function MI(e){return e!==e.root&&e.scroll?.wasRoot}const OI=NC({attachResizeListener:(e,t)=>Uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yg={current:void 0},AC=NC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yg.current){const e=new OI({});e.mount(window),e.setOptions({layoutScroll:!0}),Yg.current=e}return Yg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RI={pan:{Feature:eI},drag:{Feature:Jz,ProjectionNode:AC,MeasureLayout:CC}};function l3(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&zt.postRender(()=>a(t,rd(t)))}class DI extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=iD(t,(n,i)=>(l3(this.node,i,"Start"),s=>l3(this.node,s,"End"))))}unmount(){}}class zI extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=td(Uc(this.node.current,"focus",()=>this.onFocus()),Uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u3(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&zt.postRender(()=>a(t,rd(t)))}class II extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=oD(t,(n,i)=>(u3(this.node,i,"Start"),(s,{success:a})=>u3(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oy=new WeakMap,Xg=new WeakMap,BI=e=>{const t=oy.get(e.target);t&&t(e)},UI=e=>{e.forEach(BI)};function VI({root:e,...t}){const n=e||document;Xg.has(n)||Xg.set(n,{});const i=Xg.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(UI,{root:e,...t})),i[s]}function HI(e,t,n){const i=VI(t);return oy.set(e,n),i.observe(e),()=>{oy.delete(e),i.unobserve(e)}}const FI={some:0,all:1};class qI extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:FI[s]},d=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,a&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=g?y:v;x&&x(f)};return HI(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ZI(t,n))&&this.startObserver()}unmount(){}}function ZI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const GI={inView:{Feature:qI},tap:{Feature:II},focus:{Feature:zI},hover:{Feature:DI}},KI={layout:{ProjectionNode:AC,MeasureLayout:CC}},WI={...Pz,...GI,...RI,...KI},c3=WD(WI,lz),PC=({marker:e,onClose:t})=>{const n=cO(),{organizationLogo:i}=na(),{isFavorite:s,toggleFavorite:a}=zf();return j.useEffect(()=>(n&&n.dragging.disable(),()=>{n&&n.dragging.enable()}),[n]),e?MS.createPortal(h.jsxs(yD,{children:[h.jsx(c3.div,{className:"bottom-sheet-backdrop",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}},"backdrop"),h.jsxs(c3.div,{className:"bottom-sheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.25,onDragEnd:(l,d)=>{d.offset.y>100&&t()},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[h.jsx("div",{className:"handle"}),h.jsxs("div",{className:"content",children:[h.jsx("div",{className:"w-20 h-20 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:h.jsx("img",{src:Yc(e.logo,i),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),h.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[h.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&h.jsx(Xc,{isFavorite:s(e.companyId),onToggle:()=>a(e.companyId),size:"md"})]}),e.glyph&&h.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Booth ",e.glyph]}),e.website&&h.jsx("div",{className:"text-sm mb-1",children:h.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:e.website})}),e.info&&h.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",children:e.info}),h.jsx("button",{onClick:t,className:"mt-4 w-full bg-gray-200 py-2 rounded-md text-gray-700 font-medium hover:bg-gray-300",children:"Close"})]})]},"sheet")]}),document.body):null},YI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId;return h.jsxs("div",{className:"flex items-center gap-2 p-1",children:[n&&h.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white rounded-sm border border-gray-200 overflow-hidden",children:h.jsx("img",{src:Yc(e.logo,t),alt:"",className:"max-w-[70%] max-h-[70%] object-contain"})}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[e.glyph&&h.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Booth ",e.glyph]}),e.name?h.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}):h.jsx("div",{className:"text-xs font-medium text-gray-500 italic",children:"Unassigned"})]})]})},XI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId,{isFavorite:i,toggleFavorite:s}=zf(),a=l$(e);return h.jsx(Kf,{closeButton:!0,className:"marker-popup-scrollable",autoPan:!0,maxWidth:320,minWidth:240,children:h.jsx("div",{className:"popup-scroll-container",children:h.jsxs("div",{className:"popup-scroll-content",children:[n&&h.jsx("div",{className:"w-24 h-24 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden flex-shrink-0",children:h.jsx("img",{src:Yc(e.logo,t),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?h.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[h.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&h.jsx(Xc,{isFavorite:i(e.companyId),onToggle:()=>s(e.companyId),size:"sm"})]}):h.jsx("div",{className:"text-base font-semibold text-gray-500 italic mb-1",children:"Unassigned Booth"}),e.glyph&&h.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Booth ",e.glyph]}),e.website&&h.jsx("div",{className:"text-sm mb-2",children:h.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",style:{wordBreak:"break-all"},children:e.website})}),a&&h.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:a})]})})})},QI=({marker:e,onMoreInfo:t,organizationLogo:n})=>{const i=e.name||e.companyId;return h.jsx(Kf,{closeButton:!0,className:"marker-popup",autoPan:!0,children:h.jsxs("div",{className:"p-2 text-center",children:[i&&h.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:h.jsx("img",{src:Yc(e.logo,n),alt:"",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?h.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name}):h.jsx("div",{className:"font-semibold text-gray-500 italic text-sm",children:"Unassigned Booth"}),e.glyph&&h.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:["Booth ",e.glyph]}),i&&h.jsx("button",{onClick:t,className:"bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full hover:bg-blue-600",children:"More Info"})]})})},MC=({marker:e,onMoreInfo:t,isMobile:n,organizationLogo:i})=>{const s=e&&(e.glyph!==void 0&&e.glyph!==null&&e.glyph!==""||e.name);return h.jsxs(h.Fragment,{children:[!n&&h.jsxs(h.Fragment,{children:[s&&h.jsx(mO,{direction:"top",offset:[0,-10],opacity:.95,children:h.jsx(YI,{marker:e,organizationLogo:i})}),h.jsx(XI,{marker:e,organizationLogo:i})]}),n&&h.jsx(QI,{marker:e,onMoreInfo:t,organizationLogo:i})]})};function OC({marker:e,subscriptions:t,assignments:n,onAssign:i,onUnassign:s,isLoading:a,onClose:l}){const[d,f]=j.useState(""),g=j.useRef(null),y=n.find(C=>C.marker_id===e.id),v=t.filter(C=>{const T=n.filter(N=>N.company_id===C.company_id),k=T.length,$=C.booth_count||1;return!T.some(N=>N.marker_id===e.id)&&k<$}).map(C=>{const k=n.filter(N=>N.company_id===C.company_id).length,$=C.booth_count||1,P=$-k;return{id:C.company_id,name:C.company?.name||"Unknown Company",logo:C.company?.logo||null,website:C.company?.website||null,assignedBooths:k,totalBooths:$,remainingBooths:P}}).filter(C=>C.name.toLowerCase().includes(d.toLowerCase()));j.useEffect(()=>{g.current&&g.current.focus()},[]);const x=async C=>{await i(e.id,C),l()},w=async()=>{y&&(await s(e.id,y.company_id),l())};return h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-300",children:h.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(Se,{path:_l,size:.8,className:"text-blue-600"}),e.name||`Marker ${e.id}`]})}),y&&(()=>{const T=n.filter(P=>P.company_id===y.company_id).length,$=t.find(P=>P.company_id===y.company_id)?.booth_count||1;return h.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.company?.logo?h.jsx("img",{src:ir(y.company.logo),alt:y.company.name,className:"w-8 h-8 object-contain flex-shrink-0"}):h.jsx(Se,{path:_l,size:1.2,className:"text-gray-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:y.company?.name||"Unknown"}),h.jsxs("div",{className:"text-xs text-gray-600",children:["Using ",T," of ",$," booth",$!==1?"s":""]})]})]}),h.jsx("button",{onClick:w,disabled:a,className:"ml-2 px-2 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Unassign company",children:h.jsx(Se,{path:oo,size:.55,className:"inline"})})]})})})(),v.length>5&&h.jsxs("div",{className:"mb-2 relative",children:[h.jsx(Se,{path:co,size:.65,className:"absolute left-2 top-2 text-gray-400"}),h.jsx("input",{ref:g,type:"text",value:d,onChange:C=>f(C.target.value),placeholder:"Search companies...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),h.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?h.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:d?"No companies match your search":y?"No other companies available":"No subscribed companies available"}):h.jsx("div",{className:"space-y-1",children:v.map(C=>h.jsxs("button",{onClick:()=>x(C.id),disabled:a,className:"w-full flex items-center gap-2 p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",title:`Assign ${C.name} (${C.remainingBooths} booth${C.remainingBooths!==1?"s":""} available)`,children:[C.logo?h.jsx("img",{src:ir(C.logo),alt:C.name,className:"w-8 h-8 object-contain flex-shrink-0"}):h.jsx(Se,{path:_l,size:1.2,className:"text-gray-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm text-gray-800 truncate",children:C.name}),h.jsxs("div",{className:"text-xs text-gray-500",children:[C.remainingBooths," of ",C.totalBooths," booth",C.totalBooths!==1?"s":""," available"]})]})]},C.id))})}),a&&h.jsx("div",{className:"mt-2 text-xs text-center text-blue-600",children:"Processing..."})]})}function Jf(e=new Date().getFullYear()){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null),d=j.useRef(e);j.useEffect(()=>{d.current=e},[e]);const f=j.useCallback(async P=>{try{s(!0),l(null);const N=P!==void 0?P:d.current,{data:U,error:H}=await ge.from("assignments").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).eq("event_year",N).order("marker_id",{ascending:!0});if(H)throw H;n(U||[])}catch(N){console.error("Error loading assignments:",N),l(N.message)}finally{s(!1)}},[]),g=j.useCallback(async P=>{try{const N={...P,event_year:P.event_year||e},{data:U,error:H}=await ge.from("assignments").insert([N]).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(H)throw H;return n(B=>[...B,U].sort((Z,ne)=>Z.marker_id-ne.marker_id)),{data:U,error:null}}catch(N){return console.error("Error creating assignment:",N),{data:null,error:N.message}}},[e]),y=j.useCallback(async(P,N)=>{try{const{data:U,error:H}=await ge.from("assignments").update(N).eq("id",P).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(H)throw H;return n(B=>B.map(Z=>Z.id===P?U:Z).sort((Z,ne)=>Z.marker_id-ne.marker_id)),{data:U,error:null}}catch(U){return console.error("Error updating assignment:",U),{data:null,error:U.message}}},[]),v=j.useCallback(async P=>{try{const{error:N}=await ge.from("assignments").delete().eq("id",P);if(N)throw N;return n(U=>U.filter(H=>H.id!==P)),{error:null}}catch(N){return console.error("Error deleting assignment:",N),{error:N.message}}},[]),x=j.useCallback(async(P,N)=>g({marker_id:P,company_id:N}),[g]),w=j.useCallback(async(P,N)=>{try{const{error:U}=await ge.from("assignments").delete().eq("marker_id",P).eq("company_id",N).eq("event_year",e);if(U)throw U;return n(H=>H.filter(B=>!(B.marker_id===P&&B.company_id===N))),{error:null}}catch(U){return console.error("Error unassigning company:",U),{error:U.message}}},[e]),C=j.useCallback(P=>t.filter(N=>N.marker_id===P),[t]),T=j.useCallback(P=>t.filter(N=>N.company_id===P),[t]),k=j.useCallback(async()=>{try{const{data:P,error:N}=await ge.rpc("archive_assignments",{year_to_archive:e});if(N)throw N;return n([]),{data:P,error:null}}catch(P){return console.error("Error archiving assignments:",P),{data:null,error:P.message}}},[e]),$=j.useCallback(async P=>{try{const{data:N,error:U}=await ge.from("assignments_archive").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info))
        `).eq("event_year",P).order("marker_id",{ascending:!0});if(U)throw U;return{data:N,error:null}}catch(N){return console.error("Error loading archived assignments:",N),{data:null,error:N.message}}},[]);return j.useEffect(()=>{f()},[f]),j.useEffect(()=>{f()},[e,f]),j.useEffect(()=>{const P=ge.channel(`assignments-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"assignments",filter:`event_year=eq.${e}`},N=>{N.eventType==="INSERT"&&N.new?n(U=>(U.some(B=>B.id===N.new.id)||f(),U)):f()}).subscribe();return()=>{ge.removeChannel(P)}},[e,f]),{assignments:t,loading:i,error:a,createAssignment:g,updateAssignment:y,deleteAssignment:v,assignCompanyToMarker:x,unassignCompanyFromMarker:w,getMarkerAssignments:C,getCompanyAssignments:T,archiveCurrentYear:k,loadArchivedAssignments:$,reload:f}}function us({isOpen:e,onClose:t,title:n,children:i,size:s="md",showCloseButton:a=!0,closeOnBackdrop:l=!0,className:d=""}){if(!e)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"},g=y=>{l&&t&&t()};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40",onClick:g,role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,children:h.jsxs("div",{className:`bg-white rounded-xl shadow-2xl border border-gray-200 ${f[s]} w-full max-h-[90vh] flex flex-col ${d}`,onClick:y=>y.stopPropagation(),children:[n&&h.jsxs("div",{className:"flex-shrink-0 bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[h.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:n}),a&&t&&h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-200","aria-label":"Close",children:h.jsx(Se,{path:oo,size:.9})})]}),h.jsx("div",{className:"overflow-y-auto flex-1 [&_input]:bg-white [&_input]:text-gray-900 [&_textarea]:bg-white [&_textarea]:text-gray-900 [&_select]:bg-white [&_select]:text-gray-900",children:i})]})})}us.propTypes={isOpen:Ae.bool.isRequired,onClose:Ae.func,title:Ae.string,children:Ae.node.isRequired,size:Ae.oneOf(["sm","md","lg","xl","full"]),showCloseButton:Ae.bool,closeOnBackdrop:Ae.bool,className:Ae.string};us.defaultProps={onClose:null,title:null,size:"md",showCloseButton:!0,closeOnBackdrop:!0,className:""};function N1({isOpen:e,title:t,message:n,confirmText:i,cancelText:s,onConfirm:a,onCancel:l,variant:d}){const f={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",default:"bg-blue-600 hover:bg-blue-700"},g=f[d]||f.default;return h.jsx(us,{isOpen:e,onClose:l,title:t,size:"md",children:h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:s}),h.jsx("button",{onClick:a,className:`px-4 py-2 text-white rounded-md transition-colors ${g}`,autoFocus:!0,children:i})]})]})})}N1.propTypes={isOpen:Ae.bool.isRequired,title:Ae.string,message:Ae.string.isRequired,confirmText:Ae.string,cancelText:Ae.string,onConfirm:Ae.func.isRequired,onCancel:Ae.func.isRequired,variant:Ae.oneOf(["default","danger","warning"])};N1.defaultProps={title:null,confirmText:"Confirm",cancelText:"Cancel",variant:"default"};function L1({message:e,type:t,onClose:n,duration:i}){j.useEffect(()=>{if(i>0){const l=setTimeout(n,i);return()=>clearTimeout(l)}},[i,n]);const s={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},a=s[t]||s.info;return h.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white max-w-sm ${a}`,role:"alert",children:h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("p",{className:"text-sm",children:e}),h.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-lg leading-none","aria-label":"Close",children:""})]})})}L1.propTypes={message:Ae.string.isRequired,type:Ae.oneOf(["success","error","warning","info"]),onClose:Ae.func.isRequired,duration:Ae.number};L1.defaultProps={type:"info",duration:5e3};const RC=j.createContext(null);function DC({children:e}){const[t,n]=j.useState({isOpen:!1,title:null,message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"default",resolve:null}),[i,s]=j.useState([]),a=j.useCallback(({title:T,message:k,confirmText:$,cancelText:P,variant:N}={})=>new Promise(U=>{n({isOpen:!0,title:T||null,message:k||"",confirmText:$||"Confirm",cancelText:P||"Cancel",variant:N||"default",resolve:U})}),[]),l=j.useCallback(()=>{t.resolve?.(!0),n(T=>({...T,isOpen:!1}))},[t.resolve]),d=j.useCallback(()=>{t.resolve?.(!1),n(T=>({...T,isOpen:!1}))},[t.resolve]),f=j.useCallback(({message:T,type:k="info",duration:$=5e3}={})=>{const P=Date.now()+Math.random();return s(N=>[...N,{id:P,message:T,type:k,duration:$}]),P},[]),g=j.useCallback((T,k)=>f({message:T,type:"success",duration:k}),[f]),y=j.useCallback((T,k)=>f({message:T,type:"error",duration:k}),[f]),v=j.useCallback((T,k)=>f({message:T,type:"warning",duration:k}),[f]),x=j.useCallback((T,k)=>f({message:T,type:"info",duration:k}),[f]),w=j.useCallback(T=>{s(k=>k.filter($=>$.id!==T))},[]),C={confirm:a,toast:f,toastSuccess:g,toastError:y,toastWarning:v,toastInfo:x};return h.jsxs(RC.Provider,{value:C,children:[e,h.jsx(N1,{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,variant:t.variant,onConfirm:l,onCancel:d}),h.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:i.map(T=>h.jsx(L1,{message:T.message,type:T.type,duration:T.duration,onClose:()=>w(T.id)},T.id))})]})}DC.propTypes={children:Ae.node.isRequired};function Lr(){const e=j.useContext(RC);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e}function JI({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,selectedYear:i,isAdminView:s,selectedMarkerId:a,onMarkerSelect:l}){const d=Wy("md"),[f,g]=j.useState(null),y=s&&a!==void 0?e.find(W=>W.id===a):f,v=s&&l?W=>l(W?W.id:null):g,{organizationLogo:x}=na(),[w,C]=j.useState({isOpen:!1,position:null,marker:null}),[T,k]=j.useState(!1),{subscriptions:$}=ed(i||new Date().getFullYear()),{assignments:P,assignCompanyToMarker:N,unassignCompanyFromMarker:U}=Jf(i||new Date().getFullYear()),{confirm:H}=Lr(),B=j.useCallback(W=>q=>{const{lat:X,lng:oe}=q.target.getLatLng();t(W,{lat:X,lng:oe})},[t]),Z=j.useCallback(W=>q=>{s&&(Dt.DomEvent.preventDefault(q),C({isOpen:!0,position:q.latlng,marker:W,timestamp:Date.now()}))},[s]),ne=j.useCallback(async(W,q)=>{const X=P.filter(oe=>oe.marker_id===W);if(X.length>0){const Q=$.find(Ce=>Ce.company_id===q)?.company?.name||"this company",se=e.find(Ce=>Ce.id===W),V=se?.glyph||se?.id||"this booth";let G;if(X.length===1){const Ce=X[0].company?.name||"another company";G=`Booth ${V} is already assigned to ${Ce}.

Assign ${Q} as an additional company for this booth?`}else{const Ce=X.map(O=>O.company?.name).filter(Boolean).join(", ");G=`Booth ${V} is already assigned to ${X.length} companies: ${Ce}.

Assign ${Q} as another company for this booth?`}if(!await H({title:"Multiple Assignments",message:G,confirmText:"Assign",variant:"warning"}))return}k(!0);try{await N(W,q)}catch(oe){console.error("Error assigning company:",oe)}finally{k(!1)}},[N,P,$,e]),F=j.useCallback(async(W,q)=>{k(!0);try{await U(W,q)}catch(X){console.error("Error unassigning company:",X)}finally{k(!1)}},[U]);return h.jsxs(h.Fragment,{children:[e.filter(W=>W.id>=1001).map(W=>{const q=[W.lat,W.lng],X=Ky({className:W.type?`marker-icon marker-type-${W.type}`:"marker-icon",prefix:W.prefix,iconUrl:Al(W.iconUrl||`${W.type||"default"}.svg`),iconSize:Array.isArray(W.iconSize)?W.iconSize:[17,28],glyph:W.glyph||"?",glyphColor:W.glyphColor||"white",glyphSize:W.glyphSize||"12px",glyphAnchor:W.glyphAnchor||[0,-5],isActive:y?.id===W.id}),oe=n(W),Q={popupopen:se=>se.target.closeTooltip(),...oe&&{dragend:B(W.id)},...s&&{contextmenu:Z(W)}};return h.jsx(e4,{position:q,icon:X,draggable:oe,eventHandlers:Q,children:h.jsx(MC,{marker:W,isMobile:d,organizationLogo:x,onMoreInfo:()=>{v(W)}})},W.id)}),w.isOpen&&w.marker&&h.jsx(Kf,{position:w.position,onClose:()=>C({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:h.jsx(OC,{marker:w.marker,subscriptions:$,assignments:P,onAssign:ne,onUnassign:F,isLoading:T,onClose:()=>C({isOpen:!1,position:null,marker:null})})},`context-${w.marker.id}-${w.timestamp||Date.now()}`),d&&y&&h.jsx(PC,{marker:y,onClose:()=>v(null)})]})}var cc={exports:{}},eB=cc.exports,d3;function tB(){return d3||(d3=1,(function(e,t){(function(n,i){i(t)})(eB,function(n){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var l=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,l?this._withAnimation:this._noAnimation),this._markerCluster=l?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var l=a,d=this._zoom;if(a.__parent)for(;l.__parent._zoom>=d;)l=l.__parent;return this._currentShownBounds.contains(l.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,l):this._animationAddLayerNonAnimated(a,l)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,l){if(!L.Util.isArray(a))return this.addLayer(a);var d=this._featureGroup,f=this._nonPointGroup,g=this.options.chunkedLoading,y=this.options.chunkInterval,v=this.options.chunkProgress,x=a.length,w=0,C=!0,T;if(this._map){var k=new Date().getTime(),$=L.bind(function(){var N=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();w<x;w++){if(g&&w%200===0){var U=new Date().getTime()-N;if(U>y)break}if(T=a[w],T instanceof L.LayerGroup){C&&(a=a.slice(),C=!1),this._extractNonGroupLayers(T,a),x=a.length;continue}if(!T.getLatLng){f.addLayer(T),l||this.fire("layeradd",{layer:T});continue}if(!this.hasLayer(T)&&(this._addLayer(T,this._maxZoom),l||this.fire("layeradd",{layer:T}),T.__parent&&T.__parent.getChildCount()===2)){var H=T.__parent.getAllChildMarkers(),B=H[0]===T?H[1]:H[0];d.removeLayer(B)}}v&&v(w,x,new Date().getTime()-k),w===x?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout($,this.options.chunkDelay)},this);$()}else for(var P=this._needsClustering;w<x;w++){if(T=a[w],T instanceof L.LayerGroup){C&&(a=a.slice(),C=!1),this._extractNonGroupLayers(T,a),x=a.length;continue}if(!T.getLatLng){f.addLayer(T);continue}this.hasLayer(T)||P.push(T)}return this},removeLayers:function(a){var l,d,f=a.length,g=this._featureGroup,y=this._nonPointGroup,v=!0;if(!this._map){for(l=0;l<f;l++){if(d=a[l],d instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(d,a),f=a.length;continue}this._arraySplice(this._needsClustering,d),y.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var x=a.slice(),w=f;for(l=0;l<w;l++){if(d=x[l],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,x),w=x.length;continue}this._unspiderfyLayer(d)}}for(l=0;l<f;l++){if(d=a[l],d instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(d,a),f=a.length;continue}if(!d.__parent){y.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),g.hasLayer(d)&&(g.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var l=this._needsClustering.length-1;l>=0;l--)a.extend(this._needsClustering[l].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,l){var d=this._needsClustering.slice(),f=this._needsRemoving,g,y,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),y=d.length-1;y>=0;y--){for(g=!0,v=f.length-1;v>=0;v--)if(f[v].layer===d[y]){g=!1;break}g&&a.call(l,d[y])}this._nonPointGroup.eachLayer(a,l)},getLayers:function(){var a=[];return this.eachLayer(function(l){a.push(l)}),a},getLayer:function(a){var l=null;return a=parseInt(a,10),this.eachLayer(function(d){L.stamp(d)===a&&(l=d)}),l},hasLayer:function(a){if(!a)return!1;var l,d=this._needsClustering;for(l=d.length-1;l>=0;l--)if(d[l]===a)return!0;for(d=this._needsRemoving,l=d.length-1;l>=0;l--)if(d[l].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,l){var d=this._map;typeof l!="function"&&(l=function(){});var f=function(){(d.hasLayer(a)||d.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",f,this),this.off("animationend",f,this),d.hasLayer(a)?l():a.__parent._icon&&(this.once("spiderfied",l,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?l():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var l,d,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,l=0,d=this._needsRemoving.length;l<d;l++)f=this._needsRemoving[l],f.newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(l=0,d=this._needsRemoving.length;l<d;l++)f=this._needsRemoving[l],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var l=a;l&&!l._icon;)l=l.__parent;return l||null},_arraySplice:function(a,l){for(var d=a.length-1;d>=0;d--)if(a[d]===l)return a.splice(d,1),!0},_removeFromGridUnclustered:function(a,l){for(var d=this._map,f=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());l>=g&&f[l].removeObject(a,d.project(a.getLatLng(),l));l--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var l=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),l&&a.target.openPopup()}},_moveChild:function(a,l,d){a._latlng=l,this.removeLayer(a),a._latlng=d,this.addLayer(a)},_childMarkerDragEnd:function(a){var l=a.target.__dragStart;delete a.target.__dragStart,l&&this._moveChild(a.target,l,a.target._latlng)},_removeLayer:function(a,l,d){var f=this._gridClusters,g=this._gridUnclustered,y=this._featureGroup,v=this._map,x=Math.floor(this._map.getMinZoom());l&&this._removeFromGridUnclustered(a,this._maxZoom);var w=a.__parent,C=w._markers,T;for(this._arraySplice(C,a);w&&(w._childCount--,w._boundsNeedUpdate=!0,!(w._zoom<x));)l&&w._childCount<=1?(T=w._markers[0]===a?w._markers[1]:w._markers[0],f[w._zoom].removeObject(w,v.project(w._cLatLng,w._zoom)),g[w._zoom].addObject(T,v.project(T.getLatLng(),w._zoom)),this._arraySplice(w.__parent._childClusters,w),w.__parent._markers.push(T),T.__parent=w.__parent,w._icon&&(y.removeLayer(w),d||y.addLayer(T))):w._iconNeedsUpdate=!0,w=w.__parent;delete a.__parent},_isOrIsParent:function(a,l){for(;l;){if(a===l)return!0;l=l.parentNode}return!1},fire:function(a,l,d){if(l&&l.layer instanceof L.MarkerCluster){if(l.originalEvent&&this._isOrIsParent(l.layer._icon,l.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,l,d)},listens:function(a,l){return L.FeatureGroup.prototype.listens.call(this,a,l)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,l)},_defaultIconCreateFunction:function(a){var l=a.getChildCount(),d=" marker-cluster-";return l<10?d+="small":l<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+l+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,l=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(l||f||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var l=a.layer,d=l;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===l._childCount&&this.options.spiderfyOnMaxZoom?l.spiderfy():this.options.zoomToBoundsOnClick&&l.zoomToBounds(),this.options.spiderfyOnEveryZoom&&l.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var l=this._map;this._inZoomAnimation||(this._shownPolygon&&l.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),l.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,g=this._map;(a||d||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),l=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,f=d;typeof d!="function"&&(f=function(){return d}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var g=a;g>=l;g--)this._gridClusters[g]=new L.DistanceGrid(f(g)),this._gridUnclustered[g]=new L.DistanceGrid(f(g));this._topClusterLevel=new this._markerCluster(this,l-1)},_addLayer:function(a,l){var d=this._gridClusters,f=this._gridUnclustered,g=Math.floor(this._map.getMinZoom()),y,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);l>=g;l--){y=this._map.project(a.getLatLng(),l);var x=d[l].getNearObject(y);if(x){x._addChild(a),a.__parent=x;return}if(x=f[l].getNearObject(y),x){var w=x.__parent;w&&this._removeLayer(x,!1);var C=new this._markerCluster(this,l,x,a);d[l].addObject(C,this._map.project(C._cLatLng,l)),x.__parent=C,a.__parent=C;var T=C;for(v=l-1;v>w._zoom;v--)T=new this._markerCluster(this,v,T),d[v].addObject(T,this._map.project(x.getLatLng(),v));w._addChild(T),this._removeFromGridUnclustered(x,l);return}f[l].addObject(a,y)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var l=this._maxLat;return l!==void 0&&(a.getNorth()>=l&&(a._northEast.lat=1/0),a.getSouth()<=-l&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,l){if(l===a)this._featureGroup.addLayer(a);else if(l._childCount===2){l._addToMap();var d=l.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else l._updateIcon()},_extractNonGroupLayers:function(a,l){var d=a.getLayers(),f=0,g;for(l=l||[];f<d.length;f++){if(g=d[f],g instanceof L.LayerGroup){this._extractNonGroupLayers(g,l);continue}l.push(g)}return l},_overrideMarkerIcon:function(a){var l=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return l}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,l){this._animationAddLayerNonAnimated(a,l)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,l){var d=this._getExpandedVisibleBounds(),f=this._featureGroup,g=Math.floor(this._map.getMinZoom()),y;this._ignoreMove=!0,this._topClusterLevel._recursively(d,a,g,function(v){var x=v._latlng,w=v._markers,C;for(d.contains(x)||(x=null),v._isSingleParent()&&a+1===l?(f.removeLayer(v),v._recursivelyAddChildrenToMap(null,l,d)):(v.clusterHide(),v._recursivelyAddChildrenToMap(x,l,d)),y=w.length-1;y>=0;y--)C=w[y],d.contains(C._latlng)||f.removeLayer(C)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,l),f.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(d,a,l,function(v){v._recursivelyRestoreChildPositions(l)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,a,g,function(v){f.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,l){this._animationZoomOutSingle(this._topClusterLevel,a-1,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,l){var d=this,f=this._featureGroup;f.addLayer(a),l!==a&&(l._childCount>2?(l._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(l.getLatLng())),a.clusterHide(),this._enqueue(function(){f.removeLayer(a),a.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(l,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,l,d){var f=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(f,g,l+1,d);var y=this;this._forceLayout(),a._recursivelyBecomeVisible(f,d),this._enqueue(function(){if(a._childCount===1){var v=a._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else a._recursively(f,d,g,function(x){x._recursivelyRemoveChildrenFromMap(f,g,l+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,l,d,f){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=l,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),f&&this._addChild(f)},getAllChildMarkers:function(a,l){a=a||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(a,l);for(var f=this._markers.length-1;f>=0;f--)l&&this._markers[f].__dragStart||a.push(this._markers[f]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var l=this._childClusters.slice(),d=this._group._map,f=d.getBoundsZoom(this._bounds),g=this._zoom+1,y=d.getZoom(),v;l.length>0&&f>g;){g++;var x=[];for(v=0;v<l.length;v++)x=x.concat(l[v]._childClusters);l=x}f>g?this._group._map.setView(this._latlng,g):f<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,l){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(l||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(l||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,l=this._childClusters,d=0,f=0,g=this._childCount,y,v,x,w;if(g!==0){for(this._resetBounds(),y=0;y<a.length;y++)x=a[y]._latlng,this._bounds.extend(x),d+=x.lat,f+=x.lng;for(y=0;y<l.length;y++)v=l[y],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),x=v._wLatLng,w=v._childCount,d+=x.lat*w,f+=x.lng*w;this._latlng=this._wLatLng=new L.LatLng(d/g,f/g),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,l,d){this._recursively(a,this._group._map.getMinZoom(),d-1,function(f){var g=f._markers,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(l),v.clusterHide())},function(f){var g=f._childClusters,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(l),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,l,d,f){this._recursively(a,f,l,function(g){g._recursivelyAnimateChildrenIn(a,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),d),g._isSingleParent()&&d-1===f?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(a,l,d)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(a,l){this._recursively(a,this._group._map.getMinZoom(),l,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(a,l,d){this._recursively(d,this._group._map.getMinZoom()-1,l,function(f){if(l!==f._zoom)for(var g=f._markers.length-1;g>=0;g--){var y=f._markers[g];d.contains(y._latlng)&&(a&&(y._backupLatlng=y.getLatLng(),y.setLatLng(a),y.clusterHide&&y.clusterHide()),f._group._featureGroup.addLayer(y))}},function(f){f._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var l=this._markers.length-1;l>=0;l--){var d=this._markers[l];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(a-1===this._zoom)for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._restorePosition();else for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,l,d,f){var g,y;this._recursively(a,l-1,d-1,function(v){for(y=v._markers.length-1;y>=0;y--)g=v._markers[y],(!f||!f.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(v){for(y=v._childClusters.length-1;y>=0;y--)g=v._childClusters[y],(!f||!f.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(a,l,d,f,g){var y=this._childClusters,v=this._zoom,x,w;if(l<=v&&(f&&f(this),g&&v===d&&g(this)),v<l||v<d)for(x=y.length-1;x>=0;x--)w=y[x],w._boundsNeedUpdate&&w._recalculateBounds(),a.intersects(w._bounds)&&w._recursively(a,l,d,f,g)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,l){var d=this._getCoord(l.x),f=this._getCoord(l.y),g=this._grid,y=g[f]=g[f]||{},v=y[d]=y[d]||[],x=L.Util.stamp(a);this._objectPoint[x]=l,v.push(a)},updateObject:function(a,l){this.removeObject(a),this.addObject(a,l)},removeObject:function(a,l){var d=this._getCoord(l.x),f=this._getCoord(l.y),g=this._grid,y=g[f]=g[f]||{},v=y[d]=y[d]||[],x,w;for(delete this._objectPoint[L.Util.stamp(a)],x=0,w=v.length;x<w;x++)if(v[x]===a)return v.splice(x,1),w===1&&delete y[d],!0},eachObject:function(a,l){var d,f,g,y,v,x,w,C=this._grid;for(d in C){v=C[d];for(f in v)for(x=v[f],g=0,y=x.length;g<y;g++)w=a.call(l,x[g]),w&&(g--,y--)}},getNearObject:function(a){var l=this._getCoord(a.x),d=this._getCoord(a.y),f,g,y,v,x,w,C,T,k=this._objectPoint,$=this._sqCellSize,P=null;for(f=d-1;f<=d+1;f++)if(v=this._grid[f],v){for(g=l-1;g<=l+1;g++)if(x=v[g],x)for(y=0,w=x.length;y<w;y++)C=x[y],T=this._sqDist(k[L.Util.stamp(C)],a),(T<$||T<=$&&P===null)&&($=T,P=C)}return P},_getCoord:function(a){var l=Math.floor(a/this._cellSize);return isFinite(l)?l:a},_sqDist:function(a,l){var d=l.x-a.x,f=l.y-a.y;return d*d+f*f}},(function(){L.QuickHull={getDistant:function(a,l){var d=l[1].lat-l[0].lat,f=l[0].lng-l[1].lng;return f*(a.lat-l[0].lat)+d*(a.lng-l[0].lng)},findMostDistantPointFromBaseLine:function(a,l){var d=0,f=null,g=[],y,v,x;for(y=l.length-1;y>=0;y--){if(v=l[y],x=this.getDistant(v,a),x>0)g.push(v);else continue;x>d&&(d=x,f=v)}return{maxPoint:f,newPoints:g}},buildConvexHull:function(a,l){var d=[],f=this.findMostDistantPointFromBaseLine(a,l);return f.maxPoint?(d=d.concat(this.buildConvexHull([a[0],f.maxPoint],f.newPoints)),d=d.concat(this.buildConvexHull([f.maxPoint,a[1]],f.newPoints)),d):[a[0]]},getConvexHull:function(a){var l=!1,d=!1,f=!1,g=!1,y=null,v=null,x=null,w=null,C=null,T=null,k;for(k=a.length-1;k>=0;k--){var $=a[k];(l===!1||$.lat>l)&&(y=$,l=$.lat),(d===!1||$.lat<d)&&(v=$,d=$.lat),(f===!1||$.lng>f)&&(x=$,f=$.lng),(g===!1||$.lng<g)&&(w=$,g=$.lng)}d!==l?(T=v,C=y):(T=w,C=x);var P=[].concat(this.buildConvexHull([T,C],a),this.buildConvexHull([C,T],a));return P}}})(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),l=[],d,f;for(f=a.length-1;f>=0;f--)d=a[f].getLatLng(),l.push(d);return L.QuickHull.getConvexHull(l)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),l=this._group,d=l._map,f=d.latLngToLayerPoint(this._latlng),g;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?g=this._group.options.spiderfyShapePositions(a.length,f):a.length>=this._circleSpiralSwitchover?g=this._generatePointsSpiral(a.length,f):(f.y+=10,g=this._generatePointsCircle(a.length,f)),this._animationSpiderfy(a,g)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,l){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),f=d/this._2PI,g=this._2PI/a,y=[],v,x;for(f=Math.max(f,35),y.length=a,v=0;v<a;v++)x=this._circleStartAngle+v*g,y[v]=new L.Point(l.x+f*Math.cos(x),l.y+f*Math.sin(x))._round();return y},_generatePointsSpiral:function(a,l){var d=this._group.options.spiderfyDistanceMultiplier,f=d*this._spiralLengthStart,g=d*this._spiralFootSeparation,y=d*this._spiralLengthFactor*this._2PI,v=0,x=[],w;for(x.length=a,w=a;w>=0;w--)w<a&&(x[w]=new L.Point(l.x+f*Math.cos(v),l.y+f*Math.sin(v))._round()),v+=g/f+w*5e-4,f+=y/v;return x},_noanimationUnspiderfy:function(){var a=this._group,l=a._map,d=a._featureGroup,f=this.getAllChildMarkers(null,!0),g,y;for(a._ignoreMove=!0,this.setOpacity(1),y=f.length-1;y>=0;y--)g=f[y],d.removeLayer(g),g._preSpiderfyLatlng&&(g.setLatLng(g._preSpiderfyLatlng),delete g._preSpiderfyLatlng),g.setZIndexOffset&&g.setZIndexOffset(0),g._spiderLeg&&(l.removeLayer(g._spiderLeg),delete g._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:f}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,l){var d=this._group,f=d._map,g=d._featureGroup,y=this._group.options.spiderLegPolylineOptions,v,x,w,C;for(d._ignoreMove=!0,v=0;v<a.length;v++)C=f.layerPointToLatLng(l[v]),x=a[v],w=new L.Polyline([this._latlng,C],y),f.addLayer(w),x._spiderLeg=w,x._preSpiderfyLatlng=x._latlng,x.setLatLng(C),x.setZIndexOffset&&x.setZIndexOffset(1e6),g.addLayer(x);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,l){var d=this,f=this._group,g=f._map,y=f._featureGroup,v=this._latlng,x=g.latLngToLayerPoint(v),w=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),T=C.opacity,k,$,P,N,U,H;for(T===void 0&&(T=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),w?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=T,f._ignoreMove=!0,k=0;k<a.length;k++)$=a[k],H=g.layerPointToLatLng(l[k]),P=new L.Polyline([v,H],C),g.addLayer(P),$._spiderLeg=P,w&&(N=P._path,U=N.getTotalLength()+.1,N.style.strokeDasharray=U,N.style.strokeDashoffset=U),$.setZIndexOffset&&$.setZIndexOffset(1e6),$.clusterHide&&$.clusterHide(),y.addLayer($),$._setPos&&$._setPos(x);for(f._forceLayout(),f._animationStart(),k=a.length-1;k>=0;k--)H=g.layerPointToLatLng(l[k]),$=a[k],$._preSpiderfyLatlng=$._latlng,$.setLatLng(H),$.clusterShow&&$.clusterShow(),w&&(P=$._spiderLeg,N=P._path,N.style.strokeDashoffset=0,P.setStyle({opacity:T}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:d,markers:a})},200)},_animationUnspiderfy:function(a){var l=this,d=this._group,f=d._map,g=d._featureGroup,y=a?f._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):f.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),x=L.Path.SVG,w,C,T,k,$,P;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),C=v.length-1;C>=0;C--)w=v[C],w._preSpiderfyLatlng&&(w.closePopup(),w.setLatLng(w._preSpiderfyLatlng),delete w._preSpiderfyLatlng,P=!0,w._setPos&&(w._setPos(y),P=!1),w.clusterHide&&(w.clusterHide(),P=!1),P&&g.removeLayer(w),x&&(T=w._spiderLeg,k=T._path,$=k.getTotalLength()+.1,k.style.strokeDashoffset=$,T.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var N=0;for(C=v.length-1;C>=0;C--)w=v[C],w._spiderLeg&&N++;for(C=v.length-1;C>=0;C--)w=v[C],w._spiderLeg&&(w.clusterShow&&w.clusterShow(),w.setZIndexOffset&&w.setZIndexOffset(0),N>1&&g.removeLayer(w),f.removeLayer(w._spiderLeg),delete w._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:l,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var l,d;for(l in a)for(d=a[l].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(a){var l,d;for(l in a)d=a[l],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(a,l){var d=this.options.icon;return L.setOptions(d,a),this.setIcon(d),l&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=i,n.MarkerCluster=s,Object.defineProperty(n,"__esModule",{value:!0})})})(cc,cc.exports)),cc.exports}tB();function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}var nB=["children"];function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function f3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(i){iB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iB(e,t,n){return(t=rB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rB(e){var t=sB(e,"string");return Vc(t)=="symbol"?t:t+""}function sB(e,t){if(Vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Vc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m3(e,t){return uB(e)||lB(e,t)||oB(e,t)||aB()}function aB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(e,t){if(e){if(typeof e=="string")return p3(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p3(e,t):void 0}}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function lB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,l,d=[],f=!0,g=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(f=(i=a.call(n)).done)&&(d.push(i.value),d.length!==t);f=!0);}catch(y){g=!0,s=y}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(g)throw s}}return d}}function uB(e){if(Array.isArray(e))return e}function cB(e,t){if(e==null)return{};var n,i,s=dB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dB(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}Dt.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});Dt.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function hB(e,t){e.children;var n=cB(e,nB),i={},s={};Object.entries(n).forEach(function(l){var d=m3(l,2),f=d[0],g=d[1];return f.startsWith("on")?s[f]=g:i[f]=g});var a=new Dt.MarkerClusterGroup(i);return Object.entries(s).forEach(function(l){var d=m3(l,2),f=d[0],g=d[1],y="cluster".concat(f.substring(2).toLowerCase());a.on(y,g)}),{instance:a,context:f3(f3({},t),{},{layerContainer:a})}}var fB=oO(hB);const Ka={CHUNKED_LOADING:!0,SHOW_COVERAGE_ON_HOVER:!0,SPIDERFY_ON_MAX_ZOOM:!1,REMOVE_OUTSIDE_VISIBLE_BOUNDS:!0,DISABLE_CLUSTERING_AT_ZOOM:18,MAX_CLUSTER_RADIUS:400,MAX_MARKER_ID:1001},Wh={SIZE:[15,25],GLYPH_COLOR:"white",GLYPH_SIZE:"9px",GLYPH_ANCHOR:[0,-4]},mB=e=>e.iconUrl?Al(e.iconUrl):Al(`${e.type||"default"}.svg`),pB=(e,t=!1,n=!1)=>{let i=e.type?`marker-icon marker-type-${e.type}`:"marker-icon";return t&&(i+=" marker-active"),n&&(i+=" marker-favorited"),Ky({className:i,prefix:e.prefix,iconUrl:mB(e),iconSize:Array.isArray(e.iconSize)?e.iconSize:Wh.SIZE,glyph:e.glyph||"",glyphColor:e.glyphColor||Wh.GLYPH_COLOR,glyphSize:e.glyphSize||Wh.GLYPH_SIZE,glyphAnchor:e.glyphAnchor||Wh.GLYPH_ANCHOR})},gB=e=>`${e.id}-${e.lat}-${e.lng}-${e.iconUrl||""}-${e.glyph||""}`,yB=j.memo(({marker:e,isDraggable:t,icon:n,eventHandlers:i,markerRef:s,isMobile:a,organizationLogo:l,onMarkerSelect:d})=>h.jsx(e4,{position:[e.lat,e.lng],icon:n,draggable:t,eventHandlers:i,ref:s,children:h.jsx(MC,{marker:e,isMobile:a,organizationLogo:l,onMoreInfo:()=>d(e)})}),(e,t)=>{const n=e.icon===t.icon,i=e.isDraggable===t.isDraggable,s=e.eventHandlers===t.eventHandlers;return n&&i&&s?!(e.marker.name!==t.marker.name||e.marker.logo!==t.marker.logo||e.marker.website!==t.marker.website||e.marker.info!==t.marker.info):!1});function A1({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,iconCreateFunction:i,selectedYear:s,isAdminView:a,selectedMarkerId:l,onMarkerSelect:d,focusMarkerId:f,onFocusHandled:g}){const y=j.useRef({}),v=Wy("md"),[x,w]=j.useState(null),C=a&&l!==void 0?e.find(D=>D.id===l):x,T=a&&d?D=>d(D?D.id:null):w,{organizationLogo:k,loading:$}=na();let P=null;try{P=zf()}catch{}const N=P?.isFavorite||(()=>!1),[U,H]=j.useState({isOpen:!1,position:null,marker:null}),[B,Z]=j.useState(!1),{subscriptions:ne}=ed(s||new Date().getFullYear()),{assignments:F,assignCompanyToMarker:W,unassignCompanyFromMarker:q}=Jf(s||new Date().getFullYear()),{confirm:X}=Lr(),oe=j.useMemo(()=>e.filter(D=>D.id<Ka.MAX_MARKER_ID),[e]),Q=j.useCallback(D=>ce=>{const{lat:ie,lng:ue}=ce.target.getLatLng();t(D,{lat:ie,lng:ue})},[t]),se=j.useCallback(D=>(y.current[D]||(y.current[D]=Si.createRef()),y.current[D]),[]),V=j.useCallback(D=>ce=>{a&&(Dt.DomEvent.preventDefault(ce),H({isOpen:!0,position:ce.latlng,marker:D,timestamp:Date.now()}))},[a]),G=j.useCallback(async(D,ce)=>{const ie=F.filter(ue=>ue.marker_id===D);if(ie.length>0){const Te=ne.find(ke=>ke.company_id===ce)?.company?.name||"this company",Ee=e.find(ke=>ke.id===D),Le=Ee?.glyph||Ee?.id||"this booth";let _e;if(ie.length===1){const ke=ie[0].company?.name||"another company";_e=`Booth ${Le} is already assigned to ${ke}.

Assign ${Te} as an additional company for this booth?`}else{const ke=ie.map(Oe=>Oe.company?.name).filter(Boolean).join(", ");_e=`Booth ${Le} is already assigned to ${ie.length} companies: ${ke}.

Assign ${Te} as another company for this booth?`}if(!await X({title:"Multiple Assignments",message:_e,confirmText:"Assign",variant:"warning"}))return}Z(!0);try{await W(D,ce)}catch(ue){console.error("Error assigning company:",ue)}finally{Z(!1)}},[W,F,ne,e]),re=j.useCallback(async(D,ce)=>{Z(!0);try{await q(D,ce)}catch(ie){console.error("Error unassigning company:",ie)}finally{Z(!1)}},[q]),Ce=j.useRef({}),O=j.useCallback(D=>{const ce=`${D.id}-${n?"draggable":"static"}-${a?"admin":"visitor"}`;if(!Ce.current[ce]){const ie={popupopen:ue=>ue.target.closeTooltip()};n&&(ie.dragend=Q(D.id)),a&&(ie.contextmenu=V(D)),Ce.current[ce]=ie}return Ce.current[ce]},[n,Q,a,V]),R=j.useRef({}),J=j.useCallback((D,ce)=>{const ie=D.companyId?N(D.companyId):!1,ue=`${D.id}-${D.iconUrl||""}-${D.glyph||""}-${D.glyphColor||""}-${ce}-${ie}`;return R.current[ue]||(R.current[ue]=pB(D,ce,ie)),R.current[ue]},[N]);return j.useEffect(()=>{const D=new Set(oe.map(ce=>ce.id));Object.keys(Ce.current).forEach(ce=>{const ie=parseInt(ce.split("-")[0],10);D.has(ie)||delete Ce.current[ce]}),Object.keys(R.current).forEach(ce=>{const ie=parseInt(ce.split("-")[0],10);D.has(ie)||delete R.current[ce]})},[oe]),j.useEffect(()=>{if(!f)return;const ce=setTimeout(()=>{const ie=y.current[f];ie?.current&&(ie.current.openPopup(),g&&g())},1200);return()=>clearTimeout(ce)},[f,oe,g]),$?null:h.jsxs(h.Fragment,{children:[h.jsx(fB,{chunkedLoading:Ka.CHUNKED_LOADING,showCoverageOnHover:Ka.SHOW_COVERAGE_ON_HOVER,spiderfyOnMaxZoom:Ka.SPIDERFY_ON_MAX_ZOOM,removeOutsideVisibleBounds:Ka.REMOVE_OUTSIDE_VISIBLE_BOUNDS,disableClusteringAtZoom:Ka.DISABLE_CLUSTERING_AT_ZOOM,maxClusterRadius:Ka.MAX_CLUSTER_RADIUS,iconCreateFunction:i,children:oe.map(D=>{const ce=C?.id===D.id,ie=J(D,ce),ue=n(D),Te=gB(D);return h.jsx(yB,{marker:D,isDraggable:ue,icon:ie,eventHandlers:O(D),markerRef:se(D.id),isMobile:v,organizationLogo:k,onMarkerSelect:T},Te)})},"cluster-group"),U.isOpen&&U.marker&&h.jsx(Kf,{position:U.position,onClose:()=>H({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:h.jsx(OC,{marker:U.marker,subscriptions:ne,assignments:F,onAssign:G,onUnassign:re,isLoading:B,onClose:()=>H({isOpen:!1,position:null,marker:null})})},`context-${U.marker.id}-${U.timestamp||Date.now()}`),v&&C&&h.jsx(PC,{marker:C,onClose:()=>T(null)})]})}A1.propTypes={safeMarkers:Ae.arrayOf(Ae.shape({id:Ae.number.isRequired,lat:Ae.number.isRequired,lng:Ae.number.isRequired,type:Ae.string,iconUrl:Ae.string,iconSize:Ae.arrayOf(Ae.number),glyph:Ae.string,glyphColor:Ae.string,glyphSize:Ae.string,glyphAnchor:Ae.arrayOf(Ae.number),prefix:Ae.string,name:Ae.string,logo:Ae.string,website:Ae.string,info:Ae.string,companyId:Ae.number})).isRequired,updateMarker:Ae.func.isRequired,isMarkerDraggable:Ae.func.isRequired,iconCreateFunction:Ae.func.isRequired,selectedYear:Ae.number,isAdminView:Ae.bool,selectedMarkerId:Ae.number,onMarkerSelect:Ae.func,focusMarkerId:Ae.number,onFocusHandled:Ae.func};A1.defaultProps={selectedYear:new Date().getFullYear(),isAdminView:!1,selectedMarkerId:null,onMarkerSelect:null,focusMarkerId:null,onFocusHandled:null};function vB({isAdminView:e,mapInstance:t,updateMarker:n}){const{t:i}=wt(),[s,a]=j.useState(!1),[l,d]=j.useState(!1),[f,g]=j.useState(""),[y,v]=j.useState(""),x=()=>{d(!0),g(""),v("")},w=async()=>{if(!f||isNaN(Number(f))){v(i("mapManagement.errorInvalidId"));return}if(await T(f)){v(i("mapManagement.errorIdExists"));return}d(!1),a(!0),v("")},C=()=>{d(!1),g(""),v("")};j.useEffect(()=>{if(!s||!t||!f)return;const k=$=>{const P=$.latlng,N={...bB({lat:P.lat,lng:P.lng}),id:Number(f)};typeof n=="function"&&n(N.id,N,{add:!0}),a(!1),g(""),t.off("click",k)};return t.on("click",k),()=>{t.off("click",k)}},[s,t,n,f]);async function T(k){try{const{supabase:$}=await Kc(async()=>{const{supabase:N}=await Promise.resolve().then(()=>yS);return{supabase:N}},void 0),P=["Markers_Core","Markers_Appearance","Markers_Content"];for(const N of P){const{data:U,error:H}=await $.from(N).select("id").eq("id",Number(k));if(H)return!1;if(U&&U.length>0)return!0}return!1}catch{return!1}}return e?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:x,"aria-label":"Add marker",className:"bg-white rounded-full shadow p-2 flex items-center justify-center print-hide",style:{position:"absolute",left:10,top:60,zIndex:1001,width:44,height:44,border:"none",cursor:s?"crosshair":"pointer",background:s?"#e3f2fd":"white"},title:i(s?"mapManagement.addMarkerTooltipActive":"mapManagement.addMarkerTooltip"),children:[h.jsx(VS.Icon,{path:qk,size:1.5,color:"#1976d2","aria-hidden":"true",style:{width:"42px",height:"42px"}}),h.jsx("span",{className:"sr-only",children:i("mapManagement.addMarker")})]}),l&&h.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100svh",background:"rgba(0,0,0,0.3)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{background:"white",borderRadius:8,boxShadow:"0 2px 16px rgba(25,118,210,0.15)",padding:32,minWidth:320,display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx("h2",{style:{color:"#1976d2",fontWeight:700,marginBottom:16},children:i("mapManagement.enterMarkerId")}),h.jsx("input",{type:"number",value:f,onChange:k=>g(k.target.value),style:{fontSize:18,padding:"8px 12px",border:"2px solid #1976d2",borderRadius:4,marginBottom:12,width:"100%"},placeholder:i("mapManagement.markerIdPlaceholder"),min:1}),y&&h.jsx("div",{style:{color:"red",marginBottom:8},children:y}),h.jsxs("div",{style:{display:"flex",gap:12},children:[h.jsx("button",{onClick:w,style:{background:"#1976d2",color:"white",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:i("mapManagement.confirm")}),h.jsx("button",{onClick:C,style:{background:"#eee",color:"#1976d2",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:i("mapManagement.cancel")})]})]})})]}):null}function bB({lat:e,lng:t}){return{id:null,lat:e,lng:t,name:"",label:"",logo:"",coreLocked:!1}}var zC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g3=Si.createContext&&Si.createContext(zC),_B=["attr","size","title"];function xB(e,t){if(e==null)return{};var n=wB(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function wB(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cf.apply(this,arguments)}function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(i){SB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function SB(e,t,n){return t=CB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=EB(e,"string");return typeof t=="symbol"?t:t+""}function EB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IC(e){return e&&e.map((t,n)=>Si.createElement(t.tag,Ef({key:n},t.attr),IC(t.child)))}function mo(e){return t=>Si.createElement(TB,Cf({attr:Ef({},e.attr)},t),IC(e.child))}function TB(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=xB(e,_B),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Si.createElement("svg",Cf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:f,style:Ef(Ef({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Si.createElement("title",null,a),e.children)};return g3!==void 0?Si.createElement(g3.Consumer,null,n=>t(n)):t(zC)}function jB(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function kB(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function $B(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function NB(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(e)}function BC(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function LB(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function AB(e){return mo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}function PB(e){e&&e.zoomIn()}function MB(e){e&&e.zoomOut()}function OB(e,t,n){e&&e.setView(t,n)}function RB({mapInstance:e}){const t=()=>{window.L&&e&&e.printControl?e.printControl.printMap():window.print()};return h.jsx("button",{onClick:t,className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center","aria-label":"Print map",title:"Print map",type:"button",children:h.jsx(NB,{size:24,color:"#1976d2"})})}const DB={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function zB({mapInstance:e,mapCenter:t,mapZoom:n,searchControlRef:i,isAdminView:s,showLayersMenu:a,setShowLayersMenu:l,activeLayer:d,setActiveLayer:f,showRectanglesAndHandles:g,setShowRectanglesAndHandles:y,MAP_LAYERS:v}){const x=()=>PB(e),w=()=>MB(e),C=()=>OB(e,t,n);return h.jsxs("div",{className:"map-controls-print-hide",style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[h.jsxs("button",{onClick:C,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx($B,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Home"})]}),h.jsxs("button",{onClick:x,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(BC,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Zoom in"})]}),h.jsxs("button",{onClick:w,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(LB,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Zoom out"})]}),s&&h.jsx(RB,{mapInstance:e}),s&&h.jsxs("div",{style:{position:"relative"},children:[h.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>l(T=>!T),children:[h.jsx(Se,{path:Ik,size:1.2,color:"#1976d2"}),h.jsx("span",{className:"sr-only",children:"Map layers"})]}),a&&h.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[h.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),v.map(T=>h.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${d===T.key?"bg-blue-50 font-bold":""}`,onClick:()=>f(T.key),role:"menuitem",style:{color:"#1976d2"},children:T.name},T.key)),h.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),h.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[h.jsx("input",{type:"checkbox",checked:g,onChange:T=>y(T.target.checked),style:DB}),h.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:g?"inline-block":"none"},children:h.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:h.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),h.jsx("span",{style:{marginLeft:g?-8:0},children:"Booth Surface"})]})]})]})]})}function IB(e){return function(n){const i=n5(e),s="/Map".endsWith("/")?"/Map":"/Map/";return Ky({iconUrl:`${s}assets/icons/glyph-marker-icon-orange.svg`,iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='${i}' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}}function BB(e){return e.angle||0}function Ws(e,t,n){const i=n*Math.PI/180,s=e*Math.cos(i)-t*Math.sin(i),a=e*Math.sin(i)+t*Math.cos(i);return[s,a]}function sc(e){return e/111320}function ac(e,t){return e/(40075e3*Math.cos(t*Math.PI/180)/360)}function UB(e){return e*111320}function VB(e,t){return e*(40075e3*Math.cos(t*Math.PI/180)/360)}function HB({mapInstance:e,markers:t,rectangleSize:n,isAdminView:i,showRectanglesAndHandles:s,updateMarker:a,rectangleLayerRef:l}){if(!e)return;l.current||(l.current=Dt.layerGroup(),l.current.addTo(e));const d=l.current;d._markerLayers||(d._markerLayers={}),Object.keys(d._markerLayers).forEach(f=>{t.find(g=>g.id===f)||(d.removeLayer(d._markerLayers[f].rectangle),d.removeLayer(d._markerLayers[f].handle),delete d._markerLayers[f])}),t.forEach(f=>{if(f.lat&&f.lng){const g=Dt.latLng(f.lat,f.lng),y=Array.isArray(f.rectangle)&&f.rectangle.length===2?f.rectangle:n,v=Number(y[0])/2,x=Number(y[1])/2,w=BB(f),C="#1976d2",T=[Ws(-v,-x,w),Ws(v,-x,w),Ws(v,x,w),Ws(-v,x,w)],k=T.map(([N,U])=>Dt.latLng(g.lat+sc(U),g.lng+ac(N,g.lat)));let $,P;if(d._markerLayers[f.id]){$=d._markerLayers[f.id].rectangle,$.setLatLngs(k),P=d._markerLayers[f.id].handle;const[N,U]=T[2],H=Dt.latLng(g.lat+sc(U),g.lng+ac(N,g.lat));P.setLatLng(H)}else{$=Dt.polygon(k,{color:C,weight:1});const[N,U]=T[2],H=Dt.latLng(g.lat+sc(U),g.lng+ac(N,g.lat));let B;if(i&&!f.coreLocked){const Z=Dt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});B=Dt.marker(H,{icon:Z,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),B.on("dragstart",function(){e&&e.dragging.disable()});let ne=w;B.on("drag",function(F){const W=F.target.getLatLng(),q=VB(W.lng-g.lng,g.lat),X=UB(W.lat-g.lat);let Q=Math.atan2(X,q)*180/Math.PI;Q<0&&(Q+=360),ne=Q;const se=[Ws(-v,-x,ne),Ws(v,-x,ne),Ws(v,x,ne),Ws(-v,x,ne)],V=se.map(([O,R])=>Dt.latLng(g.lat+sc(R),g.lng+ac(O,g.lat)));$.setLatLngs(V);const[G,re]=se[2],Ce=Dt.latLng(g.lat+sc(re),g.lng+ac(G,g.lat));B.setLatLng(Ce)}),B.on("dragend",function(){e&&e.dragging.enable(),a(f.id,{angle:ne})})}else{const Z=Dt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});B=Dt.marker(H,{icon:Z,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}d.addLayer($),d.addLayer(B),d._markerLayers[f.id]={rectangle:$,handle:B}}}}),Object.values(d._markerLayers).forEach(({rectangle:f,handle:g})=>{s?(d.addLayer(f),d.addLayer(g)):(d.removeLayer(f),d.removeLayer(g))})}const FB=e=>[e.name,e.glyph,e.label].filter(Boolean).join(" | "),v3=(e,t)=>t&&e&&e.coreLocked===!1;function qB(){const e=j.useCallback(n=>{},[]),t=j.useCallback(n=>{},[]);return{trackMarkerView:e,trackMapInteraction:t}}var Qg={exports:{}},b3;function ZB(){return b3||(b3=1,(function(e){(function(t){e.exports=t(Gy())})(function(t){return t.Control.Search=t.Control.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,i){var s=i.split("."),a=s.pop(),l=s.length,d=s[0],f=1;if(l>0)for(;(n=n[d])&&f<l;)d=s[f++];if(n)return n[a]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){t.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new t.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=t.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof t.Marker||this.options.marker instanceof t.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new t.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=t.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):t.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var i=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){i.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",t.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var i=t.DomUtil.create("div",n,this._container);return i.style.display="none",t.DomEvent.on(i,"click",t.DomEvent.stop,this).on(i,"click",this.hideAlert,this),i},_createInput:function(n,i){var s=this,a=t.DomUtil.create("label",i,this._container),l=t.DomUtil.create("input",i,this._container);return l.type="text",l.size=this._inputMinSize,l.value="",l.autocomplete="off",l.autocorrect="off",l.autocapitalize="off",l.placeholder=n,l.style.display="none",l.role="search",l.id=l.role+l.type+l.size,a.htmlFor=l.id,a.style.display="none",a.value=n,t.DomEvent.disableClickPropagation(l).on(l,"keyup",this._handleKeypress,this).on(l,"paste",function(d){setTimeout(function(f){s._handleKeypress(f)},10,d)},this).on(l,"blur",this.collapseDelayed,this).on(l,"focus",this.collapseDelayedStop,this),l},_createCancel:function(n,i){var s=t.DomUtil.create("a",i,this._container);return s.href="#",s.title=n,s.style.display="none",s.innerHTML="<span>&otimes;</span>",t.DomEvent.on(s,"click",t.DomEvent.stop,this).on(s,"click",this.cancel,this),s},_createButton:function(n,i){var s=t.DomUtil.create("a",i,this._container);return s.href="#",s.title=n,t.DomEvent.on(s,"click",t.DomEvent.stop,this).on(s,"click",this._handleSubmit,this).on(s,"focus",this.collapseDelayedStop,this).on(s,"blur",this.collapseDelayed,this),s},_createTooltip:function(n){var i=this,s=t.DomUtil.create("ul",n,this._container);return s.style.display="none",t.DomEvent.disableClickPropagation(s).on(s,"blur",this.collapseDelayed,this).on(s,"wheel",function(a){i.collapseDelayedStop(),t.DomEvent.stopPropagation(a)},this).on(s,"mouseover",function(a){i.collapseDelayedStop()},this),s},_createTip:function(n,i){var s;if(this.options.buildTip){if(s=this.options.buildTip.call(this,n,i),typeof s=="string"){var a=t.DomUtil.create("div");a.innerHTML=s,s=a.firstChild}}else s=t.DomUtil.create("li",""),s.innerHTML=n;return t.DomUtil.addClass(s,"search-tip"),s._text=n,this.options.tipAutoSubmit&&t.DomEvent.disableClickPropagation(s).on(s,"click",t.DomEvent.stop,this).on(s,"click",function(l){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),s},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,i){var s,a,l,d={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];s=this.options.initial?"^":"",a=this.options.casesensitive?void 0:"i",l=new RegExp(s+n,a);for(let f in i)l.test(f)&&(d[f]=i[f]);return d},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let i in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(i,n[i]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var i=this,s=this.options.propertyName,a=this.options.propertyLoc,l={};if(t.Util.isArray(a))for(let d in n)l[i._getPath(n[d],s)]=t.latLng(i._getPath(n[d],a[0]),i._getPath(n[d],a[1]));else for(let d in n)l[i._getPath(n[d],s)]=t.latLng(i._getPath(n[d],a));return l},_recordsFromJsonp:function(n,i){t.Control.Search.callJsonp=i;var s=t.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),a=t.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return s.type="text/javascript",s.src=a,{abort:function(){s.parentNode.removeChild(s)}}},_recordsFromAjax:function(n,i){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var s=t.Browser.ie&&!window.atob&&document.querySelector,a=s?new XDomainRequest:new XMLHttpRequest,l=t.Util.template(this._getUrl(n),{s:n});return a.open("GET",l),a.onload=function(){i(JSON.parse(a.responseText))},a.onreadystatechange=function(){a.readyState===4&&a.status===200&&this.onload()},a.send(),a},_searchInLayer:function(n,i,s){var a=this,l;n instanceof t.Control.Search.Marker||(n instanceof t.Marker||n instanceof t.CircleMarker?a._getPath(n.options,s)?(l=n.getLatLng(),l.layer=n,i[a._getPath(n.options,s)]=l):a._getPath(n.feature.properties,s)&&(l=n.getLatLng(),l.layer=n,i[a._getPath(n.feature.properties,s)]=l):n instanceof t.Path||n instanceof t.Polyline||n instanceof t.Polygon?a._getPath(n.options,s)?(l=n.getBounds().getCenter(),l.layer=n,i[a._getPath(n.options,s)]=l):a._getPath(n.feature.properties,s)&&(l=n.getBounds().getCenter(),l.layer=n,i[a._getPath(n.feature.properties,s)]=l):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(s)&&(n.getLatLng&&typeof n.getLatLng=="function"?(l=n.getLatLng(),l.layer=n,i[n.feature.properties[s]]=l):n.getBounds&&typeof n.getBounds=="function"&&(l=n.getBounds().getCenter(),l.layer=n,i[n.feature.properties[s]]=l)):n instanceof t.LayerGroup&&n.eachLayer(function(d){a._searchInLayer(d,i,s)}))},_recordsFromLayer:function(){var n=this,i={},s=this.options.propertyName;return this._layer.eachLayer(function(a){n._searchInLayer(a,i,s)}),i},_autoType:function(){var n=this._input.value.length,i=this._tooltip.firstChild?this._tooltip.firstChild._text:"",s=i.length;if(i.indexOf(this._input.value)===0)if(this._input.value=i,this._handleAutoresize(),this._input.createTextRange){var a=this._input.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",s),a.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,s):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=s)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var i=this._input.value.length;n.moveStart("character",i),n.moveEnd("character",i),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var i=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){i._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var i=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:i})},_fillRecordsCache:function(){var n=this,i=this._input.value,s;this._curReq&&this._curReq.abort&&this._curReq.abort(),t.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),s=this._filterData(this._input.value,this._recordsCache),this.showTooltip(s),t.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,i,function(a){n._recordsCache=n._formatData.call(n,a),n.options.sourceData?s=n._filterData(n._input.value,n._recordsCache):s=n._recordsCache,n.showTooltip(s),t.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=83,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var i=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let a=0;a<i.length;a++)t.DomUtil.removeClass(i[a],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=i.length-1)t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select"),this._input.value=i[this._tooltip.currentSelection]._text;var s=i[this._tooltip.currentSelection].offsetTop;s+i[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=s-this._tooltip.clientHeight+i[this._tooltip.currentSelection].clientHeight:s<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=s)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,i,s){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,i){var s=this;return s._map.once("moveend zoomend",function(a){s._markerSearch&&s._markerSearch.addTo(s._map).setLatLng(n)}),s._moveToLocation(n,i,s._map),s.options.autoCollapse&&s.collapse(),s}}),t.Control.Search.Marker=t.Marker.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{icon:new t.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,i){t.setOptions(this,i),i.icon===!0&&(i.icon=new t.Icon.Default),t.Marker.prototype.initialize.call(this,n,i),t.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new t.CircleMarker(n,this.options.circle))},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){t.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return t.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&t.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&t.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,i=200,s=5,a=parseInt(n._radius/s),l=this.options.circle.radius,d=n._radius*2,f=0;n._timerAnimLoc=setInterval(function(){f+=.5,a+=f,d-=a,n.setRadius(d),d<l&&(clearInterval(n._timerAnimLoc),n.setRadius(l))},i)}return this}}),t.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=t.control.search(this.options.searchControl),this.addControl(this.searchControl))}),t.control.search=function(n){return new t.Control.Search(n)},t.Control.Search})})(Qg)),Qg.exports}ZB();var Jg={exports:{}},_3;function GB(){return _3||(_3=1,(function(e,t){(function(n,i){e.exports=n(Gy()),typeof i<"u"&&i.L&&(i.L.Control.MiniMap=n(L),i.L.control.minimap=function(s,a){return new i.L.Control.MiniMap(s,a)})})(function(n){var i=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(s,a){n.Util.setOptions(this,a),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=s},onAdd:function(s){this._mainMap=s,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var a={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:s.options.crs};return a=n.Util.extend(this.options.mapOptions,a),this._miniMap=new n.Map(this._container,a),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(s){n.Control.prototype.addTo.call(this,s);var a=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(a,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(s){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(s){this._miniMap.removeLayer(this._layer),this._layer=s,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(s,a,l,d,f,g){var y=n.DomUtil.create("a",l,d);y.innerHTML=s,y.href="#",y.title=a;var v=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",v).on(y,"mousedown",v).on(y,"dblclick",v).on(y,"click",n.DomEvent.preventDefault).on(y,"click",f,g),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(s){s!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(s){if(this._miniMapMoving)this._miniMapMoving=!1;else{var a=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(a,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(s){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(s){if(!this.options.centerFixed){var a=this._aimingRect.getBounds(),l=this._miniMap.latLngToContainerPoint(a.getSouthWest()),d=this._miniMap.latLngToContainerPoint(a.getNorthEast());this._lastAimingRectPosition={sw:l,ne:d}}},_onMiniMapMoving:function(s){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(s){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var s=this.options.zoomLevelFixed;return this._isDefined(s)&&this._isInteger(s)},_decideZoom:function(s){if(this._isZoomLevelFixed())return s?this.options.zoomLevelFixed:this._mainMap.getZoom();if(s)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var a=this._miniMap.getZoom()-this._mainMap.getZoom(),l=this._miniMap.getZoom()-this.options.zoomLevelOffset,d;return a>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(d=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):d=this._mainMap.getZoom():d=l,this._lastMiniMapZoom=this._miniMap.getZoom(),d},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(s){return typeof s=="number"},_isDefined:function(s){return typeof s<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var s={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",s),this.fire("toggle",s)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new i().addTo(this))}),i},window)})(Jg)),Jg.exports}GB();function em({isAdminView:e,markersState:t,updateMarker:n,selectedYear:i,selectedMarkerId:s,onMarkerSelect:a}){const[l,d]=j.useState({}),[f,g]=j.useState(!1),[y,v]=j.useState(Uh[0].key),[x,w]=j.useState(!1),[C,T]=j.useState(null),[k,$]=j.useState(null),{organizationLogo:P}=na(),[N,U]=cj(),H=j.useRef(null),B=j.useRef(null),Z=j.useRef(!1),[ne,F]=j.useState(null),W=j.useMemo(()=>IB(P),[P]),{t:q}=wt(),X=Wy();qB();const oe=j.useMemo(()=>Array.isArray(t)?t:[],[t]);j.useEffect(()=>{oe.forEach(V=>{if(V.logo){const G=new window.Image;G.src=ir(V.logo)}})},[oe]),j.useEffect(()=>{C&&HB({mapInstance:C,markers:oe,rectangleSize:fn.RECTANGLE_SIZE,isAdminView:e,showRectanglesAndHandles:x,updateMarker:n,rectangleLayerRef:B})},[C,oe,e,x,n]),j.useEffect(()=>{if(!C)return;const V=Dt.layerGroup();oe.forEach(G=>{if(G.lat&&G.lng){const re=FB(G),Ce=Dt.marker([G.lat,G.lng],{opacity:0,interactive:!1});Ce.feature={type:"Feature",properties:{searchText:re}},Ce.bindPopup(G.name||G.label||""),Ce._markerId=G.id,V.addLayer(Ce)}}),$(V)},[C,oe]),j.useEffect(()=>{if(!C||!k)return;const V=new Dt.Control.Search({layer:k,propertyName:"searchText",initial:!1,zoom:fn.SEARCH_ZOOM,marker:{icon:!1,animate:!0},textPlaceholder:"Search for name or booth...",position:"topleft"});return C.addControl(V),H.current=V,V.on("search:locationfound",G=>{if(G?.layer){const re=G.layer.getLatLng(),Ce=G.layer._markerId;Ce&&(C.flyTo(re,fn.SEARCH_ZOOM,{animate:!0}),setTimeout(()=>{F(Ce)},800)),V._input&&V._input.blur(),V.hideAlert&&V.hideAlert(),V.collapse&&V.collapse()}}),()=>{C&&V&&(C.removeControl(V),H.current=null)}},[C,k]),j.useEffect(()=>{if(C&&!C._minimapControl){const V=Dt.tileLayer(Uh[0].url,{attribution:"",minZoom:0,maxZoom:16}),G=new Dt.Control.MiniMap(V,{position:"bottomright",width:fn.MINIMAP.WIDTH,height:fn.MINIMAP.HEIGHT,zoomLevelFixed:fn.MINIMAP.ZOOM_LEVEL,toggleDisplay:!0,centerFixed:fn.DEFAULT_POSITION,aimingRectOptions:{color:fn.MINIMAP.AIMING_COLOR,weight:2,opacity:.9,fillOpacity:.1,fill:!0},shadowRectOptions:{color:fn.MINIMAP.SHADOW_COLOR,weight:1,opacity:.5,fillOpacity:.05,fill:!0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"}});G.addTo(C),C._minimapControl=G}},[C]),j.useEffect(()=>{if(!C||!oe.length||Z.current)return;const V=N.get("focus");if(V){const G=parseInt(V,10),re=oe.find(Ce=>Ce.id===G);re&&re.lat&&re.lng&&(setTimeout(()=>{C.flyTo([re.lat,re.lng],fn.SEARCH_ZOOM,{animate:!0,duration:1}),F(G)},300),Z.current=!0,U({},{replace:!0}))}},[C,oe,N,U]);const Q=V=>{const G=V?.target||V;T(G)},se=e?{height:"100%",width:"100%",position:"relative",touchAction:"pan-x pan-y",overflow:"hidden"}:{height:"100svh",width:"100vw",position:"fixed",inset:0,zIndex:0,touchAction:"pan-x pan-y",overflow:"hidden"};return h.jsxs("div",{style:se,tabIndex:0,"aria-label":"Event Map",role:"region",children:[h.jsx(zB,{mapInstance:C,mapCenter:fn.DEFAULT_POSITION,mapZoom:fn.DEFAULT_ZOOM,searchControlRef:H,isAdminView:e,showLayersMenu:f,setShowLayersMenu:g,activeLayer:y,setActiveLayer:v,showRectanglesAndHandles:x,setShowRectanglesAndHandles:w,MAP_LAYERS:Uh}),e&&h.jsx(vB,{mapInstance:C,isAdminView:e,updateMarker:n}),h.jsx("div",{id:"map-container",className:e?"w-full h-full":"fixed inset-0 w-full h-full",style:{zIndex:e?"auto":1,height:e?"100%":"100svh",touchAction:"pan-x pan-y",overflow:"hidden"},"aria-label":q("map.ariaLabel"),children:h.jsxs(hO,{center:fn.DEFAULT_POSITION,zoom:fn.DEFAULT_ZOOM,minZoom:fn.MIN_ZOOM,maxZoom:fn.MAX_ZOOM,zoomDelta:fn.ZOOM_DELTA,zoomSnap:fn.ZOOM_SNAP,zoomControl:!1,style:{width:e?"100%":"100vw",height:e?"100%":"100svh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:Q,attributionControl:!1,children:[Uh.filter(V=>V.key===y).map(V=>h.jsx(fO,{attribution:V.attribution,url:V.url,maxZoom:fn.MAX_ZOOM},V.key)),h.jsx(A1,{safeMarkers:oe,infoButtonToggled:l,setInfoButtonToggled:d,isMobile:X,updateMarker:n,isMarkerDraggable:V=>v3(V,e),iconCreateFunction:W,selectedYear:i,isAdminView:e,selectedMarkerId:s,onMarkerSelect:a,focusMarkerId:ne,onFocusHandled:()=>F(null)}),h.jsx(JI,{safeMarkers:oe,infoButtonToggled:l,setInfoButtonToggled:d,isMobile:X,updateMarker:n,isMarkerDraggable:V=>v3(V,e),selectedMarkerId:s,onMarkerSelect:a,isAdminView:e,selectedYear:i})]})})]})}em.propTypes={isAdminView:Ae.bool,markersState:Ae.array,updateMarker:Ae.func.isRequired,selectedYear:Ae.number,selectedMarkerId:Ae.number,onMarkerSelect:Ae.func};em.defaultProps={isAdminView:!1,markersState:[],selectedYear:new Date().getFullYear(),selectedMarkerId:null,onMarkerSelect:null};const KB=Object.freeze(Object.defineProperty({__proto__:null,default:em},Symbol.toStringTag,{value:"Module"}));function WB({markersState:e,setMarkersState:t,updateMarker:n,selectedYear:i}){const{t:s}=wt(),[a,l]=j.useState(""),[d,f]=j.useState(null),[g,y]=j.useState(!1),[v,x]=j.useState(null),[w,C]=j.useState("id"),[T,k]=j.useState("asc"),[$,P]=j.useState([]),{toastError:N}=Lr();j.useEffect(()=>{async function Q(){try{const[se,V]=await Promise.all([ge.from("Markers_Core").select("*").in("id",[-1,-2]),ge.from("Markers_Appearance").select("*").in("id",[-1,-2])]);if(se.error)throw se.error;if(V.error)throw V.error;const G=(se.data||[]).map(re=>{const Ce=(V.data||[]).find(O=>O.id===re.id)||{};return{...re,...Ce}});P(G)}catch(se){console.error("Error fetching default markers:",se)}}Q()},[]);const U=j.useMemo(()=>{if(!e)return $;const se=[...e.filter(V=>{const G=a.toLowerCase();return V.id.toString().includes(G)||V.glyph?.toLowerCase().includes(G)||V.name?.toLowerCase().includes(G)})].sort((V,G)=>{let re=0;switch(w){case"id":re=V.id-G.id;break;case"name":re=(V.glyph||V.name||"").localeCompare(G.glyph||G.name||"");break;case"type":V.id>=1e3!=G.id>=1e3?re=V.id>=1e3?-1:1:re=V.id-G.id;break;default:re=V.id-G.id}return T==="desc"?-re:re});return a?se:[...[...$].sort((G,re)=>re.id-G.id),...se]},[e,$,a,w,T]),H=j.useMemo(()=>{if(!d)return null;const Q=$.find(se=>se.id===d);return Q||e?.find(se=>se.id===d)},[d,e,$]),B=Q=>{f(Q.id),y(!1)},Z=()=>{H&&(x({...H}),y(!0))},ne=()=>{x(null),y(!1)},F=async()=>{if(!v)return;const Q=v.id===-1||v.id===-2;try{if(Q){const se={rectWidth:v.rectWidth,rectHeight:v.rectHeight},V={iconUrl:v.iconUrl,iconSize:v.iconSize,glyphColor:v.glyphColor,glyphSize:v.glyphSize},[G,re]=await Promise.all([ge.from("Markers_Core").update(se).eq("id",v.id),ge.from("Markers_Appearance").update(V).eq("id",v.id)]);if(G.error)throw G.error;if(re.error)throw re.error;P(Ce=>Ce.map(O=>O.id===v.id?{...O,...v}:O))}else t(se=>se.map(V=>V.id===v.id?{...V,...v}:V));y(!1),x(null)}catch(se){console.error("Error saving marker:",se),N("Failed to save marker. Please try again.")}},W=(Q,se)=>{x(V=>({...V,[Q]:se}))},q=H&&(H.id===-1||H.id===-2),X=H&&H.id>=1e3,oe=H&&H.id>0&&H.id<1e3;return h.jsx(Fy,{requiredRole:["super_admin","system_manager"],children:h.jsxs("div",{className:"bg-white rounded-lg shadow",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(Se,{path:co,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:s("mapManagement.searchPlaceholder"),value:a,onChange:Q=>l(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white w-64",children:[h.jsxs("select",{value:w,onChange:Q=>C(Q.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none","aria-label":s("mapManagement.sortBy"),children:[h.jsx("option",{value:"id",children:s("mapManagement.sortId")}),h.jsx("option",{value:"name",children:s("mapManagement.sortName")}),h.jsx("option",{value:"type",children:s("mapManagement.sortType")})]}),h.jsx("button",{type:"button",onClick:()=>k(T==="asc"?"desc":"asc"),"aria-label":`Toggle sort direction to ${T==="asc"?"descending":"ascending"}`,className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",children:h.jsx(Se,{path:T==="asc"?$l:kl,size:.8})})]})]})}),h.jsxs("div",{className:"flex h-[calc(100vh-150px)]",children:[h.jsx("div",{className:"w-64 border-r border-gray-200 overflow-y-auto flex-shrink-0",children:h.jsx("div",{className:"p-2",children:U.map(Q=>{const se=Q.id===d,V=Q.id===-1||Q.id===-2,G=Q.id>=1e3;return h.jsx("button",{onClick:()=>B(Q),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${se?"bg-blue-50 border-2 border-blue-500":V?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-white border border-gray-200 hover:bg-gray-50"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[Q.iconUrl&&h.jsx("img",{src:Al(Q.iconUrl),alt:"icon",className:"w-6 h-6"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-semibold text-gray-900 truncate",children:V?Q.id===-1?"Assigned Booth Default":"Unassigned Booth Default":Q.glyph||`Marker ${Q.id}`}),h.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Q.id,V&&"  Global Default",G&&" (Special)"]}),Q.name&&h.jsx("div",{className:"text-xs text-gray-600 truncate",children:Q.name})]})]})},Q.id)})})}),h.jsx("div",{className:"flex-1 relative bg-gray-50",children:h.jsx(j.Suspense,{fallback:h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading map..."}),children:h.jsx(em,{isAdminView:!0,markersState:e,updateMarker:n,selectedYear:i,selectedMarkerId:d,onMarkerSelect:Q=>{f(Q),y(!1)}})})}),h.jsx("div",{className:"w-96 border-l border-gray-200 overflow-y-auto p-6 flex-shrink-0",children:H?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:q?H.id===-1?"Assigned Booth Default":"Unassigned Booth Default":H.glyph||`Marker ${H.id}`}),h.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",H.id,q&&"  Global Default for Booth Markers",X&&" (Special Marker)",oe&&" (Booth - Content managed via Companies/Assignments)"]})]}),!g&&h.jsx("button",{onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit"})]}),g?h.jsx(XB,{marker:v,isDefaultMarker:q,isSpecialMarker:X,isBoothMarker:oe,onChange:W,onSave:F,onCancel:ne}):h.jsx(YB,{marker:H,isSpecialMarker:X,isDefaultMarker:q})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s("mapManagement.selectMarker")})})]})]})})}function YB({marker:e,isSpecialMarker:t,isDefaultMarker:n}){return h.jsxs("div",{className:"space-y-6",children:[n&&h.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" About Default Markers"}),h.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"This defines the default appearance for booth markers (ID < 1000) that have a company assigned.":"This defines the default appearance for booth markers (ID < 1000) that have no company assigned."}),h.jsx("p",{className:"text-sm text-amber-800",children:"Individual booth markers can override these defaults by having their own values in the Appearance table."})]}),!n&&h.jsxs(El,{title:"Position & Structure",children:[h.jsx(Un,{label:"Latitude",value:e.lat}),h.jsx(Un,{label:"Longitude",value:e.lng}),h.jsx(Un,{label:"Rectangle",value:JSON.stringify(e.rectangle)}),h.jsx(Un,{label:"Angle",value:e.angle||0})]}),h.jsxs(El,{title:n?"Default Visual Styling":"Visual Styling",children:[h.jsx(Un,{label:"Icon",children:e.iconUrl&&h.jsx("img",{src:Al(e.iconUrl),alt:"icon",className:"w-8 h-8"})}),h.jsx(Un,{label:"Icon Size",value:JSON.stringify(e.iconSize)}),!n&&h.jsx(Un,{label:"Glyph (Booth Label)",value:e.glyph}),h.jsx(Un,{label:"Glyph Color",value:e.glyphColor}),h.jsx(Un,{label:"Glyph Size",value:e.glyphSize}),n&&h.jsxs(h.Fragment,{children:[h.jsx(Un,{label:"Rectangle Width",value:e.rectWidth}),h.jsx(Un,{label:"Rectangle Height",value:e.rectHeight})]})]}),t&&h.jsxs(El,{title:"Content (Special Marker)",children:[h.jsx(Un,{label:"Name",value:e.name}),h.jsx(Un,{label:"Logo",children:e.logo&&h.jsx("img",{src:ir(e.logo),alt:"logo",className:"w-12 h-12"})}),h.jsx(Un,{label:"Website",value:e.website}),h.jsx(Un,{label:"Info",value:e.info})]})]})}function XB({marker:e,isDefaultMarker:t,isSpecialMarker:n,isBoothMarker:i,onChange:s,onSave:a,onCancel:l}){return h.jsxs("div",{className:"space-y-6",children:[t&&h.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" Editing Global Defaults"}),h.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"Changes here will affect all booth markers (ID < 1000) that have a company assigned, unless they have individual overrides.":"Changes here will affect all booth markers (ID < 1000) that have no company assigned, unless they have individual overrides."})]}),!t&&h.jsxs(El,{title:"Position & Structure",children:[h.jsx(Qi,{label:"Latitude",type:"number",step:"0.0001",value:e.lat,onChange:d=>s("lat",parseFloat(d))}),h.jsx(Qi,{label:"Longitude",type:"number",step:"0.0001",value:e.lng,onChange:d=>s("lng",parseFloat(d))}),h.jsx(Qi,{label:"Angle",type:"number",step:"0.1",value:e.angle||0,onChange:d=>s("angle",parseFloat(d))})]}),h.jsxs(El,{title:t?"Default Visual Styling":"Visual Styling",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),h.jsx("div",{className:"grid grid-cols-6 gap-2",children:YM.map(d=>h.jsx("button",{onClick:()=>s("iconUrl",d),className:`p-2 border-2 rounded-lg transition-all ${e.iconUrl===d?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:h.jsx("img",{src:Al(d),alt:d,className:"w-8 h-8"})},d))})]}),!t&&h.jsx(Qi,{label:"Glyph (Booth Label)",value:e.glyph,onChange:d=>s("glyph",d)}),h.jsx(Qi,{label:"Glyph Color",type:"color",value:e.glyphColor,onChange:d=>s("glyphColor",d)}),h.jsx(Qi,{label:"Glyph Size",type:"number",step:"1",value:e.glyphSize,onChange:d=>s("glyphSize",parseFloat(d))}),t&&h.jsxs(h.Fragment,{children:[h.jsx(Qi,{label:"Rectangle Width",type:"number",step:"1",value:e.rectWidth,onChange:d=>s("rectWidth",parseFloat(d))}),h.jsx(Qi,{label:"Rectangle Height",type:"number",step:"1",value:e.rectHeight,onChange:d=>s("rectHeight",parseFloat(d))})]})]}),n&&h.jsxs(El,{title:"Content (Special Marker)",children:[h.jsx(Qi,{label:"Name",value:e.name,onChange:d=>s("name",d)}),h.jsx(Qi,{label:"Logo URL",value:e.logo,onChange:d=>s("logo",d)}),h.jsx(Qi,{label:"Website",value:e.website,onChange:d=>s("website",d)}),h.jsx(QB,{label:"Info",value:e.info,onChange:d=>s("info",d)})]}),i&&h.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-sm text-yellow-800",children:[h.jsx("strong",{children:"Note:"})," This is a booth marker. Content (name, logo, website, info) is managed via the Companies and Assignments tabs."]})}),h.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[h.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(Se,{path:Nk,size:.9}),"Save Changes"]}),h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:[h.jsx(Se,{path:oo,size:.9}),"Cancel"]})]})]})}function El({title:e,children:t}){return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),h.jsx("div",{className:"space-y-3",children:t})]})}function Un({label:e,value:t,children:n}){return h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e}),n||h.jsx("div",{className:"text-gray-900",children:t||""})]})}function Qi({label:e,value:t,onChange:n,type:i="text",...s}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),h.jsx("input",{type:i,value:t||"",onChange:a=>n(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...s})]})}function QB({label:e,value:t,onChange:n}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),h.jsx("textarea",{value:t||"",onChange:i=>n(i.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}function P1(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(null),l=j.useCallback(async()=>{try{i(!0),a(null);const{data:v,error:x}=await ge.from("companies").select("*").order("name",{ascending:!0});if(x)throw x;t(v||[])}catch(v){console.error("Error loading companies:",v),a(v.message)}finally{i(!1)}},[]),d=j.useCallback(async v=>{try{v?.phone&&(v.phone=io(v.phone)),v?.email&&(v.email=v.email.toLowerCase().trim());const{data:x,error:w}=await ge.from("companies").insert([v]).select().single();if(w)throw w;return t(C=>[...C,x].sort((T,k)=>T.name.localeCompare(k.name))),{data:x,error:null}}catch(x){return console.error("Error creating company:",x),{data:null,error:x.message}}},[]),f=j.useCallback(async(v,x)=>{try{(x?.phone||x?.phone==="")&&(x.phone=io(x.phone)),x?.email&&(x.email=x.email.toLowerCase().trim());const{data:w,error:C}=await ge.from("companies").update(x).eq("id",v).select().single();if(C)throw C;return t(T=>T.map(k=>k.id===v?w:k).sort((k,$)=>k.name.localeCompare($.name))),{data:w,error:null}}catch(w){return console.error("Error updating company:",w),{data:null,error:w.message}}},[]),g=j.useCallback(async v=>{try{const{error:x}=await ge.from("companies").delete().eq("id",v);if(x)throw x;return t(w=>w.filter(C=>C.id!==v)),{error:null}}catch(x){return console.error("Error deleting company:",x),{error:x.message}}},[]),y=j.useCallback(v=>{if(!v)return e;const x=v.toLowerCase();return e.filter(w=>w.name?.toLowerCase().includes(x))},[e]);return j.useEffect(()=>{l()},[l]),j.useEffect(()=>{const v=ge.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},()=>{l()}).subscribe();return()=>{ge.removeChannel(v)}},[l]),{companies:e,loading:n,error:s,createCompany:d,updateCompany:f,deleteCompany:g,searchCompanies:y,reload:l}}function JB(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(null),l=j.useCallback(async()=>{try{i(!0);const{data:f,error:g}=await ge.from("organization_profile").select("*").single();if(g)if(g.code==="PGRST116")console.warn("No organization profile found. A default one should be created by the migration."),t(null);else throw g;t(f),a(null)}catch(f){console.error("Error fetching organization profile:",f),a(f.message)}finally{i(!1)}},[]);return j.useEffect(()=>{l();const f=ge.channel("public:organization_profile").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},g=>{g.new&&t(g.new)}).subscribe();return()=>{ge.removeChannel(f)}},[l]),{profile:e,loading:n,error:s,updateProfile:async f=>{try{(f?.phone||f?.phone==="")&&(f.phone=io(f.phone)),f?.email&&(f.email=f.email.toLowerCase().trim());const{data:g,error:y}=await ge.from("organization_profile").update(f).eq("id",1).select().single();if(y)throw y;return t(g),{data:g,error:null}}catch(g){return console.error("Error updating organization profile:",g),{data:null,error:g.message}}}}}function eU({createCompany:e,updateCompany:t,deleteCompany:n,updateProfile:i,organizationLogo:s,confirm:a,toastError:l}){const[d,f]=j.useState(null),[g,y]=j.useState({}),[v,x]=j.useState(!1),[w,C]=j.useState({name:"",logo:s||"",website:"",info:""});return{editingId:d,editForm:g,setEditForm:y,isCreating:v,newCompanyForm:w,setNewCompanyForm:C,handleEdit:B=>{f(B.id),y({...B})},handleSave:async()=>{const B=d;if(B==="organization"){const{name:Z,logo:ne,website:F,info:W,contact:q,phone:X,email:oe}=g;await i({name:Z,logo:ne,website:F,info:W,contact:q,phone:X,email:oe})}else await t(B,g);f(null),y({})},handleCancel:()=>{f(null),y({})},handleDelete:async(B,Z)=>{if(!await a({title:"Delete Company",message:`Are you sure you want to delete "${Z}"? This will also delete all assignments for this company.`,confirmText:"Delete",variant:"danger"}))return;const{error:F}=await n(B);F&&l(`Error deleting company: ${F}`)},handleCreate:async()=>{if(!w.name.trim()){l("Company name is required");return}const{error:B}=await e(w);B?l(`Error creating company: ${B}`):(x(!1),C({name:"",logo:s,website:"",info:""}))},handleStartCreate:()=>{x(!0),C({name:"",logo:s,website:"",info:""})},handleCancelCreate:()=>{x(!1),C({name:"",logo:s,website:"",info:""})}}}function UC(e){const[t,n]=j.useState({}),[i,s]=j.useState(!1),[a,l]=j.useState(null),d=j.useCallback(async()=>{if(!e){n({});return}try{s(!0),l(null);const{data:x,error:w}=await ge.from("company_translations").select("language_code, info").eq("company_id",e);if(w)throw w;const C={};(x||[]).forEach(T=>{C[T.language_code]=T.info}),n(C)}catch(x){console.error("Error loading translations:",x),l(x.message)}finally{s(!1)}},[e]),f=async(x,w)=>{if(e)try{l(null);const{error:C}=await ge.from("company_translations").upsert({company_id:e,language_code:x,info:w,updated_at:new Date().toISOString()},{onConflict:"company_id,language_code"});if(C)throw C;return n(T=>({...T,[x]:w})),!0}catch(C){return console.error("Error saving translation:",C),l(C.message),!1}},g=async x=>{if(e)try{l(null);const{error:w}=await ge.from("company_translations").delete().eq("company_id",e).eq("language_code",x);if(w)throw w;return n(C=>{const T={...C};return delete T[x],T}),!0}catch(w){return console.error("Error deleting translation:",w),l(w.message),!1}},y=(x,w="nl")=>t[x]||t[w]||"",v=()=>Object.keys(t);return j.useEffect(()=>{d()},[d]),{translations:t,loading:i,error:a,saveTranslation:f,deleteTranslation:g,getTranslation:y,getAvailableLanguages:v,reload:d}}const tU=[{code:"nl",label:"Nederlands",flag:""},{code:"en",label:"English",flag:""},{code:"de",label:"Deutsch",flag:""}];function nU({currentLanguage:e,onLanguageChange:t,translations:n={},className:i=""}){return h.jsx("div",{className:`flex items-center gap-1 ${i}`,children:tU.map(s=>{const a=e===s.code,l=n[s.code]&&n[s.code].trim()!=="";return h.jsxs("button",{type:"button",onClick:()=>t(s.code),className:`px-2 py-1 rounded text-xs font-medium transition flex items-center gap-1 ${a?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[h.jsx("span",{children:s.flag}),h.jsx("span",{children:s.label}),l&&!a&&h.jsx(Se,{path:Qs,size:.5,className:"text-green-600"})]},s.code)})})}function iU({translations:e={}}){const t=Object.keys(e).filter(n=>e[n]&&e[n].trim()!=="").length;return t<=1?null:h.jsx("span",{className:"inline-block ml-1 text-blue-600",title:`Available in ${t} languages`,children:""})}function Tf(e){if(!e||e.trim()==="")return"";const t=Ll(e);if(!t||!t.isValid())return e;const n=t.countryCallingCode,i=t.nationalNumber;if(t.country==="NL"){const s=i.replace(/^(\d)(\d{8})$/,"(0)$1-$2");return`+${n} ${s}`}else if(t.country==="BE"){const s=i.replace(/^(\d{1,3})(\d{2})(\d{2})(\d{2})$/,"(0)$1-$2-$3-$4");return`+${n} ${s}`}else if(t.country==="DE"){const s=i.replace(/^(\d{2,4})(\d+)$/,"(0)$1-$2");return`+${n} ${s}`}return`+${n} ${i}`}function VC(e){const t={NL:"",BE:"",DE:"",FR:"",GB:"",US:"",ES:"",IT:""};if(!e)return"";const n=Ll(e);return n&&n.country?t[n.country]||"":""}const x3={NL:"",BE:"",DE:"",FR:"",GB:"",US:"",ES:"",IT:""};function HC({value:e="",onChange:t,placeholder:n="Phone number (e.g., +31 (0)6-21165748)",className:i="",defaultCountry:s="NL"}){const[a,l]=j.useState(""),[d,f]=j.useState(null),[g,y]=j.useState(null);j.useEffect(()=>{if(e&&e.trim()!==""){const k=Tf(e);l(k)}else l("")},[e]),j.useEffect(()=>{if(!a||a.trim()===""){f(null),y(null);return}const k=a.trim();let $=Ll(k,s);if(!$||!$.isValid()){let P=k.replace(/[()\s.-]+/g,"");P.startsWith("00")&&(P="+"+P.slice(2)),$=Ll(P,s)}$&&$.isValid()?(f(!0),y($)):(f(!1),y(null))},[a,s]);const v=k=>{const $=k.target.value;l($)},x=()=>{if(a&&a.trim()!==""){const k=io(a,s);if(k&&k!==e){t(k);const $=Tf(k);l($)}}else a===""&&e!==""&&t("")},w=()=>d===null?"border-gray-300":d===!0?"border-green-500":d===!1?"border-red-500":"border-gray-300",C=()=>d===null?"bg-white":d===!0?"bg-green-50":d===!1?"bg-red-50":"bg-white",T=()=>g&&g.country?x3[g.country]||"":x3[s]||"";return h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("span",{className:"text-xl",children:T()})}),h.jsx("input",{type:"text",value:a,onChange:v,onBlur:x,placeholder:n,className:`w-full pl-12 pr-3 py-2 border rounded transition-colors ${w()} ${C()} text-gray-900 ${i}`})]}),g&&d&&h.jsxs("div",{className:"text-xs mt-1 text-green-600 flex items-center gap-1",children:[h.jsx("span",{children:""}),h.jsx("span",{children:g.country||"International"}),g.getType()&&h.jsxs("span",{className:"text-gray-500",children:["(",g.getType()==="MOBILE"?"Mobile":"Landline",")"]})]}),d===!1&&a&&h.jsx("div",{className:"text-xs mt-1 text-red-600",children:" Invalid phone number"}),!a&&h.jsx("div",{className:"text-xs mt-1 text-gray-500",children:"Format: +31 (0)6-12345678"})]})}function rU({companyId:e,editingLanguage:t,onLanguageChange:n}){const{translations:i,saveTranslation:s}=UC(e),[a,l]=j.useState(""),[d,f]=j.useState(!1);j.useEffect(()=>{l(i[t]||"")},[t,i]);const g=async()=>{if(a!==(i[t]||"")){f(!0);try{await s(t,a)}catch(y){console.error("Failed to save translation:",y)}finally{f(!1)}}};return h.jsxs("div",{className:"space-y-2",children:[h.jsx(nU,{currentLanguage:t,onLanguageChange:n,translations:i,className:"mb-2"}),h.jsx("textarea",{value:a,onChange:y=>l(y.target.value),onBlur:g,className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4,placeholder:`Enter info in ${t==="nl"?"Dutch":"English"}...`,disabled:d}),d&&h.jsx("span",{className:"text-xs text-gray-500 italic",children:"Saving..."})]})}function sU({companyId:e,currentLanguage:t}){const{translations:n,getTranslation:i}=UC(e),s=i(t,"nl");return h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap flex-1",children:s||h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),h.jsx(iU,{translations:n})]})}function aU(){const{companies:e,loading:t,error:n,createCompany:i,updateCompany:s,deleteCompany:a}=P1(),{profile:l,loading:d,error:f,updateProfile:g}=JB(),{organizationLogo:y}=na(),{confirm:v,toastError:x}=Lr(),{i18n:w,t:C}=wt(),{categories:T,getCompanyCategories:k,getAllCompanyCategories:$,assignCategoriesToCompany:P}=Sy(),[N,U]=j.useState(""),[H,B]=j.useState("nl"),[Z,ne]=j.useState("public"),[F,W]=j.useState({}),[q,X]=j.useState([]),{editingId:oe,editForm:Q,setEditForm:se,isCreating:V,newCompanyForm:G,setNewCompanyForm:re,handleEdit:Ce,handleSave:O,handleCancel:R,handleDelete:J,handleCreate:D,handleStartCreate:ce,handleCancelCreate:ie}=eU({createCompany:i,updateCompany:s,deleteCompany:a,updateProfile:g,organizationLogo:y,confirm:v,toastError:x});j.useEffect(()=>{(async()=>{if(oe&&oe!=="organization"){const Oe=(await k(oe)).map(De=>De.id);console.log("Loading initial categories for company:",oe,Oe),X(Oe)}else oe||X([])})()},[oe]),j.useEffect(()=>{const ee=async()=>{if(e.length>0){const ke=e.map(De=>De.id),Oe=await $(ke);W(Oe)}};Z==="public"&&e.length>0&&ee()},[Z,e.length]);const ue=async()=>{if(console.log("Saving company with categories:",{editingId:oe,editingCategories:q}),await O(),oe&&oe!=="organization"){const ee=await P(oe,q);if(console.log("Category assignment result:",ee),!ee.success)console.error("Failed to assign categories:",ee.error),alert("Failed to save categories: "+ee.error);else{const ke=await k(oe);W(Oe=>({...Oe,[oe]:ke}))}}X([])},Te=()=>{R(),X([])},Ee=j.useMemo(()=>{const ee=[];if(l&&ee.push({...l,id:"organization",isOrganization:!0}),ee.push(...e),!N)return ee;const ke=N.toLowerCase();return ee.filter(Oe=>Oe.name?.toLowerCase().includes(ke))},[l,e,N]),Le=t||d,_e=n||f;return Le?h.jsx("div",{className:"p-4",children:"Loading data..."}):_e?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",_e]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:co,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:C("helpPanel.companies.searchPlaceholder"),value:N,onChange:ee=>U(ee.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[Ee.length," of ",e.length+1]})]}),h.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(Se,{path:Wc,size:.8}),C("helpPanel.companies.addCompany")]})]}),h.jsxs("div",{className:"flex gap-2 mb-4 border-b flex-shrink-0",children:[h.jsx("button",{onClick:()=>ne("public"),className:`px-4 py-2 font-medium transition-colors ${Z==="public"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:C("helpPanel.companies.publicInfoTab","Public Info")}),h.jsx("button",{onClick:()=>ne("manager"),className:`px-4 py-2 font-medium transition-colors ${Z==="manager"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-900"}`,children:C("helpPanel.companies.privateInfoTab","Private Info")})]}),h.jsx(us,{isOpen:V||!!oe,onClose:V?ie:Te,title:V?C("helpPanel.companies.newCompany"):`Edit: ${Q.name||"Company"}`,size:"lg",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-sm mb-3 text-blue-800",children:"Public Info (visible to attendees)"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",placeholder:C("helpPanel.companies.companyNamePlaceholder"),value:V?G.name:Q.name,onChange:ee=>V?re({...G,name:ee.target.value}):se({...Q,name:ee.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-900",children:C("helpPanel.companies.companyLogo")}),h.jsx(Df,{currentLogo:V?G.logo:Q.logo,onUploadComplete:(ee,ke)=>{V?re({...G,logo:ee}):se({...Q,logo:ee})},folder:oe==="organization"?"organization":"companies",label:"Upload Logo",showPreview:!0,allowDelete:!0,onDelete:()=>{V?re({...G,logo:y}):se({...Q,logo:y})}}),h.jsx("input",{type:"text",placeholder:C("helpPanel.companies.logoUrlPlaceholder"),value:V?G.logo:Q.logo||"",onChange:ee=>V?re({...G,logo:ee.target.value}):se({...Q,logo:ee.target.value}),className:"w-full px-3 py-2 border rounded mt-2 text-sm bg-white text-gray-900"})]}),h.jsx("input",{type:"text",placeholder:"Website URL",value:V?G.website:Q.website||"",onChange:ee=>V?re({...G,website:ee.target.value}):se({...Q,website:ee.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900"}),oe==="organization"?h.jsx("textarea",{placeholder:C("helpPanel.companies.infoPlaceholder"),value:V?G.info:Q.info||"",onChange:ee=>V?re({...G,info:ee.target.value}):se({...Q,info:ee.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900",rows:3}):V?h.jsx("textarea",{placeholder:C("helpPanel.companies.infoPlaceholder"),value:G.info,onChange:ee=>re({...G,info:ee.target.value}),className:"w-full px-3 py-2 border rounded bg-white text-gray-900",rows:3}):h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-900",children:"Info (Multi-language)"}),h.jsx(rU,{companyId:oe,editingLanguage:H,onLanguageChange:B})]}),!V&&oe!=="organization"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Categories"}),T.length>0?h.jsx("div",{className:"flex flex-col gap-1.5",children:T.map(ee=>h.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer px-2.5 py-1.5 rounded text-sm",style:{backgroundColor:q.includes(ee.id)?ee.color+"30":ee.color+"15",color:ee.color,border:`1px solid ${ee.color}40`},children:[h.jsx("input",{type:"checkbox",checked:q.includes(ee.id),onChange:ke=>{const Oe=ke.target.checked?[...q,ee.id]:q.filter(De=>De!==ee.id);X(Oe)},className:"cursor-pointer"}),ee.icon&&h.jsx(Se,{path:ee.icon,size:.6}),ee.name]},ee.id))}):h.jsx("span",{className:"text-red-500 text-sm italic",children:"No categories available"})]})]})]}),h.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-sm mb-3 text-green-800",children:"Manager-Only Info (default contact info)"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[h.jsx("input",{type:"text",placeholder:"Contact Person",value:V?G.contact||"":Q.contact||"",onChange:ee=>V?re({...G,contact:ee.target.value}):se({...Q,contact:ee.target.value}),className:"px-3 py-2 border rounded bg-white text-gray-900"}),h.jsx(HC,{value:V?G.phone||"":Q.phone||"",onChange:ee=>V?re({...G,phone:ee}):se({...Q,phone:ee}),placeholder:"Phone (e.g., +31612345678)"}),h.jsx("input",{type:"email",placeholder:"Email",value:V?G.email||"":Q.email||"",onChange:ee=>{const ke=ee.target.value.toLowerCase();V?re({...G,email:ke}):se({...Q,email:ke})},className:"px-3 py-2 border rounded bg-white text-gray-900"})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[h.jsx("button",{onClick:V?ie:Te,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),h.jsx("button",{onClick:V?D:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:V?"Create":"Save"})]})]})}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full rounded",style:{tableLayout:"fixed",fontSize:"11px"},children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{children:[Z==="public"?h.jsxs(h.Fragment,{children:[h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Name"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Logo"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Website"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Info"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Categories"})]}):h.jsxs(h.Fragment,{children:[h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Name"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Contact"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Phone"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Email"})]}),h.jsx("th",{className:"p-2 bg-gray-100 border-b font-semibold text-gray-900",style:{minWidth:"90px",width:"90px",maxWidth:"120px"},children:"Actions"})]})}),h.jsx("tbody",{children:Ee.map(ee=>{const ke=ee.isOrganization,Oe=ke?"bg-gray-700 text-white":"bg-white text-gray-900 hover:bg-gray-50",De=Z==="public"?"bg-blue-50":"bg-green-50";return h.jsxs("tr",{className:`${Oe} border-b`,children:[h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":De}`,children:h.jsx("span",{className:"font-semibold",children:ee.name})}),Z==="public"?h.jsxs(h.Fragment,{children:[h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":"bg-blue-50"}`,children:h.jsx("img",{src:ir(ee.logo&&ee.logo.trim()!==""?ee.logo:y),alt:ee.name,className:"h-8 object-contain"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":"bg-blue-50"}`,children:ee.website?h.jsx("a",{href:ee.website.startsWith("http")?ee.website:`https://${ee.website}`,target:"_blank",rel:"noopener noreferrer",className:ke?"text-blue-300 hover:underline":"text-blue-600 hover:underline",children:ee.website.replace(/^https?:\/\//,"").substring(0,30)}):h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left max-w-xs ${ke?"":"bg-blue-50"}`,children:ke?h.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap",children:ee.info||h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}):h.jsx(sU,{companyId:ee.id,currentLanguage:oe===ee.id?w.language:"nl"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":"bg-blue-50"}`,children:ke?h.jsx("span",{className:"text-gray-400 text-xs italic",children:"N/A"}):h.jsxs("div",{className:"flex flex-wrap gap-1",children:[(F[ee.id]||[]).map(ct=>h.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded inline-flex items-center gap-1",style:{backgroundColor:ct.color+"20",color:ct.color},children:[ct.icon&&h.jsx(Se,{path:ct.icon,size:.5}),ct.name]},ct.id)),(!F[ee.id]||F[ee.id].length===0)&&h.jsx("span",{className:"text-gray-400 text-xs italic",children:"None"})]})})]}):h.jsxs(h.Fragment,{children:[h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":"bg-green-50"}`,children:h.jsx("span",{className:"text-xs",children:ee.contact||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":"bg-green-50"}`,children:ee.phone?h.jsxs("span",{className:"text-xs flex items-center gap-1",children:[h.jsx("span",{children:VC(ee.phone)}),h.jsx("span",{children:Tf(ee.phone)})]}):h.jsx("span",{className:"text-gray-400 italic text-xs",children:"Not set"})}),h.jsx("td",{className:`py-2 px-3 border-b text-left ${ke?"":"bg-green-50"}`,children:h.jsx("span",{className:"text-xs",children:ee.email||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]}),h.jsx("td",{className:"py-2 px-3 border-b text-left",children:h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:()=>Ce(ee),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:h.jsx(Se,{path:Rf,size:.8})}),!ke&&h.jsx("button",{onClick:()=>J(ee.id,ee.name),className:"p-1.5 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete",children:h.jsx(Se,{path:Bl,size:.8})}),ke&&h.jsx("div",{className:"flex items-center justify-center pt-1 text-gray-300",children:h.jsx(Se,{path:_l,size:.8})})]})})]},ee.id)})})]}),Ee.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:C(N?"helpPanel.companies.noResults":"helpPanel.companies.noCompanies")})]})]})}function FC(e){const[t,n]=j.useState([]),[i,s]=j.useState(!0),[a,l]=j.useState(null);return j.useEffect(()=>{async function d(){try{s(!0),l(null);const{data:f,error:g}=await ge.from("Markers_Core").select("id").lt("id",1e3).order("id",{ascending:!0});if(g)throw g;const{data:y,error:v}=await ge.from("Markers_Appearance").select("id, glyph").lt("id",1e3);if(v)throw v;const x={};(y||[]).forEach(C=>{C&&C.id&&(x[C.id]=C.glyph||"")});const w=(f||[]).map(C=>({id:C.id,glyph:x[C.id]||C.id.toString()}));n(w)}catch(f){console.error("Error loading markers:",f),l(f)}finally{s(!1)}}d()},[e]),{markers:t,loading:i,error:a}}function oU({selectedYear:e}){const{t}=wt(),{organizationLogo:n}=na(),{subscriptions:i,loading:s,error:a,subscribeCompany:l,updateSubscription:d,unsubscribeCompany:f,archiveCurrentYear:g,copyFromPreviousYear:y}=ed(e),{companies:v}=P1(),{assignments:x}=Jf(e),{markers:w}=FC(e),[C,T]=j.useState(""),[k,$]=j.useState(null),[P,N]=j.useState({}),[U,H]=j.useState(!1),[B,Z]=j.useState(""),[ne,F]=j.useState("company"),[W,q]=j.useState("asc"),{confirm:X,toastError:oe,toastSuccess:Q,toastWarning:se}=Lr(),V=j.useMemo(()=>{const _e=new Set(i.map(ee=>ee.company_id));return v.filter(ee=>!_e.has(ee.id))},[v,i]),G=j.useMemo(()=>{const _e={};return x.forEach(ee=>{_e[ee.company_id]||(_e[ee.company_id]=[]),_e[ee.company_id].push(ee)}),_e},[x]),re=j.useMemo(()=>{const _e={};return w.forEach(ee=>{_e[ee.id]=ee.glyph}),_e},[w]),Ce=j.useCallback(_e=>{const ee=G[_e]||[];if(ee.length===0)return"-";const ke=ee.sort((Oe,De)=>Oe.marker_id-De.marker_id).map(Oe=>re[Oe.marker_id]||Oe.marker_id.toString()).filter(Boolean);return ke.length>0?ke.join(", "):"-"},[G,re]),O=j.useMemo(()=>{let _e=i;if(C){const ke=C.toLowerCase();_e=_e.filter(Oe=>Oe.company?.name?.toLowerCase().includes(ke))}return[..._e].sort((ke,Oe)=>{let De=0;if(ne==="company"){const ct=(ke.company?.name||"").toLowerCase(),Pe=(Oe.company?.name||"").toLowerCase();De=ct.localeCompare(Pe)}else if(ne==="booths"){const ct=Ce(ke.company_id),Pe=Ce(Oe.company_id);if(ct==="-"&&Pe!=="-")return 1;if(ct!=="-"&&Pe==="-")return-1;if(ct==="-"&&Pe==="-")return 0;De=ct.localeCompare(Pe,void 0,{numeric:!0})}return W==="asc"?De:-De})},[i,C,ne,W,Ce]),R=j.useMemo(()=>O.reduce((_e,ee)=>(_e.booth_count+=ee.booth_count||0,_e.breakfast_sat+=ee.breakfast_sat||0,_e.lunch_sat+=ee.lunch_sat||0,_e.bbq_sat+=ee.bbq_sat||0,_e.breakfast_sun+=ee.breakfast_sun||0,_e.lunch_sun+=ee.lunch_sun||0,_e.coins+=ee.coins||0,_e),{booth_count:0,breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[O]),J=_e=>{$(_e.id),N({..._e})},D=async()=>{const{id:_e,company:ee,...ke}=P;await d(_e,ke),$(null),N({})},ce=()=>{$(null),N({})},ie=async _e=>{const ee=_e.company?.name||"this company",ke=Ce(_e.company_id),Oe=ke?` and their booth assignments (${ke})`:"";if(!await X({title:"Unsubscribe Company",message:`Unsubscribe ${ee} from ${e}? This will delete their subscription${Oe}.`,confirmText:"Unsubscribe",variant:"danger"}))return;const{error:ct}=await f(_e.id);ct&&oe(`Error unsubscribing company: ${ct}`)},ue=async()=>{if(!B){se("Please select a company");return}const{error:_e}=await l(parseInt(B));_e?oe(`Error subscribing company: ${_e}`):(H(!1),Z(""))},Te=async()=>{if(!await X({title:"Archive Subscriptions",message:`Archive all subscriptions for ${e}? This will move them to the archive and clear the active list.`,confirmText:"Archive",variant:"warning"}))return;const{data:ee,error:ke}=await g();ke?oe(`Error archiving: ${ke}`):Q(`Archived ${ee} subscriptions for ${e}`)},Ee=async()=>{const _e=e-1;if(!await X({title:"Copy Subscriptions",message:`Copy all subscriptions from ${_e} to ${e}?`,confirmText:"Copy",variant:"default"}))return;const{error:ke}=await y(_e);ke?oe(`Error copying subscriptions: ${ke}`):Q(`Subscriptions copied from ${_e} to ${e}`)},Le=_e=>{ne===_e?q(W==="asc"?"desc":"asc"):(F(_e),q("asc"))};return s?h.jsx("div",{className:"p-4",children:"Loading subscriptions..."}):a?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",a]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:co,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:t("helpPanel.subscriptions.searchPlaceholder"),value:C,onChange:_e=>T(_e.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[O.length," of ",i.length]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",title:`Copy from ${e-1}`,children:[h.jsx(Se,{path:$k,size:.8}),"Copy from ",e-1]}),h.jsxs("button",{onClick:Te,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[h.jsx(Se,{path:Pf,size:.8}),"Archive ",e]}),h.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(Se,{path:Wc,size:.8}),"Subscribe Company"]})]})]}),U&&h.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-blue-50 flex-shrink-0",children:[h.jsxs("h3",{className:"font-bold mb-3",children:["Subscribe Company to ",e]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("select",{value:B,onChange:_e=>Z(_e.target.value),className:"flex-1 px-3 py-2 border rounded",children:[h.jsx("option",{value:"",children:"Select a company..."}),V.map(_e=>h.jsx("option",{value:_e.id,children:_e.name},_e.id))]}),h.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[h.jsx(Se,{path:Qs,size:.7}),"Subscribe"]}),h.jsxs("button",{onClick:()=>{H(!1),Z("")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:[h.jsx(Se,{path:oo,size:.7}),"Cancel"]})]}),V.length===0&&h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["All companies are already subscribed to ",e]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[h.jsxs("thead",{className:"bg-gray-100 text-gray-900 sticky top-0 z-10",children:[h.jsxs("tr",{children:[h.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Le("booths"),title:"Click to sort by booth labels",rowSpan:3,children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"Booths"}),ne==="booths"&&h.jsx(Se,{path:W==="asc"?$l:kl,size:.6,className:"text-blue-600"})]})}),h.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Le("company"),title:"Click to sort by company name",rowSpan:3,children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"Company"}),ne==="company"&&h.jsx(Se,{path:W==="asc"?$l:kl,size:.6,className:"text-blue-600"})]})}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.contact")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.phone")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.email")}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:t("helpPanel.subscriptions.boothCount")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.area")}),h.jsx("th",{className:"p-2 text-center border-b bg-blue-50",colSpan:3,children:h.jsx("span",{className:"font-bold text-blue-700",children:t("helpPanel.subscriptions.saturday")})}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",colSpan:2,children:h.jsx("span",{className:"font-bold text-green-700",children:t("helpPanel.subscriptions.sunday")})}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:t("helpPanel.subscriptions.coins")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.notes")}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",rowSpan:3,style:{minWidth:"80px"},children:t("helpPanel.subscriptions.actions")})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.breakfast")}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.lunch")}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.bbq")}),h.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.breakfast")}),h.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.lunch")}),h.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:R.booth_count}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.breakfast_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.lunch_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.bbq_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:R.breakfast_sun}),h.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:R.lunch_sun}),h.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:R.coins})]})]}),h.jsx("tbody",{children:O.map(_e=>{const ee=k===_e.id,ke=_e.company,Oe=Ce(_e.company_id);return h.jsxs("tr",{className:"bg-white hover:bg-gray-50 border-b",children:[h.jsx("td",{className:"p-2 text-left",children:h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:Oe})}),h.jsx("td",{className:"p-2 text-left",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:ir(ke?.logo||n),alt:ke?.name,className:"w-8 h-8 object-contain"}),h.jsx("span",{className:"font-semibold text-gray-700",children:ke?.name})]})}),h.jsx("td",{className:"p-2 text-left",children:ee?h.jsx("input",{type:"text",value:P.contact||"",onChange:De=>N({...P,contact:De.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:_e.contact||"-"})}),h.jsx("td",{className:"p-2 text-left",children:ee?h.jsx(HC,{value:P.phone||"",onChange:De=>N({...P,phone:De}),placeholder:"+31612345678",className:"text-xs"}):_e.phone?h.jsxs("span",{className:"text-xs text-gray-700 flex items-center gap-1",children:[h.jsx("span",{children:VC(_e.phone)}),h.jsx("span",{children:Tf(_e.phone)})]}):h.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),h.jsx("td",{className:"p-2 text-left",children:ee?h.jsx("input",{type:"email",value:P.email||"",onChange:De=>N({...P,email:De.target.value.toLowerCase()}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:_e.email||"-"})}),h.jsx("td",{className:"p-2 text-center",children:ee?h.jsx("input",{type:"number",min:"1",value:P.booth_count||1,onChange:De=>N({...P,booth_count:parseInt(De.target.value)}),className:"w-16 px-2 py-1 border rounded text-xs text-center bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:_e.booth_count})}),h.jsx("td",{className:"p-2",children:ee?h.jsx("input",{type:"text",value:P.area||"",onChange:De=>N({...P,area:De.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",placeholder:t("helpPanel.subscriptions.areaPlaceholder")}):h.jsx("span",{className:"text-xs text-gray-700",children:_e.area||"-"})}),["breakfast_sat","lunch_sat","bbq_sat"].map(De=>h.jsx("td",{className:"p-2 text-center bg-blue-50",children:ee?h.jsx("input",{type:"number",min:"0",value:P[De]||0,onChange:ct=>N({...P,[De]:parseInt(ct.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):h.jsx("span",{className:"text-xs text-gray-700",children:_e[De]})},De)),["breakfast_sun","lunch_sun"].map(De=>h.jsx("td",{className:"p-2 text-center bg-green-50",children:ee?h.jsx("input",{type:"number",min:"0",value:P[De]||0,onChange:ct=>N({...P,[De]:parseInt(ct.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):h.jsx("span",{className:"text-xs text-gray-700",children:_e[De]})},De)),h.jsx("td",{className:"p-2 text-center",children:ee?h.jsx("input",{type:"number",min:"0",value:P.coins||0,onChange:De=>N({...P,coins:parseInt(De.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:_e.coins})}),h.jsx("td",{className:"p-2 text-left",children:ee?h.jsx("textarea",{value:P.notes||"",onChange:De=>N({...P,notes:De.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",rows:2}):h.jsx("span",{className:"text-xs text-gray-700",children:_e.notes||"-"})}),h.jsx("td",{className:"p-2 text-center",children:ee?h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:D,className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:h.jsx(Se,{path:Qs,size:.6})}),h.jsx("button",{onClick:ce,className:"p-1 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:h.jsx(Se,{path:oo,size:.6})})]}):h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:()=>J(_e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:h.jsx(Se,{path:Rf,size:.6})}),h.jsx("button",{onClick:()=>ie(_e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Unsubscribe",children:h.jsx(Se,{path:Bl,size:.6})})]})})]},_e.id)})})]}),O.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:C?"No subscriptions found matching your search":`No companies subscribed to ${e} yet. Click "Subscribe Company" to add one.`})]})]})}function lU({activity:e=null,day:t="saturday",onSave:n=()=>{},onClose:i=()=>{}}){const{t:s,i18n:a}=wt(),[l,d]=j.useState("nl"),f=a&&a.language==="nl"?"nl":"en",[g,y]=j.useState(e?.title_nl||""),[v,x]=j.useState(e?.title_en||""),[w,C]=j.useState(e?.title_de||""),[T,k]=j.useState(e?.description_nl||""),[$,P]=j.useState(e?.description_en||""),[N,U]=j.useState(e?.description_de||""),[H,B]=j.useState(e?.location_nl||""),[Z,ne]=j.useState(e?.location_en||""),[F,W]=j.useState(e?.location_de||""),[q,X]=j.useState(e?.badge_nl||""),[oe,Q]=j.useState(e?.badge_en||""),[se,V]=j.useState(e?.badge_de||""),[G,re]=j.useState(e?.start_time||""),[Ce,O]=j.useState(e?.end_time||""),[R,J]=j.useState(e?.display_order??0),[D,ce]=j.useState(e?.is_active??!0),[ie,ue]=j.useState(e?.show_location_type_badge??!1),[Te,Ee]=j.useState(e?.location_type||(e?.company_id?"company":"venue")),[Le,_e]=j.useState(e?.company_id??null),ee=e?.id??"new",{toastSuccess:ke,toastError:Oe}=Lr(),{companies:De}=P1();j.useEffect(()=>{y(e?.title_nl||""),x(e?.title_en||""),C(e?.title_de||""),k(e?.description_nl||""),P(e?.description_en||""),U(e?.description_de||""),B(e?.location_nl||""),ne(e?.location_en||""),W(e?.location_de||""),X(e?.badge_nl||""),Q(e?.badge_en||""),V(e?.badge_de||""),re(e?.start_time||""),O(e?.end_time||""),J(e?.display_order||0),ce(e?.is_active??!0),ue(e?.show_location_type_badge??!1),Ee(e?.location_type||(e?.company_id?"company":"venue")),_e(e?.company_id||null)},[e]);const ct=async Pe=>{Pe&&Pe.preventDefault&&Pe.preventDefault();const Fn=Le!=null&&Le!==""?Number(Le):null,Qt={day:t,start_time:G||null,end_time:Ce||null,display_order:R||null,title_nl:g||null,title_en:v||null,title_de:w||null,description_nl:T||null,description_en:$||null,description_de:N||null,location_type:Te||"venue",company_id:Fn,location_nl:H||null,location_en:Z||null,location_de:F||null,badge_nl:q||null,badge_en:oe||null,badge_de:se||null,is_active:!!D,show_location_type_badge:!!ie};try{if(console.debug("ActivityForm payload",Qt),!e?.id&&(!R||R===0)){const{data:St,error:Jt}=await ge.from("event_activities").select("display_order").eq("day",t).order("display_order",{ascending:!1}).limit(1).maybeSingle();!Jt&&St&&typeof St.display_order=="number"?Qt.display_order=St.display_order+1:Qt.display_order=1}if(e&&e.id){const{error:St}=await ge.from("event_activities").update(Qt).eq("id",e.id);if(St)throw St;const{data:Jt,error:Dn}=await ge.from("event_activities").select().eq("id",e.id).maybeSingle();if(Dn&&console.warn("Failed to fetch updated activity:",Dn),Jt&&typeof Jt.show_location_type_badge<"u"){const ar=!!Jt.show_location_type_badge;if(ar!==Qt.show_location_type_badge){console.warn("Persisted show_location_type_badge does not match requested value",{requested:Qt.show_location_type_badge,persisted:ar,id:e?.id});try{Oe(s("activityForm.savePersistMismatch"))}catch{}}ue(ar)}}else{const{error:St}=await ge.from("event_activities").insert([{...Qt}]);if(St)throw St;const{data:Jt,error:Dn}=await ge.from("event_activities").select().eq("day",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();Dn&&console.warn("Failed to fetch inserted activity:",Dn),Jt&&typeof Jt.show_location_type_badge<"u"&&ue(!!Jt.show_location_type_badge)}await n();try{ke(s("activityForm.saveSuccess"))}catch{}try{window.dispatchEvent(new Event("eventActivitiesUpdated"))}catch{}i()}catch(St){console.error("Error saving activity:",St);try{Oe(s("activityForm.saveError")+(St.message?": "+St.message:""))}catch{alert(s("activityForm.saveError")+(St.message?": "+St.message:""))}}};return h.jsxs(us,{isOpen:!0,onClose:i,title:s("activityForm.createTitle"),size:"lg",children:[h.jsxs("div",{className:"px-6 pt-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("button",{type:"button",onClick:()=>d("nl"),className:`px-3 py-1 rounded ${l==="nl"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"NL"}),h.jsx("button",{type:"button",onClick:()=>d("en"),className:`px-3 py-1 rounded ${l==="en"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"EN"}),h.jsx("button",{type:"button",onClick:()=>d("de"),className:`px-3 py-1 rounded ${l==="de"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"DE"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[l==="nl"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`title-nl-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.titleNL",{lng:f})}),h.jsx("input",{id:`title-nl-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:g,onChange:Pe=>y(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`description-nl-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.descriptionNL")}),h.jsx("textarea",{id:`description-nl-${ee}`,rows:4,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:T,onChange:Pe=>k(Pe.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-nl-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.locationNL")}),h.jsx("input",{id:`location-nl-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:H,onChange:Pe=>B(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`badge-nl-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.badgeNL")," ",h.jsx("span",{className:"text-xs text-gray-400",children:s("activityForm.optional")})]}),h.jsx("input",{id:`badge-nl-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:q,onChange:Pe=>X(Pe.target.value)})]})]})]}),l==="en"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`title-en-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.titleEN",{lng:f})}),h.jsx("input",{id:`title-en-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:v,onChange:Pe=>x(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`description-en-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.descriptionEN")}),h.jsx("textarea",{id:`description-en-${ee}`,rows:4,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:$,onChange:Pe=>P(Pe.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-en-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.locationEN")}),h.jsx("input",{id:`location-en-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:Z,onChange:Pe=>ne(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`badge-en-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.badgeEN")," ",h.jsx("span",{className:"text-xs text-gray-400",children:s("activityForm.optional")})]}),h.jsx("input",{id:`badge-en-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:oe,onChange:Pe=>Q(Pe.target.value)})]})]})]}),l==="de"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`title-de-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (DE)"}),h.jsx("input",{id:`title-de-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:w,onChange:Pe=>C(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`description-de-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (DE)"}),h.jsx("textarea",{id:`description-de-${ee}`,rows:4,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:N,onChange:Pe=>U(Pe.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-de-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Location (DE)"}),h.jsx("input",{id:`location-de-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:F,onChange:Pe=>W(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`badge-de-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Badge (DE) ",h.jsx("span",{className:"text-xs text-gray-400",children:s("activityForm.optional")})]}),h.jsx("input",{id:`badge-de-${ee}`,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:se,onChange:Pe=>V(Pe.target.value)})]})]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`start-time-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.startTime")}),h.jsx("input",{id:`start-time-${ee}`,type:"time",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:G||"",onChange:Pe=>re(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`end-time-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.endTime")}),h.jsx("input",{id:`end-time-${ee}`,type:"time",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-200",value:Ce||"",onChange:Pe=>O(Pe.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`location-type-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.locationType")}),h.jsxs("select",{id:`location-type-${ee}`,className:"w-full px-3 py-2 border rounded",value:Te,onChange:Pe=>Ee(Pe.target.value),children:[h.jsx("option",{value:"venue",children:s("activityForm.venue")}),h.jsx("option",{value:"exhibitor",children:s("activityForm.exhibitor")}),h.jsx("option",{value:"company",children:"Company"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`company-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.company")}),h.jsxs("select",{id:`company-${ee}`,className:"w-full px-3 py-2 border rounded",value:Le||"",onChange:Pe=>_e(Pe.target.value||null),children:[h.jsx("option",{value:"",children:s("activityForm.selectCompany")}),De.map(Pe=>h.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`display-order-${ee}`,className:"block text-sm font-medium text-gray-700 mb-1",children:s("activityForm.displayOrder")}),h.jsx("input",{id:`display-order-${ee}`,type:"number",className:"w-full px-3 py-2 border rounded",value:R||0,onChange:Pe=>J(Number(Pe.target.value)),"aria-describedby":`display-order-help-${ee}`}),h.jsx("p",{id:`display-order-help-${ee}`,className:"text-xs text-gray-400 mt-1",children:s("activityForm.displayOrderHelp")})]}),h.jsx("div",{className:"flex items-start gap-3",children:h.jsxs("label",{htmlFor:`isActive-${ee}`,className:"flex items-start gap-3 cursor-pointer",children:[h.jsx("input",{id:`isActive-${ee}`,type:"checkbox",className:"h-5 w-5 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-400",checked:D,onChange:Pe=>ce(Pe.target.checked)}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm",children:s("activityForm.isActive")}),h.jsx("div",{className:"text-xs text-gray-400",children:s("activityForm.isActiveHelp")})]})]})}),h.jsx("div",{className:"flex items-start gap-3",children:h.jsxs("label",{htmlFor:`showLocBadge-${ee}`,className:"flex items-start gap-3 cursor-pointer",children:[h.jsx("input",{id:`showLocBadge-${ee}`,type:"checkbox",className:"h-5 w-5 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-400",checked:ie,onChange:Pe=>ue(Pe.target.checked)}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm",children:s("activityForm.showLocationBadge")}),h.jsx("div",{className:"text-xs text-gray-400",children:s("activityForm.showLocationBadgeHelp")})]})]})})]})]})]}),h.jsx("form",{onSubmit:ct,className:"px-6 py-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-white text-gray-900 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300","aria-label":s("activityForm.cancel"),children:s("activityForm.cancel")}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300","aria-label":s("activityForm.save"),children:s("activityForm.save")})]})})]})}function uU(){const{t:e,i18n:t}=wt(),{activities:n,loading:i,error:s,getActivityLocation:a,refetch:l}=r5(),[d,f]=j.useState("saturday"),[g,y]=j.useState(null),[v,x]=j.useState(!1),[w,C]=j.useState(!1),[T,k]=j.useState(null),[$,P]=j.useState(null),[N,U]=j.useState(!1),H=n[d]||[],B=async q=>{if(!(!g||g.id!==q)){x(!0);try{const{error:X}=await ge.from("event_activities").delete().eq("id",q);if(X)throw X;await l(),y(null)}catch(X){console.error("Error deleting activity:",X),alert(e("programManagement.deleteError")+": "+X.message)}finally{x(!1)}}},Z=(q,X,oe)=>{P({activity:X,index:oe}),q.dataTransfer.effectAllowed="move",q.currentTarget.style.opacity="0.4"},ne=q=>{q.currentTarget.style.opacity="1",P(null)},F=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},W=async(q,X)=>{if(q.preventDefault(),!(!$||$.index===X)){U(!0);try{const oe=[...H],[Q]=oe.splice($.index,1);oe.splice(X,0,Q);const se=oe.map((V,G)=>({id:V.id,display_order:G+1}));for(const V of se){const{error:G}=await ge.from("event_activities").update({display_order:V.display_order}).eq("id",V.id);if(G)throw G}await l()}catch(oe){console.error("Error reordering activities:",oe),alert(e("programManagement.reorderError")+": "+oe.message)}finally{U(!1)}}};return i?h.jsxs("div",{className:"flex justify-center items-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("programManagement.loading")})]}):s?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-red-800",children:[e("programManagement.error"),": ",s.message]})}):h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e("programManagement.title")}),h.jsxs("button",{onClick:()=>{k(null),C(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(BC,{className:"text-xl"}),h.jsx("span",{children:e("programManagement.addActivity")})]})]})}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("div",{className:"flex",children:[h.jsxs("button",{onClick:()=>f("saturday"),className:`px-6 py-3 font-medium transition-colors ${d==="saturday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.saturday")," (",n.saturday?.length||0,")"]}),h.jsxs("button",{onClick:()=>f("sunday"),className:`px-6 py-3 font-medium transition-colors ${d==="sunday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.sunday")," (",n.sunday?.length||0,")"]})]})}),h.jsx("div",{className:"divide-y divide-gray-200",children:H.length===0?h.jsxs("div",{className:"px-6 py-12 text-center",children:[h.jsx("p",{className:"text-gray-500",children:e("programManagement.noActivitiesFound")}),h.jsx("button",{onClick:()=>{k(null),C(!0)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e("programManagement.addFirstActivity")})]}):H.map((q,X)=>{const oe=a(q,t.language),Q=t.language||"en",se=Q==="nl"?q.title_nl:Q==="de"?q.title_de:q.title_en,V=Q==="nl"?q.description_nl:Q==="de"?q.description_de:q.description_en,G=Q==="nl"?q.badge_nl:Q==="de"?q.badge_de:q.badge_en;return h.jsx("div",{draggable:!N,onDragStart:re=>Z(re,q,X),onDragEnd:ne,onDragOver:F,onDrop:re=>W(re,X),className:`px-6 py-4 hover:bg-gray-50 transition-colors ${N?"opacity-50 cursor-wait":"cursor-move"}`,children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("button",{className:`mt-1 text-gray-400 hover:text-gray-600 ${N?"cursor-wait":"cursor-move"}`,title:e("programManagement.dragToReorder"),disabled:N,children:h.jsx(kB,{className:"text-2xl"})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-gray-600 bg-gray-100 rounded",children:q.display_order}),h.jsxs("span",{className:"text-sm text-gray-500",children:[q.start_time," - ",q.end_time]}),G&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded",children:G})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:se}),h.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:V}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsxs("span",{className:"text-gray-500",children:[e("programManagement.location"),":"]}),h.jsx("span",{className:"font-medium text-gray-700",children:oe.text}),q.show_location_type_badge&&h.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${q.location_type==="exhibitor"||q.location_type==="company"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:q.location_type==="exhibitor"||q.location_type==="company"?e("programManagement.exhibitor"):e("programManagement.venue")})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{k(q),C(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:e("programManagement.edit"),children:h.jsx(AB,{className:"text-xl"})}),h.jsx("button",{onClick:()=>y({id:q.id,title:se}),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:e("programManagement.delete"),children:h.jsx(jB,{className:"text-xl"})})]})]})})]})},q.id)})}),H.length>0&&h.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:h.jsxs("p",{className:"text-sm text-gray-600",children:[e("programManagement.totalActivities"),": ",h.jsx("span",{className:"font-medium",children:H.length})]})}),h.jsxs(us,{isOpen:!!g,onClose:()=>y(null),title:e("programManagement.confirmDelete"),size:"md",children:[h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-gray-700",children:e("programManagement.confirmDeleteMessage")}),h.jsxs("p",{className:"mt-2 font-medium text-gray-900",children:['"',g?.title,'"']})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3 border-t border-gray-200",children:[h.jsx("button",{onClick:()=>y(null),disabled:v,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:e("programManagement.cancel")}),h.jsx("button",{onClick:()=>B(g?.id),disabled:v,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:v?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("programManagement.deleting")]}):e("programManagement.deleteButton")})]})]}),w&&h.jsx(lU,{activity:T,day:d,onSave:l,onClose:()=>{C(!1),k(null)}})]})}const w3="assignmentsTab_sortPreferences";function cU({selectedYear:e}){const{t}=wt(),[n,i]=j.useState(""),a=(()=>{try{const ie=localStorage.getItem(w3);if(ie)return JSON.parse(ie)}catch(ie){console.error("Error loading sort preferences:",ie)}return{sortBy:"alphabetic",sortDirection:"asc",columnSort:"markerId",columnSortDirection:"asc"}})(),[l,d]=j.useState(a.sortBy),[f,g]=j.useState(a.sortDirection),[y,v]=j.useState(a.columnSort),[x,w]=j.useState(a.columnSortDirection),{markers:C,loading:T}=FC(),{assignments:k,loading:$,error:P,assignCompanyToMarker:N,unassignCompanyFromMarker:U,archiveCurrentYear:H,loadArchivedAssignments:B}=Jf(e),{subscriptions:Z}=ed(e),{confirm:ne,toastError:F,toastSuccess:W,toastInfo:q}=Lr(),X=j.useMemo(()=>Z.map(ie=>({id:ie.company_id,name:ie.company?.name||"Unknown",logo:ie.company?.logo||""})),[Z]);j.useEffect(()=>{try{const ie={sortBy:l,sortDirection:f,columnSort:y,columnSortDirection:x};localStorage.setItem(w3,JSON.stringify(ie))}catch(ie){console.error("Error saving sort preferences:",ie)}},[l,f,y,x]);const oe=j.useMemo(()=>{const ie={};return k.forEach(ue=>{ie[ue.company_id]=(ie[ue.company_id]||0)+1}),ie},[k]),Q=j.useMemo(()=>{const ie={};return k.forEach(ue=>{(!ie[ue.company_id]||ue.marker_id<ie[ue.company_id])&&(ie[ue.company_id]=ue.marker_id)}),ie},[k]),se=j.useMemo(()=>[...n?X.filter(Te=>Te.name?.toLowerCase().includes(n.toLowerCase())):X].sort((Te,Ee)=>{const Le=oe[Te.id]||0,_e=oe[Ee.id]||0,ee=Q[Te.id],ke=Q[Ee.id];let Oe=0;switch(l){case"byMarker":!ee&&ke?Oe=1:ee&&!ke?Oe=-1:!ee&&!ke?Oe=Te.name.localeCompare(Ee.name):ee!==ke?Oe=ee-ke:Oe=Te.name.localeCompare(Ee.name);break;case"unassignedFirst":Le===0&&_e>0?Oe=-1:Le>0&&_e===0?Oe=1:Le===0&&_e===0?Oe=Te.name.localeCompare(Ee.name):!ee&&ke?Oe=1:ee&&!ke?Oe=-1:ee!==ke?Oe=ee-ke:Oe=Te.name.localeCompare(Ee.name);break;case"alphabetic":default:Oe=Te.name.localeCompare(Ee.name);break}return f==="desc"?-Oe:Oe}),[X,n,l,f,oe,Q]),V=j.useMemo(()=>[...C].sort((ue,Te)=>{let Ee=0;return y==="glyphText"?Ee=ue.glyph.localeCompare(Te.glyph,void 0,{numeric:!0,sensitivity:"base"}):Ee=ue.id-Te.id,x==="desc"?-Ee:Ee}),[C,y,x]),G=j.useMemo(()=>{const ie={};return k.forEach(ue=>{const Te=`${ue.company_id}_${ue.marker_id}`;ie[Te]=ue}),ie},[k]),re=j.useMemo(()=>{const ie=new Set;return k.forEach(ue=>{ie.add(ue.marker_id)}),ie},[k]),Ce=ie=>re.has(ie),O=(ie,ue)=>{const Te=`${ie}_${ue}`;return!!G[Te]},R=(ie,ue)=>{const Te=`${ie}_${ue}`;return G[Te]},J=async(ie,ue)=>{if(R(ie,ue)){const{error:Ee}=await U(ue,ie);Ee&&F(`Error removing assignment: ${Ee}`)}else{const Ee=k.filter(_e=>_e.marker_id===ue);if(Ee.length>0){const ee=X.find(Pe=>Pe.id===ie)?.name||"this company",Oe=V.find(Pe=>Pe.id===ue)?.glyph||ue;let De;if(Ee.length===1){const Fn=X.find(Qt=>Qt.id===Ee[0].company_id)?.name||"another company";De=`Booth ${Oe} is already assigned to ${Fn}.

Assign ${ee} as an additional company for this booth?`}else{const Pe=Ee.map(Fn=>X.find(St=>St.id===Fn.company_id)?.name).filter(Boolean).join(", ");De=`Booth ${Oe} is already assigned to ${Ee.length} companies: ${Pe}.

Assign ${ee} as another company for this booth?`}if(!await ne({title:"Multiple Assignments",message:De,confirmText:"Assign",variant:"warning"}))return}const{error:Le}=await N(ue,ie,null);Le&&F(`Error creating assignment: ${Le}`)}},D=async()=>{if(!await ne({title:"Archive Assignments",message:`Archive all assignments for ${e}? This will move them to the archive and clear the current year.`,confirmText:"Archive",variant:"warning"}))return;const{error:ue}=await H();ue?F(`Error archiving: ${ue}`):W(`Successfully archived ${k.length} assignments for ${e}`)},ce=async ie=>{const{error:ue}=await B(ie);ue?F(`Error loading archived assignments: ${ue}`):q(`Archived data loaded for ${ie}. Feature coming soon: display in table.`)};return $||T?h.jsx("div",{className:"p-4",children:"Loading assignments..."}):P?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",P]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:co,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:t("helpPanel.assignments.searchPlaceholder"),value:n,onChange:ie=>i(ie.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[se.length," of ",X.length]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>ce(e),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",title:`View archived assignments for ${e}`,children:[h.jsx(Se,{path:Rk,size:.8}),h.jsx("span",{children:t("helpPanel.assignments.archive")})]}),h.jsx("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:k.length===0,title:`Archive all assignments for ${e}`,children:h.jsx(Se,{path:Pf,size:.8})}),h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("helpPanel.assignments.sortCompanies")}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:l,onChange:ie=>d(ie.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none",title:"Sort table rows",children:[h.jsx("option",{value:"alphabetic",children:"A-Z"}),h.jsx("option",{value:"byMarker",children:t("helpPanel.assignments.byMarker")}),h.jsx("option",{value:"unassignedFirst",children:t("helpPanel.assignments.unassignedFirst")})]}),h.jsx("button",{onClick:()=>g(f==="asc"?"desc":"asc"),className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:f==="asc"?"Ascending":"Descending",children:h.jsx(Se,{path:f==="asc"?$l:kl,size:.8})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("helpPanel.assignments.sortMarkers")}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:y,onChange:ie=>v(ie.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none",title:"Sort table columns",children:[h.jsx("option",{value:"markerId",children:t("helpPanel.assignments.markerId")}),h.jsx("option",{value:"glyphText",children:t("helpPanel.assignments.glyphText")})]}),h.jsx("button",{onClick:()=>w(x==="asc"?"desc":"asc"),className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:x==="asc"?"Ascending":"Descending",children:h.jsx(Se,{path:x==="asc"?$l:kl,size:.8})})]})]})]})]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg relative",style:{maxHeight:"calc(100vh - 8rem)"},children:[h.jsxs("table",{className:"w-full table-auto border-separate",style:{fontSize:"11px"},children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[h.jsx("th",{className:"p-2 text-left font-semibold border-b border-r bg-gray-200 sticky left-0 top-0 z-20",style:{minWidth:"200px",top:0,left:0,background:"#f3f4f6"},children:"Company"}),V.map(ie=>{const ue=Ce(ie.id);return h.jsx("th",{className:`p-1 text-center border-b ${ue?"":"bg-gray-200"}`,style:{minWidth:"45px",maxWidth:"45px"},title:`Marker ID: ${ie.id}, Booth: ${ie.glyph}${ue?"":" (Unassigned)"}`,children:h.jsx("div",{className:`font-semibold ${ue?"":"text-gray-500"}`,children:ie.glyph})},ie.id)})]})}),h.jsx("tbody",{children:se.map(ie=>{const ue=oe[ie.id]||0;return h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"p-2 border-b border-r bg-white sticky left-0 z-10",children:h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("div",{className:"font-semibold text-gray-900 truncate",title:ie.name,children:ie.name}),h.jsx("span",{className:`inline-flex items-center justify-center min-w-[24px] h-5 px-1.5 rounded-full text-xs font-medium ${ue===0?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-700"}`,title:`${ue} assignment${ue!==1?"s":""}`,children:ue})]})}),V.map(Te=>{const Ee=O(ie.id,Te.id),Le=Ce(Te.id);return h.jsx("td",{className:`p-0 border-b border-r text-center ${Le?"":"bg-gray-100"}`,children:h.jsx("button",{onClick:()=>J(ie.id,Te.id),className:`w-full h-full p-2 transition-colors ${Ee?"bg-green-100 hover:bg-green-200 text-green-700":Le?"bg-white hover:bg-gray-100 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-400"}`,title:Ee?`${ie.name}  Booth ${Te.glyph}`:`Assign ${ie.name} to Booth ${Te.glyph}`,children:Ee&&h.jsx(Se,{path:Qs,size:.6})})},Te.id)})]},ie.id)})})]}),se.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"No companies found matching your search":"No companies available. Add companies in the Companies tab."})]}),h.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center",children:h.jsx(Se,{path:Qs,size:.5,className:"text-green-700"})}),h.jsx("span",{className:"font-medium",children:t("helpPanel.assignments.assigned")})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 bg-white rounded"}),h.jsx("span",{className:"font-medium",children:t("helpPanel.assignments.notAssigned")})]})]}),h.jsxs("div",{className:"text-sm text-gray-900",children:[h.jsxs("strong",{children:["Statistics for ",e,":"]})," ",k.length," assignments,"," ",new Set(k.map(ie=>ie.company_id)).size," unique companies,"," ",new Set(k.map(ie=>ie.marker_id)).size," markers assigned"]})]})]})}const dU=[{name:"mdiCarOutline",label:"Car"},{name:"mdiTent",label:"Tent"},{name:"mdiTrailer",label:"Trailer"},{name:"mdiCarCog",label:"Car Parts"},{name:"mdiAirplane",label:"Airplane"},{name:"mdiHomeCity",label:"Building"},{name:"mdiAccountGroup",label:"People"},{name:"mdiTerrainIcon",label:"Terrain"},{name:"mdiCellphone",label:"Phone"},{name:"mdiDotsHorizontal",label:"Other"}],hU=["#1976d2","#2e7d32","#f57c00","#d32f2f","#00796b","#5d4037","#303f9f","#689f38","#7b1fa2","#616161","#c62828","#00897b","#5e35b1","#455a64","#6d4c41","#d84315"];function qC(){const{t:e,i18n:t}=wt(),{categories:n,loading:i,error:s,createCategory:a,updateCategory:l,deleteCategory:d,getCategoryStats:f}=Sy(t.language),{confirm:g,toastSuccess:y,toastError:v}=Lr(),[x,w]=j.useState(!1),[C,T]=j.useState(null),[k,$]=j.useState({}),[P,N]=j.useState({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:0,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}});j.useEffect(()=>{i||(async()=>{const W=await f();$(W)})()},[i,f,n]);const U=()=>{N({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:n.length+1,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}}),T(null)},H=()=>{U(),w(!0)},B=F=>{T(F);const W={nl:{},en:{},de:{}};Array.isArray(F.translations)&&F.translations.forEach(q=>{W[q.language]&&(W[q.language]={name:q.name||"",description:q.description||""})}),["nl","en","de"].forEach(q=>{W[q].name||(W[q]={name:F.name||"",description:F.description||""})}),N({slug:F.slug,icon:F.iconName,color:F.color,sort_order:F.sort_order,translations:W}),w(!0)},Z=async(F,W)=>{if(!await g({title:e("helpPanel.categories.deleteCategory"),message:e("helpPanel.categories.confirmDelete",{name:W}),confirmText:e("common.delete"),variant:"danger"}))return;const X=await d(F);X.success?y(e("helpPanel.categories.deleteSuccess")):v(e("helpPanel.categories.deleteError",{error:X.error}))},ne=async F=>{F.preventDefault();const W={slug:P.slug,icon:P.icon,color:P.color,sort_order:P.sort_order,translations:P.translations};let q;C?q=await l(C.id,W,P.translations):q=await a(W),q.success?(w(!1),U(),y(e(C?"helpPanel.categories.updateSuccess":"helpPanel.categories.createSuccess"))):v(e("helpPanel.categories.saveError",{error:q.error}))};return i?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):s?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-red-800",children:[e("common.error"),": ",s]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("helpPanel.categories.title")}),h.jsx("p",{className:"text-gray-600 mt-1",children:e("helpPanel.categories.description")})]}),h.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(Se,{path:Wc,size:.8}),e("helpPanel.categories.createNew")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.order")}),h.jsx("th",{className:"px-3 py-3 w-12"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.category")}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.slug")}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("helpPanel.categories.exhibitors")}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("common.actions")})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(F=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(Se,{path:Lk,size:.8,className:"cursor-move"}),h.jsx("span",{className:"font-medium",children:F.sort_order})]})}),h.jsx("td",{className:"px-3 py-4 whitespace-nowrap w-12",children:h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:F.color},children:h.jsx(Se,{path:F.icon,size:.7,className:"text-white"})})}),h.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-left",children:[h.jsx("div",{className:"font-medium text-gray-900 truncate",children:F.name}),F.description&&h.jsx("div",{className:"text-xs text-gray-500 truncate",children:F.description})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:h.jsx("code",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded font-mono",children:F.slug})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:Sk,size:.7,className:"text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-600",children:k[F.id]||0})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[h.jsx("button",{onClick:()=>B(F),className:"text-blue-600 hover:text-blue-900 mr-3",children:h.jsx(Se,{path:Rf,size:.8})}),h.jsx("button",{onClick:()=>Z(F.id,F.name),className:"text-red-600 hover:text-red-900",disabled:k[F.id]>0,title:k[F.id]>0?e("helpPanel.categories.cannotDelete"):"",children:h.jsx(Se,{path:Bl,size:.8})})]})]},F.id))})]}),n.length===0&&h.jsx("div",{className:"text-center py-12 text-gray-500",children:e("helpPanel.categories.noCategories")})]}),h.jsx(us,{isOpen:x,onClose:()=>{w(!1),U()},title:e(C?"helpPanel.categories.editCategory":"helpPanel.categories.createCategory"),size:"lg",children:h.jsxs("form",{onSubmit:ne,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("helpPanel.categories.slug")," *"]}),h.jsx("input",{type:"text",required:!0,value:P.slug,onChange:F=>N({...P,slug:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"vehicles-dealers"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("helpPanel.categories.slugHelp")})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("helpPanel.categories.icon")}),h.jsx("select",{value:P.icon,onChange:F=>N({...P,icon:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:dU.map(F=>h.jsx("option",{value:F.name,children:F.label},F.name))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("helpPanel.categories.color")}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"color",value:P.color,onChange:F=>N({...P,color:F.target.value}),className:"w-16 h-10 border border-gray-300 rounded cursor-pointer"}),h.jsx("input",{type:"text",value:P.color,onChange:F=>N({...P,color:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"#1976d2"})]}),h.jsx("div",{className:"flex gap-1 mt-2",children:hU.map(F=>h.jsx("button",{type:"button",onClick:()=>N({...P,color:F}),className:"w-6 h-6 rounded border-2 border-gray-200 hover:border-gray-400",style:{backgroundColor:F},title:F},F))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("helpPanel.categories.sortOrder")}),h.jsx("input",{type:"number",value:P.sort_order,onChange:F=>N({...P,sort_order:parseInt(F.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:e("helpPanel.categories.translations")}),["nl","en","de"].map(F=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[h.jsx("h5",{className:"font-medium text-gray-700 uppercase",children:F}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("helpPanel.categories.name")," (",F,") *"]}),h.jsx("input",{type:"text",required:!0,value:P.translations[F].name,onChange:W=>N({...P,translations:{...P.translations,[F]:{...P.translations[F],name:W.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("helpPanel.categories.description")," (",F,")"]}),h.jsx("textarea",{value:P.translations[F].description,onChange:W=>N({...P,translations:{...P.translations,[F]:{...P.translations[F],description:W.target.value}}}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]},F))]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx("button",{type:"button",onClick:()=>{w(!1),U()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("common.cancel")}),h.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(Se,{path:Qs,size:.8}),e(C?"common.save":"common.create")]})]})]})})]})}function fU(){const{t:e}=wt(),{isSuperAdmin:t}=ho(),{confirm:n}=Lr(),[i,s]=j.useState([]),[a,l]=j.useState(!0),[d,f]=j.useState(null),[g,y]=j.useState(!1),[v,x]=j.useState(""),[w,C]=j.useState("event_manager"),[T,k]=j.useState(!1),[$,P]=j.useState(!1),[N,U]=j.useState(null);j.useEffect(()=>{H()},[]);const H=async()=>{try{l(!0),f(null);let W,q;try{const Q=await ge.rpc("get_user_roles_with_email");W=Q.data,q=Q.error}catch{console.warn("get_user_roles_with_email not available, using fallback");const se=await ge.from("user_roles").select("user_id, role, created_at, updated_at").order("created_at",{ascending:!1});W=se.data,q=se.error}if(q)throw q;const{data:{user:X}}=await ge.auth.getUser(),oe=(W||[]).map(Q=>{const se=X?.id===Q.user_id;return{id:Q.user_id,email:Q.email||(se?X.email:`user-${Q.user_id.substring(0,8)}...`),role:Q.role,created_at:Q.created_at,last_sign_in_at:Q.last_sign_in_at||(se?X.last_sign_in_at:null),isCurrentUser:se}});s(oe),l(!1)}catch(W){console.error("Error fetching users:",W),f(e("settings.userManagement.errors.fetchFailed")),l(!1)}},B=async W=>{W.preventDefault(),k(!0),f(null);try{const oe=`${window.location.origin}/Map#/reset-password`,Q=Math.random().toString(36).slice(-12)+"A1!",{data:se,error:V}=await ge.auth.signUp({email:v,password:Q,options:{data:{role:w},emailRedirectTo:oe}});if(V)throw V;if(console.log("SignUp Response:",{userId:se?.user?.id,email:se?.user?.email,emailConfirmedAt:se?.user?.email_confirmed_at,identities:se?.user?.identities?.length}),se?.user?.id){const{error:re}=await ge.from("user_roles").insert({user_id:se.user.id,role:w});re&&console.warn("Failed to add user to user_roles:",re)}const{error:G}=await ge.auth.resetPasswordForEmail(v,{redirectTo:oe});G&&console.warn("Password reset email failed:",G),P(!0),setTimeout(()=>{y(!1),P(!1),x(""),C("event_manager"),H()},8e3)}catch(q){console.error("Error inviting user:",q),f(q.message||e("settings.userManagement.errors.inviteFailed"))}finally{k(!1)}},Z=async(W,q)=>{if(await n({title:e("settings.userManagement.deleteUser"),message:e("settings.userManagement.confirmDelete",{email:q}),confirmText:e("common.delete"),variant:"danger"}))try{f(null);const{error:oe}=await ge.from("user_roles").delete().eq("user_id",W);if(oe)throw oe;await H()}catch(oe){console.error("Error deleting user:",oe),f(e("settings.userManagement.errors.deleteFailed"))}},ne={super_admin:e("settings.userManagement.roles.superAdmin"),system_manager:e("settings.userManagement.roles.systemManager"),event_manager:e("settings.userManagement.roles.eventManager")},F={super_admin:"bg-purple-100 text-purple-800 border-purple-200",system_manager:"bg-blue-100 text-blue-800 border-blue-200",event_manager:"bg-green-100 text-green-800 border-green-200"};return a?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx("div",{className:"text-gray-500",children:e("settings.userManagement.loading")})})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Se,{path:HS,size:1}),e("settings.userManagement.title")]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.userManagement.description")})]}),h.jsxs("button",{onClick:()=>y(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(Se,{path:Wc,size:.8}),e("settings.userManagement.inviteUser")]})]}),d&&h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg mb-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Se,{path:Af,size:.8,className:"mr-2"}),h.jsx("span",{className:"text-sm",children:d})]})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.email")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.role")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.created")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.lastLogin")}),h.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.actions")})]})}),h.jsx("tbody",{children:i.map(W=>h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 px-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Se,{path:Ak,size:.7,className:"text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-900",children:W.email})]})}),h.jsx("td",{className:"py-3 px-4",children:h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${F[W.role]||"bg-gray-100 text-gray-800"}`,children:ne[W.role]||W.role})}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:new Date(W.created_at).toLocaleDateString()}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:W.last_sign_in_at?new Date(W.last_sign_in_at).toLocaleDateString():"-"}),h.jsx("td",{className:"py-3 px-4 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>U(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:e("settings.userManagement.editRole"),children:h.jsx(Se,{path:Rf,size:.7})}),t&&h.jsx("button",{onClick:()=>Z(W.id,W.email),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("settings.userManagement.deleteUser"),children:h.jsx(Se,{path:Bl,size:.7})})]})})]},W.id))})]})})]}),h.jsx(us,{isOpen:g,onClose:()=>y(!1),title:e("settings.userManagement.inviteUser"),size:"md",children:h.jsx("div",{className:"p-6",children:$?h.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Se,{path:Qs,size:.8,className:"mr-2"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e("settings.userManagement.inviteSuccess")}),h.jsx("p",{className:"text-sm mt-1",children:e("settings.userManagement.inviteSuccessMessage")})]})]})}):h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label-base",children:e("settings.userManagement.emailLabel")}),h.jsx("input",{type:"email",value:v,onChange:W=>x(W.target.value),className:"input-base",placeholder:"manager@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label-base",children:e("settings.userManagement.roleLabel")}),h.jsxs("select",{value:w,onChange:W=>C(W.target.value),className:"input-base",children:[h.jsx("option",{value:"event_manager",children:ne.event_manager}),h.jsx("option",{value:"system_manager",children:ne.system_manager}),t&&h.jsx("option",{value:"super_admin",children:ne.super_admin})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e(`settings.userManagement.roleDescriptions.${w}`)})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:e("settings.userManagement.cancel")}),h.jsx("button",{type:"submit",disabled:T,className:"flex-1 btn-primary",children:e(T?"settings.userManagement.sending":"settings.userManagement.sendInvite")})]})]})})})]})}function mU(){const{t:e}=wt(),[t,n]=j.useState(!0),[i,s]=j.useState(!1),[a,l]=j.useState(!1),[d,f]=j.useState(null),[g,y]=j.useState(0),[v,x]=j.useState(0),[w,C]=j.useState(0),[T,k]=j.useState(0),[$,P]=j.useState(0),[N,U]=j.useState(!0),[H,B]=j.useState(!0),[Z,ne]=j.useState(!0);j.useEffect(()=>{F()},[]);const F=async()=>{n(!0),f(null);try{const{data:q,error:X}=await ge.from("organization_profile").select("*").single();if(X)X.code==="PGRST116"?console.log("No organization profile found, using defaults"):console.warn("Error loading settings (columns may not exist yet):",X);else if(q&&(y(q.default_breakfast_sat??0),x(q.default_lunch_sat??0),C(q.default_bbq_sat??0),k(q.default_breakfast_sun??0),P(q.default_lunch_sun??0),q.notification_settings)){const oe=typeof q.notification_settings=="string"?JSON.parse(q.notification_settings):q.notification_settings;U(oe.emailNotifications??!0),B(oe.newSubscriptionNotify??!0),ne(oe.assignmentChangeNotify??!0)}}catch(q){console.warn("Failed to load settings (columns may not exist yet):",q)}finally{n(!1)}},W=async q=>{q.preventDefault(),s(!0),f(null),l(!1);try{const X={emailNotifications:N,newSubscriptionNotify:H,assignmentChangeNotify:Z},{error:oe}=await ge.from("organization_profile").select("default_breakfast").limit(1);if(oe&&oe.message?.includes("column")){f("Database columns not yet created. Please run the migration: ALTER TABLE organization_profile ADD COLUMN..."),console.error("EventDefaults columns missing. Run migration to add: default_breakfast, default_lunch, default_bbq, notification_settings");return}const{error:Q}=await ge.from("organization_profile").upsert({id:1,default_breakfast_sat:g,default_lunch_sat:v,default_bbq_sat:w,default_breakfast_sun:T,default_lunch_sun:$,notification_settings:X,updated_at:new Date().toISOString()});if(Q)throw Q;l(!0),setTimeout(()=>l(!1),3e3)}catch(X){console.error("Failed to save settings:",X),f(e("settings.eventDefaults.errors.saveFailed"))}finally{s(!1)}};return t?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center justify-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("settings.eventDefaults.loading")})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e("settings.eventDefaults.title")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.description")})]}),a&&h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start",children:[h.jsx(Se,{path:Mf,size:1,className:"text-green-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-green-800",children:e("settings.eventDefaults.saveSuccess")}),h.jsx("p",{className:"text-sm text-green-700",children:e("settings.eventDefaults.saveSuccessMessage")})]})]}),d&&h.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start",children:[h.jsx(Se,{path:Af,size:1,className:"text-red-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-red-800",children:e("settings.eventDefaults.error")}),h.jsx("p",{className:"text-sm text-red-700",children:d})]})]}),h.jsxs("form",{onSubmit:W,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(Se,{path:Pk,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.mealDefaults.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.mealDefaults.description")}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.saturday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"breakfastSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),h.jsx("input",{type:"number",id:"breakfastSat",min:"0",max:"9999",value:g,onChange:q=>y(parseInt(q.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lunchSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),h.jsx("input",{type:"number",id:"lunchSat",min:"0",max:"9999",value:v,onChange:q=>x(parseInt(q.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"bbqSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.bbq")}),h.jsx("input",{type:"number",id:"bbqSat",min:"0",max:"9999",value:w,onChange:q=>C(parseInt(q.target.value)||0),className:"input-base"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.sunday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"breakfastSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),h.jsx("input",{type:"number",id:"breakfastSun",min:"0",max:"9999",value:T,onChange:q=>k(parseInt(q.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lunchSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),h.jsx("input",{type:"number",id:"lunchSun",min:"0",max:"9999",value:$,onChange:q=>P(parseInt(q.target.value)||0),className:"input-base"})]}),h.jsxs("div",{className:"opacity-50",children:[h.jsx("label",{className:"label-base text-gray-400",children:e("settings.eventDefaults.mealDefaults.bbq")}),h.jsx("span",{className:"input-base bg-gray-100 cursor-not-allowed block w-full h-[2.5rem] rounded text-center text-gray-400","aria-disabled":"true",children:""}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("settings.eventDefaults.mealDefaults.sundayNoBbq")})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(Se,{path:gk,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.notifications.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.notifications.description")}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"emailNotifications",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.emailNotifications")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.emailNotificationsDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":N,onClick:()=>U(!N),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${N?"bg-orange-600":"bg-gray-300"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${N?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newSubscriptionNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.newSubscription")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.newSubscriptionDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":H,onClick:()=>B(!H),disabled:!N,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${H&&N?"bg-orange-600":"bg-gray-300"} ${N?"":"opacity-50 cursor-not-allowed"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${H?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"assignmentChangeNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.assignmentChange")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.assignmentChangeDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":Z,onClick:()=>ne(!Z),disabled:!N,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${Z&&N?"bg-orange-600":"bg-gray-300"} ${N?"":"opacity-50 cursor-not-allowed"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${Z?"translate-x-5":"translate-x-0"}`})})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 bg-white rounded-lg shadow p-6",children:[h.jsx("button",{type:"button",onClick:F,disabled:i,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e("settings.eventDefaults.reset")}),h.jsx("button",{type:"submit",disabled:i,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(i?"settings.eventDefaults.saving":"settings.eventDefaults.save")})]})]})]})}function ZC(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(null),[l,d]=j.useState(null),[f,g]=j.useState(new Set);j.useEffect(()=>{(async()=>{const{data:{user:U}}=await ge.auth.getUser();d(U?.id||null)})()},[]);const y=j.useCallback(async(N={})=>{try{i(!0),a(null);let U=ge.from("feedback_requests").select("*").order("created_at",{ascending:!1});N.type&&(U=U.eq("type",N.type)),N.status&&(U=U.eq("status",N.status)),N.userId&&(U=U.eq("user_id",N.userId));const{data:H,error:B}=await U;if(B)throw B;if(t(H||[]),l){const{data:Z}=await ge.from("feedback_votes").select("request_id").eq("user_id",l);g(new Set(Z?.map(ne=>ne.request_id)||[]))}}catch(U){console.error("Error loading feedback requests:",U),a(U.message)}finally{i(!1)}},[l]),v=async N=>{try{const{data:{user:U}}=await ge.auth.getUser();if(!U)throw new Error("User not authenticated");const{data:H,error:B}=await ge.from("feedback_requests").insert({user_id:U.id,user_email:U.email,type:N.type,title:N.title,description:N.description||""}).select().single();if(B)throw B;return await y(),{data:H,error:null}}catch(U){return console.error("Error creating request:",U),{data:null,error:U.message}}},x=async(N,U)=>{try{const{data:H,error:B}=await ge.from("feedback_requests").update(U).eq("id",N).select().single();if(B)throw B;return await y(),{data:H,error:null}}catch(H){return console.error("Error updating request:",H),{data:null,error:H.message}}},w=async N=>{try{const{error:U}=await ge.from("feedback_requests").delete().eq("id",N);if(U)throw U;return await y(),{error:null}}catch(U){return console.error("Error deleting request:",U),{error:U.message}}},C=async N=>{try{const{data:{user:U}}=await ge.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:H}=await ge.from("feedback_votes").insert({request_id:N,user_id:U.id});if(H)throw H;return g(B=>new Set([...B,N])),t(B=>B.map(Z=>Z.id===N?{...Z,votes:Z.votes+1}:Z)),{error:null}}catch(U){return console.error("Error adding vote:",U),{error:U.message}}},T=async N=>{try{const{data:{user:U}}=await ge.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:H}=await ge.from("feedback_votes").delete().eq("request_id",N).eq("user_id",U.id);if(H)throw H;return g(B=>{const Z=new Set(B);return Z.delete(N),Z}),t(B=>B.map(Z=>Z.id===N?{...Z,votes:Math.max(0,Z.votes-1)}:Z)),{error:null}}catch(U){return console.error("Error removing vote:",U),{error:U.message}}},k=async N=>{try{const{data:U,error:H}=await ge.from("feedback_comments").select("*").eq("request_id",N).order("created_at",{ascending:!0});if(H)throw H;return{data:U||[],error:null}}catch(U){return console.error("Error loading comments:",U),{data:[],error:U.message}}},$=async(N,U)=>{try{const{data:{user:H}}=await ge.auth.getUser();if(!H)throw new Error("User not authenticated");const{data:B,error:Z}=await ge.from("feedback_comments").insert({request_id:N,user_id:H.id,user_email:H.email,comment:U}).select().single();if(Z)throw Z;return t(ne=>ne.map(F=>F.id===N?{...F,comments_count:F.comments_count+1}:F)),{data:B,error:null}}catch(H){return console.error("Error adding comment:",H),{data:null,error:H.message}}},P=async(N,U)=>{try{const{error:H}=await ge.from("feedback_comments").delete().eq("id",N);if(H)throw H;return t(B=>B.map(Z=>Z.id===U?{...Z,comments_count:Math.max(0,Z.comments_count-1)}:Z)),{error:null}}catch(H){return console.error("Error deleting comment:",H),{error:H.message}}};return j.useEffect(()=>{const N=ge.channel("feedback_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests"},()=>{y()}).subscribe(),U=ge.channel("feedback_votes_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_votes"},B=>{(B?.new||B?.old)&&t(Z=>{const ne=[...Z],F=B.new?.request_id||B.old?.request_id;return ne.findIndex(q=>q.id===F)!==-1&&y(),ne})}).subscribe(),H=ge.channel("feedback_comments_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_comments"},B=>{if(B?.new||B?.old){const Z=B.new?.request_id||B.old?.request_id;t(ne=>ne.map(F=>F.id===Z?{...F}:F)),y()}}).subscribe();return()=>{ge.removeChannel(N),ge.removeChannel(U),ge.removeChannel(H)}},[y]),{requests:e,loading:n,error:s,userVotes:f,currentUserId:l,loadRequests:y,createRequest:v,updateRequest:x,deleteRequest:w,addVote:C,removeVote:T,loadComments:k,addComment:$,deleteComment:P}}function pU({request:e,onClose:t,onUpdate:n}){const{t:i}=wt(),{role:s}=ho(),{confirm:a}=Lr(),l=s==="super_admin",{userVotes:d,currentUserId:f,addVote:g,removeVote:y,loadComments:v,addComment:x,deleteComment:w,updateRequest:C}=ZC(),[T,k]=j.useState([]),[$,P]=j.useState(""),[N,U]=j.useState(!0),[H,B]=j.useState(!1),[Z,ne]=j.useState(!1),[F,W]=j.useState(e.status),[q,X]=j.useState(e.priority||""),[oe,Q]=j.useState(e.version_completed||""),[se,V]=j.useState(!1),[G,re]=j.useState(e.votes),[Ce,O]=j.useState(e.comments_count||0);j.useEffect(()=>{re(e.votes),O(e.comments_count||0)},[e.id,e.votes,e.comments_count]),j.useEffect(()=>{(async()=>{U(!0);const{data:Le}=await v(e.id);k(Le||[]),U(!1)})()},[e.id]);const R=async()=>{if(d.has(e.id)){const{error:Ee}=await y(e.id);Ee||re(Le=>Math.max(0,Le-1))}else{const{error:Ee}=await g(e.id);Ee||re(Le=>Le+1)}},J=async Ee=>{if(Ee.preventDefault(),!$.trim())return;B(!0);const{data:Le,error:_e}=await x(e.id,$.trim());!_e&&Le&&(k([...T,Le]),P(""),O(ee=>ee+1)),B(!1)},D=async Ee=>{if(!await a({title:i("settings.feedbackRequests.detail.deleteComment"),message:i("common.confirmDelete"),confirmText:i("common.delete"),variant:"danger"}))return;const{error:_e}=await w(Ee,e.id);_e||(k(T.filter(ee=>ee.id!==Ee)),O(ee=>Math.max(0,ee-1)))},ce=async()=>{V(!0);const Ee={status:F,priority:q||null,version_completed:oe||null};F==="completed"&&e.status!=="completed"&&(Ee.completed_at=new Date().toISOString(),Ee.completed_by=f);const{error:Le,data:_e}=await C(e.id,Ee);Le||(ne(!1),n&&n(_e)),V(!1)},ie=Ee=>{if(!Ee)return"open";switch(Ee.toLowerCase()){case"in_progress":case"inprogress":case"in progress":return"in_progress";case"completed":return"completed";case"archived":return"archived";case"open":default:return"open"}},ue=Ee=>{switch(ie(Ee),Ee){case"completed":return Mf;case"in_progress":return QS;case"archived":return Pf;default:return ZS}},Te=Ee=>{switch(ie(Ee)){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}};return h.jsxs(us,{isOpen:!0,onClose:t,size:"lg",showCloseButton:!1,children:[h.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.type==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[h.jsx(Se,{path:e.type==="issue"?w0:S0,size:.5,className:"mr-1"}),i(`settings.feedbackRequests.types.${e.type}`)]})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[h.jsx("span",{children:e.user_email}),h.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.version_completed&&!Z&&h.jsxs("span",{className:"text-green-600 font-medium",children:["v",e.version_completed]})]})]})}),h.jsxs("div",{className:"px-6 py-4",children:[e.description&&h.jsx("div",{className:"mb-6",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})}),l&&h.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-left flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-semibold text-blue-900",children:i("settings.feedbackRequests.detail.status")}),Z?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>ne(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:i("common.cancel")}),h.jsx("button",{onClick:ce,disabled:se,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:i(se?"common.saving":"common.save")})]}):h.jsx("button",{onClick:()=>ne(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:i("common.edit")})]}),(()=>{const Ee={open:"open",in_progress:"inProgress",completed:"completed",archived:"archived"},Le=ie(e.status),_e=Ee[Le]||"open";return h.jsxs("div",{className:"mt-2 space-y-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"feedback-status-select",className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.statusCurrent")||i("settings.feedbackRequests.detail.status")||"Status"}),Z?h.jsxs("select",{id:"feedback-status-select","aria-label":i("settings.feedbackRequests.detail.statusAriaEdit")||"Edit status",value:F,onChange:ee=>W(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[h.jsx("option",{value:"open",children:i("settings.feedbackRequests.statuses.open")}),h.jsx("option",{value:"in_progress",children:i("settings.feedbackRequests.statuses.inProgress")}),h.jsx("option",{value:"completed",children:i("settings.feedbackRequests.statuses.completed")}),h.jsx("option",{value:"archived",children:i("settings.feedbackRequests.statuses.archived")})]}):h.jsxs("span",{role:"status","data-testid":"feedback-status-badge","aria-label":`Current status: ${i(`settings.feedbackRequests.statuses.${_e}`)}`,className:`inline-flex items-center gap-2 px-2 py-1 rounded-md border text-sm font-medium ${Te(Le)}`,children:[h.jsx(Se,{path:ue(Le),size:.8}),i(`settings.feedbackRequests.statuses.${_e}`)]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.priority")}),Z?h.jsxs("select",{value:q,onChange:ee=>X(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm","aria-label":i("settings.feedbackRequests.detail.priorityAriaEdit")||"Edit priority",children:[h.jsx("option",{value:"",children:i("settings.feedbackRequests.priorities.none")||"No priority"}),h.jsx("option",{value:"low",children:i("settings.feedbackRequests.priorities.low")}),h.jsx("option",{value:"medium",children:i("settings.feedbackRequests.priorities.medium")}),h.jsx("option",{value:"high",children:i("settings.feedbackRequests.priorities.high")})]}):h.jsx("span",{className:`inline-flex items-center gap-2 px-2 py-1 rounded-md border text-sm font-medium ${e.priority==="high"?"border-red-300 bg-red-50 text-red-700":e.priority==="medium"?"border-yellow-300 bg-yellow-50 text-yellow-700":e.priority==="low"?"border-green-300 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600"}`,"data-testid":"feedback-priority-badge",role:"status","aria-label":`Current priority: ${e.priority?i(`settings.feedbackRequests.priorities.${e.priority}`):i("settings.feedbackRequests.priorities.none")||"No priority"}`,children:e.priority?i(`settings.feedbackRequests.priorities.${e.priority}`):i("settings.feedbackRequests.priorities.none")||"No priority"})]}),Z&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.version")}),h.jsx("input",{type:"text",value:oe,onChange:ee=>Q(ee.target.value),placeholder:"e.g., 1.2.0",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})})()]}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:R,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${d.has(e.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Se,{path:JS,size:.8}),h.jsx("span",{className:"font-medium",children:d.has(e.id)?i("common.voted"):i("common.vote")}),h.jsxs("span",{className:"text-sm","aria-label":`Total votes: ${G}`,children:["(",G,")"]})]})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(Se,{path:KS,size:.8}),i("settings.feedbackRequests.detail.comments")," (",Ce,")"]}),N?h.jsx("div",{className:"text-center py-4 text-gray-500",children:i("common.loading")}):T.length===0?h.jsx("p",{className:"text-gray-500 text-sm mb-4",children:i("settings.feedbackRequests.detail.noComments")}):h.jsx("div",{className:"space-y-3 mb-4",children:T.map(Ee=>h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"font-medium text-gray-900",children:Ee.user_email}),h.jsx("span",{className:"text-gray-500 ml-2",children:new Date(Ee.created_at).toLocaleDateString()})]}),(Ee.user_id===f||l)&&h.jsx("button",{onClick:()=>D(Ee.id),className:"text-red-600 hover:text-red-700",children:h.jsx(Se,{path:Bl,size:.6})})]}),h.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:Ee.comment})]},Ee.id))}),h.jsxs("form",{onSubmit:J,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:$,onChange:Ee=>P(Ee.target.value),placeholder:i("settings.feedbackRequests.detail.addComment"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsxs("button",{type:"submit",disabled:H||!$.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[h.jsx(Se,{path:Gk,size:.7}),i("settings.feedbackRequests.detail.postComment")]})]})]})]})]})}function gU(){const{t:e}=wt(),{role:t}=ho(),n=t==="super_admin",{requests:i,loading:s,error:a,userVotes:l,currentUserId:d,loadRequests:f,createRequest:g,addVote:y,removeVote:v}=ZC(),[x,w]=j.useState("all"),[C,T]=j.useState(""),[k,$]=j.useState(""),[P,N]=j.useState(""),[U,H]=j.useState(null),[B,Z]=j.useState("feature"),[ne,F]=j.useState(""),[W,q]=j.useState(""),[X,oe]=j.useState(!1);j.useEffect(()=>{const R={};C&&(R.type=C),k&&(R.status=k),x==="my"&&d&&(R.userId=d),f(R)},[C,k,x,d,f]);const Q=i.filter(R=>{if(!P)return!0;const J=P.toLowerCase();return R.title.toLowerCase().includes(J)||R.description?.toLowerCase().includes(J)||R.user_email.toLowerCase().includes(J)}),se=async R=>{l.has(R)?await v(R):await y(R)},V=async R=>{if(R.preventDefault(),!ne.trim())return;oe(!0);const{error:J}=await g({type:B,title:ne.trim(),description:W.trim()});J||(F(""),q(""),w("all")),oe(!1)},G=R=>{switch(R){case"completed":return Mf;case"in_progress":return QS;case"archived":return Pf;default:return ZS}},re=R=>{switch(R){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}},Ce=R=>{if(!R)return"open";const J=R.toLowerCase();return J==="in_progress"||J==="inprogress"||J==="in progress"?"inProgress":J==="completed"?"completed":J==="archived"?"archived":"open"},O=R=>R==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800";return s&&i.length===0?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("settings.feedbackRequests.title")}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.feedbackRequests.description")})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsx("button",{onClick:()=>w("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.all")}),h.jsx("button",{onClick:()=>w("my"),className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="my"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.myRequests")}),h.jsxs("button",{onClick:()=>w("submit"),className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="submit"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(Se,{path:Wc,size:.7,className:"inline mr-1"}),e("settings.feedbackRequests.tabs.submit")]})]})}),(x==="all"||x==="my")&&h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[h.jsx(Se,{path:WS,size:.8}),h.jsx("span",{className:"font-medium",children:e("settings.feedbackRequests.filters.title")})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("input",{type:"text",placeholder:e("settings.feedbackRequests.filters.search"),value:P,onChange:R=>N(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsxs("select",{value:C,onChange:R=>T(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allTypes")}),h.jsx("option",{value:"issue",children:e("settings.feedbackRequests.types.issue")}),h.jsx("option",{value:"feature",children:e("settings.feedbackRequests.types.feature")})]}),h.jsxs("select",{value:k,onChange:R=>$(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allStatuses")}),h.jsx("option",{value:"open",children:e("settings.feedbackRequests.statuses.open")}),h.jsx("option",{value:"in_progress",children:e("settings.feedbackRequests.statuses.inProgress")}),h.jsx("option",{value:"completed",children:e("settings.feedbackRequests.statuses.completed")}),h.jsx("option",{value:"archived",children:e("settings.feedbackRequests.statuses.archived")})]})]})]}),x==="submit"?h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("settings.feedbackRequests.submit.title")}),h.jsxs("form",{onSubmit:V,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.type")}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"feature",checked:B==="feature",onChange:R=>Z(R.target.value),className:"mr-2"}),h.jsx(Se,{path:S0,size:.8,className:"mr-1 text-blue-600"}),e("settings.feedbackRequests.types.feature")]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"issue",checked:B==="issue",onChange:R=>Z(R.target.value),className:"mr-2"}),h.jsx(Se,{path:w0,size:.8,className:"mr-1 text-red-600"}),e("settings.feedbackRequests.types.issue")]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e("settings.feedbackRequests.submit.title")," *"]}),h.jsx("input",{type:"text",value:ne,onChange:R=>F(R.target.value),placeholder:e("settings.feedbackRequests.submit.titlePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.description")}),h.jsx("textarea",{value:W,onChange:R=>q(R.target.value),placeholder:e("settings.feedbackRequests.submit.descriptionPlaceholder"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ne&&h.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[" ",e("settings.feedbackRequests.submit.duplicateHint")]}),h.jsx("button",{type:"submit",disabled:X||!ne.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(X?"common.saving":"settings.feedbackRequests.submit.button")})]})]}):h.jsxs("div",{className:"space-y-3",children:[a&&h.jsx("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg",children:a}),Q.length===0?h.jsx("div",{className:"text-center py-12 text-gray-500",children:e("settings.feedbackRequests.noRequests")}):Q.map(R=>h.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>H(R),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${O(R.type)}`,children:[h.jsx(Se,{path:R.type==="issue"?w0:S0,size:.5,className:"mr-1"}),e(`settings.feedbackRequests.types.${R.type}`)]}),h.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${re(R.status)}`,role:"status","data-testid":"feedback-status-list-badge","aria-label":`Status: ${e(`settings.feedbackRequests.statuses.${Ce(R.status)}`)}`,children:[h.jsx(Se,{path:G(R.status),size:.6}),e(`settings.feedbackRequests.statuses.${Ce(R.status)}`)]}),R.priority&&n&&h.jsx("span",{className:"text-xs text-gray-500",children:e(`settings.feedbackRequests.priorities.${R.priority}`)})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:R.title}),R.description&&h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:R.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[h.jsx("span",{children:R.user_email}),h.jsx("span",{children:new Date(R.created_at).toLocaleDateString()}),R.version_completed&&h.jsxs("span",{className:"text-green-600 font-medium",children:["v",R.version_completed]})]})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[h.jsxs("button",{onClick:J=>{J.stopPropagation(),se(R.id)},className:`flex items-center gap-1 px-3 py-1 rounded-full border ${l.has(R.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Se,{path:JS,size:.6}),h.jsx("span",{className:"font-medium",children:R.votes})]}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[h.jsx(Se,{path:KS,size:.6}),h.jsx("span",{className:"text-sm",children:R.comments_count})]})]})]})},R.id))]}),U&&h.jsx(pU,{request:U,onClose:()=>H(null),onUpdate:R=>{if(R){const J=i.findIndex(D=>D.id===R.id);J!==-1&&(i[J]={...i[J],...R})}H(null),f()}})]})}function yU(){const{t:e}=wt(),[t,n]=j.useState(!0),[i,s]=j.useState(!1),[a,l]=j.useState(!1),[d,f]=j.useState("#ffffff"),[g,y]=j.useState("Arvo, Sans-serif");j.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const{data:w,error:C}=await ge.from("organization_profile").select("event_name, theme_color, font_family").eq("id",1).single();if(C)throw C;w&&(f(w.theme_color||"#ffffff"),y(w.font_family||"Arvo, Sans-serif"))}catch(w){console.error("Error loading branding settings:",w)}finally{n(!1)}},x=async()=>{try{s(!0);const{error:w}=await ge.from("organization_profile").update({theme_color:d,font_family:g}).eq("id",1);if(w)throw w;l(!0),setTimeout(()=>l(!1),3e3)}catch(w){console.error("Error saving branding settings:",w),alert(e("settings.branding.errors.saveFailed"))}finally{s(!1)}};return t?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-500",children:e("settings.branding.loading")})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Se,{path:XS,size:1}),e("settings.branding.title")]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.branding.description")}),h.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",e("settings.branding.note")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.themeColor.label")}),h.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.themeColor.description")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"color",value:d,onChange:w=>f(w.target.value),className:"h-12 w-24 border border-gray-300 rounded cursor-pointer"}),h.jsx("input",{type:"text",value:d,onChange:w=>f(w.target.value),placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:7})]}),h.jsxs("div",{className:"mt-3 space-y-2",children:[h.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:d,borderColor:d},children:[h.jsx("p",{className:"font-bold text-white text-lg",children:"Preview Text (White on Color)"}),h.jsx("p",{className:"text-white text-sm opacity-90",children:"The quick brown fox jumps over the lazy dog"})]}),h.jsxs("div",{className:"p-4 rounded-lg border-2 border-gray-300 bg-white",children:[h.jsx("p",{className:"font-bold text-lg",style:{color:d},children:"Preview Text (Color on White)"}),h.jsx("p",{className:"text-sm",style:{color:d},children:"The quick brown fox jumps over the lazy dog"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.fontFamily.label")}),h.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.fontFamily.description")}),h.jsxs("select",{value:g,onChange:w=>y(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"Arvo, Sans-serif",children:"Arvo (Default)"}),h.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),h.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),h.jsx("option",{value:"Georgia, serif",children:"Georgia"}),h.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),h.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),h.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),h.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),h.jsx("option",{value:"Impact, sans-serif",children:"Impact"})]}),h.jsxs("div",{className:"mt-3 p-4 rounded-lg border border-gray-300 bg-white",style:{fontFamily:g},children:[h.jsx("p",{className:"text-lg text-gray-900 font-semibold",children:"The quick brown fox jumps over the lazy dog"}),h.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"1234567890 !@#$%^&*()"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("button",{onClick:()=>{f("#ffffff"),y("Arvo, Sans-serif")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:e("settings.branding.reset")}),h.jsx("button",{onClick:x,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?e("common.saving"):a?h.jsxs(h.Fragment,{children:[h.jsx(Se,{path:Mf,size:.8}),e("settings.branding.saveSuccess")]}):e("common.save")})]})]})}function vU(){const{t:e}=wt();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx(Se,{path:E0,size:1.2,className:"text-blue-600"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.uiLanguage.title")}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.uiLanguage.description")})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Se,{path:E0,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("p",{className:"font-semibold mb-1",children:e("settings.uiLanguage.note.title")}),h.jsx("p",{children:e("settings.uiLanguage.note.description")})]})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("settings.uiLanguage.selectLanguage")}),h.jsx(kc,{})]})]})]})}function bU(){return h.jsx(qC,{})}function _U(){const{t:e}=wt(),{role:t,isSuperAdmin:n}=ho(),[i,s]=j.useState("user-management"),l=[{id:"user-management",label:e("settings.userManagement.title"),icon:HS,roles:["super_admin","system_manager"],component:h.jsx(fU,{})},{id:"category-settings",label:e("settings.categoryManagement.title"),icon:C0,roles:["super_admin","system_manager"],component:h.jsx(bU,{})},{id:"branding",label:e("settings.branding.title"),icon:XS,roles:["super_admin","system_manager"],component:h.jsx(yU,{})},{id:"ui-language",label:e("settings.uiLanguage.title"),icon:E0,roles:["super_admin","system_manager","event_manager"],component:h.jsx(vU,{})},{id:"map-defaults",label:e("settings.mapDefaults.title"),icon:Of,roles:["super_admin","system_manager"],component:h.jsx(xU,{})},{id:"event-defaults",label:e("settings.eventDefaults.title"),icon:GS,roles:["super_admin","system_manager","event_manager"],component:h.jsx(mU,{})},{id:"feedback-requests",label:e("settings.feedbackRequests.title"),icon:kk,roles:["super_admin","system_manager","event_manager"],component:h.jsx(gU,{})},{id:"advanced",label:e("settings.advanced.title"),icon:Af,roles:["super_admin"],component:h.jsx(wU,{})}].filter(f=>n?!0:f.roles.includes(t));Si.useEffect(()=>{l.find(f=>f.id===i)||s(l[0]?.id||"event-defaults")},[t]);const d=l.find(f=>f.id===i)?.component;return h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("settings.title")}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e("settings.subtitle"),h.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium capitalize",children:t?.replace("_"," ")})]})]}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:h.jsx("nav",{className:"p-4 space-y-1",children:l.map(f=>h.jsxs("button",{onClick:()=>s(f.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${i===f.id?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Se,{path:f.icon,size:.9}),h.jsx("span",{children:f.label})]},f.id))})}),h.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:d})]})]})}function xU(){const{t:e}=wt();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:e("settings.mapDefaults.title")}),h.jsx("p",{className:"text-gray-600",children:e("settings.mapDefaults.description")}),h.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-blue-800",children:" Map Defaults component coming soon..."})})]})}function wU(){const{t:e}=wt();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(Se,{path:Af,size:1,className:"text-red-600"}),e("settings.advanced.title")]}),h.jsx("p",{className:"text-gray-600",children:e("settings.advanced.description")}),h.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-800",children:" Advanced Settings (Danger Zone) coming soon..."})})]})}const SU=j.lazy(()=>Kc(()=>Promise.resolve().then(()=>KB),void 0));j.lazy(()=>Kc(()=>import("./AccessibilityToggle-B0sttSpZ.js"),[]));j.lazy(()=>Kc(()=>import("./FeedbackForm-ilsRZyYd.js"),[]));function CU({branding:e,user:t,markersState:n,updateMarker:i,setMarkersState:s,onLogin:a,selectedYear:l,setSelectedYear:d}){const f=({children:g})=>h.jsx(hg,{children:h.jsxs(Fx,{selectedYear:l,children:[h.jsx(_j,{}),h.jsx("main",{className:"pb-16",children:g}),h.jsx(s$,{})]})});return h.jsxs(OT,{children:[h.jsx(Pn,{path:"/",element:h.jsx(f,{children:h.jsx(wy,{selectedYear:l,branding:e})})}),h.jsx(Pn,{path:"/map",element:h.jsx(f,{children:h.jsx(j.Suspense,{fallback:h.jsx("div",{children:"Loading map..."}),children:h.jsx(SU,{isAdminView:!1,markersState:n,updateMarker:i,setMarkersState:s,selectedYear:l})})})}),h.jsx(Pn,{path:"/exhibitors",element:h.jsx(f,{children:h.jsx(c$,{markersState:n,selectedYear:l})})}),h.jsx(Pn,{path:"/schedule",element:h.jsx(f,{children:h.jsx(d$,{selectedYear:l})})}),h.jsx(Pn,{path:"/reset-password",element:h.jsx(hg,{children:h.jsx(j.Suspense,{fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:h.jsx(uk,{branding:e})})})}),h.jsxs(Pn,{path:"/admin",element:t?h.jsx(Fx,{selectedYear:l,children:h.jsx(R7,{selectedYear:l,setSelectedYear:d})}):h.jsx(hg,{children:h.jsx(j.Suspense,{fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:h.jsx(lk,{onLogin:a,branding:e})})}),children:[h.jsx(Pn,{index:!0,element:h.jsx(WM,{selectedYear:l})}),h.jsx(Pn,{path:"map",element:h.jsx(WB,{markersState:n,setMarkersState:s,updateMarker:i,selectedYear:l})}),h.jsx(Pn,{path:"companies",element:h.jsx(aU,{})}),h.jsx(Pn,{path:"subscriptions",element:h.jsx(oU,{selectedYear:l})}),h.jsx(Pn,{path:"program",element:h.jsx(uU,{})}),h.jsx(Pn,{path:"assignments",element:h.jsx(cU,{selectedYear:l})}),h.jsx(Pn,{path:"categories",element:h.jsx(qC,{})}),h.jsx(Pn,{path:"settings",element:h.jsx(_U,{})})]}),h.jsx(Pn,{path:"/storage-test",element:h.jsx(r$,{})})]})}const EU="Event Map App",TU="Welcome to the event!",jU="Home",kU="Admin Dashboard",$U={adminPanel:"Admin Panel",dashboard:"Dashboard",mapManagement:"Map Management",companiesNav:"Companies",eventSubscriptions:"Subscriptions",programManagement:"Program Management",assignments:"Assignments",categories:"Categories",settings:"Settings",eventYear:"Event Year",help:"Help",logout:"Logout",loading:"Loading...",roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor"}},NU={home:"Home",map:"Map",exhibitors:"Exhibitors",schedule:"Schedule"},LU={loading:"Loading...",saving:"Saving...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this?",vote:"Vote",voted:"Voted"},AU={event:"Event",parking:"Parking",food:"Food"},PU={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},MU={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},OU={title:"Settings",subtitle:"Manage system configuration and preferences",categoryManagement:{title:"Category Management",description:"Manage exhibitor categories for filtering and organization"},userManagement:{title:"User Management",description:"Manage admin users, roles, and permissions",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Manager invitation sent!",inviteSuccessMessage:"The new manager will receive 2 emails: (1) Confirmation email - IGNORE THIS, it will not work. (2) Password reset email - USE THIS to set password and access the admin panel.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding Settings",description:"Configure visual branding (colors, fonts)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI Language",description:"Change the language of buttons, menus, and interface elements",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Map Defaults",description:"Default map layers, zoom levels, and map settings"},eventDefaults:{title:"Event Defaults",description:"Default meal counts, booth sizes, and event preferences",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature Requests",description:"Submit issues, request features, and track progress",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{none:"No Priority",low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",statusCurrent:"Status",statusAriaEdit:"Edit status",priority:"Priority",priorityAriaEdit:"Edit priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Advanced Settings",description:"System maintenance, data management, and danger zone"}},RU={subtitle:"Your Next Adventure Starts Here!",title:"The 4x4 Holiday Fair",eventDate:"October 10-11, 2026",exhibitors:"Exhibitors",days:"Days",openingHours:"Opening Hours",openingHoursInfo:`Saturday 10:00 - 17:00
Sunday 10:00 - 16:00`,location:"Location",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parking",parkingInfo:"Free parking available at Strandpark Slijk-Ewijk",phaseNote:"<strong>Note:</strong> This is a Phase 1 placeholder. In Phase 2, this page will show real event data, welcome messages, and upcoming activities."},DU={title:"Exhibitors",searchPlaceholder:"Search exhibitors or booth number...",showing:"Showing",of:"of",exhibitors:"exhibitors",favorited:"favorited",favoritesOnly:"Favorites Only",sortBy:"Sort by",sortNameAsc:"Name (AZ)",sortNameDesc:"Name (ZA)",sortBoothAsc:"Booth (LowHigh)",sortBoothDesc:"Booth (HighLow)",sortFavorites:"Favorites First",sortName:"Name",sortBooth:"Booth",sortFavoritesBase:"Favorites",noExhibitors:"No exhibitors found",booth:"Booth",categoriesComingSoon:"Coming Soon: Categories",categories:"Categories",allCategories:"All Categories",filterByCategory:"Filter by category",clearFilters:"Clear filters",noCategoryMatch:"No exhibitors match the selected categories.",phaseNote:"Note:",comingInFuturePhases:"Coming in future phases:",categoryFiltering:"Category filtering",sortOptions:"Sort options"},zU={searchPlaceholder:"Search for a marker...",ariaLabel:"Interactive event map"},IU={sortId:"ID",sortName:"Name",sortType:"Type",addMarker:"Add marker",addMarkerTooltipActive:"Click on map to place marker",addMarkerTooltip:"Add marker",enterMarkerId:"Enter Marker ID",markerIdPlaceholder:"Marker ID (integer)",confirm:"Confirm",cancel:"Cancel",errorInvalidId:"Please enter a valid numeric ID.",errorIdExists:"ID already exists. Please choose another.",searchPlaceholder:"Search by ID, booth label, or name...",selectMarker:"Select a marker to view details"},BU={title:"Program Management",addActivity:"Add Activity",addFirstActivity:"Add Your First Activity",noActivitiesFound:"No activities found for this day",saturday:"Saturday",sunday:"Sunday",location:"Location",exhibitor:"Exhibitor",venue:"Venue",edit:"Edit",delete:"Delete",dragToReorder:"Drag to reorder",totalActivities:"Total Activities",loading:"Loading activities...",error:"Error loading activities",confirmDelete:"Delete Activity",confirmDeleteMessage:"Are you sure you want to delete this activity? This action cannot be undone.",cancel:"Cancel",deleteButton:"Delete",deleting:"Deleting...",deleteError:"Failed to delete activity",reorderError:"Failed to reorder activities"},UU={createTitle:"Create Activity",editTitle:"Edit Activity",titleNL:"Title (NL)",titleEN:"Title (EN)",descriptionNL:"Description (NL)",descriptionEN:"Description (EN)",startTime:"Start Time",endTime:"End Time",locationType:"Location Type",venue:"Venue",exhibitor:"Exhibitor",locationNL:"Location (NL)",locationEN:"Location (EN)",company:"Company",selectCompany:"Select a company...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optional",displayOrder:"Display Order",displayOrderHelp:"Lower numbers appear first in the schedule",isActive:"Active",isActiveHelp:"Inactive activities won't be shown to visitors",showLocationBadge:"Show Location Type Badge",showLocationBadgeHelp:'Show "exhibitor" or "location" badge in the schedule (usually not needed)',cancel:"Cancel",save:"Save",saving:"Saving...",saveError:"Failed to save activity",saveSuccess:"Activity saved",savePersistMismatch:"Saved but the badge value wasn't applied  you may not have permission to change this. Please check your role or contact an administrator."},VU={totalMarkers:"Total Markers",companies:"Companies",subscriptions:"Subscriptions",assignments:"Assignments",eventTotals:"Event Totals",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",noBBQ:"No BBQ",coins:"Coins",totalCoins:"Total Coins",quickActions:"Quick Actions",addNewCompany:"Add New Company",addNewCompanyDesc:"Register a new company in the system",manageSubscriptions:"Manage Subscriptions",manageSubscriptionsDesc:"Add or update event subscriptions",assignBooths:"Assign Booths",assignBoothsDesc:"Manage booth assignments for companies",recentActivity:"Recent Activity",recentActivityPlaceholder:"Activity tracking will be added in a future update."},HU={title:"Help & Guide",closeHelp:"Close help panel",yourRole:"Your role:",tabs:{currentPage:"Current Page",whatsNew:"What's New",quickStart:"Quick Start"},searchPlaceholder:"Search help content...",lastUpdated:"Last updated:",quickTips:"Quick Tips",whatsNewTitle:"What's New",whatsNewSubtitle:"Recent updates and changes",changeTypes:{feature:"feature",fix:"fix",improvement:"improvement"},quickStartTitle:"Quick Start Guide",quickStartSubtitle:"Get started with the admin panel",steps:{step1Title:"1. Understand Your Role",step1Text:"Your role ({role}) determines which features you can access. Check the navigation menu to see available sections.",step2Title:"2. Select Event Year",step2Text:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific.",step3Title:"3. Explore the Dashboard",step3Text:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data.",step4Title:"4. Common Workflows",step4Item1:"Add companies in the Companies tab",step4Item2:"Import subscriptions via Excel/CSV",step4Item3:"Assign companies to map locations",step4Item4:"Lock markers before event day",step5Title:"5. Get Contextual Help",step5Text:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'},roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor",unknown:"Unknown"},footer:"Need more help? Contact your system administrator",categories:{title:"Category Management",description:"Description",createNew:"Create Category",editCategory:"Edit Category",createCategory:"Create Category",order:"Order",category:"Category",slug:"Slug",exhibitors:"Exhibitors",icon:"Icon",color:"Color",sortOrder:"Sort Order",translations:"Translations",name:"Name",slugHelp:"Unique identifier (lowercase, no spaces, use hyphens)",noCategories:"No categories yet. Create your first category to get started.",confirmDelete:'Are you sure you want to delete "{{name}}"?',cannotDelete:"Cannot delete category with assigned exhibitors",createSuccess:"Category created successfully",updateSuccess:"Category updated successfully",deleteSuccess:"Category deleted successfully",deleteError:"Failed to delete category: {{error}}",saveError:"Failed to save category: {{error}}"},subscriptions:{searchPlaceholder:"Search subscribed companies...",booths:"Booths",company:"Company",contact:"Contact",phone:"Phone",email:"Email",boothCount:"Booth Count",area:"Area",saturday:"Saturday",sunday:"Sunday",coins:"Coins",notes:"Notes",actions:"Actions",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"large field, small field..."},assignments:{searchPlaceholder:"Search companies...",archive:"Archive",sortCompanies:"Sort Companies",sortMarkers:"Sort Markers",byMarker:"Marker",unassignedFirst:"Unassigned",markerId:"ID",glyphText:"Label",assigned:"Assigned",notAssigned:"Not assigned"},companies:{publicInfoTab:"Public Info",privateInfoTab:"Private Info",categoriesLabel:"Categories",searchPlaceholder:"Search companies...",addCompany:"Add Company",newCompany:"New Company",noCompanies:'No companies yet. Click "Add Company" to create one.',noResults:"No items found matching your search",companyNamePlaceholder:"Company Name *",companyLogo:"Company Logo",logoUrlPlaceholder:"Or paste external logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contact Person",phonePlaceholder:"Phone",emailPlaceholder:"Email",name:"Name",logo:"Logo",website:"Website",info:"Info",categories:"Categories",contact:"Contact",phone:"Phone",email:"Email",actions:"Actions",notSet:"Not set",none:"None",orPasteUrl:"Or paste URL",organizationInfo:"Organization info"}},FU={appTitle:EU,welcome:TU,home:jU,admin:kU,adminNav:$U,navigation:NU,common:LU,marker:AU,adminLogin:PU,resetPassword:MU,settings:OU,homePage:RU,exhibitorPage:DU,map:zU,mapManagement:IU,programManagement:BU,activityForm:UU,dashboard:VU,helpPanel:HU},qU="Evenementenkaart App",ZU="Welkom op het evenement!",GU="Startpagina",KU="Admin Dashboard",WU={adminPanel:"Beheerderspaneel",dashboard:"Dashboard",mapManagement:"Kaartbeheer",companiesNav:"Bedrijven",eventSubscriptions:"Inschrijvingen",programManagement:"Programmabeheer",assignments:"Toewijzingen",categories:"Categorien",settings:"Instellingen",eventYear:"Evenementjaar",help:"Help",logout:"Uitloggen",loading:"Laden...",roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Evenementbeheerder",content_editor:"Contentbeheerder"}},YU={loading:"Laden...",saving:"Opslaan...",save:"Opslaan",cancel:"Annuleren",edit:"Bewerken",delete:"Verwijderen",confirmDelete:"Weet je zeker dat je dit wilt verwijderen?",vote:"Stem",voted:"Gestemd"},XU={event:"Evenement",parking:"Parkeren",food:"Eten"},QU={title:"Manager Inloggen",subtitle:"Inloggen om evenementgegevens te beheren",email:"E-mail",emailPlaceholder:"Voer uw e-mailadres in",password:"Wachtwoord",passwordPlaceholder:"Voer uw wachtwoord in",show:"Toon",hide:"Verberg",forgotPassword:"Wachtwoord vergeten?",resetPassword:"Wachtwoord Resetten",backToLogin:"Terug naar inloggen",sendResetLink:"Verstuur Reset Link",resetEmailSent:"Wachtwoord reset link is verzonden naar uw e-mail",resetInstructions:"Voer uw e-mailadres in en we sturen u een link om uw wachtwoord te resetten.",loginButton:"Inloggen",loggingIn:"Bezig met inloggen...",rememberMe:"Onthoud mijn e-mail",rememberMeTooltip:"Uw browser zal ook aanbieden om uw wachtwoord veilig op te slaan",errors:{invalidCredentials:"Ongeldig e-mailadres of wachtwoord",emailRequired:"E-mail is verplicht",passwordRequired:"Wachtwoord is verplicht",networkError:"Netwerkfout. Controleer uw verbinding.",unknownError:"Er is een fout opgetreden. Probeer het opnieuw.",resetFailed:"Kon reset e-mail niet verzenden. Probeer het opnieuw."}},JU={title:"Nieuw wachtwoord instellen",instructions:"Voer hieronder uw nieuwe wachtwoord in. Maak het veilig!",newPassword:"Nieuw wachtwoord",newPasswordPlaceholder:"Voer nieuw wachtwoord in",confirmPassword:"Bevestig wachtwoord",confirmPasswordPlaceholder:"Voer nieuw wachtwoord opnieuw in",showPassword:"Toon wachtwoord",hidePassword:"Verberg wachtwoord",passwordRequirements:"Minimaal 6 tekens",updatePassword:"Wachtwoord bijwerken",updating:"Aan het bijwerken...",success:"Wachtwoord succesvol bijgewerkt!",redirecting:"Doorverwijzen naar inlogpagina...",backToLogin:"Terug naar inloggen",requestNewLink:"Nieuwe Reset Link Aanvragen",errors:{linkExpiredTitle:"Reset Link Verlopen",invalidToken:"Deze reset link is ongeldig of verlopen. Vraag een nieuwe aan.",tokenExpired:"Deze reset link is verlopen. Reset links zijn slechts 60 seconden geldig nadat ze zijn verzonden. Ga terug naar de inlogpagina en vraag een nieuwe reset link aan.",passwordTooShort:"Wachtwoord moet minimaal 6 tekens zijn",passwordMismatch:"Wachtwoorden komen niet overeen",updateFailed:"Kon wachtwoord niet bijwerken. Probeer het opnieuw."}},eV={title:"Instellingen",subtitle:"Beheer systeemconfiguratie en voorkeuren",categoryManagement:{title:"Categoriebeheer",description:"Beheer exposantcategorien voor filtering en organisatie"},userManagement:{title:"Gebruikersbeheer",description:"Beheer admin gebruikers, rollen en rechten",loading:"Gebruikers laden...",inviteUser:"Gebruiker uitnodigen",emailLabel:"E-mailadres",roleLabel:"Gebruikersrol",sendInvite:"Uitnodiging versturen",sending:"Verzenden...",cancel:"Annuleren",editRole:"Rol bewerken",deleteUser:"Gebruiker verwijderen",confirmDelete:"Weet u zeker dat u {{email}} wilt verwijderen?",inviteSuccess:"Manager uitnodiging verzonden!",inviteSuccessMessage:"De nieuwe manager ontvangt 2 emails: (1) Bevestigingsmail - NEGEER DEZE, (2) Wachtwoordherstel-mail - GEBRUIK DEZE om wachtwoord in te stellen.",table:{email:"E-mail",role:"Rol",created:"Aangemaakt",lastLogin:"Laatste login",actions:"Acties"},roles:{superAdmin:"Super Admin",systemManager:"Systeembeheerder",eventManager:"Evenementbeheerder"},roleDescriptions:{super_admin:"Volledige toegang tot alle functies",system_manager:"Kaartbeheer en gebruikersadministratie",event_manager:"Bedrijven, inschrijvingen en toewijzingen"},errors:{fetchFailed:"Kan gebruikers niet laden",inviteFailed:"Kan uitnodiging niet verzenden",updateFailed:"Kan gebruikersrol niet bijwerken",deleteFailed:"Kan gebruiker niet verwijderen"}},organization:{title:"Organisatieprofiel",description:"Organisatienaam, logo en contactinformatie"},branding:{title:"Branding Instellingen",description:"Configureer visuele branding (kleuren, lettertypen)",note:"Organisatienaam en logo worden beheerd in het Bedrijven-tabblad",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Standaardinstellingen Herstellen",saveSuccess:"Opgeslagen!",themeColor:{label:"Themakleur",description:"Primaire kleur gebruikt in de hele applicatie"},fontFamily:{label:"Lettertype",description:"Lettertype gebruikt voor koppen en tekst"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},uiLanguage:{title:"UI Taal",description:"Wijzig de taal van knoppen, menu's en interface-elementen",selectLanguage:"Selecteer je voorkeurstaal",note:{title:"Manager Interface Taal",description:"Dit wijzigt de taal van knoppen, menu's en instellingen. Het heeft GEEN invloed op inhoudvertalingen (bedrijfsinformatie, markeerbeschrijvingen). Inhoudvertalingen worden apart beheerd."}},mapDefaults:{title:"Kaart Standaardinstellingen",description:"Standaard kaartlagen, zoomniveaus en kaartinstellingen"},eventDefaults:{title:"Evenement Standaardinstellingen",description:"Standaard maaltijdaantallen, standgrootte en evenementvoorkeuren",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Resetten",saveSuccess:"Instellingen succesvol opgeslagen",saveSuccessMessage:"Je wijzigingen zijn toegepast.",error:"Fout",mealDefaults:{title:"Standaard Maaltijdaantallen",description:"Stel standaard maaltijdhoeveelheden in voor nieuwe evenementinschrijvingen. Deze waarden worden vooraf ingevuld maar kunnen per inschrijving worden aangepast.",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"Geen BBQ op zondag"},notifications:{title:"Meldingsvoorkeuren",description:"Configureer e-mailmeldingen voor evenementmanagers",emailNotifications:"E-mailmeldingen Inschakelen",emailNotificationsDesc:"Hoofdschakelaar voor alle e-mailmeldingen",newSubscription:"Nieuwe Inschrijvingsmeldingen",newSubscriptionDesc:"Ontvang een melding wanneer bedrijven zich registreren voor het evenement",assignmentChange:"Toewijzingswijzigingen",assignmentChangeDesc:"Ontvang een melding wanneer standtoewijzingen worden gewijzigd"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},feedbackRequests:{title:"Feedback & Functieverzoeken",description:"Meld problemen, vraag functies aan en volg voortgang",tabs:{all:"Alle Verzoeken",myRequests:"Mijn Verzoeken",submit:"Nieuwe Indienen"},filters:{title:"Filters",search:"Zoek verzoeken...",allTypes:"Alle Types",allStatuses:"Alle Statussen"},types:{issue:"Probleem",feature:"Functieverzoek"},statuses:{open:"Open",inProgress:"In Behandeling",completed:"Voltooid",archived:"Gearchiveerd"},priorities:{none:"Geen Prioriteit",low:"Lage Prioriteit",medium:"Gemiddelde Prioriteit",high:"Hoge Prioriteit"},submit:{title:"Nieuw Verzoek Indienen",type:"Type",titleLabel:"Titel",titlePlaceholder:"Korte samenvatting van je verzoek",description:"Beschrijving",descriptionPlaceholder:"Geef details over je verzoek...",duplicateHint:"Controleer de lijst hieronder om te zien of een soortgelijk verzoek al bestaat",button:"Verzoek Indienen"},noRequests:"Geen verzoeken gevonden",detail:{comments:"Reacties",addComment:"Voeg reactie toe...",postComment:"Plaatsen",noComments:"Nog geen reacties. Wees de eerste die reageert!",status:"Status",statusCurrent:"Huidige Status",statusAriaEdit:"Status bewerken",priority:"Prioriteit",priorityAriaEdit:"Prioriteit bewerken",version:"Versie Uitgerold",updateStatus:"Status Bijwerken",setPriority:"Prioriteit Instellen",markCompleted:"Markeren als Voltooid",delete:"Verzoek Verwijderen"}},advanced:{title:"Geavanceerde Instellingen",description:"Systeemonderhoud, gegevensbeheer en gevarenzone"}},tV={subtitle:"Jouw Volgende Avontuur Start Hier!",title:"D 4x4 Vakantiebeurs",eventDate:"10-11 oktober 2026",exhibitors:"Exposanten",days:"Dagen",openingHours:"Openingstijden",openingHoursInfo:`Zaterdag 10:00 - 17:00 uur
Zondag 10:00 - 16:00 uur`,location:"Locatie",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parkeren",parkingInfo:"Gratis parkeren bij Strandpark Slijk-Ewijk",phaseNote:"<strong>Let op:</strong> Dit is een Fase 1 tijdelijke versie. In Fase 2 zal deze pagina echte evenementgegevens, welkomstberichten en aankomende activiteiten tonen."},nV={title:"Exposanten",searchPlaceholder:"Zoek exposanten of standnummer...",showing:"Toont",of:"van",exhibitors:"exposanten",favorited:"favoriet",favoritesOnly:"Alleen Favorieten",sortBy:"Sorteren op",sortNameAsc:"Naam (AZ)",sortNameDesc:"Naam (ZA)",sortBoothAsc:"Stand (LaagHoog)",sortBoothDesc:"Stand (HoogLaag)",sortFavorites:"Favorieten Eerst",sortName:"Naam",sortBooth:"Stand",sortFavoritesBase:"Favorieten",noExhibitors:"Geen exposanten gevonden",booth:"Stand",categoriesComingSoon:"Binnenkort: Categorien",categories:"Categorien",allCategories:"Alle Categorien",filterByCategory:"Filteren op categorie",clearFilters:"Filters wissen",noCategoryMatch:"Geen exposanten komen overeen met de geselecteerde categorien.",phaseNote:"Let op:",comingInFuturePhases:"Binnenkort beschikbaar:",categoryFiltering:"Filteren op categorie",sortOptions:"Sorteeropties"},iV={searchPlaceholder:"Zoek naar een marker...",ariaLabel:"Interactieve evenementenkaart"},rV={addMarker:"Marker toevoegen",sortId:"ID",sortName:"Naam",sortType:"Type",addMarkerTooltipActive:"Klik op de kaart om marker te plaatsen",addMarkerTooltip:"Marker toevoegen",enterMarkerId:"Voer Marker ID in",markerIdPlaceholder:"Marker ID (geheel getal)",confirm:"Bevestigen",cancel:"Annuleren",errorInvalidId:"Voer een geldig numeriek ID in.",errorIdExists:"ID bestaat al. Kies een ander ID.",searchPlaceholder:"Zoek op ID, standlabel of naam...",selectMarker:"Selecteer een marker om details te bekijken"},sV={home:"Home",map:"Plattegrond",exhibitors:"Standhouders",schedule:"Programma"},aV={title:"Programma Beheer",addActivity:"Activiteit Toevoegen",addFirstActivity:"Voeg Je Eerste Activiteit Toe",noActivitiesFound:"Geen activiteiten gevonden voor deze dag",saturday:"Zaterdag",sunday:"Zondag",location:"Locatie",exhibitor:"Exposant",venue:"Locatie",edit:"Bewerken",delete:"Verwijderen",dragToReorder:"Sleep om te herschikken",totalActivities:"Totaal Activiteiten",loading:"Activiteiten laden...",error:"Fout bij laden activiteiten",confirmDelete:"Activiteit Verwijderen",confirmDeleteMessage:"Weet je zeker dat je deze activiteit wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.",cancel:"Annuleren",deleteButton:"Verwijderen",deleting:"Verwijderen...",deleteError:"Fout bij verwijderen activiteit",reorderError:"Fout bij herschikken activiteiten"},oV={createTitle:"Activiteit Aanmaken",editTitle:"Activiteit Bewerken",titleNL:"Titel (NL)",titleEN:"Titel (EN)",descriptionNL:"Beschrijving (NL)",descriptionEN:"Beschrijving (EN)",startTime:"Starttijd",endTime:"Eindtijd",locationType:"Locatie Type",venue:"Locatie",exhibitor:"Exposant",locationNL:"Locatie (NL)",locationEN:"Locatie (EN)",company:"Bedrijf",selectCompany:"Selecteer een bedrijf...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optioneel",displayOrder:"Volgorde",displayOrderHelp:"Lagere nummers verschijnen eerst in het programma",isActive:"Actief",isActiveHelp:"Alleen actieve activiteiten worden getoond aan bezoekers",showLocationBadge:"Toon Locatietype Badge",showLocationBadgeHelp:'Toon "standhouder" of "locatie" badge in het programma (meestal niet nodig)',cancel:"Annuleren",save:"Opslaan",saving:"Opslaan...",saveError:"Fout bij opslaan activiteit",saveSuccess:"Activiteit opgeslagen",savePersistMismatch:"Opgeslagen maar de badge-waarde is niet doorgevoerd  mogelijk heeft u geen toestemming. Controleer uw rol of neem contact op met een beheerder."},lV={totalMarkers:"Totaal Markers",companies:"Bedrijven",subscriptions:"Inschrijvingen",assignments:"Toewijzingen",eventTotals:"Evenement Totalen",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",noBBQ:"Geen BBQ",coins:"Munten",totalCoins:"Totaal Munten",quickActions:"Snelle Acties",addNewCompany:"Nieuw Bedrijf Toevoegen",addNewCompanyDesc:"Registreer een nieuw bedrijf in het systeem",manageSubscriptions:"Inschrijvingen Beheren",manageSubscriptionsDesc:"Voeg inschrijvingen toe of werk ze bij",assignBooths:"Stands Toewijzen",assignBoothsDesc:"Beheer standtoewijzingen voor bedrijven",recentActivity:"Recente Activiteit",recentActivityPlaceholder:"Activiteitentracking wordt toegevoegd in een toekomstige update."},uV={title:"Hulp & Gids",closeHelp:"Hulppaneel sluiten",yourRole:"Jouw rol:",tabs:{currentPage:"Huidige Pagina",whatsNew:"Wat is Nieuw",quickStart:"Snel Starten"},searchPlaceholder:"Zoek hulp inhoud...",lastUpdated:"Laatst bijgewerkt:",quickTips:"Snelle Tips",whatsNewTitle:"Wat is Nieuw",whatsNewSubtitle:"Recente updates en wijzigingen",changeTypes:{feature:"functie",fix:"fix",improvement:"verbetering"},quickStartTitle:"Snel Start Gids",quickStartSubtitle:"Aan de slag met het admin paneel",steps:{step1Title:"1. Begrijp je Rol",step1Text:"Je rol ({role}) bepaalt welke functies je kunt gebruiken. Bekijk het navigatiemenu om beschikbare secties te zien.",step2Title:"2. Selecteer Evenementjaar",step2Text:"Gebruik de jaarselector in de topnavigatie om tussen verschillende evenementjaren te wisselen. Alle data (inschrijvingen, toewijzingen) is jaar-specifiek.",step3Title:"3. Verken het Dashboard",step3Text:"Start bij het Dashboard om een overzicht te zien van markers, bedrijven en event statistieken. Dit geeft je een snelle momentopname van je huidige data.",step4Title:"4. Veelvoorkomende Workflows",step4Item1:"Voeg bedrijven toe in het Bedrijven tabblad",step4Item2:"Importeer inschrijvingen via Excel/CSV",step4Item3:"Wijs bedrijven toe aan kaartlocaties",step4Item4:"Vergrendel markers voor de eventdag",step5Title:"5. Krijg Contextuele Hulp",step5Text:'Klik op "Huidige Pagina" tabblad in dit hulppaneel om specifieke begeleiding voor elke sectie te zien. Hover over (?) iconen voor snelle tooltips.'},roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Eventbeheerder",content_editor:"Content Editor",unknown:"Onbekend"},footer:"Meer hulp nodig? Neem contact op met je systeembeheerder",categories:{title:"Categoriebeheer",description:"Beheer exposantencategorien voor filtering en organisatie",createNew:"Categorie Aanmaken",editCategory:"Categorie Bewerken",createCategory:"Categorie Aanmaken",order:"Volgorde",category:"Categorie",slug:"Slug",exhibitors:"Exposanten",icon:"Icoon",color:"Kleur",sortOrder:"Sorteervolgorde",translations:"Vertalingen",name:"Naam",slugHelp:"Unieke identificatie (kleine letters, geen spaties, gebruik streepjes)",noCategories:"Nog geen categorien. Maak je eerste categorie aan om te beginnen.",confirmDelete:'Weet je zeker dat je "{{name}}" wilt verwijderen?',cannotDelete:"Kan categorie met toegewezen exposanten niet verwijderen",createSuccess:"Categorie succesvol aangemaakt",updateSuccess:"Categorie succesvol bijgewerkt",deleteSuccess:"Categorie succesvol verwijderd",deleteError:"Kan categorie niet verwijderen: {{error}}",saveError:"Kan categorie niet opslaan: {{error}}"},subscriptions:{searchPlaceholder:"Zoek ingeschreven bedrijven...",booths:"Stands",company:"Bedrijf",contact:"Contact",phone:"Telefoon",email:"E-mail",boothCount:"Aantal Stands",area:"Gebied",saturday:"Zaterdag",sunday:"Zondag",coins:"Munten",notes:"Notities",actions:"Acties",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"groot veld, klein veld..."},assignments:{searchPlaceholder:"Zoek bedrijven...",archive:"Archief",sortCompanies:"Sorteer Bedrijven",sortMarkers:"Sorteer Markers",byMarker:"Marker",unassignedFirst:"Niet toegewezen",markerId:"ID",glyphText:"Label",assigned:"Toegewezen",notAssigned:"Niet toegewezen"},companies:{publicInfoTab:"Publieke Info",privateInfoTab:"Priv Info",categoriesLabel:"Categorien",searchPlaceholder:"Zoek bedrijven...",addCompany:"Bedrijf Toevoegen",newCompany:"Nieuw Bedrijf",noCompanies:'Nog geen bedrijven. Klik op "Bedrijf Toevoegen" om er een aan te maken.',noResults:"Geen items gevonden die overeenkomen met uw zoekopdracht",companyNamePlaceholder:"Bedrijfsnaam *",companyLogo:"Bedrijfslogo",logoUrlPlaceholder:"Of plak externe logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contactpersoon",phonePlaceholder:"Telefoon",emailPlaceholder:"E-mail",name:"Naam",logo:"Logo",website:"Website",info:"Info",categories:"Categorien",contact:"Contact",phone:"Telefoon",email:"E-mail",actions:"Acties",notSet:"Niet ingesteld",none:"Geen",orPasteUrl:"Of plak URL",organizationInfo:"Organisatie info"}},cV={appTitle:qU,welcome:ZU,home:GU,admin:KU,adminNav:WU,common:YU,marker:XU,adminLogin:QU,resetPassword:JU,settings:eV,homePage:tV,exhibitorPage:nV,map:iV,mapManagement:rV,navigation:sV,programManagement:aV,activityForm:oV,dashboard:lV,helpPanel:uV},dV="Event Map App (DE)",hV="Willkommen zum Event!",fV="Startseite",mV="Admin Dashboard",pV={adminPanel:"Admin Panel",dashboard:"Dashboard",mapManagement:"Kartenverwaltung",companiesNav:"Unternehmen",eventSubscriptions:"Abonnements",programManagement:"Programmverwaltung",assignments:"Zuweisungen",categories:"Kategorien",settings:"Einstellungen",eventYear:"Eventjahr",help:"Hilfe",logout:"Abmelden",loading:"Laden...",roles:{super_admin:"Super Admin",system_manager:"Systemmanager",event_manager:"Eventmanager",content_editor:"Inhaltseditor"}},gV={home:"Startseite",map:"Karte",exhibitors:"Aussteller",schedule:"Programm"},yV={loading:"Laden...",saving:"Speichern...",save:"Speichern",cancel:"Abbrechen",edit:"Bearbeiten",delete:"Lschen",confirmDelete:"Sind Sie sicher, dass Sie dies lschen mchten?",vote:"Abstimmen",voted:"Abgestimmt"},vV={event:"Event",parking:"Parken",food:"Essen"},bV={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},_V={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},xV={title:"Einstellungen",subtitle:"Systemkonfiguration und Einstellungen verwalten",categoryManagement:{title:"Kategorienverwaltung",description:"Verwalten Sie Ausstellerkategorien fr Filterung und Organisation"},userManagement:{title:"Benutzerverwaltung",description:"Admin-Benutzer, Rollen und Berechtigungen verwalten",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Manager invitation sent!",inviteSuccessMessage:"The new manager will receive 2 emails: (1) Confirmation email - IGNORE THIS, it will not work. (2) Password reset email - USE THIS to set password and access the admin panel.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding-Einstellungen",description:"Visuelles Branding konfigurieren (Farben, Schriftarten)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI-Sprache",description:"Sprache der Benutzeroberflche ndern",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Karten-Standardeinstellungen",description:"Standard-Kartenebenen, Zoomstufen und Einstellungen"},eventDefaults:{title:"Event-Standardeinstellungen",description:"Standardwerte fr Mahlzeiten, Standgren und Eventprferenzen",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature-Anfragen",description:"Probleme melden, Features anfragen und Fortschritt verfolgen",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{none:"No Priority",low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",statusCurrent:"Status",statusAriaEdit:"Edit status",priority:"Priority",priorityAriaEdit:"Edit priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Erweiterte Einstellungen",description:"Systemwartung, Datenverwaltung und Gefahrenzone"}},wV={subtitle:"Dein nchstes Abenteuer beginnt hier!",title:"Die 4x4 Ferienmesse",eventDate:"10.-11. Oktober 2026",exhibitors:"Aussteller",days:"Tage",openingHours:"ffnungszeiten",openingHoursInfo:`Samstag 10:00 - 17:00
Sonntag 10:00 - 16:00`,location:"Veranstaltungsort",locationInfo:`Eventlocation WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parken",parkingInfo:"Kostenlose Parkpltze am Strandpark Slijk-Ewijk verfgbar",phaseNote:"<strong>Hinweis:</strong> Dies ist eine Phase-1-Vorabversion. In Phase 2 werden hier echte Eventdaten, Willkommensnachrichten und kommende Aktivitten angezeigt."},SV={title:"Exhibitors",searchPlaceholder:"Search exhibitors or booth number...",showing:"Showing",of:"of",exhibitors:"exhibitors",favorited:"favorited",favoritesOnly:"Favorites Only",sortBy:"Sort by",sortNameAsc:"Name (AZ)",sortNameDesc:"Name (ZA)",sortBoothAsc:"Booth (LowHigh)",sortBoothDesc:"Booth (HighLow)",sortFavorites:"Favorites First",sortName:"Name",sortBooth:"Booth",sortFavoritesBase:"Favorites",noExhibitors:"No exhibitors found",booth:"Booth",categoriesComingSoon:"Coming Soon: Categories",categories:"Categories",allCategories:"All Categories",filterByCategory:"Filter by category",clearFilters:"Clear filters",noCategoryMatch:"No exhibitors match the selected categories.",phaseNote:"Note:",comingInFuturePhases:"Coming in future phases:",categoryFiltering:"Category filtering",sortOptions:"Sort options"},CV={searchPlaceholder:"Search for a marker...",ariaLabel:"Interactive event map"},EV={sortId:"ID",sortName:"Name",sortType:"Type",addMarker:"Add marker",addMarkerTooltipActive:"Click on map to place marker",addMarkerTooltip:"Add marker",enterMarkerId:"Enter Marker ID",markerIdPlaceholder:"Marker ID (integer)",confirm:"Confirm",cancel:"Cancel",errorInvalidId:"Please enter a valid numeric ID.",errorIdExists:"ID already exists. Please choose another.",searchPlaceholder:"Search by ID, booth label, or name...",selectMarker:"Select a marker to view details"},TV={title:"Program Management",addActivity:"Add Activity",addFirstActivity:"Add Your First Activity",noActivitiesFound:"No activities found for this day",saturday:"Saturday",sunday:"Sunday",location:"Location",exhibitor:"Exhibitor",venue:"Venue",edit:"Edit",delete:"Delete",dragToReorder:"Drag to reorder",totalActivities:"Total Activities",loading:"Loading activities...",error:"Error loading activities",confirmDelete:"Delete Activity",confirmDeleteMessage:"Are you sure you want to delete this activity? This action cannot be undone.",cancel:"Cancel",deleteButton:"Delete",deleting:"Deleting...",deleteError:"Failed to delete activity",reorderError:"Failed to reorder activities"},jV={createTitle:"Create Activity",editTitle:"Edit Activity",titleNL:"Title (NL)",titleEN:"Title (EN)",descriptionNL:"Description (NL)",descriptionEN:"Description (EN)",startTime:"Start Time",endTime:"End Time",locationType:"Location Type",venue:"Venue",exhibitor:"Exhibitor",locationNL:"Location (NL)",locationEN:"Location (EN)",company:"Company",selectCompany:"Select a company...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optional",displayOrder:"Display Order",displayOrderHelp:"Lower numbers appear first in the schedule",isActive:"Active",isActiveHelp:"Inactive activities won't be shown to visitors",showLocationBadge:"Show Location Type Badge",showLocationBadgeHelp:'Show "exhibitor" or "location" badge in the schedule (usually not needed)',cancel:"Cancel",save:"Save",saving:"Saving...",saveError:"Failed to save activity",savePersistMismatch:"Gespeichert, aber der Badge-Wert wurde nicht bernommen  Sie haben mglicherweise keine Berechtigung. Bitte berprfen Sie Ihre Rolle oder kontaktieren Sie den Administrator."},kV={totalMarkers:"Total Markers",companies:"Companies",subscriptions:"Subscriptions",assignments:"Assignments",eventTotals:"Event Totals",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",noBBQ:"No BBQ",coins:"Coins",totalCoins:"Total Coins",quickActions:"Quick Actions",addNewCompany:"Add New Company",addNewCompanyDesc:"Register a new company in the system",manageSubscriptions:"Manage Subscriptions",manageSubscriptionsDesc:"Add or update event subscriptions",assignBooths:"Assign Booths",assignBoothsDesc:"Manage booth assignments for companies",recentActivity:"Recent Activity",recentActivityPlaceholder:"Activity tracking will be added in a future update."},$V={title:"Help & Guide",closeHelp:"Close help panel",yourRole:"Your role:",tabs:{currentPage:"Current Page",whatsNew:"What's New",quickStart:"Quick Start"},searchPlaceholder:"Search help content...",lastUpdated:"Last updated:",quickTips:"Quick Tips",whatsNewTitle:"What's New",whatsNewSubtitle:"Recent updates and changes",changeTypes:{feature:"feature",fix:"fix",improvement:"improvement"},quickStartTitle:"Quick Start Guide",quickStartSubtitle:"Get started with the admin panel",steps:{step1Title:"1. Understand Your Role",step1Text:"Your role ({role}) determines which features you can access. Check the navigation menu to see available sections.",step2Title:"2. Select Event Year",step2Text:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific.",step3Title:"3. Explore the Dashboard",step3Text:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data.",step4Title:"4. Common Workflows",step4Item1:"Add companies in the Companies tab",step4Item2:"Import subscriptions via Excel/CSV",step4Item3:"Assign companies to map locations",step4Item4:"Lock markers before event day",step5Title:"5. Get Contextual Help",step5Text:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'},roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor",unknown:"Unknown"},footer:"Need more help? Contact your system administrator",categories:{title:"Kategorienverwaltung",description:"Ausstellerkategorien fr Filterung und Organisation verwalten",createNew:"Kategorie erstellen",editCategory:"Kategorie bearbeiten",createCategory:"Kategorie erstellen",order:"Reihenfolge",category:"Kategorie",slug:"Slug",exhibitors:"Aussteller",icon:"Icon",color:"Farbe",sortOrder:"Sortierreihenfolge",translations:"bersetzungen",name:"Name",slugHelp:"Eindeutiger Bezeichner (Kleinbuchstaben, keine Leerzeichen, Bindestriche verwenden)",noCategories:"Noch keine Kategorien. Erstellen Sie Ihre erste Kategorie, um zu beginnen.",confirmDelete:'Sind Sie sicher, dass Sie "{{name}}" lschen mchten?',cannotDelete:"Kategorie mit zugewiesenen Ausstellern kann nicht gelscht werden",createSuccess:"Kategorie erfolgreich erstellt",updateSuccess:"Kategorie erfolgreich aktualisiert",deleteSuccess:"Kategorie erfolgreich gelscht",deleteError:"Fehler beim Lschen der Kategorie: {{error}}",saveError:"Fehler beim Speichern der Kategorie: {{error}}"},subscriptions:{searchPlaceholder:"Search subscribed companies...",booths:"Booths",company:"Company",contact:"Contact",phone:"Phone",email:"Email",boothCount:"Booth Count",area:"Area",saturday:"Saturday",sunday:"Sunday",coins:"Coins",notes:"Notes",actions:"Actions",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"large field, small field..."},assignments:{searchPlaceholder:"Search companies...",archive:"Archive",sortCompanies:"Sort Companies",sortMarkers:"Sort Markers",byMarker:"Marker",unassignedFirst:"Unassigned",markerId:"ID",glyphText:"Label",assigned:"Assigned",notAssigned:"Not assigned"},companies:{publicInfoTab:"Public Info",privateInfoTab:"Private Info",categoriesLabel:"Categories",searchPlaceholder:"Search companies...",addCompany:"Add Company",newCompany:"New Company",noCompanies:'No companies yet. Click "Add Company" to create one.',noResults:"No items found matching your search",companyNamePlaceholder:"Company Name *",companyLogo:"Company Logo",logoUrlPlaceholder:"Or paste external logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contact Person",phonePlaceholder:"Phone",emailPlaceholder:"Email",name:"Name",logo:"Logo",website:"Website",info:"Info",categories:"Categories",contact:"Contact",phone:"Phone",email:"Email",actions:"Actions",notSet:"Not set",none:"None",orPasteUrl:"Or paste URL",organizationInfo:"Organization info"}},NV={nl:"Niederlndisch",en:"Englisch",de:"Deutsch"},LV={appTitle:dV,welcome:hV,home:fV,admin:mV,adminNav:pV,navigation:gV,common:yV,marker:vV,adminLogin:bV,resetPassword:_V,settings:xV,homePage:wV,exhibitorPage:SV,map:CV,mapManagement:EV,programManagement:TV,activityForm:jV,dashboard:kV,helpPanel:$V,language:NV};Hn.use(Qj).init({resources:{en:{translation:FU},nl:{translation:cV},de:{translation:LV}},lng:"nl",fallbackLng:"nl",interpolation:{escapeValue:!1}});function AV(){const e=new Date().getFullYear(),[t,n]=j.useState(()=>{const v=localStorage.getItem("selectedEventYear");return v?parseInt(v,10):e});j.useEffect(()=>{localStorage.setItem("selectedEventYear",t.toString())},[t]);const{markers:i}=bj(t),[s,a,l]=vj(i),[d,f]=j.useState({logo:null,themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif",eventName:"4x4 Vakantiebeurs"});j.useEffect(()=>{async function v(){const{data:w,error:C}=await ge.from("organization_profile").select("*").eq("id",1).single();if(C){console.error("Error fetching organization_profile:",C);return}if(w){const T=w.logo||"";f({logo:T?ir(T):null,eventName:w.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}v();const x=ge.channel("organization-profile-branding-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},w=>{if(w.new){const C=w.new.logo||"";f({logo:C?ir(C):null,eventName:w.new.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}).subscribe();return()=>{ge.removeChannel(x)}},[]);const[g,y]=j.useState(null);return j.useEffect(()=>{ge.auth.getSession().then(({data:x})=>{y(x?.session?.user||null)});const{data:v}=ge.auth.onAuthStateChange((x,w)=>{y(w?.user||null)});return()=>{v?.subscription?.unsubscribe()}},[]),h.jsx(DC,{children:h.jsx(a$,{children:h.jsx(sj,{children:h.jsx(CU,{branding:d,user:g,markersState:s,updateMarker:a,setMarkersState:l,onLogin:y,selectedYear:t,setSelectedYear:n})})})})}const e0=Ol();Dt.Icon.Default.mergeOptions({iconRetinaUrl:`${e0}assets/icons/marker-icon-2x.png`,iconUrl:`${e0}assets/icons/glyph-marker-icon-blue.svg`,shadowUrl:`${e0}assets/icons/marker-shadow.png`});b9.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(AV,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(`${Ol()}service-worker.js`)});export{Si as R,h as j,j as r};
