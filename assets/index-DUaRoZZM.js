(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function eo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wS(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var Np={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function Qk(){if(Wx)return Hu;Wx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Hu.Fragment=t,Hu.jsx=n,Hu.jsxs=n,Hu}var Yx;function Jk(){return Yx||(Yx=1,Np.exports=Qk()),Np.exports}var h=Jk(),Ap={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function eT(){if(Xx)return Ye;Xx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function M(z,X,B){this.props=z,this.context=X,this.refs=T,this.updater=B||j}M.prototype.isReactComponent={},M.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=M.prototype;function A(z,X,B){this.props=z,this.context=X,this.refs=T,this.updater=B||j}var U=A.prototype=new P;U.constructor=A,E(U,M.prototype),U.isPureReactComponent=!0;var H=Array.isArray;function R(){}var q={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function G(z,X,B){var ue=B.ref;return{$$typeof:e,type:z,key:X,ref:ue!==void 0?ue:null,props:B}}function re(z,X){return G(z.type,X,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function ee(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(B){return X[B]})}var le=/\/+/g;function Y(z,X){return typeof z=="object"&&z!==null&&z.key!=null?ee(""+z.key):X.toString(36)}function se(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(R,R):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function F(z,X,B,ue,te){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(oe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case e:case t:ye=!0;break;case y:return ye=z._init,F(ye(z._payload),X,B,ue,te)}}if(ye)return te=te(z),ye=ue===""?"."+Y(z,0):ue,H(te)?(B="",ye!=null&&(B=ye.replace(le,"$&/")+"/"),F(te,X,B,"",function(je){return je})):te!=null&&(W(te)&&(te=re(te,B+(te.key==null||z&&z.key===te.key?"":(""+te.key).replace(le,"$&/")+"/")+ye)),X.push(te)),1;ye=0;var Ee=ue===""?".":ue+":";if(H(z))for(var Oe=0;Oe<z.length;Oe++)ue=z[Oe],oe=Ee+Y(ue,Oe),ye+=F(ue,X,B,oe,te);else if(Oe=_(z),typeof Oe=="function")for(z=Oe.call(z),Oe=0;!(ue=z.next()).done;)ue=ue.value,oe=Ee+Y(ue,Oe++),ye+=F(ue,X,B,oe,te);else if(oe==="object"){if(typeof z.then=="function")return F(se(z),X,B,ue,te);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(z,X,B){if(z==null)return z;var ue=[],te=0;return F(z,ue,"","",function(oe){return X.call(B,oe,te++)}),ue}function ne(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(B){(z._status===0||z._status===-1)&&(z._status=1,z._result=B)},function(B){(z._status===0||z._status===-1)&&(z._status=2,z._result=B)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var Ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},D={map:Z,forEach:function(z,X,B){Z(z,function(){X.apply(this,arguments)},B)},count:function(z){var X=0;return Z(z,function(){X++}),X},toArray:function(z){return Z(z,function(X){return X})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ye.Activity=v,Ye.Children=D,Ye.Component=M,Ye.Fragment=n,Ye.Profiler=s,Ye.PureComponent=A,Ye.StrictMode=i,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(z){return q.H.useMemoCache(z)}},Ye.cache=function(z){return function(){return z.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(z,X,B){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=E({},z.props),te=z.key;if(X!=null)for(oe in X.key!==void 0&&(te=""+X.key),X)!J.call(X,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&X.ref===void 0||(ue[oe]=X[oe]);var oe=arguments.length-2;if(oe===1)ue.children=B;else if(1<oe){for(var ye=Array(oe),Ee=0;Ee<oe;Ee++)ye[Ee]=arguments[Ee+2];ue.children=ye}return G(z.type,te,ue)},Ye.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ye.createElement=function(z,X,B){var ue,te={},oe=null;if(X!=null)for(ue in X.key!==void 0&&(oe=""+X.key),X)J.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(te[ue]=X[ue]);var ye=arguments.length-2;if(ye===1)te.children=B;else if(1<ye){for(var Ee=Array(ye),Oe=0;Oe<ye;Oe++)Ee[Oe]=arguments[Oe+2];te.children=Ee}if(z&&z.defaultProps)for(ue in ye=z.defaultProps,ye)te[ue]===void 0&&(te[ue]=ye[ue]);return G(z,oe,te)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(z){return{$$typeof:d,render:z}},Ye.isValidElement=W,Ye.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ne}},Ye.memo=function(z,X){return{$$typeof:g,type:z,compare:X===void 0?null:X}},Ye.startTransition=function(z){var X=q.T,B={};q.T=B;try{var ue=z(),te=q.S;te!==null&&te(B,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(R,Ce)}catch(oe){Ce(oe)}finally{X!==null&&B.types!==null&&(X.types=B.types),q.T=X}},Ye.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ye.use=function(z){return q.H.use(z)},Ye.useActionState=function(z,X,B){return q.H.useActionState(z,X,B)},Ye.useCallback=function(z,X){return q.H.useCallback(z,X)},Ye.useContext=function(z){return q.H.useContext(z)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(z,X){return q.H.useDeferredValue(z,X)},Ye.useEffect=function(z,X){return q.H.useEffect(z,X)},Ye.useEffectEvent=function(z){return q.H.useEffectEvent(z)},Ye.useId=function(){return q.H.useId()},Ye.useImperativeHandle=function(z,X,B){return q.H.useImperativeHandle(z,X,B)},Ye.useInsertionEffect=function(z,X){return q.H.useInsertionEffect(z,X)},Ye.useLayoutEffect=function(z,X){return q.H.useLayoutEffect(z,X)},Ye.useMemo=function(z,X){return q.H.useMemo(z,X)},Ye.useOptimistic=function(z,X){return q.H.useOptimistic(z,X)},Ye.useReducer=function(z,X,B){return q.H.useReducer(z,X,B)},Ye.useRef=function(z){return q.H.useRef(z)},Ye.useState=function(z){return q.H.useState(z)},Ye.useSyncExternalStore=function(z,X,B){return q.H.useSyncExternalStore(z,X,B)},Ye.useTransition=function(){return q.H.useTransition()},Ye.version="19.2.0",Ye}var Qx;function Ac(){return Qx||(Qx=1,Ap.exports=eT()),Ap.exports}var k=Ac();const vi=eo(k);var Mp={exports:{}},Fu={},Op={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function tT(){return Jx||(Jx=1,(function(e){function t(F,Z){var ne=F.length;F.push(Z);e:for(;0<ne;){var Ce=ne-1>>>1,D=F[Ce];if(0<s(D,Z))F[Ce]=Z,F[ne]=D,ne=Ce;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],ne=F.pop();if(ne!==Z){F[0]=ne;e:for(var Ce=0,D=F.length,z=D>>>1;Ce<z;){var X=2*(Ce+1)-1,B=F[X],ue=X+1,te=F[ue];if(0>s(B,ne))ue<D&&0>s(te,B)?(F[Ce]=te,F[ue]=ne,Ce=ue):(F[Ce]=B,F[X]=ne,Ce=X);else if(ue<D&&0>s(te,ne))F[Ce]=te,F[ue]=ne,Ce=ue;else break e}}return Z}function s(F,Z){var ne=F.sortIndex-Z.sortIndex;return ne!==0?ne:F.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],g=[],y=1,v=null,w=3,_=!1,j=!1,E=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function U(F){for(var Z=n(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=F)i(g),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=n(g)}}function H(F){if(E=!1,U(F),!j)if(n(f)!==null)j=!0,R||(R=!0,ee());else{var Z=n(g);Z!==null&&se(H,Z.startTime-F)}}var R=!1,q=-1,J=5,G=-1;function re(){return T?!0:!(e.unstable_now()-G<J)}function W(){if(T=!1,R){var F=e.unstable_now();G=F;var Z=!0;try{e:{j=!1,E&&(E=!1,P(q),q=-1),_=!0;var ne=w;try{t:{for(U(F),v=n(f);v!==null&&!(v.expirationTime>F&&re());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,w=v.priorityLevel;var D=Ce(v.expirationTime<=F);if(F=e.unstable_now(),typeof D=="function"){v.callback=D,U(F),Z=!0;break t}v===n(f)&&i(f),U(F)}else i(f);v=n(f)}if(v!==null)Z=!0;else{var z=n(g);z!==null&&se(H,z.startTime-F),Z=!1}}break e}finally{v=null,w=ne,_=!1}Z=void 0}}finally{Z?ee():R=!1}}}var ee;if(typeof A=="function")ee=function(){A(W)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Y=le.port2;le.port1.onmessage=W,ee=function(){Y.postMessage(null)}}else ee=function(){M(W,0)};function se(F,Z){q=M(function(){F(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var ne=w;w=Z;try{return F()}finally{w=ne}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ne=w;w=F;try{return Z()}finally{w=ne}},e.unstable_scheduleCallback=function(F,Z,ne){var Ce=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ce+ne:Ce):ne=Ce,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,F={id:y++,callback:Z,priorityLevel:F,startTime:ne,expirationTime:D,sortIndex:-1},ne>Ce?(F.sortIndex=ne,t(g,F),n(f)===null&&F===n(g)&&(E?(P(q),q=-1):E=!0,se(H,ne-Ce))):(F.sortIndex=D,t(f,F),j||_||(j=!0,R||(R=!0,ee()))),F},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(F){var Z=w;return function(){var ne=w;w=Z;try{return F.apply(this,arguments)}finally{w=ne}}}})(Pp)),Pp}var e_;function nT(){return e_||(e_=1,Op.exports=tT()),Op.exports}var Rp={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function iT(){if(t_)return Tn;t_=1;var e=Ac();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},Tn.flushSync=function(f){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=y,i.d.f()}},Tn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Tn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Tn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Tn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=d(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Tn.requestFormReset=function(f){i.d.r(f)},Tn.unstable_batchedUpdates=function(f,g){return f(g)},Tn.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var n_;function SS(){if(n_)return Rp.exports;n_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rp.exports=iT(),Rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function rT(){if(i_)return Fu;i_=1;var e=nT(),t=Ac(),n=SS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,p=a;;){var x=c.return;if(x===null)break;var S=x.alternate;if(S===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===c)return f(x),r;if(S===p)return f(x),a;S=S.sibling}throw Error(i(188))}if(c.return!==p.return)c=x,p=S;else{for(var O=!1,V=x.child;V;){if(V===c){O=!0,c=x,p=S;break}if(V===p){O=!0,p=x,c=S;break}V=V.sibling}if(!O){for(V=S.child;V;){if(V===c){O=!0,c=S,p=x;break}if(V===p){O=!0,p=S,c=x;break}V=V.sibling}if(!O)throw Error(i(189))}}if(c.alternate!==p)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=y(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),A=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var le=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===le?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case R:return"SuspenseList";case G:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case j:return"Portal";case A:return r.displayName||"Context";case P:return(r._context.displayName||"Context")+".Consumer";case U:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case q:return a=r.displayName||null,a!==null?a:Y(r.type)||"Memo";case J:a=r._payload,r=r._init;try{return Y(r(a))}catch{}}return null}var se=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ce=[],D=-1;function z(r){return{current:r}}function X(r){0>D||(r.current=Ce[D],Ce[D]=null,D--)}function B(r,a){D++,Ce[D]=r.current,r.current=a}var ue=z(null),te=z(null),oe=z(null),ye=z(null);function Ee(r,a){switch(B(oe,a),B(te,r),B(ue,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?vx(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=vx(a),r=bx(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}X(ue),B(ue,r)}function Oe(){X(ue),X(te),X(oe)}function je(r){r.memoizedState!==null&&B(ye,r);var a=ue.current,c=bx(a,r.type);a!==c&&(B(te,r),B(ue,c))}function ge(r){te.current===r&&(X(ue),X(te)),ye.current===r&&(X(ye),Bu._currentValue=ne)}var Ae,Ne;function Ie(r){if(Ae===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Ae=a&&a[1]||"",Ne=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+r+Ne}var Tt=!1;function He(r,a){if(!r||Tt)return"";Tt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(me){var fe=me}Reflect.construct(r,[],Se)}else{try{Se.call()}catch(me){fe=me}r.call(Se.prototype)}}else{try{throw Error()}catch(me){fe=me}(Se=r())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),O=S[0],V=S[1];if(O&&V){var K=O.split(`
`),de=V.split(`
`);for(x=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;x<de.length&&!de[x].includes("DetermineComponentFrameRoot");)x++;if(p===K.length||x===de.length)for(p=K.length-1,x=de.length-1;1<=p&&0<=x&&K[p]!==de[x];)x--;for(;1<=p&&0<=x;p--,x--)if(K[p]!==de[x]){if(p!==1||x!==1)do if(p--,x--,0>x||K[p]!==de[x]){var ve=`
`+K[p].replace(" at new "," at ");return r.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",r.displayName)),ve}while(1<=p&&0<=x);break}}}finally{Tt=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ie(c):""}function Cn(r,a){switch(r.tag){case 26:case 27:case 5:return Ie(r.type);case 16:return Ie("Lazy");case 13:return r.child!==a&&a!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return He(r.type,!1);case 11:return He(r.type.render,!1);case 1:return He(r.type,!0);case 31:return Ie("Activity");default:return""}}function Pn(r){try{var a="",c=null;do a+=Cn(r,c),c=r,r=r.return;while(r);return a}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var bi=Object.prototype.hasOwnProperty,Tr=e.unstable_scheduleCallback,Lr=e.unstable_cancelCallback,ao=e.unstable_shouldYield,oo=e.unstable_requestPaint,yn=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,be=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Fe=e.unstable_NormalPriority,nt=e.unstable_LowPriority,ct=e.unstable_IdlePriority,jn=e.log,zi=e.unstable_setDisableYieldValue,hn=null,Bt=null;function vn(r){if(typeof jn=="function"&&zi(r),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(hn,r)}catch{}}var vt=Math.clz32?Math.clz32:Df,Vn=Math.log,ii=Math.LN2;function Df(r){return r>>>=0,r===0?32:31-(Vn(r)/ii|0)|0}var ta=256,na=262144,ia=4194304;function Nr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function lo(r,a,c){var p=r.pendingLanes;if(p===0)return 0;var x=0,S=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var V=p&134217727;return V!==0?(p=V&~S,p!==0?x=Nr(p):(O&=V,O!==0?x=Nr(O):c||(c=V&~r,c!==0&&(x=Nr(c))))):(V=p&~S,V!==0?x=Nr(V):O!==0?x=Nr(O):c||(c=p&~r,c!==0&&(x=Nr(c)))),x===0?0:a!==0&&a!==x&&(a&S)===0&&(S=x&-x,c=a&-a,S>=c||S===32&&(c&4194048)!==0)?a:x}function ra(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function zf(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zc(){var r=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),r}function Vl(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Ar(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Bf(r,a,c,p,x,S){var O=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var V=r.entanglements,K=r.expirationTimes,de=r.hiddenUpdates;for(c=O&~c;0<c;){var ve=31-vt(c),Se=1<<ve;V[ve]=0,K[ve]=-1;var fe=de[ve];if(fe!==null)for(de[ve]=null,ve=0;ve<fe.length;ve++){var me=fe[ve];me!==null&&(me.lane&=-536870913)}c&=~Se}p!==0&&Gc(r,p,0),S!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=S&~(O&~a))}function Gc(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var p=31-vt(a);r.entangledLanes|=a,r.entanglements[p]=r.entanglements[p]|1073741824|c&261930}function Kc(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var p=31-vt(c),x=1<<p;x&a|r[p]&a&&(r[p]|=a),c&=~x}}function Wc(r,a){var c=a&-a;return c=(c&42)!==0?1:Un(c),(c&(r.suspendedLanes|a))!==0?0:c}function Un(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ul(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:Hx(r.type))}function Hl(r,a){var c=Z.p;try{return Z.p=r,a()}finally{Z.p=c}}var Bi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Bi,fn="__reactProps$"+Bi,Mr="__reactContainer$"+Bi,ir="__reactEvents$"+Bi,Yc="__reactListeners$"+Bi,If="__reactHandles$"+Bi,Xc="__reactResources$"+Bi,sa="__reactMarker$"+Bi;function Fl(r){delete r[Xt],delete r[fn],delete r[ir],delete r[Yc],delete r[If]}function Or(r){var a=r[Xt];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Mr]||c[Xt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Ex(r);r!==null;){if(c=r[Xt])return c;r=Ex(r)}return a}r=c,c=r.parentNode}return null}function ss(r){if(r=r[Xt]||r[Mr]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function rr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function as(r){var a=r[Xc];return a||(a=r[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Qt(r){r[sa]=!0}var Qc=new Set,Jc={};function Pr(r,a){sr(r,a),sr(r+"Capture",a)}function sr(r,a){for(Jc[r]=a,r=0;r<a.length;r++)Qc.add(a[r])}var aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},$l={};function oa(r){return bi.call($l,r)?!0:bi.call(ql,r)?!1:aa.test(r)?$l[r]=!0:(ql[r]=!0,!1)}function it(r,a,c){if(oa(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function wt(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function Hn(r,a,c,p){if(p===null)r.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+p)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rr(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zl(r,a,c){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,S=p.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return x.call(this)},set:function(O){c=""+O,S.call(this,O)}}),Object.defineProperty(r,a,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function We(r){if(!r._valueTracker){var a=Rr(r)?"checked":"value";r._valueTracker=Zl(r,a,""+r[a])}}function Pt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return r&&(p=Rr(r)?r.checked?"true":"false":r.value),r=p,r!==c?(a.setValue(r),!0):!1}function os(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var uo=/[\n"\\]/g;function Mt(r){return r.replace(uo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Gl(r,a,c,p,x,S,O,V){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),a!=null?O==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+on(a)):r.value!==""+on(a)&&(r.value=""+on(a)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),a!=null?Ii(r,O,on(a)):c!=null?Ii(r,O,on(c)):p!=null&&r.removeAttribute("value"),x==null&&S!=null&&(r.defaultChecked=!!S),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?r.name=""+on(V):r.removeAttribute("name")}function la(r,a,c,p,x,S,O,V){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),a!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||a!=null)){We(r);return}c=c!=null?""+on(c):"",a=a!=null?""+on(a):c,V||a===r.value||(r.value=a),r.defaultValue=a}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=V?r.checked:!!p,r.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O),We(r)}function Ii(r,a,c){a==="number"&&os(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Et(r,a,c,p){if(r=r.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=a.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&p&&(r[c].defaultSelected=!0)}else{for(c=""+on(c),a=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,p&&(r[x].defaultSelected=!0);return}a!==null||r[x].disabled||(a=r[x])}a!==null&&(a.selected=!0)}}function ar(r,a,c){if(a!=null&&(a=""+on(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+on(c):""}function ls(r,a,c,p){if(a==null){if(p!=null){if(c!=null)throw Error(i(92));if(se(p)){if(1<p.length)throw Error(i(93));p=p[0]}c=p}c==null&&(c=""),a=c}c=on(a),r.defaultValue=c,p=r.textContent,p===c&&p!==""&&p!==null&&(r.value=p),We(r)}function xi(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function us(r,a,c){var p=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":p?r.setProperty(a,c):typeof c!="number"||c===0||Kl.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function co(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var x in a)p=a[x],a.hasOwnProperty(x)&&c[x]!==p&&us(r,x,p)}else for(var S in a)a.hasOwnProperty(S)&&us(r,S,a[S])}function ua(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(r){return Wl.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Fn(){}var fo=null;function ca(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ds=null,$e=null;function ri(r){var a=ss(r);if(a&&(r=a.stateNode)){var c=r[fn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Gl(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==r&&p.form===r.form){var x=p[fn]||null;if(!x)throw Error(i(90));Gl(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(a=0;a<c.length;a++)p=c[a],p.form===r.form&&Pt(p)}break e;case"textarea":ar(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Et(r,!!c.multiple,a,!1)}}}var yt=!1;function Yl(r,a,c){if(yt)return r(a,c);yt=!0;try{var p=r(a);return p}finally{if(yt=!1,(ds!==null||$e!==null)&&(Wd(),ds&&(a=ds,r=$e,$e=ds=null,ri(a),r)))for(a=0;a<r.length;a++)ri(r[a])}}function Dr(r,a){var c=r.stateNode;if(c===null)return null;var p=c[fn]||null;if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(si)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){da=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{da=!1}var _i=null,zr=null,Ft=null;function or(){if(Ft)return Ft;var r,a=zr,c=a.length,p,x="value"in _i?_i.value:_i.textContent,S=x.length;for(r=0;r<c&&a[r]===x[r];r++);var O=c-r;for(p=1;p<=O&&a[c-p]===x[S-p];p++);return Ft=x.slice(r,1<p?1-p:void 0)}function ha(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function fa(){return!0}function ed(){return!1}function bn(r){function a(c,p,x,S,O){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(c=r[V],this[V]=c?c(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fa:ed,this.isPropagationStopped=ed,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),a}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=bn(Vi),hs=v({},Vi,{view:0,detail:0}),ot=bn(hs),Xl,Rn,Ui,ma=v({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ui&&(Ui&&r.type==="mousemove"?(Xl=r.screenX-Ui.screenX,Rn=r.screenY-Ui.screenY):Rn=Xl=0,Ui=r),Xl)},movementY:function(r){return"movementY"in r?r.movementY:Rn}}),td=bn(ma),Ql=v({},ma,{dataTransfer:0}),Vf=bn(Ql),nd=v({},hs,{relatedTarget:0}),Jl=bn(nd),Uf=v({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=bn(Uf),Hf=v({},Vi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wi=bn(Hf),Ff=v({},Vi,{data:0}),tu=bn(Ff),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=rd[r])?!!a[r]:!1}function iu(){return nu}var sd=v({},hs,{key:function(r){if(r.key){var a=lr[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?id[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(r){return r.type==="keypress"?ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ad=bn(sd),qf=v({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=bn(qf),ru=v({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),$f=bn(ru),ld=v({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ud=bn(ld),po=v({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Br=bn(po),Zf=v({},Vi,{newState:0,oldState:0}),pa=bn(Zf),qn=[9,13,27,32],go=si&&"CompositionEvent"in window,fs=null;si&&"documentMode"in document&&(fs=document.documentMode);var Gf=si&&"TextEvent"in window&&!fs,yo=si&&(!go||fs&&8<fs&&11>=fs),vo=" ",cd=!1;function dd(r,a){switch(r){case"keyup":return qn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ms=!1;function oi(r,a){switch(r){case"compositionend":return su(a);case"keypress":return a.which!==32?null:(cd=!0,vo);case"textInput":return r=a.data,r===vo&&cd?null:r;default:return null}}function ps(r,a){if(ms)return r==="compositionend"||!go&&dd(r,a)?(r=or(),Ft=zr=_i=null,ms=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yo&&a.locale!=="ko"?null:a.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Si(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Kf[r.type]:a==="textarea"}function hd(r,a,c,p){ds?$e?$e.push(p):$e=[p]:ds=p,a=nh(a,"onChange"),0<a.length&&(c=new mo("onChange","change",null,c,p),r.push({event:c,listeners:a}))}var Ci=null,ga=null;function ya(r){hx(r,0)}function va(r){var a=rr(r);if(Pt(a))return r}function ba(r,a){if(r==="change")return a}var fd=!1;if(si){var ji;if(si){var gs="oninput"in document;if(!gs){var md=document.createElement("div");md.setAttribute("oninput","return;"),gs=typeof md.oninput=="function"}ji=gs}else ji=!1;fd=ji&&(!document.documentMode||9<document.documentMode)}function bo(){Ci&&(Ci.detachEvent("onpropertychange",pd),ga=Ci=null)}function pd(r){if(r.propertyName==="value"&&va(ga)){var a=[];hd(a,ga,r,ca(r)),Yl(ya,a)}}function Hi(r,a,c){r==="focusin"?(bo(),Ci=a,ga=c,Ci.attachEvent("onpropertychange",pd)):r==="focusout"&&bo()}function Wf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return va(ga)}function ys(r,a){if(r==="click")return va(a)}function Yf(r,a){if(r==="input"||r==="change")return va(a)}function Fi(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var mn=typeof Object.is=="function"?Object.is:Fi;function vs(r,a){if(mn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!bi.call(a,x)||!mn(r[x],a[x]))return!1}return!0}function xo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xa(r,a){var c=xo(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=a&&p>=a)return{node:c,offset:a-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xo(c)}}function _o(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?_o(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function _a(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=os(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=os(r.document)}return a}function ur(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var wo=si&&"documentMode"in document&&11>=document.documentMode,cr=null,So=null,wa=null,bs=!1;function gd(r,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;bs||cr==null||cr!==os(p)||(p=cr,"selectionStart"in p&&ur(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),wa&&vs(wa,p)||(wa=p,p=nh(So,"onSelect"),0<p.length&&(a=new mo("onSelect","select",null,a,c),r.push({event:a,listeners:p}),a.target=cr)))}function dr(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var xs={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},Co={},yd={};si&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function pn(r){if(Co[r])return Co[r];if(!xs[r])return r;var a=xs[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in yd)return Co[r]=a[c];return r}var Sa=pn("animationend"),vd=pn("animationiteration"),Ca=pn("animationstart"),Xf=pn("transitionrun"),bd=pn("transitionstart"),Qf=pn("transitioncancel"),_s=pn("transitionend"),xd=new Map,hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hr.push("scrollEnd");function $n(r,a){xd.set(r,a),Pr(a,[r])}var ja=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Zn=[],En=0,jo=0;function Ea(){for(var r=En,a=jo=En=0;a<r;){var c=Zn[a];Zn[a++]=null;var p=Zn[a];Zn[a++]=null;var x=Zn[a];Zn[a++]=null;var S=Zn[a];if(Zn[a++]=null,p!==null&&x!==null){var O=p.pending;O===null?x.next=x:(x.next=O.next,O.next=x),p.pending=x}S!==0&&ws(c,x,S)}}function fr(r,a,c,p){Zn[En++]=r,Zn[En++]=a,Zn[En++]=c,Zn[En++]=p,jo|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function au(r,a,c,p){return fr(r,a,c,p),ka(r)}function Ei(r,a){return fr(r,null,null,a),ka(r)}function ws(r,a,c){r.lanes|=c;var p=r.alternate;p!==null&&(p.lanes|=c);for(var x=!1,S=r.return;S!==null;)S.childLanes|=c,p=S.alternate,p!==null&&(p.childLanes|=c),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(x=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,x&&a!==null&&(x=31-vt(c),r=S.hiddenUpdates,p=r[x],p===null?r[x]=[a]:p.push(a),a.lane=c|536870912),S):null}function ka(r){if(50<Au)throw Au=0,ep=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Ir={};function Jf(r,a,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,a,c,p){return new Jf(r,a,c,p)}function Eo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ki(r,a){var c=r.alternate;return c===null?(c=kn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function ou(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Ta(r,a,c,p,x,S){var O=0;if(p=r,typeof r=="function")Eo(r)&&(O=1);else if(typeof r=="string")O=Vk(r,c,ue.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case G:return r=kn(31,c,a,x),r.elementType=G,r.lanes=S,r;case E:return Vr(c.children,x,S,a);case T:O=8,x|=24;break;case M:return r=kn(12,c,a,x|2),r.elementType=M,r.lanes=S,r;case H:return r=kn(13,c,a,x),r.elementType=H,r.lanes=S,r;case R:return r=kn(19,c,a,x),r.elementType=R,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:O=10;break e;case P:O=9;break e;case U:O=11;break e;case q:O=14;break e;case J:O=16,p=null;break e}O=29,c=Error(i(130,r===null?"null":typeof r,"")),p=null}return a=kn(O,c,a,x),a.elementType=r,a.type=p,a.lanes=S,a}function Vr(r,a,c,p){return r=kn(7,r,p,a),r.lanes=c,r}function ko(r,a,c){return r=kn(6,r,null,a),r.lanes=c,r}function lu(r){var a=kn(18,null,null,0);return a.stateNode=r,a}function uu(r,a,c){return a=kn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var l=new WeakMap;function m(r,a){if(typeof r=="object"&&r!==null){var c=l.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Pn(a)},l.set(r,a),a)}return{value:r,source:a,stack:Pn(a)}}var b=[],C=0,N=null,I=0,$=[],ae=0,he=null,we=1,Le="";function Be(r,a){b[C++]=I,b[C++]=N,N=r,I=a}function Je(r,a,c){$[ae++]=we,$[ae++]=Le,$[ae++]=he,he=r;var p=we;r=Le;var x=32-vt(p)-1;p&=~(1<<x),c+=1;var S=32-vt(a)+x;if(30<S){var O=x-x%5;S=(p&(1<<O)-1).toString(32),p>>=O,x-=O,we=1<<32-vt(a)+x|c<<x|p,Le=S+r}else we=1<<S|c<<x|p,Le=r}function ln(r){r.return!==null&&(Be(r,1),Je(r,1,0))}function qt(r){for(;r===N;)N=b[--C],b[C]=null,I=b[--C],b[C]=null;for(;r===he;)he=$[--ae],$[ae]=null,Le=$[--ae],$[ae]=null,we=$[--ae],$[ae]=null}function Dn(r,a){$[ae++]=we,$[ae++]=Le,$[ae++]=he,we=a.id,Le=a.overflow,he=r}var dt=null,ht=null,rt=!1,mr=null,Gn=!1,To=Error(i(519));function pr(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(m(a,r)),To}function cu(r){var a=r.stateNode,c=r.type,p=r.memoizedProps;switch(a[Xt]=r,a[fn]=p,c){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(c=0;c<Ou.length;c++)at(Ou[c],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":at("invalid",a),la(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":at("invalid",a);break;case"textarea":at("invalid",a),ls(a,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||p.suppressHydrationWarning===!0||gx(a.textContent,c)?(p.popover!=null&&(at("beforetoggle",a),at("toggle",a)),p.onScroll!=null&&at("scroll",a),p.onScrollEnd!=null&&at("scrollend",a),p.onClick!=null&&(a.onclick=Fn),a=!0):a=!1,a||pr(r,!0)}function It(r){for(dt=r.return;dt;)switch(dt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:dt=dt.return}}function qi(r){if(r!==dt)return!1;if(!rt)return It(r),rt=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||pp(r.type,r.memoizedProps)),c=!c),c&&ht&&pr(r),It(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ht=jx(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ht=jx(r)}else a===27?(a=ht,Ds(r.type)?(r=xp,xp=null,ht=r):ht=a):ht=dt?Li(r.stateNode.nextSibling):null;return!0}function Ur(){ht=dt=null,rt=!1}function du(){var r=mr;return r!==null&&(Xn===null?Xn=r:Xn.push.apply(Xn,r),mr=null),r}function La(r){mr===null?mr=[r]:mr.push(r)}var Na=z(null),gr=null,$i=null;function Ss(r,a,c){B(Na,a._currentValue),a._currentValue=c}function Hr(r){r._currentValue=Na.current,X(Na)}function em(r,a,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),r===c)break;r=r.return}}function tm(r,a,c,p){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var S=x.dependencies;if(S!==null){var O=x.child;S=S.firstContext;e:for(;S!==null;){var V=S;S=x;for(var K=0;K<a.length;K++)if(V.context===a[K]){S.lanes|=c,V=S.alternate,V!==null&&(V.lanes|=c),em(S.return,c,r),p||(O=null);break e}S=V.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(i(341));O.lanes|=c,S=O.alternate,S!==null&&(S.lanes|=c),em(O,c,r),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===r){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function Lo(r,a,c,p){r=null;for(var x=a,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var V=x.type;mn(x.pendingProps.value,O.value)||(r!==null?r.push(V):r=[V])}}else if(x===ye.current){if(O=x.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Bu):r=[Bu])}x=x.return}r!==null&&tm(a,r,c,p),a.flags|=262144}function _d(r){for(r=r.firstContext;r!==null;){if(!mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Aa(r){gr=r,$i=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return t0(gr,r)}function wd(r,a){return gr===null&&Aa(r),t0(r,a)}function t0(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},$i===null){if(r===null)throw Error(i(308));$i=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else $i=$i.next=a;return c}var DE=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,p){r.push(p)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},zE=e.unstable_scheduleCallback,BE=e.unstable_NormalPriority,Jt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new DE,data:new Map,refCount:0}}function hu(r){r.refCount--,r.refCount===0&&zE(BE,function(){r.controller.abort()})}var fu=null,im=0,No=0,Ao=null;function IE(r,a){if(fu===null){var c=fu=[];im=0,No=ap(),Ao={status:"pending",value:void 0,then:function(p){c.push(p)}}}return im++,a.then(n0,n0),a}function n0(){if(--im===0&&fu!==null){Ao!==null&&(Ao.status="fulfilled");var r=fu;fu=null,No=0,Ao=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function VE(r,a){var c=[],p={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return r.then(function(){p.status="fulfilled",p.value=a;for(var x=0;x<c.length;x++)(0,c[x])(a)},function(x){for(p.status="rejected",p.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),p}var i0=F.S;F.S=function(r,a){Vb=yn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&IE(r,a),i0!==null&&i0(r,a)};var Ma=z(null);function rm(){var r=Ma.current;return r!==null?r:kt.pooledCache}function Sd(r,a){a===null?B(Ma,Ma.current):B(Ma,a.pool)}function r0(){var r=rm();return r===null?null:{parent:Jt._currentValue,pool:r}}var Mo=Error(i(460)),sm=Error(i(474)),Cd=Error(i(542)),jd={then:function(){}};function s0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function a0(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Fn,Fn),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,l0(r),r;default:if(typeof a.status=="string")a.then(Fn,Fn);else{if(r=kt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(p){if(a.status==="pending"){var x=a;x.status="fulfilled",x.value=p}},function(p){if(a.status==="pending"){var x=a;x.status="rejected",x.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,l0(r),r}throw Pa=a,Mo}}function Oa(r){try{var a=r._init;return a(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Pa=c,Mo):c}}var Pa=null;function o0(){if(Pa===null)throw Error(i(459));var r=Pa;return Pa=null,r}function l0(r){if(r===Mo||r===Cd)throw Error(i(483))}var Oo=null,mu=0;function Ed(r){var a=mu;return mu+=1,Oo===null&&(Oo=[]),a0(Oo,r,a)}function pu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function kd(r,a){throw a.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function u0(r){function a(ie,Q){if(r){var ce=ie.deletions;ce===null?(ie.deletions=[Q],ie.flags|=16):ce.push(Q)}}function c(ie,Q){if(!r)return null;for(;Q!==null;)a(ie,Q),Q=Q.sibling;return null}function p(ie){for(var Q=new Map;ie!==null;)ie.key!==null?Q.set(ie.key,ie):Q.set(ie.index,ie),ie=ie.sibling;return Q}function x(ie,Q){return ie=ki(ie,Q),ie.index=0,ie.sibling=null,ie}function S(ie,Q,ce){return ie.index=ce,r?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<Q?(ie.flags|=67108866,Q):ce):(ie.flags|=67108866,Q)):(ie.flags|=1048576,Q)}function O(ie){return r&&ie.alternate===null&&(ie.flags|=67108866),ie}function V(ie,Q,ce,xe){return Q===null||Q.tag!==6?(Q=ko(ce,ie.mode,xe),Q.return=ie,Q):(Q=x(Q,ce),Q.return=ie,Q)}function K(ie,Q,ce,xe){var Ve=ce.type;return Ve===E?ve(ie,Q,ce.props.children,xe,ce.key):Q!==null&&(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===J&&Oa(Ve)===Q.type)?(Q=x(Q,ce.props),pu(Q,ce),Q.return=ie,Q):(Q=Ta(ce.type,ce.key,ce.props,null,ie.mode,xe),pu(Q,ce),Q.return=ie,Q)}function de(ie,Q,ce,xe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ce.containerInfo||Q.stateNode.implementation!==ce.implementation?(Q=uu(ce,ie.mode,xe),Q.return=ie,Q):(Q=x(Q,ce.children||[]),Q.return=ie,Q)}function ve(ie,Q,ce,xe,Ve){return Q===null||Q.tag!==7?(Q=Vr(ce,ie.mode,xe,Ve),Q.return=ie,Q):(Q=x(Q,ce),Q.return=ie,Q)}function Se(ie,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=ko(""+Q,ie.mode,ce),Q.return=ie,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return ce=Ta(Q.type,Q.key,Q.props,null,ie.mode,ce),pu(ce,Q),ce.return=ie,ce;case j:return Q=uu(Q,ie.mode,ce),Q.return=ie,Q;case J:return Q=Oa(Q),Se(ie,Q,ce)}if(se(Q)||ee(Q))return Q=Vr(Q,ie.mode,ce,null),Q.return=ie,Q;if(typeof Q.then=="function")return Se(ie,Ed(Q),ce);if(Q.$$typeof===A)return Se(ie,wd(ie,Q),ce);kd(ie,Q)}return null}function fe(ie,Q,ce,xe){var Ve=Q!==null?Q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ve!==null?null:V(ie,Q,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===Ve?K(ie,Q,ce,xe):null;case j:return ce.key===Ve?de(ie,Q,ce,xe):null;case J:return ce=Oa(ce),fe(ie,Q,ce,xe)}if(se(ce)||ee(ce))return Ve!==null?null:ve(ie,Q,ce,xe,null);if(typeof ce.then=="function")return fe(ie,Q,Ed(ce),xe);if(ce.$$typeof===A)return fe(ie,Q,wd(ie,ce),xe);kd(ie,ce)}return null}function me(ie,Q,ce,xe,Ve){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ie=ie.get(ce)||null,V(Q,ie,""+xe,Ve);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case _:return ie=ie.get(xe.key===null?ce:xe.key)||null,K(Q,ie,xe,Ve);case j:return ie=ie.get(xe.key===null?ce:xe.key)||null,de(Q,ie,xe,Ve);case J:return xe=Oa(xe),me(ie,Q,ce,xe,Ve)}if(se(xe)||ee(xe))return ie=ie.get(ce)||null,ve(Q,ie,xe,Ve,null);if(typeof xe.then=="function")return me(ie,Q,ce,Ed(xe),Ve);if(xe.$$typeof===A)return me(ie,Q,ce,wd(Q,xe),Ve);kd(Q,xe)}return null}function Pe(ie,Q,ce,xe){for(var Ve=null,ft=null,Re=Q,et=Q=0,ut=null;Re!==null&&et<ce.length;et++){Re.index>et?(ut=Re,Re=null):ut=Re.sibling;var mt=fe(ie,Re,ce[et],xe);if(mt===null){Re===null&&(Re=ut);break}r&&Re&&mt.alternate===null&&a(ie,Re),Q=S(mt,Q,et),ft===null?Ve=mt:ft.sibling=mt,ft=mt,Re=ut}if(et===ce.length)return c(ie,Re),rt&&Be(ie,et),Ve;if(Re===null){for(;et<ce.length;et++)Re=Se(ie,ce[et],xe),Re!==null&&(Q=S(Re,Q,et),ft===null?Ve=Re:ft.sibling=Re,ft=Re);return rt&&Be(ie,et),Ve}for(Re=p(Re);et<ce.length;et++)ut=me(Re,ie,et,ce[et],xe),ut!==null&&(r&&ut.alternate!==null&&Re.delete(ut.key===null?et:ut.key),Q=S(ut,Q,et),ft===null?Ve=ut:ft.sibling=ut,ft=ut);return r&&Re.forEach(function(Us){return a(ie,Us)}),rt&&Be(ie,et),Ve}function qe(ie,Q,ce,xe){if(ce==null)throw Error(i(151));for(var Ve=null,ft=null,Re=Q,et=Q=0,ut=null,mt=ce.next();Re!==null&&!mt.done;et++,mt=ce.next()){Re.index>et?(ut=Re,Re=null):ut=Re.sibling;var Us=fe(ie,Re,mt.value,xe);if(Us===null){Re===null&&(Re=ut);break}r&&Re&&Us.alternate===null&&a(ie,Re),Q=S(Us,Q,et),ft===null?Ve=Us:ft.sibling=Us,ft=Us,Re=ut}if(mt.done)return c(ie,Re),rt&&Be(ie,et),Ve;if(Re===null){for(;!mt.done;et++,mt=ce.next())mt=Se(ie,mt.value,xe),mt!==null&&(Q=S(mt,Q,et),ft===null?Ve=mt:ft.sibling=mt,ft=mt);return rt&&Be(ie,et),Ve}for(Re=p(Re);!mt.done;et++,mt=ce.next())mt=me(Re,ie,et,mt.value,xe),mt!==null&&(r&&mt.alternate!==null&&Re.delete(mt.key===null?et:mt.key),Q=S(mt,Q,et),ft===null?Ve=mt:ft.sibling=mt,ft=mt);return r&&Re.forEach(function(Xk){return a(ie,Xk)}),rt&&Be(ie,et),Ve}function jt(ie,Q,ce,xe){if(typeof ce=="object"&&ce!==null&&ce.type===E&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var Ve=ce.key;Q!==null;){if(Q.key===Ve){if(Ve=ce.type,Ve===E){if(Q.tag===7){c(ie,Q.sibling),xe=x(Q,ce.props.children),xe.return=ie,ie=xe;break e}}else if(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===J&&Oa(Ve)===Q.type){c(ie,Q.sibling),xe=x(Q,ce.props),pu(xe,ce),xe.return=ie,ie=xe;break e}c(ie,Q);break}else a(ie,Q);Q=Q.sibling}ce.type===E?(xe=Vr(ce.props.children,ie.mode,xe,ce.key),xe.return=ie,ie=xe):(xe=Ta(ce.type,ce.key,ce.props,null,ie.mode,xe),pu(xe,ce),xe.return=ie,ie=xe)}return O(ie);case j:e:{for(Ve=ce.key;Q!==null;){if(Q.key===Ve)if(Q.tag===4&&Q.stateNode.containerInfo===ce.containerInfo&&Q.stateNode.implementation===ce.implementation){c(ie,Q.sibling),xe=x(Q,ce.children||[]),xe.return=ie,ie=xe;break e}else{c(ie,Q);break}else a(ie,Q);Q=Q.sibling}xe=uu(ce,ie.mode,xe),xe.return=ie,ie=xe}return O(ie);case J:return ce=Oa(ce),jt(ie,Q,ce,xe)}if(se(ce))return Pe(ie,Q,ce,xe);if(ee(ce)){if(Ve=ee(ce),typeof Ve!="function")throw Error(i(150));return ce=Ve.call(ce),qe(ie,Q,ce,xe)}if(typeof ce.then=="function")return jt(ie,Q,Ed(ce),xe);if(ce.$$typeof===A)return jt(ie,Q,wd(ie,ce),xe);kd(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Q!==null&&Q.tag===6?(c(ie,Q.sibling),xe=x(Q,ce),xe.return=ie,ie=xe):(c(ie,Q),xe=ko(ce,ie.mode,xe),xe.return=ie,ie=xe),O(ie)):c(ie,Q)}return function(ie,Q,ce,xe){try{mu=0;var Ve=jt(ie,Q,ce,xe);return Oo=null,Ve}catch(Re){if(Re===Mo||Re===Cd)throw Re;var ft=kn(29,Re,null,ie.mode);return ft.lanes=xe,ft.return=ie,ft}finally{}}}var Ra=u0(!0),c0=u0(!1),Cs=!1;function am(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function js(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Es(r,a,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(pt&2)!==0){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,a=ka(r),ws(r,null,c),a}return fr(r,p,a,c),ka(r)}function gu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,Kc(r,c)}}function lm(r,a){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?x=S=O:S=S.next=O,c=c.next}while(c!==null);S===null?x=S=a:S=S.next=a}else x=S=a;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var um=!1;function yu(){if(um){var r=Ao;if(r!==null)throw r}}function vu(r,a,c,p){um=!1;var x=r.updateQueue;Cs=!1;var S=x.firstBaseUpdate,O=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var K=V,de=K.next;K.next=null,O===null?S=de:O.next=de,O=K;var ve=r.alternate;ve!==null&&(ve=ve.updateQueue,V=ve.lastBaseUpdate,V!==O&&(V===null?ve.firstBaseUpdate=de:V.next=de,ve.lastBaseUpdate=K))}if(S!==null){var Se=x.baseState;O=0,ve=de=K=null,V=S;do{var fe=V.lane&-536870913,me=fe!==V.lane;if(me?(lt&fe)===fe:(p&fe)===fe){fe!==0&&fe===No&&(um=!0),ve!==null&&(ve=ve.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Pe=r,qe=V;fe=a;var jt=c;switch(qe.tag){case 1:if(Pe=qe.payload,typeof Pe=="function"){Se=Pe.call(jt,Se,fe);break e}Se=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=qe.payload,fe=typeof Pe=="function"?Pe.call(jt,Se,fe):Pe,fe==null)break e;Se=v({},Se,fe);break e;case 2:Cs=!0}}fe=V.callback,fe!==null&&(r.flags|=64,me&&(r.flags|=8192),me=x.callbacks,me===null?x.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ve===null?(de=ve=me,K=Se):ve=ve.next=me,O|=fe;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;me=V,V=me.next,me.next=null,x.lastBaseUpdate=me,x.shared.pending=null}}while(!0);ve===null&&(K=Se),x.baseState=K,x.firstBaseUpdate=de,x.lastBaseUpdate=ve,S===null&&(x.shared.lanes=0),As|=O,r.lanes=O,r.memoizedState=Se}}function d0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function h0(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)d0(c[r],a)}var Po=z(null),Td=z(0);function f0(r,a){r=Xr,B(Td,r),B(Po,a),Xr=r|a.baseLanes}function cm(){B(Td,Xr),B(Po,Po.current)}function dm(){Xr=Td.current,X(Po),X(Td)}var li=z(null),Ti=null;function ks(r){var a=r.alternate;B(Kt,Kt.current&1),B(li,r),Ti===null&&(a===null||Po.current!==null||a.memoizedState!==null)&&(Ti=r)}function hm(r){B(Kt,Kt.current),B(li,r),Ti===null&&(Ti=r)}function m0(r){r.tag===22?(B(Kt,Kt.current),B(li,r),Ti===null&&(Ti=r)):Ts()}function Ts(){B(Kt,Kt.current),B(li,li.current)}function ui(r){X(li),Ti===r&&(Ti=null),X(Kt)}var Kt=z(0);function Ld(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||vp(c)||bp(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fr=0,Qe=null,St=null,en=null,Nd=!1,Ro=!1,Da=!1,Ad=0,bu=0,Do=null,UE=0;function $t(){throw Error(i(321))}function fm(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!mn(r[c],a[c]))return!1;return!0}function mm(r,a,c,p,x,S){return Fr=S,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=r===null||r.memoizedState===null?X0:Lm,Da=!1,S=c(p,x),Da=!1,Ro&&(S=g0(a,c,p,x)),p0(r),S}function p0(r){F.H=wu;var a=St!==null&&St.next!==null;if(Fr=0,en=St=Qe=null,Nd=!1,bu=0,Do=null,a)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&_d(r)&&(tn=!0))}function g0(r,a,c,p){Qe=r;var x=0;do{if(Ro&&(Do=null),bu=0,Ro=!1,25<=x)throw Error(i(301));if(x+=1,en=St=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}F.H=Q0,S=a(c,p)}while(Ro);return S}function HE(){var r=F.H,a=r.useState()[0];return a=typeof a.then=="function"?xu(a):a,r=r.useState()[0],(St!==null?St.memoizedState:null)!==r&&(Qe.flags|=1024),a}function pm(){var r=Ad!==0;return Ad=0,r}function gm(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function ym(r){if(Nd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Nd=!1}Fr=0,en=St=Qe=null,Ro=!1,bu=Ad=0,Do=null}function zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Qe.memoizedState=en=r:en=en.next=r,en}function Wt(){if(St===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var a=en===null?Qe.memoizedState:en.next;if(a!==null)en=a,St=r;else{if(r===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},en===null?Qe.memoizedState=en=r:en=en.next=r}return en}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(r){var a=bu;return bu+=1,Do===null&&(Do=[]),r=a0(Do,r,a),a=Qe,(en===null?a.memoizedState:en.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?X0:Lm),r}function Od(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xu(r);if(r.$$typeof===A)return xn(r)}throw Error(i(438,String(r)))}function vm(r){var a=null,c=Qe.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var p=Qe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(x){return x.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Md(),Qe.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),p=0;p<r;p++)c[p]=re;return a.index++,c}function qr(r,a){return typeof a=="function"?a(r):a}function Pd(r){var a=Wt();return bm(a,St,r)}function bm(r,a,c){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=c;var x=r.baseQueue,S=p.pending;if(S!==null){if(x!==null){var O=x.next;x.next=S.next,S.next=O}a.baseQueue=x=S,p.pending=null}if(S=r.baseState,x===null)r.memoizedState=S;else{a=x.next;var V=O=null,K=null,de=a,ve=!1;do{var Se=de.lane&-536870913;if(Se!==de.lane?(lt&Se)===Se:(Fr&Se)===Se){var fe=de.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Se===No&&(ve=!0);else if((Fr&fe)===fe){de=de.next,fe===No&&(ve=!0);continue}else Se={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},K===null?(V=K=Se,O=S):K=K.next=Se,Qe.lanes|=fe,As|=fe;Se=de.action,Da&&c(S,Se),S=de.hasEagerState?de.eagerState:c(S,Se)}else fe={lane:Se,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},K===null?(V=K=fe,O=S):K=K.next=fe,Qe.lanes|=Se,As|=Se;de=de.next}while(de!==null&&de!==a);if(K===null?O=S:K.next=V,!mn(S,r.memoizedState)&&(tn=!0,ve&&(c=Ao,c!==null)))throw c;r.memoizedState=S,r.baseState=O,r.baseQueue=K,p.lastRenderedState=S}return x===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function xm(r){var a=Wt(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var p=c.dispatch,x=c.pending,S=a.memoizedState;if(x!==null){c.pending=null;var O=x=x.next;do S=r(S,O.action),O=O.next;while(O!==x);mn(S,a.memoizedState)||(tn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),c.lastRenderedState=S}return[S,p]}function y0(r,a,c){var p=Qe,x=Wt(),S=rt;if(S){if(c===void 0)throw Error(i(407));c=c()}else c=a();var O=!mn((St||x).memoizedState,c);if(O&&(x.memoizedState=c,tn=!0),x=x.queue,Sm(x0.bind(null,p,x,r),[r]),x.getSnapshot!==a||O||en!==null&&en.memoizedState.tag&1){if(p.flags|=2048,zo(9,{destroy:void 0},b0.bind(null,p,x,c,a),null),kt===null)throw Error(i(349));S||(Fr&127)!==0||v0(p,a,c)}return c}function v0(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Qe.updateQueue,a===null?(a=Md(),Qe.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function b0(r,a,c,p){a.value=c,a.getSnapshot=p,_0(a)&&w0(r)}function x0(r,a,c){return c(function(){_0(a)&&w0(r)})}function _0(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!mn(r,c)}catch{return!0}}function w0(r){var a=Ei(r,2);a!==null&&Qn(a,r,2)}function _m(r){var a=zn();if(typeof r=="function"){var c=r;if(r=c(),Da){vn(!0);try{c()}finally{vn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:r},a}function S0(r,a,c,p){return r.baseState=c,bm(r,St,typeof p=="function"?p:qr)}function FE(r,a,c,p,x){if(zd(r))throw Error(i(485));if(r=a.action,r!==null){var S={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};F.T!==null?c(!0):S.isTransition=!1,p(S),c=a.pending,c===null?(S.next=a.pending=S,C0(a,S)):(S.next=c.next,a.pending=c.next=S)}}function C0(r,a){var c=a.action,p=a.payload,x=r.state;if(a.isTransition){var S=F.T,O={};F.T=O;try{var V=c(x,p),K=F.S;K!==null&&K(O,V),j0(r,a,V)}catch(de){wm(r,a,de)}finally{S!==null&&O.types!==null&&(S.types=O.types),F.T=S}}else try{S=c(x,p),j0(r,a,S)}catch(de){wm(r,a,de)}}function j0(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){E0(r,a,p)},function(p){return wm(r,a,p)}):E0(r,a,c)}function E0(r,a,c){a.status="fulfilled",a.value=c,k0(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,C0(r,c)))}function wm(r,a,c){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=c,k0(a),a=a.next;while(a!==p)}r.action=null}function k0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function T0(r,a){return a}function L0(r,a){if(rt){var c=kt.formState;if(c!==null){e:{var p=Qe;if(rt){if(ht){t:{for(var x=ht,S=Gn;x.nodeType!==8;){if(!S){x=null;break t}if(x=Li(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){ht=Li(x.nextSibling),p=x.data==="F!";break e}}pr(p)}p=!1}p&&(a=c[0])}}return c=zn(),c.memoizedState=c.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:a},c.queue=p,c=K0.bind(null,Qe,p),p.dispatch=c,p=_m(!1),S=Tm.bind(null,Qe,!1,p.queue),p=zn(),x={state:a,dispatch:null,action:r,pending:null},p.queue=x,c=FE.bind(null,Qe,x,S,c),x.dispatch=c,p.memoizedState=r,[a,c,!1]}function N0(r){var a=Wt();return A0(a,St,r)}function A0(r,a,c){if(a=bm(r,a,T0)[0],r=Pd(qr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=xu(a)}catch(O){throw O===Mo?Cd:O}else p=a;a=Wt();var x=a.queue,S=x.dispatch;return c!==a.memoizedState&&(Qe.flags|=2048,zo(9,{destroy:void 0},qE.bind(null,x,c),null)),[p,S,r]}function qE(r,a){r.action=a}function M0(r){var a=Wt(),c=St;if(c!==null)return A0(a,c,r);Wt(),a=a.memoizedState,c=Wt();var p=c.queue.dispatch;return c.memoizedState=r,[a,p,!1]}function zo(r,a,c,p){return r={tag:r,create:c,deps:p,inst:a,next:null},a=Qe.updateQueue,a===null&&(a=Md(),Qe.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,a.lastEffect=r),r}function O0(){return Wt().memoizedState}function Rd(r,a,c,p){var x=zn();Qe.flags|=r,x.memoizedState=zo(1|a,{destroy:void 0},c,p===void 0?null:p)}function Dd(r,a,c,p){var x=Wt();p=p===void 0?null:p;var S=x.memoizedState.inst;St!==null&&p!==null&&fm(p,St.memoizedState.deps)?x.memoizedState=zo(a,S,c,p):(Qe.flags|=r,x.memoizedState=zo(1|a,S,c,p))}function P0(r,a){Rd(8390656,8,r,a)}function Sm(r,a){Dd(2048,8,r,a)}function $E(r){Qe.flags|=4;var a=Qe.updateQueue;if(a===null)a=Md(),Qe.updateQueue=a,a.events=[r];else{var c=a.events;c===null?a.events=[r]:c.push(r)}}function R0(r){var a=Wt().memoizedState;return $E({ref:a,nextImpl:r}),function(){if((pt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function D0(r,a){return Dd(4,2,r,a)}function z0(r,a){return Dd(4,4,r,a)}function B0(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function I0(r,a,c){c=c!=null?c.concat([r]):null,Dd(4,4,B0.bind(null,a,r),c)}function Cm(){}function V0(r,a){var c=Wt();a=a===void 0?null:a;var p=c.memoizedState;return a!==null&&fm(a,p[1])?p[0]:(c.memoizedState=[r,a],r)}function U0(r,a){var c=Wt();a=a===void 0?null:a;var p=c.memoizedState;if(a!==null&&fm(a,p[1]))return p[0];if(p=r(),Da){vn(!0);try{r()}finally{vn(!1)}}return c.memoizedState=[p,a],p}function jm(r,a,c){return c===void 0||(Fr&1073741824)!==0&&(lt&261930)===0?r.memoizedState=a:(r.memoizedState=c,r=Hb(),Qe.lanes|=r,As|=r,c)}function H0(r,a,c,p){return mn(c,a)?c:Po.current!==null?(r=jm(r,c,p),mn(r,a)||(tn=!0),r):(Fr&42)===0||(Fr&1073741824)!==0&&(lt&261930)===0?(tn=!0,r.memoizedState=c):(r=Hb(),Qe.lanes|=r,As|=r,a)}function F0(r,a,c,p,x){var S=Z.p;Z.p=S!==0&&8>S?S:8;var O=F.T,V={};F.T=V,Tm(r,!1,a,c);try{var K=x(),de=F.S;if(de!==null&&de(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ve=VE(K,p);_u(r,a,ve,hi(r))}else _u(r,a,p,hi(r))}catch(Se){_u(r,a,{then:function(){},status:"rejected",reason:Se},hi())}finally{Z.p=S,O!==null&&V.types!==null&&(O.types=V.types),F.T=O}}function ZE(){}function Em(r,a,c,p){if(r.tag!==5)throw Error(i(476));var x=q0(r).queue;F0(r,x,a,ne,c===null?ZE:function(){return $0(r),c(p)})}function q0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:ne},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function $0(r){var a=q0(r);a.next===null&&(a=r.alternate.memoizedState),_u(r,a.next.queue,{},hi())}function km(){return xn(Bu)}function Z0(){return Wt().memoizedState}function G0(){return Wt().memoizedState}function GE(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=hi();r=js(c);var p=Es(a,r,c);p!==null&&(Qn(p,a,c),gu(p,a,c)),a={cache:nm()},r.payload=a;return}a=a.return}}function KE(r,a,c){var p=hi();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zd(r)?W0(a,c):(c=au(r,a,c,p),c!==null&&(Qn(c,r,p),Y0(c,a,p)))}function K0(r,a,c){var p=hi();_u(r,a,c,p)}function _u(r,a,c,p){var x={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(zd(r))W0(a,x);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var O=a.lastRenderedState,V=S(O,c);if(x.hasEagerState=!0,x.eagerState=V,mn(V,O))return fr(r,a,x,0),kt===null&&Ea(),!1}catch{}finally{}if(c=au(r,a,x,p),c!==null)return Qn(c,r,p),Y0(c,a,p),!0}return!1}function Tm(r,a,c,p){if(p={lane:2,revertLane:ap(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zd(r)){if(a)throw Error(i(479))}else a=au(r,c,p,2),a!==null&&Qn(a,r,2)}function zd(r){var a=r.alternate;return r===Qe||a!==null&&a===Qe}function W0(r,a){Ro=Nd=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function Y0(r,a,c){if((c&4194048)!==0){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,Kc(r,c)}}var wu={readContext:xn,use:Od,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};wu.useEffectEvent=$t;var X0={readContext:xn,use:Od,useCallback:function(r,a){return zn().memoizedState=[r,a===void 0?null:a],r},useContext:xn,useEffect:P0,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Rd(4194308,4,B0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Rd(4194308,4,r,a)},useInsertionEffect:function(r,a){Rd(4,2,r,a)},useMemo:function(r,a){var c=zn();a=a===void 0?null:a;var p=r();if(Da){vn(!0);try{r()}finally{vn(!1)}}return c.memoizedState=[p,a],p},useReducer:function(r,a,c){var p=zn();if(c!==void 0){var x=c(a);if(Da){vn(!0);try{c(a)}finally{vn(!1)}}}else x=a;return p.memoizedState=p.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},p.queue=r,r=r.dispatch=KE.bind(null,Qe,r),[p.memoizedState,r]},useRef:function(r){var a=zn();return r={current:r},a.memoizedState=r},useState:function(r){r=_m(r);var a=r.queue,c=K0.bind(null,Qe,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Cm,useDeferredValue:function(r,a){var c=zn();return jm(c,r,a)},useTransition:function(){var r=_m(!1);return r=F0.bind(null,Qe,r.queue,!0,!1),zn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var p=Qe,x=zn();if(rt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),kt===null)throw Error(i(349));(lt&127)!==0||v0(p,a,c)}x.memoizedState=c;var S={value:c,getSnapshot:a};return x.queue=S,P0(x0.bind(null,p,S,r),[r]),p.flags|=2048,zo(9,{destroy:void 0},b0.bind(null,p,S,c,a),null),c},useId:function(){var r=zn(),a=kt.identifierPrefix;if(rt){var c=Le,p=we;c=(p&~(1<<32-vt(p)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Ad++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=UE++,a="_"+a+"r_"+c.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:km,useFormState:L0,useActionState:L0,useOptimistic:function(r){var a=zn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Tm.bind(null,Qe,!0,c),c.dispatch=a,[r,a]},useMemoCache:vm,useCacheRefresh:function(){return zn().memoizedState=GE.bind(null,Qe)},useEffectEvent:function(r){var a=zn(),c={impl:r};return a.memoizedState=c,function(){if((pt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Lm={readContext:xn,use:Od,useCallback:V0,useContext:xn,useEffect:Sm,useImperativeHandle:I0,useInsertionEffect:D0,useLayoutEffect:z0,useMemo:U0,useReducer:Pd,useRef:O0,useState:function(){return Pd(qr)},useDebugValue:Cm,useDeferredValue:function(r,a){var c=Wt();return H0(c,St.memoizedState,r,a)},useTransition:function(){var r=Pd(qr)[0],a=Wt().memoizedState;return[typeof r=="boolean"?r:xu(r),a]},useSyncExternalStore:y0,useId:Z0,useHostTransitionStatus:km,useFormState:N0,useActionState:N0,useOptimistic:function(r,a){var c=Wt();return S0(c,St,r,a)},useMemoCache:vm,useCacheRefresh:G0};Lm.useEffectEvent=R0;var Q0={readContext:xn,use:Od,useCallback:V0,useContext:xn,useEffect:Sm,useImperativeHandle:I0,useInsertionEffect:D0,useLayoutEffect:z0,useMemo:U0,useReducer:xm,useRef:O0,useState:function(){return xm(qr)},useDebugValue:Cm,useDeferredValue:function(r,a){var c=Wt();return St===null?jm(c,r,a):H0(c,St.memoizedState,r,a)},useTransition:function(){var r=xm(qr)[0],a=Wt().memoizedState;return[typeof r=="boolean"?r:xu(r),a]},useSyncExternalStore:y0,useId:Z0,useHostTransitionStatus:km,useFormState:M0,useActionState:M0,useOptimistic:function(r,a){var c=Wt();return St!==null?S0(c,St,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:vm,useCacheRefresh:G0};Q0.useEffectEvent=R0;function Nm(r,a,c,p){a=r.memoizedState,c=c(p,a),c=c==null?a:v({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Am={enqueueSetState:function(r,a,c){r=r._reactInternals;var p=hi(),x=js(p);x.payload=a,c!=null&&(x.callback=c),a=Es(r,x,p),a!==null&&(Qn(a,r,p),gu(a,r,p))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var p=hi(),x=js(p);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Es(r,x,p),a!==null&&(Qn(a,r,p),gu(a,r,p))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=hi(),p=js(c);p.tag=2,a!=null&&(p.callback=a),a=Es(r,p,c),a!==null&&(Qn(a,r,c),gu(a,r,c))}};function J0(r,a,c,p,x,S,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,S,O):a.prototype&&a.prototype.isPureReactComponent?!vs(c,p)||!vs(x,S):!0}function eb(r,a,c,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==r&&Am.enqueueReplaceState(a,a.state,null)}function za(r,a){var c=a;if("ref"in a){c={};for(var p in a)p!=="ref"&&(c[p]=a[p])}if(r=r.defaultProps){c===a&&(c=v({},c));for(var x in r)c[x]===void 0&&(c[x]=r[x])}return c}function tb(r){ja(r)}function nb(r){console.error(r)}function ib(r){ja(r)}function Bd(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function rb(r,a,c){try{var p=r.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Mm(r,a,c){return c=js(c),c.tag=3,c.payload={element:null},c.callback=function(){Bd(r,a)},c}function sb(r){return r=js(r),r.tag=3,r}function ab(r,a,c,p){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var S=p.value;r.payload=function(){return x(S)},r.callback=function(){rb(a,c,p)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){rb(a,c,p),typeof x!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})})}function WE(r,a,c,p,x){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=c.alternate,a!==null&&Lo(a,c,x,!0),c=li.current,c!==null){switch(c.tag){case 31:case 13:return Ti===null?Yd():c.alternate===null&&Zt===0&&(Zt=3),c.flags&=-257,c.flags|=65536,c.lanes=x,p===jd?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([p]):a.add(p),ip(r,p,x)),!1;case 22:return c.flags|=65536,p===jd?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([p]):c.add(p)),ip(r,p,x)),!1}throw Error(i(435,c.tag))}return ip(r,p,x),Yd(),!1}if(rt)return a=li.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=x,p!==To&&(r=Error(i(422),{cause:p}),La(m(r,c)))):(p!==To&&(a=Error(i(423),{cause:p}),La(m(a,c))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,p=m(p,c),x=Mm(r.stateNode,p,x),lm(r,x),Zt!==4&&(Zt=2)),!1;var S=Error(i(520),{cause:p});if(S=m(S,c),Nu===null?Nu=[S]:Nu.push(S),Zt!==4&&(Zt=2),a===null)return!0;p=m(p,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=x&-x,c.lanes|=r,r=Mm(c.stateNode,p,r),lm(c,r),!1;case 1:if(a=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ms===null||!Ms.has(S))))return c.flags|=65536,x&=-x,c.lanes|=x,x=sb(x),ab(x,r,c,p),lm(c,x),!1}c=c.return}while(c!==null);return!1}var Om=Error(i(461)),tn=!1;function _n(r,a,c,p){a.child=r===null?c0(a,null,c,p):Ra(a,r.child,c,p)}function ob(r,a,c,p,x){c=c.render;var S=a.ref;if("ref"in p){var O={};for(var V in p)V!=="ref"&&(O[V]=p[V])}else O=p;return Aa(a),p=mm(r,a,c,O,S,x),V=pm(),r!==null&&!tn?(gm(r,a,x),$r(r,a,x)):(rt&&V&&ln(a),a.flags|=1,_n(r,a,p,x),a.child)}function lb(r,a,c,p,x){if(r===null){var S=c.type;return typeof S=="function"&&!Eo(S)&&S.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=S,ub(r,a,S,p,x)):(r=Ta(c.type,null,p,a,a.mode,x),r.ref=a.ref,r.return=a,a.child=r)}if(S=r.child,!Um(r,x)){var O=S.memoizedProps;if(c=c.compare,c=c!==null?c:vs,c(O,p)&&r.ref===a.ref)return $r(r,a,x)}return a.flags|=1,r=ki(S,p),r.ref=a.ref,r.return=a,a.child=r}function ub(r,a,c,p,x){if(r!==null){var S=r.memoizedProps;if(vs(S,p)&&r.ref===a.ref)if(tn=!1,a.pendingProps=p=S,Um(r,x))(r.flags&131072)!==0&&(tn=!0);else return a.lanes=r.lanes,$r(r,a,x)}return Pm(r,a,c,p,x)}function cb(r,a,c,p){var x=p.children,S=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((a.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,r!==null){for(p=a.child=r.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~S}else p=0,a.child=null;return db(r,a,S,c,p)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sd(a,S!==null?S.cachePool:null),S!==null?f0(a,S):cm(),m0(a);else return p=a.lanes=536870912,db(r,a,S!==null?S.baseLanes|c:c,c,p)}else S!==null?(Sd(a,S.cachePool),f0(a,S),Ts(),a.memoizedState=null):(r!==null&&Sd(a,null),cm(),Ts());return _n(r,a,x,c),a.child}function Su(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function db(r,a,c,p,x){var S=rm();return S=S===null?null:{parent:Jt._currentValue,pool:S},a.memoizedState={baseLanes:c,cachePool:S},r!==null&&Sd(a,null),cm(),m0(a),r!==null&&Lo(r,a,p,!0),a.childLanes=x,null}function Id(r,a){return a=Ud({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function hb(r,a,c){return Ra(a,r.child,null,c),r=Id(a,a.pendingProps),r.flags|=2,ui(a),a.memoizedState=null,r}function YE(r,a,c){var p=a.pendingProps,x=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(rt){if(p.mode==="hidden")return r=Id(a,p),a.lanes=536870912,Su(null,r);if(hm(a),(r=ht)?(r=Cx(r,Gn),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:he!==null?{id:we,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},c=lu(r),c.return=a,a.child=c,dt=a,ht=null)):r=null,r===null)throw pr(a);return a.lanes=536870912,null}return Id(a,p)}var S=r.memoizedState;if(S!==null){var O=S.dehydrated;if(hm(a),x)if(a.flags&256)a.flags&=-257,a=hb(r,a,c);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(tn||Lo(r,a,c,!1),x=(c&r.childLanes)!==0,tn||x){if(p=kt,p!==null&&(O=Wc(p,c),O!==0&&O!==S.retryLane))throw S.retryLane=O,Ei(r,O),Qn(p,r,O),Om;Yd(),a=hb(r,a,c)}else r=S.treeContext,ht=Li(O.nextSibling),dt=a,rt=!0,mr=null,Gn=!1,r!==null&&Dn(a,r),a=Id(a,p),a.flags|=4096;return a}return r=ki(r.child,{mode:p.mode,children:p.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Vd(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function Pm(r,a,c,p,x){return Aa(a),c=mm(r,a,c,p,void 0,x),p=pm(),r!==null&&!tn?(gm(r,a,x),$r(r,a,x)):(rt&&p&&ln(a),a.flags|=1,_n(r,a,c,x),a.child)}function fb(r,a,c,p,x,S){return Aa(a),a.updateQueue=null,c=g0(a,p,c,x),p0(r),p=pm(),r!==null&&!tn?(gm(r,a,S),$r(r,a,S)):(rt&&p&&ln(a),a.flags|=1,_n(r,a,c,S),a.child)}function mb(r,a,c,p,x){if(Aa(a),a.stateNode===null){var S=Ir,O=c.contextType;typeof O=="object"&&O!==null&&(S=xn(O)),S=new c(p,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Am,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=p,S.state=a.memoizedState,S.refs={},am(a),O=c.contextType,S.context=typeof O=="object"&&O!==null?xn(O):Ir,S.state=a.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(Nm(a,c,O,p),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Am.enqueueReplaceState(S,S.state,null),vu(a,p,S,x),yu(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(r===null){S=a.stateNode;var V=a.memoizedProps,K=za(c,V);S.props=K;var de=S.context,ve=c.contextType;O=Ir,typeof ve=="object"&&ve!==null&&(O=xn(ve));var Se=c.getDerivedStateFromProps;ve=typeof Se=="function"||typeof S.getSnapshotBeforeUpdate=="function",V=a.pendingProps!==V,ve||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V||de!==O)&&eb(a,S,p,O),Cs=!1;var fe=a.memoizedState;S.state=fe,vu(a,p,S,x),yu(),de=a.memoizedState,V||fe!==de||Cs?(typeof Se=="function"&&(Nm(a,c,Se,p),de=a.memoizedState),(K=Cs||J0(a,c,K,p,fe,de,O))?(ve||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=de),S.props=p,S.state=de,S.context=O,p=K):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,om(r,a),O=a.memoizedProps,ve=za(c,O),S.props=ve,Se=a.pendingProps,fe=S.context,de=c.contextType,K=Ir,typeof de=="object"&&de!==null&&(K=xn(de)),V=c.getDerivedStateFromProps,(de=typeof V=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==Se||fe!==K)&&eb(a,S,p,K),Cs=!1,fe=a.memoizedState,S.state=fe,vu(a,p,S,x),yu();var me=a.memoizedState;O!==Se||fe!==me||Cs||r!==null&&r.dependencies!==null&&_d(r.dependencies)?(typeof V=="function"&&(Nm(a,c,V,p),me=a.memoizedState),(ve=Cs||J0(a,c,ve,p,fe,me,K)||r!==null&&r.dependencies!==null&&_d(r.dependencies))?(de||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,me,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,me,K)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===r.memoizedProps&&fe===r.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&fe===r.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=me),S.props=p,S.state=me,S.context=K,p=ve):(typeof S.componentDidUpdate!="function"||O===r.memoizedProps&&fe===r.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&fe===r.memoizedState||(a.flags|=1024),p=!1)}return S=p,Vd(r,a),p=(a.flags&128)!==0,S||p?(S=a.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,r!==null&&p?(a.child=Ra(a,r.child,null,x),a.child=Ra(a,null,c,x)):_n(r,a,c,x),a.memoizedState=S.state,r=a.child):r=$r(r,a,x),r}function pb(r,a,c,p){return Ur(),a.flags|=256,_n(r,a,c,p),a.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(r){return{baseLanes:r,cachePool:r0()}}function zm(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=di),r}function gb(r,a,c){var p=a.pendingProps,x=!1,S=(a.flags&128)!==0,O;if((O=S)||(O=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),O&&(x=!0,a.flags&=-129),O=(a.flags&32)!==0,a.flags&=-33,r===null){if(rt){if(x?ks(a):Ts(),(r=ht)?(r=Cx(r,Gn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:he!==null?{id:we,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},c=lu(r),c.return=a,a.child=c,dt=a,ht=null)):r=null,r===null)throw pr(a);return bp(r)?a.lanes=32:a.lanes=536870912,null}var V=p.children;return p=p.fallback,x?(Ts(),x=a.mode,V=Ud({mode:"hidden",children:V},x),p=Vr(p,x,c,null),V.return=a,p.return=a,V.sibling=p,a.child=V,p=a.child,p.memoizedState=Dm(c),p.childLanes=zm(r,O,c),a.memoizedState=Rm,Su(null,p)):(ks(a),Bm(a,V))}var K=r.memoizedState;if(K!==null&&(V=K.dehydrated,V!==null)){if(S)a.flags&256?(ks(a),a.flags&=-257,a=Im(r,a,c)):a.memoizedState!==null?(Ts(),a.child=r.child,a.flags|=128,a=null):(Ts(),V=p.fallback,x=a.mode,p=Ud({mode:"visible",children:p.children},x),V=Vr(V,x,c,null),V.flags|=2,p.return=a,V.return=a,p.sibling=V,a.child=p,Ra(a,r.child,null,c),p=a.child,p.memoizedState=Dm(c),p.childLanes=zm(r,O,c),a.memoizedState=Rm,a=Su(null,p));else if(ks(a),bp(V)){if(O=V.nextSibling&&V.nextSibling.dataset,O)var de=O.dgst;O=de,p=Error(i(419)),p.stack="",p.digest=O,La({value:p,source:null,stack:null}),a=Im(r,a,c)}else if(tn||Lo(r,a,c,!1),O=(c&r.childLanes)!==0,tn||O){if(O=kt,O!==null&&(p=Wc(O,c),p!==0&&p!==K.retryLane))throw K.retryLane=p,Ei(r,p),Qn(O,r,p),Om;vp(V)||Yd(),a=Im(r,a,c)}else vp(V)?(a.flags|=192,a.child=r.child,a=null):(r=K.treeContext,ht=Li(V.nextSibling),dt=a,rt=!0,mr=null,Gn=!1,r!==null&&Dn(a,r),a=Bm(a,p.children),a.flags|=4096);return a}return x?(Ts(),V=p.fallback,x=a.mode,K=r.child,de=K.sibling,p=ki(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,de!==null?V=ki(de,V):(V=Vr(V,x,c,null),V.flags|=2),V.return=a,p.return=a,p.sibling=V,a.child=p,Su(null,p),p=a.child,V=r.child.memoizedState,V===null?V=Dm(c):(x=V.cachePool,x!==null?(K=Jt._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=r0(),V={baseLanes:V.baseLanes|c,cachePool:x}),p.memoizedState=V,p.childLanes=zm(r,O,c),a.memoizedState=Rm,Su(r.child,p)):(ks(a),c=r.child,r=c.sibling,c=ki(c,{mode:"visible",children:p.children}),c.return=a,c.sibling=null,r!==null&&(O=a.deletions,O===null?(a.deletions=[r],a.flags|=16):O.push(r)),a.child=c,a.memoizedState=null,c)}function Bm(r,a){return a=Ud({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Ud(r,a){return r=kn(22,r,null,a),r.lanes=0,r}function Im(r,a,c){return Ra(a,r.child,null,c),r=Bm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function yb(r,a,c){r.lanes|=a;var p=r.alternate;p!==null&&(p.lanes|=a),em(r.return,a,c)}function Vm(r,a,c,p,x,S){var O=r.memoizedState;O===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x,treeForkCount:S}:(O.isBackwards=a,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=c,O.tailMode=x,O.treeForkCount=S)}function vb(r,a,c){var p=a.pendingProps,x=p.revealOrder,S=p.tail;p=p.children;var O=Kt.current,V=(O&2)!==0;if(V?(O=O&1|2,a.flags|=128):O&=1,B(Kt,O),_n(r,a,p,c),p=rt?I:0,!V&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yb(r,c,a);else if(r.tag===19)yb(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(x){case"forwards":for(c=a.child,x=null;c!==null;)r=c.alternate,r!==null&&Ld(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),Vm(a,!1,x,c,S,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(r=x.alternate,r!==null&&Ld(r)===null){a.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}Vm(a,!0,c,null,S,p);break;case"together":Vm(a,!1,null,null,void 0,p);break;default:a.memoizedState=null}return a.child}function $r(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),As|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Lo(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=ki(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=ki(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Um(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&_d(r)))}function XE(r,a,c){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),Ss(a,Jt,r.memoizedState.cache),Ur();break;case 27:case 5:je(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:Ss(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,hm(a),null;break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(ks(a),a.flags|=128,null):(c&a.child.childLanes)!==0?gb(r,a,c):(ks(a),r=$r(r,a,c),r!==null?r.sibling:null);ks(a);break;case 19:var x=(r.flags&128)!==0;if(p=(c&a.childLanes)!==0,p||(Lo(r,a,c,!1),p=(c&a.childLanes)!==0),x){if(p)return vb(r,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),B(Kt,Kt.current),p)break;return null;case 22:return a.lanes=0,cb(r,a,c,a.pendingProps);case 24:Ss(a,Jt,r.memoizedState.cache)}return $r(r,a,c)}function bb(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)tn=!0;else{if(!Um(r,c)&&(a.flags&128)===0)return tn=!1,XE(r,a,c);tn=(r.flags&131072)!==0}else tn=!1,rt&&(a.flags&1048576)!==0&&Je(a,I,a.index);switch(a.lanes=0,a.tag){case 16:e:{var p=a.pendingProps;if(r=Oa(a.elementType),a.type=r,typeof r=="function")Eo(r)?(p=za(r,p),a.tag=1,a=mb(null,a,r,p,c)):(a.tag=0,a=Pm(null,a,r,p,c));else{if(r!=null){var x=r.$$typeof;if(x===U){a.tag=11,a=ob(null,a,r,p,c);break e}else if(x===q){a.tag=14,a=lb(null,a,r,p,c);break e}}throw a=Y(r)||r,Error(i(306,a,""))}}return a;case 0:return Pm(r,a,a.type,a.pendingProps,c);case 1:return p=a.type,x=za(p,a.pendingProps),mb(r,a,p,x,c);case 3:e:{if(Ee(a,a.stateNode.containerInfo),r===null)throw Error(i(387));p=a.pendingProps;var S=a.memoizedState;x=S.element,om(r,a),vu(a,p,null,c);var O=a.memoizedState;if(p=O.cache,Ss(a,Jt,p),p!==S.cache&&tm(a,[Jt],c,!0),yu(),p=O.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:O.cache},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){a=pb(r,a,p,c);break e}else if(p!==x){x=m(Error(i(424)),a),La(x),a=pb(r,a,p,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ht=Li(r.firstChild),dt=a,rt=!0,mr=null,Gn=!0,c=c0(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ur(),p===x){a=$r(r,a,c);break e}_n(r,a,p,c)}a=a.child}return a;case 26:return Vd(r,a),r===null?(c=Nx(a.type,null,a.pendingProps,null))?a.memoizedState=c:rt||(c=a.type,r=a.pendingProps,p=ih(oe.current).createElement(c),p[Xt]=a,p[fn]=r,wn(p,c,r),Qt(p),a.stateNode=p):a.memoizedState=Nx(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return je(a),r===null&&rt&&(p=a.stateNode=kx(a.type,a.pendingProps,oe.current),dt=a,Gn=!0,x=ht,Ds(a.type)?(xp=x,ht=Li(p.firstChild)):ht=x),_n(r,a,a.pendingProps.children,c),Vd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&rt&&((x=p=ht)&&(p=kk(p,a.type,a.pendingProps,Gn),p!==null?(a.stateNode=p,dt=a,ht=Li(p.firstChild),Gn=!1,x=!0):x=!1),x||pr(a)),je(a),x=a.type,S=a.pendingProps,O=r!==null?r.memoizedProps:null,p=S.children,pp(x,S)?p=null:O!==null&&pp(x,O)&&(a.flags|=32),a.memoizedState!==null&&(x=mm(r,a,HE,null,null,c),Bu._currentValue=x),Vd(r,a),_n(r,a,p,c),a.child;case 6:return r===null&&rt&&((r=c=ht)&&(c=Tk(c,a.pendingProps,Gn),c!==null?(a.stateNode=c,dt=a,ht=null,r=!0):r=!1),r||pr(a)),null;case 13:return gb(r,a,c);case 4:return Ee(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=Ra(a,null,p,c):_n(r,a,p,c),a.child;case 11:return ob(r,a,a.type,a.pendingProps,c);case 7:return _n(r,a,a.pendingProps,c),a.child;case 8:return _n(r,a,a.pendingProps.children,c),a.child;case 12:return _n(r,a,a.pendingProps.children,c),a.child;case 10:return p=a.pendingProps,Ss(a,a.type,p.value),_n(r,a,p.children,c),a.child;case 9:return x=a.type._context,p=a.pendingProps.children,Aa(a),x=xn(x),p=p(x),a.flags|=1,_n(r,a,p,c),a.child;case 14:return lb(r,a,a.type,a.pendingProps,c);case 15:return ub(r,a,a.type,a.pendingProps,c);case 19:return vb(r,a,c);case 31:return YE(r,a,c);case 22:return cb(r,a,c,a.pendingProps);case 24:return Aa(a),p=xn(Jt),r===null?(x=rm(),x===null&&(x=kt,S=nm(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=c),x=S),a.memoizedState={parent:p,cache:x},am(a),Ss(a,Jt,x)):((r.lanes&c)!==0&&(om(r,a),vu(a,null,null,c),yu()),x=r.memoizedState,S=a.memoizedState,x.parent!==p?(x={parent:p,cache:p},a.memoizedState=x,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=x),Ss(a,Jt,p)):(p=S.cache,Ss(a,Jt,p),p!==x.cache&&tm(a,[Jt],c,!0))),_n(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Zr(r){r.flags|=4}function Hm(r,a,c,p,x){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(x&335544128)===x)if(r.stateNode.complete)r.flags|=8192;else if(Zb())r.flags|=8192;else throw Pa=jd,sm}else r.flags&=-16777217}function xb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rx(a))if(Zb())r.flags|=8192;else throw Pa=jd,sm}function Hd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Zc():536870912,r.lanes|=a,Uo|=a)}function Cu(r,a){if(!rt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Ot(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(a)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=p,r.childLanes=c,a}function QE(r,a,c){var p=a.pendingProps;switch(qt(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return c=a.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),Hr(Jt),Oe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(qi(a)?Zr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,du())),Ot(a),null;case 26:var x=a.type,S=a.memoizedState;return r===null?(Zr(a),S!==null?(Ot(a),xb(a,S)):(Ot(a),Hm(a,x,null,p,c))):S?S!==r.memoizedState?(Zr(a),Ot(a),xb(a,S)):(Ot(a),a.flags&=-16777217):(r=r.memoizedProps,r!==p&&Zr(a),Ot(a),Hm(a,x,r,p,c)),null;case 27:if(ge(a),c=oe.current,x=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==p&&Zr(a);else{if(!p){if(a.stateNode===null)throw Error(i(166));return Ot(a),null}r=ue.current,qi(a)?cu(a):(r=kx(x,p,c),a.stateNode=r,Zr(a))}return Ot(a),null;case 5:if(ge(a),x=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==p&&Zr(a);else{if(!p){if(a.stateNode===null)throw Error(i(166));return Ot(a),null}if(S=ue.current,qi(a))cu(a);else{var O=ih(oe.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?O.createElement("select",{is:p.is}):O.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?O.createElement(x,{is:p.is}):O.createElement(x)}}S[Xt]=a,S[fn]=p;e:for(O=a.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===a)break e;for(;O.sibling===null;){if(O.return===null||O.return===a)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}a.stateNode=S;e:switch(wn(S,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Zr(a)}}return Ot(a),Hm(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,c),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==p&&Zr(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(i(166));if(r=oe.current,qi(a)){if(r=a.stateNode,c=a.memoizedProps,p=null,x=dt,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}r[Xt]=a,r=!!(r.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||gx(r.nodeValue,c)),r||pr(a,!0)}else r=ih(r).createTextNode(p),r[Xt]=a,a.stateNode=r}return Ot(a),null;case 31:if(c=a.memoizedState,r===null||r.memoizedState!==null){if(p=qi(a),c!==null){if(r===null){if(!p)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Xt]=a}else Ur(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ot(a),r=!1}else c=du(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return a.flags&256?(ui(a),a):(ui(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Ot(a),null;case 13:if(p=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=qi(a),p!==null&&p.dehydrated!==null){if(r===null){if(!x)throw Error(i(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Xt]=a}else Ur(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ot(a),x=!1}else x=du(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return a.flags&256?(ui(a),a):(ui(a),null)}return ui(a),(a.flags&128)!==0?(a.lanes=c,a):(c=p!==null,r=r!==null&&r.memoizedState!==null,c&&(p=a.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==x&&(p.flags|=2048)),c!==r&&c&&(a.child.flags|=8192),Hd(a,a.updateQueue),Ot(a),null);case 4:return Oe(),r===null&&cp(a.stateNode.containerInfo),Ot(a),null;case 10:return Hr(a.type),Ot(a),null;case 19:if(X(Kt),p=a.memoizedState,p===null)return Ot(a),null;if(x=(a.flags&128)!==0,S=p.rendering,S===null)if(x)Cu(p,!1);else{if(Zt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(S=Ld(r),S!==null){for(a.flags|=128,Cu(p,!1),r=S.updateQueue,a.updateQueue=r,Hd(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)ou(c,r),c=c.sibling;return B(Kt,Kt.current&1|2),rt&&Be(a,p.treeForkCount),a.child}r=r.sibling}p.tail!==null&&yn()>Gd&&(a.flags|=128,x=!0,Cu(p,!1),a.lanes=4194304)}else{if(!x)if(r=Ld(S),r!==null){if(a.flags|=128,x=!0,r=r.updateQueue,a.updateQueue=r,Hd(a,r),Cu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!rt)return Ot(a),null}else 2*yn()-p.renderingStartTime>Gd&&c!==536870912&&(a.flags|=128,x=!0,Cu(p,!1),a.lanes=4194304);p.isBackwards?(S.sibling=a.child,a.child=S):(r=p.last,r!==null?r.sibling=S:a.child=S,p.last=S)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=yn(),r.sibling=null,c=Kt.current,B(Kt,x?c&1|2:c&1),rt&&Be(a,p.treeForkCount),r):(Ot(a),null);case 22:case 23:return ui(a),dm(),p=a.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(c&536870912)!==0&&(a.flags&128)===0&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),c=a.updateQueue,c!==null&&Hd(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==c&&(a.flags|=2048),r!==null&&X(Ma),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Hr(Jt),Ot(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function JE(r,a){switch(qt(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Hr(Jt),Oe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ge(a),null;case 31:if(a.memoizedState!==null){if(ui(a),a.alternate===null)throw Error(i(340));Ur()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(ui(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ur()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return X(Kt),null;case 4:return Oe(),null;case 10:return Hr(a.type),null;case 22:case 23:return ui(a),dm(),r!==null&&X(Ma),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Hr(Jt),null;case 25:return null;default:return null}}function _b(r,a){switch(qt(a),a.tag){case 3:Hr(Jt),Oe();break;case 26:case 27:case 5:ge(a);break;case 4:Oe();break;case 31:a.memoizedState!==null&&ui(a);break;case 13:ui(a);break;case 19:X(Kt);break;case 10:Hr(a.type);break;case 22:case 23:ui(a),dm(),r!==null&&X(Ma);break;case 24:Hr(Jt)}}function ju(r,a){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var x=p.next;c=x;do{if((c.tag&r)===r){p=void 0;var S=c.create,O=c.inst;p=S(),O.destroy=p}c=c.next}while(c!==x)}}catch(V){xt(a,a.return,V)}}function Ls(r,a,c){try{var p=a.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var S=x.next;p=S;do{if((p.tag&r)===r){var O=p.inst,V=O.destroy;if(V!==void 0){O.destroy=void 0,x=a;var K=c,de=V;try{de()}catch(ve){xt(x,K,ve)}}}p=p.next}while(p!==S)}}catch(ve){xt(a,a.return,ve)}}function wb(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{h0(a,c)}catch(p){xt(r,r.return,p)}}}function Sb(r,a,c){c.props=za(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(p){xt(r,a,p)}}function Eu(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof c=="function"?r.refCleanup=c(p):c.current=p}}catch(x){xt(r,a,x)}}function yr(r,a){var c=r.ref,p=r.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(x){xt(r,a,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){xt(r,a,x)}else c.current=null}function Cb(r){var a=r.type,c=r.memoizedProps,p=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(x){xt(r,r.return,x)}}function Fm(r,a,c){try{var p=r.stateNode;_k(p,r.type,c,a),p[fn]=a}catch(x){xt(r,r.return,x)}}function jb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ds(r.type)||r.tag===4}function qm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ds(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $m(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Fn));else if(p!==4&&(p===27&&Ds(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for($m(r,a,c),r=r.sibling;r!==null;)$m(r,a,c),r=r.sibling}function Fd(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(p!==4&&(p===27&&Ds(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Fd(r,a,c),r=r.sibling;r!==null;)Fd(r,a,c),r=r.sibling}function Eb(r){var a=r.stateNode,c=r.memoizedProps;try{for(var p=r.type,x=a.attributes;x.length;)a.removeAttributeNode(x[0]);wn(a,p,c),a[Xt]=r,a[fn]=c}catch(S){xt(r,r.return,S)}}var Gr=!1,nn=!1,Zm=!1,kb=typeof WeakSet=="function"?WeakSet:Set,gn=null;function ek(r,a){if(r=r.containerInfo,fp=ch,r=_a(r),ur(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var O=0,V=-1,K=-1,de=0,ve=0,Se=r,fe=null;t:for(;;){for(var me;Se!==c||x!==0&&Se.nodeType!==3||(V=O+x),Se!==S||p!==0&&Se.nodeType!==3||(K=O+p),Se.nodeType===3&&(O+=Se.nodeValue.length),(me=Se.firstChild)!==null;)fe=Se,Se=me;for(;;){if(Se===r)break t;if(fe===c&&++de===x&&(V=O),fe===S&&++ve===p&&(K=O),(me=Se.nextSibling)!==null)break;Se=fe,fe=Se.parentNode}Se=me}c=V===-1||K===-1?null:{start:V,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(mp={focusedElem:r,selectionRange:c},ch=!1,gn=a;gn!==null;)if(a=gn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,gn=r;else for(;gn!==null;){switch(a=gn,S=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)x=r[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,c=a,x=S.memoizedProps,S=S.memoizedState,p=c.stateNode;try{var Pe=za(c.type,x);r=p.getSnapshotBeforeUpdate(Pe,S),p.__reactInternalSnapshotBeforeUpdate=r}catch(qe){xt(c,c.return,qe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)yp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":yp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,gn=r;break}gn=a.return}}function Tb(r,a,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Wr(r,c),p&4&&ju(5,c);break;case 1:if(Wr(r,c),p&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(O){xt(c,c.return,O)}else{var x=za(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(x,a,r.__reactInternalSnapshotBeforeUpdate)}catch(O){xt(c,c.return,O)}}p&64&&wb(c),p&512&&Eu(c,c.return);break;case 3:if(Wr(r,c),p&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{h0(r,a)}catch(O){xt(c,c.return,O)}}break;case 27:a===null&&p&4&&Eb(c);case 26:case 5:Wr(r,c),a===null&&p&4&&Cb(c),p&512&&Eu(c,c.return);break;case 12:Wr(r,c);break;case 31:Wr(r,c),p&4&&Ab(r,c);break;case 13:Wr(r,c),p&4&&Mb(r,c),p&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=uk.bind(null,c),Lk(r,c))));break;case 22:if(p=c.memoizedState!==null||Gr,!p){a=a!==null&&a.memoizedState!==null||nn,x=Gr;var S=nn;Gr=p,(nn=a)&&!S?Yr(r,c,(c.subtreeFlags&8772)!==0):Wr(r,c),Gr=x,nn=S}break;case 30:break;default:Wr(r,c)}}function Lb(r){var a=r.alternate;a!==null&&(r.alternate=null,Lb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Fl(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,Kn=!1;function Kr(r,a,c){for(c=c.child;c!==null;)Nb(r,a,c),c=c.sibling}function Nb(r,a,c){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(hn,c)}catch{}switch(c.tag){case 26:nn||yr(c,a),Kr(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:nn||yr(c,a);var p=Rt,x=Kn;Ds(c.type)&&(Rt=c.stateNode,Kn=!1),Kr(r,a,c),Ru(c.stateNode),Rt=p,Kn=x;break;case 5:nn||yr(c,a);case 6:if(p=Rt,x=Kn,Rt=null,Kr(r,a,c),Rt=p,Kn=x,Rt!==null)if(Kn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(c.stateNode)}catch(S){xt(c,a,S)}else try{Rt.removeChild(c.stateNode)}catch(S){xt(c,a,S)}break;case 18:Rt!==null&&(Kn?(r=Rt,wx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Wo(r)):wx(Rt,c.stateNode));break;case 4:p=Rt,x=Kn,Rt=c.stateNode.containerInfo,Kn=!0,Kr(r,a,c),Rt=p,Kn=x;break;case 0:case 11:case 14:case 15:Ls(2,c,a),nn||Ls(4,c,a),Kr(r,a,c);break;case 1:nn||(yr(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"&&Sb(c,a,p)),Kr(r,a,c);break;case 21:Kr(r,a,c);break;case 22:nn=(p=nn)||c.memoizedState!==null,Kr(r,a,c),nn=p;break;default:Kr(r,a,c)}}function Ab(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Wo(r)}catch(c){xt(a,a.return,c)}}}function Mb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wo(r)}catch(c){xt(a,a.return,c)}}function tk(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new kb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new kb),a;default:throw Error(i(435,r.tag))}}function qd(r,a){var c=tk(r);a.forEach(function(p){if(!c.has(p)){c.add(p);var x=ck.bind(null,r,p);p.then(x,x)}})}function Wn(r,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p],S=r,O=a,V=O;e:for(;V!==null;){switch(V.tag){case 27:if(Ds(V.type)){Rt=V.stateNode,Kn=!1;break e}break;case 5:Rt=V.stateNode,Kn=!1;break e;case 3:case 4:Rt=V.stateNode.containerInfo,Kn=!0;break e}V=V.return}if(Rt===null)throw Error(i(160));Nb(S,O,x),Rt=null,Kn=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ob(a,r),a=a.sibling}var Zi=null;function Ob(r,a){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wn(a,r),Yn(r),p&4&&(Ls(3,r,r.return),ju(3,r),Ls(5,r,r.return));break;case 1:Wn(a,r),Yn(r),p&512&&(nn||c===null||yr(c,c.return)),p&64&&Gr&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var x=Zi;if(Wn(a,r),Yn(r),p&512&&(nn||c===null||yr(c,c.return)),p&4){var S=c!==null?c.memoizedState:null;if(p=r.memoizedState,c===null)if(p===null)if(r.stateNode===null){e:{p=r.type,c=r.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":S=x.getElementsByTagName("title")[0],(!S||S[sa]||S[Xt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(p),x.head.insertBefore(S,x.querySelector("head > title"))),wn(S,p,c),S[Xt]=r,Qt(S),p=S;break e;case"link":var O=Ox("link","href",x).get(p+(c.href||""));if(O){for(var V=0;V<O.length;V++)if(S=O[V],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(V,1);break t}}S=x.createElement(p),wn(S,p,c),x.head.appendChild(S);break;case"meta":if(O=Ox("meta","content",x).get(p+(c.content||""))){for(V=0;V<O.length;V++)if(S=O[V],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(V,1);break t}}S=x.createElement(p),wn(S,p,c),x.head.appendChild(S);break;default:throw Error(i(468,p))}S[Xt]=r,Qt(S),p=S}r.stateNode=p}else Px(x,r.type,r.stateNode);else r.stateNode=Mx(x,p,r.memoizedProps);else S!==p?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,p===null?Px(x,r.type,r.stateNode):Mx(x,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Fm(r,r.memoizedProps,c.memoizedProps)}break;case 27:Wn(a,r),Yn(r),p&512&&(nn||c===null||yr(c,c.return)),c!==null&&p&4&&Fm(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Wn(a,r),Yn(r),p&512&&(nn||c===null||yr(c,c.return)),r.flags&32){x=r.stateNode;try{xi(x,"")}catch(Pe){xt(r,r.return,Pe)}}p&4&&r.stateNode!=null&&(x=r.memoizedProps,Fm(r,x,c!==null?c.memoizedProps:x)),p&1024&&(Zm=!0);break;case 6:if(Wn(a,r),Yn(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,c=r.stateNode;try{c.nodeValue=p}catch(Pe){xt(r,r.return,Pe)}}break;case 3:if(ah=null,x=Zi,Zi=rh(a.containerInfo),Wn(a,r),Zi=x,Yn(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Wo(a.containerInfo)}catch(Pe){xt(r,r.return,Pe)}Zm&&(Zm=!1,Pb(r));break;case 4:p=Zi,Zi=rh(r.stateNode.containerInfo),Wn(a,r),Yn(r),Zi=p;break;case 12:Wn(a,r),Yn(r);break;case 31:Wn(a,r),Yn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,qd(r,p)));break;case 13:Wn(a,r),Yn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Zd=yn()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,qd(r,p)));break;case 22:x=r.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,de=Gr,ve=nn;if(Gr=de||x,nn=ve||K,Wn(a,r),nn=ve,Gr=de,Yn(r),p&8192)e:for(a=r.stateNode,a._visibility=x?a._visibility&-2:a._visibility|1,x&&(c===null||K||Gr||nn||Ba(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){K=c=a;try{if(S=K.stateNode,x)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{V=K.stateNode;var Se=K.memoizedProps.style,fe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;V.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Pe){xt(K,K.return,Pe)}}}else if(a.tag===6){if(c===null){K=a;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(Pe){xt(K,K.return,Pe)}}}else if(a.tag===18){if(c===null){K=a;try{var me=K.stateNode;x?Sx(me,!0):Sx(K.stateNode,!1)}catch(Pe){xt(K,K.return,Pe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=r.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,qd(r,c))));break;case 19:Wn(a,r),Yn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,qd(r,p)));break;case 30:break;case 21:break;default:Wn(a,r),Yn(r)}}function Yn(r){var a=r.flags;if(a&2){try{for(var c,p=r.return;p!==null;){if(jb(p)){c=p;break}p=p.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var x=c.stateNode,S=qm(r);Fd(r,S,x);break;case 5:var O=c.stateNode;c.flags&32&&(xi(O,""),c.flags&=-33);var V=qm(r);Fd(r,V,O);break;case 3:case 4:var K=c.stateNode.containerInfo,de=qm(r);$m(r,de,K);break;default:throw Error(i(161))}}catch(ve){xt(r,r.return,ve)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Pb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Pb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Wr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Tb(r,a.alternate,a),a=a.sibling}function Ba(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ls(4,a,a.return),Ba(a);break;case 1:yr(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Sb(a,a.return,c),Ba(a);break;case 27:Ru(a.stateNode);case 26:case 5:yr(a,a.return),Ba(a);break;case 22:a.memoizedState===null&&Ba(a);break;case 30:Ba(a);break;default:Ba(a)}r=r.sibling}}function Yr(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,x=r,S=a,O=S.flags;switch(S.tag){case 0:case 11:case 15:Yr(x,S,c),ju(4,S);break;case 1:if(Yr(x,S,c),p=S,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(de){xt(p,p.return,de)}if(p=S,x=p.updateQueue,x!==null){var V=p.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)d0(K[x],V)}catch(de){xt(p,p.return,de)}}c&&O&64&&wb(S),Eu(S,S.return);break;case 27:Eb(S);case 26:case 5:Yr(x,S,c),c&&p===null&&O&4&&Cb(S),Eu(S,S.return);break;case 12:Yr(x,S,c);break;case 31:Yr(x,S,c),c&&O&4&&Ab(x,S);break;case 13:Yr(x,S,c),c&&O&4&&Mb(x,S);break;case 22:S.memoizedState===null&&Yr(x,S,c),Eu(S,S.return);break;case 30:break;default:Yr(x,S,c)}a=a.sibling}}function Gm(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&hu(c))}function Km(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&hu(r))}function Gi(r,a,c,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Rb(r,a,c,p),a=a.sibling}function Rb(r,a,c,p){var x=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(r,a,c,p),x&2048&&ju(9,a);break;case 1:Gi(r,a,c,p);break;case 3:Gi(r,a,c,p),x&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&hu(r)));break;case 12:if(x&2048){Gi(r,a,c,p),r=a.stateNode;try{var S=a.memoizedProps,O=S.id,V=S.onPostCommit;typeof V=="function"&&V(O,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(K){xt(a,a.return,K)}}else Gi(r,a,c,p);break;case 31:Gi(r,a,c,p);break;case 13:Gi(r,a,c,p);break;case 23:break;case 22:S=a.stateNode,O=a.alternate,a.memoizedState!==null?S._visibility&2?Gi(r,a,c,p):ku(r,a):S._visibility&2?Gi(r,a,c,p):(S._visibility|=2,Bo(r,a,c,p,(a.subtreeFlags&10256)!==0||!1)),x&2048&&Gm(O,a);break;case 24:Gi(r,a,c,p),x&2048&&Km(a.alternate,a);break;default:Gi(r,a,c,p)}}function Bo(r,a,c,p,x){for(x=x&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var S=r,O=a,V=c,K=p,de=O.flags;switch(O.tag){case 0:case 11:case 15:Bo(S,O,V,K,x),ju(8,O);break;case 23:break;case 22:var ve=O.stateNode;O.memoizedState!==null?ve._visibility&2?Bo(S,O,V,K,x):ku(S,O):(ve._visibility|=2,Bo(S,O,V,K,x)),x&&de&2048&&Gm(O.alternate,O);break;case 24:Bo(S,O,V,K,x),x&&de&2048&&Km(O.alternate,O);break;default:Bo(S,O,V,K,x)}a=a.sibling}}function ku(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,p=a,x=p.flags;switch(p.tag){case 22:ku(c,p),x&2048&&Gm(p.alternate,p);break;case 24:ku(c,p),x&2048&&Km(p.alternate,p);break;default:ku(c,p)}a=a.sibling}}var Tu=8192;function Io(r,a,c){if(r.subtreeFlags&Tu)for(r=r.child;r!==null;)Db(r,a,c),r=r.sibling}function Db(r,a,c){switch(r.tag){case 26:Io(r,a,c),r.flags&Tu&&r.memoizedState!==null&&Uk(c,Zi,r.memoizedState,r.memoizedProps);break;case 5:Io(r,a,c);break;case 3:case 4:var p=Zi;Zi=rh(r.stateNode.containerInfo),Io(r,a,c),Zi=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Tu,Tu=16777216,Io(r,a,c),Tu=p):Io(r,a,c));break;default:Io(r,a,c)}}function zb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Lu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];gn=p,Ib(p,r)}zb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bb(r),r=r.sibling}function Bb(r){switch(r.tag){case 0:case 11:case 15:Lu(r),r.flags&2048&&Ls(9,r,r.return);break;case 3:Lu(r);break;case 12:Lu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,$d(r)):Lu(r);break;default:Lu(r)}}function $d(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];gn=p,Ib(p,r)}zb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ls(8,a,a.return),$d(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,$d(a));break;default:$d(a)}r=r.sibling}}function Ib(r,a){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Ls(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:hu(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,gn=p;else e:for(c=r;gn!==null;){p=gn;var x=p.sibling,S=p.return;if(Lb(p),p===c){gn=null;break e}if(x!==null){x.return=S,gn=x;break e}gn=S}}}var nk={getCacheForType:function(r){var a=xn(Jt),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c},cacheSignal:function(){return xn(Jt).controller.signal}},ik=typeof WeakMap=="function"?WeakMap:Map,pt=0,kt=null,st=null,lt=0,bt=0,ci=null,Ns=!1,Vo=!1,Wm=!1,Xr=0,Zt=0,As=0,Ia=0,Ym=0,di=0,Uo=0,Nu=null,Xn=null,Xm=!1,Zd=0,Vb=0,Gd=1/0,Kd=null,Ms=null,un=0,Os=null,Ho=null,Qr=0,Qm=0,Jm=null,Ub=null,Au=0,ep=null;function hi(){return(pt&2)!==0&&lt!==0?lt&-lt:F.T!==null?ap():Ul()}function Hb(){if(di===0)if((lt&536870912)===0||rt){var r=na;na<<=1,(na&3932160)===0&&(na=262144),di=r}else di=536870912;return r=li.current,r!==null&&(r.flags|=32),di}function Qn(r,a,c){(r===kt&&(bt===2||bt===9)||r.cancelPendingCommit!==null)&&(Fo(r,0),Ps(r,lt,di,!1)),Ar(r,c),((pt&2)===0||r!==kt)&&(r===kt&&((pt&2)===0&&(Ia|=c),Zt===4&&Ps(r,lt,di,!1)),vr(r))}function Fb(r,a,c){if((pt&6)!==0)throw Error(i(327));var p=!c&&(a&127)===0&&(a&r.expiredLanes)===0||ra(r,a),x=p?ak(r,a):np(r,a,!0),S=p;do{if(x===0){Vo&&!p&&Ps(r,a,0,!1);break}else{if(c=r.current.alternate,S&&!rk(c)){x=np(r,a,!1),S=!1;continue}if(x===2){if(S=a,r.errorRecoveryDisabledLanes&S)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){a=O;e:{var V=r;x=Nu;var K=V.current.memoizedState.isDehydrated;if(K&&(Fo(V,O).flags|=256),O=np(V,O,!1),O!==2){if(Wm&&!K){V.errorRecoveryDisabledLanes|=S,Ia|=S,x=4;break e}S=Xn,Xn=x,S!==null&&(Xn===null?Xn=S:Xn.push.apply(Xn,S))}x=O}if(S=!1,x!==2)continue}}if(x===1){Fo(r,0),Ps(r,a,0,!0);break}e:{switch(p=r,S=x,S){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ps(p,a,di,!Ns);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(x=Zd+300-yn(),10<x)){if(Ps(p,a,di,!Ns),lo(p,0,!0)!==0)break e;Qr=a,p.timeoutHandle=xx(qb.bind(null,p,c,Xn,Kd,Xm,a,di,Ia,Uo,Ns,S,"Throttled",-0,0),x);break e}qb(p,c,Xn,Kd,Xm,a,di,Ia,Uo,Ns,S,null,-0,0)}}break}while(!0);vr(r)}function qb(r,a,c,p,x,S,O,V,K,de,ve,Se,fe,me){if(r.timeoutHandle=-1,Se=a.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Db(a,S,Se);var Pe=(S&62914560)===S?Zd-yn():(S&4194048)===S?Vb-yn():0;if(Pe=Hk(Se,Pe),Pe!==null){Qr=S,r.cancelPendingCommit=Pe(Qb.bind(null,r,a,S,c,p,x,O,V,K,ve,Se,null,fe,me)),Ps(r,S,O,!de);return}}Qb(r,a,S,c,p,x,O,V,K)}function rk(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var x=c[p],S=x.getSnapshot;x=x.value;try{if(!mn(S(),x))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(r,a,c,p){a&=~Ym,a&=~Ia,r.suspendedLanes|=a,r.pingedLanes&=~a,p&&(r.warmLanes|=a),p=r.expirationTimes;for(var x=a;0<x;){var S=31-vt(x),O=1<<S;p[S]=-1,x&=~O}c!==0&&Gc(r,c,a)}function Wd(){return(pt&6)===0?(Mu(0),!1):!0}function tp(){if(st!==null){if(bt===0)var r=st.return;else r=st,$i=gr=null,ym(r),Oo=null,mu=0,r=st;for(;r!==null;)_b(r.alternate,r),r=r.return;st=null}}function Fo(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Ck(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Qr=0,tp(),kt=r,st=c=ki(r.current,null),lt=a,bt=0,ci=null,Ns=!1,Vo=ra(r,a),Wm=!1,Uo=di=Ym=Ia=As=Zt=0,Xn=Nu=null,Xm=!1,(a&8)!==0&&(a|=a&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=a;0<p;){var x=31-vt(p),S=1<<x;a|=r[x],p&=~S}return Xr=a,Ea(),c}function $b(r,a){Qe=null,F.H=wu,a===Mo||a===Cd?(a=o0(),bt=3):a===sm?(a=o0(),bt=4):bt=a===Om?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ci=a,st===null&&(Zt=1,Bd(r,m(a,r.current)))}function Zb(){var r=li.current;return r===null?!0:(lt&4194048)===lt?Ti===null:(lt&62914560)===lt||(lt&536870912)!==0?r===Ti:!1}function Gb(){var r=F.H;return F.H=wu,r===null?wu:r}function Kb(){var r=F.A;return F.A=nk,r}function Yd(){Zt=4,Ns||(lt&4194048)!==lt&&li.current!==null||(Vo=!0),(As&134217727)===0&&(Ia&134217727)===0||kt===null||Ps(kt,lt,di,!1)}function np(r,a,c){var p=pt;pt|=2;var x=Gb(),S=Kb();(kt!==r||lt!==a)&&(Kd=null,Fo(r,a)),a=!1;var O=Zt;e:do try{if(bt!==0&&st!==null){var V=st,K=ci;switch(bt){case 8:tp(),O=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(a=!0);var de=bt;if(bt=0,ci=null,qo(r,V,K,de),c&&Vo){O=0;break e}break;default:de=bt,bt=0,ci=null,qo(r,V,K,de)}}sk(),O=Zt;break}catch(ve){$b(r,ve)}while(!0);return a&&r.shellSuspendCounter++,$i=gr=null,pt=p,F.H=x,F.A=S,st===null&&(kt=null,lt=0,Ea()),O}function sk(){for(;st!==null;)Wb(st)}function ak(r,a){var c=pt;pt|=2;var p=Gb(),x=Kb();kt!==r||lt!==a?(Kd=null,Gd=yn()+500,Fo(r,a)):Vo=ra(r,a);e:do try{if(bt!==0&&st!==null){a=st;var S=ci;t:switch(bt){case 1:bt=0,ci=null,qo(r,a,S,1);break;case 2:case 9:if(s0(S)){bt=0,ci=null,Yb(a);break}a=function(){bt!==2&&bt!==9||kt!==r||(bt=7),vr(r)},S.then(a,a);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:s0(S)?(bt=0,ci=null,Yb(a)):(bt=0,ci=null,qo(r,a,S,7));break;case 5:var O=null;switch(st.tag){case 26:O=st.memoizedState;case 5:case 27:var V=st;if(O?Rx(O):V.stateNode.complete){bt=0,ci=null;var K=V.sibling;if(K!==null)st=K;else{var de=V.return;de!==null?(st=de,Xd(de)):st=null}break t}}bt=0,ci=null,qo(r,a,S,5);break;case 6:bt=0,ci=null,qo(r,a,S,6);break;case 8:tp(),Zt=6;break e;default:throw Error(i(462))}}ok();break}catch(ve){$b(r,ve)}while(!0);return $i=gr=null,F.H=p,F.A=x,pt=c,st!==null?0:(kt=null,lt=0,Ea(),Zt)}function ok(){for(;st!==null&&!ao();)Wb(st)}function Wb(r){var a=bb(r.alternate,r,Xr);r.memoizedProps=r.pendingProps,a===null?Xd(r):st=a}function Yb(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=fb(c,a,a.pendingProps,a.type,void 0,lt);break;case 11:a=fb(c,a,a.pendingProps,a.type.render,a.ref,lt);break;case 5:ym(a);default:_b(c,a),a=st=ou(a,Xr),a=bb(c,a,Xr)}r.memoizedProps=r.pendingProps,a===null?Xd(r):st=a}function qo(r,a,c,p){$i=gr=null,ym(a),Oo=null,mu=0;var x=a.return;try{if(WE(r,x,a,c,lt)){Zt=1,Bd(r,m(c,r.current)),st=null;return}}catch(S){if(x!==null)throw st=x,S;Zt=1,Bd(r,m(c,r.current)),st=null;return}a.flags&32768?(rt||p===1?r=!0:Vo||(lt&536870912)!==0?r=!1:(Ns=r=!0,(p===2||p===9||p===3||p===6)&&(p=li.current,p!==null&&p.tag===13&&(p.flags|=16384))),Xb(a,r)):Xd(a)}function Xd(r){var a=r;do{if((a.flags&32768)!==0){Xb(a,Ns);return}r=a.return;var c=QE(a.alternate,a,Xr);if(c!==null){st=c;return}if(a=a.sibling,a!==null){st=a;return}st=a=r}while(a!==null);Zt===0&&(Zt=5)}function Xb(r,a){do{var c=JE(r.alternate,r);if(c!==null){c.flags&=32767,st=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){st=r;return}st=r=c}while(r!==null);Zt=6,st=null}function Qb(r,a,c,p,x,S,O,V,K){r.cancelPendingCommit=null;do Qd();while(un!==0);if((pt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(S=a.lanes|a.childLanes,S|=jo,Bf(r,c,S,O,V,K),r===kt&&(st=kt=null,lt=0),Ho=a,Os=r,Qr=c,Qm=S,Jm=x,Ub=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dk(Fe,function(){return ix(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=F.T,F.T=null,x=Z.p,Z.p=2,O=pt,pt|=4;try{ek(r,a,c)}finally{pt=O,Z.p=x,F.T=p}}un=1,Jb(),ex(),tx()}}function Jb(){if(un===1){un=0;var r=Os,a=Ho,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null;var p=Z.p;Z.p=2;var x=pt;pt|=4;try{Ob(a,r);var S=mp,O=_a(r.containerInfo),V=S.focusedElem,K=S.selectionRange;if(O!==V&&V&&V.ownerDocument&&_o(V.ownerDocument.documentElement,V)){if(K!==null&&ur(V)){var de=K.start,ve=K.end;if(ve===void 0&&(ve=de),"selectionStart"in V)V.selectionStart=de,V.selectionEnd=Math.min(ve,V.value.length);else{var Se=V.ownerDocument||document,fe=Se&&Se.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Pe=V.textContent.length,qe=Math.min(K.start,Pe),jt=K.end===void 0?qe:Math.min(K.end,Pe);!me.extend&&qe>jt&&(O=jt,jt=qe,qe=O);var ie=xa(V,qe),Q=xa(V,jt);if(ie&&Q&&(me.rangeCount!==1||me.anchorNode!==ie.node||me.anchorOffset!==ie.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var ce=Se.createRange();ce.setStart(ie.node,ie.offset),me.removeAllRanges(),qe>jt?(me.addRange(ce),me.extend(Q.node,Q.offset)):(ce.setEnd(Q.node,Q.offset),me.addRange(ce))}}}}for(Se=[],me=V;me=me.parentNode;)me.nodeType===1&&Se.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Se.length;V++){var xe=Se[V];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}ch=!!fp,mp=fp=null}finally{pt=x,Z.p=p,F.T=c}}r.current=a,un=2}}function ex(){if(un===2){un=0;var r=Os,a=Ho,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=F.T,F.T=null;var p=Z.p;Z.p=2;var x=pt;pt|=4;try{Tb(r,a.alternate,a)}finally{pt=x,Z.p=p,F.T=c}}un=3}}function tx(){if(un===4||un===3){un=0,oo();var r=Os,a=Ho,c=Qr,p=Ub;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?un=5:(un=0,Ho=Os=null,nx(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(Ms=null),ze(c),a=a.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(hn,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=F.T,x=Z.p,Z.p=2,F.T=null;try{for(var S=r.onRecoverableError,O=0;O<p.length;O++){var V=p[O];S(V.value,{componentStack:V.stack})}}finally{F.T=a,Z.p=x}}(Qr&3)!==0&&Qd(),vr(r),x=r.pendingLanes,(c&261930)!==0&&(x&42)!==0?r===ep?Au++:(Au=0,ep=r):Au=0,Mu(0)}}function nx(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,hu(a)))}function Qd(){return Jb(),ex(),tx(),ix()}function ix(){if(un!==5)return!1;var r=Os,a=Qm;Qm=0;var c=ze(Qr),p=F.T,x=Z.p;try{Z.p=32>c?32:c,F.T=null,c=Jm,Jm=null;var S=Os,O=Qr;if(un=0,Ho=Os=null,Qr=0,(pt&6)!==0)throw Error(i(331));var V=pt;if(pt|=4,Bb(S.current),Rb(S,S.current,O,c),pt=V,Mu(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(hn,S)}catch{}return!0}finally{Z.p=x,F.T=p,nx(r,a)}}function rx(r,a,c){a=m(c,a),a=Mm(r.stateNode,a,2),r=Es(r,a,2),r!==null&&(Ar(r,2),vr(r))}function xt(r,a,c){if(r.tag===3)rx(r,r,c);else for(;a!==null;){if(a.tag===3){rx(a,r,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ms===null||!Ms.has(p))){r=m(c,r),c=sb(2),p=Es(a,c,2),p!==null&&(ab(c,p,a,r),Ar(p,2),vr(p));break}}a=a.return}}function ip(r,a,c){var p=r.pingCache;if(p===null){p=r.pingCache=new ik;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(c)||(Wm=!0,x.add(c),r=lk.bind(null,r,a,c),a.then(r,r))}function lk(r,a,c){var p=r.pingCache;p!==null&&p.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,kt===r&&(lt&c)===c&&(Zt===4||Zt===3&&(lt&62914560)===lt&&300>yn()-Zd?(pt&2)===0&&Fo(r,0):Ym|=c,Uo===lt&&(Uo=0)),vr(r)}function sx(r,a){a===0&&(a=Zc()),r=Ei(r,a),r!==null&&(Ar(r,a),vr(r))}function uk(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),sx(r,c)}function ck(r,a){var c=0;switch(r.tag){case 31:case 13:var p=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(a),sx(r,c)}function dk(r,a){return Tr(r,a)}var Jd=null,$o=null,rp=!1,eh=!1,sp=!1,Rs=0;function vr(r){r!==$o&&r.next===null&&($o===null?Jd=$o=r:$o=$o.next=r),eh=!0,rp||(rp=!0,fk())}function Mu(r,a){if(!sp&&eh){sp=!0;do for(var c=!1,p=Jd;p!==null;){if(r!==0){var x=p.pendingLanes;if(x===0)var S=0;else{var O=p.suspendedLanes,V=p.pingedLanes;S=(1<<31-vt(42|r)+1)-1,S&=x&~(O&~V),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,ux(p,S))}else S=lt,S=lo(p,p===kt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||ra(p,S)||(c=!0,ux(p,S));p=p.next}while(c);sp=!1}}function hk(){ax()}function ax(){eh=rp=!1;var r=0;Rs!==0&&Sk()&&(r=Rs);for(var a=yn(),c=null,p=Jd;p!==null;){var x=p.next,S=ox(p,a);S===0?(p.next=null,c===null?Jd=x:c.next=x,x===null&&($o=c)):(c=p,(r!==0||(S&3)!==0)&&(eh=!0)),p=x}un!==0&&un!==5||Mu(r),Rs!==0&&(Rs=0)}function ox(r,a){for(var c=r.suspendedLanes,p=r.pingedLanes,x=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var O=31-vt(S),V=1<<O,K=x[O];K===-1?((V&c)===0||(V&p)!==0)&&(x[O]=zf(V,a)):K<=a&&(r.expiredLanes|=V),S&=~V}if(a=kt,c=lt,c=lo(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,c===0||r===a&&(bt===2||bt===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Lr(p),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ra(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(p!==null&&Lr(p),ze(c)){case 2:case 8:c=Te;break;case 32:c=Fe;break;case 268435456:c=ct;break;default:c=Fe}return p=lx.bind(null,r),c=Tr(c,p),r.callbackPriority=a,r.callbackNode=c,a}return p!==null&&p!==null&&Lr(p),r.callbackPriority=2,r.callbackNode=null,2}function lx(r,a){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Qd()&&r.callbackNode!==c)return null;var p=lt;return p=lo(r,r===kt?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(Fb(r,p,a),ox(r,yn()),r.callbackNode!=null&&r.callbackNode===c?lx.bind(null,r):null)}function ux(r,a){if(Qd())return null;Fb(r,a,!0)}function fk(){jk(function(){(pt&6)!==0?Tr(be,hk):ax()})}function ap(){if(Rs===0){var r=No;r===0&&(r=ta,ta<<=1,(ta&261888)===0&&(ta=256)),Rs=r}return Rs}function cx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:cs(""+r)}function dx(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function mk(r,a,c,p,x){if(a==="submit"&&c&&c.stateNode===x){var S=cx((x[fn]||null).action),O=p.submitter;O&&(a=(a=O[fn]||null)?cx(a.formAction):O.getAttribute("formAction"),a!==null&&(S=a,O=null));var V=new mo("action","action",null,p,x);r.push({event:V,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Rs!==0){var K=O?dx(x,O):new FormData(x);Em(c,{pending:!0,data:K,method:x.method,action:S},null,K)}}else typeof S=="function"&&(V.preventDefault(),K=O?dx(x,O):new FormData(x),Em(c,{pending:!0,data:K,method:x.method,action:S},S,K))},currentTarget:x}]})}}for(var op=0;op<hr.length;op++){var lp=hr[op],pk=lp.toLowerCase(),gk=lp[0].toUpperCase()+lp.slice(1);$n(pk,"on"+gk)}$n(Sa,"onAnimationEnd"),$n(vd,"onAnimationIteration"),$n(Ca,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Xf,"onTransitionRun"),$n(bd,"onTransitionStart"),$n(Qf,"onTransitionCancel"),$n(_s,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function hx(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],x=p.event;p=p.listeners;e:{var S=void 0;if(a)for(var O=p.length-1;0<=O;O--){var V=p[O],K=V.instance,de=V.currentTarget;if(V=V.listener,K!==S&&x.isPropagationStopped())break e;S=V,x.currentTarget=de;try{S(x)}catch(ve){ja(ve)}x.currentTarget=null,S=K}else for(O=0;O<p.length;O++){if(V=p[O],K=V.instance,de=V.currentTarget,V=V.listener,K!==S&&x.isPropagationStopped())break e;S=V,x.currentTarget=de;try{S(x)}catch(ve){ja(ve)}x.currentTarget=null,S=K}}}}function at(r,a){var c=a[ir];c===void 0&&(c=a[ir]=new Set);var p=r+"__bubble";c.has(p)||(fx(a,r,2,!1),c.add(p))}function up(r,a,c){var p=0;a&&(p|=4),fx(c,r,p,a)}var th="_reactListening"+Math.random().toString(36).slice(2);function cp(r){if(!r[th]){r[th]=!0,Qc.forEach(function(c){c!=="selectionchange"&&(yk.has(c)||up(c,!1,r),up(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[th]||(a[th]=!0,up("selectionchange",!1,a))}}function fx(r,a,c,p){switch(Hx(a)){case 2:var x=$k;break;case 8:x=Zk;break;default:x=jp}c=x.bind(null,a,c,r),x=void 0,!da||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?r.addEventListener(a,c,{capture:!0,passive:x}):r.addEventListener(a,c,!0):x!==void 0?r.addEventListener(a,c,{passive:x}):r.addEventListener(a,c,!1)}function dp(r,a,c,p,x){var S=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var V=p.stateNode.containerInfo;if(V===x)break;if(O===4)for(O=p.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;V!==null;){if(O=Or(V),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){p=S=O;continue e}V=V.parentNode}}p=p.return}Yl(function(){var de=S,ve=ca(c),Se=[];e:{var fe=xd.get(r);if(fe!==void 0){var me=mo,Pe=r;switch(r){case"keypress":if(ha(c)===0)break e;case"keydown":case"keyup":me=ad;break;case"focusin":Pe="focus",me=Jl;break;case"focusout":Pe="blur",me=Jl;break;case"beforeblur":case"afterblur":me=Jl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=$f;break;case Sa:case vd:case Ca:me=eu;break;case _s:me=ud;break;case"scroll":case"scrollend":me=ot;break;case"wheel":me=Br;break;case"copy":case"cut":case"paste":me=wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=od;break;case"toggle":case"beforetoggle":me=pa}var qe=(a&4)!==0,jt=!qe&&(r==="scroll"||r==="scrollend"),ie=qe?fe!==null?fe+"Capture":null:fe;qe=[];for(var Q=de,ce;Q!==null;){var xe=Q;if(ce=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ce===null||ie===null||(xe=Dr(Q,ie),xe!=null&&qe.push(Pu(Q,xe,ce))),jt)break;Q=Q.return}0<qe.length&&(fe=new me(fe,Pe,null,c,ve),Se.push({event:fe,listeners:qe}))}}if((a&7)===0){e:{if(fe=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",fe&&c!==fo&&(Pe=c.relatedTarget||c.fromElement)&&(Or(Pe)||Pe[Mr]))break e;if((me||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Pe=c.relatedTarget||c.toElement,me=de,Pe=Pe?Or(Pe):null,Pe!==null&&(jt=o(Pe),qe=Pe.tag,Pe!==jt||qe!==5&&qe!==27&&qe!==6)&&(Pe=null)):(me=null,Pe=de),me!==Pe)){if(qe=td,xe="onMouseLeave",ie="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(qe=od,xe="onPointerLeave",ie="onPointerEnter",Q="pointer"),jt=me==null?fe:rr(me),ce=Pe==null?fe:rr(Pe),fe=new qe(xe,Q+"leave",me,c,ve),fe.target=jt,fe.relatedTarget=ce,xe=null,Or(ve)===de&&(qe=new qe(ie,Q+"enter",Pe,c,ve),qe.target=ce,qe.relatedTarget=jt,xe=qe),jt=xe,me&&Pe)t:{for(qe=vk,ie=me,Q=Pe,ce=0,xe=ie;xe;xe=qe(xe))ce++;xe=0;for(var Ve=Q;Ve;Ve=qe(Ve))xe++;for(;0<ce-xe;)ie=qe(ie),ce--;for(;0<xe-ce;)Q=qe(Q),xe--;for(;ce--;){if(ie===Q||Q!==null&&ie===Q.alternate){qe=ie;break t}ie=qe(ie),Q=qe(Q)}qe=null}else qe=null;me!==null&&mx(Se,fe,me,qe,!1),Pe!==null&&jt!==null&&mx(Se,jt,Pe,qe,!0)}}e:{if(fe=de?rr(de):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var ft=ba;else if(Si(fe))if(fd)ft=Yf;else{ft=Wf;var Re=Hi}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&ua(de.elementType)&&(ft=ba):ft=ys;if(ft&&(ft=ft(r,de))){hd(Se,ft,c,ve);break e}Re&&Re(r,fe,de),r==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&Ii(fe,"number",fe.value)}switch(Re=de?rr(de):window,r){case"focusin":(Si(Re)||Re.contentEditable==="true")&&(cr=Re,So=de,wa=null);break;case"focusout":wa=So=cr=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,gd(Se,c,ve);break;case"selectionchange":if(wo)break;case"keydown":case"keyup":gd(Se,c,ve)}var et;if(go)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ms?dd(r,c)&&(ut="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ut="onCompositionStart");ut&&(yo&&c.locale!=="ko"&&(ms||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ms&&(et=or()):(_i=ve,zr="value"in _i?_i.value:_i.textContent,ms=!0)),Re=nh(de,ut),0<Re.length&&(ut=new tu(ut,r,null,c,ve),Se.push({event:ut,listeners:Re}),et?ut.data=et:(et=su(c),et!==null&&(ut.data=et)))),(et=Gf?oi(r,c):ps(r,c))&&(ut=nh(de,"onBeforeInput"),0<ut.length&&(Re=new tu("onBeforeInput","beforeinput",null,c,ve),Se.push({event:Re,listeners:ut}),Re.data=et)),mk(Se,r,de,c,ve)}hx(Se,a)})}function Pu(r,a,c){return{instance:r,listener:a,currentTarget:c}}function nh(r,a){for(var c=a+"Capture",p=[];r!==null;){var x=r,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Dr(r,c),x!=null&&p.unshift(Pu(r,x,S)),x=Dr(r,a),x!=null&&p.push(Pu(r,x,S))),r.tag===3)return p;r=r.return}return[]}function vk(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function mx(r,a,c,p,x){for(var S=a._reactName,O=[];c!==null&&c!==p;){var V=c,K=V.alternate,de=V.stateNode;if(V=V.tag,K!==null&&K===p)break;V!==5&&V!==26&&V!==27||de===null||(K=de,x?(de=Dr(c,S),de!=null&&O.unshift(Pu(c,de,K))):x||(de=Dr(c,S),de!=null&&O.push(Pu(c,de,K)))),c=c.return}O.length!==0&&r.push({event:a,listeners:O})}var bk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function px(r){return(typeof r=="string"?r:""+r).replace(bk,`
`).replace(xk,"")}function gx(r,a){return a=px(a),px(r)===a}function Ct(r,a,c,p,x,S){switch(c){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||xi(r,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&xi(r,""+p);break;case"className":wt(r,"class",p);break;case"tabIndex":wt(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":wt(r,c,p);break;case"style":co(r,p,S);break;case"data":if(a!=="object"){wt(r,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=cs(""+p),r.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(a!=="input"&&Ct(r,a,"name",x.name,x,null),Ct(r,a,"formEncType",x.formEncType,x,null),Ct(r,a,"formMethod",x.formMethod,x,null),Ct(r,a,"formTarget",x.formTarget,x,null)):(Ct(r,a,"encType",x.encType,x,null),Ct(r,a,"method",x.method,x,null),Ct(r,a,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=cs(""+p),r.setAttribute(c,p);break;case"onClick":p!=null&&(r.onclick=Fn);break;case"onScroll":p!=null&&at("scroll",r);break;case"onScrollEnd":p!=null&&at("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}c=cs(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""+p):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":p===!0?r.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,p):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(c,p):r.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(c):r.setAttribute(c,p);break;case"popover":at("beforetoggle",r),at("toggle",r),it(r,"popover",p);break;case"xlinkActuate":Hn(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Hn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Hn(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Hn(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Hn(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Hn(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Hn(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Hn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Hn(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":it(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ho.get(c)||c,it(r,c,p))}}function hp(r,a,c,p,x,S){switch(c){case"style":co(r,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof p=="string"?xi(r,p):(typeof p=="number"||typeof p=="bigint")&&xi(r,""+p);break;case"onScroll":p!=null&&at("scroll",r);break;case"onScrollEnd":p!=null&&at("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),a=c.slice(2,x?c.length-7:void 0),S=r[fn]||null,S=S!=null?S[c]:null,typeof S=="function"&&r.removeEventListener(a,S,x),typeof p=="function")){typeof S!="function"&&S!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,p,x);break e}c in r?r[c]=p:p===!0?r.setAttribute(c,""):it(r,c,p)}}}function wn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",r),at("load",r);var p=!1,x=!1,S;for(S in c)if(c.hasOwnProperty(S)){var O=c[S];if(O!=null)switch(S){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ct(r,a,S,O,c,null)}}x&&Ct(r,a,"srcSet",c.srcSet,c,null),p&&Ct(r,a,"src",c.src,c,null);return;case"input":at("invalid",r);var V=S=O=x=null,K=null,de=null;for(p in c)if(c.hasOwnProperty(p)){var ve=c[p];if(ve!=null)switch(p){case"name":x=ve;break;case"type":O=ve;break;case"checked":K=ve;break;case"defaultChecked":de=ve;break;case"value":S=ve;break;case"defaultValue":V=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:Ct(r,a,p,ve,c,null)}}la(r,S,V,K,de,O,x,!1);return;case"select":at("invalid",r),p=O=S=null;for(x in c)if(c.hasOwnProperty(x)&&(V=c[x],V!=null))switch(x){case"value":S=V;break;case"defaultValue":O=V;break;case"multiple":p=V;default:Ct(r,a,x,V,c,null)}a=S,c=O,r.multiple=!!p,a!=null?Et(r,!!p,a,!1):c!=null&&Et(r,!!p,c,!0);return;case"textarea":at("invalid",r),S=x=p=null;for(O in c)if(c.hasOwnProperty(O)&&(V=c[O],V!=null))switch(O){case"value":p=V;break;case"defaultValue":x=V;break;case"children":S=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(91));break;default:Ct(r,a,O,V,c,null)}ls(r,p,x,S);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(p=c[K],p!=null))switch(K){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ct(r,a,K,p,c,null)}return;case"dialog":at("beforetoggle",r),at("toggle",r),at("cancel",r),at("close",r);break;case"iframe":case"object":at("load",r);break;case"video":case"audio":for(p=0;p<Ou.length;p++)at(Ou[p],r);break;case"image":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"embed":case"source":case"link":at("error",r),at("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in c)if(c.hasOwnProperty(de)&&(p=c[de],p!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ct(r,a,de,p,c,null)}return;default:if(ua(a)){for(ve in c)c.hasOwnProperty(ve)&&(p=c[ve],p!==void 0&&hp(r,a,ve,p,c,void 0));return}}for(V in c)c.hasOwnProperty(V)&&(p=c[V],p!=null&&Ct(r,a,V,p,c,null))}function _k(r,a,c,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,O=null,V=null,K=null,de=null,ve=null;for(me in c){var Se=c[me];if(c.hasOwnProperty(me)&&Se!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":K=Se;default:p.hasOwnProperty(me)||Ct(r,a,me,null,p,Se)}}for(var fe in p){var me=p[fe];if(Se=c[fe],p.hasOwnProperty(fe)&&(me!=null||Se!=null))switch(fe){case"type":S=me;break;case"name":x=me;break;case"checked":de=me;break;case"defaultChecked":ve=me;break;case"value":O=me;break;case"defaultValue":V=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,a));break;default:me!==Se&&Ct(r,a,fe,me,p,Se)}}Gl(r,O,V,K,de,ve,S,x);return;case"select":me=O=V=fe=null;for(S in c)if(K=c[S],c.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":me=K;default:p.hasOwnProperty(S)||Ct(r,a,S,null,p,K)}for(x in p)if(S=p[x],K=c[x],p.hasOwnProperty(x)&&(S!=null||K!=null))switch(x){case"value":fe=S;break;case"defaultValue":V=S;break;case"multiple":O=S;default:S!==K&&Ct(r,a,x,S,p,K)}a=V,c=O,p=me,fe!=null?Et(r,!!c,fe,!1):!!p!=!!c&&(a!=null?Et(r,!!c,a,!0):Et(r,!!c,c?[]:"",!1));return;case"textarea":me=fe=null;for(V in c)if(x=c[V],c.hasOwnProperty(V)&&x!=null&&!p.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Ct(r,a,V,null,p,x)}for(O in p)if(x=p[O],S=c[O],p.hasOwnProperty(O)&&(x!=null||S!=null))switch(O){case"value":fe=x;break;case"defaultValue":me=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==S&&Ct(r,a,O,x,p,S)}ar(r,fe,me);return;case"option":for(var Pe in c)if(fe=c[Pe],c.hasOwnProperty(Pe)&&fe!=null&&!p.hasOwnProperty(Pe))switch(Pe){case"selected":r.selected=!1;break;default:Ct(r,a,Pe,null,p,fe)}for(K in p)if(fe=p[K],me=c[K],p.hasOwnProperty(K)&&fe!==me&&(fe!=null||me!=null))switch(K){case"selected":r.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ct(r,a,K,fe,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)fe=c[qe],c.hasOwnProperty(qe)&&fe!=null&&!p.hasOwnProperty(qe)&&Ct(r,a,qe,null,p,fe);for(de in p)if(fe=p[de],me=c[de],p.hasOwnProperty(de)&&fe!==me&&(fe!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,a));break;default:Ct(r,a,de,fe,p,me)}return;default:if(ua(a)){for(var jt in c)fe=c[jt],c.hasOwnProperty(jt)&&fe!==void 0&&!p.hasOwnProperty(jt)&&hp(r,a,jt,void 0,p,fe);for(ve in p)fe=p[ve],me=c[ve],!p.hasOwnProperty(ve)||fe===me||fe===void 0&&me===void 0||hp(r,a,ve,fe,p,me);return}}for(var ie in c)fe=c[ie],c.hasOwnProperty(ie)&&fe!=null&&!p.hasOwnProperty(ie)&&Ct(r,a,ie,null,p,fe);for(Se in p)fe=p[Se],me=c[Se],!p.hasOwnProperty(Se)||fe===me||fe==null&&me==null||Ct(r,a,Se,fe,p,me)}function yx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wk(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var x=c[p],S=x.transferSize,O=x.initiatorType,V=x.duration;if(S&&V&&yx(O)){for(O=0,V=x.responseEnd,p+=1;p<c.length;p++){var K=c[p],de=K.startTime;if(de>V)break;var ve=K.transferSize,Se=K.initiatorType;ve&&yx(Se)&&(K=K.responseEnd,O+=ve*(K<V?1:(V-de)/(K-de)))}if(--p,a+=8*(S+O)/(x.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var fp=null,mp=null;function ih(r){return r.nodeType===9?r:r.ownerDocument}function vx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bx(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function pp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gp=null;function Sk(){var r=window.event;return r&&r.type==="popstate"?r===gp?!1:(gp=r,!0):(gp=null,!1)}var xx=typeof setTimeout=="function"?setTimeout:void 0,Ck=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(r){return _x.resolve(null).then(r).catch(Ek)}:xx;function Ek(r){setTimeout(function(){throw r})}function Ds(r){return r==="head"}function wx(r,a){var c=a,p=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(p===0){r.removeChild(x),Wo(a);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Ru(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Ru(c);for(var S=c.firstChild;S;){var O=S.nextSibling,V=S.nodeName;S[sa]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}}else c==="body"&&Ru(r.ownerDocument.body);c=x}while(c);Wo(a)}function Sx(r,a){var c=r;r=0;do{var p=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=p}while(c)}function yp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":yp(c),Fl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function kk(r,a,c,p){for(;r.nodeType===1;){var x=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[sa])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=Li(r.nextSibling),r===null)break}return null}function Tk(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Li(r.nextSibling),r===null))return null;return r}function Cx(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Li(r.nextSibling),r===null))return null;return r}function vp(r){return r.data==="$?"||r.data==="$~"}function bp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Lk(r,a){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||c.readyState!=="loading")a();else{var p=function(){a(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function Li(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var xp=null;function jx(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(a===0)return Li(r.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}r=r.nextSibling}return null}function Ex(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return r;a--}else c!=="/$"&&c!=="/&"||a++}r=r.previousSibling}return null}function kx(r,a,c){switch(a=ih(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ru(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Fl(r)}var Ni=new Map,Tx=new Set;function rh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Jr=Z.d;Z.d={f:Nk,r:Ak,D:Mk,C:Ok,L:Pk,m:Rk,X:zk,S:Dk,M:Bk};function Nk(){var r=Jr.f(),a=Wd();return r||a}function Ak(r){var a=ss(r);a!==null&&a.tag===5&&a.type==="form"?$0(a):Jr.r(r)}var Zo=typeof document>"u"?null:document;function Lx(r,a,c){var p=Zo;if(p&&typeof a=="string"&&a){var x=Mt(a);x='link[rel="'+r+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Tx.has(x)||(Tx.add(x),r={rel:r,crossOrigin:c,href:a},p.querySelector(x)===null&&(a=p.createElement("link"),wn(a,"link",r),Qt(a),p.head.appendChild(a)))}}function Mk(r){Jr.D(r),Lx("dns-prefetch",r,null)}function Ok(r,a){Jr.C(r,a),Lx("preconnect",r,a)}function Pk(r,a,c){Jr.L(r,a,c);var p=Zo;if(p&&r&&a){var x='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Mt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Mt(c.imageSizes)+'"]')):x+='[href="'+Mt(r)+'"]';var S=x;switch(a){case"style":S=Go(r);break;case"script":S=Ko(r)}Ni.has(S)||(r=v({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Ni.set(S,r),p.querySelector(x)!==null||a==="style"&&p.querySelector(Du(S))||a==="script"&&p.querySelector(zu(S))||(a=p.createElement("link"),wn(a,"link",r),Qt(a),p.head.appendChild(a)))}}function Rk(r,a){Jr.m(r,a);var c=Zo;if(c&&r){var p=a&&typeof a.as=="string"?a.as:"script",x='link[rel="modulepreload"][as="'+Mt(p)+'"][href="'+Mt(r)+'"]',S=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ko(r)}if(!Ni.has(S)&&(r=v({rel:"modulepreload",href:r},a),Ni.set(S,r),c.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zu(S)))return}p=c.createElement("link"),wn(p,"link",r),Qt(p),c.head.appendChild(p)}}}function Dk(r,a,c){Jr.S(r,a,c);var p=Zo;if(p&&r){var x=as(p).hoistableStyles,S=Go(r);a=a||"default";var O=x.get(S);if(!O){var V={loading:0,preload:null};if(O=p.querySelector(Du(S)))V.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Ni.get(S))&&_p(r,c);var K=O=p.createElement("link");Qt(K),wn(K,"link",r),K._p=new Promise(function(de,ve){K.onload=de,K.onerror=ve}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,sh(O,a,p)}O={type:"stylesheet",instance:O,count:1,state:V},x.set(S,O)}}}function zk(r,a){Jr.X(r,a);var c=Zo;if(c&&r){var p=as(c).hoistableScripts,x=Ko(r),S=p.get(x);S||(S=c.querySelector(zu(x)),S||(r=v({src:r,async:!0},a),(a=Ni.get(x))&&wp(r,a),S=c.createElement("script"),Qt(S),wn(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(x,S))}}function Bk(r,a){Jr.M(r,a);var c=Zo;if(c&&r){var p=as(c).hoistableScripts,x=Ko(r),S=p.get(x);S||(S=c.querySelector(zu(x)),S||(r=v({src:r,async:!0,type:"module"},a),(a=Ni.get(x))&&wp(r,a),S=c.createElement("script"),Qt(S),wn(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(x,S))}}function Nx(r,a,c,p){var x=(x=oe.current)?rh(x):null;if(!x)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Go(c.href),c=as(x).hoistableStyles,p=c.get(a),p||(p={type:"style",instance:null,count:0,state:null},c.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Go(c.href);var S=as(x).hoistableStyles,O=S.get(r);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,O),(S=x.querySelector(Du(r)))&&!S._p&&(O.instance=S,O.state.loading=5),Ni.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ni.set(r,c),S||Ik(x,r,c,O.state))),a&&p===null)throw Error(i(528,""));return O}if(a&&p!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ko(c),c=as(x).hoistableScripts,p=c.get(a),p||(p={type:"script",instance:null,count:0,state:null},c.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Go(r){return'href="'+Mt(r)+'"'}function Du(r){return'link[rel="stylesheet"]['+r+"]"}function Ax(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Ik(r,a,c,p){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=r.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),wn(a,"link",c),Qt(a),r.head.appendChild(a))}function Ko(r){return'[src="'+Mt(r)+'"]'}function zu(r){return"script[async]"+r}function Mx(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var p=r.querySelector('style[data-href~="'+Mt(c.href)+'"]');if(p)return a.instance=p,Qt(p),p;var x=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),Qt(p),wn(p,"style",x),sh(p,c.precedence,r),a.instance=p;case"stylesheet":x=Go(c.href);var S=r.querySelector(Du(x));if(S)return a.state.loading|=4,a.instance=S,Qt(S),S;p=Ax(c),(x=Ni.get(x))&&_p(p,x),S=(r.ownerDocument||r).createElement("link"),Qt(S);var O=S;return O._p=new Promise(function(V,K){O.onload=V,O.onerror=K}),wn(S,"link",p),a.state.loading|=4,sh(S,c.precedence,r),a.instance=S;case"script":return S=Ko(c.src),(x=r.querySelector(zu(S)))?(a.instance=x,Qt(x),x):(p=c,(x=Ni.get(S))&&(p=v({},c),wp(p,x)),r=r.ownerDocument||r,x=r.createElement("script"),Qt(x),wn(x,"link",p),r.head.appendChild(x),a.instance=x);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,sh(p,c.precedence,r));return a.instance}function sh(r,a,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,S=x,O=0;O<p.length;O++){var V=p[O];if(V.dataset.precedence===a)S=V;else if(S!==x)break}S?S.parentNode.insertBefore(r,S.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function _p(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function wp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var ah=null;function Ox(r,a,c){if(ah===null){var p=new Map,x=ah=new Map;x.set(c,p)}else x=ah,p=x.get(c),p||(p=new Map,x.set(c,p));if(p.has(r))return p;for(p.set(r,null),c=c.getElementsByTagName(r),x=0;x<c.length;x++){var S=c[x];if(!(S[sa]||S[Xt]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(a)||"";O=r+O;var V=p.get(O);V?V.push(S):p.set(O,[S])}}return p}function Px(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function Vk(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Rx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Uk(r,a,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Go(p.href),S=a.querySelector(Du(x));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=oh.bind(r),a.then(r,r)),c.state.loading|=4,c.instance=S,Qt(S);return}S=a.ownerDocument||a,p=Ax(p),(x=Ni.get(x))&&_p(p,x),S=S.createElement("link"),Qt(S);var O=S;O._p=new Promise(function(V,K){O.onload=V,O.onerror=K}),wn(S,"link",p),c.instance=S}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=oh.bind(r),a.addEventListener("load",c),a.addEventListener("error",c))}}var Sp=0;function Hk(r,a){return r.stylesheets&&r.count===0&&uh(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var p=setTimeout(function(){if(r.stylesheets&&uh(r,r.stylesheets),r.unsuspend){var S=r.unsuspend;r.unsuspend=null,S()}},6e4+a);0<r.imgBytes&&Sp===0&&(Sp=62500*wk());var x=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&uh(r,r.stylesheets),r.unsuspend)){var S=r.unsuspend;r.unsuspend=null,S()}},(r.imgBytes>Sp?50:800)+a);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var lh=null;function uh(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,lh=new Map,a.forEach(Fk,r),lh=null,oh.call(r))}function Fk(r,a){if(!(a.state.loading&4)){var c=lh.get(r);if(c)var p=c.get(null);else{c=new Map,lh.set(r,c);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var O=x[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),p=O)}p&&c.set(null,p)}x=a.instance,O=x.getAttribute("data-precedence"),S=c.get(O)||p,S===p&&c.set(null,x),c.set(O,x),this.count++,p=oh.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),S?S.parentNode.insertBefore(x,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),a.state.loading|=4}}var Bu={$$typeof:A,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function qk(r,a,c,p,x,S,O,V,K){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function Dx(r,a,c,p,x,S,O,V,K,de,ve,Se){return r=new qk(r,a,c,O,K,de,ve,Se,V),a=1,S===!0&&(a|=24),S=kn(3,null,null,a),r.current=S,S.stateNode=r,a=nm(),a.refCount++,r.pooledCache=a,a.refCount++,S.memoizedState={element:p,isDehydrated:c,cache:a},am(S),r}function zx(r){return r?(r=Ir,r):Ir}function Bx(r,a,c,p,x,S){x=zx(x),p.context===null?p.context=x:p.pendingContext=x,p=js(a),p.payload={element:c},S=S===void 0?null:S,S!==null&&(p.callback=S),c=Es(r,p,a),c!==null&&(Qn(c,r,a),gu(c,r,a))}function Ix(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Cp(r,a){Ix(r,a),(r=r.alternate)&&Ix(r,a)}function Vx(r){if(r.tag===13||r.tag===31){var a=Ei(r,67108864);a!==null&&Qn(a,r,67108864),Cp(r,67108864)}}function Ux(r){if(r.tag===13||r.tag===31){var a=hi();a=Un(a);var c=Ei(r,a);c!==null&&Qn(c,r,a),Cp(r,a)}}var ch=!0;function $k(r,a,c,p){var x=F.T;F.T=null;var S=Z.p;try{Z.p=2,jp(r,a,c,p)}finally{Z.p=S,F.T=x}}function Zk(r,a,c,p){var x=F.T;F.T=null;var S=Z.p;try{Z.p=8,jp(r,a,c,p)}finally{Z.p=S,F.T=x}}function jp(r,a,c,p){if(ch){var x=Ep(p);if(x===null)dp(r,a,p,dh,c),Fx(r,p);else if(Kk(x,r,a,c,p))p.stopPropagation();else if(Fx(r,p),a&4&&-1<Gk.indexOf(r)){for(;x!==null;){var S=ss(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Nr(S.pendingLanes);if(O!==0){var V=S;for(V.pendingLanes|=2,V.entangledLanes|=2;O;){var K=1<<31-vt(O);V.entanglements[1]|=K,O&=~K}vr(S),(pt&6)===0&&(Gd=yn()+500,Mu(0))}}break;case 31:case 13:V=Ei(S,2),V!==null&&Qn(V,S,2),Wd(),Cp(S,2)}if(S=Ep(p),S===null&&dp(r,a,p,dh,c),S===x)break;x=S}x!==null&&p.stopPropagation()}else dp(r,a,p,null,c)}}function Ep(r){return r=ca(r),kp(r)}var dh=null;function kp(r){if(dh=null,r=Or(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=u(a),r!==null)return r;r=null}else if(c===31){if(r=d(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return dh=r,null}function Hx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Il()){case be:return 2;case Te:return 8;case Fe:case nt:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Tp=!1,zs=null,Bs=null,Is=null,Iu=new Map,Vu=new Map,Vs=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fx(r,a){switch(r){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Iu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(a.pointerId)}}function Uu(r,a,c,p,x,S){return r===null||r.nativeEvent!==S?(r={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[x]},a!==null&&(a=ss(a),a!==null&&Vx(a)),r):(r.eventSystemFlags|=p,a=r.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),r)}function Kk(r,a,c,p,x){switch(a){case"focusin":return zs=Uu(zs,r,a,c,p,x),!0;case"dragenter":return Bs=Uu(Bs,r,a,c,p,x),!0;case"mouseover":return Is=Uu(Is,r,a,c,p,x),!0;case"pointerover":var S=x.pointerId;return Iu.set(S,Uu(Iu.get(S)||null,r,a,c,p,x)),!0;case"gotpointercapture":return S=x.pointerId,Vu.set(S,Uu(Vu.get(S)||null,r,a,c,p,x)),!0}return!1}function qx(r){var a=Or(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=u(c),a!==null){r.blockedOn=a,Hl(r.priority,function(){Ux(c)});return}}else if(a===31){if(a=d(c),a!==null){r.blockedOn=a,Hl(r.priority,function(){Ux(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Ep(r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);fo=p,c.target.dispatchEvent(p),fo=null}else return a=ss(c),a!==null&&Vx(a),r.blockedOn=c,!1;a.shift()}return!0}function $x(r,a,c){hh(r)&&c.delete(a)}function Wk(){Tp=!1,zs!==null&&hh(zs)&&(zs=null),Bs!==null&&hh(Bs)&&(Bs=null),Is!==null&&hh(Is)&&(Is=null),Iu.forEach($x),Vu.forEach($x)}function fh(r,a){r.blockedOn===a&&(r.blockedOn=null,Tp||(Tp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wk)))}var mh=null;function Zx(r){mh!==r&&(mh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mh===r&&(mh=null);for(var a=0;a<r.length;a+=3){var c=r[a],p=r[a+1],x=r[a+2];if(typeof p!="function"){if(kp(p||c)===null)continue;break}var S=ss(c);S!==null&&(r.splice(a,3),a-=3,Em(S,{pending:!0,data:x,method:c.method,action:p},p,x))}}))}function Wo(r){function a(K){return fh(K,r)}zs!==null&&fh(zs,r),Bs!==null&&fh(Bs,r),Is!==null&&fh(Is,r),Iu.forEach(a),Vu.forEach(a);for(var c=0;c<Vs.length;c++){var p=Vs[c];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Vs.length&&(c=Vs[0],c.blockedOn===null);)qx(c),c.blockedOn===null&&Vs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var x=c[p],S=c[p+1],O=x[fn]||null;if(typeof S=="function")O||Zx(c);else if(O){var V=null;if(S&&S.hasAttribute("formAction")){if(x=S,O=S[fn]||null)V=O.formAction;else if(kp(x)!==null)continue}else V=O.action;typeof V=="function"?c[p+1]=V:(c.splice(p,3),p-=3),Zx(c)}}}function Gx(){function r(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return x=O})},focusReset:"manual",scroll:"manual"})}function a(){x!==null&&(x(),x=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),x!==null&&(x(),x=null)}}}function Lp(r){this._internalRoot=r}ph.prototype.render=Lp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,p=hi();Bx(c,p,r,a,null,null)},ph.prototype.unmount=Lp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Bx(r.current,2,null,r,null,null),Wd(),a[Mr]=null}};function ph(r){this._internalRoot=r}ph.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ul();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Vs.length&&a!==0&&a<Vs[c].priority;c++);Vs.splice(c,0,r),c===0&&qx(r)}};var Kx=t.version;if(Kx!=="19.2.0")throw Error(i(527,Kx,"19.2.0"));Z.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var Yk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{hn=gh.inject(Yk),Bt=gh}catch{}}return Fu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,p="",x=tb,S=nb,O=ib;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError)),a=Dx(r,1,!1,null,null,c,p,null,x,S,O,Gx),r[Mr]=a.current,cp(r),new Lp(a)},Fu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var p=!1,x="",S=tb,O=nb,V=ib,K=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(V=c.onRecoverableError),c.formState!==void 0&&(K=c.formState)),a=Dx(r,1,!0,a,c??null,p,x,K,S,O,V,Gx),a.context=zx(null),c=a.current,p=hi(),p=Un(p),x=js(p),x.callback=null,Es(c,x,p),c=p,a.current.lanes=c,Ar(a,c),vr(a),r[Mr]=a.current,cp(r),new ph(a)},Fu.version="19.2.0",Fu}var r_;function sT(){if(r_)return Mp.exports;r_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mp.exports=rT(),Mp.exports}var aT=sT();function El(){const e="/Map";return e.endsWith("/")?e:`${e}/`}function Ji(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=El();return e.startsWith("/assets/logos/")?`${t}${e.slice(1)}`:e.startsWith("logos/")?`${t}assets/logos/${e.slice(6)}`:`${t}assets/logos/${e}`}var Pg=function(e,t){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},Pg(e,t)};function CS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $h=function(){return $h=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},$h.apply(this,arguments)};function kl(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function jS(e,t,n,i){var s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(u=e[d])&&(o=(s<3?u(o):s>3?u(t,n,o):u(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function ES(e,t){return function(n,i){t(n,i,e)}}function kS(e,t,n,i,s,o){function u(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var d=i.kind,f=d==="getter"?"get":d==="setter"?"set":"value",g=!t&&e?i.static?e:e.prototype:null,y=t||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),v,w=!1,_=n.length-1;_>=0;_--){var j={};for(var E in i)j[E]=E==="access"?{}:i[E];for(var E in i.access)j.access[E]=i.access[E];j.addInitializer=function(M){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(M||null))};var T=(0,n[_])(d==="accessor"?{get:y.get,set:y.set}:y[f],j);if(d==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(v=u(T.get))&&(y.get=v),(v=u(T.set))&&(y.set=v),(v=u(T.init))&&s.unshift(v)}else(v=u(T))&&(d==="field"?s.unshift(v):y[f]=v)}g&&Object.defineProperty(g,i.name,y),w=!0}function TS(e,t,n){for(var i=arguments.length>2,s=0;s<t.length;s++)n=i?t[s].call(e,n):t[s].call(e);return i?n:void 0}function LS(e){return typeof e=="symbol"?e:"".concat(e)}function NS(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function AS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function De(e,t,n,i){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(y){try{g(i.next(y))}catch(v){u(v)}}function f(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?o(y.value):s(y.value).then(d,f)}g((i=i.apply(e,t||[])).next())})}function MS(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(y){return f([g,y])}}function f(g){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(i=1,s&&(o=g[0]&2?s.return:g[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,g[1])).done)return o;switch(s=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{i=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var df=Object.create?(function(e,t,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]});function OS(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&df(t,e,n)}function Zh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dy(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],u;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return o}function PS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dy(arguments[t]));return e}function RS(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],u=0,d=o.length;u<d;u++,s++)i[s]=o[u];return i}function DS(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function vl(e){return this instanceof vl?(this.v=e,this):new vl(e)}function zS(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(_){return function(j){return Promise.resolve(j).then(_,v)}}function d(_,j){i[_]&&(s[_]=function(E){return new Promise(function(T,M){o.push([_,E,T,M])>1||f(_,E)})},j&&(s[_]=j(s[_])))}function f(_,j){try{g(i[_](j))}catch(E){w(o[0][3],E)}}function g(_){_.value instanceof vl?Promise.resolve(_.value.v).then(y,v):w(o[0][2],_)}function y(_){f("next",_)}function v(_){f("throw",_)}function w(_,j){_(j),o.shift(),o.length&&f(o[0][0],o[0][1])}}function BS(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,o){t[s]=e[s]?function(u){return(n=!n)?{value:vl(e[s](u)),done:!1}:o?o(u):u}:o}}function IS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zh=="function"?Zh(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(u){return new Promise(function(d,f){u=e[o](u),s(d,f,u.done,u.value)})}}function s(o,u,d,f){Promise.resolve(f).then(function(g){o({value:g,done:d})},u)}}function VS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var oT=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Rg=function(e){return Rg=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},Rg(e)};function US(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Rg(e),i=0;i<n.length;i++)n[i]!=="default"&&df(t,e,n[i]);return oT(t,e),t}function HS(e){return e&&e.__esModule?e:{default:e}}function FS(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function qS(e,t,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function $S(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ZS(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var lT=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function GS(e){function t(o){e.error=e.hasError?new lT(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,function(u){return t(u),s()})}else i|=1}catch(u){t(u)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function KS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,s,o,u){return i?t?".jsx":".js":s&&(!o||!u)?n:s+o+"."+u.toLowerCase()+"js"}):e}const uT={__extends:CS,__assign:$h,__rest:kl,__decorate:jS,__param:ES,__esDecorate:kS,__runInitializers:TS,__propKey:LS,__setFunctionName:NS,__metadata:AS,__awaiter:De,__generator:MS,__createBinding:df,__exportStar:OS,__values:Zh,__read:Dy,__spread:PS,__spreadArrays:RS,__spreadArray:DS,__await:vl,__asyncGenerator:zS,__asyncDelegator:BS,__asyncValues:IS,__makeTemplateObject:VS,__importStar:US,__importDefault:HS,__classPrivateFieldGet:FS,__classPrivateFieldSet:qS,__classPrivateFieldIn:$S,__addDisposableResource:ZS,__disposeResources:GS,__rewriteRelativeImportExtension:KS},cT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ZS,get __assign(){return $h},__asyncDelegator:BS,__asyncGenerator:zS,__asyncValues:IS,__await:vl,__awaiter:De,__classPrivateFieldGet:FS,__classPrivateFieldIn:$S,__classPrivateFieldSet:qS,__createBinding:df,__decorate:jS,__disposeResources:GS,__esDecorate:kS,__exportStar:OS,__extends:CS,__generator:MS,__importDefault:HS,__importStar:US,__makeTemplateObject:VS,__metadata:AS,__param:ES,__propKey:LS,__read:Dy,__rest:kl,__rewriteRelativeImportExtension:KS,__runInitializers:TS,__setFunctionName:NS,__spread:PS,__spreadArray:DS,__spreadArrays:RS,__values:Zh,default:uT},Symbol.toStringTag,{value:"Module"})),dT="modulepreload",hT=function(e){return"/Map/"+e},s_={},tr=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(n.map(g=>{if(g=hT(g),g in s_)return;s_[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":dT,y||(w.as="script"),w.crossOrigin="",w.href=g,d&&w.setAttribute("nonce",d),document.head.appendChild(w),y)return new Promise((_,j)=>{w.addEventListener("load",_),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},fT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>tr(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class zy extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class a_ extends zy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o_ extends zy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class l_ extends zy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dg||(Dg={}));class mT{constructor(t,{headers:n={},customFetch:i,region:s=Dg.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=fT(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return De(this,arguments,void 0,function*(n,i={}){var s;try{const{headers:o,method:u,body:d,signal:f}=i;let g={},{region:y}=i;y||(y=this.region);const v=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(g["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(g["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;const _=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:w,signal:f}).catch(M=>{throw M.name==="AbortError"?M:new a_(M)}),j=_.headers.get("x-relay-error");if(j&&j==="true")throw new o_(_);if(!_.ok)throw new l_(_);let E=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield _.json():E==="application/octet-stream"||E==="application/pdf"?T=yield _.blob():E==="text/event-stream"?T=_:E==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new a_(o)}:{data:null,error:o,response:o instanceof l_||o instanceof o_?o.context:void 0}}})}}var Ln={};const Tl=wS(cT);var yh={},vh={},bh={},xh={},_h={},pT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bl=pT();const gT=bl.fetch,WS=bl.fetch.bind(bl),YS=bl.Headers,yT=bl.Request,vT=bl.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:YS,Request:yT,Response:vT,default:WS,fetch:gT},Symbol.toStringTag,{value:"Module"})),bT=wS(to);var wh={},u_;function XS(){if(u_)return wh;u_=1,Object.defineProperty(wh,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return wh.default=e,wh}var c_;function QS(){if(c_)return _h;c_=1,Object.defineProperty(_h,"__esModule",{value:!0});const e=Tl,t=e.__importDefault(bT),n=e.__importDefault(XS());class i{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,w,_;let j=null,E=null,T=null,M=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const R=await g.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?E=R:E=JSON.parse(R))}const U=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),H=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");U&&H&&H.length>1&&(T=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(j={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,M=406,P="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const U=await g.text();try{j=JSON.parse(U),Array.isArray(j)&&g.status===404&&(E=[],j=null,M=200,P="OK")}catch{g.status===404&&U===""?(M=204,P="No Content"):j={message:U}}if(j&&this.isMaybeSingle&&(!((_=j?.details)===null||_===void 0)&&_.includes("0 rows"))&&(j=null,M=200,P="OK"),j&&this.shouldThrowOnError)throw new n.default(j)}return{error:j,data:E,count:T,status:M,statusText:P}});return this.shouldThrowOnError||(f=f.catch(g=>{var y,v,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,u)}returns(){return this}overrideTypes(){return this}}return _h.default=i,_h}var d_;function JS(){if(d_)return xh;d_=1,Object.defineProperty(xh,"__esModule",{value:!0});const t=Tl.__importDefault(QS());class n extends t.default{select(s){let o=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${s}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(g,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:g="text"}={}){var y;const v=[s?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return xh.default=n,xh}var h_;function By(){if(h_)return bh;h_=1,Object.defineProperty(bh,"__esModule",{value:!0});const t=Tl.__importDefault(JS());class n extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${g}.${o}`),this}match(s){return Object.entries(s).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(s,o,u){return this.url.searchParams.append(s,`not.${o}.${u}`),this}or(s,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,u){return this.url.searchParams.append(s,`${o}.${u}`),this}}return bh.default=n,bh}var f_;function e2(){if(f_)return vh;f_=1,Object.defineProperty(vh,"__esModule",{value:!0});const t=Tl.__importDefault(By());class n{constructor(s,{headers:o={},schema:u,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(s,o){const{head:u=!1,count:d}=o??{},f=u?"HEAD":"GET";let g=!1;const y=(s??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:u=!0}={}){var d;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(s,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:s}={}){var o;const u="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return vh.default=n,vh}var m_;function xT(){if(m_)return yh;m_=1,Object.defineProperty(yh,"__esModule",{value:!0});const e=Tl,t=e.__importDefault(e2()),n=e.__importDefault(By());class i{constructor(o,{headers:u={},schema:d,fetch:f}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:f=!1,count:g}={}){var y;let v;const w=new URL(`${this.url}/rpc/${o}`);let _;d||f?(v=d?"HEAD":"GET",Object.entries(u).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{w.searchParams.append(E,T)})):(v="POST",_=u);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new n.default({method:v,url:w,headers:j,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return yh.default=i,yh}var p_;function _T(){if(p_)return Ln;p_=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.PostgrestError=Ln.PostgrestBuilder=Ln.PostgrestTransformBuilder=Ln.PostgrestFilterBuilder=Ln.PostgrestQueryBuilder=Ln.PostgrestClient=void 0;const e=Tl,t=e.__importDefault(xT());Ln.PostgrestClient=t.default;const n=e.__importDefault(e2());Ln.PostgrestQueryBuilder=n.default;const i=e.__importDefault(By());Ln.PostgrestFilterBuilder=i.default;const s=e.__importDefault(JS());Ln.PostgrestTransformBuilder=s.default;const o=e.__importDefault(QS());Ln.PostgrestBuilder=o.default;const u=e.__importDefault(XS());return Ln.PostgrestError=u.default,Ln.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:u.default},Ln}var wT=_T();const ST=eo(wT),{PostgrestClient:CT,PostgrestQueryBuilder:$9,PostgrestFilterBuilder:Z9,PostgrestTransformBuilder:G9,PostgrestBuilder:K9,PostgrestError:W9}=ST;class jT{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ET="2.76.1",kT=`realtime-js/${ET}`,TT="1.0.0",zg=1e4,LT=1e3,NT=100;var ic;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ic||(ic={}));var dn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dn||(dn={}));var Qi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qi||(Qi={}));var Bg;(function(e){e.websocket="websocket"})(Bg||(Bg={}));var Za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Za||(Za={}));class AT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(t.slice(u,u+s));u=u+s;const f=i.decode(t.slice(u,u+o));u=u+o;const g=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:f,payload:g}}}class t2{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Lt||(Lt={}));const g_=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,u)=>(o[u]=MT(u,e,t,s),o),{}):{}},MT=(e,t,n,i)=>{const s=t.find(d=>d.name===e),o=s?.type,u=n[e];return o&&!i.includes(o)?n2(o,u):Ig(u)},n2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return DT(t,n)}switch(e){case Lt.bool:return OT(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return PT(t);case Lt.json:case Lt.jsonb:return RT(t);case Lt.timestamp:return zT(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return Ig(t);default:return Ig(t)}},Ig=e=>e,OT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const u=e.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>n2(t,d))}return e},zT=e=>typeof e=="string"?e.replace(" ","T"):e,i2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dp{constructor(t,n,i={},s=zg){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var y_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(y_||(y_={}));class rc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,s,o,u),this.pendingDiffs.forEach(f=>{this.state=rc.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rc.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),u=this.transformState(n),d={},f={};return this.map(o,(g,y)=>{u[g]||(f[g]=y)}),this.map(u,(g,y)=>{const v=o[g];if(v){const w=y.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),j=y.filter(T=>_.indexOf(T.presence_ref)<0),E=v.filter(T=>w.indexOf(T.presence_ref)<0);j.length>0&&(d[g]=j),E.length>0&&(f[g]=E)}else d[g]=y}),this.syncDiff(o,{joins:d,leaves:f},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(d,f)=>{var g;const y=(g=t[d])!==null&&g!==void 0?g:[];if(t[d]=this.cloneDeep(f),y.length>0){const v=t[d].map(_=>_.presence_ref),w=y.filter(_=>v.indexOf(_.presence_ref)<0);t[d].unshift(...w)}i(d,y,f)}),this.map(u,(d,f)=>{let g=t[d];if(!g)return;const y=f.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[d]=g,s(d,g,f),g.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(v_||(v_={}));var sc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sc||(sc={}));var es;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class Iy{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dp(this,Qi.join,this.params,this.timeout),this.rejoinTimer=new t2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qi.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new rc(this),this.broadcastEndpointURL=i2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==dn.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,g=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[sc.PRESENCE]&&this.bindings[sc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(es.CHANNEL_ERROR,_)),this._onClose(()=>t?.(es.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket.setAuth(),_===void 0){t?.(es.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(j=E?.length)!==null&&j!==void 0?j:0,M=[];for(let P=0;P<T;P++){const A=E[P],{filter:{event:U,schema:H,table:R,filter:q}}=A,J=_&&_[P];if(J&&J.event===U&&J.schema===H&&J.table===R&&J.filter===q)M.push(Object.assign(Object.assign({},A),{id:J.id}));else{this.unsubscribe(),this.state=dn.errored,t?.(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(es.SUBSCRIBED);return}}).receive("error",_=>{this.state=dn.errored,t?.(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===dn.joined&&t===sc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const g=await d.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=g.body)===null||s===void 0?void 0:s.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,f;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qi.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Dp(this,Qi.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),u}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dp(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const u=t.toLocaleLowerCase(),{close:d,error:f,leave:g,join:y}=Qi;if(i&&[d,f,g,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var j,E,T;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(w,i)):(o=this.bindings[u])===null||o===void 0||o.filter(_=>{var j,E,T,M,P,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const U=_.id,H=(j=_.filter)===null||j===void 0?void 0:j.event;return U&&((E=n.ids)===null||E===void 0?void 0:E.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(P=(M=_?.filter)===null||M===void 0?void 0:M.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:E,table:T,commit_timestamp:M,type:P,errors:A}=j;w=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:M,eventType:P,new:{},old:{},errors:A}),this._getPayloadRecords(j))}_.callback(w,i)})}_isClosed(){return this.state===dn.closed}_isJoined(){return this.state===dn.joined}_isJoining(){return this.state===dn.joining}_isLeaving(){return this.state===dn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Iy.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qi.close,{},t)}_onError(t){this._on(Qi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=g_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=g_(t.columns,t.old_record)),n}}const zp=()=>{},Sh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BT=[1e3,2e3,5e3,1e4],IT=1e4,VT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UT{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zg,this.transport=null,this.heartbeatIntervalMs=Sh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zp,this.ref=0,this.reconnectTimer=null,this.logger=zp,this.conn=null,this.sendBuffer=[],this.serializer=new AT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...u)=>tr(async()=>{const{default:d}=await Promise.resolve().then(()=>to);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...u)=>o(...u)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Bg.websocket}`,this.httpEndpoint=i2(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:TT}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ic.connecting:return Za.Connecting;case ic.open:return Za.Open;case ic.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new Iy(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,u=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(LT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:o,ref:u}=n,d=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${i} ${s} ${d}`.trim(),o),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(s,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([VT],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:kT};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Qi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new t2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,u,d,f,g,y;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:zg,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Sh.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:zp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>BT[v-1]||IT),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((v,w)=>w(JSON.stringify(v))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Vy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HT extends Vy{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vg extends Vy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>tr(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},FT=()=>De(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tr(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),Ug=e=>{if(Array.isArray(e))return e.map(n=>Ug(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ug(i)}),t},qT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$T=(e,t,n)=>De(void 0,void 0,void 0,function*(){const i=yield FT();e instanceof i&&!n?.noResolveJson?e.json().then(s=>{const o=e.status||500,u=s?.statusCode||o+"";t(new HT(Bp(s),o,u))}).catch(s=>{t(new Vg(Bp(s),s))}):t(new Vg(Bp(e),e))}),ZT=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!i?s:(qT(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Mc(e,t,n,i,s,o){return De(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(n,ZT(t,i,s,o)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>$T(f,d,i))})})}function pc(e,t,n,i){return De(this,void 0,void 0,function*(){return Mc(e,"GET",t,n,i)})}function Xi(e,t,n,i,s){return De(this,void 0,void 0,function*(){return Mc(e,"POST",t,i,s,n)})}function Hg(e,t,n,i,s){return De(this,void 0,void 0,function*(){return Mc(e,"PUT",t,i,s,n)})}function GT(e,t,n,i){return De(this,void 0,void 0,function*(){return Mc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Hy(e,t,n,i,s){return De(this,void 0,void 0,function*(){return Mc(e,"DELETE",t,i,s,n)})}class KT{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return De(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var r2;class WT{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[r2]="BlobDownloadBuilder",this.promise=null}asStream(){return new KT(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return De(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}r2=Symbol.toStringTag;const YT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XT{constructor(t,n={},i,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=Uy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,s){return De(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},b_),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),v=yield(t=="PUT"?Hg:Xi)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Vt(o))return{data:null,error:o};throw o}})}upload(t,n,i){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,s){return De(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let f;const g=Object.assign({upsert:b_.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",g.cacheControl)):(f=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield Hg(this.fetch,d.toString(),f,{headers:y});return{data:{path:o,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Vt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return De(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const o=yield Xi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Vy("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}update(t,n,i){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return De(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}copy(t,n,i){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield Xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,i){return De(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Xi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,i){return De(this,void 0,void 0,function*(){try{const s=yield Xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",d=this._getFinalPath(t),f=()=>pc(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new WT(f,this.shouldThrowOnError)}info(t){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield pc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ug(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}exists(t){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield GT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i)&&i instanceof Vg){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),s=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let g=s.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}list(t,n,i){return De(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YT),n),{prefix:t||""});return{data:yield Xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listV2(t,n){return De(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield Xi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const s2="2.76.1",a2={"X-Client-Info":`storage-js/${s2}`};class QT{constructor(t,n={},i,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a2),n),this.fetch=Uy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return De(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}createBucket(t){return De(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Xi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return De(this,void 0,void 0,function*(){try{return{data:yield Hg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}class JT{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a2),n),this.fetch=Uy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listBuckets(t){return De(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,o=yield pc(this.fetch,s,{headers:this.headers});return{data:Array.isArray(o)?o.filter(d=>d.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}const Fy={"X-Client-Info":`storage-js/${s2}`,"Content-Type":"application/json"};class o2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ip extends o2{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eL extends o2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var x_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(x_||(x_={}));const qy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>tr(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},tL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},__=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nL=(e,t,n)=>De(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const d=u?.statusCode||u?.code||s+"";t(new Ip(__(u),s,d))}).catch(()=>{const u=s+"",d=o.statusText||`HTTP ${s} error`;t(new Ip(d,s,u))});else{const u=s+"",d=o.statusText||`HTTP ${s} error`;t(new Ip(d,s,u))}}else t(new eL(__(e),e))}),iL=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return i?(tL(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),n)):s};function rL(e,t,n,i,s,o){return De(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(n,iL(t,i,s,o)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;const g=f.headers.get("content-type");return!g||!g.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>nL(f,d,i))})})}function gi(e,t,n,i,s){return De(this,void 0,void 0,function*(){return rL(e,"POST",t,i,s,n)})}class sL{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=qy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return De(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return De(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pi(i))return{data:null,error:i};throw i}})}listIndexes(t){return De(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return De(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pi(i))return{data:null,error:i};throw i}})}}class aL{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=qy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return De(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}getVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}listVectors(t){return De(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield gi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}queryVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return De(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}}class oL{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=qy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}listBuckets(){return De(this,arguments,void 0,function*(t={}){try{return{data:yield gi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}}class lL extends oL{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new uL(this.url,this.headers,t,this.fetch)}}class uL extends sL{constructor(t,n,i,s){super(t,n,s),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return De(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return De(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return De(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return De(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new cL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class cL extends aL{constructor(t,n,i,s,o){super(t,n,o),this.vectorBucketName=i,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return De(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return De(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return De(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return De(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return De(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class dL extends QT{constructor(t,n={},i,s){super(t,n,i,s)}from(t){return new XT(this.url,this.headers,t,this.fetch)}get vectors(){return new lL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JT(this.url+"/iceberg",this.headers,this.fetch)}}const hL="2.76.1";let Ju="";typeof Deno<"u"?Ju="deno":typeof document<"u"?Ju="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ju="react-native":Ju="node";const fL={"X-Client-Info":`supabase-js-${Ju}/${hL}`},mL={headers:fL},pL={schema:"public"},gL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yL={},vL=e=>{let t;return e?t=e:typeof fetch>"u"?t=WS:t=fetch,(...n)=>t(...n)},bL=()=>typeof Headers>"u"?YS:Headers,xL=(e,t,n)=>{const i=vL(n),s=bL();return async(o,u)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let g=new s(u?.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),i(o,Object.assign(Object.assign({},u),{headers:g}))}};function _L(e){return e.endsWith("/")?e:e+"/"}function wL(e,t){var n,i;const{db:s,auth:o,realtime:u,global:d}=e,{db:f,auth:g,realtime:y,global:v}=t,w={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},g),o),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function SL(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_L(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const l2="2.76.1",rl=30*1e3,Fg=3,Vp=Fg*rl,CL="http://localhost:9999",jL="supabase.auth.token",EL={"X-Client-Info":`gotrue-js/${l2}`},qg="X-Supabase-Api-Version",u2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TL=600*1e3;class gc extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LL extends gc{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function NL(e){return Ue(e)&&e.name==="AuthApiError"}class Ga extends gc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ys extends gc{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class $s extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AL(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class Yo extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ch extends Ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jh extends Ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ML(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class w_ extends Ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $g extends Ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Up(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class S_ extends Ys{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Zg extends Ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C_=` 	
\r=`.split(""),OL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<C_.length;t+=1)e[C_[t].charCodeAt(0)]=-2;for(let t=0;t<Gh.length;t+=1)e[Gh[t].charCodeAt(0)]=t;return e})();function j_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Gh[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Gh[i]),t.queuedBits-=6}}function c2(e,t,n){const i=OL[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function E_(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{DL(u,i,n)};for(let u=0;u<e.length;u+=1)c2(e.charCodeAt(u),s,o);return t.join("")}function PL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RL(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}PL(i,t)}}function DL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dl(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)c2(e.charCodeAt(s),n,i);return new Uint8Array(t)}function zL(e){const t=[];return RL(e,n=>t.push(n)),new Uint8Array(t)}function Ka(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>j_(s,n,i)),j_(null,n,i),t.join("")}function BL(e){return Math.round(Date.now()/1e3)+e}function IL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mi=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},d2=()=>{if(!mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function VL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const h2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>tr(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},UL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ua=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hs=async(e,t)=>{await e.removeItem(t)};class hf{constructor(){this.promise=new hf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hf.promiseConstructor=Promise;function Hp(e){const t=e.split(".");if(t.length!==3)throw new Zg("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!kL.test(t[i]))throw new Zg("JWT not in base64url format");return{header:JSON.parse(E_(t[0])),payload:JSON.parse(E_(t[1])),signature:dl(t[2]),raw:{header:t[0],payload:t[1]}}}async function HL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FL(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){i(u);return}}catch(u){if(!t(o,u)){s(u);return}}})()})}function qL(e){return("0"+e.toString(16)).substr(-2)}function $L(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,qL).join("")}async function ZL(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function GL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ZL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xo(e,t,n=!1){const i=$L();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await sl(e,`${t}-code-verifier`,s);const o=await GL(i);return[o,i===o?"plain":"s256"]}const KL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WL(e){const t=e.headers.get(qg);if(!t||!t.match(KL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qo(e){if(!QL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k_(e){return JSON.parse(JSON.stringify(e))}const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JL=[502,503,504];async function T_(e){var t;if(!UL(e))throw new $g(qa(e),0);if(JL.includes(e.status))throw new $g(qa(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ga(qa(o),o)}let i;const s=WL(e);if(s&&s.getTime()>=u2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new S_(qa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new $s}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new S_(qa(n),e.status,n.weak_password.reasons);throw new LL(qa(n),e.status||500,i)}const eN=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function Xe(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[qg]||(o[qg]=u2["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await tN(e,t,n+d,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function tN(e,t,n,i,s,o){const u=eN(t,i,s,o);let d;try{d=await e(n,Object.assign({},u))}catch(f){throw console.error(f),new $g(qa(f),0)}if(d.ok||await T_(d),i?.noResolveJson)return d;try{return await d.json()}catch(f){await T_(f)}}function Wi(e){var t;let n=null;rN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=BL(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function L_(e){const t=Wi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nN(e){return{data:e,error:null}}function iN(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,u=kl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function N_(e){return e}function rN(e){return e.access_token&&e.refresh_token&&e.expires_in}const qp=["global","local","others"];class sN{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=h2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=qp[0]){if(qp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qp.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gs})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=kl(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:iN,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,u,d,f;try{const g={nextPage:null,lastPage:0,total:0},y=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:N_});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);g[`${T}Page`]=E}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Ue(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Qo(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qo(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gs})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Qo(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gs})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Qo(t.userId);try{const{data:n,error:i}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qo(t.userId),Qo(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,u,d,f;try{const g={nextPage:null,lastPage:0,total:0},y=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:N_});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);g[`${T}Page`]=E}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Ue(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function A_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jo={debug:!!(globalThis&&d2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aN extends f2{}async function oN(e,t,n){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function lN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function m2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uN(e){return parseInt(e,16)}function cN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function dN(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:u,notBefore:d,requestId:f,resources:g,scheme:y,uri:v,version:w}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=m2(e.address),j=y?`${y}://${i}`:i,E=e.statement?`${e.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${_}

${E}`;let M=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(s&&(M+=`
Expiration Time: ${s.toISOString()}`),d&&(M+=`
Not Before: ${d.toISOString()}`),f&&(M+=`
Request ID: ${f}`),g){let P=`
Resources:`;for(const A of g){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);P+=`
- ${A}`}M+=P}return`${T}
${M}`}class sn extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Kh extends sn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function hN({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(p2(u)){if(o.rp.id!==u)return new sn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fN({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(p2(i)){if(n.rpId!==i)return new sn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mN{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pN=new mN;function gN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=kl(e,["challenge","user","excludeCredentials"]),o=dl(t).buffer,u=Object.assign(Object.assign({},n),{id:dl(n.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:o,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const g=i[f];d.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:dl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function yN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=kl(e,["challenge","allowCredentials"]),s=dl(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},d),{id:dl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function vN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ka(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ka(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ka(new Uint8Array(s.authenticatorData)),clientDataJSON:Ka(new Uint8Array(s.clientDataJSON)),signature:Ka(new Uint8Array(s.signature)),userHandle:s.userHandle?Ka(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function M_(){var e,t;return!!(mi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kh("Browser returned unexpected credential type",t)}:{data:null,error:new Kh("Empty credential response",t)}}catch(t){return{data:null,error:hN({error:t,options:e})}}}async function _N(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kh("Browser returned unexpected credential type",t)}:{data:null,error:new Kh("Empty credential response",t)}}catch(t){return{data:null,error:fN({error:t,options:e})}}}const wN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},SN={userVerification:"preferred",hints:["security-key"]};function Wh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const u=s[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(n(u))i[o]=u;else if(t(u)){const d=i[o];t(d)?i[o]=Wh(d,u):i[o]=Wh(u)}else i[o]=u}return i}function CN(e,t){return Wh(wN,e,t||{})}function jN(e,t){return Wh(SN,e,t||{})}class EN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const f=s??pN.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=CN(u.webauthn.credential_options.publicKey,o?.create),{data:y,error:v}=await xN({publicKey:g,signal:f});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=jN(u.webauthn.credential_options.publicKey,o?.request),{data:y,error:v}=await _N(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:f}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Ue(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!n)return{data:null,error:new gc("rpId is required for WebAuthn authentication")};try{if(!M_())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return Ue(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!n)return{data:null,error:new gc("rpId is required for WebAuthn registration")};try{if(!M_())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:f,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(u){return Ue(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in register",u)}}}}lN();const kN={url:CL,storageKey:jL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O_(e,t,n){return await n()}const el={};class yc{get jwks(){var t,n;return(n=(t=el[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){el[this.storageKey]=Object.assign(Object.assign({},el[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=el[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){el[this.storageKey]=Object.assign(Object.assign({},el[this.storageKey]),{cachedAt:t})}constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yc.nextInstanceID,yc.nextInstanceID+=1,this.instanceID>0&&mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kN),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=h2(s.fetch),this.lock=s.lock||O_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=oN:this.lock=O_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EN(this)},this.persistSession?(s.storage?this.storage=s.storage:d2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A_(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=A_(this.memoryStorage)),mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${l2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=VL(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),mi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ML(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new Ga("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wi}),{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:y,password:v,options:w}=t;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await Xo(this.storage,this.storageKey)),o=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:j},xform:Wi})}else if("phone"in t){const{phone:y,password:v,options:w}=t;o=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(s=w?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Wi})}else throw new Ch("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:u,options:d}=t;n=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:L_})}else if("phone"in t){const{phone:o,password:u,options:d}=t;n=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:L_})}else throw new Ch("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Yo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,u,d,f,g,y,v,w;let _,j;if("message"in t)_=t.message,j=t.signature;else{const{chain:E,wallet:T,statement:M,options:P}=t;let A;if(mi())if(typeof T=="object")A=T;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")A=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),H=await A.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=m2(H[0]);let q=(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!q){const G=await A.request({method:"eth_chainId"});q=uN(G)}const J={domain:U.host,address:R,statement:M,uri:U.href,version:"1",chainId:q,nonce:(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=P?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=dN(J),j=await A.request({method:"personal_sign",params:[cN(_),R]})}try{const{data:E,error:T}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:j},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Wi});if(T)throw T;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Yo}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:T})}catch(E){if(Ue(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var n,i,s,o,u,d,f,g,y,v,w,_;let j,E;if("message"in t)j=t.message,E=t.signature;else{const{chain:T,wallet:M,statement:P,options:A}=t;let U;if(mi())if(typeof M=="object")U=M;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))U=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const H=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const R=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),P?{statement:P}:null));let q;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")q=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)q=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)j=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),E=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(s=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((v=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...A.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const R=await U.signMessage(new TextEncoder().encode(j),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=R}}try{const{data:T,error:M}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Ka(E)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Wi});if(M)throw M;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Yo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:M})}catch(T){if(Ue(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:o,error:u}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Wi});if(await Hs(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(Ue(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:u}=t,d=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Wi}),{data:f,error:g}=d;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Yo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:g})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,s,o,u;try{if("email"in t){const{email:d,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Xo(this.storage,this.storageKey));const{error:v}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:d,options:f}=t,{data:g,error:y}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new Ch("You must provide either an email or phone number.")}catch(d){if(Ue(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Wi});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,g=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,i,s;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await Xo(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:nN})}catch(o){if(Ue(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new $s;const{error:s}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:u}=await Xe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:u,error:d}=await Xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Ch("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Vp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await Ua(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Fp()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,g,y)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,g,y))})}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gs}):await this._useSession(async n=>{var i,s,o;const{data:u,error:d}=n;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Gs})})}catch(n){if(Ue(n))return AL(n)&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new $s;const u=s.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Xo(this.storage,this.storageKey));const{data:g,error:y}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Gs});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Ue(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:u}=Hp(t.access_token);if(u.exp&&(i=u.exp,s=i<=n),s){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:u,error:d}=n;if(d)throw d;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new $s;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!mi())throw new jh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new w_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w_("No code detected.");const{data:P,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:f,token_type:g}=t;if(!o||!d||!u||!g)throw new jh("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let w=y+v;f&&(w=parseInt(f));const _=w-y;_*1e3<=rl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const j=w-v;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,y);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const M={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:w,refresh_token:u,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(i){if(Ue(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{error:o};const u=(i=s.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(NL(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=IL(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Xo(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ue(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var u,d,f,g,y;const{data:v,error:w}=o;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return mi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Ue(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:u,provider:d,token:f,access_token:g,nonce:y}=t,v=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:f,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Wi}),{data:w,error:_}=v;return _?{data:{user:null,session:null},error:_}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Yo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:_})}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:u}=n;if(u)throw u;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await FL(async s=>(s>0&&await HL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wi})),(s,o)=>{const u=200*Math.pow(2,s);return o&&Up(o)&&Date.now()+u-i<rl})}catch(i){if(this._debug(n,"error",i),Ue(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),mi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Ua(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await sl(this.userStorage,this.storageKey+"-user",u)),s.user=(t=u?.user)!==null&&t!==void 0?t:Fp()}else if(s&&!s.user&&!s.user){const u=await Ua(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await Hs(this.storage,this.storageKey+"-user"),await sl(this.storage,this.storageKey,s)):s.user=Fp()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vp;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Vp}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),Up(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(s.access_token);!d&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hf;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new $s;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Ue(o)){const u={data:null,error:o};return Up(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await sl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=k_(s);await sl(this.storage,this.storageKey,o)}else{const s=k_(n);await sl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Hs(this.storage,this.storageKey),await Hs(this.storage,this.storageKey+"-code-verifier"),await Hs(this.storage,this.storageKey+"-user"),this.userStorage&&await Hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/rl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${rl}ms, refresh threshold is ${Fg} ticks`),s<=Fg&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Xo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?{data:null,error:o}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:g}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vN(t.webauthn.credential_response):bN(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const u=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:gN(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:yN(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Hp(s.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const y=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(d=>d.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+TL>s)return i;const{data:o,error:u}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:j}=await this.getSession();if(j||!_.session)return{data:null,error:j};i=_.session.access_token}const{header:s,payload:o,signature:u,raw:{header:d,payload:f}}=Hp(i);n?.allowExpired||YL(o.exp);const g=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:u},error:null}}const y=XL(s.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,zL(`${d}.${f}`)))throw new Zg("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}}}yc.nextInstanceID=0;const TN=yc;class LN extends TN{constructor(t){super(t)}}class NN{constructor(t,n,i){var s,o,u;this.supabaseUrl=t,this.supabaseKey=n;const d=SL(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:pL,realtime:yL,auth:Object.assign(Object.assign({},gL),{storageKey:f}),global:mL},y=wL(i??{},g);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=xL(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new CT(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new dL(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new mT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:u,flowType:d,lock:f,debug:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LN({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,flowType:d,lock:f,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new UT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AN=(e,t,n)=>new NN(e,t,n);function MN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ON="https://xtkbvnnkovogqwcwdhkg.supabase.co",PN="sb_publishable_HIszZakF8E4vj8K5mAftOg_gtrgQTrv",pe=AN(ON,PN,{auth:{storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),g2=Object.freeze(Object.defineProperty({__proto__:null,supabase:pe},Symbol.toStringTag,{value:"Module"}));/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P_="popstate";function RN(e={}){function t(s,o){let{pathname:u="/",search:d="",hash:f=""}=no(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Gg("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let u=s.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=s.location.href,g=f.indexOf("#");d=g===-1?f:f.slice(0,g)}return d+"#"+(typeof o=="string"?o:vc(o))}function i(s,o){Di(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return zN(t,n,i,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function R_(e,t){return{usr:e.state,key:e.key,idx:t}}function Gg(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?no(t):t,state:n,key:t&&t.key||i||DN()}}function vc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function no(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function zN(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,d="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){d="POP";let T=y(),M=T==null?null:T-g;g=T,f&&f({action:d,location:E.location,delta:M})}function w(T,M){d="PUSH";let P=Gg(E.location,T,M);n&&n(P,T),g=y()+1;let A=R_(P,g),U=E.createHref(P);try{u.pushState(A,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(U)}o&&f&&f({action:d,location:E.location,delta:1})}function _(T,M){d="REPLACE";let P=Gg(E.location,T,M);n&&n(P,T),g=y();let A=R_(P,g),U=E.createHref(P);u.replaceState(A,"",U),o&&f&&f({action:d,location:E.location,delta:0})}function j(T){return BN(T)}let E={get action(){return d},get location(){return e(s,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(P_,v),f=T,()=>{s.removeEventListener(P_,v),f=null}},createHref(T){return t(s,T)},createURL:j,encodeLocation(T){let M=j(T);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:_,go(T){return u.go(T)}};return E}function BN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:vc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function y2(e,t,n="/"){return IN(e,t,n,!1)}function IN(e,t,n,i){let s=typeof t=="string"?no(t):t,o=ns(s.pathname||"/",n);if(o==null)return null;let u=v2(e);VN(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let g=XN(o);d=WN(u[f],g,i)}return d}function v2(e,t=[],n=[],i="",s=!1){let o=(u,d,f=s,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;Ht(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=ts([i,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(Ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),v2(u.children,t,w,v,f)),!(u.path==null&&!u.index)&&t.push({path:v,score:GN(v,u.index),routesMeta:w})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of b2(u.path))o(u,d,!0,f)}),t}function b2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=b2(i.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function VN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:KN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var UN=/^:[\w-]+$/,HN=3,FN=2,qN=1,$N=10,ZN=-2,D_=e=>e==="*";function GN(e,t){let n=e.split("/"),i=n.length;return n.some(D_)&&(i+=ZN),t&&(i+=FN),n.filter(s=>!D_(s)).reduce((s,o)=>s+(UN.test(o)?HN:o===""?qN:$N),i)}function KN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function WN(e,t,n=!1){let{routesMeta:i}=e,s={},o="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],g=d===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Yh({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),w=f.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=Yh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:ts([o,v.pathname]),pathnameBase:tA(ts([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=ts([o,v.pathnameBase]))}return u}function Yh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=YN(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},w)=>{if(y==="*"){let j=d[w]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const _=d[w];return v&&!_?g[y]=void 0:g[y]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function YN(e,t=!1,n=!0){Di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function XN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Di(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ns(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function QN(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?no(e):e;return{pathname:n?n.startsWith("/")?n:JN(n,t):t,search:nA(i),hash:iA(s)}}function JN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $p(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function x2(e){let t=eA(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function _2(e,t,n,i=!1){let s;typeof e=="string"?s=no(e):(s={...e},Ht(!s.pathname||!s.pathname.includes("?"),$p("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),$p("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),$p("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=n;else{let v=t.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}d=v>=0?t[v]:"/"}let f=QN(s,d),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var ts=e=>e.join("/").replace(/\/\/+/g,"/"),tA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var w2=["POST","PUT","PATCH","DELETE"];new Set(w2);var sA=["GET",...w2];new Set(sA);var Ll=k.createContext(null);Ll.displayName="DataRouter";var ff=k.createContext(null);ff.displayName="DataRouterState";k.createContext(!1);var S2=k.createContext({isTransitioning:!1});S2.displayName="ViewTransition";var aA=k.createContext(new Map);aA.displayName="Fetchers";var oA=k.createContext(null);oA.displayName="Await";var Er=k.createContext(null);Er.displayName="Navigation";var Oc=k.createContext(null);Oc.displayName="Location";var kr=k.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var $y=k.createContext(null);$y.displayName="RouteError";function lA(e,{relative:t}={}){Ht(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Er),{hash:s,pathname:o,search:u}=Rc(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:ts([n,o])),i.createHref({pathname:d,search:u,hash:s})}function Pc(){return k.useContext(Oc)!=null}function nr(){return Ht(Pc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Oc).location}var C2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j2(e){k.useContext(Er).static||k.useLayoutEffect(e)}function Nl(){let{isDataRoute:e}=k.useContext(kr);return e?SA():uA()}function uA(){Ht(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Ll),{basename:t,navigator:n}=k.useContext(Er),{matches:i}=k.useContext(kr),{pathname:s}=nr(),o=JSON.stringify(x2(i)),u=k.useRef(!1);return j2(()=>{u.current=!0}),k.useCallback((f,g={})=>{if(Di(u.current,C2),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=_2(f,JSON.parse(o),s,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ts([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,o,s,e])}var cA=k.createContext(null);function dA(e){let t=k.useContext(kr).outlet;return k.useMemo(()=>t&&k.createElement(cA.Provider,{value:e},t),[t,e])}function Rc(e,{relative:t}={}){let{matches:n}=k.useContext(kr),{pathname:i}=nr(),s=JSON.stringify(x2(n));return k.useMemo(()=>_2(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function hA(e,t){return E2(e,t)}function E2(e,t,n,i,s){Ht(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Er),{matches:u}=k.useContext(kr),d=u[u.length-1],f=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let P=v&&v.path||"";k2(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=nr(),_;if(t){let P=typeof t=="string"?no(t):t;Ht(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=w;let j=_.pathname||"/",E=j;if(y!=="/"){let P=y.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=y2(e,{pathname:E});Di(v||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Di(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=yA(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:ts([y,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:ts([y,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,n,i,s);return t&&M?k.createElement(Oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},M):M}function fA(){let e=wA(),t=rA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,u)}var mA=k.createElement(fA,null),pA=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(kr.Provider,{value:this.props.routeContext},k.createElement($y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gA({routeContext:e,match:t,children:n}){let i=k.useContext(Ll);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(kr.Provider,{value:e},n)}function yA(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:v,errors:w}=n,_=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||_){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,y,v)=>{let w,_=!1,j=null,E=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||mA,d&&(f<0&&v===0?(k2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):f===v&&(_=!0,E=y.route.hydrateFallbackElement||null)));let T=t.concat(o.slice(0,v+1)),M=()=>{let P;return w?P=j:_?P=E:y.route.Component?P=k.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=g,k.createElement(gA,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:P})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?k.createElement(pA,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):M()},null)}function Zy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vA(e){let t=k.useContext(Ll);return Ht(t,Zy(e)),t}function bA(e){let t=k.useContext(ff);return Ht(t,Zy(e)),t}function xA(e){let t=k.useContext(kr);return Ht(t,Zy(e)),t}function Gy(e){let t=xA(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _A(){return Gy("useRouteId")}function wA(){let e=k.useContext($y),t=bA("useRouteError"),n=Gy("useRouteError");return e!==void 0?e:t.errors?.[n]}function SA(){let{router:e}=vA("useNavigate"),t=Gy("useNavigate"),n=k.useRef(!1);return j2(()=>{n.current=!0}),k.useCallback(async(s,o={})=>{Di(n.current,C2),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var z_={};function k2(e,t,n){!t&&!z_[e]&&(z_[e]=!0,Di(!1,n))}k.memo(CA);function CA({routes:e,future:t,state:n,unstable_onError:i}){return E2(e,void 0,n,i,t)}function jA(e){return dA(e.context)}function Nn(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EA({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){Ht(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=no(n));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:w="default"}=n,_=k.useMemo(()=>{let j=ns(f,u);return j==null?null:{location:{pathname:j,search:g,hash:y,state:v,key:w},navigationType:i}},[u,f,g,y,v,w,i]);return Di(_!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:k.createElement(Er.Provider,{value:d},k.createElement(Oc.Provider,{children:t,value:_}))}function kA({children:e,location:t}){return hA(Kg(e),t)}function Kg(e,t=[]){let n=[];return k.Children.forEach(e,(i,s)=>{if(!k.isValidElement(i))return;let o=[...t,s];if(i.type===k.Fragment){n.push.apply(n,Kg(i.props.children,o));return}Ht(i.type===Nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Kg(i.props.children,o)),n.push(u)}),n}var zh="get",Bh="application/x-www-form-urlencoded";function mf(e){return e!=null&&typeof e.tagName=="string"}function TA(e){return mf(e)&&e.tagName.toLowerCase()==="button"}function LA(e){return mf(e)&&e.tagName.toLowerCase()==="form"}function NA(e){return mf(e)&&e.tagName.toLowerCase()==="input"}function AA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MA(e,t){return e.button===0&&(!t||t==="_self")&&!AA(e)}function Wg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function OA(e,t){let n=Wg(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Eh=null;function PA(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var RA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(e){return e!=null&&!RA.has(e)?(Di(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):e}function DA(e,t){let n,i,s,o,u;if(LA(e)){let d=e.getAttribute("action");i=d?ns(d,t):null,n=e.getAttribute("method")||zh,s=Zp(e.getAttribute("enctype"))||Bh,o=new FormData(e)}else if(TA(e)||NA(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(i=f?ns(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||zh,s=Zp(e.getAttribute("formenctype"))||Zp(d.getAttribute("enctype"))||Bh,o=new FormData(d,e),!PA()){let{name:g,type:y,value:v}=e;if(y==="image"){let w=g?`${g}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else g&&o.append(g,v)}}else{if(mf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,i=null,s=Bh,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zA(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ns(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function BA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VA(e,t,n){let i=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await BA(o,n);return u.links?u.links():[]}return[]}));return qA(i.flat(1).filter(IA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function B_(e,t,n,i,s,o){let u=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,d=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>u(f,g)||d(f,g)):o==="data"?t.filter((f,g)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function UA(e,t,{includeHydrateFallback:n}={}){return HA(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function HA(e){return[...new Set(e)]}function FA(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function qA(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let o=JSON.stringify(FA(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function T2(){let e=k.useContext(Ll);return Ky(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $A(){let e=k.useContext(ff);return Ky(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wy=k.createContext(void 0);Wy.displayName="FrameworkContext";function L2(){let e=k.useContext(Wy);return Ky(e,"You must render this element inside a <HydratedRouter> element"),e}function ZA(e,t){let n=k.useContext(Wy),[i,s]=k.useState(!1),[o,u]=k.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,w=k.useRef(null);k.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=M=>{M.forEach(P=>{u(P.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[e]),k.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let _=()=>{s(!0)},j=()=>{s(!1),u(!1)};return n?e!=="intent"?[o,w,{}]:[o,w,{onFocus:qu(d,_),onBlur:qu(f,j),onMouseEnter:qu(g,_),onMouseLeave:qu(y,j),onTouchStart:qu(v,_)}]:[!1,w,{}]}function qu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function GA({page:e,...t}){let{router:n}=T2(),i=k.useMemo(()=>y2(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?k.createElement(WA,{page:e,matches:i,...t}):null}function KA(e){let{manifest:t,routeModules:n}=L2(),[i,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return VA(e,t,n).then(u=>{o||s(u)}),()=>{o=!0}},[e,t,n]),i}function WA({page:e,matches:t,...n}){let i=nr(),{manifest:s,routeModules:o}=L2(),{basename:u}=T2(),{loaderData:d,matches:f}=$A(),g=k.useMemo(()=>B_(e,t,f,s,i,"data"),[e,t,f,s,i]),y=k.useMemo(()=>B_(e,t,f,s,i,"assets"),[e,t,f,s,i]),v=k.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let j=new Set,E=!1;if(t.forEach(M=>{let P=s.routes[M.route.id];!P||!P.hasLoader||(!g.some(A=>A.route.id===M.route.id)&&M.route.id in d&&o[M.route.id]?.shouldRevalidate||P.hasClientLoader?E=!0:j.add(M.route.id))}),j.size===0)return[];let T=zA(e,u,"data");return E&&j.size>0&&T.searchParams.set("_routes",t.filter(M=>j.has(M.route.id)).map(M=>M.route.id).join(",")),[T.pathname+T.search]},[u,d,i,s,g,t,e,o]),w=k.useMemo(()=>UA(y,s),[y,s]),_=KA(y);return k.createElement(k.Fragment,null,v.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),_.map(({key:j,link:E})=>k.createElement("link",{key:j,nonce:n.nonce,...E})))}function YA(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N2&&(window.__reactRouterVersion="7.9.4")}catch{}function XA({basename:e,children:t,window:n}){let i=k.useRef();i.current==null&&(i.current=RN({window:n,v5Compat:!0}));let s=i.current,[o,u]=k.useState({action:s.action,location:s.location}),d=k.useCallback(f=>{k.startTransition(()=>u(f))},[u]);return k.useLayoutEffect(()=>s.listen(d),[s,d]),k.createElement(EA,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var A2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hl=k.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:g,preventScrollReset:y,viewTransition:v,...w},_){let{basename:j}=k.useContext(Er),E=typeof g=="string"&&A2.test(g),T,M=!1;if(typeof g=="string"&&E&&(T=g,N2))try{let G=new URL(window.location.href),re=g.startsWith("//")?new URL(G.protocol+g):new URL(g),W=ns(re.pathname,j);re.origin===G.origin&&W!=null?g=W+re.search+re.hash:M=!0}catch{Di(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=lA(g,{relative:s}),[A,U,H]=ZA(i,w),R=tM(g,{replace:u,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:v});function q(G){t&&t(G),G.defaultPrevented||R(G)}let J=k.createElement("a",{...w,...H,href:T||P,onClick:M||o?t:q,ref:YA(_,U),target:f,"data-discover":!E&&n==="render"?"true":void 0});return A&&!E?k.createElement(k.Fragment,null,J,k.createElement(GA,{page:P})):J});hl.displayName="Link";var QA=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...g},y){let v=Rc(u,{relative:g.relative}),w=nr(),_=k.useContext(ff),{navigator:j,basename:E}=k.useContext(Er),T=_!=null&&oM(v)&&d===!0,M=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,P=w.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(P=P.toLowerCase(),A=A?A.toLowerCase():null,M=M.toLowerCase()),A&&E&&(A=ns(A,E)||A);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=P===M||!s&&P.startsWith(M)&&P.charAt(U)==="/",R=A!=null&&(A===M||!s&&A.startsWith(M)&&A.charAt(M.length)==="/"),q={isActive:H,isPending:R,isTransitioning:T},J=H?t:void 0,G;typeof i=="function"?G=i(q):G=[i,H?"active":null,R?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let re=typeof o=="function"?o(q):o;return k.createElement(hl,{...g,"aria-current":J,className:G,ref:y,style:re,to:u,viewTransition:d},typeof f=="function"?f(q):f)});QA.displayName="NavLink";var JA=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:o,method:u=zh,action:d,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,...w},_)=>{let j=sM(),E=aM(d,{relative:g}),T=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&A2.test(d),P=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let U=A.nativeEvent.submitter,H=U?.getAttribute("formmethod")||u;j(U||A.currentTarget,{fetcherKey:t,method:H,navigate:n,replace:s,state:o,relative:g,preventScrollReset:y,viewTransition:v})};return k.createElement("form",{ref:_,method:T,action:E,onSubmit:i?f:P,...w,"data-discover":!M&&e==="render"?"true":void 0})});JA.displayName="Form";function eM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M2(e){let t=k.useContext(Ll);return Ht(t,eM(e)),t}function tM(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=Nl(),f=nr(),g=Rc(e,{relative:o});return k.useCallback(y=>{if(MA(y,t)){y.preventDefault();let v=n!==void 0?n:vc(f)===vc(g);d(e,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,g,n,i,t,e,s,o,u])}function nM(e){Di(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(Wg(e)),n=k.useRef(!1),i=nr(),s=k.useMemo(()=>OA(i.search,n.current?null:t.current),[i.search]),o=Nl(),u=k.useCallback((d,f)=>{const g=Wg(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,o("?"+g,f)},[o,s]);return[s,u]}var iM=0,rM=()=>`__${String(++iM)}__`;function sM(){let{router:e}=M2("useSubmit"),{basename:t}=k.useContext(Er),n=_A();return k.useCallback(async(i,s={})=>{let{action:o,method:u,encType:d,formData:f,body:g}=DA(i,t);if(s.navigate===!1){let y=s.fetcherKey||rM();await e.fetch(y,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function aM(e,{relative:t}={}){let{basename:n}=k.useContext(Er),i=k.useContext(kr);Ht(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Rc(e||".",{relative:t})},u=nr();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();o.search=y?`?${y}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ts([n,o.pathname])),vc(o)}function oM(e,{relative:t}={}){let n=k.useContext(S2);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=M2("useViewTransitionState"),s=Rc(e,{relative:t});if(!n.isTransitioning)return!1;let o=ns(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=ns(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Yh(s.pathname,u)!=null||Yh(s.pathname,o)!=null}var O2=SS();function lM(e=[]){const[t,n]=k.useState(e);k.useEffect(()=>{Array.isArray(e)&&n(e)},[e]);const i=["id","lat","lng","rectangle","angle","coreLocked"],s=["iconUrl","iconSize","iconColor","className","prefix","glyph","glyphColor","glyphSize","glyphAnchor","appearanceLocked"],o=["name","logo","website","info","contentLocked"],u=k.useCallback(async(d,f)=>{async function g(v,w,_){const{data:j,error:E}=await v.from(w).select("id").eq("id",_);if(!E&&(!j||j.length===0)){let T={id:_};return w==="Markers_Core"&&(T.coreLocked=!1),w==="Markers_Appearance"&&(T.appearanceLocked=!1),w==="Markers_Content"&&(T.contentLocked=!1),await v.from(w).insert([T]),!0}return!0}const y=typeof d=="string"&&d.startsWith("m")?parseInt(d.slice(1),10):d;n(v=>v.map(w=>w.id===d?{...w,...f}:w));try{const{supabase:v}=await tr(async()=>{const{supabase:_}=await Promise.resolve().then(()=>g2);return{supabase:_}},[]),w=[{name:"Markers_Core",fields:i},{name:"Markers_Appearance",fields:s},{name:"Markers_Content",fields:o}];for(const{name:_}of w)await g(v,_,y);for(const[_,j]of Object.entries(f)){let E=null;if(i.includes(_)?E="Markers_Core":s.includes(_)?E="Markers_Appearance":o.includes(_)&&(E="Markers_Content"),E){if(!await g(v,E,y))continue;await v.from(E).update({[_]:j}).eq("id",y)}}}catch{}},[]);return[t,u,n]}function uM(e=new Date().getFullYear()){const t=typeof window<"u"?localStorage.getItem("eventMarkers"):null,n=typeof navigator<"u"?navigator.onLine:!0,[i,s]=k.useState(n),[o,u]=k.useState(()=>!n&&t?JSON.parse(t):[]),[d,f]=k.useState(()=>!(!n&&t)),g=k.useRef(e);k.useEffect(()=>{g.current=e},[e]);const y=k.useCallback(async v=>{const w=g.current;if(f(!0),!v&&t){u(JSON.parse(t)),f(!1);return}try{const[_,j,E,T,M]=await Promise.all([pe.from("Markers_Core").select("*"),pe.from("Markers_Appearance").select("*"),pe.from("Markers_Content").select("*"),pe.from("assignments").select(`
            *,
            company:companies(id, name, logo, website, info, company_translations(language_code, info))
          `).eq("event_year",w),pe.from("event_subscriptions").select("*").eq("event_year",w)]);if(_.error)throw _.error;if(j.error)throw j.error;if(E.error)throw E.error;if(T.error)throw T.error;if(M.error)throw M.error;const P={};for(const G of j.data||[])G&&G.id&&(P[G.id]=G);const A={};for(const G of E.data||[])G&&G.id&&(A[G.id]=G);const U={appearance:P[-1]||{},core:(_.data||[]).find(G=>G.id===-1)||{}},H={appearance:P[-2]||{},core:(_.data||[]).find(G=>G.id===-2)||{}},R={};for(const G of M.data||[])G&&G.company_id&&(R[G.company_id]=G);const q={};for(const G of T.data||[])!G||!G.marker_id||(q[G.marker_id]||(q[G.marker_id]=[]),q[G.marker_id].push({assignmentId:G.id,companyId:G.company_id,...G.company}));const J=(_.data||[]).filter(G=>G.id>0).map(G=>{const re=P[G.id]||{},W=A[G.id]||{},ee=q[G.id]||[];let le={},Y={};if(G.id<1e3){const se=ee[0]||{},F=!!se.companyId;le={name:se.name,logo:se.logo,website:se.website,info:se.info,companyId:se.companyId,assignmentId:se.assignmentId,company_translations:se.company_translations};const Z=F?U:H,ne={...Z.appearance,...re},Ce={...Z.core,...G};if(Object.assign(G,Ce),Object.assign(re,ne),se.companyId){const D=R[se.companyId]||{};Y={contact:D.contact,phone:D.phone,email:D.email,boothCount:D.booth_count,area:D.area,coins:D.coins,breakfast:D.breakfast_sat,lunch:D.lunch_sat,bbq:D.bbq_sat,notes:D.notes}}}else le={name:W.name,logo:W.logo,website:W.website,info:W.info},Y={};return{...G,...re,...le,...Y,assignments:ee}});u(J),localStorage.setItem("eventMarkers",JSON.stringify(J))}catch(_){console.error("Error loading markers:",_)}finally{f(!1)}},[t]);return k.useEffect(()=>{y(i);function v(){s(!0),y(!0)}function w(){s(!1);const A=localStorage.getItem("eventMarkers");A&&u(JSON.parse(A)),f(!1)}window.addEventListener("online",v),window.addEventListener("offline",w);const _=pe.channel("markers-core-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Core"},()=>{y(!0)}).subscribe(),j=pe.channel("markers-appearance-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Appearance"},()=>{y(!0)}).subscribe(),E=pe.channel("markers-content-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Content"},()=>{y(!0)}).subscribe(),T=pe.channel("markers-assignments-changes").on("postgres_changes",{event:"*",schema:"public",table:"assignments"},async A=>{if(A.eventType==="DELETE")y(!0);else if(A.eventType==="INSERT"||A.eventType==="UPDATE"){if(A.new?.event_year!==g.current)return;y(!0)}}).subscribe(),M=pe.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},A=>{if(A.eventType==="UPDATE"&&A.new){const U=A.new;u(H=>H.map(R=>R.companyId===U.id?{...R,name:U.name,logo:U.logo,website:U.website,info:U.info}:R)),u(H=>(localStorage.setItem("eventMarkers",JSON.stringify(H)),H))}else y(!0)}).subscribe(),P=pe.channel(`event-subscriptions-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},A=>{y(!0)}).subscribe();return()=>{window.removeEventListener("online",v),window.removeEventListener("offline",w),pe.removeChannel(_),pe.removeChannel(j),pe.removeChannel(E),pe.removeChannel(T),pe.removeChannel(M),pe.removeChannel(P)}},[i,y]),k.useEffect(()=>{y(i)},[e,i,y]),{markers:o,loading:d,isOnline:i,reload:()=>y(i)}}class Gp extends vi.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?h.jsxs("div",{style:{color:"red",padding:"2rem"},children:[h.jsx("h2",{children:"Something went wrong in a component."}),h.jsx("pre",{children:typeof this.state.error=="string"?this.state.error:JSON.stringify(this.state.error,null,2)})]}):h.jsx("div",{style:{width:"100%",minHeight:"100svh",boxSizing:"border-box",position:"relative"},children:this.props.children})}}function cM(){const[e,t]=k.useState(typeof navigator<"u"?navigator.onLine:!0);return k.useEffect(()=>{function n(){t(!0)}function i(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),e?null:h.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-900 px-4 py-2 rounded shadow-lg z-50",role:"status","aria-live":"polite",children:h.jsx("span",{"aria-label":"Offline mode",children:"You are offline. Some features may be unavailable."})})}const Ke=e=>typeof e=="string",$u=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},I_=e=>e==null?"":""+e,dM=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},hM=/###/g,V_=e=>e&&e.indexOf("###")>-1?e.replace(hM,"."):e,U_=e=>!e||Ke(e),ac=(e,t,n)=>{const i=Ke(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(U_(e))return{};const o=V_(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return U_(e)?{}:{obj:e,k:V_(i[s])}},H_=(e,t,n)=>{const{obj:i,k:s}=ac(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],u=t.slice(0,t.length-1),d=ac(e,u,Object);for(;d.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),d=ac(e,u,Object),d?.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=n},fM=(e,t,n,i)=>{const{obj:s,k:o}=ac(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Xh=(e,t)=>{const{obj:n,k:i}=ac(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},mM=(e,t,n)=>{const i=Xh(e,n);return i!==void 0?i:Xh(t,n)},P2=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?Ke(e[i])||e[i]instanceof String||Ke(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):P2(e[i],t[i],n):e[i]=t[i]);return e},tl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gM=e=>Ke(e)?e.replace(/[&<>"'\/]/g,t=>pM[t]):e;class yM{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const vM=[" ",",","?","!",";"],bM=new yM(20),xM=(e,t,n)=>{t=t||"",n=n||"";const i=vM.filter(u=>t.indexOf(u)<0&&n.indexOf(u)<0);if(i.length===0)return!0;const s=bM.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(e);if(!o){const u=e.indexOf(n);u>0&&!s.test(e.substring(0,u))&&(o=!0)}return o},Yg=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=o;f<i.length;++f)if(f!==o&&(d+=n),d+=i[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<i.length-1)continue;o+=f-o+1;break}s=u}return s},bc=e=>e?.replace("_","-"),_M={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Qh{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||_M,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(Ke(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Qh(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Qh(this.logger,t)}}var _r=new Qh;class pf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[t,...n])})}}class F_ extends pf{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,n],i&&(Array.isArray(i)?d.push(...i):Ke(i)&&o?d.push(...i.split(o)):d.push(i)));const f=Xh(this.data,d);return!f&&!n&&!i&&t.indexOf(".")>-1&&(t=d[0],n=d[1],i=d.slice(2).join(".")),f||!u||!Ke(i)?f:Yg(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[t,n];i&&(d=d.concat(u?i.split(u):i)),t.indexOf(".")>-1&&(d=t.split("."),s=n,n=d[1]),this.addNamespaces(n),H_(this.data,d,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(Ke(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,u={silent:!1,skipCopy:!1}){let d=[t,n];t.indexOf(".")>-1&&(d=t.split("."),s=i,i=n,n=d[1]),this.addNamespaces(n);let f=Xh(this.data,d)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?P2(f,i,o):f={...f,...i},H_(this.data,d,f),u.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var R2={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const D2=Symbol("i18next/PATH_KEY");function wM(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===D2?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Xg(e,t){const{[D2]:n}=e(wM());return n.join(t?.keySeparator??".")}const q_={},Kp=e=>!Ke(e)&&typeof e!="boolean"&&typeof e!="number";class Jh extends pf{constructor(t,n={}){super(),dM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_r.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=Kp(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=i&&t.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!xM(t,i,s);if(u&&!d){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:Ke(o)?[o]:o};const g=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),t=g.join(s)}return{key:t,namespaces:Ke(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=Xg(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(t[t.length-1],s),g=f[f.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=s.lng||this.language,w=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return w?o?{res:`${g}${y}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:`${g}${y}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:d;const _=this.resolve(t,s);let j=_?.res;const E=_?.usedKey||d,T=_?.exactUsedKey||d,M=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,U=s.count!==void 0&&!Ke(s.count),H=Jh.hasDefaultValue(s),R=U?this.pluralResolver.getSuffix(v,s.count,s):"",q=s.ordinal&&U?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",J=U&&!s.ordinal&&s.count===0,G=J&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${R}`]||s[`defaultValue${q}`]||s.defaultValue;let re=j;A&&!j&&H&&(re=G);const W=Kp(re),ee=Object.prototype.toString.apply(re);if(A&&re&&W&&M.indexOf(ee)<0&&!(Ke(P)&&Array.isArray(re))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const le=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,re,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(_.res=le,_.usedParams=this.getUsedParamsDetails(s),_):le}if(u){const le=Array.isArray(re),Y=le?[]:{},se=le?T:E;for(const F in re)if(Object.prototype.hasOwnProperty.call(re,F)){const Z=`${se}${u}${F}`;H&&!j?Y[F]=this.translate(Z,{...s,defaultValue:Kp(G)?G[F]:void 0,joinArrays:!1,ns:f}):Y[F]=this.translate(Z,{...s,joinArrays:!1,ns:f}),Y[F]===Z&&(Y[F]=re[F])}j=Y}}else if(A&&Ke(P)&&Array.isArray(j))j=j.join(P),j&&(j=this.extendTranslation(j,t,s,i));else{let le=!1,Y=!1;!this.isValidLookup(j)&&H&&(le=!0,j=G),this.isValidLookup(j)||(Y=!0,j=d);const F=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:j,Z=H&&G!==j&&this.options.updateMissing;if(Y||le||Z){if(this.logger.log(Z?"updateKey":"missingKey",v,g,d,Z?G:j),u){const z=this.resolve(d,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ne=[];const Ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ce&&Ce[0])for(let z=0;z<Ce.length;z++)ne.push(Ce[z]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(s.lng||this.language):ne.push(s.lng||this.language);const D=(z,X,B)=>{const ue=H&&B!==j?B:F;this.options.missingKeyHandler?this.options.missingKeyHandler(z,g,X,ue,Z,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,g,X,ue,Z,s),this.emit("missingKey",z,g,X,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?ne.forEach(z=>{const X=this.pluralResolver.getSuffixes(z,s);J&&s[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(B=>{D([z],d+B,s[`defaultValue${B}`]||G)})}):D(ne,d,G))}j=this.extendTranslation(j,t,s,_,i),Y&&j===d&&this.options.appendNamespaceToMissingKey&&(j=`${g}${y}${d}`),(Y||le)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${d}`:d,le?j:void 0,s))}return o?(_.res=j,_.usedParams=this.getUsedParamsDetails(s),_):j}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=Ke(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(f){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let y=i.replace&&!Ke(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),t=this.interpolator.interpolate(t,y,i.lng||this.language||s.usedLng,i),f){const v=t.match(this.interpolator.nestingRegexp),w=v&&v.length;g<w&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,d=Ke(u)?[u]:u;return t!=null&&d?.length&&i.applyPostProcessor!==!1&&(t=R2.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,u,d;return Ke(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(f,n),y=g.key;s=y;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=n.count!==void 0&&!Ke(n.count),_=w&&!n.ordinal&&n.count===0,j=n.context!==void 0&&(Ke(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(T=>{this.isValidLookup(i)||(d=T,!q_[`${E[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(q_[`${E[0]}-${T}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(M=>{if(this.isValidLookup(i))return;u=M;const P=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,y,M,T,n);else{let U;w&&(U=this.pluralResolver.getSuffix(M,n.count,n));const H=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&U.indexOf(R)===0&&P.push(y+U.replace(R,this.options.pluralSeparator)),P.push(y+U),_&&P.push(y+H)),j){const q=`${y}${this.options.contextSeparator||"_"}${n.context}`;P.push(q),w&&(n.ordinal&&U.indexOf(R)===0&&P.push(q+U.replace(R,this.options.pluralSeparator)),P.push(q+U),_&&P.push(q+H))}}let A;for(;A=P.pop();)this.isValidLookup(i)||(o=A,i=this.getResource(M,T,A,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!Ke(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class $_{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_r.create("languageUtils")}getScriptPartFromCode(t){if(t=bc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=bc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ke(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ke(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ke(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):Ke(t)&&o(this.formatLanguageCode(t)),i.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const Z_={zero:0,one:1,two:2,few:3,many:4,other:5},G_={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class SM{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=_r.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=bc(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),G_;if(!t.match(/-|_/))return G_;const f=this.languageUtils.getLanguagePartFromCode(t);u=this.getRule(f,n)}return this.pluralRulesCache[o]=u,u}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>Z_[s]-Z_[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const K_=(e,t,n,i=".",s=!0)=>{let o=mM(e,t,n);return!o&&s&&Ke(n)&&(o=Yg(e,n,i),o===void 0&&(o=Yg(t,n,i))),o},Wp=e=>e.replace(/\$/g,"$$$$");class CM{constructor(t={}){this.logger=_r.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:g,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:_,nestingSuffix:j,nestingSuffixEscaped:E,nestingOptionsSeparator:T,maxReplaces:M,alwaysFormat:P}=t.interpolation;this.escape=n!==void 0?n:gM,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?tl(o):u||"{{",this.suffix=d?tl(d):f||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=w?tl(w):_||tl("$t("),this.nestingSuffix=j?tl(j):E||tl(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=M||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=_=>{if(_.indexOf(this.formatSeparator)<0){const M=K_(n,f,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,i,{...s,...n,interpolationkey:_}):M}const j=_.split(this.formatSeparator),E=j.shift().trim(),T=j.join(this.formatSeparator).trim();return this.format(K_(n,f,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...s,...n,interpolationkey:E})};this.resetRegExp();const y=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Wp(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Wp(this.escape(_)):Wp(_)}].forEach(_=>{for(d=0;o=_.regex.exec(t);){const j=o[1].trim();if(u=g(j),u===void 0)if(typeof y=="function"){const T=y(t,o,s);u=Ke(T)?T:""}else if(s&&Object.prototype.hasOwnProperty.call(s,j))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${t}`),u="";else!Ke(u)&&!this.useRawValueToEscape&&(u=I_(u));const E=_.safeValue(u);if(t=t.replace(o[0],E),v?(_.regex.lastIndex+=u.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,u;const d=(f,g)=>{const y=this.nestingOptionsSeparator;if(f.indexOf(y)<0)return f;const v=f.split(new RegExp(`${y}[ ]*{`));let w=`{${v[1]}`;f=v[0],w=this.interpolate(w,u);const _=w.match(/'/g),j=w.match(/"/g);((_?.length??0)%2===0&&!j||j.length%2!==0)&&(w=w.replace(/'/g,'"'));try{u=JSON.parse(w),g&&(u={...g,...u})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,E),`${f}${y}${w}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(t);){let f=[];u={...i},u=u.replace&&!Ke(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(g!==-1&&(f=s[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),s[1]=s[1].slice(0,g)),o=n(d.call(this,s[1].trim(),u),u),o&&s[0]===t&&!Ke(o))return o;Ke(o)||(o=I_(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),f.length&&(o=f.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const jM=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),g=f.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:t,formatOptions:n}},W_=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=i+JSON.stringify(o);let d=t[u];return d||(d=e(bc(i),s),t[u]=d),d(n)}},EM=e=>(t,n,i)=>e(bc(n),i)(t);class kM{constructor(t={}){this.logger=_r.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?W_:EM;this.formats={number:i((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return d=>u.format(d)}),currency:i((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return d=>u.format(d)}),datetime:i((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return d=>u.format(d)}),relativetime:i((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return d=>u.format(d,o.range||"day")}),list:i((s,o)=>{const u=new Intl.ListFormat(s,{...o});return d=>u.format(d)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=W_(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,f)=>{const{formatName:g,formatOptions:y}=jM(f);if(this.formats[g]){let v=d;try{const w=s?.formatParams?.[s.interpolationkey]||{},_=w.locale||w.lng||s.locale||s.lng||i;v=this.formats[g](d,_,{...y,...s,...w})}catch(w){this.logger.warn(w)}return v}else this.logger.warn(`there was no format function for ${g}`);return d},t)}}const TM=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class LM extends pf{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=_r.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},u={},d={},f={};return t.forEach(g=>{let y=!0;n.forEach(v=>{const w=`${g}|${v}`;!i.reload&&this.store.hasResourceBundle(g,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?u[w]===void 0&&(u[w]=!0):(this.state[w]=1,y=!1,u[w]===void 0&&(u[w]=!0),o[w]===void 0&&(o[w]=!0),f[v]===void 0&&(f[v]=!0)))}),y||(d[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(t,n,i){const s=t.split("|"),o=s[0],u=s[1];n&&this.emit("failedLoading",o,u,n),!n&&i&&this.store.addResourceBundle(o,u,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const d={};this.queue.forEach(f=>{fM(f.loaded,[o],u),TM(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(g=>{d[g]||(d[g]={});const y=f.loaded[g];y.length&&y.forEach(v=>{d[g][v]===void 0&&(d[g][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(t,n,i,s=0,o=this.retryTimeout,u){if(!t.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:u});return}this.readingCalls++;const d=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,u)},o);return}u(g,y)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const g=f(t,n);g&&typeof g.then=="function"?g.then(y=>d(null,y)).catch(d):d(null,g)}catch(g){d(g)}return}return f(t,n,d)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ke(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ke(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,u),!u&&d&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,d),this.loaded(t,u,d)})}saveMissing(t,n,i,s,o,u={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const f={...u,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,i,s,f):y=g(t,n,i,s),y&&typeof y.then=="function"?y.then(v=>d(null,v)).catch(d):d(null,y)}catch(y){d(y)}else g(t,n,i,s,d,f)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Y_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ke(e[1])&&(t.defaultValue=e[1]),Ke(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),X_=e=>(Ke(e.ns)&&(e.ns=[e.ns]),Ke(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ke(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),kh=()=>{},NM=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class xc extends pf{constructor(t={},n){if(super(),this.options=X_(t),this.services={},this.logger=_r,this.modules={external:[]},NM(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ke(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Y_();this.options={...i,...this.options,...X_(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?_r.init(s(this.modules.logger),this.options):_r.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=kM;const y=new $_(this.options);this.store=new F_(this.options.resources,this.options);const v=this.services;v.logger=_r,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new SM(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new CM(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new LM(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...j)=>{this.emit(_,...j)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Jh(this.services,this.options),this.translator.on("*",(_,...j)=>{this.emit(_,...j)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=kh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const d=$u(),f=()=>{const g=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t,n=kh){let i=n;const s=Ke(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&o.indexOf(g)<0&&o.push(g)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload?.forEach?.(d=>u(d)),this.services.backendConnector.load(o,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(d)})}else i(null)}reloadResources(t,n,i){const s=$u();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=kh),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&R2.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=$u();this.emit("languageChanging",t);const s=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,f)=>{f?this.isLanguageChangingTo===t&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),n&&n(d,(...g)=>this.t(...g))},u=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const f=Ke(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ke(d)?[d]:d);g&&(this.language||s(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,y=>{o(y,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(t),i}getFixedT(t,n,i){const s=(o,u,...d)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(d)):f={...u},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||s.keyPrefix);const g=this.options.keySeparator||".";let y;return f.keyPrefix&&Array.isArray(o)?y=o.map(v=>(typeof v=="function"&&(v=Xg(v,{...this.options,...u})),`${f.keyPrefix}${g}${v}`)):(typeof o=="function"&&(o=Xg(o,{...this.options,...u})),y=f.keyPrefix?`${f.keyPrefix}${g}${o}`:o),this.t(y,f)};return Ke(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const g=this.services.backendConnector.state[`${d}|${f}`];return g===-1||g===0||g===2};if(n.precheck){const d=n.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,t)&&(!s||u(o,t)))}loadNamespaces(t,n){const i=$u();return this.options.ns?(Ke(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=$u();Ke(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{i.resolve(),n&&n(u)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new $_(Y_());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new xc(t,n)}cloneInstance(t={},n=kh){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new xc(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const d=Object.keys(this.store.data).reduce((f,g)=>(f[g]={...this.store.data[g]},f[g]=Object.keys(f[g]).reduce((y,v)=>(y[v]={...f[g][v]},y),f[g]),f),{});o.store=new F_(d,s),o.services.resourceStore=o.store}return o.translator=new Jh(o.services,s),o.translator.on("*",(d,...f)=>{o.emit(d,...f)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mn=xc.createInstance();Mn.createInstance=xc.createInstance;Mn.createInstance;Mn.dir;Mn.init;Mn.loadResources;Mn.reloadResources;Mn.use;Mn.changeLanguage;Mn.getFixedT;Mn.t;Mn.exists;Mn.setDefaultNamespace;Mn.hasLoadedNamespace;Mn.loadNamespaces;Mn.loadLanguages;const AM=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Ja(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},Q_={},z2=(e,t,n,i)=>{Ja(n)&&Q_[n]||(Ja(n)&&(Q_[n]=new Date),AM(e,t,n,i))},B2=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Qg=(e,t,n)=>{e.loadNamespaces(t,B2(e,n))},J_=(e,t,n,i)=>{if(Ja(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Qg(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,B2(e,i))},MM=(e,t,n={})=>!t.languages||!t.languages.length?(z2(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Ja=e=>typeof e=="string",OM=e=>typeof e=="object"&&e!==null,PM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RM={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},DM=e=>RM[e],zM=e=>e.replace(PM,DM);let Jg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zM};const BM=(e={})=>{Jg={...Jg,...e}},IM=()=>Jg;let I2;const VM=e=>{I2=e},UM=()=>I2,HM={type:"3rdParty",init(e){BM(e.options.react),VM(e)}},FM=k.createContext();class qM{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Yp={exports:{}},Xp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function $M(){if(e1)return Xp;e1=1;var e=Ac();function t(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(v,w){var _=w(),j=i({inst:{value:_,getSnapshot:w}}),E=j[0].inst,T=j[1];return o(function(){E.value=_,E.getSnapshot=w,f(E)&&T({inst:E})},[v,_,w]),s(function(){return f(E)&&T({inst:E}),v(function(){f(E)&&T({inst:E})})},[v]),u(_),_}function f(v){var w=v.getSnapshot;v=v.value;try{var _=w();return!n(v,_)}catch{return!0}}function g(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return Xp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Xp}var t1;function ZM(){return t1||(t1=1,Yp.exports=$M()),Yp.exports}var GM=ZM();const KM=(e,t)=>Ja(t)?t:OM(t)&&Ja(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,WM={t:KM,ready:!1},YM=()=>()=>{},_t=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=k.useContext(FM)||{},o=n||i||UM();o&&!o.reportNamespaces&&(o.reportNamespaces=new qM),o||z2(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=k.useMemo(()=>({...IM(),...o?.options?.react,...t}),[o,t]),{useSuspense:d,keyPrefix:f}=u,g=k.useMemo(()=>{const A=s||o?.options?.defaultNS;return Ja(A)?[A]:A||["translation"]},[e,s,o]);o?.reportNamespaces?.addUsedNamespaces?.(g);const y=k.useCallback(A=>{if(!o)return YM;const{bindI18n:U,bindI18nStore:H}=u;return U&&o.on(U,A),H&&o.store.on(H,A),()=>{U&&U.split(" ").forEach(R=>o.off(R,A)),H&&H.split(" ").forEach(R=>o.store.off(R,A))}},[o,u]),v=k.useRef(),w=k.useCallback(()=>{if(!o)return WM;const A=!!(o.isInitialized||o.initializedStoreOnce)&&g.every(q=>MM(q,o,u)),U=o.getFixedT(t.lng||o.language,u.nsMode==="fallback"?g:g[0],f),H=v.current;if(H&&H.ready===A&&H.lng===(t.lng||o.language)&&H.keyPrefix===f)return H;const R={t:U,ready:A,lng:t.lng||o.language,keyPrefix:f};return v.current=R,R},[o,g,f,u,t.lng]),[_,j]=k.useState(0),{t:E,ready:T}=GM.useSyncExternalStore(y,w,w);k.useEffect(()=>{if(o&&!T&&!d){const A=()=>j(U=>U+1);t.lng?J_(o,t.lng,g,A):Qg(o,g,A)}},[o,t.lng,g,T,d,_]);const M=o||{},P=k.useMemo(()=>{const A=[E,M,T];return A.t=E,A.i18n=M,A.ready=T,A},[E,M,T]);if(o&&d&&!T)throw new Promise(A=>{const U=()=>A();t.lng?J_(o,t.lng,g,U):Qg(o,g,U)});return P},XM=[{code:"en",label:"English",flag:""},{code:"nl",label:"Nederlands",flag:""}];function _c({className:e=""}){const{i18n:t}=_t(),n=t.language;return h.jsx("div",{className:`flex items-center gap-2 ${e}`,children:XM.map(i=>h.jsxs("button",{onClick:()=>t.changeLanguage(i.code),className:`px-2 py-1 rounded border text-xs font-semibold transition focus:outline-none flex items-center gap-1 ${n===i.code?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-300 hover:bg-blue-50"}`,"aria-pressed":n===i.code,children:[h.jsx("span",{style:{fontSize:"1.1em"},children:i.flag}),i.label]},i.code))})}const cn={DEFAULT_POSITION:[51.898095078807025,5.772961378097534],DEFAULT_ZOOM:17,MIN_ZOOM:14,MAX_ZOOM:22,SEARCH_ZOOM:21,ZOOM_DELTA:.5,ZOOM_SNAP:.5,RECTANGLE_SIZE:[6,6],MINIMAP:{WIDTH:120,HEIGHT:120,ZOOM_LEVEL:15,AIMING_COLOR:"#1976d2",SHADOW_COLOR:"#90caf9"}},xl={DEFAULT_LOGO:"4x4Vakantiebeurs.png",getDefaultLogoPath:()=>{const e="/Map";return`${e.endsWith("/")?e:`${e}/`}assets/logos/${xl.DEFAULT_LOGO}`}},Th=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function QM({onLogin:e,branding:t}){const{t:n}=_t(),[i,s]=k.useState(""),[o,u]=k.useState(""),[d,f]=k.useState(!1),[g,y]=k.useState(!1),[v,w]=k.useState(null),[_,j]=k.useState(!1),[E,T]=k.useState(!1),[M,P]=k.useState(""),[A,U]=k.useState(!1),[H,R]=k.useState(!1),q=k.useRef(null);k.useEffect(()=>{const ee=localStorage.getItem("adminRememberEmail");ee&&(s(ee),y(!0))},[]),k.useEffect(()=>{v&&q.current&&q.current.focus()},[v]);const J=async ee=>{ee.preventDefault(),j(!0),w(null),g?localStorage.setItem("adminRememberEmail",i):localStorage.removeItem("adminRememberEmail");const{data:le,error:Y}=await pe.auth.signInWithPassword({email:i,password:o});j(!1),Y?Y.message.includes("Invalid login credentials")?w(n("adminLogin.errors.invalidCredentials")):Y.message.includes("Email not confirmed")?w(Y.message):Y.message.includes("Network")?w(n("adminLogin.errors.networkError")):w(n("adminLogin.errors.unknownError")):e(le.user)},G=async ee=>{ee.preventDefault(),U(!0),w(null);const Y=`${window.location.origin}/Map#/reset-password`,{error:se}=await pe.auth.resetPasswordForEmail(M,{redirectTo:Y});U(!1),se?w(n("adminLogin.errors.resetFailed")):(R(!0),setTimeout(()=>{T(!1),R(!1),P("")},5e3))},re=t?.eventName||"4x4 Vakantiebeurs",W=t?.logo||xl.getDefaultLogoPath();return E?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(_c,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:W,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:re}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:n("adminLogin.resetPassword")}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n("adminLogin.resetInstructions")}),H?h.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",role:"alert","aria-live":"polite",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{children:n("adminLogin.resetEmailSent")})]})}):h.jsxs("form",{onSubmit:G,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"reset-email",className:"label-base",children:n("adminLogin.email")}),h.jsx("input",{id:"reset-email",type:"email",value:M,onChange:ee=>P(ee.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),required:!0})]}),v&&h.jsx("div",{ref:q,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm",children:v})]})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:A,children:n(A?"adminLogin.loggingIn":"adminLogin.sendResetLink")}),h.jsxs("button",{type:"button",onClick:()=>{T(!1),w(null),P("")},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",n("adminLogin.backToLogin")]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(_c,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:W,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:re}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-lg font-semibold mb-6 text-gray-700 text-center",children:n("adminLogin.subtitle")}),h.jsxs("form",{onSubmit:J,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"label-base",children:n("adminLogin.email")}),h.jsx("input",{id:"email",type:"email",value:i,onChange:ee=>s(ee.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),"aria-required":"true",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"label-base",children:n("adminLogin.password")}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"password",type:d?"text":"password",value:o,onChange:ee=>u(ee.target.value),className:"input-base pr-20",placeholder:n("adminLogin.passwordPlaceholder"),"aria-label":n("adminLogin.password"),"aria-required":"true",required:!0}),h.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>f(ee=>!ee),"aria-label":n(d?"adminLogin.hide":"adminLogin.show"),tabIndex:-1,children:d?"":""})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{htmlFor:"remember-me",className:"flex items-center cursor-pointer group",children:[h.jsx("input",{id:"remember-me",type:"checkbox",checked:g,onChange:ee=>y(ee.target.checked),className:"mr-2 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 cursor-pointer","aria-label":n("adminLogin.rememberMe")}),h.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:n("adminLogin.rememberMe")})]}),h.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:n("adminLogin.forgotPassword")})]}),v&&h.jsx("div",{ref:q,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm font-medium",children:v})]})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",disabled:_,children:_?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("adminLogin.loggingIn")]}):n("adminLogin.loginButton")})]})]}),h.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:h.jsx("p",{children:"Secure manager access only"})})]})})}function JM({branding:e}){const{t}=_t(),n=Nl(),[i,s]=k.useState(""),[o,u]=k.useState(""),[d,f]=k.useState(!1),[g,y]=k.useState(null),[v,w]=k.useState(null),[_,j]=k.useState(!1),[E,T]=k.useState(!1),M=k.useRef(null);k.useEffect(()=>{g&&M.current&&M.current.focus()},[g]),k.useEffect(()=>{(async()=>{const R=window.location.hash;let q;if(R.includes("error=")){const le=R.substring(1);q=new URLSearchParams(le)}else{const le=R.indexOf("#",1);if(le>0){const Y=R.substring(le+1);q=new URLSearchParams(Y)}else q=new URLSearchParams(window.location.search)}const J=q.get("access_token"),G=q.get("refresh_token"),re=q.get("error"),W=q.get("error_description");if(re){re==="access_denied"||W?.includes("expired")?w(t("resetPassword.errors.tokenExpired")):w(t("resetPassword.errors.invalidToken"));return}if(J&&G){const{data:{session:le},error:Y}=await pe.auth.setSession({access_token:J,refresh_token:G});(Y||!le)&&(console.error("Failed to set session:",Y),w(t("resetPassword.errors.invalidToken")));return}const{data:{session:ee}}=await pe.auth.getSession();ee||w(t("resetPassword.errors.invalidToken"))})()},[t]);const P=async H=>{if(H.preventDefault(),y(null),i.length<6){y(t("resetPassword.errors.passwordTooShort"));return}if(i!==o){y(t("resetPassword.errors.passwordMismatch"));return}j(!0);const{error:R}=await pe.auth.updateUser({password:i});j(!1),R?y(t("resetPassword.errors.updateFailed")):(T(!0),setTimeout(()=>{n("/admin")},3e3))},A=e?.eventName||"4x4 Vakantiebeurs",U=e?.logo||xl.getDefaultLogoPath();return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[h.jsx("div",{className:"flex justify-end mb-6",children:h.jsx(_c,{})}),h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:h.jsx("img",{src:U,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),h.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:A}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),h.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:t("resetPassword.title")}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t("resetPassword.instructions")}),E?h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"polite",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"font-semibold",children:t("resetPassword.success")})]}),h.jsx("p",{className:"text-sm ml-8",children:t("resetPassword.redirecting")})]}):v?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{ref:M,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold mb-1",children:t("resetPassword.errors.linkExpiredTitle")}),h.jsx("p",{className:"text-sm",children:v})]})]})}),h.jsx("div",{className:"flex gap-3",children:h.jsx("button",{type:"button",onClick:()=>n("/admin"),className:"flex-1 btn-primary",children:t("resetPassword.requestNewLink")})})]}):h.jsxs("form",{onSubmit:P,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"new-password",className:"label-base",children:t("resetPassword.newPassword")}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"new-password",type:d?"text":"password",value:i,onChange:H=>s(H.target.value),className:"input-base",placeholder:t("resetPassword.newPasswordPlaceholder"),"aria-label":t("resetPassword.newPassword"),required:!0,minLength:6}),h.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors text-sm","aria-label":t(d?"resetPassword.hidePassword":"resetPassword.showPassword"),children:d?"":""})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("resetPassword.passwordRequirements")})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirm-password",className:"label-base",children:t("resetPassword.confirmPassword")}),h.jsx("input",{id:"confirm-password",type:d?"text":"password",value:o,onChange:H=>u(H.target.value),className:"input-base",placeholder:t("resetPassword.confirmPasswordPlaceholder"),"aria-label":t("resetPassword.confirmPassword"),required:!0})]}),g&&h.jsx("div",{ref:M,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-xl mr-3",children:""}),h.jsx("span",{className:"text-sm",children:g})]})}),h.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:_,children:t(_?"resetPassword.updating":"resetPassword.updatePassword")}),h.jsxs("button",{type:"button",onClick:()=>n("/admin"),className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",t("resetPassword.backToLogin")]})]})]})})})}var Qp={exports:{}},Jp,n1;function eO(){if(n1)return Jp;n1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jp=e,Jp}var eg,i1;function tO(){if(i1)return eg;i1=1;var e=eO();function t(){}function n(){}return n.resetWarningCache=t,eg=function(){function i(u,d,f,g,y,v){if(v!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},eg}var r1;function V2(){return r1||(r1=1,Qp.exports=tO()()),Qp.exports}var nO=V2();const Me=eo(nO);var tg,s1;function iO(){return s1||(s1=1,tg=(function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(i,s,o){n.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,s){if(1&s&&(i=n(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var u in i)n.d(o,u,(function(d){return i[d]}).bind(null,u));return o},n.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="",n(n.s=2)})([function(e,t){e.exports=V2()},function(e,t){e.exports=Ac()},function(e,t,n){n.r(t);var i=n(1),s=n(0),o=function(){return(o=Object.assign||function(j){for(var E,T=1,M=arguments.length;T<M;T++)for(var P in E=arguments[T])Object.prototype.hasOwnProperty.call(E,P)&&(j[P]=E[P]);return j}).apply(this,arguments)},u=function(j,E){var T={};for(var M in j)Object.prototype.hasOwnProperty.call(j,M)&&E.indexOf(M)<0&&(T[M]=j[M]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(M=Object.getOwnPropertySymbols(j);P<M.length;P++)E.indexOf(M[P])<0&&Object.prototype.propertyIsEnumerable.call(j,M[P])&&(T[M[P]]=j[M[P]])}return T},d=0,f=i.forwardRef((function(j,E){var T=j.title,M=T===void 0?null:T,P=j.description,A=P===void 0?null:P,U=j.size,H=U===void 0?null:U,R=j.color,q=R===void 0?"currentColor":R,J=j.horizontal,G=J===void 0?null:J,re=j.vertical,W=re===void 0?null:re,ee=j.rotate,le=ee===void 0?null:ee,Y=j.spin,se=Y===void 0?null:Y,F=j.style,Z=F===void 0?{}:F,ne=j.children,Ce=u(j,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);d++;var D,z=se!==null&&se,X=i.Children.map(ne,(function(oe){var ye=oe;z!==!0&&(z=(se===null?ye.props.spin:se)===!0);var Ee=ye.props.size;typeof H=="number"&&typeof ye.props.size=="number"&&(Ee=ye.props.size/H);var Oe={size:Ee,color:q===null?ye.props.color:q,horizontal:G===null?ye.props.horizontal:G,vertical:W===null?ye.props.vertical:W,rotate:le===null?ye.props.rotate:le,spin:se===null?ye.props.spin:se,inStack:!0};return i.cloneElement(ye,Oe)}));H!==null&&(Z.width=typeof H=="string"?H:1.5*H+"rem");var B,ue="stack_labelledby_"+d,te="stack_describedby_"+d;if(M)D=A?ue+" "+te:ue;else if(B="presentation",A)throw new Error("title attribute required when description is set");return i.createElement("svg",o({ref:E,viewBox:"0 0 24 24",style:Z,role:B,"aria-labelledby":D},Ce),M&&i.createElement("title",{id:ue},M),A&&i.createElement("desc",{id:te},A),z&&i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),X)}));f.displayName="Stack",f.propTypes={size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),children:s.oneOfType([s.arrayOf(s.node),s.node]).isRequired,className:s.string,style:s.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=f;n.d(t,"Icon",(function(){return _})),n.d(t,"Stack",(function(){return g}));var y=function(){return(y=Object.assign||function(j){for(var E,T=1,M=arguments.length;T<M;T++)for(var P in E=arguments[T])Object.prototype.hasOwnProperty.call(E,P)&&(j[P]=E[P]);return j}).apply(this,arguments)},v=function(j,E){var T={};for(var M in j)Object.prototype.hasOwnProperty.call(j,M)&&E.indexOf(M)<0&&(T[M]=j[M]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(M=Object.getOwnPropertySymbols(j);P<M.length;P++)E.indexOf(M[P])<0&&Object.prototype.propertyIsEnumerable.call(j,M[P])&&(T[M[P]]=j[M[P]])}return T},w=0,_=i.forwardRef((function(j,E){var T=j.path,M=j.id,P=M===void 0?++w:M,A=j.title,U=A===void 0?null:A,H=j.description,R=H===void 0?null:H,q=j.size,J=q===void 0?null:q,G=j.color,re=G===void 0?"currentColor":G,W=j.horizontal,ee=W!==void 0&&W,le=j.vertical,Y=le!==void 0&&le,se=j.rotate,F=se===void 0?0:se,Z=j.spin,ne=Z!==void 0&&Z,Ce=j.style,D=Ce===void 0?{}:Ce,z=j.inStack,X=z!==void 0&&z,B=v(j,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),ue={},te=[];J!==null&&(X?te.push("scale("+J+")"):(D.width=typeof J=="string"?J:1.5*J+"rem",D.height=D.width)),ee&&te.push("scaleX(-1)"),Y&&te.push("scaleY(-1)"),F!==0&&te.push("rotate("+F+"deg)"),re!==null&&(ue.fill=re);var oe=i.createElement("path",y({d:T,style:ue},X?B:{})),ye=oe;te.length>0&&(D.transform=te.join(" "),D.transformOrigin="center",X&&(ye=i.createElement("g",{style:D},oe,i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Ee,Oe=ye,je=ne===!0||typeof ne!="number"?2:ne,ge=!X&&(ee||Y);if(je<0&&(ge=!ge),ne&&(Oe=i.createElement("g",{style:{animation:"spin"+(ge?"-inverse":"")+" linear "+Math.abs(je)+"s infinite",transformOrigin:"center"}},ye,!(ee||Y||F!==0)&&i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),X)return Oe;var Ae,Ne="icon_labelledby_"+P,Ie="icon_describedby_"+P;if(U)Ee=R?Ne+" "+Ie:Ne;else if(Ae="presentation",R)throw new Error("title attribute required when description is set");return i.createElement("svg",y({ref:E,viewBox:"0 0 24 24",style:D,role:Ae,"aria-labelledby":Ee},B),U&&i.createElement("title",{id:Ne},U),R&&i.createElement("desc",{id:Ie},R),!X&&ne&&(ge?i.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),Oe)}));_.displayName="Icon",_.propTypes={path:s.string.isRequired,size:s.oneOfType([s.number,s.string]),color:s.string,horizontal:s.bool,vertical:s.bool,rotate:s.number,spin:s.oneOfType([s.bool,s.number]),style:s.object,inStack:s.bool,className:s.string},_.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=_}])),tg}var U2=iO();const _e=eo(U2);var H2="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",rO="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",sO="M20.56 3.91C21.15 4.5 21.15 5.45 20.56 6.03L16.67 9.92L18.79 19.11L17.38 20.53L13.5 13.1L9.6 17L9.96 19.47L8.89 20.53L7.13 17.35L3.94 15.58L5 14.5L7.5 14.87L11.37 11L3.94 7.09L5.36 5.68L14.55 7.8L18.44 3.91C19 3.33 20 3.33 20.56 3.91Z",ey="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",gf="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",yf="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",aO="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z",oO="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",ty="M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z",lO="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",uO="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",F2="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",cO="M6.5 5C5.84 5 5.28 5.42 5.08 6L3 12V20A1 1 0 0 0 4 21H5A1 1 0 0 0 6 20V19H11.3A7 7 0 0 1 11 17A7 7 0 0 1 14.41 11H5L6.5 6.5H17.5L18.68 10.03A7 7 0 0 1 20.47 10.46L18.92 6C18.72 5.42 18.16 5 17.5 5H6.5M17 12C16.87 12 16.76 12.09 16.74 12.21L16.55 13.53C16.25 13.66 15.96 13.82 15.7 14L14.46 13.5C14.35 13.5 14.22 13.5 14.15 13.63L13.15 15.36C13.09 15.47 13.11 15.6 13.21 15.68L14.27 16.5C14.25 16.67 14.24 16.83 14.24 17C14.24 17.17 14.25 17.33 14.27 17.5L13.21 18.32C13.12 18.4 13.09 18.53 13.15 18.64L14.15 20.37C14.21 20.5 14.34 20.5 14.46 20.5L15.7 20C15.96 20.18 16.24 20.35 16.55 20.47L16.74 21.79C16.76 21.91 16.86 22 17 22H19C19.11 22 19.22 21.91 19.24 21.79L19.43 20.47C19.73 20.34 20 20.18 20.27 20L21.5 20.5C21.63 20.5 21.76 20.5 21.83 20.37L22.83 18.64C22.89 18.53 22.86 18.4 22.77 18.32L21.7 17.5C21.72 17.33 21.74 17.17 21.74 17C21.74 16.83 21.73 16.67 21.7 16.5L22.76 15.68C22.85 15.6 22.88 15.47 22.82 15.36L21.82 13.63C21.76 13.5 21.63 13.5 21.5 13.5L20.27 14C20 13.82 19.73 13.65 19.42 13.53L19.23 12.21C19.22 12.09 19.11 12 19 12H17M6.5 13A1.5 1.5 0 0 1 8 14.5A1.5 1.5 0 0 1 6.5 16A1.5 1.5 0 0 1 5 14.5A1.5 1.5 0 0 1 6.5 13M18 15.5C18.83 15.5 19.5 16.17 19.5 17C19.5 17.83 18.83 18.5 18 18.5C17.16 18.5 16.5 17.83 16.5 17C16.5 16.17 17.17 15.5 18 15.5Z",dO="M18.9 6C18.7 5.4 18.1 5 17.5 5H6.5C5.8 5 5.3 5.4 5.1 6L3 12V20C3 20.5 3.5 21 4 21H5C5.6 21 6 20.5 6 20V19H18V20C18 20.5 18.5 21 19 21H20C20.5 21 21 20.5 21 20V12L18.9 6M6.8 7H17.1L18.2 10H5.8L6.8 7M19 17H5V12H19V17M7.5 13C8.3 13 9 13.7 9 14.5S8.3 16 7.5 16 6 15.3 6 14.5 6.7 13 7.5 13M16.5 13C17.3 13 18 13.7 18 14.5S17.3 16 16.5 16C15.7 16 15 15.3 15 14.5S15.7 13 16.5 13Z",hO="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z",fO="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z",Cr="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",vf="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",_l="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",mO="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",q2="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",wl="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",pO="M15 4A8 8 0 1 1 7 12A8 8 0 0 1 15 4M3 12A6 6 0 0 0 7 17.65V19.74A8 8 0 0 1 7 4.26V6.35A6 6 0 0 0 3 12Z",$2="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",gO="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z",yO="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",er="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",Z2="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",G2="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z",vO="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M13,10H11V6H13V10M13,14H11V12H13V14Z",bO="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",xO="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Al="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",fl="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z",Ih="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",_O="M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z",wO="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",K2="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",a1="M22,19L19,17L22,15V19M15,15L19,9L22,13L18,16L15,15M5,17L2,19V15L5,17M9,15L6,16L2,13L5,9L9,15M14,6L18,8L13,15H11L6,8L10,6H14Z",SO="M20.16 12.73C22.93 9.96 22.57 5.26 19.09 3C17.08 1.67 14.39 1.66 12.36 2.97C10.6 4.1 9.63 5.86 9.46 7.68C9.33 9 8.83 10.23 7.91 11.15L7.88 11.18C6.72 12.34 6.72 14.11 7.81 15.19L8.8 16.18C9.89 17.27 11.66 17.27 12.75 16.18C13.72 15.21 15 14.68 16.39 14.53C17.76 14.38 19.1 13.78 20.16 12.73M6.26 19.86C6.53 20.42 6.44 21.1 5.97 21.56C5.39 22.15 4.44 22.15 3.85 21.56C3.58 21.29 3.44 20.94 3.42 20.58C3.06 20.56 2.71 20.42 2.44 20.15C1.85 19.56 1.85 18.61 2.44 18.03C2.9 17.57 3.59 17.47 4.14 17.74L6.62 15.31C6.76 15.5 6.92 15.72 7.1 15.9L8.09 16.89C8.3 17.09 8.5 17.26 8.76 17.41L6.26 19.86Z",o1="M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z",CO="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",l1="M8.06,2C7.88,3.17 8.17,4.16 8.95,4.97C9.45,5.47 9.61,6.14 9.42,7H10.41C10.53,6.45 10.55,6 10.45,5.55C10.36,5.13 10.05,4.63 9.5,4.03C9.05,3.47 8.89,2.8 9.05,2H8.06M10.55,2C10.36,3.17 10.66,4.16 11.44,4.97C11.94,5.47 12.09,6.14 11.91,7H12.89C13,6.45 13.03,6 12.94,5.55C12.84,5.13 12.53,4.63 12,4.03C11.53,3.47 11.38,2.8 11.53,2H10.55M13.08,2C12.89,3.17 13.19,4.16 13.97,4.97C14.47,5.47 14.61,6.14 14.39,7H15.42C15.55,6.45 15.56,6 15.47,5.55C15.38,5.13 15.06,4.63 14.53,4.03C14.06,3.47 13.91,2.8 14.06,2H13.08M5,8C5,9.42 5.39,10.7 6.14,11.84C6.87,12.96 7.91,13.85 9.14,14.39L5.16,20.44C5.06,20.56 5,20.75 5,21C5,21.41 5.16,21.69 5.44,21.84C5.56,21.94 5.75,22 6,22C6.41,22 6.69,21.84 6.84,21.56L7.83,19.97H14.2C14.41,20.55 14.79,21.05 15.28,21.42C15.78,21.8 16.36,22 17,22C17.83,22 18.53,21.69 19.13,21.09C19.72,20.5 20,19.8 20,19C20,18.17 19.72,17.47 19.13,16.88C18.53,16.28 17.83,16 17,16C16.36,16 15.78,16.17 15.28,16.55C14.78,16.92 14.42,17.41 14.2,18H9.14L11.11,14.95C11.27,15 11.56,15 12,15C12.44,15 12.73,15 12.89,14.95L13.88,16.5C14.29,15.96 14.84,15.54 15.47,15.28L14.91,14.39C16.03,13.89 17,13 17.79,11.77C18.59,10.5 19,9.27 19,8H5M17,18C17.3,18 17.53,18.09 17.72,18.28C17.91,18.47 18,18.72 18,19C18,19.27 17.91,19.5 17.72,19.71C17.54,19.91 17.28,20 17,20C16.74,20 16.5,19.91 16.29,19.71C16.09,19.5 16,19.26 16,19C16,18.7 16.09,18.47 16.29,18.28C16.5,18.09 16.73,18 17,18Z",jO="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",EO="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",kO="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",TO="M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z",LO="M12 0L3 7L4.63 8.27L12 14L19.36 8.27L21 7L12 0M19.37 10.73L12 16.47L4.62 10.74L3 12L12 19L21 12L19.37 10.73M19.37 15.73L12 21.47L4.62 15.74L3 17L12 24L21 17L19.37 15.73Z",ny="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z",NO="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",AO="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",MO="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",OO="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",io="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",W2="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z",bf="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",PO="M14,11.5A2.5,2.5 0 0,0 16.5,9A2.5,2.5 0 0,0 14,6.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 14,11.5M14,2C17.86,2 21,5.13 21,9C21,14.25 14,22 14,22C14,22 7,14.25 7,9A7,7 0 0,1 14,2M5,9C5,13.5 10.08,19.66 11,20.81L10,22C10,22 3,14.25 3,9C3,5.83 5.11,3.15 8,2.29C6.16,3.94 5,6.33 5,9Z",RO="M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z",DO="M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z",Y2="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",xf="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",Dc="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",X2="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",zO="M2,21L23,12L2,3V10L17,12L2,14V21Z",BO="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",IO="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",iy="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",VO="M4,6C4,7.19 4.39,8.27 5,9A3,3 0 0,1 2,6A3,3 0 0,1 5,3C4.39,3.73 4,4.81 4,6M2,21V19H4.76L12,4.78L19.24,19H22V21H2M12,9.19L7,19H17L12,9.19Z",UO="M14,6L10.25,11L13.1,14.8L11.5,16C9.81,13.75 7,10 7,10L1,18H23L14,6Z",Q2="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z",ry="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",HO="M22,15V17H10A3,3 0 0,1 7,20A3,3 0 0,1 4,17H2V6A2,2 0 0,1 4,4H17A2,2 0 0,1 19,6V15H22M7,16A1,1 0 0,0 6,17A1,1 0 0,0 7,18A1,1 0 0,0 8,17A1,1 0 0,0 7,16Z",FO="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",qO="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z";const ef="Logos",u1=5*1024*1024,$O=["image/png","image/jpeg","image/jpg","image/webp","image/avif","image/svg+xml"];async function ZO(e,t="companies"){try{const n=J2(e);if(!n.valid)return{error:n.error};const i=e.name.split(".").pop(),s=Date.now(),o=Math.random().toString(36).substring(2,8),u=`${s}_${o}.${i}`,d=t?`${t}/${u}`:u,{data:f,error:g}=await pe.storage.from(ef).upload(d,e,{cacheControl:"3600",upsert:!1});if(g)return console.error("Upload error:",g),{error:`Upload failed: ${g.message}`};const{data:{publicUrl:y}}=pe.storage.from(ef).getPublicUrl(d);return{url:y,path:d,error:null}}catch(n){return console.error("Upload service error:",n),{error:`Upload failed: ${n.message}`}}}function J2(e){return e?$O.includes(e.type)?e.size>u1?{valid:!1,error:`File too large. Maximum size: ${u1/1024/1024}MB`}:{valid:!0,error:null}:{valid:!1,error:"Invalid file type. Allowed: PNG, JPG, WEBP, AVIF, SVG"}:{valid:!1,error:"No file selected"}}async function GO(){try{const{data:e,error:t}=await pe.storage.listBuckets();return t?{exists:!1,error:`Error accessing storage: ${t.message}`}:e?.some(i=>i.name===ef)?{exists:!0,error:null}:{exists:!1,error:`Storage bucket "${ef}" not found. Available buckets: ${e?.map(i=>i.name).join(", ")||"none"}`}}catch(e){return{exists:!1,error:`Error checking storage bucket: ${e.message}`}}}function wc({currentLogo:e="",onUploadComplete:t,onDelete:n,folder:i="companies",label:s="Upload Logo",showPreview:o=!0,allowDelete:u=!1}){const[d,f]=k.useState(!1),[g,y]=k.useState(null),[v,w]=k.useState(""),_=k.useRef(null),j=async T=>{const M=T.target.files?.[0];if(!M)return;y(null),w("");const P=J2(M);if(!P.valid){y("error"),w(P.error);return}f(!0);const A=await ZO(M,i);f(!1),A.error?(y("error"),w(A.error)):(y("success"),w("Upload successful!"),t&&t(A.url,A.path),setTimeout(()=>{y(null),w("")},3e3)),_.current&&(_.current.value="")},E=()=>{n&&n()};return h.jsxs("div",{className:"flex flex-col gap-2",children:[o&&e&&h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("img",{src:Ji(e),alt:"Current logo",className:"h-12 w-12 object-contain border rounded p-1"}),u&&n&&h.jsx("button",{type:"button",onClick:E,className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove logo",children:h.jsx(_e,{path:Al,size:.7})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{ref:_,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/avif,image/svg+xml",onChange:j,className:"hidden",id:`logo-upload-${i}`}),h.jsx("label",{htmlFor:`logo-upload-${i}`,className:`
            flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-xs
            ${d?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}
            text-white transition-colors whitespace-nowrap
          `,children:d?h.jsxs(h.Fragment,{children:[h.jsx(_e,{path:AO,size:.8,spin:!0}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(_e,{path:FO,size:.8}),s]})}),g&&h.jsxs("div",{className:"flex items-center gap-2",children:[g==="success"&&h.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[h.jsx(_e,{path:Cr,size:.8}),h.jsx("span",{className:"text-sm",children:v})]}),g==="error"&&h.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[h.jsx(_e,{path:ey,size:.8}),h.jsx("span",{className:"text-sm",children:v})]})]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PNG, JPG, WEBP, AVIF, SVG  Max size: 5MB"})]})}wc.propTypes={currentLogo:Me.string,onUploadComplete:Me.func.isRequired,onDelete:Me.func,folder:Me.string,label:Me.string,showPreview:Me.bool,allowDelete:Me.bool};wc.defaultProps={currentLogo:"",onDelete:null,folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!1};function KO(){const[e,t]=k.useState({checking:!0,exists:!1,error:null}),[n,i]=k.useState(""),[s,o]=k.useState([]),[u,d]=k.useState(null);k.useEffect(()=>{f(),g()},[]);const f=async()=>{t({checking:!0,exists:!1,error:null});const v=await GO();t({checking:!1,exists:v.exists,error:v.error})},g=async()=>{const{data:{user:v}}=await pe.auth.getUser();d(v)},y=(v,w)=>{i(v),o([{timestamp:new Date().toISOString(),url:v,path:w,success:!0},...s])};return h.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Supabase Storage Test Page"}),h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Authentication Status"}),u?h.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["Authenticated as: ",u.email]})]}):h.jsxs("div",{className:"text-red-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Not authenticated - Please log in first"})]})]}),h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Storage Bucket Status"}),h.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Recheck"})]}),e.checking?h.jsx("div",{className:"text-gray-600",children:"Checking bucket..."}):e.exists?h.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Bucket 'logos' exists and is accessible"})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"text-red-600 flex items-center gap-2 mb-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Bucket 'logos' not found or inaccessible"})]}),e.error&&h.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:["Error: ",e.error]}),h.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[h.jsx("p",{className:"font-semibold mb-2",children:"Setup Required:"}),h.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[h.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),h.jsx("li",{children:"Create a new public bucket named 'logos'"}),h.jsx("li",{children:"Set up RLS policies (see SUPABASE_STORAGE_SETUP.md)"}),h.jsx("li",{children:"Refresh this page"})]})]})]})]}),u&&e.exists&&h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Test Logo Upload"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a test image to verify everything works correctly."}),h.jsx(wc,{currentLogo:n,onUploadComplete:y,folder:"test",label:"Upload Test Image",showPreview:!0,allowDelete:!0,onDelete:()=>i("")})]}),s.length>0&&h.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload History"}),h.jsx("div",{className:"space-y-2",children:s.map((v,w)=>h.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-green-600 font-semibold",children:" Success"}),h.jsx("span",{className:"text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),h.jsxs("div",{className:"text-gray-600",children:[h.jsxs("div",{children:[h.jsx("strong",{children:"URL:"})," ",v.url]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Path:"})," ",v.path]})]}),v.url&&h.jsx("img",{src:v.url,alt:"Uploaded",className:"mt-2 h-20 object-contain border rounded"})]},w))})]}),h.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Documentation"}),h.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"For complete setup instructions, see:"}),h.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[h.jsx("li",{children:"SUPABASE_STORAGE_SETUP.md - Bucket configuration and policies"}),h.jsx("li",{children:"LOGO_UPLOADER_INTEGRATION.md - Integration examples"})]})]})]})}function WO(){const e=Nl(),t=nr(),{t:n}=_t(),i=[{id:"home",labelKey:"navigation.home",icon:kO,path:"/"},{id:"map",labelKey:"navigation.map",icon:W2,path:"/map"},{id:"exhibitors",labelKey:"navigation.exhibitors",icon:CO,path:"/exhibitors"},{id:"schedule",labelKey:"navigation.schedule",icon:F2,path:"/schedule"}],s=o=>{e(o)};return h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:h.jsx("div",{className:"flex justify-around items-center h-16 max-w-screen-xl mx-auto",children:i.map(o=>{const u=t.pathname===o.path;return h.jsxs("button",{onClick:()=>s(o.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${u?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[h.jsx(_e,{path:o.icon,size:1.1,className:"mb-1"}),h.jsx("span",{className:`text-xs font-medium ${u?"font-semibold":""}`,children:n(o.labelKey)})]},o.id)})})})}const eC=k.createContext();function YO({children:e}){const[t,n]=k.useState(xl.DEFAULT_LOGO),[i,s]=k.useState(!0);return k.useEffect(()=>{async function o(){try{const{data:d,error:f}=await pe.from("organization_profile").select("logo").eq("id",1).single();if(f){console.error("Error fetching organization logo:",f);return}d&&d.logo&&d.logo.trim()!==""&&n(d.logo)}catch(d){console.error("Error fetching organization logo:",d)}finally{s(!1)}}o();const u=pe.channel("organization-logo-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},d=>{d.new&&d.new.logo&&(d.new.logo.trim()!==""?n(d.new.logo):n(xl.DEFAULT_LOGO))}).subscribe();return()=>{pe.removeChannel(u)}},[]),h.jsx(eC.Provider,{value:{organizationLogo:t,loading:i},children:e})}function Xs(){const e=k.useContext(eC);if(e===void 0)throw new Error("useOrganizationLogo must be used within OrganizationLogoProvider");return e}function Yy({selectedYear:e,branding:t}){Nl();const{t:n}=_t(),{organizationLogo:i}=Xs(),s={name:t?.eventName||"4x4 Vakantiebeurs"};return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white shadow-sm",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[h.jsx("div",{className:"flex justify-end mb-4",children:h.jsx(_c,{})}),i&&h.jsx("div",{className:"mb-6",children:h.jsx("img",{src:Ji(i),alt:s.name,className:"h-24 mx-auto object-contain"})}),h.jsx("p",{className:"text-sm text-orange-600 mb-2",style:{fontFamily:t?.fontFamily},children:n("homePage.subtitle")}),h.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",style:{fontFamily:t?.fontFamily},children:n("homePage.title")}),h.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n("homePage.eventDate")}),h.jsxs("div",{className:"flex justify-center gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"67"}),h.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.exhibitors")})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"2"}),h.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.days")})]})]})]})}),h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.openingHours")]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.openingHoursInfo")})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.location")]}),h.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.locationInfo")})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[h.jsx("span",{children:""}),n("homePage.parking")]}),h.jsx("p",{className:"text-gray-700",children:n("homePage.parkingInfo")})]})]}),h.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsx("p",{className:"text-sm text-blue-800",dangerouslySetInnerHTML:{__html:` ${n("homePage.phaseNote")}`}})})]})]})}Yy.propTypes={selectedYear:Me.number,branding:Me.shape({eventName:Me.string,fontFamily:Me.string})};Yy.defaultProps={selectedYear:new Date().getFullYear(),branding:null};function tC(e){const t=e||xl.DEFAULT_LOGO;return`${El()}assets/logos/${t}`}function zc(e,t){return e&&e.trim()!==""?Ji(e):tC(t)}function XO(e){const[t,n]=k.useState([]),i=k.useCallback(f=>t.includes(f),[t]),s=k.useCallback(f=>{n(g=>g.includes(f)?g.filter(y=>y!==f):[...g,f])},[]),o=k.useCallback(f=>{n(g=>g.includes(f)?g:[...g,f])},[]),u=k.useCallback(f=>{n(g=>g.filter(y=>y!==f))},[]),d=k.useCallback(()=>{n([])},[]);return{favorites:t,isFavorite:i,toggleFavorite:s,addFavorite:o,removeFavorite:u,clearAllFavorites:d}}const nC=k.createContext(null);function c1({selectedYear:e,children:t}){const n=XO();return h.jsx(nC.Provider,{value:n,children:t})}function _f(){const e=k.useContext(nC);if(!e)throw new Error("useFavoritesContext must be used within FavoritesProvider");return e}function Bc({isFavorite:e,onToggle:t,size:n="md",className:i=""}){const s={sm:.8,md:1,lg:1.2},o=s[n]||s.md,u=d=>{d.stopPropagation(),d.preventDefault(),t()};return h.jsx("button",{onClick:u,className:`transition-all ${e?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"} ${i}`,title:e?"Remove from favorites":"Add to favorites","aria-label":e?"Remove from favorites":"Add to favorites",children:h.jsx(_e,{path:e?BO:IO,size:o,className:"drop-shadow-sm"})})}Bc.propTypes={isFavorite:Me.bool.isRequired,onToggle:Me.func.isRequired,size:Me.oneOf(["sm","md","lg"]),className:Me.string};Bc.defaultProps={size:"md",className:""};function QO(e){const{i18n:t}=_t(),n=t.language;return k.useMemo(()=>{if(!e?.company_translations||e.company_translations.length===0)return e?.info||"";const s=e.company_translations.find(d=>d.language_code===n);if(s?.info)return s.info;const o=e.company_translations.find(d=>d.language_code==="nl");return o?.info?o.info:e.company_translations.find(d=>d.info)?.info||""},[e,n])}function JO(e,t="nl",n=""){if(!e||e.length===0)return n||"";const i=e.find(u=>u.language_code===t);if(i?.info)return i.info;const s=e.find(u=>u.language_code==="nl");return s?.info?s.info:e.find(u=>u.info)?.info||n||""}const ng={mdiCarOutline:dO,mdiTent:VO,mdiTrailer:HO,mdiCarCog:cO,mdiAirplane:sO,mdiHomeCity:TO,mdiAccountGroup:rO,mdiTerrainIcon:UO,mdiCellphone:hO,mdiDotsHorizontal:Ih};function Xy(e="nl"){const[t,n]=k.useState([]),[i,s]=k.useState(!0),[o,u]=k.useState(null),d=k.useCallback(async()=>{try{s(!0),u(null);const{data:E,error:T}=await pe.from("categories").select(`
          id,
          slug,
          icon,
          color,
          sort_order,
          active,
          category_translations(
            language,
            name,
            description
          )
        `).eq("active",!0).order("sort_order");if(T)throw T;const M=E.map(P=>{const A=P.category_translations.find(U=>U.language===e)||P.category_translations.find(U=>U.language==="nl")||P.category_translations[0];return{id:P.id,slug:P.slug,icon:ng[P.icon]||Ih,iconName:P.icon,color:P.color,sort_order:P.sort_order,active:P.active,name:A?.name||P.slug,description:A?.description||"",translations:P.category_translations}});n(M)}catch(E){console.error("Error loading categories:",E),u(E.message),(E.message?.includes("does not exist")||E.code==="42P01")&&(console.warn("Categories table not found. Please run migration 007."),n([]))}finally{s(!1)}},[e]);k.useEffect(()=>{d()},[d]),k.useEffect(()=>{const E=pe.channel("categories-changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},()=>d()).on("postgres_changes",{event:"*",schema:"public",table:"category_translations"},()=>d()).subscribe();return()=>{pe.removeChannel(E)}},[d]);const f=async E=>{try{const{data:T,error:M}=await pe.from("categories").insert({slug:E.slug,icon:E.icon,color:E.color,sort_order:E.sort_order||0}).select().single();if(M)throw M;const P=Object.entries(E.translations||{}).map(([A,U])=>({category_id:T.id,language:A,name:U.name,description:U.description||null}));if(P.length>0){const{error:A}=await pe.from("category_translations").insert(P);if(A)throw A}return await d(),{success:!0,data:T}}catch(T){return console.error("Error creating category:",T),{success:!1,error:T.message}}},g=async(E,T)=>{try{const{error:M}=await pe.from("categories").update({slug:T.slug,icon:T.icon,color:T.color,sort_order:T.sort_order,active:T.active}).eq("id",E);if(M)throw M;if(T.translations)for(const[P,A]of Object.entries(T.translations)){const{error:U}=await pe.from("category_translations").upsert({category_id:E,language:P,name:A.name,description:A.description||null},{onConflict:"category_id,language"});if(U)throw U}return await d(),{success:!0}}catch(M){return console.error("Error updating category:",M),{success:!1,error:M.message}}},y=async E=>{try{const{error:T}=await pe.from("categories").delete().eq("id",E);if(T)throw T;return await d(),{success:!0}}catch(T){return console.error("Error deleting category:",T),{success:!1,error:T.message}}},v=async E=>{try{const{data:T,error:M}=await pe.from("company_categories").select(`
          category_id,
          categories(
            id,
            slug,
            icon,
            color,
            category_translations(language, name)
          )
        `).eq("company_id",E);if(M)throw M;return T.map(P=>{const A=P.categories,U=A.category_translations.find(H=>H.language===e)||A.category_translations[0];return{id:A.id,slug:A.slug,icon:ng[A.icon]||Ih,iconName:A.icon,color:A.color,name:U?.name||A.slug}})}catch(T){return console.error("Error fetching company categories:",T),[]}},w=k.useCallback(async E=>{try{const{data:T,error:M}=await pe.from("company_categories").select(`
          company_id,
          category_id,
          categories(
            id,
            slug,
            icon,
            color,
            category_translations(language, name)
          )
        `).in("company_id",E);if(M)throw M;const P={};return T.forEach(A=>{P[A.company_id]||(P[A.company_id]=[]);const U=A.categories,H=U.category_translations.find(R=>R.language===e)||U.category_translations[0];P[A.company_id].push({id:U.id,slug:U.slug,icon:ng[U.icon]||Ih,iconName:U.icon,color:U.color,name:H?.name||U.slug})}),P}catch(T){return console.error("Error fetching all company categories:",T),{}}},[e]);return{categories:t,loading:i,error:o,createCategory:f,updateCategory:g,deleteCategory:y,getCompanyCategories:v,getAllCompanyCategories:w,assignCategoriesToCompany:async(E,T)=>{try{if(await pe.from("company_categories").delete().eq("company_id",E),T.length>0){const M=T.map(A=>({company_id:E,category_id:A})),{error:P}=await pe.from("company_categories").insert(M);if(P)throw P}return{success:!0}}catch(M){return console.error("Error assigning categories:",M),{success:!1,error:M.message}}},getCategoryStats:async()=>{try{const{data:E,error:T}=await pe.from("company_categories").select("category_id, categories(slug, category_translations(language, name))");if(T)throw T;const M={};return E.forEach(P=>{const A=P.categories.slug;if(!M[A]){const U=P.categories.category_translations.find(H=>H.language===e)||P.categories.category_translations[0];M[A]={name:U?.name||A,count:0}}M[A].count++}),M}catch(E){return console.error("Error fetching category stats:",E),{}}},refetch:d}}function e5({markersState:e,selectedYear:t}){const n=Nl(),{organizationLogo:i}=Xs(),{t:s,i18n:o}=_t(),[u,d]=k.useState(""),[f,g]=k.useState(!1),[y,v]=k.useState(null),[w,_]=k.useState("name"),[j,E]=k.useState("asc"),[T,M]=k.useState(!1),P=k.useRef(null),A=k.useRef(null),U={name:s("exhibitorPage.sortName")||"Name",booth:s("exhibitorPage.sortBooth")||"Booth",favorites:s("exhibitorPage.sortFavoritesBase")||"Favorites"},{favorites:H,isFavorite:R,toggleFavorite:q}=_f(),{categories:J,loading:G,getAllCompanyCategories:re}=Xy(o.language),W=k.useMemo(()=>e.filter(D=>D.id<1e3&&D.name),[e]),ee=k.useMemo(()=>{const D={};return W.forEach(z=>{z.companyId&&(D[z.companyId]?(D[z.companyId].boothNumbers.push(z.glyph),D[z.companyId].markerIds.push(z.id)):D[z.companyId]={...z,boothNumbers:[z.glyph],markerIds:[z.id],categories:[]})}),Object.values(D).forEach(z=>{z.boothNumbers.sort((X,B)=>(parseInt(X)||0)-(parseInt(B)||0))}),Object.values(D)},[W]),[le,Y]=k.useState([]),[se,F]=k.useState(!1);k.useEffect(()=>{if(G)return;if(ee.length===0){Y([]),F(!1);return}(async()=>{const z=ee.map(ue=>ue.companyId),X=await re(z),B=ee.map(ue=>({...ue,categories:X[ue.companyId]||[]}));Y(B),F(!0)})()},[ee,G,re,o.language]),k.useEffect(()=>{if(!T)return;const D=z=>{const X=P.current,B=A.current;!X||!B||!X.contains(z.target)&&!B.contains(z.target)&&(M(!1),setTimeout(()=>X&&X.focus(),0))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[T]);const Z=k.useMemo(()=>{let D=le;if(f&&(D=D.filter(z=>z.companyId&&R(z.companyId))),y&&(D=D.filter(z=>!z.categories||z.categories.length===0?!1:z.categories.some(X=>X.id===y))),u){const z=u.toLowerCase();D=D.filter(X=>X.name?.toLowerCase().includes(z)||X.boothNumbers?.some(B=>B?.toLowerCase().includes(z)))}return D},[le,f,y,u,R]),ne=k.useMemo(()=>{const D=[...Z],z=X=>{if(!X.boothNumbers||X.boothNumbers.length===0)return Number.MAX_SAFE_INTEGER;const B=X.boothNumbers.map(ue=>parseInt(ue)).filter(ue=>!isNaN(ue));return B.length?Math.min(...B):Number.MAX_SAFE_INTEGER};return w==="favorites"?(D.sort((X,B)=>{const ue=X.companyId&&R(X.companyId)?0:1,te=B.companyId&&R(B.companyId)?0:1;if(ue!==te)return ue-te;const oe=(X.name||"").localeCompare(B.name||"");return j==="asc"?oe:-oe}),D):w==="name"?(D.sort((X,B)=>{const ue=(X.name||"").localeCompare(B.name||"");return j==="asc"?ue:-ue}),D):(w==="booth"&&D.sort((X,B)=>{const ue=z(X)-z(B);return j==="asc"?ue:-ue}),D)},[Z,w,j,R]),Ce=D=>n(`/map?focus=${D[0]}`);return h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s("exhibitorPage.title")}),h.jsxs("div",{className:"relative",children:[h.jsx(_e,{path:io,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:s("exhibitorPage.searchPlaceholder"),value:u,onChange:D=>d(D.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),h.jsxs("div",{className:"mt-3 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:[s("exhibitorPage.showing")," ",Z.length," ",s("exhibitorPage.of")," ",W.length," ",s("exhibitorPage.exhibitors"),H.length>0&&`  ${H.length} ${s("exhibitorPage.favorited")}`]}),h.jsxs("div",{className:"flex flex-wrap gap-2 items-center relative",children:[h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:w,onChange:D=>_(D.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none","aria-label":s("exhibitorPage.sortBy"),children:[h.jsx("option",{value:"name",children:U.name}),h.jsx("option",{value:"booth",children:U.booth}),H.length>0&&h.jsx("option",{value:"favorites",children:U.favorites})]}),h.jsx("button",{type:"button",onClick:()=>E(j==="asc"?"desc":"asc"),"aria-label":`Toggle sort direction to ${j==="asc"?"descending":"ascending"}`,className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",children:h.jsx(_e,{path:j==="asc"?wl:_l,size:.8})})]}),!G&&J.length>0&&h.jsxs("div",{className:"relative flex items-center gap-1",onKeyDown:D=>{if(D.key==="Escape"){M(!1);const z=P.current;z&&z.focus()}},children:[h.jsxs("button",{type:"button",ref:P,onClick:()=>M(!T),className:`px-3 py-1.5 rounded-lg border text-sm flex items-center gap-1.5 select-none transition-colors ${y?"bg-orange-50 border-orange-300 text-orange-700 hover:bg-orange-100":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,"aria-haspopup":"listbox","aria-expanded":T,"aria-label":s("exhibitorPage.filterByCategory"),children:[h.jsx(_e,{path:iy,size:.7}),h.jsx("span",{className:"font-medium",children:y?J.find(D=>D.id===y)?.name:s("exhibitorPage.allCategories")})]}),y&&h.jsx("button",{type:"button",onClick:D=>{D.stopPropagation(),v(null)},"aria-label":s("exhibitorPage.clearFilters"),className:"px-2 py-1.5 rounded-lg border text-sm flex items-center justify-center transition-colors bg-white border-gray-300 text-gray-700 hover:bg-gray-100",children:h.jsx(_e,{path:er,size:.6})}),T&&h.jsxs("ul",{role:"listbox",ref:A,tabIndex:-1,className:"absolute left-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-20 py-1 max-h-80 overflow-y-auto",style:{top:"100%"},children:[h.jsx("li",{children:h.jsxs("button",{type:"button",role:"option","aria-selected":!y,onClick:()=>{v(null),M(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 ${y?"text-gray-700":"font-semibold text-blue-700 bg-blue-50"}`,children:[h.jsx(_e,{path:iy,size:.7,className:"opacity-50"}),s("exhibitorPage.allCategories")]})}),h.jsx("div",{className:"border-t border-gray-200 my-1"}),J.map(D=>h.jsx("li",{children:h.jsxs("button",{type:"button",role:"option","aria-selected":y===D.id,onClick:()=>{v(D.id),M(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2 ${y===D.id?"font-semibold text-blue-700 bg-blue-50":"text-gray-700"}`,children:[h.jsx(_e,{path:D.icon,size:.7,style:{color:D.color}}),D.name]})},D.id))]})]}),H.length>0&&h.jsxs("button",{onClick:()=>g(!f),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[h.jsx(_e,{path:K2,size:.7}),s("exhibitorPage.favoritesOnly")]})]})]}),!G&&y&&Z.length===0&&h.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-center text-sm text-gray-600",children:s("exhibitorPage.noCategoryMatch")})]})}),h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[Z.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500",children:s("exhibitorPage.noExhibitors")})}):h.jsx("div",{className:"space-y-3",children:ne.map(D=>h.jsx("div",{onClick:()=>Ce(D.markerIds),className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer p-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:h.jsx("img",{src:zc(D.logo,i),alt:D.name,className:"max-w-full max-h-full object-contain p-2"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("h3",{className:"font-semibold text-gray-900 text-lg break-words",children:D.name}),D.companyId&&h.jsx(Bc,{isFavorite:R(D.companyId),onToggle:()=>q(D.companyId),size:"md",className:"flex-shrink-0"})]}),D.boothNumbers&&D.boothNumbers.length>0&&h.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[h.jsx(_e,{path:bf,size:.7,className:"text-orange-600"}),h.jsxs("span",{className:"text-sm font-medium text-orange-600",children:[s("exhibitorPage.booth")," ",D.boothNumbers.join(", ")]})]}),D.categories&&D.categories.length>0&&h.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:D.categories.map(z=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-white rounded",style:{backgroundColor:z.color},title:z.name,children:[h.jsx(_e,{path:z.icon,size:.5}),z.name]},z.id))}),(()=>{const z=JO(D.company_translations,o.language,D.info);return z?h.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:z}):null})()]})]})},D.companyId||D.id))}),h.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsxs("p",{children:[" ",h.jsx("strong",{children:s("exhibitorPage.phaseNote")})," ",s("exhibitorPage.comingInFuturePhases")]}),h.jsxs("ul",{className:"list-disc list-inside mt-2",children:[h.jsx("li",{children:s("exhibitorPage.categoryFiltering")}),h.jsx("li",{children:s("exhibitorPage.sortOptions")})]})]})})]})]})}function iC(){const[e,t]=k.useState({saturday:[],sunday:[]}),[n,i]=k.useState(!0),[s,o]=k.useState(null);k.useEffect(()=>{u()},[]);async function u(){try{i(!0),o(null);const{data:f,error:g}=await pe.from("event_activities").select(`
          *,
          companies!event_activities_company_id_fkey (
            id,
            name
          )
        `).eq("is_active",!0).order("display_order",{ascending:!0});if(g)throw g;const y=f?.filter(w=>w.day==="saturday")||[],v=f?.filter(w=>w.day==="sunday")||[];t({saturday:y,sunday:v})}catch(f){console.error("Error fetching event activities:",f),o(f.message)}finally{i(!1)}}function d(f,g){if(f.location_type==="exhibitor"&&f.companies){const y=f.companies;return{text:y.name,boothNumber:null,companyId:y.id}}return{text:g==="nl"?f.location_nl:f.location_en,boothNumber:null,companyId:null}}return{activities:e,loading:n,error:s,getActivityLocation:d,refetch:u}}function t5({selectedYear:e}){const{t,i18n:n}=_t(),[i,s]=k.useState("saturday"),o=n.language==="en",{activities:u,loading:d,error:f,getActivityLocation:g}=iC(),y=i==="saturday"?u.saturday:u.sunday;return d?h.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mb-4"}),h.jsx("p",{className:"text-gray-600",children:o?"Loading schedule...":"Programma laden..."})]})}):f?h.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[h.jsx(_e,{path:ey,size:2,className:"text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:o?"Unable to load schedule":"Kan programma niet laden"}),h.jsx("p",{className:"text-gray-600",children:f})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[h.jsx("div",{className:"bg-white border-b",children:h.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:o?"Program":"Programma"}),h.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 rounded",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(_e,{path:ey,size:1,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-yellow-800 mb-1",children:o?"Note for Managers":"Let op!"}),h.jsx("p",{className:"text-sm text-yellow-700",children:o?"This schedule shows 2025 program data (October 11-12, 2025). Please update for the 2026 event (October 10-11, 2026).":"Dit programma toont 2025 gegevens (11-12 oktober 2025). Gelieve bij te werken voor het 2026 evenement (10-11 oktober 2026)."})]})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>s("saturday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="saturday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o?"Saturday October 10":"Zaterdag 10 oktober"}),h.jsx("button",{onClick:()=>s("sunday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="sunday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o?"Sunday October 11":"Zondag 11 oktober"})]})]})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:h.jsx("div",{className:"space-y-4",children:y.map(v=>{const w=g(v,n.language);return h.jsxs("div",{className:"bg-white rounded-lg shadow border-l-4 border-l-orange-600 p-4 transition-all hover:shadow-md",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:yO,size:.9,className:"text-gray-600"}),h.jsxs("span",{className:"font-semibold text-gray-900",children:[v.start_time," - ",v.end_time]})]}),(v.badge_nl||v.badge_en)&&h.jsx("span",{className:"inline-block px-2 py-1 bg-orange-600 text-white text-xs font-semibold rounded",children:o?v.badge_en:v.badge_nl})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:o?v.title_en:v.title_nl}),(v.description_nl||v.description_en)&&h.jsx("p",{className:"text-gray-700 mb-3",children:o?v.description_en:v.description_nl}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(_e,{path:bf,size:.8,className:"text-orange-600"}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[t("programManagement.location"),":"]})," ",w.text]}),v.show_location_type_badge&&h.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${v.location_type==="exhibitor"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.location_type==="exhibitor"?t("programManagement.exhibitor"):t("programManagement.venue")})]})]},v.id)})})})]})}function ro(){const[e,t]=k.useState(null),[n,i]=k.useState(!0);return k.useEffect(()=>{pe.auth.getSession().then(({data:d})=>{const f=d?.session?.user?.user_metadata?.role||null;t(f),i(!1)});const{data:u}=pe.auth.onAuthStateChange((d,f)=>{const g=f?.user?.user_metadata?.role||null;t(g),i(!1)});return()=>{u?.subscription?.unsubscribe()}},[]),{role:e,loading:n,hasRole:u=>e?e==="super_admin"?!0:e===u:!1,hasAnyRole:u=>e?e==="super_admin"?!0:u.includes(e):!1,isSuperAdmin:e==="super_admin",isSystemManager:e==="system_manager",isEventManager:e==="event_manager"}}function n5(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const i5=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,r5=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,s5={};function d1(e,t){return(s5.jsx?r5:i5).test(e)}const a5=/[ \t\n\f\r]/g;function o5(e){return typeof e=="object"?e.type==="text"?h1(e.value):!1:h1(e)}function h1(e){return e.replace(a5,"")===""}class Ic{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Ic.prototype.normal={};Ic.prototype.property={};Ic.prototype.space=void 0;function rC(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new Ic(n,i,t)}function sy(e){return e.toLowerCase()}class ni{constructor(t,n){this.attribute=n,this.property=t}}ni.prototype.attribute="";ni.prototype.booleanish=!1;ni.prototype.boolean=!1;ni.prototype.commaOrSpaceSeparated=!1;ni.prototype.commaSeparated=!1;ni.prototype.defined=!1;ni.prototype.mustUseProperty=!1;ni.prototype.number=!1;ni.prototype.overloadedBoolean=!1;ni.prototype.property="";ni.prototype.spaceSeparated=!1;ni.prototype.space=void 0;let l5=0;const tt=so(),rn=so(),ay=so(),ke=so(),Nt=so(),ml=so(),fi=so();function so(){return 2**++l5}const oy=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:rn,commaOrSpaceSeparated:fi,commaSeparated:ml,number:ke,overloadedBoolean:ay,spaceSeparated:Nt},Symbol.toStringTag,{value:"Module"})),ig=Object.keys(oy);class Qy extends ni{constructor(t,n,i,s){let o=-1;if(super(t,n),f1(this,"space",s),typeof i=="number")for(;++o<ig.length;){const u=ig[o];f1(this,ig[o],(i&oy[u])===oy[u])}}}Qy.prototype.defined=!0;function f1(e,t,n){n&&(e[t]=n)}function Ml(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const o=new Qy(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[sy(i)]=i,n[sy(o.attribute)]=i}return new Ic(t,n,e.space)}const sC=Ml({properties:{ariaActiveDescendant:null,ariaAtomic:rn,ariaAutoComplete:null,ariaBusy:rn,ariaChecked:rn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Nt,ariaCurrent:null,ariaDescribedBy:Nt,ariaDetails:null,ariaDisabled:rn,ariaDropEffect:Nt,ariaErrorMessage:null,ariaExpanded:rn,ariaFlowTo:Nt,ariaGrabbed:rn,ariaHasPopup:null,ariaHidden:rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nt,ariaLevel:ke,ariaLive:null,ariaModal:rn,ariaMultiLine:rn,ariaMultiSelectable:rn,ariaOrientation:null,ariaOwns:Nt,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:rn,ariaReadOnly:rn,ariaRelevant:null,ariaRequired:rn,ariaRoleDescription:Nt,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:rn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function aC(e,t){return t in e?e[t]:t}function oC(e,t){return aC(e,t.toLowerCase())}const u5=Ml({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ml,acceptCharset:Nt,accessKey:Nt,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:Nt,autoFocus:tt,autoPlay:tt,blocking:Nt,capture:null,charSet:null,checked:tt,cite:null,className:Nt,cols:ke,colSpan:null,content:null,contentEditable:rn,controls:tt,controlsList:Nt,coords:ke|ml,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:ay,draggable:rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:Nt,height:ke,hidden:ay,high:ke,href:null,hrefLang:null,htmlFor:Nt,httpEquiv:Nt,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:Nt,itemRef:Nt,itemScope:tt,itemType:Nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:ke,pattern:null,ping:Nt,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:Nt,required:tt,reversed:tt,rows:ke,rowSpan:ke,sandbox:Nt,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:rn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nt,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:rn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:oC}),c5=Ml({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:fi,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ml,g2:ml,glyphName:ml,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fi,rev:fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fi,requiredFeatures:fi,requiredFonts:fi,requiredFormats:fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fi,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:aC}),lC=Ml({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),uC=Ml({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oC}),cC=Ml({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),d5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},h5=/[A-Z]/g,m1=/-[a-z]/g,f5=/^data[-\w.:]+$/i;function m5(e,t){const n=sy(t);let i=t,s=ni;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&f5.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(m1,g5);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!m1.test(o)){let u=o.replace(h5,p5);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}s=Qy}return new s(i,t)}function p5(e){return"-"+e.toLowerCase()}function g5(e){return e.charAt(1).toUpperCase()}const y5=rC([sC,u5,lC,uC,cC],"html"),Jy=rC([sC,c5,lC,uC,cC],"svg");function v5(e){return e.join(" ").trim()}var nl={},rg,p1;function b5(){if(p1)return rg;p1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,f=`
`,g="/",y="*",v="",w="comment",_="declaration";function j(T,M){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];M=M||{};var P=1,A=1;function U(Y){var se=Y.match(t);se&&(P+=se.length);var F=Y.lastIndexOf(f);A=~F?Y.length-F:A+Y.length}function H(){var Y={line:P,column:A};return function(se){return se.position=new R(Y),G(),se}}function R(Y){this.start=Y,this.end={line:P,column:A},this.source=M.source}R.prototype.content=T;function q(Y){var se=new Error(M.source+":"+P+":"+A+": "+Y);if(se.reason=Y,se.filename=M.source,se.line=P,se.column=A,se.source=T,!M.silent)throw se}function J(Y){var se=Y.exec(T);if(se){var F=se[0];return U(F),T=T.slice(F.length),se}}function G(){J(n)}function re(Y){var se;for(Y=Y||[];se=W();)se!==!1&&Y.push(se);return Y}function W(){var Y=H();if(!(g!=T.charAt(0)||y!=T.charAt(1))){for(var se=2;v!=T.charAt(se)&&(y!=T.charAt(se)||g!=T.charAt(se+1));)++se;if(se+=2,v===T.charAt(se-1))return q("End of comment missing");var F=T.slice(2,se-2);return A+=2,U(F),T=T.slice(se),A+=2,Y({type:w,comment:F})}}function ee(){var Y=H(),se=J(i);if(se){if(W(),!J(s))return q("property missing ':'");var F=J(o),Z=Y({type:_,property:E(se[0].replace(e,v)),value:F?E(F[0].replace(e,v)):v});return J(u),Z}}function le(){var Y=[];re(Y);for(var se;se=ee();)se!==!1&&(Y.push(se),re(Y));return Y}return G(),le()}function E(T){return T?T.replace(d,v):v}return rg=j,rg}var g1;function x5(){if(g1)return nl;g1=1;var e=nl&&nl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nl,"__esModule",{value:!0}),nl.default=n;const t=e(b5());function n(i,s){let o=null;if(!i||typeof i!="string")return o;const u=(0,t.default)(i),d=typeof s=="function";return u.forEach(f=>{if(f.type!=="declaration")return;const{property:g,value:y}=f;d?s(g,y,f):y&&(o=o||{},o[g]=y)}),o}return nl}var Zu={},y1;function _5(){if(y1)return Zu;y1=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(g){return!g||n.test(g)||e.test(g)},u=function(g,y){return y.toUpperCase()},d=function(g,y){return"".concat(y,"-")},f=function(g,y){return y===void 0&&(y={}),o(g)?g:(g=g.toLowerCase(),y.reactCompat?g=g.replace(s,d):g=g.replace(i,d),g.replace(t,u))};return Zu.camelCase=f,Zu}var Gu,v1;function w5(){if(v1)return Gu;v1=1;var e=Gu&&Gu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(x5()),n=_5();function i(s,o){var u={};return!s||typeof s!="string"||(0,t.default)(s,function(d,f){d&&f&&(u[(0,n.camelCase)(d,o)]=f)}),u}return i.default=i,Gu=i,Gu}var S5=w5();const C5=eo(S5),dC=hC("end"),ev=hC("start");function hC(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function j5(e){const t=ev(e),n=dC(e);if(t&&n)return{start:t,end:n}}function oc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?b1(e.position):"start"in e||"end"in e?b1(e):"line"in e||"column"in e?ly(e):""}function ly(e){return x1(e&&e.line)+":"+x1(e&&e.column)}function b1(e){return ly(e&&e.start)+"-"+ly(e&&e.end)}function x1(e){return e&&typeof e=="number"?e:1}class On extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(u=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?o.ruleId=i:(o.source=i.slice(0,f),o.ruleId=i.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=oc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const tv={}.hasOwnProperty,E5=new Map,k5=/[A-Z]/g,T5=new Set(["table","tbody","thead","tfoot","tr"]),L5=new Set(["td","th"]),fC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function N5(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=B5(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=z5(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Jy:y5,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=mC(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function mC(e,t,n){if(t.type==="element")return A5(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return M5(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return P5(e,t,n);if(t.type==="mdxjsEsm")return O5(e,t);if(t.type==="root")return R5(e,t,n);if(t.type==="text")return D5(e,t)}function A5(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Jy,e.schema=s),e.ancestors.push(t);const o=gC(e,t.tagName,!1),u=I5(e,t);let d=iv(e,t);return T5.has(t.tagName)&&(d=d.filter(function(f){return typeof f=="string"?!o5(f):!0})),pC(e,u,o,t),nv(u,d),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function M5(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Sc(e,t.position)}function O5(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Sc(e,t.position)}function P5(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=Jy,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:gC(e,t.name,!0),u=V5(e,t),d=iv(e,t);return pC(e,u,o,t),nv(u,d),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function R5(e,t,n){const i={};return nv(i,iv(e,t)),e.create(t,e.Fragment,i,n)}function D5(e,t){return t.value}function pC(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function nv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function z5(e,t,n){return i;function i(s,o,u,d){const g=Array.isArray(u.children)?n:t;return d?g(o,u,d):g(o,u)}}function B5(e,t){return n;function n(i,s,o,u){const d=Array.isArray(o.children),f=ev(i);return t(s,o,u,d,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function I5(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&tv.call(t.properties,s)){const o=U5(e,s,t.properties[s]);if(o){const[u,d]=o;e.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&L5.has(t.tagName)?i=d:n[u]=d}}if(i){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function V5(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const d=u.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else Sc(e,t.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,o=e.evaluater.evaluateExpression(d.expression)}else Sc(e,t.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function iv(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:E5;for(;++i<t.children.length;){const o=t.children[i];let u;if(e.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const g=s.get(f)||0;u=f+"-"+g,s.set(f,g+1)}}const d=mC(e,o,u);d!==void 0&&n.push(d)}return n}function U5(e,t,n){const i=m5(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?n5(n):v5(n)),i.property==="style"){let s=typeof n=="object"?n:H5(e,String(n));return e.stylePropertyNameCase==="css"&&(s=F5(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?d5[i.property]||i.property:i.attribute,n]}}function H5(e,t){try{return C5(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new On("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=fC+"#cannot-parse-style-attribute",s}}function gC(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,u;for(;++o<s.length;){const d=d1(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}i=u}else i=d1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return tv.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);Sc(e)}function Sc(e,t){const n=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=fC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function F5(e){const t={};let n;for(n in e)tv.call(e,n)&&(t[q5(n)]=e[n]);return t}function q5(e){let t=e.replace(k5,$5);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function $5(e){return"-"+e.toLowerCase()}const sg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Z5={};function G5(e,t){const n=Z5,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return yC(e,i,s)}function yC(e,t,n){if(K5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _1(e.children,t,n)}return Array.isArray(e)?_1(e,t,n):""}function _1(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=yC(e[s],t,n);return i.join("")}function K5(e){return!!(e&&typeof e=="object")}const w1=document.createElement("i");function rv(e){const t="&"+e+";";w1.innerHTML=t;const n=w1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function jr(e,t,n,i){const s=e.length;let o=0,u;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(t,0),e.splice(...u),o+=1e4,t+=1e4}function Oi(e,t){return e.length>0?(jr(e,e.length,0,t),e):t}const S1={}.hasOwnProperty;function W5(e){const t={};let n=-1;for(;++n<e.length;)Y5(t,e[n]);return t}function Y5(e,t){let n;for(n in t){const s=(S1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let u;if(o)for(u in o){S1.call(s,u)||(s[u]=[]);const d=o[u];X5(s[u],Array.isArray(d)?d:d?[d]:[])}}}function X5(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);jr(e,0,0,i)}function vC(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xr=Qs(/[A-Za-z]/),yi=Qs(/[\dA-Za-z]/),Q5=Qs(/[#-'*+\--9=?A-Z^-~]/);function uy(e){return e!==null&&(e<32||e===127)}const cy=Qs(/\d/),J5=Qs(/[\dA-Fa-f]/),eP=Qs(/[!-/:-@[-`{-~]/);function Ge(e){return e!==null&&e<-2}function ti(e){return e!==null&&(e<0||e===32)}function gt(e){return e===-2||e===-1||e===32}const tP=Qs(new RegExp("\\p{P}|\\p{S}","u")),nP=Qs(/\s/);function Qs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ol(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let u="";if(o===37&&yi(e.charCodeAt(n+1))&&yi(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const d=e.charCodeAt(n+1);o<56320&&d>56319&&d<57344?(u=String.fromCharCode(o,d),s=1):u=""}else u=String.fromCharCode(o);u&&(t.push(e.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function At(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return gt(f)?(e.enter(n),d(f)):t(f)}function d(f){return gt(f)&&o++<s?(e.consume(f),d):(e.exit(n),t(f))}}const iP={tokenize:rP};function rP(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),At(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),o(d)}function o(d){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(d)}function u(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Ge(d)?(e.consume(d),e.exit("chunkText"),o):(e.consume(d),u)}}const sP={tokenize:aP},C1={tokenize:oP};function aP(e){const t=this,n=[];let i=0,s,o,u;return d;function d(A){if(i<n.length){const U=n[i];return t.containerState=U[1],e.attempt(U[0].continuation,f,g)(A)}return g(A)}function f(A){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&P();const U=t.events.length;let H=U,R;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){R=t.events[H][1].end;break}M(i);let q=U;for(;q<t.events.length;)t.events[q][1].end={...R},q++;return jr(t.events,H+1,0,t.events.slice(U)),t.events.length=q,g(A)}return d(A)}function g(A){if(i===n.length){if(!s)return w(A);if(s.currentConstruct&&s.currentConstruct.concrete)return j(A);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(C1,y,v)(A)}function y(A){return s&&P(),M(i),w(A)}function v(A){return t.parser.lazy[t.now().line]=i!==n.length,u=t.now().offset,j(A)}function w(A){return t.containerState={},e.attempt(C1,_,j)(A)}function _(A){return i++,n.push([t.currentConstruct,t.containerState]),w(A)}function j(A){if(A===null){s&&P(),M(0),e.consume(A);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),E(A)}function E(A){if(A===null){T(e.exit("chunkFlow"),!0),M(0),e.consume(A);return}return Ge(A)?(e.consume(A),T(e.exit("chunkFlow")),i=0,t.interrupt=void 0,d):(e.consume(A),E)}function T(A,U){const H=t.sliceStream(A);if(U&&H.push(null),A.previous=o,o&&(o.next=A),o=A,s.defineSkip(A.start),s.write(H),t.parser.lazy[A.start.line]){let R=s.events.length;for(;R--;)if(s.events[R][1].start.offset<u&&(!s.events[R][1].end||s.events[R][1].end.offset>u))return;const q=t.events.length;let J=q,G,re;for(;J--;)if(t.events[J][0]==="exit"&&t.events[J][1].type==="chunkFlow"){if(G){re=t.events[J][1].end;break}G=!0}for(M(i),R=q;R<t.events.length;)t.events[R][1].end={...re},R++;jr(t.events,J+1,0,t.events.slice(q)),t.events.length=R}}function M(A){let U=n.length;for(;U-- >A;){const H=n[U];t.containerState=H[1],H[0].exit.call(t,e)}n.length=A}function P(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function oP(e,t,n){return At(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function j1(e){if(e===null||ti(e)||nP(e))return 1;if(tP(e))return 2}function sv(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}const dy={name:"attention",resolveAll:lP,tokenize:uP};function lP(e,t){let n=-1,i,s,o,u,d,f,g,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[i][1].end},w={...e[n][1].start};E1(v,-f),E1(w,f),u={type:f>1?"strongSequence":"emphasisSequence",start:v,end:{...e[i][1].end}},d={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:w},o={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},e[i][1].end={...u.start},e[n][1].start={...d.end},g=[],e[i][1].end.offset-e[i][1].start.offset&&(g=Oi(g,[["enter",e[i][1],t],["exit",e[i][1],t]])),g=Oi(g,[["enter",s,t],["enter",u,t],["exit",u,t],["enter",o,t]]),g=Oi(g,sv(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),g=Oi(g,[["exit",o,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,g=Oi(g,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,jr(e,i-1,n-i+3,g),n=i+g.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uP(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=j1(i);let o;return u;function u(f){return o=f,e.enter("attentionSequence"),d(f)}function d(f){if(f===o)return e.consume(f),d;const g=e.exit("attentionSequence"),y=j1(f),v=!y||y===2&&s||n.includes(f),w=!s||s===2&&y||n.includes(i);return g._open=!!(o===42?v:v&&(s||!w)),g._close=!!(o===42?w:w&&(y||!v)),t(f)}}function E1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cP={name:"autolink",tokenize:dP};function dP(e,t,n){let i=0;return s;function s(_){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(_){return xr(_)?(e.consume(_),u):_===64?n(_):g(_)}function u(_){return _===43||_===45||_===46||yi(_)?(i=1,d(_)):g(_)}function d(_){return _===58?(e.consume(_),i=0,f):(_===43||_===45||_===46||yi(_))&&i++<32?(e.consume(_),d):(i=0,g(_))}function f(_){return _===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):_===null||_===32||_===60||uy(_)?n(_):(e.consume(_),f)}function g(_){return _===64?(e.consume(_),y):Q5(_)?(e.consume(_),g):n(_)}function y(_){return yi(_)?v(_):n(_)}function v(_){return _===46?(e.consume(_),i=0,y):_===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):w(_)}function w(_){if((_===45||yi(_))&&i++<63){const j=_===45?w:v;return e.consume(_),j}return n(_)}}const wf={partial:!0,tokenize:hP};function hP(e,t,n){return i;function i(o){return gt(o)?At(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||Ge(o)?t(o):n(o)}}const bC={continuation:{tokenize:mP},exit:pP,name:"blockQuote",tokenize:fP};function fP(e,t,n){const i=this;return s;function s(u){if(u===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return n(u)}function o(u){return gt(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function mP(e,t,n){const i=this;return s;function s(u){return gt(u)?At(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(bC,t,n)(u)}}function pP(e){e.exit("blockQuote")}const xC={name:"characterEscape",tokenize:gP};function gP(e,t,n){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return eP(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const _C={name:"characterReference",tokenize:yP};function yP(e,t,n){const i=this;let s=0,o,u;return d;function d(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),f}function f(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),o=31,u=yi,y(v))}function g(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=J5,y):(e.enter("characterReferenceValue"),o=7,u=cy,y(v))}function y(v){if(v===59&&s){const w=e.exit("characterReferenceValue");return u===yi&&!rv(i.sliceSerialize(w))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(v)&&s++<o?(e.consume(v),y):n(v)}}const k1={partial:!0,tokenize:bP},T1={concrete:!0,name:"codeFenced",tokenize:vP};function vP(e,t,n){const i=this,s={partial:!0,tokenize:H};let o=0,u=0,d;return f;function f(R){return g(R)}function g(R){const q=i.events[i.events.length-1];return o=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,d=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(R)}function y(R){return R===d?(u++,e.consume(R),y):u<3?n(R):(e.exit("codeFencedFenceSequence"),gt(R)?At(e,v,"whitespace")(R):v(R))}function v(R){return R===null||Ge(R)?(e.exit("codeFencedFence"),i.interrupt?t(R):e.check(k1,E,U)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),w(R))}function w(R){return R===null||Ge(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(R)):gt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),At(e,_,"whitespace")(R)):R===96&&R===d?n(R):(e.consume(R),w)}function _(R){return R===null||Ge(R)?v(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),j(R))}function j(R){return R===null||Ge(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(R)):R===96&&R===d?n(R):(e.consume(R),j)}function E(R){return e.attempt(s,U,T)(R)}function T(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),M}function M(R){return o>0&&gt(R)?At(e,P,"linePrefix",o+1)(R):P(R)}function P(R){return R===null||Ge(R)?e.check(k1,E,U)(R):(e.enter("codeFlowValue"),A(R))}function A(R){return R===null||Ge(R)?(e.exit("codeFlowValue"),P(R)):(e.consume(R),A)}function U(R){return e.exit("codeFenced"),t(R)}function H(R,q,J){let G=0;return re;function re(se){return R.enter("lineEnding"),R.consume(se),R.exit("lineEnding"),W}function W(se){return R.enter("codeFencedFence"),gt(se)?At(R,ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):ee(se)}function ee(se){return se===d?(R.enter("codeFencedFenceSequence"),le(se)):J(se)}function le(se){return se===d?(G++,R.consume(se),le):G>=u?(R.exit("codeFencedFenceSequence"),gt(se)?At(R,Y,"whitespace")(se):Y(se)):J(se)}function Y(se){return se===null||Ge(se)?(R.exit("codeFencedFence"),q(se)):J(se)}}}function bP(e,t,n){const i=this;return s;function s(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}const ag={name:"codeIndented",tokenize:_P},xP={partial:!0,tokenize:wP};function _P(e,t,n){const i=this;return s;function s(g){return e.enter("codeIndented"),At(e,o,"linePrefix",5)(g)}function o(g){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(g):n(g)}function u(g){return g===null?f(g):Ge(g)?e.attempt(xP,u,f)(g):(e.enter("codeFlowValue"),d(g))}function d(g){return g===null||Ge(g)?(e.exit("codeFlowValue"),u(g)):(e.consume(g),d)}function f(g){return e.exit("codeIndented"),t(g)}}function wP(e,t,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):Ge(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):At(e,o,"linePrefix",5)(u)}function o(u){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(u):Ge(u)?s(u):n(u)}}const SP={name:"codeText",previous:jP,resolve:CP,tokenize:EP};function CP(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function jP(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function EP(e,t,n){let i=0,s,o;return u;function u(v){return e.enter("codeText"),e.enter("codeTextSequence"),d(v)}function d(v){return v===96?(e.consume(v),i++,d):(e.exit("codeTextSequence"),f(v))}function f(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),f):v===96?(o=e.enter("codeTextSequence"),s=0,y(v)):Ge(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):(e.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||Ge(v)?(e.exit("codeTextData"),f(v)):(e.consume(v),g)}function y(v){return v===96?(e.consume(v),s++,y):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(o.type="codeTextData",g(v))}}class kP{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Ku(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ku(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ku(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ku(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ku(this.left,n.reverse())}}}function Ku(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function wC(e){const t={};let n=-1,i,s,o,u,d,f,g;const y=new kP(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,TP(y,n)),n=t[n],g=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(u=y.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(y.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...y.get(s)[1].start},d=y.slice(s,n),d.unshift(i),y.splice(s,n-s+1,d))}}return jr(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!g}function TP(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,f=[],g={};let y,v,w=-1,_=n,j=0,E=0;const T=[E];for(;_;){for(;e.get(++s)[1]!==_;);o.push(s),_._tokenizer||(y=i.sliceStream(_),_.next||y.push(null),v&&u.defineSkip(_.start),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=_,_=_.next}for(_=n;++w<d.length;)d[w][0]==="exit"&&d[w-1][0]==="enter"&&d[w][1].type===d[w-1][1].type&&d[w][1].start.line!==d[w][1].end.line&&(E=w+1,T.push(E),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(u.events=[],_?(_._tokenizer=void 0,_.previous=void 0):T.pop(),w=T.length;w--;){const M=d.slice(T[w],T[w+1]),P=o.pop();f.push([P,P+M.length-1]),e.splice(P,2,M)}for(f.reverse(),w=-1;++w<f.length;)g[j+f[w][0]]=j+f[w][1],j+=f[w][1]-f[w][0]-1;return g}const LP={resolve:AP,tokenize:MP},NP={partial:!0,tokenize:OP};function AP(e){return wC(e),e}function MP(e,t){let n;return i;function i(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?o(d):Ge(d)?e.check(NP,u,o)(d):(e.consume(d),s)}function o(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function u(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function OP(e,t,n){const i=this;return s;function s(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),At(e,o,"linePrefix")}function o(u){if(u===null||Ge(u))return n(u);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(u):e.interrupt(i.parser.constructs.flow,n,t)(u)}}function SC(e,t,n,i,s,o,u,d,f){const g=f||Number.POSITIVE_INFINITY;let y=0;return v;function v(M){return M===60?(e.enter(i),e.enter(s),e.enter(o),e.consume(M),e.exit(o),w):M===null||M===32||M===41||uy(M)?n(M):(e.enter(i),e.enter(u),e.enter(d),e.enter("chunkString",{contentType:"string"}),E(M))}function w(M){return M===62?(e.enter(o),e.consume(M),e.exit(o),e.exit(s),e.exit(i),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),_(M))}function _(M){return M===62?(e.exit("chunkString"),e.exit(d),w(M)):M===null||M===60||Ge(M)?n(M):(e.consume(M),M===92?j:_)}function j(M){return M===60||M===62||M===92?(e.consume(M),_):_(M)}function E(M){return!y&&(M===null||M===41||ti(M))?(e.exit("chunkString"),e.exit(d),e.exit(u),e.exit(i),t(M)):y<g&&M===40?(e.consume(M),y++,E):M===41?(e.consume(M),y--,E):M===null||M===32||M===40||uy(M)?n(M):(e.consume(M),M===92?T:E)}function T(M){return M===40||M===41||M===92?(e.consume(M),E):E(M)}}function CC(e,t,n,i,s,o){const u=this;let d=0,f;return g;function g(_){return e.enter(i),e.enter(s),e.consume(_),e.exit(s),e.enter(o),y}function y(_){return d>999||_===null||_===91||_===93&&!f||_===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?n(_):_===93?(e.exit(o),e.enter(s),e.consume(_),e.exit(s),e.exit(i),t):Ge(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===null||_===91||_===93||Ge(_)||d++>999?(e.exit("chunkString"),y(_)):(e.consume(_),f||(f=!gt(_)),_===92?w:v)}function w(_){return _===91||_===92||_===93?(e.consume(_),d++,v):v(_)}}function jC(e,t,n,i,s,o){let u;return d;function d(w){return w===34||w===39||w===40?(e.enter(i),e.enter(s),e.consume(w),e.exit(s),u=w===40?41:w,f):n(w)}function f(w){return w===u?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),t):(e.enter(o),g(w))}function g(w){return w===u?(e.exit(o),f(u)):w===null?n(w):Ge(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),At(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===u||w===null||Ge(w)?(e.exit("chunkString"),g(w)):(e.consume(w),w===92?v:y)}function v(w){return w===u||w===92?(e.consume(w),y):y(w)}}function lc(e,t){let n;return i;function i(s){return Ge(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):gt(s)?At(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const PP={name:"definition",tokenize:DP},RP={partial:!0,tokenize:zP};function DP(e,t,n){const i=this;let s;return o;function o(_){return e.enter("definition"),u(_)}function u(_){return CC.call(i,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function d(_){return s=pl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),_===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),f):n(_)}function f(_){return ti(_)?lc(e,g)(_):g(_)}function g(_){return SC(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function y(_){return e.attempt(RP,v,v)(_)}function v(_){return gt(_)?At(e,w,"whitespace")(_):w(_)}function w(_){return _===null||Ge(_)?(e.exit("definition"),i.parser.defined.push(s),t(_)):n(_)}}function zP(e,t,n){return i;function i(d){return ti(d)?lc(e,s)(d):n(d)}function s(d){return jC(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return gt(d)?At(e,u,"whitespace")(d):u(d)}function u(d){return d===null||Ge(d)?t(d):n(d)}}const BP={name:"hardBreakEscape",tokenize:IP};function IP(e,t,n){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return Ge(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const VP={name:"headingAtx",resolve:UP,tokenize:HP};function UP(e,t){let n=e.length-2,i=3,s,o;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},o={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},jr(e,i,n-i+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function HP(e,t,n){let i=0;return s;function s(y){return e.enter("atxHeading"),o(y)}function o(y){return e.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(e.consume(y),u):y===null||ti(y)?(e.exit("atxHeadingSequence"),d(y)):n(y)}function d(y){return y===35?(e.enter("atxHeadingSequence"),f(y)):y===null||Ge(y)?(e.exit("atxHeading"),t(y)):gt(y)?At(e,d,"whitespace")(y):(e.enter("atxHeadingText"),g(y))}function f(y){return y===35?(e.consume(y),f):(e.exit("atxHeadingSequence"),d(y))}function g(y){return y===null||y===35||ti(y)?(e.exit("atxHeadingText"),d(y)):(e.consume(y),g)}}const FP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],L1=["pre","script","style","textarea"],qP={concrete:!0,name:"htmlFlow",resolveTo:GP,tokenize:KP},$P={partial:!0,tokenize:YP},ZP={partial:!0,tokenize:WP};function GP(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function KP(e,t,n){const i=this;let s,o,u,d,f;return g;function g(B){return y(B)}function y(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),v}function v(B){return B===33?(e.consume(B),w):B===47?(e.consume(B),o=!0,E):B===63?(e.consume(B),s=3,i.interrupt?t:D):xr(B)?(e.consume(B),u=String.fromCharCode(B),T):n(B)}function w(B){return B===45?(e.consume(B),s=2,_):B===91?(e.consume(B),s=5,d=0,j):xr(B)?(e.consume(B),s=4,i.interrupt?t:D):n(B)}function _(B){return B===45?(e.consume(B),i.interrupt?t:D):n(B)}function j(B){const ue="CDATA[";return B===ue.charCodeAt(d++)?(e.consume(B),d===ue.length?i.interrupt?t:ee:j):n(B)}function E(B){return xr(B)?(e.consume(B),u=String.fromCharCode(B),T):n(B)}function T(B){if(B===null||B===47||B===62||ti(B)){const ue=B===47,te=u.toLowerCase();return!ue&&!o&&L1.includes(te)?(s=1,i.interrupt?t(B):ee(B)):FP.includes(u.toLowerCase())?(s=6,ue?(e.consume(B),M):i.interrupt?t(B):ee(B)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(B):o?P(B):A(B))}return B===45||yi(B)?(e.consume(B),u+=String.fromCharCode(B),T):n(B)}function M(B){return B===62?(e.consume(B),i.interrupt?t:ee):n(B)}function P(B){return gt(B)?(e.consume(B),P):re(B)}function A(B){return B===47?(e.consume(B),re):B===58||B===95||xr(B)?(e.consume(B),U):gt(B)?(e.consume(B),A):re(B)}function U(B){return B===45||B===46||B===58||B===95||yi(B)?(e.consume(B),U):H(B)}function H(B){return B===61?(e.consume(B),R):gt(B)?(e.consume(B),H):A(B)}function R(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),f=B,q):gt(B)?(e.consume(B),R):J(B)}function q(B){return B===f?(e.consume(B),f=null,G):B===null||Ge(B)?n(B):(e.consume(B),q)}function J(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||ti(B)?H(B):(e.consume(B),J)}function G(B){return B===47||B===62||gt(B)?A(B):n(B)}function re(B){return B===62?(e.consume(B),W):n(B)}function W(B){return B===null||Ge(B)?ee(B):gt(B)?(e.consume(B),W):n(B)}function ee(B){return B===45&&s===2?(e.consume(B),F):B===60&&s===1?(e.consume(B),Z):B===62&&s===4?(e.consume(B),z):B===63&&s===3?(e.consume(B),D):B===93&&s===5?(e.consume(B),Ce):Ge(B)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check($P,X,le)(B)):B===null||Ge(B)?(e.exit("htmlFlowData"),le(B)):(e.consume(B),ee)}function le(B){return e.check(ZP,Y,X)(B)}function Y(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),se}function se(B){return B===null||Ge(B)?le(B):(e.enter("htmlFlowData"),ee(B))}function F(B){return B===45?(e.consume(B),D):ee(B)}function Z(B){return B===47?(e.consume(B),u="",ne):ee(B)}function ne(B){if(B===62){const ue=u.toLowerCase();return L1.includes(ue)?(e.consume(B),z):ee(B)}return xr(B)&&u.length<8?(e.consume(B),u+=String.fromCharCode(B),ne):ee(B)}function Ce(B){return B===93?(e.consume(B),D):ee(B)}function D(B){return B===62?(e.consume(B),z):B===45&&s===2?(e.consume(B),D):ee(B)}function z(B){return B===null||Ge(B)?(e.exit("htmlFlowData"),X(B)):(e.consume(B),z)}function X(B){return e.exit("htmlFlow"),t(B)}}function WP(e,t,n){const i=this;return s;function s(u){return Ge(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}function YP(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(wf,t,n)}}const XP={name:"htmlText",tokenize:QP};function QP(e,t,n){const i=this;let s,o,u;return d;function d(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),f}function f(D){return D===33?(e.consume(D),g):D===47?(e.consume(D),H):D===63?(e.consume(D),A):xr(D)?(e.consume(D),J):n(D)}function g(D){return D===45?(e.consume(D),y):D===91?(e.consume(D),o=0,j):xr(D)?(e.consume(D),P):n(D)}function y(D){return D===45?(e.consume(D),_):n(D)}function v(D){return D===null?n(D):D===45?(e.consume(D),w):Ge(D)?(u=v,Z(D)):(e.consume(D),v)}function w(D){return D===45?(e.consume(D),_):v(D)}function _(D){return D===62?F(D):D===45?w(D):v(D)}function j(D){const z="CDATA[";return D===z.charCodeAt(o++)?(e.consume(D),o===z.length?E:j):n(D)}function E(D){return D===null?n(D):D===93?(e.consume(D),T):Ge(D)?(u=E,Z(D)):(e.consume(D),E)}function T(D){return D===93?(e.consume(D),M):E(D)}function M(D){return D===62?F(D):D===93?(e.consume(D),M):E(D)}function P(D){return D===null||D===62?F(D):Ge(D)?(u=P,Z(D)):(e.consume(D),P)}function A(D){return D===null?n(D):D===63?(e.consume(D),U):Ge(D)?(u=A,Z(D)):(e.consume(D),A)}function U(D){return D===62?F(D):A(D)}function H(D){return xr(D)?(e.consume(D),R):n(D)}function R(D){return D===45||yi(D)?(e.consume(D),R):q(D)}function q(D){return Ge(D)?(u=q,Z(D)):gt(D)?(e.consume(D),q):F(D)}function J(D){return D===45||yi(D)?(e.consume(D),J):D===47||D===62||ti(D)?G(D):n(D)}function G(D){return D===47?(e.consume(D),F):D===58||D===95||xr(D)?(e.consume(D),re):Ge(D)?(u=G,Z(D)):gt(D)?(e.consume(D),G):F(D)}function re(D){return D===45||D===46||D===58||D===95||yi(D)?(e.consume(D),re):W(D)}function W(D){return D===61?(e.consume(D),ee):Ge(D)?(u=W,Z(D)):gt(D)?(e.consume(D),W):G(D)}function ee(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),s=D,le):Ge(D)?(u=ee,Z(D)):gt(D)?(e.consume(D),ee):(e.consume(D),Y)}function le(D){return D===s?(e.consume(D),s=void 0,se):D===null?n(D):Ge(D)?(u=le,Z(D)):(e.consume(D),le)}function Y(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||ti(D)?G(D):(e.consume(D),Y)}function se(D){return D===47||D===62||ti(D)?G(D):n(D)}function F(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function Z(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),ne}function ne(D){return gt(D)?At(e,Ce,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Ce(D)}function Ce(D){return e.enter("htmlTextData"),u(D)}}const av={name:"labelEnd",resolveAll:nR,resolveTo:iR,tokenize:rR},JP={tokenize:sR},eR={tokenize:aR},tR={tokenize:oR};function nR(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&jr(e,0,e.length,n),e}function iR(e,t){let n=e.length,i=0,s,o,u,d;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const f={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},y={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[u-2][1].start}};return d=[["enter",f,t],["enter",g,t]],d=Oi(d,e.slice(o+1,o+i+3)),d=Oi(d,[["enter",y,t]]),d=Oi(d,sv(t.parser.constructs.insideSpan.null,e.slice(o+i+4,u-3),t)),d=Oi(d,[["exit",y,t],e[u-2],e[u-1],["exit",g,t]]),d=Oi(d,e.slice(u+1)),d=Oi(d,[["exit",f,t]]),jr(e,o,e.length,d),e}function rR(e,t,n){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return d;function d(w){return o?o._inactive?v(w):(u=i.parser.defined.includes(pl(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(w),e.exit("labelMarker"),e.exit("labelEnd"),f):n(w)}function f(w){return w===40?e.attempt(JP,y,u?y:v)(w):w===91?e.attempt(eR,y,u?g:v)(w):u?y(w):v(w)}function g(w){return e.attempt(tR,y,v)(w)}function y(w){return t(w)}function v(w){return o._balanced=!0,n(w)}}function sR(e,t,n){return i;function i(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),s}function s(v){return ti(v)?lc(e,o)(v):o(v)}function o(v){return v===41?y(v):SC(e,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return ti(v)?lc(e,f)(v):y(v)}function d(v){return n(v)}function f(v){return v===34||v===39||v===40?jC(e,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function g(v){return ti(v)?lc(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function aR(e,t,n){const i=this;return s;function s(d){return CC.call(i,e,o,u,"reference","referenceMarker","referenceString")(d)}function o(d){return i.parser.defined.includes(pl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function u(d){return n(d)}}function oR(e,t,n){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const lR={name:"labelStartImage",resolveAll:av.resolveAll,tokenize:uR};function uR(e,t,n){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),o}function o(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),u):n(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):t(d)}}const cR={name:"labelStartLink",resolveAll:av.resolveAll,tokenize:dR};function dR(e,t,n){const i=this;return s;function s(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const og={name:"lineEnding",tokenize:hR};function hR(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),At(e,t,"linePrefix")}}const Vh={name:"thematicBreak",tokenize:fR};function fR(e,t,n){let i=0,s;return o;function o(g){return e.enter("thematicBreak"),u(g)}function u(g){return s=g,d(g)}function d(g){return g===s?(e.enter("thematicBreakSequence"),f(g)):i>=3&&(g===null||Ge(g))?(e.exit("thematicBreak"),t(g)):n(g)}function f(g){return g===s?(e.consume(g),i++,f):(e.exit("thematicBreakSequence"),gt(g)?At(e,d,"whitespace")(g):d(g))}}const Jn={continuation:{tokenize:yR},exit:bR,name:"list",tokenize:gR},mR={partial:!0,tokenize:xR},pR={partial:!0,tokenize:vR};function gR(e,t,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return d;function d(_){const j=i.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!i.containerState.marker||_===i.containerState.marker:cy(_)){if(i.containerState.type||(i.containerState.type=j,e.enter(j,{_container:!0})),j==="listUnordered")return e.enter("listItemPrefix"),_===42||_===45?e.check(Vh,n,g)(_):g(_);if(!i.interrupt||_===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(_)}return n(_)}function f(_){return cy(_)&&++u<10?(e.consume(_),f):(!i.interrupt||u<2)&&(i.containerState.marker?_===i.containerState.marker:_===41||_===46)?(e.exit("listItemValue"),g(_)):n(_)}function g(_){return e.enter("listItemMarker"),e.consume(_),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||_,e.check(wf,i.interrupt?n:y,e.attempt(mR,w,v))}function y(_){return i.containerState.initialBlankLine=!0,o++,w(_)}function v(_){return gt(_)?(e.enter("listItemPrefixWhitespace"),e.consume(_),e.exit("listItemPrefixWhitespace"),w):n(_)}function w(_){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(_)}}function yR(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(wf,s,o);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,At(e,t,"listItemIndent",i.containerState.size+1)(d)}function o(d){return i.containerState.furtherBlankLines||!gt(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(pR,t,u)(d))}function u(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,At(e,e.attempt(Jn,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function vR(e,t,n){const i=this;return At(e,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(o):n(o)}}function bR(e){e.exit(this.containerState.type)}function xR(e,t,n){const i=this;return At(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!gt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const N1={name:"setextUnderline",resolveTo:_R,tokenize:wR};function _R(e,t){let n=e.length,i,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",u,t]),e.splice(o+1,0,["exit",e[i][1],t]),e[i][1].end={...e[o][1].end}):e[i][1]=u,e.push(["exit",u,t]),e}function wR(e,t,n){const i=this;let s;return o;function o(g){let y=i.events.length,v;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){v=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(e.enter("setextHeadingLine"),s=g,u(g)):n(g)}function u(g){return e.enter("setextHeadingLineSequence"),d(g)}function d(g){return g===s?(e.consume(g),d):(e.exit("setextHeadingLineSequence"),gt(g)?At(e,f,"lineSuffix")(g):f(g))}function f(g){return g===null||Ge(g)?(e.exit("setextHeadingLine"),t(g)):n(g)}}const SR={tokenize:CR};function CR(e){const t=this,n=e.attempt(wf,i,e.attempt(this.parser.constructs.flowInitial,s,At(e,e.attempt(this.parser.constructs.flow,s,e.attempt(LP,s)),"linePrefix")));return n;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jR={resolveAll:kC()},ER=EC("string"),kR=EC("text");function EC(e){return{resolveAll:kC(e==="text"?TR:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],o=n.attempt(s,u,d);return u;function u(y){return g(y)?o(y):d(y)}function d(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),f}function f(y){return g(y)?(n.exit("data"),o(y)):(n.consume(y),f)}function g(y){if(y===null)return!0;const v=s[y];let w=-1;if(v)for(;++w<v.length;){const _=v[w];if(!_.previous||_.previous.call(i,i.previous))return!0}return!1}}}function kC(e){return t;function t(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,i):n}}function TR(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let o=s.length,u=-1,d=0,f;for(;o--;){const g=s[o];if(typeof g=="string"){for(u=g.length;g.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(g===-2)f=!0,d++;else if(g!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const g={type:n===e.length||f||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(e.splice(n,0,["enter",g,t],["exit",g,t]),n+=2)}n++}return e}const LR={42:Jn,43:Jn,45:Jn,48:Jn,49:Jn,50:Jn,51:Jn,52:Jn,53:Jn,54:Jn,55:Jn,56:Jn,57:Jn,62:bC},NR={91:PP},AR={[-2]:ag,[-1]:ag,32:ag},MR={35:VP,42:Vh,45:[N1,Vh],60:qP,61:N1,95:Vh,96:T1,126:T1},OR={38:_C,92:xC},PR={[-5]:og,[-4]:og,[-3]:og,33:lR,38:_C,42:dy,60:[cP,XP],91:cR,92:[BP,xC],93:av,95:dy,96:SP},RR={null:[dy,jR]},DR={null:[42,95]},zR={null:[]},BR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DR,contentInitial:NR,disable:zR,document:LR,flow:MR,flowInitial:AR,insideSpan:RR,string:OR,text:PR},Symbol.toStringTag,{value:"Module"}));function IR(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],d=[];const f={attempt:q(H),check:q(R),consume:P,enter:A,exit:U,interrupt:q(R,{interrupt:!0})},g={code:null,containerState:{},defineSkip:E,events:[],now:j,parser:e,previous:null,sliceSerialize:w,sliceStream:_,write:v};let y=t.tokenize.call(g,f);return t.resolveAll&&o.push(t),g;function v(W){return u=Oi(u,W),T(),u[u.length-1]!==null?[]:(J(t,0),g.events=sv(o,g.events,g),g.events)}function w(W,ee){return UR(_(W),ee)}function _(W){return VR(u,W)}function j(){const{_bufferIndex:W,_index:ee,line:le,column:Y,offset:se}=i;return{_bufferIndex:W,_index:ee,line:le,column:Y,offset:se}}function E(W){s[W.line]=W.column,re()}function T(){let W;for(;i._index<u.length;){const ee=u[i._index];if(typeof ee=="string")for(W=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===W&&i._bufferIndex<ee.length;)M(ee.charCodeAt(i._bufferIndex));else M(ee)}}function M(W){y=y(W)}function P(W){Ge(W)?(i.line++,i.column=1,i.offset+=W===-3?2:1,re()):W!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=W}function A(W,ee){const le=ee||{};return le.type=W,le.start=j(),g.events.push(["enter",le,g]),d.push(le),le}function U(W){const ee=d.pop();return ee.end=j(),g.events.push(["exit",ee,g]),ee}function H(W,ee){J(W,ee.from)}function R(W,ee){ee.restore()}function q(W,ee){return le;function le(Y,se,F){let Z,ne,Ce,D;return Array.isArray(Y)?X(Y):"tokenize"in Y?X([Y]):z(Y);function z(oe){return ye;function ye(Ee){const Oe=Ee!==null&&oe[Ee],je=Ee!==null&&oe.null,ge=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(je)?je:je?[je]:[]];return X(ge)(Ee)}}function X(oe){return Z=oe,ne=0,oe.length===0?F:B(oe[ne])}function B(oe){return ye;function ye(Ee){return D=G(),Ce=oe,oe.partial||(g.currentConstruct=oe),oe.name&&g.parser.constructs.disable.null.includes(oe.name)?te():oe.tokenize.call(ee?Object.assign(Object.create(g),ee):g,f,ue,te)(Ee)}}function ue(oe){return W(Ce,D),se}function te(oe){return D.restore(),++ne<Z.length?B(Z[ne]):F}}}function J(W,ee){W.resolveAll&&!o.includes(W)&&o.push(W),W.resolve&&jr(g.events,ee,g.events.length-ee,W.resolve(g.events.slice(ee),g)),W.resolveTo&&(g.events=W.resolveTo(g.events,g))}function G(){const W=j(),ee=g.previous,le=g.currentConstruct,Y=g.events.length,se=Array.from(d);return{from:Y,restore:F};function F(){i=W,g.previous=ee,g.currentConstruct=le,g.events.length=Y,d=se,re()}}function re(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function VR(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let u;if(n===s)u=[e[n].slice(i,o)];else{if(u=e.slice(n,s),i>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(i):u.shift()}o>0&&u.push(e[s].slice(0,o))}return u}function UR(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const o=e[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function HR(e){const i={constructs:W5([BR,...(e||{}).extensions||[]]),content:s(iP),defined:[],document:s(sP),flow:s(SR),lazy:{},string:s(ER),text:s(kR)};return i;function s(o){return u;function u(d){return IR(i,o,d)}}}function FR(e){for(;!wC(e););return e}const A1=/[\0\t\n\r]/g;function qR(){let e=1,t="",n=!0,i;return s;function s(o,u,d){const f=[];let g,y,v,w,_;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),v=0,t="",n&&(o.charCodeAt(0)===65279&&v++,n=void 0);v<o.length;){if(A1.lastIndex=v,g=A1.exec(o),w=g&&g.index!==void 0?g.index:o.length,_=o.charCodeAt(w),!g){t=o.slice(v);break}if(_===10&&v===w&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),v<w&&(f.push(o.slice(v,w)),e+=w-v),_){case 0:{f.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,f.push(-2);e++<y;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}v=w+1}return d&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const $R=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ZR(e){return e.replace($R,GR)}function GR(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return vC(n.slice(o?2:1),o?16:10)}return rv(n)||e}const TC={}.hasOwnProperty;function KR(e,t,n){return typeof t!="string"&&(n=t,t=void 0),WR(n)(FR(HR(n).document().write(qR()(e,t,!0))))}function WR(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(bi),autolinkProtocol:G,autolinkEmail:G,atxHeading:o(Tt),blockQuote:o(je),characterEscape:G,characterReference:G,codeFenced:o(ge),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(ge,u),codeText:o(Ae,u),codeTextData:G,data:G,codeFlowValue:G,definition:o(Ne),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Ie),hardBreakEscape:o(He),hardBreakTrailing:o(He),htmlFlow:o(Cn,u),htmlFlowData:G,htmlText:o(Cn,u),htmlTextData:G,image:o(Pn),label:u,link:o(bi),listItem:o(Lr),listItemValue:w,listOrdered:o(Tr,v),listUnordered:o(Tr),paragraph:o(ao),reference:B,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Tt),strong:o(oo),thematicBreak:o(Il)},exit:{atxHeading:f(),atxHeadingSequence:H,autolink:f(),autolinkEmail:Oe,autolinkProtocol:Ee,blockQuote:f(),characterEscapeValue:re,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:oe,characterReference:ye,codeFenced:f(T),codeFencedFence:E,codeFencedFenceInfo:_,codeFencedFenceMeta:j,codeFlowValue:re,codeIndented:f(M),codeText:f(se),codeTextData:re,data:re,definition:f(),definitionDestinationString:U,definitionLabelString:P,definitionTitleString:A,emphasis:f(),hardBreakEscape:f(ee),hardBreakTrailing:f(ee),htmlFlow:f(le),htmlFlowData:re,htmlText:f(Y),htmlTextData:re,image:f(Z),label:Ce,labelText:ne,lineEnding:W,link:f(F),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ue,resourceDestinationString:D,resourceTitleString:z,resource:X,setextHeading:f(J),setextHeadingLineSequence:q,setextHeadingText:R,strong:f(),thematicBreak:f()}};LC(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(be){let Te={type:"root",children:[]};const Fe={stack:[Te],tokenStack:[],config:t,enter:d,exit:g,buffer:u,resume:y,data:n},nt=[];let ct=-1;for(;++ct<be.length;)if(be[ct][1].type==="listOrdered"||be[ct][1].type==="listUnordered")if(be[ct][0]==="enter")nt.push(ct);else{const jn=nt.pop();ct=s(be,jn,ct)}for(ct=-1;++ct<be.length;){const jn=t[be[ct][0]];TC.call(jn,be[ct][1].type)&&jn[be[ct][1].type].call(Object.assign({sliceSerialize:be[ct][2].sliceSerialize},Fe),be[ct][1])}if(Fe.tokenStack.length>0){const jn=Fe.tokenStack[Fe.tokenStack.length-1];(jn[1]||M1).call(Fe,void 0,jn[0])}for(Te.position={start:Fs(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:Fs(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<t.transforms.length;)Te=t.transforms[ct](Te)||Te;return Te}function s(be,Te,Fe){let nt=Te-1,ct=-1,jn=!1,zi,hn,Bt,vn;for(;++nt<=Fe;){const vt=be[nt];switch(vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vt[0]==="enter"?ct++:ct--,vn=void 0;break}case"lineEndingBlank":{vt[0]==="enter"&&(zi&&!vn&&!ct&&!Bt&&(Bt=nt),vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vn=void 0}if(!ct&&vt[0]==="enter"&&vt[1].type==="listItemPrefix"||ct===-1&&vt[0]==="exit"&&(vt[1].type==="listUnordered"||vt[1].type==="listOrdered")){if(zi){let Vn=nt;for(hn=void 0;Vn--;){const ii=be[Vn];if(ii[1].type==="lineEnding"||ii[1].type==="lineEndingBlank"){if(ii[0]==="exit")continue;hn&&(be[hn][1].type="lineEndingBlank",jn=!0),ii[1].type="lineEnding",hn=Vn}else if(!(ii[1].type==="linePrefix"||ii[1].type==="blockQuotePrefix"||ii[1].type==="blockQuotePrefixWhitespace"||ii[1].type==="blockQuoteMarker"||ii[1].type==="listItemIndent"))break}Bt&&(!hn||Bt<hn)&&(zi._spread=!0),zi.end=Object.assign({},hn?be[hn][1].start:vt[1].end),be.splice(hn||nt,0,["exit",zi,vt[2]]),nt++,Fe++}if(vt[1].type==="listItemPrefix"){const Vn={type:"listItem",_spread:!1,start:Object.assign({},vt[1].start),end:void 0};zi=Vn,be.splice(nt,0,["enter",Vn,vt[2]]),nt++,Fe++,Bt=void 0,vn=!0}}}return be[Te][1]._spread=jn,Fe}function o(be,Te){return Fe;function Fe(nt){d.call(this,be(nt),nt),Te&&Te.call(this,nt)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(be,Te,Fe){this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Te,Fe||void 0]),be.position={start:Fs(Te.start),end:void 0}}function f(be){return Te;function Te(Fe){be&&be.call(this,Fe),g.call(this,Fe)}}function g(be,Te){const Fe=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==be.type&&(Te?Te.call(this,be,nt[0]):(nt[1]||M1).call(this,be,nt[0]));else throw new Error("Cannot close `"+be.type+"` ("+oc({start:be.start,end:be.end})+"): its not open");Fe.position.end=Fs(be.end)}function y(){return G5(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function w(be){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(be),10),this.data.expectingFirstListItemValue=void 0}}function _(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=be}function j(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=be}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be.replace(/(\r?\n|\r)$/g,"")}function P(be){const Te=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Te,Fe.identifier=pl(this.sliceSerialize(be)).toLowerCase()}function A(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.title=be}function U(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.url=be}function H(be){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Fe=this.sliceSerialize(be).length;Te.depth=Fe}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function q(be){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(be).codePointAt(0)===61?1:2}function J(){this.data.setextHeadingSlurpLineEnding=void 0}function G(be){const Fe=this.stack[this.stack.length-1].children;let nt=Fe[Fe.length-1];(!nt||nt.type!=="text")&&(nt=yn(),nt.position={start:Fs(be.start),end:void 0},Fe.push(nt)),this.stack.push(nt)}function re(be){const Te=this.stack.pop();Te.value+=this.sliceSerialize(be),Te.position.end=Fs(be.end)}function W(be){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Fe=Te.children[Te.children.length-1];Fe.position.end=Fs(be.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(G.call(this,be),re.call(this,be))}function ee(){this.data.atHardBreak=!0}function le(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be}function Y(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be}function se(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be}function F(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=Te,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function Z(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=Te,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function ne(be){const Te=this.sliceSerialize(be),Fe=this.stack[this.stack.length-2];Fe.label=ZR(Te),Fe.identifier=pl(Te).toLowerCase()}function Ce(){const be=this.stack[this.stack.length-1],Te=this.resume(),Fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Fe.type==="link"){const nt=be.children;Fe.children=nt}else Fe.alt=Te}function D(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.url=be}function z(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.title=be}function X(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function ue(be){const Te=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Te,Fe.identifier=pl(this.sliceSerialize(be)).toLowerCase(),this.data.referenceType="full"}function te(be){this.data.characterReferenceType=be.type}function oe(be){const Te=this.sliceSerialize(be),Fe=this.data.characterReferenceType;let nt;Fe?(nt=vC(Te,Fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=rv(Te);const ct=this.stack[this.stack.length-1];ct.value+=nt}function ye(be){const Te=this.stack.pop();Te.position.end=Fs(be.end)}function Ee(be){re.call(this,be);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(be)}function Oe(be){re.call(this,be);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(be)}function je(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function Ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ie(){return{type:"emphasis",children:[]}}function Tt(){return{type:"heading",depth:0,children:[]}}function He(){return{type:"break"}}function Cn(){return{type:"html",value:""}}function Pn(){return{type:"image",title:null,url:"",alt:null}}function bi(){return{type:"link",title:null,url:"",children:[]}}function Tr(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function Lr(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function ao(){return{type:"paragraph",children:[]}}function oo(){return{type:"strong",children:[]}}function yn(){return{type:"text",value:""}}function Il(){return{type:"thematicBreak"}}}function Fs(e){return{line:e.line,column:e.column,offset:e.offset}}function LC(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?LC(e,i):YR(e,i)}}function YR(e,t){let n;for(n in t)if(TC.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function M1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+oc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+oc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+oc({start:t.start,end:t.end})+") is still open")}function XR(e){const t=this;t.parser=n;function n(i){return KR(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function QR(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function JR(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function e3(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function t3(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n3(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function i3(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Ol(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let u,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=o+1,d+=1,e.footnoteCounts.set(i,d);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,f);const g={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,g),e.applyData(t,g)}function r3(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function s3(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function NC(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function a3(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return NC(e,t);const s={src:Ol(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function o3(e,t){const n={src:Ol(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function l3(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function u3(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return NC(e,t);const s={href:Ol(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function c3(e,t){const n={href:Ol(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function d3(e,t,n){const i=e.all(t),s=n?h3(n):AC(t),o={},u=[];if(typeof t.checked=="boolean"){const y=i[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const y=i[d];(s||d!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!s?u.push(...y.children):u.push(y)}const f=i[i.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:u};return e.patch(t,g),e.applyData(t,g)}function h3(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=AC(n[i])}return t}function AC(e){const t=e.spread;return t??e.children.length>1}function f3(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function m3(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p3(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function g3(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y3(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=ev(t.children[1]),f=dC(t.children[t.children.length-1]);d&&f&&(u.position={start:d,end:f}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function v3(e,t,n){const i=n?n.children:void 0,o=(i?i.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,d=u?u.length:t.children.length;let f=-1;const g=[];for(;++f<d;){const v=t.children[f],w={},_=u?u[f]:void 0;_&&(w.align=_);let j={type:"element",tagName:o,properties:w,children:[]};v&&(j.children=e.all(v),e.patch(v,j),j=e.applyData(v,j)),g.push(j)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,y),e.applyData(t,y)}function b3(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const O1=9,P1=32;function x3(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const o=[];for(;i;)o.push(R1(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return o.push(R1(t.slice(s),s>0,!1)),o.join("")}function R1(e,t,n){let i=0,s=e.length;if(t){let o=e.codePointAt(i);for(;o===O1||o===P1;)i++,o=e.codePointAt(i)}if(n){let o=e.codePointAt(s-1);for(;o===O1||o===P1;)s--,o=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function _3(e,t){const n={type:"text",value:x3(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function w3(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const S3={blockquote:QR,break:JR,code:e3,delete:t3,emphasis:n3,footnoteReference:i3,heading:r3,html:s3,imageReference:a3,image:o3,inlineCode:l3,linkReference:u3,link:c3,listItem:d3,list:f3,paragraph:m3,root:p3,strong:g3,table:y3,tableCell:b3,tableRow:v3,text:_3,thematicBreak:w3,toml:Lh,yaml:Lh,definition:Lh,footnoteDefinition:Lh};function Lh(){}const MC=-1,Sf=0,uc=1,tf=2,ov=3,lv=4,uv=5,cv=6,OC=7,PC=8,D1=typeof self=="object"?self:globalThis,C3=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),i=s=>{if(e.has(s))return e.get(s);const[o,u]=t[s];switch(o){case Sf:case MC:return n(u,s);case uc:{const d=n([],s);for(const f of u)d.push(i(f));return d}case tf:{const d=n({},s);for(const[f,g]of u)d[i(f)]=i(g);return d}case ov:return n(new Date(u),s);case lv:{const{source:d,flags:f}=u;return n(new RegExp(d,f),s)}case uv:{const d=n(new Map,s);for(const[f,g]of u)d.set(i(f),i(g));return d}case cv:{const d=n(new Set,s);for(const f of u)d.add(i(f));return d}case OC:{const{name:d,message:f}=u;return n(new D1[d](f),s)}case PC:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return n(new DataView(d),u)}}return n(new D1[o](u),s)};return i},z1=e=>C3(new Map,e)(0),il="",{toString:j3}={},{keys:E3}=Object,Wu=e=>{const t=typeof e;if(t!=="object"||!e)return[Sf,t];const n=j3.call(e).slice(8,-1);switch(n){case"Array":return[uc,il];case"Object":return[tf,il];case"Date":return[ov,il];case"RegExp":return[lv,il];case"Map":return[uv,il];case"Set":return[cv,il];case"DataView":return[uc,n]}return n.includes("Array")?[uc,n]:n.includes("Error")?[OC,n]:[tf,n]},Nh=([e,t])=>e===Sf&&(t==="function"||t==="symbol"),k3=(e,t,n,i)=>{const s=(u,d)=>{const f=i.push(u)-1;return n.set(d,f),f},o=u=>{if(n.has(u))return n.get(u);let[d,f]=Wu(u);switch(d){case Sf:{let y=u;switch(f){case"bigint":d=PC,y=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return s([MC],u)}return s([d,y],u)}case uc:{if(f){let w=u;return f==="DataView"?w=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(w=new Uint8Array(u)),s([f,[...w]],u)}const y=[],v=s([d,y],u);for(const w of u)y.push(o(w));return v}case tf:{if(f)switch(f){case"BigInt":return s([f,u.toString()],u);case"Boolean":case"Number":case"String":return s([f,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const y=[],v=s([d,y],u);for(const w of E3(u))(e||!Nh(Wu(u[w])))&&y.push([o(w),o(u[w])]);return v}case ov:return s([d,u.toISOString()],u);case lv:{const{source:y,flags:v}=u;return s([d,{source:y,flags:v}],u)}case uv:{const y=[],v=s([d,y],u);for(const[w,_]of u)(e||!(Nh(Wu(w))||Nh(Wu(_))))&&y.push([o(w),o(_)]);return v}case cv:{const y=[],v=s([d,y],u);for(const w of u)(e||!Nh(Wu(w)))&&y.push(o(w));return v}}const{message:g}=u;return s([d,{name:f,message:g}],u)};return o},B1=(e,{json:t,lossy:n}={})=>{const i=[];return k3(!(t||n),!!t,new Map,i)(e),i},nf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?z1(B1(e,t)):structuredClone(e):(e,t)=>z1(B1(e,t));function T3(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function L3(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function N3(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||T3,i=e.options.footnoteBackLabel||L3,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let f=-1;for(;++f<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[f]);if(!g)continue;const y=e.all(g),v=String(g.identifier).toUpperCase(),w=Ol(v.toLowerCase());let _=0;const j=[],E=e.footnoteCounts.get(v);for(;E!==void 0&&++_<=E;){j.length>0&&j.push({type:"text",value:" "});let P=typeof n=="string"?n:n(f,_);typeof P=="string"&&(P={type:"text",value:P}),j.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+w+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,_),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const T=y[y.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const P=T.children[T.children.length-1];P&&P.type==="text"?P.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...j)}else y.push(...j);const M={type:"element",tagName:"li",properties:{id:t+"fn-"+w},children:e.wrap(y,!0)};e.patch(g,M),d.push(M)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...nf(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const RC=(function(e){if(e==null)return P3;if(typeof e=="function")return Cf(e);if(typeof e=="object")return Array.isArray(e)?A3(e):M3(e);if(typeof e=="string")return O3(e);throw new Error("Expected function, string, or object as test")});function A3(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=RC(e[n]);return Cf(i);function i(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function M3(e){const t=e;return Cf(n);function n(i){const s=i;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function O3(e){return Cf(t);function t(n){return n&&n.type===e}}function Cf(e){return t;function t(n,i,s){return!!(R3(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function P3(){return!0}function R3(e){return e!==null&&typeof e=="object"&&"type"in e}const DC=[],D3=!0,I1=!1,z3="skip";function B3(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const o=RC(s),u=i?-1:1;d(e,void 0,[])();function d(f,g,y){const v=f&&typeof f=="object"?f:{};if(typeof v.type=="string"){const _=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(f.type+(_?"<"+_+">":""))+")"})}return w;function w(){let _=DC,j,E,T;if((!t||o(f,g,y[y.length-1]||void 0))&&(_=I3(n(f,y)),_[0]===I1))return _;if("children"in f&&f.children){const M=f;if(M.children&&_[0]!==z3)for(E=(i?M.children.length:-1)+u,T=y.concat(M);E>-1&&E<M.children.length;){const P=M.children[E];if(j=d(P,E,T)(),j[0]===I1)return j;E=typeof j[1]=="number"?j[1]:E+u}}return _}}}function I3(e){return Array.isArray(e)?e:typeof e=="number"?[D3,e]:e==null?DC:[e]}function zC(e,t,n,i){let s,o,u;typeof t=="function"&&typeof n!="function"?(o=void 0,u=t,s=n):(o=t,u=n,s=i),B3(e,o,d,s);function d(f,g){const y=g[g.length-1],v=y?y.children.indexOf(f):void 0;return u(f,v,y)}}const hy={}.hasOwnProperty,V3={};function U3(e,t){const n=t||V3,i=new Map,s=new Map,o=new Map,u={...S3,...n.handlers},d={all:g,applyData:F3,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:H3,wrap:$3};return zC(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?i:s,w=String(y.identifier).toUpperCase();v.has(w)||v.set(w,y)}}),d;function f(y,v){const w=y.type,_=d.handlers[w];if(hy.call(d.handlers,w)&&_)return _(d,y,v);if(d.options.passThrough&&d.options.passThrough.includes(w)){if("children"in y){const{children:E,...T}=y,M=nf(T);return M.children=d.all(y),M}return nf(y)}return(d.options.unknownHandler||q3)(d,y,v)}function g(y){const v=[];if("children"in y){const w=y.children;let _=-1;for(;++_<w.length;){const j=d.one(w[_],y);if(j){if(_&&w[_-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=V1(j.value)),!Array.isArray(j)&&j.type==="element")){const E=j.children[0];E&&E.type==="text"&&(E.value=V1(E.value))}Array.isArray(j)?v.push(...j):v.push(j)}}}return v}}function H3(e,t){e.position&&(t.position=j5(e))}function F3(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,nf(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function q3(e,t){const n=t.data||{},i="value"in t&&!(hy.call(n,"hProperties")||hy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function $3(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function V1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function U1(e,t){const n=U3(e,t),i=n.one(e,void 0),s=N3(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function Z3(e,t){return e&&"run"in e?async function(n,i){const s=U1(n,{file:i,...t});await e.run(s,i)}:function(n,i){return U1(n,{file:i,...e||t})}}function H1(e){if(e)throw e}var lg,F1;function G3(){if(F1)return lg;F1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},o=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var y=e.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!y&&!v)return!1;var w;for(w in g);return typeof w>"u"||e.call(g,w)},u=function(g,y){n&&y.name==="__proto__"?n(g,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):g[y.name]=y.newValue},d=function(g,y){if(y==="__proto__")if(e.call(g,y)){if(i)return i(g,y).value}else return;return g[y]};return lg=function f(){var g,y,v,w,_,j,E=arguments[0],T=1,M=arguments.length,P=!1;for(typeof E=="boolean"&&(P=E,E=arguments[1]||{},T=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});T<M;++T)if(g=arguments[T],g!=null)for(y in g)v=d(E,y),w=d(g,y),E!==w&&(P&&w&&(o(w)||(_=s(w)))?(_?(_=!1,j=v&&s(v)?v:[]):j=v&&o(v)?v:{},u(E,{name:y,newValue:f(P,j,w)})):typeof w<"u"&&u(E,{name:y,newValue:w}));return E},lg}var K3=G3();const ug=eo(K3);function fy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function W3(){const e=[],t={run:n,use:i};return t;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...s);function d(f,...g){const y=e[++o];let v=-1;if(f){u(f);return}for(;++v<s.length;)(g[v]===null||g[v]===void 0)&&(g[v]=s[v]);s=g,y?Y3(y,d)(...g):u(null,...g)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function Y3(e,t){let n;return i;function i(...u){const d=e.length>u.length;let f;d&&u.push(s);try{f=e.apply(this,u)}catch(g){const y=g;if(d&&n)throw y;return s(y)}d||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(u,...d){n||(n=!0,t(u,...d))}function o(u){s(null,u)}}const br={basename:X3,dirname:Q3,extname:J3,join:e4,sep:"/"};function X3(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vc(e);let n=0,i=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let u=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(i=s):(d=-1,i=u));return n===i?i=u:i<0&&(i=e.length),e.slice(n,i)}function Q3(e){if(Vc(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function J3(e){Vc(e);let t=e.length,n=-1,i=0,s=-1,o=0,u;for(;t--;){const d=e.codePointAt(t);if(d===47){if(u){i=t+1;break}continue}n<0&&(u=!0,n=t+1),d===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function e4(...e){let t=-1,n;for(;++t<e.length;)Vc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":t4(n)}function t4(e){Vc(e);const t=e.codePointAt(0)===47;let n=n4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function n4(e,t){let n="",i=0,s=-1,o=0,u=-1,d,f;for(;++u<=e.length;){if(u<e.length)d=e.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",i=0,s=u,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,u):n=e.slice(s+1,u),i=u-s-1;s=u,o=0}else d===46&&o>-1?o++:o=-1}return n}function Vc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const i4={cwd:r4};function r4(){return"/"}function my(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function s4(e){if(typeof e=="string")e=new URL(e);else if(!my(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return a4(e)}function a4(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const cg=["history","path","basename","stem","extname","dirname"];class BC{constructor(t){let n;t?my(t)?n={path:t}:typeof t=="string"||o4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":i4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<cg.length;){const o=cg[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)cg.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?br.basename(this.path):void 0}set basename(t){hg(t,"basename"),dg(t,"basename"),this.path=br.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?br.dirname(this.path):void 0}set dirname(t){q1(this.basename,"dirname"),this.path=br.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?br.extname(this.path):void 0}set extname(t){if(dg(t,"extname"),q1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=br.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){my(t)&&(t=s4(t)),hg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?br.basename(this.path,this.extname):void 0}set stem(t){hg(t,"stem"),dg(t,"stem"),this.path=br.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new On(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function dg(e,t){if(e&&e.includes(br.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+br.sep+"`")}function hg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function q1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function o4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const l4=(function(e){const i=this.constructor.prototype,s=i[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),u4={}.hasOwnProperty;class dv extends l4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=W3()}copy(){const t=new dv;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(ug(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(pg("data",this.frozen),this.namespace[t]=n,this):u4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(pg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ah(t),i=this.parser||this.Parser;return fg("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),fg("process",this.parser||this.Parser),mg("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const d=Ah(t),f=i.parse(d);i.run(f,d,function(y,v,w){if(y||!v||!w)return g(y);const _=v,j=i.stringify(_,w);h4(j)?w.value=j:w.result=j,g(y,w)});function g(y,v){y||!v?u(y):o?o(v):n(void 0,v)}}}processSync(t){let n=!1,i;return this.freeze(),fg("processSync",this.parser||this.Parser),mg("processSync",this.compiler||this.Compiler),this.process(t,s),Z1("processSync","process",n),i;function s(o,u){n=!0,H1(o),i=u}}run(t,n,i){$1(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,d){const f=Ah(n);s.run(t,f,g);function g(y,v,w){const _=v||t;y?d(y):u?u(_):i(void 0,_,w)}}}runSync(t,n){let i=!1,s;return this.run(t,n,o),Z1("runSync","run",i),s;function o(u,d){H1(u),s=d,i=!0}}stringify(t,n){this.freeze();const i=Ah(n),s=this.compiler||this.Compiler;return mg("stringify",s),$1(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(pg("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(g){if(typeof g=="function")f(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[y,...v]=g;f(y,v)}else u(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function u(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(g.plugins),g.settings&&(s.settings=ug(!0,s.settings,g.settings))}function d(g){let y=-1;if(g!=null)if(Array.isArray(g))for(;++y<g.length;){const v=g[y];o(v)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function f(g,y){let v=-1,w=-1;for(;++v<i.length;)if(i[v][0]===g){w=v;break}if(w===-1)i.push([g,...y]);else if(y.length>0){let[_,...j]=y;const E=i[w][1];fy(E)&&fy(_)&&(_=ug(!0,E,_)),i[w]=[g,_,...j]}}}}const c4=new dv().freeze();function fg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function mg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function pg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $1(e){if(!fy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Z1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ah(e){return d4(e)?e:new BC(e)}function d4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function h4(e){return typeof e=="string"||f4(e)}function f4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const m4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",G1=[],K1={allowDangerousHtml:!0},p4=/^(https?|ircs?|mailto|xmpp)$/i,g4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function y4(e){const t=v4(e),n=b4(e);return x4(t.runSync(t.parse(n),n),e)}function v4(e){const t=e.rehypePlugins||G1,n=e.remarkPlugins||G1,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...K1}:K1;return c4().use(XR).use(n).use(Z3,i).use(t)}function b4(e){const t=e.children||"",n=new BC;return typeof t=="string"&&(n.value=t),n}function x4(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,o=t.disallowedElements,u=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||_4;for(const y of g4)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+m4+y.id,void 0);return zC(e,g),N5(e,{Fragment:h.Fragment,components:s,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function g(y,v,w){if(y.type==="raw"&&w&&typeof v=="number")return u?w.children.splice(v,1):w.children[v]={type:"text",value:y.value},v;if(y.type==="element"){let _;for(_ in sg)if(Object.hasOwn(sg,_)&&Object.hasOwn(y.properties,_)){const j=y.properties[_],E=sg[_];(E===null||E.includes(y.tagName))&&(y.properties[_]=f(String(j||""),_,y))}}if(y.type==="element"){let _=n?!n.includes(y.tagName):o?o.includes(y.tagName):!1;if(!_&&i&&typeof v=="number"&&(_=!i(y,v,w)),_&&w&&typeof v=="number")return d&&y.children?w.children.splice(v,1,...y.children):w.children.splice(v,1),v}}}function _4(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||p4.test(e.slice(0,t))?e:""}const W1={dashboard:{title:{en:"Dashboard Overview",nl:"Dashboard Overzicht"},content:{en:`
The dashboard provides a quick overview of your event data:

**Key Metrics:**
- **Total Markers**: All map locations (booths, parking, facilities)
- **Companies**: Registered exhibitor companies
- **Subscriptions**: Companies registered for the selected year
- **Assignments**: Companies assigned to map locations

**Event Stats:**
- View meal counts (breakfast, lunch, BBQ) for Saturday and Sunday
- Track total coins distributed
- All stats update in real-time as you make changes

**Year Selector:**
Use the year dropdown in the top navigation to switch between event years.
      `.trim(),nl:`
Het dashboard biedt een snel overzicht van je event data:

**Belangrijkste Cijfers:**
- **Totaal Markers**: Alle kaartlocaties (stands, parkeren, faciliteiten)
- **Bedrijven**: Geregistreerde exposanten
- **Inschrijvingen**: Bedrijven ingeschreven voor het geselecteerde jaar
- **Toewijzingen**: Bedrijven toegewezen aan kaartlocaties

**Event Statistieken:**
- Bekijk maaltijdaantallen (ontbijt, lunch, BBQ) voor zaterdag en zondag
- Volg totaal uitgedeelde munten
- Alle statistieken updaten real-time bij wijzigingen

**Jaarselector:**
Gebruik de jaarkeuze in de topnavigatie om tussen evenementjaren te wisselen.
      `.trim()},updated:"2025-11-22",tips:{en:["Use the year selector to view past or future events","Stats update automatically when you make changes","Dashboard is read-only - go to specific tabs to edit data"],nl:["Gebruik de jaarselector om verleden of toekomstige events te bekijken","Statistieken updaten automatisch bij wijzigingen","Dashboard is alleen-lezen - ga naar specifieke tabbladen om data te bewerken"]}},mapManagement:{title:{en:"Map Management",nl:"Kaartbeheer"},content:{en:`
The Map Management page lets you place and configure map markers.

**Placing Markers:**
1. Click "Add Marker" or right-click on the map
2. Drag the marker to the desired position
3. Set marker properties (name, type, icon, visibility)
4. Click "Save" to persist changes

**Marker Properties:**
- **Type**: Booth, Parking, Food, Event, etc.
- **Icon & Color**: Visual appearance on map
- **Min/Max Zoom**: Control when marker appears based on zoom level
- **Rotation**: Adjust booth rectangle angle (booths only)
- **Lock**: Prevent accidental moves during event

**Tips:**
- Lock markers before event day to prevent accidental changes
- Use zoom visibility to keep map clean at different zoom levels
- Rectangles (6m x 6m) show booth outlines - only visible in admin view
      `.trim(),nl:`
De Kaartbeheer pagina laat je kaartmarkers plaatsen en configureren.

**Markers Plaatsen:**
1. Klik "Marker Toevoegen" of rechts-klik op de kaart
2. Sleep de marker naar de gewenste positie
3. Stel marker eigenschappen in (naam, type, icoon, zichtbaarheid)
4. Klik "Opslaan" om wijzigingen vast te leggen

**Marker Eigenschappen:**
- **Type**: Stand, Parkeren, Eten, Event, etc.
- **Icoon & Kleur**: Visuele weergave op kaart
- **Min/Max Zoom**: Bepaal wanneer marker verschijnt op basis van zoomniveau
- **Rotatie**: Pas standhoek aan (alleen stands)
- **Vergrendel**: Voorkom onbedoelde verplaatsingen tijdens event

**Tips:**
- Vergrendel markers voor de eventdag om ongelukken te voorkomen
- Gebruik zoomzichtbaarheid om kaart overzichtelijk te houden
- Rechthoeken (6m x 6m) tonen standcontouren - alleen zichtbaar in admin weergave
      `.trim()},updated:"2025-11-22",tips:{en:["Right-click on map for quick marker creation","Lock markers before going live to prevent accidents","Adjust min/max zoom to control marker visibility","Use rectangles to visualize booth layouts"],nl:["Rechts-klik op kaart voor snelle marker creatie","Vergrendel markers voor go-live om ongelukken te voorkomen","Pas min/max zoom aan om marker zichtbaarheid te regelen","Gebruik rechthoeken om standindelingen te visualiseren"]}},companies:{title:{en:"Companies Management",nl:"Bedrijvenbeheer"},content:{en:`
Manage exhibitor companies and their contact information.

**Adding Companies:**
1. Click "Add Company" button
2. Fill in company details (name, contact, phone, email)
3. Click "Save"

**Company Information:**
- **Company Name**: Primary identifier (must be unique)
- **Contact Person**: Main point of contact
- **Phone**: Contact phone number
- **Email**: Contact email address

**Editing Companies:**
- Click on any row to edit company details
- Changes save automatically
- Company data persists across event years
      `.trim(),nl:`
Beheer exposanten en hun contactinformatie.

**Bedrijven Toevoegen:**
1. Klik "Bedrijf Toevoegen" knop
2. Vul bedrijfsgegevens in (naam, contact, telefoon, email)
3. Klik "Opslaan"

**Bedrijfsinformatie:**
- **Bedrijfsnaam**: Primaire identificatie (moet uniek zijn)
- **Contactpersoon**: Hoofdcontact
- **Telefoon**: Contacttelefoonnummer
- **Email**: Contact emailadres

**Bedrijven Bewerken:**
- Klik op een rij om bedrijfsgegevens te bewerken
- Wijzigingen worden automatisch opgeslagen
- Bedrijfsdata blijft behouden over evenementjaren
      `.trim()},updated:"2025-11-22",tips:{en:["Company names must be unique","Use import for bulk company uploads","Contact info is optional but recommended"],nl:["Bedrijfsnamen moeten uniek zijn","Gebruik import voor bulk bedrijfsuploads","Contactinfo is optioneel maar aangeraden"]}},subscriptions:{title:{en:"Event Subscriptions",nl:"Event Inschrijvingen"},content:{en:`
Track company registrations and meal preferences for each event year.

**Managing Subscriptions:**
- View all companies registered for selected year
- See meal selections (breakfast, lunch, BBQ) separately for Saturday and Sunday
- Track coin distribution
- Edit preferences as needed

**Saturday Options:**
- Breakfast, Lunch, BBQ available

**Sunday Options:**
- Breakfast and Lunch (no BBQ on Sunday)

**Importing Subscriptions:**
Use CSV/Excel import for efficient bulk uploads from registration system.
      `.trim(),nl:`
Volg bedrijfsregistraties en maaltijdvoorkeuren per evenementjaar.

**Inschrijvingen Beheren:**
- Bekijk alle bedrijven ingeschreven voor geselecteerd jaar
- Zie maaltijdkeuzes (ontbijt, lunch, BBQ) apart voor zaterdag en zondag
- Volg muntendistributie
- Bewerk voorkeuren indien nodig

**Zaterdag Opties:**
- Ontbijt, Lunch, BBQ beschikbaar

**Zondag Opties:**
- Ontbijt en Lunch (geen BBQ op zondag)

**Inschrijvingen Importeren:**
Gebruik CSV/Excel import voor efficinte bulk uploads vanuit registratiesysteem.
      `.trim()},updated:"2025-11-22",tips:{en:["Import subscriptions at start of event planning","Saturday and Sunday have different meal options","Changes sync to dashboard statistics automatically"],nl:["Importeer inschrijvingen aan start van eventplanning","Zaterdag en zondag hebben verschillende maaltijdopties","Wijzigingen synchroniseren automatisch naar dashboard statistieken"]}},assignments:{title:{en:"Booth Assignments",nl:"Standtoewijzingen"},content:{en:`
Assign companies to specific map locations (booth markers).

**Creating Assignments:**
1. Select event year
2. Choose company from dropdown
3. Select marker (booth) location
4. Click "Assign"

**Assignment Details:**
- Links company to physical booth location
- Displays in public map view
- Can reassign to different location if needed
- One company per booth per year

**Bulk Assignment:**
Import assignments via CSV for efficient setup.
      `.trim(),nl:`
Wijs bedrijven toe aan specifieke kaartlocaties (standmarkers).

**Toewijzingen Maken:**
1. Selecteer evenementjaar
2. Kies bedrijf uit dropdown
3. Selecteer marker (stand) locatie
4. Klik "Toewijzen"

**Toewijzingsdetails:**
- Koppelt bedrijf aan fysieke standlocatie
- Toont in publieke kaartweergave
- Kan hertoegewezen worden naar andere locatie indien nodig
- En bedrijf per stand per jaar

**Bulk Toewijzing:**
Importeer toewijzingen via CSV voor efficinte setup.
      `.trim()},updated:"2025-11-22",tips:{en:["One booth can only be assigned to one company per year","Assignments are year-specific","Use import for efficient bulk assignment"],nl:["En stand kan maar aan n bedrijf per jaar toegewezen worden","Toewijzingen zijn jaar-specifiek","Gebruik import voor efficinte bulk toewijzing"]}},settings:{title:{en:"System Settings",nl:"Systeeminstellingen"},content:{en:`
Configure system-wide settings and preferences.

**Available Settings:**
- **Organization Profile**: Logo, name, branding
- **Map Defaults**: Default layers, zoom levels
- **User Management**: Admin roles and permissions
- **Marker Defaults**: Default icons, colors, sizes
- **Event Defaults**: Saturday/Sunday meal options
- **Branding**: Colors, logo, organization name
- **Program Management**: Event schedule and activities

**Organization Logo:**
Upload your organization logo to appear:
- On map cluster markers
- In admin dashboard header
- In public map branding

**User Roles:**
- **Super Admin**: Full access to all features
- **System Manager**: Dashboard + Map Management
- **Event Manager**: Dashboard + Companies + Subscriptions + Assignments
- **Content Editor**: Program management access

**Important:**
Only Super Admins can access settings. Changes affect all users.
      `.trim(),nl:`
Configureer systeembrede instellingen en voorkeuren.

**Beschikbare Instellingen:**
- **Organisatieprofiel**: Logo, naam, huisstijl
- **Kaart Standaarden**: Standaardlagen, zoomniveaus
- **Gebruikersbeheer**: Admin rollen en rechten
- **Marker Standaarden**: Standaard iconen, kleuren, groottes
- **Event Standaarden**: Zaterdag/zondag maaltijdopties
- **Branding**: Kleuren, logo, organisatienaam
- **Programma Beheer**: Event schema en activiteiten

**Organisatie Logo:**
Upload je organisatie logo om te verschijnen:
- Op kaart cluster markers
- In admin dashboard header
- In publieke kaart branding

**Gebruikersrollen:**
- **Super Admin**: Volledige toegang tot alle features
- **Systeembeheerder**: Dashboard + Kaartbeheer
- **Eventbeheerder**: Dashboard + Bedrijven + Inschrijvingen + Toewijzingen
- **Content Editor**: Programma beheer toegang

**Belangrijk:**
Alleen Super Admins hebben toegang tot instellingen. Wijzigingen benvloeden alle gebruikers.
      `.trim()},updated:"2025-11-22",tips:{en:["Only Super Admins see this section","Test logo uploads in staging first","Changes affect all admin users","Keep user count to 5-10 for best performance"],nl:["Alleen Super Admins zien deze sectie","Test logo uploads eerst in staging","Wijzigingen benvloeden alle admin gebruikers","Houd gebruikersaantal op 5-10 voor beste performance"]}},programManagement:{title:{en:"Program Management",nl:"Programma Beheer"},content:{en:`
Manage your event schedule and activities dynamically.

**Managing Activities:**
- **Add Activity**: Click "Add Activity" to create new schedule item
- **Edit**: Click pencil icon to modify existing activity
- **Delete**: Click trash icon with confirmation
- **Reorder**: Drag activities by the  handle to change order

**Activity Properties:**
- **Title & Description**: Bilingual content (NL/EN)
- **Time**: Start and end time for the activity
- **Location Type**: 
  - **Exhibitor**: Links to company booth
  - **Venue**: Static location text
- **Badge**: Optional label (e.g., "FREE ENTRY!", "Members only")
- **Display Order**: Controls sort order in schedule
- **Active Status**: Hide/show activity from public view
- **Location Badge**: Optional exhibitor/venue indicator

**Day Tabs:**
Switch between Saturday and Sunday to manage each day separately.

**Tips:**
- Drag-to-reorder updates display_order automatically
- Exhibitor activities show company name
- Venue activities use custom location text
- Inactive activities hidden from public schedule
- Location badges help highlight special activities
      `.trim(),nl:`
Beheer je event schema en activiteiten dynamisch.

**Activiteiten Beheren:**
- **Activiteit Toevoegen**: Klik "Activiteit Toevoegen" om nieuw schema-item te creren
- **Bewerken**: Klik potlood icoon om bestaande activiteit te wijzigen
- **Verwijderen**: Klik prullenbak icoon met bevestiging
- **Herschikken**: Sleep activiteiten aan  handvat om volgorde te wijzigen

**Activiteit Eigenschappen:**
- **Titel & Beschrijving**: Tweetalige content (NL/EN)
- **Tijd**: Start- en eindtijd voor de activiteit
- **Locatietype**: 
  - **Standhouder**: Koppelt aan bedrijfsstand
  - **Locatie**: Statische locatietekst
- **Badge**: Optioneel label (bijv. "GRATIS ENTREE!", "Alleen leden")
- **Weergavevolgorde**: Bepaalt sorteervolgorde in schema
- **Actieve Status**: Verberg/toon activiteit in publieke weergave
- **Locatie Badge**: Optionele standhouder/locatie indicator

**Dag Tabbladen:**
Wissel tussen zaterdag en zondag om elke dag apart te beheren.

**Tips:**
- Sleep-om-te-herschikken update weergavevolgorde automatisch
- Standhouder activiteiten tonen bedrijfsnaam
- Locatie activiteiten gebruiken aangepaste locatietekst
- Inactieve activiteiten verborgen in publiek schema
- Locatie badges helpen speciale activiteiten te benadrukken
      `.trim()},updated:"2025-11-22",tips:{en:["Drag activities to reorder them visually","Link exhibitor activities to show booth locations","Use badges to highlight special activities","Set activities inactive to hide from public","Location badges optional - usually not needed"],nl:["Sleep activiteiten om ze visueel te herschikken","Koppel standhouder activiteiten om standlocaties te tonen","Gebruik badges om speciale activiteiten te benadrukken","Zet activiteiten inactief om te verbergen voor publiek","Locatie badges optioneel - meestal niet nodig"]}},general:{title:{en:"Getting Started",nl:"Aan de Slag"},content:{en:`
Welcome to the Event Map Admin Panel!

**Your Role Determines Access:**
- **Super Admin**: Full access to everything
- **System Manager**: Map editing and dashboard
- **Event Manager**: Company and subscription management
- **Content Editor**: Program management access

**Common Workflows:**

**1. Setting Up a New Event Year:**
- Add/update companies in Companies tab
- Import subscriptions for new year
- Assign companies to map locations
- Update event schedule in Program Management

**2. Managing Map:**
- Place markers for booths, parking, facilities
- Adjust visibility by zoom level
- Lock markers before event goes live

**3. Managing Event Program:**
- Add/edit activities in Settings  Program Management
- Link exhibitor activities to company booths
- Drag-to-reorder for easy scheduling
- Set activities active/inactive to control visibility

**4. Day-of-Event:**
- Lock all markers to prevent accidents
- Monitor assignments in real-time
- Public map and schedule update automatically

**Need Help?**
- Hover over (?) icons for quick tips
- Check "What's New" for recent changes
- Contact system administrator for access issues
      `.trim(),nl:`
Welkom bij het Event Kaart Admin Paneel!

**Je Rol Bepaalt Toegang:**
- **Super Admin**: Volledige toegang tot alles
- **Systeembeheerder**: Kaartbewerking en dashboard
- **Eventbeheerder**: Bedrijven- en inschrijvingsbeheer
- **Content Editor**: Programma beheer toegang

**Veelvoorkomende Workflows:**

**1. Nieuw Evenementjaar Instellen:**
- Voeg bedrijven toe/update in Bedrijven tab
- Importeer inschrijvingen voor nieuw jaar
- Wijs bedrijven toe aan kaartlocaties
- Update event schema in Programma Beheer

**2. Kaart Beheren:**
- Plaats markers voor stands, parkeren, faciliteiten
- Pas zichtbaarheid aan per zoomniveau
- Vergrendel markers voor event go-live

**3. Event Programma Beheren:**
- Voeg activiteiten toe/bewerk in Instellingen  Programma Beheer
- Koppel standhouder activiteiten aan bedrijfsstands
- Sleep-om-te-herschikken voor eenvoudig plannen
- Zet activiteiten actief/inactief om zichtbaarheid te regelen

**4. Dag-van-Event:**
- Vergrendel alle markers om ongelukken te voorkomen
- Monitor toewijzingen real-time
- Publieke kaart en schema updaten automatisch

**Hulp Nodig?**
- Hover over (?) iconen voor snelle tips
- Check "Wat is Nieuw" voor recente wijzigingen
- Neem contact op met systeembeheerder voor toegangsproblemen
      `.trim()},updated:"2025-11-22",tips:{en:["Start with dashboard to understand current status","Use year selector to switch between events","Lock markers before going live","Import data saves time vs manual entry","Program management updates public schedule instantly"],nl:["Start met dashboard om huidige status te begrijpen","Gebruik jaarselector om tussen events te wisselen","Vergrendel markers voor go-live","Data importeren bespaart tijd vs handmatige invoer","Programma beheer update publiek schema instant"]}}};function w4(e,t="en"){const n=W1[e]||W1.general;return{title:n.title[t]||n.title.en,content:n.content[t]||n.content.en,updated:n.updated,tips:n.tips[t]||n.tips.en}}function S4(e,t="en"){const i={"/admin":"dashboard","/admin/map":"mapManagement","/admin/companies":"companies","/admin/subscriptions":"subscriptions","/admin/assignments":"assignments","/admin/settings":"settings","/admin/settings/program":"programManagement"}[e]||"general";return w4(i,t)}const C4=[{date:"2025-11-22",changes:[{text:{en:"Program Management: Manage event schedule with database-driven activities",nl:"Programma Beheer: Beheer event schema met database-gedreven activiteiten"},type:"feature"},{text:{en:"Drag-to-reorder activities within Saturday/Sunday schedules",nl:"Sleep-om-te-herschikken activiteiten binnen zaterdag/zondag schema's"},type:"feature"},{text:{en:"Bilingual activity content (NL/EN) with exhibitor linking",nl:"Tweetalige activiteit content (NL/EN) met standhouder koppeling"},type:"feature"},{text:{en:"Optional location type badges for highlighting special activities",nl:"Optionele locatietype badges voor het benadrukken van speciale activiteiten"},type:"feature"},{text:{en:"Content Editor role added for program management access",nl:"Content Editor rol toegevoegd voor programma beheer toegang"},type:"improvement"},{text:{en:"Complete help system now available in English and Dutch",nl:"Compleet helpsysteem nu beschikbaar in Engels en Nederlands"},type:"improvement"}]},{date:"2025-11-21",changes:[{text:{en:"Added in-app help system with contextual guidance",nl:"In-app helpsysteem toegevoegd met contextuele begeleiding"},type:"feature"},{text:{en:"New tooltips on complex controls for easier navigation",nl:"Nieuwe tooltips op complexe bedieningselementen voor eenvoudigere navigatie"},type:"feature"},{text:{en:"Created versioning strategy document for future releases",nl:"Versiebeheerstrategie document gemaakt voor toekomstige releases"},type:"improvement"}]},{date:"2025-11-15",changes:[{text:{en:"Enhanced logo uploader with drag-and-drop support",nl:"Verbeterde logo uploader met drag-and-drop ondersteuning"},type:"feature"},{text:{en:"Improved import validation with better error messages",nl:"Verbeterde import validatie met betere foutmeldingen"},type:"improvement"},{text:{en:"Fixed CSV import encoding issues",nl:"CSV import encoding problemen opgelost"},type:"fix"}]},{date:"2025-11-10",changes:[{text:{en:"Added event subscriptions management tab",nl:"Event inschrijvingen beheer tab toegevoegd"},type:"feature"},{text:{en:"New assignments tab for linking companies to map locations",nl:"Nieuw toewijzingen tab voor koppelen van bedrijven aan kaartlocaties"},type:"feature"},{text:{en:"Improved marker drag performance on map",nl:"Verbeterde marker sleep prestaties op kaart"},type:"improvement"}]},{date:"2025-11-05",changes:[{text:{en:"Map marker rotation with interactive handles",nl:"Kaart marker rotatie met interactieve handgrepen"},type:"feature"},{text:{en:"Role-based navigation (Super Admin, System Manager, Event Manager)",nl:"Rol-gebaseerde navigatie (Super Admin, Systeembeheerder, Eventbeheerder)"},type:"feature"},{text:{en:"Fixed marker lock state persisting correctly",nl:"Marker vergrendelstatus wordt nu correct opgeslagen"},type:"fix"}]},{date:"2025-10-30",changes:[{text:{en:"Initial admin dashboard with key metrics",nl:"Initieel admin dashboard met belangrijkste statistieken"},type:"feature"},{text:{en:"Companies management with import/export",nl:"Bedrijvenbeheer met import/export"},type:"feature"},{text:{en:"Map Management page with marker placement",nl:"Kaartbeheer pagina met marker plaatsing"},type:"feature"}]}];function j4(e=5,t="en"){return C4.slice(0,e).map(n=>({date:n.date,changes:n.changes.map(i=>({text:i.text[t]||i.text.en,type:i.type}))}))}function IC({isOpen:e,onClose:t}){const n=nr(),{t:i,i18n:s}=_t(),{role:o}=ro(),[u,d]=k.useState("current"),[f,g]=k.useState(""),y=S4(n.pathname,s.language),v=j4(5,s.language),w=_=>{const j={feature:"bg-green-100 text-green-800",fix:"bg-red-100 text-red-800",improvement:"bg-blue-100 text-blue-800"};return j[_]||j.improvement};return e?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:t,"aria-hidden":"true"}),h.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[500px] bg-white shadow-2xl z-[9999] flex flex-col",role:"dialog","aria-label":"Help Panel","aria-modal":"true",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:oO,size:1.2,className:"text-blue-600"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:i("helpPanel.title")})]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":i("helpPanel.closeHelp"),children:h.jsx(_e,{path:er,size:1,className:"text-gray-600"})})]}),o&&h.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200",children:h.jsxs("span",{className:"text-sm text-gray-600",children:[i("helpPanel.yourRole")," ",h.jsx("span",{className:"font-semibold text-blue-600",children:i(`helpPanel.roles.${o}`,o)})]})}),h.jsxs("div",{className:"flex border-b border-gray-200 px-6 bg-white",children:[h.jsx("button",{onClick:()=>d("current"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${u==="current"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.currentPage")}),h.jsx("button",{onClick:()=>d("whats-new"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${u==="whats-new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.whatsNew")}),h.jsx("button",{onClick:()=>d("quick-start"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${u==="quick-start"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.quickStart")})]}),u==="current"&&h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsxs("div",{className:"relative",children:[h.jsx(_e,{path:io,size:.8,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:i("helpPanel.searchPlaceholder"),value:f,onChange:_=>g(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u==="current"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:y.title}),h.jsxs("p",{className:"text-xs text-gray-500",children:[i("helpPanel.lastUpdated")," ",y.updated]})]}),h.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 text-left",children:h.jsx(y4,{components:{h1:({node:_,...j})=>h.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4 mb-2 text-left",...j}),h2:({node:_,...j})=>h.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-4 mb-2 text-left",...j}),h3:({node:_,...j})=>h.jsx("h3",{className:"text-base font-bold text-gray-900 mt-3 mb-2 text-left",...j}),h4:({node:_,...j})=>h.jsx("h4",{className:"text-sm font-semibold text-gray-900 mt-3 mb-2 text-left",...j}),p:({node:_,...j})=>h.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-left",...j}),ul:({node:_,...j})=>h.jsx("ul",{className:"list-disc list-outside mb-4 space-y-2 text-left ml-5",...j}),ol:({node:_,...j})=>h.jsx("ol",{className:"list-decimal list-outside mb-4 space-y-2 text-left ml-5",...j}),li:({node:_,...j})=>h.jsx("li",{className:"text-gray-700 text-left pl-2",...j}),code:({node:_,...j})=>h.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",...j}),a:({node:_,...j})=>h.jsx("a",{className:"text-blue-600 hover:text-blue-800 underline",...j})},children:y.content})}),y.tips&&y.tips.length>0&&h.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(_e,{path:NO,size:.9,className:"text-amber-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:i("helpPanel.quickTips")}),h.jsx("ul",{className:"space-y-1",children:y.tips.map((_,j)=>h.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[h.jsx(_e,{path:q2,size:.6,className:"flex-shrink-0 mt-0.5"}),h.jsx("span",{children:_})]},j))})]})]})})]}),u==="whats-new"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.whatsNewTitle")}),h.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.whatsNewSubtitle")})]}),h.jsx("div",{className:"space-y-4",children:v.map((_,j)=>h.jsxs("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(_e,{path:DO,size:.7,className:"text-blue-600"}),h.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(_.date).toLocaleDateString(s.language==="nl"?"nl-NL":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),h.jsx("ul",{className:"space-y-2",children:_.changes.map((E,T)=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${w(E.type)}`,children:i(`helpPanel.changeTypes.${E.type}`,E.type)}),h.jsx("span",{className:"text-sm text-gray-700 flex-1",children:E.text})]},T))})]},j))})]}),u==="quick-start"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.quickStartTitle")}),h.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.quickStartSubtitle")})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:i("helpPanel.steps.step1Title")}),h.jsx("p",{className:"text-sm text-blue-800",children:i("helpPanel.steps.step1Text",{role:i(`helpPanel.roles.${o}`,i("helpPanel.roles.unknown"))})})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:i("helpPanel.steps.step2Title")}),h.jsx("p",{className:"text-sm text-green-800",children:i("helpPanel.steps.step2Text")})]}),h.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:i("helpPanel.steps.step3Title")}),h.jsx("p",{className:"text-sm text-purple-800",children:i("helpPanel.steps.step3Text")})]}),h.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:i("helpPanel.steps.step4Title")}),h.jsxs("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[h.jsx("li",{children:i("helpPanel.steps.step4Item1")}),h.jsx("li",{children:i("helpPanel.steps.step4Item2")}),h.jsx("li",{children:i("helpPanel.steps.step4Item3")}),h.jsx("li",{children:i("helpPanel.steps.step4Item4")})]})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i("helpPanel.steps.step5Title")}),h.jsx("p",{className:"text-sm text-gray-700",children:i("helpPanel.steps.step5Text")})]})]})]})]}),h.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:h.jsx("p",{className:"text-xs text-gray-500 text-center",children:i("helpPanel.footer")})})]})]}):null}IC.propTypes={isOpen:Me.bool.isRequired,onClose:Me.func.isRequired};function E4({selectedYear:e,setSelectedYear:t}){const{t:n}=_t(),i=nr(),{role:s,loading:o,hasAnyRole:u}=ro(),d=new Date().getFullYear(),f=Array.from({length:5},(T,M)=>d-2+M),[g,y]=k.useState(()=>localStorage.getItem("adminSidebarCollapsed")==="true"),[v,w]=k.useState(!1);k.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",g)},[g]);const _=async()=>{try{await pe.auth.signOut({scope:"local"})}catch(P){console.error("Logout error:",P)}const T="/Map",M=T.endsWith("/")?T:`${T}/`;window.location.href=`${M}#/admin`},E=[{path:"/admin",label:n("adminNav.dashboard"),icon:qO,roles:["super_admin","system_manager","event_manager"]},{path:"/admin/map",label:n("adminNav.mapManagement"),icon:W2,roles:["super_admin","system_manager"]},{path:"/admin/companies",label:n("adminNav.companiesNav"),icon:fl,roles:["super_admin","event_manager"]},{path:"/admin/subscriptions",label:n("adminNav.eventSubscriptions"),icon:uO,roles:["super_admin","event_manager"]},{path:"/admin/assignments",label:n("adminNav.assignments"),icon:PO,roles:["super_admin","event_manager"]},{path:"/admin/program",label:n("adminNav.programManagement"),icon:F2,roles:["super_admin","event_manager","content_editor"]},{path:"/admin/categories",label:n("adminNav.categories"),icon:iy,roles:["super_admin","event_manager"]},{path:"/admin/settings",label:n("adminNav.settings"),icon:Z2,roles:["super_admin","system_manager","event_manager"]}].filter(T=>u(T.roles));return o?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"text-gray-600",children:n("adminNav.loading")})}):h.jsxs("div",{className:"flex h-screen bg-gray-100",children:[h.jsxs("aside",{className:`${g?"w-16":"w-64"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[h.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!g&&h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n("adminNav.adminPanel")}),s&&h.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:n(`adminNav.roles.${s}`)})]}),h.jsx("button",{onClick:()=>y(!g),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:g?"Expand sidebar":"Collapse sidebar",children:h.jsx(_e,{path:g?q2:mO,size:.9,className:"text-gray-600"})})]}),h.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:h.jsx("ul",{className:"space-y-1",children:E.map(T=>{const M=i.pathname===T.path;return h.jsx("li",{children:h.jsxs(hl,{to:T.path,className:`flex items-center gap-3 ${g?"justify-center px-3":"px-4"} py-3 rounded-lg transition-colors ${M?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,title:g?T.label:"",children:[h.jsx(_e,{path:T.icon,size:1}),!g&&h.jsx("span",{children:T.label})]})},T.path)})})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:g?h.jsx("div",{className:"flex justify-center px-3 py-3 text-gray-700 text-sm font-medium",title:`Event Year: ${e}`,children:e}):h.jsxs("div",{className:"px-2 py-3",children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:n("adminNav.eventYear")}),h.jsx("select",{value:e,onChange:T=>t(parseInt(T.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 text-sm",children:f.map(T=>h.jsx("option",{value:T,children:T},T))})]})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:h.jsxs("button",{onClick:()=>w(!0),className:`flex items-center gap-3 ${g?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-blue-600 hover:bg-blue-50 transition-colors font-medium`,title:g?"Help":"",children:[h.jsx(_e,{path:jO,size:1}),!g&&h.jsx("span",{children:n("adminNav.help")})]})}),h.jsx("div",{className:"p-2 border-t border-gray-200",children:h.jsxs("button",{onClick:_,className:`flex items-center gap-3 ${g?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-gray-700 hover:bg-gray-50 transition-colors`,title:g?"Logout":"",children:[h.jsx(_e,{path:OO,size:1}),!g&&h.jsx("span",{children:n("adminNav.logout")})]})})]}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:h.jsx("div",{className:"h-full p-4",children:h.jsx(jA,{})})}),h.jsx(IC,{isOpen:v,onClose:()=>w(!1)})]})}function Uc(e){const[t,n]=k.useState([]),[i,s]=k.useState(!0),[o,u]=k.useState(null),d=k.useCallback(async()=>{try{s(!0),u(null);const{data:j,error:E}=await pe.from("event_subscriptions").select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).eq("event_year",e).order("id",{ascending:!0});if(E)throw E;n(j||[])}catch(j){console.error("Error loading event subscriptions:",j),u(j.message)}finally{s(!1)}},[e]),f=async(j,E={})=>{try{const{data:{user:T}}=await pe.auth.getUser(),M=T?.email||"unknown",{data:P}=await pe.from("companies").select("contact, phone, email").eq("id",j).single(),{data:A}=await pe.from("organization_profile").select("default_breakfast_sat, default_lunch_sat, default_bbq_sat, default_breakfast_sun, default_lunch_sun").eq("id",1).single(),U=A?.default_breakfast_sat||0,H=A?.default_lunch_sat||0,R=A?.default_bbq_sat||0,q=A?.default_breakfast_sun||0,J=A?.default_lunch_sun||0,{data:G,error:re}=await pe.from("event_subscriptions").insert({company_id:j,event_year:e,contact:E.contact||P?.contact||"",phone:E.phone||P?.phone||"",email:E.email||P?.email||"",booth_count:E.booth_count||1,area:E.area||"",breakfast_sat:E.breakfast_sat??U,lunch_sat:E.lunch_sat??H,bbq_sat:E.bbq_sat??R,breakfast_sun:E.breakfast_sun??q,lunch_sun:E.lunch_sun??J,coins:E.coins||0,notes:E.notes||"",created_by:M}).select().single();if(re)throw re;return await d(),{data:G,error:null}}catch(T){return console.error("Error subscribing company:",T),{data:null,error:T.message}}},g=async(j,E)=>{try{const{data:T,error:M}=await pe.from("event_subscriptions").update(E).eq("id",j).select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).single();if(M)throw M;return await d(),{data:T,error:null}}catch(T){return console.error("Error updating subscription:",T),{data:null,error:T.message}}},y=async j=>{try{const{data:E,error:T}=await pe.from("event_subscriptions").select("company_id, event_year").eq("id",j).single();if(T)throw T;const{error:M}=await pe.from("assignments").delete().eq("company_id",E.company_id).eq("event_year",E.event_year);if(M)throw M;const{error:P}=await pe.from("event_subscriptions").delete().eq("id",j);if(P)throw P;return await d(),{error:null}}catch(E){return console.error("Error unsubscribing company:",E),{error:E.message}}},v=async()=>{try{const{data:{user:j}}=await pe.auth.getUser(),E=j?.email||"unknown",{data:T,error:M}=await pe.rpc("archive_event_subscriptions",{year_to_archive:e,archived_by_user:E});if(M)throw M;return await d(),{data:T,error:null}}catch(j){return console.error("Error archiving subscriptions:",j),{data:null,error:j.message}}},w=async j=>{try{const{data:E,error:T}=await pe.from("event_subscriptions_archive").select("*").eq("event_year",j).order("archived_at",{ascending:!1});if(T)throw T;return{data:E,error:null}}catch(E){return console.error("Error loading archived subscriptions:",E),{data:null,error:E.message}}},_=async j=>{try{const{data:{user:E}}=await pe.auth.getUser(),T=E?.email||"unknown",{data:M,error:P}=await pe.from("event_subscriptions").select("*").eq("event_year",j);if(P)throw P;if(!M||M.length===0)return{data:null,error:"No subscriptions found for source year"};const A=M.map(R=>({company_id:R.company_id,event_year:e,contact:R.contact,phone:R.phone,email:R.email,booth_count:R.booth_count,area:R.area,breakfast_sat:R.breakfast_sat,lunch_sat:R.lunch_sat,bbq_sat:R.bbq_sat,breakfast_sun:R.breakfast_sun,lunch_sun:R.lunch_sun,coins:R.coins,notes:R.notes,created_by:T})),{data:U,error:H}=await pe.from("event_subscriptions").insert(A).select();if(H)throw H;return await d(),{data:U,error:null}}catch(E){return console.error("Error copying subscriptions from previous year:",E),{data:null,error:E.message}}};return k.useEffect(()=>{d()},[d]),k.useEffect(()=>{const j=pe.channel("event-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},()=>{d()}).subscribe();return()=>{pe.removeChannel(j)}},[e,d]),{subscriptions:t,loading:i,error:o,subscribeCompany:f,updateSubscription:g,unsubscribeCompany:y,archiveCurrentYear:v,loadArchivedSubscriptions:w,copyFromPreviousYear:_,reload:d}}function k4({selectedYear:e}){const{t}=_t(),{subscriptions:n,loading:i}=Uc(e),[s,o]=k.useState({markers:null,companies:null,assignments:null}),[u,d]=k.useState(!0);k.useEffect(()=>{async function v(){d(!0);try{const[w,_,j]=await Promise.all([pe.from("Markers_Core").select("id",{count:"exact",head:!0}).gt("id",0),pe.from("companies").select("id",{count:"exact",head:!0}),pe.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",e)]);o({markers:w.count??0,companies:_.count??0,assignments:j.count??0})}catch(w){console.error("Error fetching dashboard counts:",w)}finally{d(!1)}}v()},[e]);const f=k.useMemo(()=>n.reduce((v,w)=>({breakfast_sat:v.breakfast_sat+(w.breakfast_sat||0),lunch_sat:v.lunch_sat+(w.lunch_sat||0),bbq_sat:v.bbq_sat+(w.bbq_sat||0),breakfast_sun:v.breakfast_sun+(w.breakfast_sun||0),lunch_sun:v.lunch_sun+(w.lunch_sun||0),coins:v.coins+(w.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[n]),g=[{label:t("dashboard.totalMarkers"),value:u?"...":s.markers?.toString()??"-",icon:bf,color:"blue"},{label:t("dashboard.companies"),value:u?"...":s.companies?.toString()??"-",icon:fl,color:"green"},{label:`${e} ${t("dashboard.subscriptions")}`,value:i?"...":n.length.toString(),icon:lO,color:"orange"},{label:`${e} ${t("dashboard.assignments")}`,value:u?"...":s.assignments?.toString()??"-",icon:gO,color:"purple"}],y={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:[e," ",t("dashboard.eventTotals"),(i||u)&&h.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:t("common.loading")})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:g.map(v=>h.jsx("div",{className:`p-4 rounded-lg border-2 ${y[v.color]}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:v.icon,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:v.value}),h.jsx("div",{className:"text-sm font-medium mt-1",children:v.label})]})]})},v.label))}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.saturday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:a1,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.breakfast_sat}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.breakfast")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:o1,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.lunch_sat}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.lunch")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:l1,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.bbq_sat}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.bbq")})]})]})})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.sunday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:a1,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.breakfast_sun}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.breakfast")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:o1,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.lunch_sun}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.lunch")})]})]})}),h.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:l1,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:"-"}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.noBBQ")})]})]})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.coins")}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_e,{path:pO,size:1.5}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold",children:f.coins}),h.jsx("div",{className:"text-sm font-medium",children:t("dashboard.totalCoins")})]})]})})})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("dashboard.quickActions")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(hl,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.addNewCompany")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.addNewCompanyDesc")})]}),h.jsxs(hl,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.manageSubscriptions")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.manageSubscriptionsDesc")})]}),h.jsxs(hl,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[h.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.assignBooths")}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.assignBoothsDesc")})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("dashboard.recentActivity")}),h.jsx("p",{className:"text-gray-600",children:t("dashboard.recentActivityPlaceholder")})]})]})}function hv({requiredRole:e,children:t,message:n}){const{role:i,loading:s,hasRole:o,hasAnyRole:u}=ro();return s?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(Array.isArray(e)?u(e):o(e))?h.jsx(h.Fragment,{children:t}):h.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg border-2 border-gray-200",children:[h.jsx(_e,{path:MO,size:3,className:"text-gray-400 mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Access Restricted"}),h.jsx("p",{className:"text-gray-600 text-center max-w-md",children:n||"You do not have permission to view this section. Contact your administrator if you need access."}),i&&h.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Your role: ",h.jsx("span",{className:"font-semibold",children:i.replace("_"," ")})]})]})}hv.propTypes={requiredRole:Me.oneOfType([Me.string,Me.arrayOf(Me.string)]).isRequired,children:Me.node.isRequired,message:Me.string};hv.defaultProps={message:null};function Sl(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=El();return e.startsWith("/assets/icons/")?`${t}${e.slice(1)}`:e.startsWith("icons/")?`${t}assets/icons/${e.slice(6)}`:`${t}assets/icons/${e}`}const T4=["glyph-marker-icon-black.svg","glyph-marker-icon-blue.svg","glyph-marker-icon-gray.svg","glyph-marker-icon-green.svg","glyph-marker-icon-orange.svg","glyph-marker-icon-purple.svg","glyph-marker-icon-red.svg","glyph-marker-icon-yellow.svg"];function VC(e,t){const n=k.useRef(t);k.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const L4=1;function N4(e){return Object.freeze({__version:L4,map:e})}function A4(e,t){return Object.freeze({...e,...t})}const fv=k.createContext(null);function jf(){const e=k.use(fv);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function UC(e){function t(n,i){const{instance:s,context:o}=e(n).current;k.useImperativeHandle(i,()=>s);const{children:u}=n;return u==null?null:vi.createElement(fv,{value:o},u)}return k.forwardRef(t)}function M4(e){function t(n,i){const[s,o]=k.useState(!1),{instance:u}=e(n,o).current;k.useImperativeHandle(i,()=>u),k.useEffect(function(){s&&u.update()},[u,s,n.children]);const d=u._contentNode;return d?O2.createPortal(n.children,d):null}return k.forwardRef(t)}function O4(e){function t(n,i){const{instance:s}=e(n).current;return k.useImperativeHandle(i,()=>s),null}return k.forwardRef(t)}function mv(e,t){const n=k.useRef(void 0);k.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Ef(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function P4(e,t){return function(i,s){const o=jf(),u=e(Ef(i,o),o);return VC(o.map,i.attribution),mv(u.current,i.eventHandlers),t(u.current,o,i,s),u}}var ec={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var R4=ec.exports,Y1;function pv(){return Y1||(Y1=1,(function(e,t){(function(n,i){i(t)})(R4,(function(n){var i="1.9.4";function s(l){var m,b,C,N;for(b=1,C=arguments.length;b<C;b++){N=arguments[b];for(m in N)l[m]=N[m]}return l}var o=Object.create||(function(){function l(){}return function(m){return l.prototype=m,new l}})();function u(l,m){var b=Array.prototype.slice;if(l.bind)return l.bind.apply(l,b.call(arguments,1));var C=b.call(arguments,2);return function(){return l.apply(m,C.length?C.concat(b.call(arguments)):arguments)}}var d=0;function f(l){return"_leaflet_id"in l||(l._leaflet_id=++d),l._leaflet_id}function g(l,m,b){var C,N,I,$;return $=function(){C=!1,N&&(I.apply(b,N),N=!1)},I=function(){C?N=arguments:(l.apply(b,arguments),setTimeout($,m),C=!0)},I}function y(l,m,b){var C=m[1],N=m[0],I=C-N;return l===C&&b?l:((l-N)%I+I)%I+N}function v(){return!1}function w(l,m){if(m===!1)return l;var b=Math.pow(10,m===void 0?6:m);return Math.round(l*b)/b}function _(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function j(l){return _(l).split(/\s+/)}function E(l,m){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var b in m)l.options[b]=m[b];return l.options}function T(l,m,b){var C=[];for(var N in l)C.push(encodeURIComponent(b?N.toUpperCase():N)+"="+encodeURIComponent(l[N]));return(!m||m.indexOf("?")===-1?"?":"&")+C.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function P(l,m){return l.replace(M,function(b,C){var N=m[C];if(N===void 0)throw new Error("No value provided for variable "+b);return typeof N=="function"&&(N=N(m)),N})}var A=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function U(l,m){for(var b=0;b<l.length;b++)if(l[b]===m)return b;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var q=0;function J(l){var m=+new Date,b=Math.max(0,16-(m-q));return q=m+b,window.setTimeout(l,b)}var G=window.requestAnimationFrame||R("RequestAnimationFrame")||J,re=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function W(l,m,b){if(b&&G===J)l.call(m);else return G.call(window,u(l,m))}function ee(l){l&&re.call(window,l)}var le={__proto__:null,extend:s,create:o,bind:u,get lastId(){return d},stamp:f,throttle:g,wrapNum:y,falseFn:v,formatNum:w,trim:_,splitWords:j,setOptions:E,getParamString:T,template:P,isArray:A,indexOf:U,emptyImageUrl:H,requestFn:G,cancelFn:re,requestAnimFrame:W,cancelAnimFrame:ee};function Y(){}Y.extend=function(l){var m=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,C=o(b);C.constructor=m,m.prototype=C;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(m[N]=this[N]);return l.statics&&s(m,l.statics),l.includes&&(se(l.includes),s.apply(null,[C].concat(l.includes))),s(C,l),delete C.statics,delete C.includes,C.options&&(C.options=b.options?o(b.options):{},s(C.options,l.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,$=C._initHooks.length;I<$;I++)C._initHooks[I].call(this)}},m},Y.include=function(l){var m=this.prototype.options;return s(this.prototype,l),l.options&&(this.prototype.options=m,this.mergeOptions(l.options)),this},Y.mergeOptions=function(l){return s(this.prototype.options,l),this},Y.addInitHook=function(l){var m=Array.prototype.slice.call(arguments,1),b=typeof l=="function"?l:function(){this[l].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function se(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=A(l)?l:[l];for(var m=0;m<l.length;m++)l[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(l,m,b){if(typeof l=="object")for(var C in l)this._on(C,l[C],m);else{l=j(l);for(var N=0,I=l.length;N<I;N++)this._on(l[N],m,b)}return this},off:function(l,m,b){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var C in l)this._off(C,l[C],m);else{l=j(l);for(var N=arguments.length===1,I=0,$=l.length;I<$;I++)N?this._off(l[I]):this._off(l[I],m,b)}return this},_on:function(l,m,b,C){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(l,m,b)===!1){b===this&&(b=void 0);var N={fn:m,ctx:b};C&&(N.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(N)}},_off:function(l,m,b){var C,N,I;if(this._events&&(C=this._events[l],!!C)){if(arguments.length===1){if(this._firingCount)for(N=0,I=C.length;N<I;N++)C[N].fn=v;delete this._events[l];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var $=this._listens(l,m,b);if($!==!1){var ae=C[$];this._firingCount&&(ae.fn=v,this._events[l]=C=C.slice()),C.splice($,1)}}},fire:function(l,m,b){if(!this.listens(l,b))return this;var C=s({},m,{type:l,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var N=this._events[l];if(N){this._firingCount=this._firingCount+1||1;for(var I=0,$=N.length;I<$;I++){var ae=N[I],he=ae.fn;ae.once&&this.off(l,he,ae.ctx),he.call(ae.ctx||this,C)}this._firingCount--}}return b&&this._propagateEvent(C),this},listens:function(l,m,b,C){typeof l!="string"&&console.warn('"string" type argument expected');var N=m;typeof m!="function"&&(C=!!m,N=void 0,b=void 0);var I=this._events&&this._events[l];if(I&&I.length&&this._listens(l,N,b)!==!1)return!0;if(C){for(var $ in this._eventParents)if(this._eventParents[$].listens(l,m,b,C))return!0}return!1},_listens:function(l,m,b){if(!this._events)return!1;var C=this._events[l]||[];if(!m)return!!C.length;b===this&&(b=void 0);for(var N=0,I=C.length;N<I;N++)if(C[N].fn===m&&C[N].ctx===b)return N;return!1},once:function(l,m,b){if(typeof l=="object")for(var C in l)this._on(C,l[C],m,!0);else{l=j(l);for(var N=0,I=l.length;N<I;N++)this._on(l[N],m,b,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[f(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[f(l)],this},_propagateEvent:function(l){for(var m in this._eventParents)this._eventParents[m].fire(l.type,s({layer:l.target,propagatedFrom:l.target},l),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var Z=Y.extend(F);function ne(l,m,b){this.x=b?Math.round(l):l,this.y=b?Math.round(m):m}var Ce=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(l){return this.clone()._add(D(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(D(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new ne(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new ne(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(l){l=D(l);var m=l.x-this.x,b=l.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(l){return l=D(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=D(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function D(l,m,b){return l instanceof ne?l:A(l)?new ne(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new ne(l.x,l.y):new ne(l,m,b)}function z(l,m){if(l)for(var b=m?[l,m]:l,C=0,N=b.length;C<N;C++)this.extend(b[C])}z.prototype={extend:function(l){var m,b;if(!l)return this;if(l instanceof ne||typeof l[0]=="number"||"x"in l)m=b=D(l);else if(l=X(l),m=l.min,b=l.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(l){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var m,b;return typeof l[0]=="number"||l instanceof ne?l=D(l):l=X(l),l instanceof z?(m=l.min,b=l.max):m=b=l,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(l){l=X(l);var m=this.min,b=this.max,C=l.min,N=l.max,I=N.x>=m.x&&C.x<=b.x,$=N.y>=m.y&&C.y<=b.y;return I&&$},overlaps:function(l){l=X(l);var m=this.min,b=this.max,C=l.min,N=l.max,I=N.x>m.x&&C.x<b.x,$=N.y>m.y&&C.y<b.y;return I&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var m=this.min,b=this.max,C=Math.abs(m.x-b.x)*l,N=Math.abs(m.y-b.y)*l;return X(D(m.x-C,m.y-N),D(b.x+C,b.y+N))},equals:function(l){return l?(l=X(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function X(l,m){return!l||l instanceof z?l:new z(l,m)}function B(l,m){if(l)for(var b=m?[l,m]:l,C=0,N=b.length;C<N;C++)this.extend(b[C])}B.prototype={extend:function(l){var m=this._southWest,b=this._northEast,C,N;if(l instanceof te)C=l,N=l;else if(l instanceof B){if(C=l._southWest,N=l._northEast,!C||!N)return this}else return l?this.extend(oe(l)||ue(l)):this;return!m&&!b?(this._southWest=new te(C.lat,C.lng),this._northEast=new te(N.lat,N.lng)):(m.lat=Math.min(C.lat,m.lat),m.lng=Math.min(C.lng,m.lng),b.lat=Math.max(N.lat,b.lat),b.lng=Math.max(N.lng,b.lng)),this},pad:function(l){var m=this._southWest,b=this._northEast,C=Math.abs(m.lat-b.lat)*l,N=Math.abs(m.lng-b.lng)*l;return new B(new te(m.lat-C,m.lng-N),new te(b.lat+C,b.lng+N))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof te||"lat"in l?l=oe(l):l=ue(l);var m=this._southWest,b=this._northEast,C,N;return l instanceof B?(C=l.getSouthWest(),N=l.getNorthEast()):C=N=l,C.lat>=m.lat&&N.lat<=b.lat&&C.lng>=m.lng&&N.lng<=b.lng},intersects:function(l){l=ue(l);var m=this._southWest,b=this._northEast,C=l.getSouthWest(),N=l.getNorthEast(),I=N.lat>=m.lat&&C.lat<=b.lat,$=N.lng>=m.lng&&C.lng<=b.lng;return I&&$},overlaps:function(l){l=ue(l);var m=this._southWest,b=this._northEast,C=l.getSouthWest(),N=l.getNorthEast(),I=N.lat>m.lat&&C.lat<b.lat,$=N.lng>m.lng&&C.lng<b.lng;return I&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,m){return l?(l=ue(l),this._southWest.equals(l.getSouthWest(),m)&&this._northEast.equals(l.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(l,m){return l instanceof B?l:new B(l,m)}function te(l,m,b){if(isNaN(l)||isNaN(m))throw new Error("Invalid LatLng object: ("+l+", "+m+")");this.lat=+l,this.lng=+m,b!==void 0&&(this.alt=+b)}te.prototype={equals:function(l,m){if(!l)return!1;l=oe(l);var b=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return b<=(m===void 0?1e-9:m)},toString:function(l){return"LatLng("+w(this.lat,l)+", "+w(this.lng,l)+")"},distanceTo:function(l){return Ee.distance(this,oe(l))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(l){var m=180*l/40075017,b=m/Math.cos(Math.PI/180*this.lat);return ue([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function oe(l,m,b){return l instanceof te?l:A(l)&&typeof l[0]!="object"?l.length===3?new te(l[0],l[1],l[2]):l.length===2?new te(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new te(l.lat,"lng"in l?l.lng:l.lon,l.alt):m===void 0?null:new te(l,m,b)}var ye={latLngToPoint:function(l,m){var b=this.projection.project(l),C=this.scale(m);return this.transformation._transform(b,C)},pointToLatLng:function(l,m){var b=this.scale(m),C=this.transformation.untransform(l,b);return this.projection.unproject(C)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(l),C=this.transformation.transform(m.min,b),N=this.transformation.transform(m.max,b);return new z(C,N)},infinite:!1,wrapLatLng:function(l){var m=this.wrapLng?y(l.lng,this.wrapLng,!0):l.lng,b=this.wrapLat?y(l.lat,this.wrapLat,!0):l.lat,C=l.alt;return new te(b,m,C)},wrapLatLngBounds:function(l){var m=l.getCenter(),b=this.wrapLatLng(m),C=m.lat-b.lat,N=m.lng-b.lng;if(C===0&&N===0)return l;var I=l.getSouthWest(),$=l.getNorthEast(),ae=new te(I.lat-C,I.lng-N),he=new te($.lat-C,$.lng-N);return new B(ae,he)}},Ee=s({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(l,m){var b=Math.PI/180,C=l.lat*b,N=m.lat*b,I=Math.sin((m.lat-l.lat)*b/2),$=Math.sin((m.lng-l.lng)*b/2),ae=I*I+Math.cos(C)*Math.cos(N)*$*$,he=2*Math.atan2(Math.sqrt(ae),Math.sqrt(1-ae));return this.R*he}}),Oe=6378137,je={R:Oe,MAX_LATITUDE:85.0511287798,project:function(l){var m=Math.PI/180,b=this.MAX_LATITUDE,C=Math.max(Math.min(b,l.lat),-b),N=Math.sin(C*m);return new ne(this.R*l.lng*m,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(l){var m=180/Math.PI;return new te((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*m,l.x*m/this.R)},bounds:(function(){var l=Oe*Math.PI;return new z([-l,-l],[l,l])})()};function ge(l,m,b,C){if(A(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=m,this._c=b,this._d=C}ge.prototype={transform:function(l,m){return this._transform(l.clone(),m)},_transform:function(l,m){return m=m||1,l.x=m*(this._a*l.x+this._b),l.y=m*(this._c*l.y+this._d),l},untransform:function(l,m){return m=m||1,new ne((l.x/m-this._b)/this._a,(l.y/m-this._d)/this._c)}};function Ae(l,m,b,C){return new ge(l,m,b,C)}var Ne=s({},Ee,{code:"EPSG:3857",projection:je,transformation:(function(){var l=.5/(Math.PI*je.R);return Ae(l,.5,-l,.5)})()}),Ie=s({},Ne,{code:"EPSG:900913"});function Tt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function He(l,m){var b="",C,N,I,$,ae,he;for(C=0,I=l.length;C<I;C++){for(ae=l[C],N=0,$=ae.length;N<$;N++)he=ae[N],b+=(N?"L":"M")+he.x+" "+he.y;b+=m?ze.svg?"z":"x":""}return b||"M0 0"}var Cn=document.documentElement.style,Pn="ActiveXObject"in window,bi=Pn&&!document.addEventListener,Tr="msLaunchUri"in navigator&&!("documentMode"in document),Lr=Un("webkit"),ao=Un("android"),oo=Un("android 2")||Un("android 3"),yn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Il=ao&&Un("Google")&&yn<537&&!("AudioNode"in window),be=!!window.opera,Te=!Tr&&Un("chrome"),Fe=Un("gecko")&&!Lr&&!be&&!Pn,nt=!Te&&Un("safari"),ct=Un("phantom"),jn="OTransition"in Cn,zi=navigator.platform.indexOf("Win")===0,hn=Pn&&"transition"in Cn,Bt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oo,vn="MozPerspective"in Cn,vt=!window.L_DISABLE_3D&&(hn||Bt||vn)&&!jn&&!ct,Vn=typeof orientation<"u"||Un("mobile"),ii=Vn&&Lr,Df=Vn&&Bt,ta=!window.PointerEvent&&window.MSPointerEvent,na=!!(window.PointerEvent||ta),ia="ontouchstart"in window||!!window.TouchEvent,Nr=!window.L_NO_TOUCH&&(ia||na),lo=Vn&&be,ra=Vn&&Fe,zf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zc=(function(){var l=!1;try{var m=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return l})(),Vl=(function(){return!!document.createElement("canvas").getContext})(),Ar=!!(document.createElementNS&&Tt("svg").createSVGRect),Bf=!!Ar&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Gc=!Ar&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var m=l.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Kc=navigator.platform.indexOf("Mac")===0,Wc=navigator.platform.indexOf("Linux")===0;function Un(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var ze={ie:Pn,ielt9:bi,edge:Tr,webkit:Lr,android:ao,android23:oo,androidStock:Il,opera:be,chrome:Te,gecko:Fe,safari:nt,phantom:ct,opera12:jn,win:zi,ie3d:hn,webkit3d:Bt,gecko3d:vn,any3d:vt,mobile:Vn,mobileWebkit:ii,mobileWebkit3d:Df,msPointer:ta,pointer:na,touch:Nr,touchNative:ia,mobileOpera:lo,mobileGecko:ra,retina:zf,passiveEvents:Zc,canvas:Vl,svg:Ar,vml:Gc,inlineSvg:Bf,mac:Kc,linux:Wc},Ul=ze.msPointer?"MSPointerDown":"pointerdown",Hl=ze.msPointer?"MSPointerMove":"pointermove",Bi=ze.msPointer?"MSPointerUp":"pointerup",Xt=ze.msPointer?"MSPointerCancel":"pointercancel",fn={touchstart:Ul,touchmove:Hl,touchend:Bi,touchcancel:Xt},Mr={touchstart:as,touchmove:rr,touchend:rr,touchcancel:rr},ir={},Yc=!1;function If(l,m,b){return m==="touchstart"&&ss(),Mr[m]?(b=Mr[m].bind(this,b),l.addEventListener(fn[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function Xc(l,m,b){if(!fn[m]){console.warn("wrong event specified:",m);return}l.removeEventListener(fn[m],b,!1)}function sa(l){ir[l.pointerId]=l}function Fl(l){ir[l.pointerId]&&(ir[l.pointerId]=l)}function Or(l){delete ir[l.pointerId]}function ss(){Yc||(document.addEventListener(Ul,sa,!0),document.addEventListener(Hl,Fl,!0),document.addEventListener(Bi,Or,!0),document.addEventListener(Xt,Or,!0),Yc=!0)}function rr(l,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in ir)m.touches.push(ir[b]);m.changedTouches=[m],l(m)}}function as(l,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Ft(m),rr(l,m)}function Qt(l){var m={},b,C;for(C in l)b=l[C],m[C]=b&&b.bind?b.bind(l):b;return l=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Qc=200;function Jc(l,m){l.addEventListener("dblclick",m);var b=0,C;function N(I){if(I.detail!==1){C=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var $=ha(I);if(!($.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!$.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var ae=Date.now();ae-b<=Qc?(C++,C===2&&m(Qt(I))):C=1,b=ae}}}return l.addEventListener("click",N),{dblclick:m,simDblclick:N}}function Pr(l,m){l.removeEventListener("dblclick",m.dblclick),l.removeEventListener("click",m.simDblclick)}var sr=la(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),aa=la(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ql=aa==="webkitTransition"||aa==="OTransition"?aa+"End":"transitionend";function $l(l){return typeof l=="string"?document.getElementById(l):l}function oa(l,m){var b=l.style[m]||l.currentStyle&&l.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(l,null);b=C?C[m]:null}return b==="auto"?null:b}function it(l,m,b){var C=document.createElement(l);return C.className=m||"",b&&b.appendChild(C),C}function wt(l){var m=l.parentNode;m&&m.removeChild(l)}function Hn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function on(l){var m=l.parentNode;m&&m.lastChild!==l&&m.appendChild(l)}function Rr(l){var m=l.parentNode;m&&m.firstChild!==l&&m.insertBefore(l,m.firstChild)}function Zl(l,m){if(l.classList!==void 0)return l.classList.contains(m);var b=uo(l);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function We(l,m){if(l.classList!==void 0)for(var b=j(m),C=0,N=b.length;C<N;C++)l.classList.add(b[C]);else if(!Zl(l,m)){var I=uo(l);os(l,(I?I+" ":"")+m)}}function Pt(l,m){l.classList!==void 0?l.classList.remove(m):os(l,_((" "+uo(l)+" ").replace(" "+m+" "," ")))}function os(l,m){l.className.baseVal===void 0?l.className=m:l.className.baseVal=m}function uo(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Mt(l,m){"opacity"in l.style?l.style.opacity=m:"filter"in l.style&&Gl(l,m)}function Gl(l,m){var b=!1,C="DXImageTransform.Microsoft.Alpha";try{b=l.filters.item(C)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):l.style.filter+=" progid:"+C+"(opacity="+m+")"}function la(l){for(var m=document.documentElement.style,b=0;b<l.length;b++)if(l[b]in m)return l[b];return!1}function Ii(l,m,b){var C=m||new ne(0,0);l.style[sr]=(ze.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(b?" scale("+b+")":"")}function Et(l,m){l._leaflet_pos=m,ze.any3d?Ii(l,m):(l.style.left=m.x+"px",l.style.top=m.y+"px")}function ar(l){return l._leaflet_pos||new ne(0,0)}var ls,xi,Kl;if("onselectstart"in document)ls=function(){$e(window,"selectstart",Ft)},xi=function(){yt(window,"selectstart",Ft)};else{var us=la(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ls=function(){if(us){var l=document.documentElement.style;Kl=l[us],l[us]="none"}},xi=function(){us&&(document.documentElement.style[us]=Kl,Kl=void 0)}}function co(){$e(window,"dragstart",Ft)}function ua(){yt(window,"dragstart",Ft)}var ho,Wl;function cs(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Fn(),ho=l,Wl=l.style.outlineStyle,l.style.outlineStyle="none",$e(window,"keydown",Fn))}function Fn(){ho&&(ho.style.outlineStyle=Wl,ho=void 0,Wl=void 0,yt(window,"keydown",Fn))}function fo(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function ca(l){var m=l.getBoundingClientRect();return{x:m.width/l.offsetWidth||1,y:m.height/l.offsetHeight||1,boundingClientRect:m}}var ds={__proto__:null,TRANSFORM:sr,TRANSITION:aa,TRANSITION_END:ql,get:$l,getStyle:oa,create:it,remove:wt,empty:Hn,toFront:on,toBack:Rr,hasClass:Zl,addClass:We,removeClass:Pt,setClass:os,getClass:uo,setOpacity:Mt,testProp:la,setTransform:Ii,setPosition:Et,getPosition:ar,get disableTextSelection(){return ls},get enableTextSelection(){return xi},disableImageDrag:co,enableImageDrag:ua,preventOutline:cs,restoreOutline:Fn,getSizedParentNode:fo,getScale:ca};function $e(l,m,b,C){if(m&&typeof m=="object")for(var N in m)si(l,N,m[N],b);else{m=j(m);for(var I=0,$=m.length;I<$;I++)si(l,m[I],b,C)}return this}var ri="_leaflet_events";function yt(l,m,b,C){if(arguments.length===1)Yl(l),delete l[ri];else if(m&&typeof m=="object")for(var N in m)da(l,N,m[N],b);else if(m=j(m),arguments.length===2)Yl(l,function(ae){return U(m,ae)!==-1});else for(var I=0,$=m.length;I<$;I++)da(l,m[I],b,C);return this}function Yl(l,m){for(var b in l[ri]){var C=b.split(/\d/)[0];(!m||m(C))&&da(l,C,null,null,b)}}var Dr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function si(l,m,b,C){var N=m+f(b)+(C?"_"+f(C):"");if(l[ri]&&l[ri][N])return this;var I=function(ae){return b.call(C||l,ae||window.event)},$=I;!ze.touchNative&&ze.pointer&&m.indexOf("touch")===0?I=If(l,m,I):ze.touch&&m==="dblclick"?I=Jc(l,I):"addEventListener"in l?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?l.addEventListener(Dr[m]||m,I,ze.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(I=function(ae){ae=ae||window.event,Vi(l,ae)&&$(ae)},l.addEventListener(Dr[m],I,!1)):l.addEventListener(m,$,!1):l.attachEvent("on"+m,I),l[ri]=l[ri]||{},l[ri][N]=I}function da(l,m,b,C,N){N=N||m+f(b)+(C?"_"+f(C):"");var I=l[ri]&&l[ri][N];if(!I)return this;!ze.touchNative&&ze.pointer&&m.indexOf("touch")===0?Xc(l,m,I):ze.touch&&m==="dblclick"?Pr(l,I):"removeEventListener"in l?l.removeEventListener(Dr[m]||m,I,!1):l.detachEvent("on"+m,I),l[ri][N]=null}function ai(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function _i(l){return si(l,"wheel",ai),this}function zr(l){return $e(l,"mousedown touchstart dblclick contextmenu",ai),l._leaflet_disable_click=!0,this}function Ft(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function or(l){return Ft(l),ai(l),this}function ha(l){if(l.composedPath)return l.composedPath();for(var m=[],b=l.target;b;)m.push(b),b=b.parentNode;return m}function fa(l,m){if(!m)return new ne(l.clientX,l.clientY);var b=ca(m),C=b.boundingClientRect;return new ne((l.clientX-C.left)/b.x-m.clientLeft,(l.clientY-C.top)/b.y-m.clientTop)}var ed=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bn(l){return ze.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/ed:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Vi(l,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==l;)b=b.parentNode}catch{return!1}return b!==l}var mo={__proto__:null,on:$e,off:yt,stopPropagation:ai,disableScrollPropagation:_i,disableClickPropagation:zr,preventDefault:Ft,stop:or,getPropagationPath:ha,getMousePosition:fa,getWheelDelta:bn,isExternalTarget:Vi,addListener:$e,removeListener:yt},hs=Z.extend({run:function(l,m,b,C){this.stop(),this._el=l,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=ar(l),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(l){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),l):(this._runFrame(1),this._complete())},_runFrame:function(l,m){var b=this._startPos.add(this._offset.multiplyBy(l));m&&b._round(),Et(this._el,b),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),ot=Z.extend({options:{crs:Ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,m){m=E(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(oe(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=aa&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,ql,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),l=this._limitCenter(oe(l),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=s({animate:b.animate},b.zoom),b.pan=s({animate:b.animate,duration:b.duration},b.pan));var C=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,m,b.zoom):this._tryAnimatedPan(l,b.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(l,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(l,m){return this._loaded?this.setView(this.getCenter(),l,{zoom:m}):(this._zoom=l,this)},zoomIn:function(l,m){return l=l||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,m)},zoomOut:function(l,m){return l=l||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,m)},setZoomAround:function(l,m,b){var C=this.getZoomScale(m),N=this.getSize().divideBy(2),I=l instanceof ne?l:this.latLngToContainerPoint(l),$=I.subtract(N).multiplyBy(1-1/C),ae=this.containerPointToLatLng(N.add($));return this.setView(ae,m,{zoom:b})},_getBoundsCenterZoom:function(l,m){m=m||{},l=l.getBounds?l.getBounds():ue(l);var b=D(m.paddingTopLeft||m.padding||[0,0]),C=D(m.paddingBottomRight||m.padding||[0,0]),N=this.getBoundsZoom(l,!1,b.add(C));if(N=typeof m.maxZoom=="number"?Math.min(m.maxZoom,N):N,N===1/0)return{center:l.getCenter(),zoom:N};var I=C.subtract(b).divideBy(2),$=this.project(l.getSouthWest(),N),ae=this.project(l.getNorthEast(),N),he=this.unproject($.add(ae).divideBy(2).add(I),N);return{center:he,zoom:N}},fitBounds:function(l,m){if(l=ue(l),!l.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(l,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,m){return this.setView(l,this._zoom,{pan:m})},panBy:function(l,m){if(l=D(l).round(),m=m||{},!l.x&&!l.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){We(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,m,b){if(b=b||{},b.animate===!1||!ze.any3d)return this.setView(l,m,b);this._stop();var C=this.project(this.getCenter()),N=this.project(l),I=this.getSize(),$=this._zoom;l=oe(l),m=m===void 0?$:m;var ae=Math.max(I.x,I.y),he=ae*this.getZoomScale($,m),we=N.distanceTo(C)||1,Le=1.42,Be=Le*Le;function Je(It){var qi=It?-1:1,Ur=It?he:ae,du=he*he-ae*ae+qi*Be*Be*we*we,La=2*Ur*Be*we,Na=du/La,gr=Math.sqrt(Na*Na+1)-Na,$i=gr<1e-9?-18:Math.log(gr);return $i}function ln(It){return(Math.exp(It)-Math.exp(-It))/2}function qt(It){return(Math.exp(It)+Math.exp(-It))/2}function Dn(It){return ln(It)/qt(It)}var dt=Je(0);function ht(It){return ae*(qt(dt)/qt(dt+Le*It))}function rt(It){return ae*(qt(dt)*Dn(dt+Le*It)-ln(dt))/Be}function mr(It){return 1-Math.pow(1-It,1.5)}var Gn=Date.now(),To=(Je(1)-dt)/Le,pr=b.duration?1e3*b.duration:1e3*To*.8;function cu(){var It=(Date.now()-Gn)/pr,qi=mr(It)*To;It<=1?(this._flyToFrame=W(cu,this),this._move(this.unproject(C.add(N.subtract(C).multiplyBy(rt(qi)/we)),$),this.getScaleZoom(ae/ht(qi),$),{flyTo:!0})):this._move(l,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),cu.call(this),this},flyToBounds:function(l,m){var b=this._getBoundsCenterZoom(l,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(l){return l=ue(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var m=this.options.minZoom;return this.options.minZoom=l,this._loaded&&m!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var m=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&m!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,m){this._enforcingBounds=!0;var b=this.getCenter(),C=this._limitCenter(b,this._zoom,ue(l));return b.equals(C)||this.panTo(C,m),this._enforcingBounds=!1,this},panInside:function(l,m){m=m||{};var b=D(m.paddingTopLeft||m.padding||[0,0]),C=D(m.paddingBottomRight||m.padding||[0,0]),N=this.project(this.getCenter()),I=this.project(l),$=this.getPixelBounds(),ae=X([$.min.add(b),$.max.subtract(C)]),he=ae.getSize();if(!ae.contains(I)){this._enforcingBounds=!0;var we=I.subtract(ae.getCenter()),Le=ae.extend(I).getSize().subtract(he);N.x+=we.x<0?-Le.x:Le.x,N.y+=we.y<0?-Le.y:Le.y,this.panTo(this.unproject(N),m),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=s({animate:!1,pan:!0},l===!0?{animate:!0}:l);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),C=m.divideBy(2).round(),N=b.divideBy(2).round(),I=C.subtract(N);return!I.x&&!I.y?this:(l.animate&&l.pan?this.panBy(I):(l.pan&&this._rawPanBy(I),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=s({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=u(this._handleGeolocationResponse,this),b=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,l):navigator.geolocation.getCurrentPosition(m,b,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var m=l.code,b=l.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var m=l.coords.latitude,b=l.coords.longitude,C=new te(m,b),N=C.toBounds(l.coords.accuracy*2),I=this._locateOptions;if(I.setView){var $=this.getBoundsZoom(N);this.setView(C,I.maxZoom?Math.min($,I.maxZoom):$)}var ae={latlng:C,bounds:N,timestamp:l.timestamp};for(var he in l.coords)typeof l.coords[he]=="number"&&(ae[he]=l.coords[he]);this.fire("locationfound",ae)}},addHandler:function(l,m){if(!m)return this;var b=this[l]=new m(this);return this._handlers.push(b),this.options[l]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)wt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,m){var b="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),C=it("div",b,m||this._mapPane);return l&&(this._panes[l]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),m=this.unproject(l.getBottomLeft()),b=this.unproject(l.getTopRight());return new B(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,m,b){l=ue(l),b=D(b||[0,0]);var C=this.getZoom()||0,N=this.getMinZoom(),I=this.getMaxZoom(),$=l.getNorthWest(),ae=l.getSouthEast(),he=this.getSize().subtract(b),we=X(this.project(ae,C),this.project($,C)).getSize(),Le=ze.any3d?this.options.zoomSnap:1,Be=he.x/we.x,Je=he.y/we.y,ln=m?Math.max(Be,Je):Math.min(Be,Je);return C=this.getScaleZoom(ln,C),Le&&(C=Math.round(C/(Le/100))*(Le/100),C=m?Math.ceil(C/Le)*Le:Math.floor(C/Le)*Le),Math.max(N,Math.min(I,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,m){var b=this._getTopLeftPoint(l,m);return new z(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(l)/b.scale(m)},getScaleZoom:function(l,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var C=b.zoom(l*b.scale(m));return isNaN(C)?1/0:C},project:function(l,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(oe(l),m)},unproject:function(l,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(D(l),m)},layerPointToLatLng:function(l){var m=D(l).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(l){var m=this.project(oe(l))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(oe(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(ue(l))},distance:function(l,m){return this.options.crs.distance(oe(l),oe(m))},containerPointToLayerPoint:function(l){return D(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return D(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var m=this.containerPointToLayerPoint(D(l));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(l)))},mouseEventToContainerPoint:function(l){return fa(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var m=this._container=$l(l);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(m,"scroll",this._onScroll,this),this._containerId=f(m)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,We(l,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=oa(l,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(We(l.markerPane,"leaflet-zoom-hide"),We(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,m,b){Et(this._mapPane,new ne(0,0));var C=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var N=this._zoom!==m;this._moveStart(N,b)._move(l,m)._moveEnd(N),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(l,m){return l&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(l,m,b,C){m===void 0&&(m=this._zoom);var N=this._zoom!==m;return this._zoom=m,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),C?b&&b.pinch&&this.fire("zoom",b):((N||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Et(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[f(this._container)]=this;var m=l?yt:$e;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,m){for(var b=[],C,N=m==="mouseout"||m==="mouseover",I=l.target||l.srcElement,$=!1;I;){if(C=this._targets[f(I)],C&&(m==="click"||m==="preclick")&&this._draggableMoved(C)){$=!0;break}if(C&&C.listens(m,!0)&&(N&&!Vi(I,l)||(b.push(C),N))||I===this._container)break;I=I.parentNode}return!b.length&&!$&&!N&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var m=l.target||l.srcElement;if(!(!this._loaded||m._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(m))){var b=l.type;b==="mousedown"&&cs(m),this._fireDOMEvent(l,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,m,b){if(l.type==="click"){var C=s({},l);C.type="preclick",this._fireDOMEvent(C,C.type,b)}var N=this._findEventTargets(l,m);if(b){for(var I=[],$=0;$<b.length;$++)b[$].listens(m,!0)&&I.push(b[$]);N=I.concat(N)}if(N.length){m==="contextmenu"&&Ft(l);var ae=N[0],he={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var we=ae.getLatLng&&(!ae._radius||ae._radius<=10);he.containerPoint=we?this.latLngToContainerPoint(ae.getLatLng()):this.mouseEventToContainerPoint(l),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=we?ae.getLatLng():this.layerPointToLatLng(he.layerPoint)}for($=0;$<N.length;$++)if(N[$].fire(m,he,!0),he.originalEvent._stopped||N[$].options.bubblingMouseEvents===!1&&U(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,m=this._handlers.length;l<m;l++)this._handlers[l].disable()},whenReady:function(l,m){return this._loaded?l.call(m||this,{target:this}):this.on("load",l,m),this},_getMapPanePos:function(){return ar(this._mapPane)||new ne(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,m){var b=l&&m!==void 0?this._getNewPixelOrigin(l,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,m){var b=this.getSize()._divideBy(2);return this.project(l,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,m,b){var C=this._getNewPixelOrigin(b,m);return this.project(l,m)._subtract(C)},_latLngBoundsToNewLayerBounds:function(l,m,b){var C=this._getNewPixelOrigin(b,m);return X([this.project(l.getSouthWest(),m)._subtract(C),this.project(l.getNorthWest(),m)._subtract(C),this.project(l.getSouthEast(),m)._subtract(C),this.project(l.getNorthEast(),m)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,m,b){if(!b)return l;var C=this.project(l,m),N=this.getSize().divideBy(2),I=new z(C.subtract(N),C.add(N)),$=this._getBoundsOffset(I,b,m);return Math.abs($.x)<=1&&Math.abs($.y)<=1?l:this.unproject(C.add($),m)},_limitOffset:function(l,m){if(!m)return l;var b=this.getPixelBounds(),C=new z(b.min.add(l),b.max.add(l));return l.add(this._getBoundsOffset(C,m))},_getBoundsOffset:function(l,m,b){var C=X(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),N=C.min.subtract(l.min),I=C.max.subtract(l.max),$=this._rebound(N.x,-I.x),ae=this._rebound(N.y,-I.y);return new ne($,ae)},_rebound:function(l,m){return l+m>0?Math.round(l-m)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(m))},_limitZoom:function(l){var m=this.getMinZoom(),b=this.getMaxZoom(),C=ze.any3d?this.options.zoomSnap:1;return C&&(l=Math.round(l/C)*C),Math.max(m,Math.min(b,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,m){var b=this._getCenterOffset(l)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var l=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(m){var b=sr,C=this._proxy.style[b];Ii(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),C===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),m=this.getZoom();Ii(this._proxy,this.project(l,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(m),N=this._getCenterOffset(l)._divideBy(1-1/C);return b.animate!==!0&&!this.getSize().contains(N)?!1:(W(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(l,m,!0)},this),!0)},_animateZoom:function(l,m,b,C){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=m,We(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:m,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xl(l,m){return new ot(l,m)}var Rn=Y.extend({options:{position:"topright"},initialize:function(l){E(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var m=this._map;return m&&m.removeControl(this),this.options.position=l,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var m=this._container=this.onAdd(l),b=this.getPosition(),C=l._controlCorners[b];return We(m,"leaflet-control"),b.indexOf("bottom")!==-1?C.insertBefore(m,C.firstChild):C.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Ui=function(l){return new Rn(l)};ot.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},m="leaflet-",b=this._controlContainer=it("div",m+"control-container",this._container);function C(N,I){var $=m+N+" "+m+I;l[N+I]=it("div",$,b)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)wt(this._controlCorners[l]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ma=Rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,m,b,C){return b<C?-1:C<b?1:0}},initialize:function(l,m,b){E(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in l)this._addLayer(l[C],C);for(C in m)this._addLayer(m[C],C,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Rn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,m){return this._addLayer(l,m),this._map?this._update():this},addOverlay:function(l,m){return this._addLayer(l,m,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var m=this._getLayer(f(l));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){We(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(We(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",m=this._container=it("div",l),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),zr(m),_i(m);var C=this._section=it("section",l+"-list");b&&(this._map.on("click",this.collapse,this),$e(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=it("a",l+"-toggle",m);N.href="#",N.title="Layers",N.setAttribute("role","button"),$e(N,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ft(I),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=it("div",l+"-base",C),this._separator=it("div",l+"-separator",C),this._overlaysList=it("div",l+"-overlays",C),m.appendChild(C)},_getLayer:function(l){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&f(this._layers[m].layer)===l)return this._layers[m]},_addLayer:function(l,m,b){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(u(function(C,N){return this.options.sortFunction(C.layer,N.layer,C.name,N.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hn(this._baseLayersList),Hn(this._overlaysList),this._layerControlInputs=[];var l,m,b,C,N=0;for(b=0;b<this._layers.length;b++)C=this._layers[b],this._addItem(C),m=m||C.overlay,l=l||!C.overlay,N+=C.overlay?0:1;return this.options.hideSingleBase&&(l=l&&N>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=m&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var m=this._getLayer(f(l.target)),b=m.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(l,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(m?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=b,C.firstChild},_addItem:function(l){var m=document.createElement("label"),b=this._map.hasLayer(l.layer),C;l.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=b):C=this._createRadioElement("leaflet-base-layers_"+f(this),b),this._layerControlInputs.push(C),C.layerId=f(l.layer),$e(C,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+l.name;var I=document.createElement("span");m.appendChild(I),I.appendChild(C),I.appendChild(N);var $=l.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,m,b,C=[],N=[];this._handlingClick=!0;for(var I=l.length-1;I>=0;I--)m=l[I],b=this._getLayer(m.layerId).layer,m.checked?C.push(b):m.checked||N.push(b);for(I=0;I<N.length;I++)this._map.hasLayer(N[I])&&this._map.removeLayer(N[I]);for(I=0;I<C.length;I++)this._map.hasLayer(C[I])||this._map.addLayer(C[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,m,b,C=this._map.getZoom(),N=l.length-1;N>=0;N--)m=l[N],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&C<b.options.minZoom||b.options.maxZoom!==void 0&&C>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,$e(l,"click",Ft),this.expand();var m=this;setTimeout(function(){yt(l,"click",Ft),m._preventClick=!1})}}),td=function(l,m,b){return new ma(l,m,b)},Ql=Rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var m="leaflet-control-zoom",b=it("div",m+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,m,b,C,N){var I=it("a",b,C);return I.innerHTML=l,I.href="#",I.title=m,I.setAttribute("role","button"),I.setAttribute("aria-label",m),zr(I),$e(I,"click",or),$e(I,"click",N,this),$e(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var l=this._map,m="leaflet-disabled";Pt(this._zoomInButton,m),Pt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(We(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(We(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ql,this.addControl(this.zoomControl))});var Vf=function(l){return new Ql(l)},nd=Rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var m="leaflet-control-scale",b=it("div",m),C=this.options;return this._addScales(C,m+"-line",b),l.on(C.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),b},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,m,b){l.metric&&(this._mScale=it("div",m,b)),l.imperial&&(this._iScale=it("div",m,b))},_update:function(){var l=this._map,m=l.getSize().y/2,b=l.distance(l.containerPointToLatLng([0,m]),l.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var m=this._getRoundNum(l),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/l)},_updateImperial:function(l){var m=l*3.2808399,b,C,N;m>5280?(b=m/5280,C=this._getRoundNum(b),this._updateScale(this._iScale,C+" mi",C/b)):(N=this._getRoundNum(m),this._updateScale(this._iScale,N+" ft",N/m))},_updateScale:function(l,m,b){l.style.width=Math.round(this.options.maxWidth*b)+"px",l.innerHTML=m},_getRoundNum:function(l){var m=Math.pow(10,(Math.floor(l)+"").length-1),b=l/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),Jl=function(l){return new nd(l)},Uf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',eu=Rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?Uf+" ":"")+"Leaflet</a>"},initialize:function(l){E(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=it("div","leaflet-control-attribution"),zr(this._container);for(var m in l._layers)l._layers[m].getAttribution&&this.addAttribution(l._layers[m].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var m in this._attributions)this._attributions[m]&&l.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),l.length&&b.push(l.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new eu().addTo(this)});var Hf=function(l){return new eu(l)};Rn.Layers=ma,Rn.Zoom=Ql,Rn.Scale=nd,Rn.Attribution=eu,Ui.layers=td,Ui.zoom=Vf,Ui.scale=Jl,Ui.attribution=Hf;var wi=Y.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});wi.addTo=function(l,m){return l.addHandler(m,this),this};var Ff={Events:F},tu=ze.touch?"touchstart mousedown":"mousedown",lr=Z.extend({options:{clickTolerance:3},initialize:function(l,m,b,C){E(this,C),this._element=l,this._dragStartTarget=m||l,this._preventOutline=b},enable:function(){this._enabled||($e(this._dragStartTarget,tu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lr._dragging===this&&this.finishDrag(!0),yt(this._dragStartTarget,tu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Zl(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){lr._dragging===this&&this.finishDrag();return}if(!(lr._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(lr._dragging=this,this._preventOutline&&cs(this._element),co(),ls(),!this._moving)){this.fire("down");var m=l.touches?l.touches[0]:l,b=fo(this._element);this._startPoint=new ne(m.clientX,m.clientY),this._startPos=ar(this._element),this._parentScale=ca(b);var C=l.type==="mousedown";$e(document,C?"mousemove":"touchmove",this._onMove,this),$e(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var m=l.touches&&l.touches.length===1?l.touches[0]:l,b=new ne(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Ft(l),this._moved||(this.fire("dragstart"),this._moved=!0,We(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),We(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Et(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yt(document,"mousemove touchmove",this._onMove,this),yt(document,"mouseup touchend touchcancel",this._onUp,this),ua(),xi();var m=this._moved&&this._moving;this._moving=!1,lr._dragging=!1,m&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function id(l,m,b){var C,N=[1,4,2,8],I,$,ae,he,we,Le,Be,Je;for(I=0,Le=l.length;I<Le;I++)l[I]._code=Br(l[I],m);for(ae=0;ae<4;ae++){for(Be=N[ae],C=[],I=0,Le=l.length,$=Le-1;I<Le;$=I++)he=l[I],we=l[$],he._code&Be?we._code&Be||(Je=po(we,he,Be,m,b),Je._code=Br(Je,m),C.push(Je)):(we._code&Be&&(Je=po(we,he,Be,m,b),Je._code=Br(Je,m),C.push(Je)),C.push(he));l=C}return l}function rd(l,m){var b,C,N,I,$,ae,he,we,Le;if(!l||l.length===0)throw new Error("latlngs not passed");qn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Be=oe([0,0]),Je=ue(l),ln=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());ln<1700&&(Be=nu(l));var qt=l.length,Dn=[];for(b=0;b<qt;b++){var dt=oe(l[b]);Dn.push(m.project(oe([dt.lat-Be.lat,dt.lng-Be.lng])))}for(ae=he=we=0,b=0,C=qt-1;b<qt;C=b++)N=Dn[b],I=Dn[C],$=N.y*I.x-I.y*N.x,he+=(N.x+I.x)*$,we+=(N.y+I.y)*$,ae+=$*3;ae===0?Le=Dn[0]:Le=[he/ae,we/ae];var ht=m.unproject(D(Le));return oe([ht.lat+Be.lat,ht.lng+Be.lng])}function nu(l){for(var m=0,b=0,C=0,N=0;N<l.length;N++){var I=oe(l[N]);m+=I.lat,b+=I.lng,C++}return oe([m/C,b/C])}var iu={__proto__:null,clipPolygon:id,polygonCenter:rd,centroid:nu};function sd(l,m){if(!m||!l.length)return l.slice();var b=m*m;return l=$f(l,b),l=od(l,b),l}function ad(l,m,b){return Math.sqrt(pa(l,m,b,!0))}function qf(l,m,b){return pa(l,m,b)}function od(l,m){var b=l.length,C=typeof Uint8Array<"u"?Uint8Array:Array,N=new C(b);N[0]=N[b-1]=1,ru(l,N,m,0,b-1);var I,$=[];for(I=0;I<b;I++)N[I]&&$.push(l[I]);return $}function ru(l,m,b,C,N){var I=0,$,ae,he;for(ae=C+1;ae<=N-1;ae++)he=pa(l[ae],l[C],l[N],!0),he>I&&($=ae,I=he);I>b&&(m[$]=1,ru(l,m,b,C,$),ru(l,m,b,$,N))}function $f(l,m){for(var b=[l[0]],C=1,N=0,I=l.length;C<I;C++)Zf(l[C],l[N])>m&&(b.push(l[C]),N=C);return N<I-1&&b.push(l[I-1]),b}var ld;function ud(l,m,b,C,N){var I=C?ld:Br(l,b),$=Br(m,b),ae,he,we;for(ld=$;;){if(!(I|$))return[l,m];if(I&$)return!1;ae=I||$,he=po(l,m,ae,b,N),we=Br(he,b),ae===I?(l=he,I=we):(m=he,$=we)}}function po(l,m,b,C,N){var I=m.x-l.x,$=m.y-l.y,ae=C.min,he=C.max,we,Le;return b&8?(we=l.x+I*(he.y-l.y)/$,Le=he.y):b&4?(we=l.x+I*(ae.y-l.y)/$,Le=ae.y):b&2?(we=he.x,Le=l.y+$*(he.x-l.x)/I):b&1&&(we=ae.x,Le=l.y+$*(ae.x-l.x)/I),new ne(we,Le,N)}function Br(l,m){var b=0;return l.x<m.min.x?b|=1:l.x>m.max.x&&(b|=2),l.y<m.min.y?b|=4:l.y>m.max.y&&(b|=8),b}function Zf(l,m){var b=m.x-l.x,C=m.y-l.y;return b*b+C*C}function pa(l,m,b,C){var N=m.x,I=m.y,$=b.x-N,ae=b.y-I,he=$*$+ae*ae,we;return he>0&&(we=((l.x-N)*$+(l.y-I)*ae)/he,we>1?(N=b.x,I=b.y):we>0&&(N+=$*we,I+=ae*we)),$=l.x-N,ae=l.y-I,C?$*$+ae*ae:new ne(N,I)}function qn(l){return!A(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function go(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qn(l)}function fs(l,m){var b,C,N,I,$,ae,he,we;if(!l||l.length===0)throw new Error("latlngs not passed");qn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Le=oe([0,0]),Be=ue(l),Je=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());Je<1700&&(Le=nu(l));var ln=l.length,qt=[];for(b=0;b<ln;b++){var Dn=oe(l[b]);qt.push(m.project(oe([Dn.lat-Le.lat,Dn.lng-Le.lng])))}for(b=0,C=0;b<ln-1;b++)C+=qt[b].distanceTo(qt[b+1])/2;if(C===0)we=qt[0];else for(b=0,I=0;b<ln-1;b++)if($=qt[b],ae=qt[b+1],N=$.distanceTo(ae),I+=N,I>C){he=(I-C)/N,we=[ae.x-he*(ae.x-$.x),ae.y-he*(ae.y-$.y)];break}var dt=m.unproject(D(we));return oe([dt.lat+Le.lat,dt.lng+Le.lng])}var Gf={__proto__:null,simplify:sd,pointToSegmentDistance:ad,closestPointOnSegment:qf,clipSegment:ud,_getEdgeIntersection:po,_getBitCode:Br,_sqClosestPointOnSegment:pa,isFlat:qn,_flat:go,polylineCenter:fs},yo={project:function(l){return new ne(l.lng,l.lat)},unproject:function(l){return new te(l.y,l.x)},bounds:new z([-180,-90],[180,90])},vo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var m=Math.PI/180,b=this.R,C=l.lat*m,N=this.R_MINOR/b,I=Math.sqrt(1-N*N),$=I*Math.sin(C),ae=Math.tan(Math.PI/4-C/2)/Math.pow((1-$)/(1+$),I/2);return C=-b*Math.log(Math.max(ae,1e-10)),new ne(l.lng*m*b,C)},unproject:function(l){for(var m=180/Math.PI,b=this.R,C=this.R_MINOR/b,N=Math.sqrt(1-C*C),I=Math.exp(-l.y/b),$=Math.PI/2-2*Math.atan(I),ae=0,he=.1,we;ae<15&&Math.abs(he)>1e-7;ae++)we=N*Math.sin($),we=Math.pow((1-we)/(1+we),N/2),he=Math.PI/2-2*Math.atan(I*we)-$,$+=he;return new te($*m,l.x*m/b)}},cd={__proto__:null,LonLat:yo,Mercator:vo,SphericalMercator:je},dd=s({},Ee,{code:"EPSG:3395",projection:vo,transformation:(function(){var l=.5/(Math.PI*vo.R);return Ae(l,.5,-l,.5)})()}),su=s({},Ee,{code:"EPSG:4326",projection:yo,transformation:Ae(1/180,1,-1/180,.5)}),ms=s({},ye,{projection:yo,transformation:Ae(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,m){var b=m.lng-l.lng,C=m.lat-l.lat;return Math.sqrt(b*b+C*C)},infinite:!0});ye.Earth=Ee,ye.EPSG3395=dd,ye.EPSG3857=Ne,ye.EPSG900913=Ie,ye.EPSG4326=su,ye.Simple=ms;var oi=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[f(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[f(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var m=l.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var m=f(l);return this._layers[m]?this:(this._layers[m]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var m=f(l);return this._layers[m]?(this._loaded&&l.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return f(l)in this._layers},eachLayer:function(l,m){for(var b in this._layers)l.call(m,this._layers[b]);return this},_addLayers:function(l){l=l?A(l)?l:[l]:[];for(var m=0,b=l.length;m<b;m++)this.addLayer(l[m])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[f(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var m=f(l);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,m=-1/0,b=this._getZoomSpan();for(var C in this._zoomBoundLayers){var N=this._zoomBoundLayers[C].options;l=N.minZoom===void 0?l:Math.min(l,N.minZoom),m=N.maxZoom===void 0?m:Math.max(m,N.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=l===1/0?void 0:l,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ps=oi.extend({initialize:function(l,m){E(this,m),this._layers={};var b,C;if(l)for(b=0,C=l.length;b<C;b++)this.addLayer(l[b])},addLayer:function(l){var m=this.getLayerId(l);return this._layers[m]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var m=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(l){var m=typeof l=="number"?l:this.getLayerId(l);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var m=Array.prototype.slice.call(arguments,1),b,C;for(b in this._layers)C=this._layers[b],C[l]&&C[l].apply(C,m);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,m){for(var b in this._layers)l.call(m,this._layers[b]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return f(l)}}),Kf=function(l,m){return new ps(l,m)},Si=ps.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),ps.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),ps.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new B;for(var m in this._layers){var b=this._layers[m];l.extend(b.getBounds?b.getBounds():b.getLatLng())}return l}}),hd=function(l,m){return new Si(l,m)},Ci=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){E(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,m){var b=this._getIconUrl(l);if(!b){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(C,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(l,m){var b=this.options,C=b[m+"Size"];typeof C=="number"&&(C=[C,C]);var N=D(C),I=D(m==="shadow"&&b.shadowAnchor||b.iconAnchor||N&&N.divideBy(2,!0));l.className="leaflet-marker-"+m+" "+(b.className||""),I&&(l.style.marginLeft=-I.x+"px",l.style.marginTop=-I.y+"px"),N&&(l.style.width=N.x+"px",l.style.height=N.y+"px")},_createImg:function(l,m){return m=m||document.createElement("img"),m.src=l,m},_getIconUrl:function(l){return ze.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function ga(l){return new Ci(l)}var ya=Ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof ya.imagePath!="string"&&(ya.imagePath=this._detectIconPath()),(this.options.imagePath||ya.imagePath)+Ci.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var m=function(b,C,N){var I=C.exec(b);return I&&I[N]};return l=m(l,/^url\((['"])?(.+)\1\)$/,2),l&&m(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=it("div","leaflet-default-icon-path",document.body),m=oa(l,"background-image")||oa(l,"backgroundImage");if(document.body.removeChild(l),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),va=wi.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new lr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),We(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var m=this._marker,b=m._map,C=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,I=ar(m._icon),$=b.getPixelBounds(),ae=b.getPixelOrigin(),he=X($.min._subtract(ae).add(N),$.max._subtract(ae).subtract(N));if(!he.contains(I)){var we=D((Math.max(he.max.x,I.x)-he.max.x)/($.max.x-he.max.x)-(Math.min(he.min.x,I.x)-he.min.x)/($.min.x-he.min.x),(Math.max(he.max.y,I.y)-he.max.y)/($.max.y-he.max.y)-(Math.min(he.min.y,I.y)-he.min.y)/($.min.y-he.min.y)).multiplyBy(C);b.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),Et(m._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=W(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,l)))},_onDrag:function(l){var m=this._marker,b=m._shadow,C=ar(m._icon),N=m._map.layerPointToLatLng(C);b&&Et(b,C),m._latlng=N,l.latlng=N,l.oldLatLng=this._oldLatLng,m.fire("move",l).fire("drag",l)},_onDragEnd:function(l){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ba=oi.extend({options:{icon:new ya,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,m){E(this,m),this._latlng=oe(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var m=this._latlng;return this._latlng=oe(l),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=l.icon.createIcon(this._icon),C=!1;b!==this._icon&&(this._icon&&this._removeIcon(),C=!0,l.title&&(b.title=l.title),b.tagName==="IMG"&&(b.alt=l.alt||"")),We(b,m),l.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(b,"focus",this._panOnFocus,this);var N=l.icon.createShadow(this._shadow),I=!1;N!==this._shadow&&(this._removeShadow(),I=!0),N&&(We(N,m),N.alt=""),this._shadow=N,l.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&I&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Et(this._icon,l),this._shadow&&Et(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(We(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),va)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new va(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Mt(this._icon,l),this._shadow&&Mt(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var m=this.options.icon.options,b=m.iconSize?D(m.iconSize):D(0,0),C=m.iconAnchor?D(m.iconAnchor):D(0,0);l.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:b.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fd(l,m){return new ba(l,m)}var ji=oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return E(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gs=ji.extend({options:{fill:!0,radius:10},initialize:function(l,m){E(this,m),this._latlng=oe(l),this._radius=this.options.radius},setLatLng:function(l){var m=this._latlng;return this._latlng=oe(l),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var m=l&&l.radius||this._radius;return ji.prototype.setStyle.call(this,l),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,m=this._radiusY||l,b=this._clickTolerance(),C=[l+b,m+b];this._pxBounds=new z(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function md(l,m){return new gs(l,m)}var bo=gs.extend({initialize:function(l,m,b){if(typeof m=="number"&&(m=s({},b,{radius:m})),E(this,m),this._latlng=oe(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:ji.prototype.setStyle,_project:function(){var l=this._latlng.lng,m=this._latlng.lat,b=this._map,C=b.options.crs;if(C.distance===Ee.distance){var N=Math.PI/180,I=this._mRadius/Ee.R/N,$=b.project([m+I,l]),ae=b.project([m-I,l]),he=$.add(ae).divideBy(2),we=b.unproject(he).lat,Le=Math.acos((Math.cos(I*N)-Math.sin(m*N)*Math.sin(we*N))/(Math.cos(m*N)*Math.cos(we*N)))/N;(isNaN(Le)||Le===0)&&(Le=I/Math.cos(Math.PI/180*m)),this._point=he.subtract(b.getPixelOrigin()),this._radius=isNaN(Le)?0:he.x-b.project([we,l-Le]).x,this._radiusY=he.y-$.y}else{var Be=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Be).x}this._updateBounds()}});function pd(l,m,b){return new bo(l,m,b)}var Hi=ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,m){E(this,m),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var m=1/0,b=null,C=pa,N,I,$=0,ae=this._parts.length;$<ae;$++)for(var he=this._parts[$],we=1,Le=he.length;we<Le;we++){N=he[we-1],I=he[we];var Be=C(l,N,I,!0);Be<m&&(m=Be,b=C(l,N,I))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,m){return m=m||this._defaultShape(),l=oe(l),m.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new B,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return qn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var m=[],b=qn(l),C=0,N=l.length;C<N;C++)b?(m[C]=oe(l[C]),this._bounds.extend(m[C])):m[C]=this._convertLatLngs(l[C]);return m},_project:function(){var l=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),m=new ne(l,l);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(l,m,b){var C=l[0]instanceof te,N=l.length,I,$;if(C){for($=[],I=0;I<N;I++)$[I]=this._map.latLngToLayerPoint(l[I]),b.extend($[I]);m.push($)}else for(I=0;I<N;I++)this._projectLatlngs(l[I],m,b)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,C,N,I,$,ae,he;for(b=0,N=0,I=this._rings.length;b<I;b++)for(he=this._rings[b],C=0,$=he.length;C<$-1;C++)ae=ud(he[C],he[C+1],l,C,!0),ae&&(m[N]=m[N]||[],m[N].push(ae[0]),(ae[1]!==he[C+1]||C===$-2)&&(m[N].push(ae[1]),N++))}},_simplifyPoints:function(){for(var l=this._parts,m=this.options.smoothFactor,b=0,C=l.length;b<C;b++)l[b]=sd(l[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,m){var b,C,N,I,$,ae,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(b=0,I=this._parts.length;b<I;b++)for(ae=this._parts[b],C=0,$=ae.length,N=$-1;C<$;N=C++)if(!(!m&&C===0)&&ad(l,ae[N],ae[C])<=he)return!0;return!1}});function Wf(l,m){return new Hi(l,m)}Hi._flat=go;var ys=Hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var m=Hi.prototype._convertLatLngs.call(this,l),b=m.length;return b>=2&&m[0]instanceof te&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(l){Hi.prototype._setLatLngs.call(this,l),qn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,m=this.options.weight,b=new ne(m,m);if(l=new z(l.min.subtract(b),l.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,N=this._rings.length,I;C<N;C++)I=id(this._rings[C],l,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var m=!1,b,C,N,I,$,ae,he,we;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(I=0,he=this._parts.length;I<he;I++)for(b=this._parts[I],$=0,we=b.length,ae=we-1;$<we;ae=$++)C=b[$],N=b[ae],C.y>l.y!=N.y>l.y&&l.x<(N.x-C.x)*(l.y-C.y)/(N.y-C.y)+C.x&&(m=!m);return m||Hi.prototype._containsPoint.call(this,l,!0)}});function Yf(l,m){return new ys(l,m)}var Fi=Si.extend({initialize:function(l,m){E(this,m),this._layers={},l&&this.addData(l)},addData:function(l){var m=A(l)?l:l.features,b,C,N;if(m){for(b=0,C=m.length;b<C;b++)N=m[b],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var I=this.options;if(I.filter&&!I.filter(l))return this;var $=mn(l,I);return $?($.feature=wo(l),$.defaultOptions=$.options,this.resetStyle($),I.onEachFeature&&I.onEachFeature(l,$),this.addLayer($)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=s({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(m){this._setLayerStyle(m,l)},this)},_setLayerStyle:function(l,m){l.setStyle&&(typeof m=="function"&&(m=m(l.feature)),l.setStyle(m))}});function mn(l,m){var b=l.type==="Feature"?l.geometry:l,C=b?b.coordinates:null,N=[],I=m&&m.pointToLayer,$=m&&m.coordsToLatLng||xo,ae,he,we,Le;if(!C&&!b)return null;switch(b.type){case"Point":return ae=$(C),vs(I,l,ae,m);case"MultiPoint":for(we=0,Le=C.length;we<Le;we++)ae=$(C[we]),N.push(vs(I,l,ae,m));return new Si(N);case"LineString":case"MultiLineString":return he=xa(C,b.type==="LineString"?0:1,$),new Hi(he,m);case"Polygon":case"MultiPolygon":return he=xa(C,b.type==="Polygon"?1:2,$),new ys(he,m);case"GeometryCollection":for(we=0,Le=b.geometries.length;we<Le;we++){var Be=mn({geometry:b.geometries[we],type:"Feature",properties:l.properties},m);Be&&N.push(Be)}return new Si(N);case"FeatureCollection":for(we=0,Le=b.features.length;we<Le;we++){var Je=mn(b.features[we],m);Je&&N.push(Je)}return new Si(N);default:throw new Error("Invalid GeoJSON object.")}}function vs(l,m,b,C){return l?l(m,b):new ba(b,C&&C.markersInheritOptions&&C)}function xo(l){return new te(l[1],l[0],l[2])}function xa(l,m,b){for(var C=[],N=0,I=l.length,$;N<I;N++)$=m?xa(l[N],m-1,b):(b||xo)(l[N]),C.push($);return C}function _o(l,m){return l=oe(l),l.alt!==void 0?[w(l.lng,m),w(l.lat,m),w(l.alt,m)]:[w(l.lng,m),w(l.lat,m)]}function _a(l,m,b,C){for(var N=[],I=0,$=l.length;I<$;I++)N.push(m?_a(l[I],qn(l[I])?0:m-1,b,C):_o(l[I],C));return!m&&b&&N.length>0&&N.push(N[0].slice()),N}function ur(l,m){return l.feature?s({},l.feature,{geometry:m}):wo(m)}function wo(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var cr={toGeoJSON:function(l){return ur(this,{type:"Point",coordinates:_o(this.getLatLng(),l)})}};ba.include(cr),bo.include(cr),gs.include(cr),Hi.include({toGeoJSON:function(l){var m=!qn(this._latlngs),b=_a(this._latlngs,m?1:0,!1,l);return ur(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),ys.include({toGeoJSON:function(l){var m=!qn(this._latlngs),b=m&&!qn(this._latlngs[0]),C=_a(this._latlngs,b?2:m?1:0,!0,l);return m||(C=[C]),ur(this,{type:(b?"Multi":"")+"Polygon",coordinates:C})}}),ps.include({toMultiPoint:function(l){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(l).geometry.coordinates)}),ur(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(l){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(l);var b=m==="GeometryCollection",C=[];return this.eachLayer(function(N){if(N.toGeoJSON){var I=N.toGeoJSON(l);if(b)C.push(I.geometry);else{var $=wo(I);$.type==="FeatureCollection"?C.push.apply(C,$.features):C.push($)}}}),b?ur(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function So(l,m){return new Fi(l,m)}var wa=So,bs=oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,m,b){this._url=l,this._bounds=ue(m),E(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(We(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&on(this._image),this},bringToBack:function(){return this._map&&Rr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=ue(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",m=this._image=l?this._url:it("img");if(We(m,"leaflet-image-layer"),this._zoomAnimated&&We(m,"leaflet-zoom-animated"),this.options.className&&We(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=u(this.fire,this,"load"),m.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(l){var m=this._map.getZoomScale(l.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Ii(this._image,b,m)},_reset:function(){var l=this._image,m=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Et(l,m.min),l.style.width=b.x+"px",l.style.height=b.y+"px"},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),gd=function(l,m,b){return new bs(l,m,b)},dr=bs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",m=this._image=l?this._url:it("video");if(We(m,"leaflet-image-layer"),this._zoomAnimated&&We(m,"leaflet-zoom-animated"),this.options.className&&We(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=u(this.fire,this,"load"),l){for(var b=m.getElementsByTagName("source"),C=[],N=0;N<b.length;N++)C.push(b[N].src);this._url=b.length>0?C:[m.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var $=it("source");$.src=this._url[I],m.appendChild($)}}});function xs(l,m,b){return new dr(l,m,b)}var Co=bs.extend({_initImage:function(){var l=this._image=this._url;We(l,"leaflet-image-layer"),this._zoomAnimated&&We(l,"leaflet-zoom-animated"),this.options.className&&We(l,this.options.className),l.onselectstart=v,l.onmousemove=v}});function yd(l,m,b){return new Co(l,m,b)}var pn=oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,m){l&&(l instanceof te||A(l))?(this._latlng=oe(l),E(this,m)):(E(this,l),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(u(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=oe(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&on(this._container),this},bringToBack:function(){return this._map&&Rr(this._container),this},_prepareOpen:function(l){var m=this._source;if(!m._map)return!1;if(m instanceof Si){m=null;var b=this._source._layers;for(var C in b)if(b[C]._map){m=b[C];break}if(!m)return!1;this._source=m}if(!l)if(m.getCenter)l=m.getCenter();else if(m.getLatLng)l=m.getLatLng();else if(m.getBounds)l=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")l.innerHTML=m;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),m=D(this.options.offset),b=this._getAnchor();this._zoomAnimated?Et(this._container,l.add(b)):m=m.add(l).add(b);var C=this._containerBottom=-m.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=C+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(l,m,b,C){var N=m;return N instanceof l||(N=new l(C).setContent(m)),b&&N.setLatLng(b),N}}),oi.include({_initOverlay:function(l,m,b,C){var N=b;return N instanceof l?(E(N,C),N._source=this):(N=m&&!C?m:new l(C,this),N.setContent(b)),N}});var Sa=pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,pn.prototype.openOn.call(this,l)},onAdd:function(l){pn.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ji||this._source.on("preclick",ai))},onRemove:function(l){pn.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ji||this._source.off("preclick",ai))},getEvents:function(){var l=pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",m=this._container=it("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=it("div",l+"-content-wrapper",m);if(this._contentNode=it("div",l+"-content",b),zr(m),_i(this._contentNode),$e(m,"contextmenu",ai),this._tipContainer=it("div",l+"-tip-container",m),this._tip=it("div",l+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=it("a",l+"-close-button",m);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',$e(C,"click",function(N){Ft(N),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,m=l.style;m.width="",m.whiteSpace="nowrap";var b=l.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var C=l.offsetHeight,N=this.options.maxHeight,I="leaflet-popup-scrolled";N&&C>N?(m.height=N+"px",We(l,I)):Pt(l,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),b=this._getAnchor();Et(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,m=parseInt(oa(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,C=this._containerWidth,N=new ne(this._containerLeft,-b-this._containerBottom);N._add(ar(this._container));var I=l.layerPointToContainerPoint(N),$=D(this.options.autoPanPadding),ae=D(this.options.autoPanPaddingTopLeft||$),he=D(this.options.autoPanPaddingBottomRight||$),we=l.getSize(),Le=0,Be=0;I.x+C+he.x>we.x&&(Le=I.x+C-we.x+he.x),I.x-Le-ae.x<0&&(Le=I.x-ae.x),I.y+b+he.y>we.y&&(Be=I.y+b-we.y+he.y),I.y-Be-ae.y<0&&(Be=I.y-ae.y),(Le||Be)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Le,Be]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vd=function(l,m){return new Sa(l,m)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(l,m,b){return this._initOverlay(Sa,l,m,b).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),oi.include({bindPopup:function(l,m){return this._popup=this._initOverlay(Sa,this._popup,l,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){or(l);var m=l.layer||l.target;if(this._popup._source===m&&!(m instanceof ji)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=m,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Ca=pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){pn.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){pn.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=pn.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",m=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var m,b,C=this._map,N=this._container,I=C.latLngToContainerPoint(C.getCenter()),$=C.layerPointToContainerPoint(l),ae=this.options.direction,he=N.offsetWidth,we=N.offsetHeight,Le=D(this.options.offset),Be=this._getAnchor();ae==="top"?(m=he/2,b=we):ae==="bottom"?(m=he/2,b=0):ae==="center"?(m=he/2,b=we/2):ae==="right"?(m=0,b=we/2):ae==="left"?(m=he,b=we/2):$.x<I.x?(ae="right",m=0,b=we/2):(ae="left",m=he+(Le.x+Be.x)*2,b=we/2),l=l.subtract(D(m,b,!0)).add(Le).add(Be),Pt(N,"leaflet-tooltip-right"),Pt(N,"leaflet-tooltip-left"),Pt(N,"leaflet-tooltip-top"),Pt(N,"leaflet-tooltip-bottom"),We(N,"leaflet-tooltip-"+ae),Et(N,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Mt(this._container,l)},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(m)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xf=function(l,m){return new Ca(l,m)};ot.include({openTooltip:function(l,m,b){return this._initOverlay(Ca,l,m,b).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),oi.include({bindTooltip:function(l,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ca,this._tooltip,l,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var m=l?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var m=typeof l.getElement=="function"&&l.getElement();m&&($e(m,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),$e(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var m=typeof l.getElement=="function"&&l.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var m=l.latlng,b,C;this._tooltip.options.sticky&&l.originalEvent&&(b=this._map.mouseEventToContainerPoint(l.originalEvent),C=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(m)}});var bd=Ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var m=l&&l.tagName==="DIV"?l:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Hn(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var C=D(b.bgPos);m.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Qf(l){return new bd(l)}Ci.Default=ya;var _s=oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){E(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),wt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(on(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof ne?l:new ne(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var m=this.getPane().children,b=-l(-1/0,1/0),C=0,N=m.length,I;C<N;C++)I=m[C].style.zIndex,m[C]!==this._container&&I&&(b=l(b,+I));isFinite(b)&&(this.options.zIndex=b+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Mt(this._container,this.options.opacity);var l=+new Date,m=!1,b=!1;for(var C in this._tiles){var N=this._tiles[C];if(!(!N.current||!N.loaded)){var I=Math.min(1,(l-N.loaded)/200);Mt(N.el,I),I<1?m=!0:(N.active?b=!0:this._onOpaqueTile(N),N.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(ee(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,m=this.options.maxZoom;if(l!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===l?(this._levels[b].el.style.zIndex=m-Math.abs(l-b),this._onUpdateLevel(b)):(wt(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var C=this._levels[l],N=this._map;return C||(C=this._levels[l]={},C.el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=m,C.origin=N.project(N.unproject(N.getPixelOrigin()),l).round(),C.zoom=l,this._setZoomTransform(C,N.getCenter(),N.getZoom()),v(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var l,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)m=this._tiles[l],m.retain=m.current;for(l in this._tiles)if(m=this._tiles[l],m.current&&!m.active){var C=m.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var m in this._tiles)this._tiles[m].coords.z===l&&this._removeTile(m)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)wt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,m,b,C){var N=Math.floor(l/2),I=Math.floor(m/2),$=b-1,ae=new ne(+N,+I);ae.z=+$;var he=this._tileCoordsToKey(ae),we=this._tiles[he];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),$>C?this._retainParent(N,I,$,C):!1)},_retainChildren:function(l,m,b,C){for(var N=2*l;N<2*l+2;N++)for(var I=2*m;I<2*m+2;I++){var $=new ne(N,I);$.z=b+1;var ae=this._tileCoordsToKey($),he=this._tiles[ae];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);b+1<C&&this._retainChildren(N,I,b+1,C)}},_resetView:function(l){var m=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var m=this.options;return m.minNativeZoom!==void 0&&l<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<l?m.maxNativeZoom:l},_setView:function(l,m,b,C){var N=Math.round(m);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var I=this.options.updateWhenZooming&&N!==this._tileZoom;(!C||I)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(l),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(l,m)},_setZoomTransforms:function(l,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],l,m)},_setZoomTransform:function(l,m,b){var C=this._map.getZoomScale(b,l.zoom),N=l.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(m,b)).round();ze.any3d?Ii(l.el,N,C):Et(l.el,N)},_resetGrid:function(){var l=this._map,m=l.options.crs,b=this._tileSize=this.getTileSize(),C=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,m.wrapLng[0]],C).x/b.x),Math.ceil(l.project([0,m.wrapLng[1]],C).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([m.wrapLat[0],0],C).y/b.x),Math.ceil(l.project([m.wrapLat[1],0],C).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),C=m.getZoomScale(b,this._tileZoom),N=m.project(l,this._tileZoom).floor(),I=m.getSize().divideBy(C*2);return new z(N.subtract(I),N.add(I))},_update:function(l){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(l===void 0&&(l=m.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(l),N=this._pxBoundsToTileRange(C),I=N.getCenter(),$=[],ae=this.options.keepBuffer,he=new z(N.getBottomLeft().subtract([ae,-ae]),N.getTopRight().add([ae,-ae]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Le=this._tiles[we].coords;(Le.z!==this._tileZoom||!he.contains(new ne(Le.x,Le.y)))&&(this._tiles[we].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(l,b);return}for(var Be=N.min.y;Be<=N.max.y;Be++)for(var Je=N.min.x;Je<=N.max.x;Je++){var ln=new ne(Je,Be);if(ln.z=this._tileZoom,!!this._isValidTile(ln)){var qt=this._tiles[this._tileCoordsToKey(ln)];qt?qt.current=!0:$.push(ln)}}if($.sort(function(dt,ht){return dt.distanceTo(I)-ht.distanceTo(I)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Dn=document.createDocumentFragment();for(Je=0;Je<$.length;Je++)this._addTile($[Je],Dn);this._level.el.appendChild(Dn)}}}},_isValidTile:function(l){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(l.x<b.min.x||l.x>b.max.x)||!m.wrapLat&&(l.y<b.min.y||l.y>b.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(l);return ue(this.options.bounds).overlaps(C)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var m=this._map,b=this.getTileSize(),C=l.scaleBy(b),N=C.add(b),I=m.unproject(C,l.z),$=m.unproject(N,l.z);return[I,$]},_tileCoordsToBounds:function(l){var m=this._tileCoordsToNwSe(l),b=new B(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var m=l.split(":"),b=new ne(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(l){var m=this._tiles[l];m&&(wt(m.el),delete this._tiles[l],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){We(l,"leaflet-tile");var m=this.getTileSize();l.style.width=m.x+"px",l.style.height=m.y+"px",l.onselectstart=v,l.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Mt(l,this.options.opacity)},_addTile:function(l,m){var b=this._getTilePos(l),C=this._tileCoordsToKey(l),N=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(N),this.createTile.length<2&&W(u(this._tileReady,this,l,null,N)),Et(N,b),this._tiles[C]={el:N,coords:l,current:!0},m.appendChild(N),this.fire("tileloadstart",{tile:N,coords:l})},_tileReady:function(l,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:l});var C=this._tileCoordsToKey(l);b=this._tiles[C],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Mt(b.el,0),ee(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(We(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var m=new ne(this._wrapX?y(l.x,this._wrapX):l.x,this._wrapY?y(l.y,this._wrapY):l.y);return m.z=l.z,m},_pxBoundsToTileRange:function(l){var m=this.getTileSize();return new z(l.min.unscaleBy(m).floor(),l.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function xd(l){return new _s(l)}var hr=_s.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,m){this._url=l,m=E(this,m),m.detectRetina&&ze.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,m){return this._url===l&&m===void 0&&(m=!0),this._url=l,m||this.redraw(),this},createTile:function(l,m){var b=document.createElement("img");return $e(b,"load",u(this._tileOnLoad,this,m,b)),$e(b,"error",u(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(l),b},getTileUrl:function(l){var m={r:ze.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-l.y;this.options.tms&&(m.y=b),m["-y"]=b}return P(this._url,s(m,this.options))},_tileOnLoad:function(l,m){ze.ielt9?setTimeout(u(l,this,null,m),0):l(null,m)},_tileOnError:function(l,m,b){var C=this.options.errorTileUrl;C&&m.getAttribute("src")!==C&&(m.src=C),l(b,m)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,C=this.options.zoomOffset;return b&&(l=m-l),l+C},_getSubdomain:function(l){var m=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var l,m;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(m=this._tiles[l].el,m.onload=v,m.onerror=v,!m.complete)){m.src=H;var b=this._tiles[l].coords;wt(m),delete this._tiles[l],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(l){var m=this._tiles[l];if(m)return m.el.setAttribute("src",H),_s.prototype._removeTile.call(this,l)},_tileReady:function(l,m,b){if(!(!this._map||b&&b.getAttribute("src")===H))return _s.prototype._tileReady.call(this,l,m,b)}});function $n(l,m){return new hr(l,m)}var ja=hr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,m){this._url=l;var b=s({},this.defaultWmsParams);for(var C in m)C in this.options||(b[C]=m[C]);m=E(this,m);var N=m.detectRetina&&ze.retina?2:1,I=this.getTileSize();b.width=I.x*N,b.height=I.y*N,this.wmsParams=b},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,hr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var m=this._tileCoordsToNwSe(l),b=this._crs,C=X(b.project(m[0]),b.project(m[1])),N=C.min,I=C.max,$=(this._wmsVersion>=1.3&&this._crs===su?[N.y,N.x,I.y,I.x]:[N.x,N.y,I.x,I.y]).join(","),ae=hr.prototype.getTileUrl.call(this,l);return ae+T(this.wmsParams,ae,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(l,m){return s(this.wmsParams,l),m||this.redraw(),this}});function Zn(l,m){return new ja(l,m)}hr.WMS=ja,$n.wms=Zn;var En=oi.extend({options:{padding:.1},initialize:function(l){E(this,l),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),We(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,m){var b=this._map.getZoomScale(m,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,m),I=C.multiplyBy(-b).add(N).subtract(this._map._getNewPixelOrigin(l,m));ze.any3d?Ii(this._container,I,b):Et(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-l)).round();this._bounds=new z(b,b.add(m.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jo=En.extend({options:{tolerance:0},getEvents:function(){var l=En.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){En.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");$e(l,"mousemove",this._onMouseMove,this),$e(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,wt(this._container),yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var m in this._layers)l=this._layers[m],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var l=this._bounds,m=this._container,b=l.getSize(),C=ze.retina?2:1;Et(m,l.min),m.width=C*b.x,m.height=C*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){En.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[f(l)]=l;var m=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var m=l._order,b=m.next,C=m.prev;b?b.prev=C:this._drawLast=C,C?C.next=b:this._drawFirst=b,delete l._order,delete this._layers[f(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var m=l.options.dashArray.split(/[, ]+/),b=[],C,N;for(N=0;N<m.length;N++){if(C=Number(m[N]),isNaN(C))return;b.push(C)}l.options._dashArray=b}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var m=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(l._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(l._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var m=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)l=C.layer,(!m||l._pxBounds&&l._pxBounds.intersects(m))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,m){if(this._drawing){var b,C,N,I,$=l._parts,ae=$.length,he=this._ctx;if(ae){for(he.beginPath(),b=0;b<ae;b++){for(C=0,N=$[b].length;C<N;C++)I=$[b][C],he[C?"lineTo":"moveTo"](I.x,I.y);m&&he.closePath()}this._fillStroke(he,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var m=l._point,b=this._ctx,C=Math.max(Math.round(l._radius),1),N=(Math.max(Math.round(l._radiusY),1)||C)/C;N!==1&&(b.save(),b.scale(1,N)),b.beginPath(),b.arc(m.x,m.y/N,C,0,Math.PI*2,!1),N!==1&&b.restore(),this._fillStroke(b,l)}},_fillStroke:function(l,m){var b=m.options;b.fill&&(l.globalAlpha=b.fillOpacity,l.fillStyle=b.fillColor||b.color,l.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(l.setLineDash&&l.setLineDash(m.options&&m.options._dashArray||[]),l.globalAlpha=b.opacity,l.lineWidth=b.weight,l.strokeStyle=b.color,l.lineCap=b.lineCap,l.lineJoin=b.lineJoin,l.stroke())},_onClick:function(l){for(var m=this._map.mouseEventToLayerPoint(l),b,C,N=this._drawFirst;N;N=N.next)b=N.layer,b.options.interactive&&b._containsPoint(m)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(b))&&(C=b);this._fireEvent(C?[C]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,m)}},_handleMouseOut:function(l){var m=this._hoveredLayer;m&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([m],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,m){if(!this._mouseHoverThrottled){for(var b,C,N=this._drawFirst;N;N=N.next)b=N.layer,b.options.interactive&&b._containsPoint(m)&&(C=b);C!==this._hoveredLayer&&(this._handleMouseOut(l),C&&(We(this._container,"leaflet-interactive"),this._fireEvent([C],l,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,m,b){this._map._fireDOMEvent(m,b||m.type,l)},_bringToFront:function(l){var m=l._order;if(m){var b=m.next,C=m.prev;if(b)b.prev=C;else return;C?C.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(l)}},_bringToBack:function(l){var m=l._order;if(m){var b=m.next,C=m.prev;if(C)C.next=b;else return;b?b.prev=C:C&&(this._drawLast=C),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(l)}}});function Ea(l){return ze.canvas?new jo(l):null}var fr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),au={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(En.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var m=l._container=fr("shape");We(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",l._path=fr("path"),m.appendChild(l._path),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){var m=l._container;this._container.appendChild(m),l.options.interactive&&l.addInteractiveTarget(m)},_removePath:function(l){var m=l._container;wt(m),l.removeInteractiveTarget(m),delete this._layers[f(l)]},_updateStyle:function(l){var m=l._stroke,b=l._fill,C=l.options,N=l._container;N.stroked=!!C.stroke,N.filled=!!C.fill,C.stroke?(m||(m=l._stroke=fr("stroke")),N.appendChild(m),m.weight=C.weight+"px",m.color=C.color,m.opacity=C.opacity,C.dashArray?m.dashStyle=A(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=C.lineCap.replace("butt","flat"),m.joinstyle=C.lineJoin):m&&(N.removeChild(m),l._stroke=null),C.fill?(b||(b=l._fill=fr("fill")),N.appendChild(b),b.color=C.fillColor||C.color,b.opacity=C.fillOpacity):b&&(N.removeChild(b),l._fill=null)},_updateCircle:function(l){var m=l._point.round(),b=Math.round(l._radius),C=Math.round(l._radiusY||b);this._setPath(l,l._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+C+" 0,"+65535*360)},_setPath:function(l,m){l._path.v=m},_bringToFront:function(l){on(l._container)},_bringToBack:function(l){Rr(l._container)}},Ei=ze.vml?fr:Tt,ws=En.extend({_initContainer:function(){this._container=Ei("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ei("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var l=this._bounds,m=l.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Et(b,l.min),b.setAttribute("viewBox",[l.min.x,l.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(l){var m=l._path=Ei("path");l.options.className&&We(m,l.options.className),l.options.interactive&&We(m,"leaflet-interactive"),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){wt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[f(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var m=l._path,b=l.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(l,m){this._setPath(l,He(l._parts,m))},_updateCircle:function(l){var m=l._point,b=Math.max(Math.round(l._radius),1),C=Math.max(Math.round(l._radiusY),1)||b,N="a"+b+","+C+" 0 1,0 ",I=l._empty()?"M0 0":"M"+(m.x-b)+","+m.y+N+b*2+",0 "+N+-b*2+",0 ";this._setPath(l,I)},_setPath:function(l,m){l._path.setAttribute("d",m)},_bringToFront:function(l){on(l._path)},_bringToBack:function(l){Rr(l._path)}});ze.vml&&ws.include(au);function ka(l){return ze.svg||ze.vml?new ws(l):null}ot.include({getRenderer:function(l){var m=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var m=this._paneRenderers[l];return m===void 0&&(m=this._createRenderer({pane:l}),this._paneRenderers[l]=m),m},_createRenderer:function(l){return this.options.preferCanvas&&Ea(l)||ka(l)}});var Ir=ys.extend({initialize:function(l,m){ys.prototype.initialize.call(this,this._boundsToLatLngs(l),m)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=ue(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Jf(l,m){return new Ir(l,m)}ws.create=Ei,ws.pointsToPath=He,Fi.geometryToLayer=mn,Fi.coordsToLatLng=xo,Fi.coordsToLatLngs=xa,Fi.latLngToCoords=_o,Fi.latLngsToCoords=_a,Fi.getFeature=ur,Fi.asFeature=wo,ot.mergeOptions({boxZoom:!0});var kn=wi.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ls(),co(),this._startPoint=this._map.mouseEventToContainerPoint(l),$e(document,{contextmenu:or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),We(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var m=new z(this._point,this._startPoint),b=m.getSize();Et(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(wt(this._box),Pt(this._container,"leaflet-crosshair")),xi(),ua(),yt(document,{contextmenu:or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var m=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",kn),ot.mergeOptions({doubleClickZoom:!0});var Eo=wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var m=this._map,b=m.getZoom(),C=m.options.zoomDelta,N=l.originalEvent.shiftKey?b-C:b+C;m.options.doubleClickZoom==="center"?m.setZoom(N):m.setZoomAround(l.containerPoint,N)}});ot.addInitHook("addHandler","doubleClickZoom",Eo),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ki=wi.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new lr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}We(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=ue(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,m){return l-(l-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;l.x<m.min.x&&(l.x=this._viscousLimit(l.x,m.min.x)),l.y<m.min.y&&(l.y=this._viscousLimit(l.y,m.min.y)),l.x>m.max.x&&(l.x=this._viscousLimit(l.x,m.max.x)),l.y>m.max.y&&(l.y=this._viscousLimit(l.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,m=Math.round(l/2),b=this._initialWorldOffset,C=this._draggable._newPos.x,N=(C-m+b)%l+m-b,I=(C+m+b)%l-m-b,$=Math.abs(N+b)<Math.abs(I+b)?N:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(l){var m=this._map,b=m.options,C=!b.inertia||l.noInertia||this._times.length<2;if(m.fire("dragend",l),C)m.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,$=b.easeLinearity,ae=N.multiplyBy($/I),he=ae.distanceTo([0,0]),we=Math.min(b.inertiaMaxSpeed,he),Le=ae.multiplyBy(we/he),Be=we/(b.inertiaDeceleration*$),Je=Le.multiplyBy(-Be/2).round();!Je.x&&!Je.y?m.fire("moveend"):(Je=m._limitOffset(Je,m.options.maxBounds),W(function(){m.panBy(Je,{duration:Be,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",ki),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ou=wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),$e(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,m=document.documentElement,b=l.scrollTop||m.scrollTop,C=l.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(C,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var m=this._panKeys={},b=this.keyCodes,C,N;for(C=0,N=b.left.length;C<N;C++)m[b.left[C]]=[-1*l,0];for(C=0,N=b.right.length;C<N;C++)m[b.right[C]]=[l,0];for(C=0,N=b.down.length;C<N;C++)m[b.down[C]]=[0,l];for(C=0,N=b.up.length;C<N;C++)m[b.up[C]]=[0,-1*l]},_setZoomDelta:function(l){var m=this._zoomKeys={},b=this.keyCodes,C,N;for(C=0,N=b.zoomIn.length;C<N;C++)m[b.zoomIn[C]]=l;for(C=0,N=b.zoomOut.length;C<N;C++)m[b.zoomOut[C]]=-l},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var m=l.keyCode,b=this._map,C;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(C=this._panKeys[m],l.shiftKey&&(C=D(C).multiplyBy(3)),b.options.maxBounds&&(C=b._limitOffset(D(C),b.options.maxBounds)),b.options.worldCopyJump){var N=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(C)));b.panTo(N)}else b.panBy(C)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;or(l)}}});ot.addInitHook("addHandler","keyboard",ou),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ta=wi.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var m=bn(l),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var C=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),C),or(l)},_performZoom:function(){var l=this._map,m=l.getZoom(),b=this._map.options.zoomSnap||0;l._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,I=b?Math.ceil(N/b)*b:N,$=l._limitZoom(m+(this._delta>0?I:-I))-m;this._delta=0,this._startTime=null,$&&(l.options.scrollWheelZoom==="center"?l.setZoom(m+$):l.setZoomAround(this._lastMousePos,m+$))}});ot.addInitHook("addHandler","scrollWheelZoom",Ta);var Vr=600;ot.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var ko=wi.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var m=l.touches[0];this._startPos=this._newPos=new ne(m.clientX,m.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",Ft),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),Vr),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){yt(document,"touchend",Ft),yt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)},_onMove:function(l){var m=l.touches[0];this._newPos=new ne(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,m){var b=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});ot.addInitHook("addHandler","tapHold",ko),ot.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var lu=wi.extend({addHooks:function(){We(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var m=this._map;if(!(!l.touches||l.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(l.touches[0]),C=m.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(C)._divideBy(2))),this._startDist=b.distanceTo(C),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),Ft(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(l.touches[0]),C=m.mouseEventToContainerPoint(l.touches[1]),N=b.distanceTo(C)/this._startDist;if(this._zoom=m.getScaleZoom(N,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&N<1||this._zoom>m.getMaxZoom()&&N>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var I=b._add(C)._divideBy(2)._subtract(this._centerPoint);if(N===1&&I.x===0&&I.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var $=u(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W($,this,!0),Ft(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",lu),ot.BoxZoom=kn,ot.DoubleClickZoom=Eo,ot.Drag=ki,ot.Keyboard=ou,ot.ScrollWheelZoom=Ta,ot.TapHold=ko,ot.TouchZoom=lu,n.Bounds=z,n.Browser=ze,n.CRS=ye,n.Canvas=jo,n.Circle=bo,n.CircleMarker=gs,n.Class=Y,n.Control=Rn,n.DivIcon=bd,n.DivOverlay=pn,n.DomEvent=mo,n.DomUtil=ds,n.Draggable=lr,n.Evented=Z,n.FeatureGroup=Si,n.GeoJSON=Fi,n.GridLayer=_s,n.Handler=wi,n.Icon=Ci,n.ImageOverlay=bs,n.LatLng=te,n.LatLngBounds=B,n.Layer=oi,n.LayerGroup=ps,n.LineUtil=Gf,n.Map=ot,n.Marker=ba,n.Mixin=Ff,n.Path=ji,n.Point=ne,n.PolyUtil=iu,n.Polygon=ys,n.Polyline=Hi,n.Popup=Sa,n.PosAnimation=hs,n.Projection=cd,n.Rectangle=Ir,n.Renderer=En,n.SVG=ws,n.SVGOverlay=Co,n.TileLayer=hr,n.Tooltip=Ca,n.Transformation=ge,n.Util=le,n.VideoOverlay=dr,n.bind=u,n.bounds=X,n.canvas=Ea,n.circle=pd,n.circleMarker=md,n.control=Ui,n.divIcon=Qf,n.extend=s,n.featureGroup=hd,n.geoJSON=So,n.geoJson=wa,n.gridLayer=xd,n.icon=ga,n.imageOverlay=gd,n.latLng=oe,n.latLngBounds=ue,n.layerGroup=Kf,n.map=Xl,n.marker=fd,n.point=D,n.polygon=Yf,n.polyline=Wf,n.popup=vd,n.rectangle=Jf,n.setOptions=E,n.stamp=f,n.svg=ka,n.svgOverlay=yd,n.tileLayer=$n,n.tooltip=Xf,n.transformation=Ae,n.version=i,n.videoOverlay=xs;var uu=window.L;n.noConflict=function(){return window.L=uu,this},window.L=n}))})(ec,ec.exports)),ec.exports}var Pl=pv();const Dt=eo(Pl);function kf(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Tf(e,t){return t==null?function(i,s){const o=k.useRef(void 0);return o.current||(o.current=e(i,s)),o}:function(i,s){const o=k.useRef(void 0);o.current||(o.current=e(i,s));const u=k.useRef(i),{instance:d}=o.current;return k.useEffect(function(){u.current!==i&&(t(d,i,u.current),u.current=i)},[d,i,t]),o}}function HC(e,t){k.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function FC(e){return function(n){const i=jf(),s=e(Ef(n,i),i);return VC(i.map,n.attribution),mv(s.current,n.eventHandlers),HC(s.current,i),s}}function D4(e,t){const n=k.useRef(void 0);k.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function z4(e){return function(n){const i=jf(),s=e(Ef(n,i),i);return mv(s.current,n.eventHandlers),HC(s.current,i),D4(s.current,n),s}}function B4(e,t){const n=Tf(e,t),i=FC(n);return UC(i)}function qC(e,t){const n=Tf(e),i=P4(n,t);return M4(i)}function I4(e,t){const n=Tf(e,t),i=z4(n);return UC(i)}function V4(e,t){const n=Tf(e,t),i=FC(n);return O4(i)}function U4(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function H4(){return jf().map}function F4({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:u,style:d,whenReady:f,zoom:g,...y},v){const[w]=k.useState({className:s,id:o,style:d}),[_,j]=k.useState(null),E=k.useRef(void 0);k.useImperativeHandle(v,()=>_?.map??null,[_]);const T=k.useCallback(P=>{if(P!==null&&!E.current){const A=new Pl.Map(P,y);E.current=A,n!=null&&g!=null?A.setView(n,g):e!=null&&A.fitBounds(e,t),f!=null&&A.whenReady(f),j(N4(A))}},[]);k.useEffect(()=>()=>{_?.map.remove()},[_]);const M=_?vi.createElement(fv,{value:_},i):u??null;return vi.createElement("div",{...w,ref:T},M)}const q4=k.forwardRef(F4),$C=B4(function({position:t,...n},i){const s=new Pl.Marker(t,n);return kf(s,A4(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Lf=qC(function(t,n){const i=new Pl.Popup(t,n.overlayContainer);return kf(i,n)},function(t,n,{position:i},s){k.useEffect(function(){const{instance:u}=t;function d(g){g.popup===u&&(u.update(),s(!0))}function f(g){g.popup===u&&s(!1)}return n.map.on({popupopen:d,popupclose:f}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:d,popupclose:f}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[t,n,s,i])}),$4=V4(function({url:t,...n},i){const s=new Pl.TileLayer(t,Ef(n,i));return kf(s,i)},function(t,n,i){U4(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),Z4=qC(function(t,n){const i=new Pl.Tooltip(t,n.overlayContainer);return kf(i,n)},function(t,n,{position:i},s){k.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:d}=t,f=y=>{y.tooltip===d&&(i!=null&&d.setLatLng(i),d.update(),s(!0))},g=y=>{y.tooltip===d&&s(!1)};return u.on({tooltipopen:f,tooltipclose:g}),u.bindTooltip(d),function(){u.off({tooltipopen:f,tooltipclose:g}),u._map!=null&&u.unbindTooltip()}},[t,n,s,i])});L.Icon.Glyph=L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"",prefix:"",glyph:"home",glyphColor:"white",glyphSize:"11px",glyphAnchor:[0,0]},createIcon:function(){var e=document.createElement("div"),t=this.options;return t.glyph&&e.appendChild(this._createGlyph()),e.style.position="relative",this._setIconStyles(e,t.className),e},_createGlyph:function(){var e,t,n=this.options;n.prefix?n.prefix==="fab"||n.prefix==="fal"||n.prefix==="far"||n.prefix==="fas"?e="fa-"+n.glyph:n.glyph.slice(0,n.prefix.length+1)===n.prefix+"-"?e=n.glyph:e=n.prefix+"-"+n.glyph:(e="",t=n.glyph);var i=L.DomUtil.create("span",n.prefix+" "+e);return i.style.position="absolute",i.style.fontSize=n.glyphSize,i.style.color=n.glyphColor,i.style.width=n.iconSize[0]+"px",i.style.lineHeight=n.iconSize[1]+"px",i.style.textAlign="center",i.style.left=n.glyphAnchor[0]+"px",i.style.top=n.glyphAnchor[1]+"px",i.style.pointerEvents="none",i.style.display="inline-block",t&&(i.innerHTML=t),i},_setIconStyles:function(e,t){if(t==="shadow")return L.Icon.prototype._setIconStyles.call(this,e,t);var n=this.options,i=L.point(n.iconSize),s=L.point(n.iconAnchor);!s&&i&&(s=i.divideBy(2,!0)),e.className="leaflet-marker-icon leaflet-glyph-icon "+t;var o=this._getIconUrl("icon");o&&(e.style.backgroundImage="url('"+o+"')"),n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.bgSize&&(e.style.backgroundSize=n.bgSize.x+"px "+n.bgSize.y+"px"),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")}});L.icon.glyph=function(e){return new L.Icon.Glyph(e)};L.Icon.Glyph.prototype.options.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=";function gv({glyph:e,glyphColor:t="white",bgColor:n="white",glyphSize:i="8px",iconUrl:s="/Mapassets/icons/glyph-marker-icon-blue.svg",className:o,iconSize:u,prefix:d,glyphAnchor:f,isActive:g}){let y=i;typeof y=="number"?y=`${y}px`:typeof y=="string"&&!y.endsWith("px")?y=`${y}px`:y||(y="8px");const v=u||[25,41],w=Math.round(v[0]*(41/25)),_=Math.round(v[1]*(41/41)),j=Math.round(w*12/41),E=_,T=El();return Dt.icon.glyph({iconUrl:s||`${T}assets/icons/glyph-marker-icon-blue.svg`,iconSize:v,iconAnchor:[Math.round(v[0]/2),v[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:`${T}assets/icons/marker-shadow.png`,shadowSize:[w,_],shadowAnchor:[j,E],prefix:d||"",glyph:e||"",glyphColor:t||"white",bgColor:n,glyphSize:y,glyphAnchor:f||[0,0],className:g?`${o} marker-active`:o||""})}function yv(e="md"){const t={sm:"(max-width: 639px)",md:"(max-width: 767px)",lg:"(max-width: 1023px)",xl:"(max-width: 1279px)","2xl":"(max-width: 1535px)"},n=t[e]||t.md,[i,s]=k.useState(()=>typeof window<"u"?window.matchMedia(n).matches:!1);return k.useEffect(()=>{if(typeof window>"u")return;const o=window.matchMedia(n),u=()=>s(o.matches);return o.addEventListener("change",u),()=>o.removeEventListener("change",u)},[n]),i}const vv=k.createContext({});function bv(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const xv=typeof window<"u",ZC=xv?k.useLayoutEffect:k.useEffect,Nf=k.createContext(null);function _v(e,t){e.indexOf(t)===-1&&e.push(t)}function wv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const is=(e,t,n)=>n>t?t:n<e?e:n;let Sv=()=>{};const rs={},GC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function KC(e){return typeof e=="object"&&e!==null}const WC=e=>/^0[^.\s]+$/u.test(e);function Cv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ri=e=>e,G4=(e,t)=>n=>t(e(n)),Hc=(...e)=>e.reduce(G4),Cc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class jv{constructor(){this.subscriptions=[]}add(t){return _v(this.subscriptions,t),()=>wv(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wr=e=>e*1e3,Pi=e=>e/1e3;function YC(e,t){return t?e*(1e3/t):0}const XC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,K4=1e-7,W4=12;function Y4(e,t,n,i,s){let o,u,d=0;do u=t+(n-t)/2,o=XC(u,i,s)-e,o>0?n=u:t=u;while(Math.abs(o)>K4&&++d<W4);return u}function Fc(e,t,n,i){if(e===t&&n===i)return Ri;const s=o=>Y4(o,0,1,e,n);return o=>o===0||o===1?o:XC(s(o),t,i)}const QC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,JC=e=>t=>1-e(1-t),ej=Fc(.33,1.53,.69,.99),Ev=JC(ej),tj=QC(Ev),nj=e=>(e*=2)<1?.5*Ev(e):.5*(2-Math.pow(2,-10*(e-1))),kv=e=>1-Math.sin(Math.acos(e)),ij=JC(kv),rj=QC(kv),X4=Fc(.42,0,1,1),Q4=Fc(0,0,.58,1),sj=Fc(.42,0,.58,1),J4=e=>Array.isArray(e)&&typeof e[0]!="number",aj=e=>Array.isArray(e)&&typeof e[0]=="number",eD={linear:Ri,easeIn:X4,easeInOut:sj,easeOut:Q4,circIn:kv,circInOut:rj,circOut:ij,backIn:Ev,backInOut:tj,backOut:ej,anticipate:nj},tD=e=>typeof e=="string",X1=e=>{if(aj(e)){Sv(e.length===4);const[t,n,i,s]=e;return Fc(t,n,i,s)}else if(tD(e))return eD[e];return e},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nD(e,t){let n=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,v=!1,w=!1)=>{const j=w&&s?n:i;return v&&u.add(y),j.has(y)||j.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(d=y,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,g.process(y))}};return g}const iD=40;function oj(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=Mh.reduce((A,U)=>(A[U]=nD(o),A),{}),{setup:d,read:f,resolveKeyframes:g,preUpdate:y,update:v,preRender:w,render:_,postRender:j}=u,E=()=>{const A=rs.useManualTiming?s.timestamp:performance.now();n=!1,rs.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(A-s.timestamp,iD),1)),s.timestamp=A,s.isProcessing=!0,d.process(s),f.process(s),g.process(s),y.process(s),v.process(s),w.process(s),_.process(s),j.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(E))},T=()=>{n=!0,i=!0,s.isProcessing||e(E)};return{schedule:Mh.reduce((A,U)=>{const H=u[U];return A[U]=(R,q=!1,J=!1)=>(n||T(),H.schedule(R,q,J)),A},{}),cancel:A=>{for(let U=0;U<Mh.length;U++)u[Mh[U]].cancel(A)},state:s,steps:u}}const{schedule:zt,cancel:Ks,state:Sn,steps:gg}=oj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ri,!0);let Uh;function rD(){Uh=void 0}const ei={now:()=>(Uh===void 0&&ei.set(Sn.isProcessing||rs.useManualTiming?Sn.timestamp:performance.now()),Uh),set:e=>{Uh=e,queueMicrotask(rD)}},lj=e=>t=>typeof t=="string"&&t.startsWith(e),Tv=lj("--"),sD=lj("var(--"),Lv=e=>sD(e)?aD.test(e.split("/*")[0].trim()):!1,aD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jc={...Rl,transform:e=>is(0,1,e)},Oh={...Rl,default:1},cc=e=>Math.round(e*1e5)/1e5,Nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oD(e){return e==null}const lD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Av=(e,t)=>n=>!!(typeof n=="string"&&lD.test(n)&&n.startsWith(e)||t&&!oD(n)&&Object.prototype.hasOwnProperty.call(n,t)),uj=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,u,d]=i.match(Nv);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},uD=e=>is(0,255,e),yg={...Rl,transform:e=>Math.round(uD(e))},Wa={test:Av("rgb","red"),parse:uj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+yg.transform(e)+", "+yg.transform(t)+", "+yg.transform(n)+", "+cc(jc.transform(i))+")"};function cD(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const py={test:Av("#"),parse:cD,transform:Wa.transform},qc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zs=qc("deg"),Sr=qc("%"),Ze=qc("px"),dD=qc("vh"),hD=qc("vw"),Q1={...Sr,parse:e=>Sr.parse(e)/100,transform:e=>Sr.transform(e*100)},al={test:Av("hsl","hue"),parse:uj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Sr.transform(cc(t))+", "+Sr.transform(cc(n))+", "+cc(jc.transform(i))+")"},an={test:e=>Wa.test(e)||py.test(e)||al.test(e),parse:e=>Wa.test(e)?Wa.parse(e):al.test(e)?al.parse(e):py.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wa.transform(e):al.transform(e),getAnimatableNone:e=>{const t=an.parse(e);return t.alpha=0,an.transform(t)}},fD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mD(e){return isNaN(e)&&typeof e=="string"&&(e.match(Nv)?.length||0)+(e.match(fD)?.length||0)>0}const cj="number",dj="color",pD="var",gD="var(",J1="${}",yD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ec(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const d=t.replace(yD,f=>(an.test(f)?(i.color.push(o),s.push(dj),n.push(an.parse(f))):f.startsWith(gD)?(i.var.push(o),s.push(pD),n.push(f)):(i.number.push(o),s.push(cj),n.push(parseFloat(f))),++o,J1)).split(J1);return{values:n,split:d,indexes:i,types:s}}function hj(e){return Ec(e).values}function fj(e){const{split:t,types:n}=Ec(e),i=t.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],s[u]!==void 0){const d=n[u];d===cj?o+=cc(s[u]):d===dj?o+=an.transform(s[u]):o+=s[u]}return o}}const vD=e=>typeof e=="number"?0:an.test(e)?an.getAnimatableNone(e):e;function bD(e){const t=hj(e);return fj(e)(t.map(vD))}const Ws={test:mD,parse:hj,createTransformer:fj,getAnimatableNone:bD};function vg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xD({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,u=0;if(!t)s=o=u=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=vg(f,d,e+1/3),o=vg(f,d,e),u=vg(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function rf(e,t){return n=>n>0?t:e}const Ut=(e,t,n)=>e+(t-e)*n,bg=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},_D=[py,Wa,al],wD=e=>_D.find(t=>t.test(e));function ew(e){const t=wD(e);if(!t)return!1;let n=t.parse(e);return t===al&&(n=xD(n)),n}const tw=(e,t)=>{const n=ew(e),i=ew(t);if(!n||!i)return rf(e,t);const s={...n};return o=>(s.red=bg(n.red,i.red,o),s.green=bg(n.green,i.green,o),s.blue=bg(n.blue,i.blue,o),s.alpha=Ut(n.alpha,i.alpha,o),Wa.transform(s))},gy=new Set(["none","hidden"]);function SD(e,t){return gy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function CD(e,t){return n=>Ut(e,t,n)}function Mv(e){return typeof e=="number"?CD:typeof e=="string"?Lv(e)?rf:an.test(e)?tw:kD:Array.isArray(e)?mj:typeof e=="object"?an.test(e)?tw:jD:rf}function mj(e,t){const n=[...e],i=n.length,s=e.map((o,u)=>Mv(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}}function jD(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Mv(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function ED(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],u=e.indexes[o][i[o]],d=e.values[u]??0;n[s]=d,i[o]++}return n}const kD=(e,t)=>{const n=Ws.createTransformer(t),i=Ec(e),s=Ec(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?gy.has(e)&&!s.values.length||gy.has(t)&&!i.values.length?SD(e,t):Hc(mj(ED(i,s),s.values),n):rf(e,t)};function pj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ut(e,t,n):Mv(e)(e,t)}const TD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>zt.update(t,n),stop:()=>Ks(t),now:()=>Sn.isProcessing?Sn.timestamp:ei.now()}},gj=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},sf=2e4;function Ov(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<sf;)t+=n,i=e.next(t);return t>=sf?1/0:t}function LD(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Ov(i),sf);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Pi(s)}}const ND=5;function yj(e,t,n){const i=Math.max(t-ND,0);return YC(n-e(i),t-i)}const Gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xg=.001;function AD({duration:e=Gt.duration,bounce:t=Gt.bounce,velocity:n=Gt.velocity,mass:i=Gt.mass}){let s,o,u=1-t;u=is(Gt.minDamping,Gt.maxDamping,u),e=is(Gt.minDuration,Gt.maxDuration,Pi(e)),u<1?(s=g=>{const y=g*u,v=y*e,w=y-n,_=yy(g,u),j=Math.exp(-v);return xg-w/_*j},o=g=>{const v=g*u*e,w=v*n+n,_=Math.pow(u,2)*Math.pow(g,2)*e,j=Math.exp(-v),E=yy(Math.pow(g,2),u);return(-s(g)+xg>0?-1:1)*((w-_)*j)/E}):(s=g=>{const y=Math.exp(-g*e),v=(g-n)*e+1;return-xg+y*v},o=g=>{const y=Math.exp(-g*e),v=(n-g)*(e*e);return y*v});const d=5/e,f=OD(s,o,d);if(e=wr(e),isNaN(f))return{stiffness:Gt.stiffness,damping:Gt.damping,duration:e};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:e}}}const MD=12;function OD(e,t,n){let i=n;for(let s=1;s<MD;s++)i=i-e(i)/t(i);return i}function yy(e,t){return e*Math.sqrt(1-t*t)}const PD=["duration","bounce"],RD=["stiffness","damping","mass"];function nw(e,t){return t.some(n=>e[n]!==void 0)}function DD(e){let t={velocity:Gt.velocity,stiffness:Gt.stiffness,damping:Gt.damping,mass:Gt.mass,isResolvedFromDuration:!1,...e};if(!nw(e,RD)&&nw(e,PD))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*is(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Gt.mass,stiffness:s,damping:o}}else{const n=AD(e);t={...t,...n,mass:Gt.mass},t.isResolvedFromDuration=!0}return t}function af(e=Gt.visualDuration,t=Gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:g,mass:y,duration:v,velocity:w,isResolvedFromDuration:_}=DD({...n,velocity:-Pi(n.velocity||0)}),j=w||0,E=g/(2*Math.sqrt(f*y)),T=u-o,M=Pi(Math.sqrt(f/y)),P=Math.abs(T)<5;i||(i=P?Gt.restSpeed.granular:Gt.restSpeed.default),s||(s=P?Gt.restDelta.granular:Gt.restDelta.default);let A;if(E<1){const H=yy(M,E);A=R=>{const q=Math.exp(-E*M*R);return u-q*((j+E*M*T)/H*Math.sin(H*R)+T*Math.cos(H*R))}}else if(E===1)A=H=>u-Math.exp(-M*H)*(T+(j+M*T)*H);else{const H=M*Math.sqrt(E*E-1);A=R=>{const q=Math.exp(-E*M*R),J=Math.min(H*R,300);return u-q*((j+E*M*T)*Math.sinh(J)+H*T*Math.cosh(J))/H}}const U={calculatedDuration:_&&v||null,next:H=>{const R=A(H);if(_)d.done=H>=v;else{let q=H===0?j:0;E<1&&(q=H===0?wr(j):yj(A,H,R));const J=Math.abs(q)<=i,G=Math.abs(u-R)<=s;d.done=J&&G}return d.value=d.done?u:R,d},toString:()=>{const H=Math.min(Ov(U),sf),R=gj(q=>U.next(H*q).value,H,30);return H+"ms "+R},toTransition:()=>{}};return U}af.applyToOptions=e=>{const t=LD(e,100,af);return e.ease=t.ease,e.duration=wr(t.duration),e.type="keyframes",e};function vy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:f,restDelta:g=.5,restSpeed:y}){const v=e[0],w={done:!1,value:v},_=J=>d!==void 0&&J<d||f!==void 0&&J>f,j=J=>d===void 0?f:f===void 0||Math.abs(d-J)<Math.abs(f-J)?d:f;let E=n*t;const T=v+E,M=u===void 0?T:u(T);M!==T&&(E=M-v);const P=J=>-E*Math.exp(-J/i),A=J=>M+P(J),U=J=>{const G=P(J),re=A(J);w.done=Math.abs(G)<=g,w.value=w.done?M:re};let H,R;const q=J=>{_(w.value)&&(H=J,R=af({keyframes:[w.value,j(w.value)],velocity:yj(A,J,w.value),damping:s,stiffness:o,restDelta:g,restSpeed:y}))};return q(0),{calculatedDuration:null,next:J=>{let G=!1;return!R&&H===void 0&&(G=!0,U(J),q(J)),H!==void 0&&J>=H?R.next(J-H):(!G&&U(J),w)}}}function zD(e,t,n){const i=[],s=n||rs.mix||pj,o=e.length-1;for(let u=0;u<o;u++){let d=s(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Ri:t;d=Hc(f,d)}i.push(d)}return i}function BD(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(Sv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=zD(t,i,s),f=d.length,g=y=>{if(u&&y<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const w=Cc(e[v],e[v+1],y);return d[v](w)};return n?y=>g(is(e[0],e[o-1],y)):g}function ID(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Cc(0,t,i);e.push(Ut(n,1,s))}}function VD(e){const t=[0];return ID(t,e.length-1),t}function UD(e,t){return e.map(n=>n*t)}function HD(e,t){return e.map(()=>t||sj).splice(0,e.length-1)}function dc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=J4(i)?i.map(X1):X1(i),o={done:!1,value:t[0]},u=UD(n&&n.length===t.length?n:VD(t),e),d=BD(u,t,{ease:Array.isArray(s)?s:HD(t,s)});return{calculatedDuration:e,next:f=>(o.value=d(f),o.done=f>=e,o)}}const FD=e=>e!==null;function Pv(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(FD),d=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!d||i===void 0?o[d]:i}const qD={decay:vy,inertia:vy,tween:dc,keyframes:dc,spring:af};function vj(e){typeof e.type=="string"&&(e.type=qD[e.type])}class Rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const $D=e=>e/100;class Dv extends Rv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vj(t);const{type:n=dc,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=t;let{keyframes:d}=t;const f=n||dc;f!==dc&&typeof d[0]!="number"&&(this.mixKeyframes=Hc($D,pj(d[0],d[1])),d=[0,100]);const g=f({...t,keyframes:d});o==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Ov(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:_,type:j,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-g*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,U=i;if(v){const J=Math.min(this.currentTime,s)/d;let G=Math.floor(J),re=J%1;!re&&J>=1&&(re=1),re===1&&G--,G=Math.min(G,v+1),!!(G%2)&&(w==="reverse"?(re=1-re,_&&(re-=_/d)):w==="mirror"&&(U=u)),A=is(0,1,re)*d}const H=P?{done:!1,value:y[0]}:U.next(A);o&&(H.value=o(H.value));let{done:R}=H;!P&&f!==null&&(R=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return q&&j!==vy&&(H.value=Pv(y,this.options,T,this.speed)),E&&E(H.value),q&&this.finish(),H}then(t,n){return this.finished.then(t,n)}get duration(){return Pi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pi(t)}get time(){return Pi(this.currentTime)}set time(t){t=wr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ei.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=TD,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ZD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ya=e=>e*180/Math.PI,by=e=>{const t=Ya(Math.atan2(e[1],e[0]));return xy(t)},GD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:by,rotateZ:by,skewX:e=>Ya(Math.atan(e[1])),skewY:e=>Ya(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xy=e=>(e=e%360,e<0&&(e+=360),e),iw=by,rw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),KD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rw,scaleY:sw,scale:e=>(rw(e)+sw(e))/2,rotateX:e=>xy(Ya(Math.atan2(e[6],e[5]))),rotateY:e=>xy(Ya(Math.atan2(-e[2],e[0]))),rotateZ:iw,rotate:iw,skewX:e=>Ya(Math.atan(e[4])),skewY:e=>Ya(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _y(e){return e.includes("scale")?1:0}function wy(e,t){if(!e||e==="none")return _y(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=KD,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=GD,s=d}if(!s)return _y(t);const o=i[t],u=s[1].split(",").map(YD);return typeof o=="function"?o(u):u[o]}const WD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wy(n,t)};function YD(e){return parseFloat(e.trim())}const Dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zl=new Set(Dl),aw=e=>e===Rl||e===Ze,XD=new Set(["x","y","z"]),QD=Dl.filter(e=>!XD.has(e));function JD(e){const t=[];return QD.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Xa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wy(t,"x"),y:(e,{transform:t})=>wy(t,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const Qa=new Set;let Sy=!1,Cy=!1,jy=!1;function bj(){if(Cy){const e=Array.from(Qa).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=JD(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cy=!1,Sy=!1,Qa.forEach(e=>e.complete(jy)),Qa.clear()}function xj(){Qa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cy=!0)})}function e6(){jy=!0,xj(),bj(),jy=!1}class zv{constructor(t,n,i,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qa.add(this),Sy||(Sy=!0,zt.read(xj),zt.resolveKeyframes(bj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const d=i.readValue(n,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),s&&o===void 0&&s.set(t[0])}ZD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qa.delete(this)}cancel(){this.state==="scheduled"&&(Qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t6=e=>e.startsWith("--");function n6(e,t,n){t6(t)?e.style.setProperty(t,n):e.style[t]=n}const i6=Cv(()=>window.ScrollTimeline!==void 0),r6={};function s6(e,t){const n=Cv(e);return()=>r6[t]??n()}const _j=s6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tc([0,.65,.55,1]),circOut:tc([.55,0,1,.45]),backIn:tc([.31,.01,.66,-.59]),backOut:tc([.33,1.53,.69,.99])};function wj(e,t){if(e)return typeof e=="function"?_j()?gj(e,t):"ease-out":aj(e)?tc(e):Array.isArray(e)?e.map(n=>wj(n,t)||ow.easeOut):ow[e]}function a6(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:d="easeOut",times:f}={},g=void 0){const y={[t]:n};f&&(y.offset=f);const v=wj(d,s);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),e.animate(y,w)}function Sj(e){return typeof e=="function"&&"applyToOptions"in e}function o6({type:e,...t}){return Sj(e)&&_j()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class l6 extends Rv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,Sv(typeof t.type!="string");const g=o6(t);this.animation=a6(n,i,s,g,o),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=Pv(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):n6(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Pi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pi(t)}get time(){return Pi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&i6()?(this.animation.timeline=t,Ri):n(this)}}const Cj={anticipate:nj,backInOut:tj,circInOut:rj};function u6(e){return e in Cj}function c6(e){typeof e.ease=="string"&&u6(e.ease)&&(e.ease=Cj[e.ease])}const lw=10;class d6 extends l6{constructor(t){c6(t),vj(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Dv({...u,autoplay:!1}),f=wr(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-lw).value,d.sample(f).value,lw),d.stop()}}const uw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ws.test(e)||e==="0")&&!e.startsWith("url("));function h6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function f6(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=uw(s,t),d=uw(o,t);return!u||!d?!1:h6(e)||(n==="spring"||Sj(n))&&i}function Ey(e){e.duration=0,e.type="keyframes"}const m6=new Set(["opacity","clipPath","filter","transform"]),p6=Cv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g6(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=t.owner.getProps();return p6()&&n&&m6.has(n)&&(n!=="transform"||!g)&&!f&&!i&&s!=="mirror"&&o!==0&&u!=="inertia"}const y6=40;class v6 extends Rv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:d,name:f,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ei.now();const w={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:u,name:f,motionValue:g,element:y,...v},_=y?.KeyframeResolver||zv;this.keyframeResolver=new _(d,(j,E,T)=>this.onKeyframesResolved(j,E,w,!T),f,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:d,delay:f,isHandoff:g,onUpdate:y}=i;this.resolvedAt=ei.now(),f6(t,o,u,d)||((rs.instantAnimations||!f)&&y?.(Pv(t,i,n)),t[0]=t[t.length-1],Ey(i),i.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>y6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!g&&g6(w)?new d6({...w,element:w.motionValue.owner.current}):new Dv(w);_.finished.then(()=>this.notifyFinished()).catch(Ri),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),e6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x6(e){const t=b6.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function jj(e,t,n=1){const[i,s]=x6(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return GC(u)?parseFloat(u):u}return Lv(s)?jj(s,t,n+1):s}function Bv(e,t){return e?.[t]??e?.default??e}const Ej=new Set(["width","height","top","left","right","bottom",...Dl]),_6={test:e=>e==="auto",parse:e=>e},kj=e=>t=>t.test(e),Tj=[Rl,Ze,Sr,Zs,hD,dD,_6],cw=e=>Tj.find(kj(e));function w6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||WC(e):!0}const S6=new Set(["brightness","contrast","saturate","opacity"]);function C6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Nv)||[];if(!i)return e;const s=n.replace(i,"");let o=S6.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const j6=/\b([a-z-]*)\(.*?\)/gu,ky={...Ws,getAnimatableNone:e=>{const t=e.match(j6);return t?t.map(C6).join(" "):e}},dw={...Rl,transform:Math.round},E6={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:Zs,skewX:Zs,skewY:Zs,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:jc,originX:Q1,originY:Q1,originZ:Ze},Iv={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...E6,zIndex:dw,fillOpacity:jc,strokeOpacity:jc,numOctaves:dw},k6={...Iv,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:ky,WebkitFilter:ky},Lj=e=>k6[e];function Nj(e,t){let n=Lj(e);return n!==ky&&(n=Ws),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const T6=new Set(["auto","none","0"]);function L6(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!T6.has(o)&&Ec(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=Nj(n,s)}class N6 extends zv{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let g=t[f];if(typeof g=="string"&&(g=g.trim(),Lv(g))){const y=jj(g,n.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ej.has(i)||t.length!==2)return;const[s,o]=t,u=cw(s),d=cw(o);if(u!==d)if(aw(u)&&aw(d))for(let f=0;f<t.length;f++){const g=t[f];typeof g=="string"&&(t[f]=parseFloat(g))}else Xa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||w6(t[s]))&&i.push(s);i.length&&L6(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Xa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function A6(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Aj=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Mj(e){return KC(e)&&"offsetHeight"in e}const hw=30,M6=e=>!isNaN(parseFloat(e));class O6{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=ei.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ei.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=M6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jv);const i=this.events[t].add(n);return t==="change"?()=>{i(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hw);return YC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(e,t){return new O6(e,t)}const{schedule:Vv}=oj(queueMicrotask,!1),Yi={x:!1,y:!1};function Oj(){return Yi.x||Yi.y}function P6(e){return e==="x"||e==="y"?Yi[e]?null:(Yi[e]=!0,()=>{Yi[e]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}function Pj(e,t){const n=A6(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function fw(e){return!(e.pointerType==="touch"||Oj())}function R6(e,t,n={}){const[i,s,o]=Pj(e,n),u=d=>{if(!fw(d))return;const{target:f}=d,g=t(f,d);if(typeof g!="function"||!f)return;const y=v=>{fw(v)&&(g(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,s)};return i.forEach(d=>{d.addEventListener("pointerenter",u,s)}),o}const Rj=(e,t)=>t?e===t?!0:Rj(e,t.parentElement):!1,Uv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,D6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z6(e){return D6.has(e.tagName)||e.tabIndex!==-1}const Hh=new WeakSet;function mw(e){return t=>{t.key==="Enter"&&e(t)}}function _g(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const B6=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=mw(()=>{if(Hh.has(n))return;_g(n,"down");const s=mw(()=>{_g(n,"up")}),o=()=>_g(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function pw(e){return Uv(e)&&!Oj()}function I6(e,t,n={}){const[i,s,o]=Pj(e,n),u=d=>{const f=d.currentTarget;if(!pw(d))return;Hh.add(f);const g=t(f,d),y=(_,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Hh.has(f)&&Hh.delete(f),pw(_)&&typeof g=="function"&&g(_,{success:j})},v=_=>{y(_,f===window||f===document||n.useGlobalTarget||Rj(f,_.target))},w=_=>{y(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),Mj(d)&&(d.addEventListener("focus",g=>B6(g,s)),!z6(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function Dj(e){return KC(e)&&"ownerSVGElement"in e}function V6(e){return Dj(e)&&e.tagName==="svg"}const An=e=>!!(e&&e.getVelocity),U6=[...Tj,an,Ws],H6=e=>U6.find(kj(e)),Hv=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function gw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function F6(...e){return t=>{let n=!1;const i=e.map(s=>{const o=gw(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():gw(e[s],null)}}}}function q6(...e){return k.useCallback(F6(...e),e)}class $6 extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=Mj(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z6({children:e,isPresent:t,anchorX:n,root:i}){const s=k.useId(),o=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=k.useContext(Hv),f=q6(o,e?.ref);return k.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:w,right:_}=u.current;if(t||!o.current||!g||!y)return;const j=n==="left"?`left: ${w}`:`right: ${_}`;o.current.dataset.motionPopId=s;const E=document.createElement("style");d&&(E.nonce=d);const T=i??document.head;return T.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(E)&&T.removeChild(E)}},[t]),h.jsx($6,{isPresent:t,childRef:o,sizeRef:u,children:k.cloneElement(e,{ref:f})})}const G6=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:d,root:f})=>{const g=bv(K6),y=k.useId();let v=!0,w=k.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:n,custom:s,onExitComplete:_=>{g.set(_,!0);for(const j of g.values())if(!j)return;i&&i()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[n,g,i]);return o&&v&&(w={...w}),k.useMemo(()=>{g.forEach((_,j)=>g.set(j,!1))},[n]),k.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),u==="popLayout"&&(e=h.jsx(Z6,{isPresent:n,anchorX:d,root:f,children:e})),h.jsx(Nf.Provider,{value:w,children:e})};function K6(){return new Map}function zj(e=!0){const t=k.useContext(Nf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=k.useId();k.useEffect(()=>{if(e)return s(o)},[e]);const u=k.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const Ph=e=>e.key||"";function yw(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const W6=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[g,y]=zj(u),v=k.useMemo(()=>yw(e),[e]),w=u&&!g?[]:v.map(Ph),_=k.useRef(!0),j=k.useRef(v),E=bv(()=>new Map),[T,M]=k.useState(v),[P,A]=k.useState(v);ZC(()=>{_.current=!1,j.current=v;for(let R=0;R<P.length;R++){const q=Ph(P[R]);w.includes(q)?E.delete(q):E.get(q)!==!0&&E.set(q,!1)}},[P,w.length,w.join("-")]);const U=[];if(v!==T){let R=[...v];for(let q=0;q<P.length;q++){const J=P[q],G=Ph(J);w.includes(G)||(R.splice(q,0,J),U.push(J))}return o==="wait"&&U.length&&(R=U),A(yw(R)),M(v),null}const{forceRender:H}=k.useContext(vv);return h.jsx(h.Fragment,{children:P.map(R=>{const q=Ph(R),J=u&&!g?!1:v===P||w.includes(q),G=()=>{if(E.has(q))E.set(q,!0);else return;let re=!0;E.forEach(W=>{W||(re=!1)}),re&&(H?.(),A(j.current),u&&y?.(),i&&i())};return h.jsx(G6,{isPresent:J,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:J?void 0:G,anchorX:d,children:R},q)})})},Bj=k.createContext({strict:!1}),vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jl={};for(const e in vw)jl[e]={isEnabled:t=>vw[e].some(n=>!!t[n])};function Y6(e){for(const t in e)jl[t]={...jl[t],...e[t]}}const X6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function of(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||X6.has(e)}let Ij=e=>!of(e);function Q6(e){typeof e=="function"&&(Ij=t=>t.startsWith("on")?!of(t):e(t))}try{Q6(require("@emotion/is-prop-valid").default)}catch{}function J6(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Ij(s)||n===!0&&of(s)||!t&&!of(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Af=k.createContext({});function Mf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function kc(e){return typeof e=="string"||Array.isArray(e)}const Fv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qv=["initial",...Fv];function Of(e){return Mf(e.animate)||qv.some(t=>kc(e[t]))}function Vj(e){return!!(Of(e)||e.variants)}function ez(e,t){if(Of(e)){const{initial:n,animate:i}=e;return{initial:n===!1||kc(n)?n:void 0,animate:kc(i)?i:void 0}}return e.inherit!==!1?t:{}}function tz(e){const{initial:t,animate:n}=ez(e,k.useContext(Af));return k.useMemo(()=>({initial:t,animate:n}),[bw(t),bw(n)])}function bw(e){return Array.isArray(e)?e.join(" "):e}const Tc={};function nz(e){for(const t in e)Tc[t]=e[t],Tv(t)&&(Tc[t].isCSSVariable=!0)}function Uj(e,{layout:t,layoutId:n}){return zl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tc[e]||e==="opacity")}const iz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rz=Dl.length;function sz(e,t,n){let i="",s=!0;for(let o=0;o<rz;o++){const u=Dl[o],d=e[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const g=Aj(d,Iv[u]);if(!f){s=!1;const y=iz[u]||u;i+=`${y}(${g}) `}n&&(t[u]=g)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function $v(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let u=!1,d=!1;for(const f in t){const g=t[f];if(zl.has(f)){u=!0;continue}else if(Tv(f)){s[f]=g;continue}else{const y=Aj(g,Iv[f]);f.startsWith("origin")?(d=!0,o[f]=y):i[f]=y}}if(t.transform||(u||n?i.transform=sz(t,e.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:g="50%",originZ:y=0}=o;i.transformOrigin=`${f} ${g} ${y}`}}const Zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hj(e,t,n){for(const i in t)!An(t[i])&&!Uj(i,n)&&(e[i]=t[i])}function az({transformTemplate:e},t){return k.useMemo(()=>{const n=Zv();return $v(n,t,e),Object.assign({},n.vars,n.style)},[t])}function oz(e,t){const n=e.style||{},i={};return Hj(i,n,e),Object.assign(i,az(e,t)),i}function lz(e,t){const n={},i=oz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const uz={offset:"stroke-dashoffset",array:"stroke-dasharray"},cz={offset:"strokeDashoffset",array:"strokeDasharray"};function dz(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?uz:cz;e[o.offset]=Ze.transform(-i);const u=Ze.transform(t),d=Ze.transform(n);e[o.array]=`${u} ${d}`}function Fj(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...d},f,g,y){if($v(e,d,g),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:w}=e;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&dz(v,s,o,u,!1)}const qj=()=>({...Zv(),attrs:{}}),$j=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hz(e,t,n,i){const s=k.useMemo(()=>{const o=qj();return Fj(o,t,$j(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Hj(o,e.style,e),s.style={...o,...s.style}}return s}const fz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gv(e){return typeof e!="string"||e.includes("-")?!1:!!(fz.indexOf(e)>-1||/[A-Z]/u.test(e))}function mz(e,t,n,{latestValues:i},s,o=!1){const d=(Gv(e)?hz:lz)(t,i,s,e),f=J6(t,typeof e=="string",o),g=e!==k.Fragment?{...f,...d,ref:n}:{},{children:y}=t,v=k.useMemo(()=>An(y)?y.get():y,[y]);return k.createElement(e,{...g,children:v})}function xw(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Kv(e,t,n,i){if(typeof t=="function"){const[s,o]=xw(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=xw(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function Fh(e){return An(e)?e.get():e}function pz({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:gz(n,i,s,e),renderState:t()}}function gz(e,t,n,i){const s={},o=i(e,{});for(const w in o)s[w]=Fh(o[w]);let{initial:u,animate:d}=e;const f=Of(e),g=Vj(e);t&&g&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?d:u;if(v&&typeof v!="boolean"&&!Mf(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const j=Kv(e,w[_]);if(j){const{transitionEnd:E,transition:T,...M}=j;for(const P in M){let A=M[P];if(Array.isArray(A)){const U=y?A.length-1:0;A=A[U]}A!==null&&(s[P]=A)}for(const P in E)s[P]=E[P]}}}return s}const Zj=e=>(t,n)=>{const i=k.useContext(Af),s=k.useContext(Nf),o=()=>pz(e,t,i,s);return n?o():bv(o)};function Wv(e,t,n){const{style:i}=e,s={};for(const o in i)(An(i[o])||t.style&&An(t.style[o])||Uj(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const yz=Zj({scrapeMotionValuesFromProps:Wv,createRenderState:Zv});function Gj(e,t,n){const i=Wv(e,t,n);for(const s in e)if(An(e[s])||An(t[s])){const o=Dl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}const vz=Zj({scrapeMotionValuesFromProps:Gj,createRenderState:qj}),bz=Symbol.for("motionComponentSymbol");function ol(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xz(e,t,n){return k.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):ol(n)&&(n.current=i))},[t])}const Yv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_z="framerAppearId",Kj="data-"+Yv(_z),Wj=k.createContext({});function wz(e,t,n,i,s){const{visualElement:o}=k.useContext(Af),u=k.useContext(Bj),d=k.useContext(Nf),f=k.useContext(Hv).reducedMotion,g=k.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=g.current,v=k.useContext(Wj);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&Sz(g.current,n,s,v);const w=k.useRef(!1);k.useInsertionEffect(()=>{y&&w.current&&y.update(n,d)});const _=n[Kj],j=k.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return ZC(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),j.current=!1),y.enteringChildren=void 0)}),y}function Sz(e,t,n,i){const{layoutId:s,layout:o,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yj(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||d&&ol(d),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:g})}function Yj(e){if(e)return e.options.allowProjection!==!1?e.projection:Yj(e.parent)}function wg(e,{forwardMotionProps:t=!1}={},n,i){n&&Y6(n);const s=Gv(e)?vz:yz;function o(d,f){let g;const y={...k.useContext(Hv),...d,layoutId:Cz(d)},{isStatic:v}=y,w=tz(d),_=s(d,v);if(!v&&xv){jz();const j=Ez(y);g=j.MeasureLayout,w.visualElement=wz(e,_,y,i,j.ProjectionNode)}return h.jsxs(Af.Provider,{value:w,children:[g&&w.visualElement?h.jsx(g,{visualElement:w.visualElement,...y}):null,mz(e,d,xz(_,w.visualElement,f),_,v,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=k.forwardRef(o);return u[bz]=e,u}function Cz({layoutId:e}){const t=k.useContext(vv).id;return t&&e!==void 0?t+"-"+e:e}function jz(e,t){k.useContext(Bj).strict}function Ez(e){const{drag:t,layout:n}=jl;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kz(e,t){if(typeof Proxy>"u")return wg;const n=new Map,i=(o,u)=>wg(o,u,e,t),s=(o,u)=>i(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,wg(u,void 0,e,t)),n.get(u))})}function Xj({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function Tz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Lz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Sg(e){return e===void 0||e===1}function Ty({scale:e,scaleX:t,scaleY:n}){return!Sg(e)||!Sg(t)||!Sg(n)}function $a(e){return Ty(e)||Qj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Qj(e){return _w(e.x)||_w(e.y)}function _w(e){return e&&e!=="0%"}function lf(e,t,n){const i=e-n,s=t*i;return n+s}function ww(e,t,n,i,s){return s!==void 0&&(e=lf(e,s,i)),lf(e,n,i)+t}function Ly(e,t=0,n=1,i,s){e.min=ww(e.min,t,n,i,s),e.max=ww(e.max,t,n,i,s)}function Jj(e,{x:t,y:n}){Ly(e.x,t.translate,t.scale,t.originPoint),Ly(e.y,n.translate,n.scale,n.originPoint)}const Sw=.999999999999,Cw=1.0000000000001;function Nz(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,u;for(let d=0;d<s;d++){o=n[d],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ul(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Jj(e,u)),i&&$a(o.latestValues)&&ul(e,o.latestValues))}t.x<Cw&&t.x>Sw&&(t.x=1),t.y<Cw&&t.y>Sw&&(t.y=1)}function ll(e,t){e.min=e.min+t,e.max=e.max+t}function jw(e,t,n,i,s=.5){const o=Ut(e.min,e.max,s);Ly(e,t,n,o,i)}function ul(e,t){jw(e.x,t.x,t.scaleX,t.scale,t.originX),jw(e.y,t.y,t.scaleY,t.scale,t.originY)}function eE(e,t){return Xj(Lz(e.getBoundingClientRect(),t))}function Az(e,t,n){const i=eE(e,n),{scroll:s}=t;return s&&(ll(i.x,s.offset.x),ll(i.y,s.offset.y)),i}const Ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),cl=()=>({x:Ew(),y:Ew()}),kw=()=>({min:0,max:0}),Yt=()=>({x:kw(),y:kw()}),Ny={current:null},tE={current:!1};function Mz(){if(tE.current=!0,!!xv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ny.current=e.matches;e.addEventListener("change",t),t()}else Ny.current=!1}const Oz=new WeakMap;function Pz(e,t,n){for(const i in t){const s=t[i],o=n[i];if(An(s))e.addValue(i,s);else if(An(o))e.addValue(i,Cl(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(i);e.addValue(i,Cl(u!==void 0?u:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rz{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ei.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Of(n),this.isVariantNode=Vj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const _=v[w];f[w]!==void 0&&An(_)&&_.set(f[w])}}mount(t){this.current=t,Oz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),tE.current||Mz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ny.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=zl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jl){const n=jl[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Tw.length;i++){const s=Tw[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=t[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=Pz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Cl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(GC(i)||WC(i))?i=parseFloat(i):!H6(i)&&Ws.test(n)&&(i=Nj(t,n)),this.setBaseTarget(t,An(i)?i.get():i)),An(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Kv(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!An(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Vv.render(this.render)}}class nE extends Rz{constructor(){super(...arguments),this.KeyframeResolver=N6}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iE(e,{style:t,vars:n},i,s){const o=e.style;let u;for(u in t)o[u]=t[u];s?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function Dz(e){return window.getComputedStyle(e)}class zz extends nE{constructor(){super(...arguments),this.type="html",this.renderInstance=iE}readValueFromInstance(t,n){if(zl.has(n))return this.projection?.isProjecting?_y(n):WD(t,n);{const i=Dz(t),s=(Tv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eE(t,n)}build(t,n,i){$v(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Wv(t,n,i)}}const rE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bz(e,t,n,i){iE(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(rE.has(s)?s:Yv(s),t.attrs[s])}class Iz extends nE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(zl.has(n)){const i=Lj(n);return i&&i.default||0}return n=rE.has(n)?n:Yv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Gj(t,n,i)}build(t,n,i){Fj(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){Bz(t,n,i,s)}mount(t){this.isSVGTag=$j(t.tagName),super.mount(t)}}const Vz=(e,t)=>Gv(e)?new Iz(t):new zz(t,{allowProjection:e!==k.Fragment});function gl(e,t,n){const i=e.getProps();return Kv(i,t,n!==void 0?n:i.custom,e)}const Ay=e=>Array.isArray(e);function Uz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Cl(n))}function Hz(e){return Ay(e)?e[e.length-1]||0:e}function Fz(e,t){const n=gl(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const u in o){const d=Hz(o[u]);Uz(e,u,d)}}function qz(e){return!!(An(e)&&e.add)}function My(e,t){const n=e.getValue("willChange");if(qz(n))return n.add(t);if(!n&&rs.WillChange){const i=new rs.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function sE(e){return e.props[Kj]}const $z=e=>e!==null;function Zz(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter($z),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}const Gz={type:"spring",stiffness:500,damping:25,restSpeed:10},Kz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Wz={type:"keyframes",duration:.8},Yz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xz=(e,{keyframes:t})=>t.length>2?Wz:zl.has(e)?e.startsWith("scale")?Kz(t[1]):Gz:Yz;function Qz({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:d,from:f,elapsed:g,...y}){return!!Object.keys(y).length}const Xv=(e,t,n,i={},s,o)=>u=>{const d=Bv(i,e)||{},f=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-wr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:w=>{t.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:o?void 0:s};Qz(d)||Object.assign(y,Xz(e,y)),y.duration&&(y.duration=wr(y.duration)),y.repeatDelay&&(y.repeatDelay=wr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ey(y),y.delay===0&&(v=!0)),(rs.instantAnimations||rs.skipAnimations)&&(v=!0,Ey(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!o&&t.get()!==void 0){const w=Zz(y.keyframes,d);if(w!==void 0){zt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new Dv(y):new v6(y)};function Jz({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function aE(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...d}=t;i&&(o=i);const f=[],g=s&&e.animationState&&e.animationState.getState()[s];for(const y in d){const v=e.getValue(y,e.latestValues[y]??null),w=d[y];if(w===void 0||g&&Jz(g,y))continue;const _={delay:n,...Bv(o||{},y)},j=v.get();if(j!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===j&&!_.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const M=sE(e);if(M){const P=window.MotionHandoffAnimation(M,y,zt);P!==null&&(_.startTime=P,E=!0)}}My(e,y),v.start(Xv(y,v,w,e.shouldReduceMotion&&Ej.has(y)?{type:!1}:_,e,E));const T=v.animation;T&&f.push(T)}return u&&Promise.all(f).then(()=>{zt.update(()=>{u&&Fz(e,u)})}),f}function oE(e,t,n,i=0,s=1){const o=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=e.size,d=(u-1)*i;return typeof n=="function"?n(o,u):s===1?o*i:d-o*i}function Oy(e,t,n={}){const i=gl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(aE(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=s;return eB(e,t,f,g,y,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,g]=d==="beforeChildren"?[o,u]:[u,o];return f().then(()=>g())}else return Promise.all([o(),u(n.delay)])}function eB(e,t,n=0,i=0,s=0,o=1,u){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(Oy(f,t,{...u,delay:n+(typeof i=="function"?0:i)+oE(e.variantChildren,f,i,s,o)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function tB(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Oy(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Oy(e,t,n);else{const s=typeof t=="function"?gl(e,t,n.custom):t;i=Promise.all(aE(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function lE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const nB=qv.length;function uE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?uE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nB;n++){const i=qv[n],s=e.props[i];(kc(s)||s===!1)&&(t[i]=s)}return t}const iB=[...Fv].reverse(),rB=Fv.length;function sB(e){return t=>Promise.all(t.map(({animation:n,options:i})=>tB(e,n,i)))}function aB(e){let t=sB(e),n=Lw(),i=!0;const s=f=>(g,y)=>{const v=gl(e,y,f==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:_,...j}=v;g={...g,...j,..._}}return g};function o(f){t=f(e)}function u(f){const{props:g}=e,y=uE(e.parent)||{},v=[],w=new Set;let _={},j=1/0;for(let T=0;T<rB;T++){const M=iB[T],P=n[M],A=g[M]!==void 0?g[M]:y[M],U=kc(A),H=M===f?P.isActive:null;H===!1&&(j=T);let R=A===y[M]&&A!==g[M]&&U;if(R&&i&&e.manuallyAnimateOnMount&&(R=!1),P.protectedKeys={..._},!P.isActive&&H===null||!A&&!P.prevProp||Mf(A)||typeof A=="boolean")continue;const q=oB(P.prevProp,A);let J=q||M===f&&P.isActive&&!R&&U||T>j&&U,G=!1;const re=Array.isArray(A)?A:[A];let W=re.reduce(s(M),{});H===!1&&(W={});const{prevResolvedValues:ee={}}=P,le={...ee,...W},Y=Z=>{J=!0,w.has(Z)&&(G=!0,w.delete(Z)),P.needsAnimating[Z]=!0;const ne=e.getValue(Z);ne&&(ne.liveStyle=!1)};for(const Z in le){const ne=W[Z],Ce=ee[Z];if(_.hasOwnProperty(Z))continue;let D=!1;Ay(ne)&&Ay(Ce)?D=!lE(ne,Ce):D=ne!==Ce,D?ne!=null?Y(Z):w.add(Z):ne!==void 0&&w.has(Z)?Y(Z):P.protectedKeys[Z]=!0}P.prevProp=A,P.prevResolvedValues=W,P.isActive&&(_={..._,...W}),i&&e.blockInitialAnimation&&(J=!1);const se=R&&q;J&&(!se||G)&&v.push(...re.map(Z=>{const ne={type:M};if(typeof Z=="string"&&i&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ce}=e,D=gl(Ce,Z);if(Ce.enteringChildren&&D){const{delayChildren:z}=D.transition||{};ne.delay=oE(Ce.enteringChildren,e,z)}}return{animation:Z,options:ne}}))}if(w.size){const T={};if(typeof g.initial!="boolean"){const M=gl(e,Array.isArray(g.initial)?g.initial[0]:g.initial);M&&M.transition&&(T.transition=M.transition)}w.forEach(M=>{const P=e.getBaseTarget(M),A=e.getValue(M);A&&(A.liveStyle=!0),T[M]=P??null}),v.push({animation:T})}let E=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function d(f,g){if(n[f].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(f,g)),n[f].isActive=g;const y=u(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Lw()}}}function oB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lE(t,e):!1}function Ha(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lw(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class Js{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lB extends Js{constructor(t){super(t),t.animationState||(t.animationState=aB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uB=0;class cB extends Js{constructor(){super(...arguments),this.id=uB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dB={animation:{Feature:lB},exit:{Feature:cB}};function Lc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function $c(e){return{point:{x:e.pageX,y:e.pageY}}}const hB=e=>t=>Uv(t)&&e(t,$c(t));function hc(e,t,n,i){return Lc(e,t,hB(n),i)}const cE=1e-4,fB=1-cE,mB=1+cE,dE=.01,pB=0-dE,gB=0+dE;function In(e){return e.max-e.min}function yB(e,t,n){return Math.abs(e-t)<=n}function Nw(e,t,n,i=.5){e.origin=i,e.originPoint=Ut(t.min,t.max,e.origin),e.scale=In(n)/In(t),e.translate=Ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=fB&&e.scale<=mB||isNaN(e.scale))&&(e.scale=1),(e.translate>=pB&&e.translate<=gB||isNaN(e.translate))&&(e.translate=0)}function fc(e,t,n,i){Nw(e.x,t.x,n.x,i?i.originX:void 0),Nw(e.y,t.y,n.y,i?i.originY:void 0)}function Aw(e,t,n){e.min=n.min+t.min,e.max=e.min+In(t)}function vB(e,t,n){Aw(e.x,t.x,n.x),Aw(e.y,t.y,n.y)}function Mw(e,t,n){e.min=t.min-n.min,e.max=e.min+In(t)}function mc(e,t,n){Mw(e.x,t.x,n.x),Mw(e.y,t.y,n.y)}function Mi(e){return[e("x"),e("y")]}const hE=({current:e})=>e?e.ownerDocument.defaultView:null,Ow=(e,t)=>Math.abs(e-t);function bB(e,t){const n=Ow(e.x,t.x),i=Ow(e.y,t.y);return Math.sqrt(n**2+i**2)}class fE{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=jg(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,j=bB(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!j)return;const{point:E}=w,{timestamp:T}=Sn;this.history.push({...E,timestamp:T});const{onStart:M,onMove:P}=this.handlers;_||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Cg(_,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:j,onSessionEnd:E,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=jg(w.type==="pointercancel"?this.lastMoveEventInfo:Cg(_,this.transformPagePoint),this.history);this.startEvent&&j&&j(w,M),E&&E(w,M)},!Uv(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=s||window;const d=$c(t),f=Cg(d,this.transformPagePoint),{point:g}=f,{timestamp:y}=Sn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,jg(f,this.history)),this.removeListeners=Hc(hc(this.contextWindow,"pointermove",this.handlePointerMove),hc(this.contextWindow,"pointerup",this.handlePointerUp),hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Cg(e,t){return t?{point:t(e.point)}:e}function Pw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jg({point:e},t){return{point:e,delta:Pw(e,mE(t)),offset:Pw(e,xB(t)),velocity:_B(t,.1)}}function xB(e){return e[0]}function mE(e){return e[e.length-1]}function _B(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=mE(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>wr(t)));)n--;if(!i)return{x:0,y:0};const o=Pi(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function wB(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ut(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ut(n,e,i.max):Math.min(e,n)),e}function Rw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function SB(e,{top:t,left:n,bottom:i,right:s}){return{x:Rw(e.x,n,s),y:Rw(e.y,t,i)}}function Dw(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function CB(e,t){return{x:Dw(e.x,t.x),y:Dw(e.y,t.y)}}function jB(e,t){let n=.5;const i=In(e),s=In(t);return s>i?n=Cc(t.min,t.max-i,e.min):i>s&&(n=Cc(e.min,e.max-s,t.min)),is(0,1,n)}function EB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Py=.35;function kB(e=Py){return e===!1?e=0:e===!0&&(e=Py),{x:zw(e,"left","right"),y:zw(e,"top","bottom")}}function zw(e,t,n){return{min:Bw(e,t),max:Bw(e,n)}}function Bw(e,t){return typeof e=="number"?e:e[t]||0}const TB=new WeakMap;class LB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($c(v).point)},u=(v,w)=>{const{drag:_,dragPropagation:j,onDragStart:E}=this.getProps();if(_&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P6(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(M=>{let P=this.getAxisMotionValue(M).get()||0;if(Sr.test(P)){const{projection:A}=this.visualElement;if(A&&A.layout){const U=A.layout.layoutBox[M];U&&(P=In(U)*(parseFloat(P)/100))}}this.originPoint[M]=P}),E&&zt.postRender(()=>E(v,w)),My(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:j,onDirectionLock:E,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=w;if(j&&this.currentDirection===null){this.currentDirection=NB(M),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),T&&T(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Mi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new fE(t,{onSessionStart:o,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:hE(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&zt.postRender(()=>d(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Rh(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=wB(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&ol(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=SB(i.layoutBox,t):this.constraints=!1,this.elastic=kB(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=EB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ol(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Az(i,s.root,this.visualElement.getTransformPagePoint());let u=CB(s.layout.layoutBox,o);if(n){const d=n(Tz(u));this.hasMutatedConstraints=!!d,d&&(u=Xj(d))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},g=Mi(y=>{if(!Rh(y,n,this.currentDirection))return;let v=f&&f[y]||{};u&&(v={min:0,max:0});const w=s?200:1e6,_=s?40:1e7,j={type:"inertia",velocity:i?t[y]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return My(this.visualElement,t),i.start(Xv(t,i,0,n,this.visualElement,!1))}stopAnimation(){Mi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Mi(n=>{const{drag:i}=this.getProps();if(!Rh(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[n];o.set(t[n]-Ut(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ol(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();s[u]=jB({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Mi(u=>{if(!Rh(u,t,null))return;const d=this.getAxisMotionValue(u),{min:f,max:g}=this.constraints[u];d.set(Ut(f,g,s[u]))})}addListeners(){if(!this.visualElement.current)return;TB.set(this.visualElement,this);const t=this.visualElement.current,n=hc(t,"pointerdown",f=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ol(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zt.read(i);const u=Lc(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(Mi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=Py,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function Rh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function NB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class AB extends Js{constructor(t){super(t),this.removeGroupControls=Ri,this.removeListeners=Ri,this.controls=new LB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iw=e=>(t,n)=>{e&&zt.postRender(()=>e(t,n))};class MB extends Js{constructor(){super(...arguments),this.removePointerDownListener=Ri}onPointerDown(t){this.session=new fE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Iw(t),onStart:Iw(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&zt.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=hc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=Vw(e,t.target.x),i=Vw(e,t.target.y);return`${n}% ${i}%`}},OB={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Ws.parse(e);if(s.length>5)return i;const o=Ws.createTransformer(e),u=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+u]/=d,s[1+u]/=f;const g=Ut(d,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=g),typeof s[3+u]=="number"&&(s[3+u]/=g),o(s)}};let Eg=!1;class PB extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;nz(RB),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),Eg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,Eg=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||zt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;Eg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pE(e){const[t,n]=zj(),i=k.useContext(vv);return h.jsx(PB,{...e,layoutGroup:i,switchLayoutGroup:k.useContext(Wj),isPresent:t,safeToRemove:n})}const RB={borderRadius:{...Yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yu,borderTopRightRadius:Yu,borderBottomLeftRadius:Yu,borderBottomRightRadius:Yu,boxShadow:OB};function DB(e,t,n){const i=An(e)?e:Cl(e);return i.start(Xv("",i,t,n)),i.animation}const zB=(e,t)=>e.depth-t.depth;class BB{constructor(){this.children=[],this.isDirty=!1}add(t){_v(this.children,t),this.isDirty=!0}remove(t){wv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zB),this.isDirty=!1,this.children.forEach(t)}}function IB(e,t){const n=ei.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(Ks(i),e(o-t))};return zt.setup(i,!0),()=>Ks(i)}const gE=["TopLeft","TopRight","BottomLeft","BottomRight"],VB=gE.length,Uw=e=>typeof e=="string"?parseFloat(e):e,Hw=e=>typeof e=="number"||Ze.test(e);function UB(e,t,n,i,s,o){s?(e.opacity=Ut(0,n.opacity??1,HB(i)),e.opacityExit=Ut(t.opacity??1,0,FB(i))):o&&(e.opacity=Ut(t.opacity??1,n.opacity??1,i));for(let u=0;u<VB;u++){const d=`border${gE[u]}Radius`;let f=Fw(t,d),g=Fw(n,d);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Hw(f)===Hw(g)?(e[d]=Math.max(Ut(Uw(f),Uw(g),i),0),(Sr.test(g)||Sr.test(f))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=Ut(t.rotate||0,n.rotate||0,i))}function Fw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HB=yE(0,.5,ij),FB=yE(.5,.95,Ri);function yE(e,t,n){return i=>i<e?0:i>t?1:n(Cc(e,t,i))}function qw(e,t){e.min=t.min,e.max=t.max}function Ai(e,t){qw(e.x,t.x),qw(e.y,t.y)}function $w(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zw(e,t,n,i,s){return e-=t,e=lf(e,1/n,i),s!==void 0&&(e=lf(e,1/s,i)),e}function qB(e,t=0,n=1,i=.5,s,o=e,u=e){if(Sr.test(t)&&(t=parseFloat(t),t=Ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=Ut(o.min,o.max,i);e===o&&(d-=t),e.min=Zw(e.min,t,n,d,s),e.max=Zw(e.max,t,n,d,s)}function Gw(e,t,[n,i,s],o,u){qB(e,t[n],t[i],t[s],t.scale,o,u)}const $B=["x","scaleX","originX"],ZB=["y","scaleY","originY"];function Kw(e,t,n,i){Gw(e.x,t,$B,n?n.x:void 0,i?i.x:void 0),Gw(e.y,t,ZB,n?n.y:void 0,i?i.y:void 0)}function Ww(e){return e.translate===0&&e.scale===1}function vE(e){return Ww(e.x)&&Ww(e.y)}function Yw(e,t){return e.min===t.min&&e.max===t.max}function GB(e,t){return Yw(e.x,t.x)&&Yw(e.y,t.y)}function Xw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bE(e,t){return Xw(e.x,t.x)&&Xw(e.y,t.y)}function Qw(e){return In(e.x)/In(e.y)}function Jw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class KB{constructor(){this.members=[]}add(t){_v(this.members,t),t.scheduleRender()}remove(t){if(wv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WB(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:w,skewX:_,skewY:j}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),j&&(i+=`skewY(${j}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const kg=["","X","Y","Z"],YB=1e3;let XB=0;function Tg(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function xE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&xE(i)}function _E({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},d=t?.()){this.id=XB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eI),this.nodes.forEach(rI),this.nodes.forEach(sI),this.nodes.forEach(tI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new BB)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new jv),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Dj(u)&&!V6(u),this.instance=u;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{v=window.innerWidth}),e(u,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,y&&y(),y=IB(w,250),qh.hasAnimatedSinceResize&&(qh.hasAnimatedSinceResize=!1,this.nodes.forEach(nS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||cI,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=g.getProps(),M=!this.targetLayout||!bE(this.targetLayout,_),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Bv(j,"layout"),onPlay:E,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,P)}else v||nS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iI),this.nodes.forEach(QB),this.nodes.forEach(JB)):this.nodes.forEach(tS),this.clearAllSnapshots();const d=ei.now();Sn.delta=is(0,1e3/60,d-Sn.timestamp),Sn.timestamp=d,Sn.isProcessing=!0,gg.update.process(Sn),gg.preRender.process(Sn),gg.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nI),this.sharedNodes.forEach(oI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!vE(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||$a(this.latestValues)||y)&&(s(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),dI(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Yt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hI))){const{scroll:g}=this.root;g&&(ll(d.x,g.offset.x),ll(d.y,g.offset.y))}return d}removeElementScroll(u){const d=Yt();if(Ai(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ai(d,u),ll(d.x,y.offset.x),ll(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const f=Yt();Ai(f,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ul(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),$a(y.latestValues)&&ul(f,y.latestValues)}return $a(this.latestValues)&&ul(f,this.latestValues),f}removeTransform(u){const d=Yt();Ai(d,u);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!$a(g.latestValues))continue;Ty(g.latestValues)&&g.updateSnapshot();const y=Yt(),v=g.measurePageBox();Ai(y,v),Kw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return $a(this.latestValues)&&Kw(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),mc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ai(this.target,this.layout.layoutBox),Jj(this.target,this.targetDelta)):Ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),mc(this.relativeTargetOrigin,this.target,w.target),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ty(this.parent.latestValues)||Qj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ai(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;Nz(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Yt());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($w(this.prevProjectionDelta.x,this.projectionDelta.x),$w(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cl(),this.projectionDelta=cl(),this.projectionDeltaWithTransform=cl()}setAnimationOrigin(u,d=!1){const f=this.snapshot,g=f?f.latestValues:{},y={...this.latestValues},v=cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Yt(),_=f?f.source:void 0,j=this.layout?this.layout.source:void 0,E=_!==j,T=this.getStack(),M=!T||T.members.length<=1,P=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(uI));this.animationProgress=0;let A;this.mixTargetDelta=U=>{const H=U/1e3;iS(v.x,u.x,H),iS(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lI(this.relativeTarget,this.relativeTargetOrigin,w,H),A&&GB(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Yt()),Ai(A,this.relativeTarget)),E&&(this.animationValues=y,UB(y,g,this.latestValues,H,P,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cl(0)),this.currentAnimation=DB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:g,latestValues:y}=u;if(!(!d||!f||!g)){if(this!==u&&this.layout&&g&&wE(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Yt();const v=In(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=In(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}Ai(d,f),ul(d,y),fc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new KB),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const g={};f.z&&Tg("z",u,g,this.animationValues);for(let y=0;y<kg.length;y++)Tg(`rotate${kg[y]}`,u,g,this.animationValues),Tg(`skew${kg[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Fh(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Fh(d?.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=WB(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),u.transform=v;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Tc){if(y[j]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:M}=Tc[j],P=v==="none"?y[j]:E(y[j],g);if(T){const A=T.length;for(let U=0;U<A;U++)u[T[U]]=P}else M?this.options.visualElement.renderState.vars[j]=P:u[j]=P}this.options.layoutId&&(u.pointerEvents=g===this?Fh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(eS),this.root.sharedNodes.clear()}}}function QB(e){e.updateLayout()}function JB(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Mi(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],w=In(v);v.min=n[y].min,v.max=v.min+w}):wE(s,t.layoutBox,n)&&Mi(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],w=In(n[y]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+w)});const u=cl();fc(u,n,t.layoutBox);const d=cl();o?fc(d,e.applyTransform(i,!0),t.measuredBox):fc(d,n,t.layoutBox);const f=!vE(u);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const _=Yt();mc(_,t.layoutBox,v.layoutBox);const j=Yt();mc(j,n,w.layoutBox),bE(_,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=_,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function eI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nI(e){e.clearSnapshot()}function eS(e){e.clearMeasurements()}function tS(e){e.isLayoutDirty=!1}function iI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rI(e){e.resolveTargetDelta()}function sI(e){e.calcProjection()}function aI(e){e.resetSkewAndRotation()}function oI(e){e.removeLeadSnapshot()}function iS(e,t,n){e.translate=Ut(t.translate,0,n),e.scale=Ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rS(e,t,n,i){e.min=Ut(t.min,n.min,i),e.max=Ut(t.max,n.max,i)}function lI(e,t,n,i){rS(e.x,t.x,n.x,i),rS(e.y,t.y,n.y,i)}function uI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cI={duration:.45,ease:[.4,0,.1,1]},sS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),aS=sS("applewebkit/")&&!sS("chrome/")?Math.round:Ri;function oS(e){e.min=aS(e.min),e.max=aS(e.max)}function dI(e){oS(e.x),oS(e.y)}function wE(e,t,n){return e==="position"||e==="preserve-aspect"&&!yB(Qw(t),Qw(n),.2)}function hI(e){return e!==e.root&&e.scroll?.wasRoot}const fI=_E({attachResizeListener:(e,t)=>Lc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},SE=_E({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Lg.current){const e=new fI({});e.mount(window),e.setOptions({layoutScroll:!0}),Lg.current=e}return Lg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mI={pan:{Feature:MB},drag:{Feature:AB,ProjectionNode:SE,MeasureLayout:pE}};function lS(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&zt.postRender(()=>o(t,$c(t)))}class pI extends Js{mount(){const{current:t}=this.node;t&&(this.unmount=R6(t,(n,i)=>(lS(this.node,i,"Start"),s=>lS(this.node,s,"End"))))}unmount(){}}class gI extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hc(Lc(this.node.current,"focus",()=>this.onFocus()),Lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uS(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&zt.postRender(()=>o(t,$c(t)))}class yI extends Js{mount(){const{current:t}=this.node;t&&(this.unmount=I6(t,(n,i)=>(uS(this.node,i,"Start"),(s,{success:o})=>uS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ry=new WeakMap,Ng=new WeakMap,vI=e=>{const t=Ry.get(e.target);t&&t(e)},bI=e=>{e.forEach(vI)};function xI({root:e,...t}){const n=e||document;Ng.has(n)||Ng.set(n,{});const i=Ng.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(bI,{root:e,...t})),i[s]}function _I(e,t,n){const i=xI(t);return Ry.set(e,n),i.observe(e),()=>{Ry.delete(e),i.unobserve(e)}}const wI={some:0,all:1};class SI extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:wI[s]},d=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,o&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=g?y:v;w&&w(f)};return _I(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CI(t,n))&&this.startObserver()}unmount(){}}function CI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const jI={inView:{Feature:SI},tap:{Feature:yI},focus:{Feature:gI},hover:{Feature:pI}},EI={layout:{ProjectionNode:SE,MeasureLayout:pE}},kI={...dB,...jI,...mI,...EI},cS=kz(kI,Vz),CE=({marker:e,onClose:t})=>{const n=H4(),{organizationLogo:i}=Xs(),{isFavorite:s,toggleFavorite:o}=_f();return k.useEffect(()=>(n&&n.dragging.disable(),()=>{n&&n.dragging.enable()}),[n]),e?O2.createPortal(h.jsxs(W6,{children:[h.jsx(cS.div,{className:"bottom-sheet-backdrop",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}},"backdrop"),h.jsxs(cS.div,{className:"bottom-sheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.25,onDragEnd:(u,d)=>{d.offset.y>100&&t()},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[h.jsx("div",{className:"handle"}),h.jsxs("div",{className:"content",children:[h.jsx("div",{className:"w-20 h-20 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:h.jsx("img",{src:zc(e.logo,i),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),h.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[h.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&h.jsx(Bc,{isFavorite:s(e.companyId),onToggle:()=>o(e.companyId),size:"md"})]}),e.glyph&&h.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Booth ",e.glyph]}),e.website&&h.jsx("div",{className:"text-sm mb-1",children:h.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:e.website})}),e.info&&h.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",children:e.info}),h.jsx("button",{onClick:t,className:"mt-4 w-full bg-gray-200 py-2 rounded-md text-gray-700 font-medium hover:bg-gray-300",children:"Close"})]})]},"sheet")]}),document.body):null},TI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId;return h.jsxs("div",{className:"flex items-center gap-2 p-1",children:[n&&h.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white rounded-sm border border-gray-200 overflow-hidden",children:h.jsx("img",{src:zc(e.logo,t),alt:"",className:"max-w-[70%] max-h-[70%] object-contain"})}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[e.glyph&&h.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Booth ",e.glyph]}),e.name?h.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}):h.jsx("div",{className:"text-xs font-medium text-gray-500 italic",children:"Unassigned"})]})]})},LI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId,{isFavorite:i,toggleFavorite:s}=_f(),o=QO(e);return h.jsx(Lf,{closeButton:!0,className:"marker-popup-scrollable",autoPan:!0,maxWidth:320,minWidth:240,children:h.jsx("div",{className:"popup-scroll-container",children:h.jsxs("div",{className:"popup-scroll-content",children:[n&&h.jsx("div",{className:"w-24 h-24 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden flex-shrink-0",children:h.jsx("img",{src:zc(e.logo,t),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?h.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[h.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&h.jsx(Bc,{isFavorite:i(e.companyId),onToggle:()=>s(e.companyId),size:"sm"})]}):h.jsx("div",{className:"text-base font-semibold text-gray-500 italic mb-1",children:"Unassigned Booth"}),e.glyph&&h.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Booth ",e.glyph]}),e.website&&h.jsx("div",{className:"text-sm mb-2",children:h.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",style:{wordBreak:"break-all"},children:e.website})}),o&&h.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:o})]})})})},NI=({marker:e,onMoreInfo:t,organizationLogo:n})=>{const i=e.name||e.companyId;return h.jsx(Lf,{closeButton:!0,className:"marker-popup",autoPan:!0,children:h.jsxs("div",{className:"p-2 text-center",children:[i&&h.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:h.jsx("img",{src:zc(e.logo,n),alt:"",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?h.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name}):h.jsx("div",{className:"font-semibold text-gray-500 italic text-sm",children:"Unassigned Booth"}),e.glyph&&h.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:["Booth ",e.glyph]}),i&&h.jsx("button",{onClick:t,className:"bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full hover:bg-blue-600",children:"More Info"})]})})},jE=({marker:e,onMoreInfo:t,isMobile:n,organizationLogo:i})=>{const s=e&&(e.glyph!==void 0&&e.glyph!==null&&e.glyph!==""||e.name);return h.jsxs(h.Fragment,{children:[!n&&h.jsxs(h.Fragment,{children:[s&&h.jsx(Z4,{direction:"top",offset:[0,-10],opacity:.95,children:h.jsx(TI,{marker:e,organizationLogo:i})}),h.jsx(LI,{marker:e,organizationLogo:i})]}),n&&h.jsx(NI,{marker:e,onMoreInfo:t,organizationLogo:i})]})};function EE({marker:e,subscriptions:t,assignments:n,onAssign:i,onUnassign:s,isLoading:o,onClose:u}){const[d,f]=k.useState(""),g=k.useRef(null),y=n.find(j=>j.marker_id===e.id),v=t.filter(j=>{const E=n.filter(A=>A.company_id===j.company_id),T=E.length,M=j.booth_count||1;return!E.some(A=>A.marker_id===e.id)&&T<M}).map(j=>{const T=n.filter(A=>A.company_id===j.company_id).length,M=j.booth_count||1,P=M-T;return{id:j.company_id,name:j.company?.name||"Unknown Company",logo:j.company?.logo||null,website:j.company?.website||null,assignedBooths:T,totalBooths:M,remainingBooths:P}}).filter(j=>j.name.toLowerCase().includes(d.toLowerCase()));k.useEffect(()=>{g.current&&g.current.focus()},[]);const w=async j=>{await i(e.id,j),u()},_=async()=>{y&&(await s(e.id,y.company_id),u())};return h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-300",children:h.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(_e,{path:fl,size:.8,className:"text-blue-600"}),e.name||`Marker ${e.id}`]})}),y&&(()=>{const E=n.filter(P=>P.company_id===y.company_id).length,M=t.find(P=>P.company_id===y.company_id)?.booth_count||1;return h.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.company?.logo?h.jsx("img",{src:Ji(y.company.logo),alt:y.company.name,className:"w-8 h-8 object-contain flex-shrink-0"}):h.jsx(_e,{path:fl,size:1.2,className:"text-gray-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:y.company?.name||"Unknown"}),h.jsxs("div",{className:"text-xs text-gray-600",children:["Using ",E," of ",M," booth",M!==1?"s":""]})]})]}),h.jsx("button",{onClick:_,disabled:o,className:"ml-2 px-2 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Unassign company",children:h.jsx(_e,{path:er,size:.55,className:"inline"})})]})})})(),v.length>5&&h.jsxs("div",{className:"mb-2 relative",children:[h.jsx(_e,{path:io,size:.65,className:"absolute left-2 top-2 text-gray-400"}),h.jsx("input",{ref:g,type:"text",value:d,onChange:j=>f(j.target.value),placeholder:"Search companies...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),h.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?h.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:d?"No companies match your search":y?"No other companies available":"No subscribed companies available"}):h.jsx("div",{className:"space-y-1",children:v.map(j=>h.jsxs("button",{onClick:()=>w(j.id),disabled:o,className:"w-full flex items-center gap-2 p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",title:`Assign ${j.name} (${j.remainingBooths} booth${j.remainingBooths!==1?"s":""} available)`,children:[j.logo?h.jsx("img",{src:Ji(j.logo),alt:j.name,className:"w-8 h-8 object-contain flex-shrink-0"}):h.jsx(_e,{path:fl,size:1.2,className:"text-gray-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm text-gray-800 truncate",children:j.name}),h.jsxs("div",{className:"text-xs text-gray-500",children:[j.remainingBooths," of ",j.totalBooths," booth",j.totalBooths!==1?"s":""," available"]})]})]},j.id))})}),o&&h.jsx("div",{className:"mt-2 text-xs text-center text-blue-600",children:"Processing..."})]})}function Pf(e=new Date().getFullYear()){const[t,n]=k.useState([]),[i,s]=k.useState(!0),[o,u]=k.useState(null),d=k.useRef(e);k.useEffect(()=>{d.current=e},[e]);const f=k.useCallback(async P=>{try{s(!0),u(null);const A=P!==void 0?P:d.current,{data:U,error:H}=await pe.from("assignments").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).eq("event_year",A).order("marker_id",{ascending:!0});if(H)throw H;n(U||[])}catch(A){console.error("Error loading assignments:",A),u(A.message)}finally{s(!1)}},[]),g=k.useCallback(async P=>{try{const A={...P,event_year:P.event_year||e},{data:U,error:H}=await pe.from("assignments").insert([A]).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(H)throw H;return n(R=>[...R,U].sort((q,J)=>q.marker_id-J.marker_id)),{data:U,error:null}}catch(A){return console.error("Error creating assignment:",A),{data:null,error:A.message}}},[e]),y=k.useCallback(async(P,A)=>{try{const{data:U,error:H}=await pe.from("assignments").update(A).eq("id",P).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(H)throw H;return n(R=>R.map(q=>q.id===P?U:q).sort((q,J)=>q.marker_id-J.marker_id)),{data:U,error:null}}catch(U){return console.error("Error updating assignment:",U),{data:null,error:U.message}}},[]),v=k.useCallback(async P=>{try{const{error:A}=await pe.from("assignments").delete().eq("id",P);if(A)throw A;return n(U=>U.filter(H=>H.id!==P)),{error:null}}catch(A){return console.error("Error deleting assignment:",A),{error:A.message}}},[]),w=k.useCallback(async(P,A)=>g({marker_id:P,company_id:A}),[g]),_=k.useCallback(async(P,A)=>{try{const{error:U}=await pe.from("assignments").delete().eq("marker_id",P).eq("company_id",A).eq("event_year",e);if(U)throw U;return n(H=>H.filter(R=>!(R.marker_id===P&&R.company_id===A))),{error:null}}catch(U){return console.error("Error unassigning company:",U),{error:U.message}}},[e]),j=k.useCallback(P=>t.filter(A=>A.marker_id===P),[t]),E=k.useCallback(P=>t.filter(A=>A.company_id===P),[t]),T=k.useCallback(async()=>{try{const{data:P,error:A}=await pe.rpc("archive_assignments",{year_to_archive:e});if(A)throw A;return n([]),{data:P,error:null}}catch(P){return console.error("Error archiving assignments:",P),{data:null,error:P.message}}},[e]),M=k.useCallback(async P=>{try{const{data:A,error:U}=await pe.from("assignments_archive").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info))
        `).eq("event_year",P).order("marker_id",{ascending:!0});if(U)throw U;return{data:A,error:null}}catch(A){return console.error("Error loading archived assignments:",A),{data:null,error:A.message}}},[]);return k.useEffect(()=>{f()},[f]),k.useEffect(()=>{f()},[e,f]),k.useEffect(()=>{const P=pe.channel(`assignments-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"assignments",filter:`event_year=eq.${e}`},A=>{A.eventType==="INSERT"&&A.new?n(U=>(U.some(R=>R.id===A.new.id)||f(),U)):f()}).subscribe();return()=>{pe.removeChannel(P)}},[e,f]),{assignments:t,loading:i,error:o,createAssignment:g,updateAssignment:y,deleteAssignment:v,assignCompanyToMarker:w,unassignCompanyFromMarker:_,getMarkerAssignments:j,getCompanyAssignments:E,archiveCurrentYear:T,loadArchivedAssignments:M,reload:f}}function Qv({isOpen:e,title:t,message:n,confirmText:i,cancelText:s,onConfirm:o,onCancel:u,variant:d}){if(!e)return null;const f={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",default:"bg-blue-600 hover:bg-blue-700"},g=f[d]||f.default;return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:u,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",onClick:y=>y.stopPropagation(),children:[t&&h.jsx("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-gray-900 mb-2",children:t}),h.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:s}),h.jsx("button",{onClick:o,className:`px-4 py-2 text-white rounded-md transition-colors ${g}`,autoFocus:!0,children:i})]})]})})}Qv.propTypes={isOpen:Me.bool.isRequired,title:Me.string,message:Me.string.isRequired,confirmText:Me.string,cancelText:Me.string,onConfirm:Me.func.isRequired,onCancel:Me.func.isRequired,variant:Me.oneOf(["default","danger","warning"])};Qv.defaultProps={title:null,confirmText:"Confirm",cancelText:"Cancel",variant:"default"};function Jv({message:e,type:t,onClose:n,duration:i}){k.useEffect(()=>{if(i>0){const u=setTimeout(n,i);return()=>clearTimeout(u)}},[i,n]);const s={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},o=s[t]||s.info;return h.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white max-w-sm ${o}`,role:"alert",children:h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("p",{className:"text-sm",children:e}),h.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-lg leading-none","aria-label":"Close",children:""})]})})}Jv.propTypes={message:Me.string.isRequired,type:Me.oneOf(["success","error","warning","info"]),onClose:Me.func.isRequired,duration:Me.number};Jv.defaultProps={type:"info",duration:5e3};const kE=k.createContext(null);function TE({children:e}){const[t,n]=k.useState({isOpen:!1,title:null,message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"default",resolve:null}),[i,s]=k.useState([]),o=k.useCallback(({title:E,message:T,confirmText:M,cancelText:P,variant:A}={})=>new Promise(U=>{n({isOpen:!0,title:E||null,message:T||"",confirmText:M||"Confirm",cancelText:P||"Cancel",variant:A||"default",resolve:U})}),[]),u=k.useCallback(()=>{t.resolve?.(!0),n(E=>({...E,isOpen:!1}))},[t.resolve]),d=k.useCallback(()=>{t.resolve?.(!1),n(E=>({...E,isOpen:!1}))},[t.resolve]),f=k.useCallback(({message:E,type:T="info",duration:M=5e3}={})=>{const P=Date.now()+Math.random();return s(A=>[...A,{id:P,message:E,type:T,duration:M}]),P},[]),g=k.useCallback((E,T)=>f({message:E,type:"success",duration:T}),[f]),y=k.useCallback((E,T)=>f({message:E,type:"error",duration:T}),[f]),v=k.useCallback((E,T)=>f({message:E,type:"warning",duration:T}),[f]),w=k.useCallback((E,T)=>f({message:E,type:"info",duration:T}),[f]),_=k.useCallback(E=>{s(T=>T.filter(M=>M.id!==E))},[]),j={confirm:o,toast:f,toastSuccess:g,toastError:y,toastWarning:v,toastInfo:w};return h.jsxs(kE.Provider,{value:j,children:[e,h.jsx(Qv,{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,variant:t.variant,onConfirm:u,onCancel:d}),h.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:i.map(E=>h.jsx(Jv,{message:E.message,type:E.type,duration:E.duration,onClose:()=>_(E.id)},E.id))})]})}TE.propTypes={children:Me.node.isRequired};function Bl(){const e=k.useContext(kE);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e}function AI({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,selectedYear:i,isAdminView:s,selectedMarkerId:o,onMarkerSelect:u}){const d=yv("md"),[f,g]=k.useState(null),y=s&&o!==void 0?e.find(re=>re.id===o):f,v=s&&u?re=>u(re?re.id:null):g,{organizationLogo:w}=Xs(),[_,j]=k.useState({isOpen:!1,position:null,marker:null}),[E,T]=k.useState(!1),{subscriptions:M}=Uc(i||new Date().getFullYear()),{assignments:P,assignCompanyToMarker:A,unassignCompanyFromMarker:U}=Pf(i||new Date().getFullYear()),{confirm:H}=Bl(),R=k.useCallback(re=>W=>{const{lat:ee,lng:le}=W.target.getLatLng();t(re,{lat:ee,lng:le})},[t]),q=k.useCallback(re=>W=>{s&&(Dt.DomEvent.preventDefault(W),j({isOpen:!0,position:W.latlng,marker:re,timestamp:Date.now()}))},[s]),J=k.useCallback(async(re,W)=>{const ee=P.filter(le=>le.marker_id===re);if(ee.length>0){const Y=M.find(Ce=>Ce.company_id===W)?.company?.name||"this company",se=e.find(Ce=>Ce.id===re),F=se?.glyph||se?.id||"this booth";let Z;if(ee.length===1){const Ce=ee[0].company?.name||"another company";Z=`Booth ${F} is already assigned to ${Ce}.

Assign ${Y} as an additional company for this booth?`}else{const Ce=ee.map(D=>D.company?.name).filter(Boolean).join(", ");Z=`Booth ${F} is already assigned to ${ee.length} companies: ${Ce}.

Assign ${Y} as another company for this booth?`}if(!await H({title:"Multiple Assignments",message:Z,confirmText:"Assign",variant:"warning"}))return}T(!0);try{await A(re,W)}catch(le){console.error("Error assigning company:",le)}finally{T(!1)}},[A,P,M,e]),G=k.useCallback(async(re,W)=>{T(!0);try{await U(re,W)}catch(ee){console.error("Error unassigning company:",ee)}finally{T(!1)}},[U]);return h.jsxs(h.Fragment,{children:[e.filter(re=>re.id>=1001).map(re=>{const W=[re.lat,re.lng],ee=gv({className:re.type?`marker-icon marker-type-${re.type}`:"marker-icon",prefix:re.prefix,iconUrl:Sl(re.iconUrl||`${re.type||"default"}.svg`),iconSize:Array.isArray(re.iconSize)?re.iconSize:[17,28],glyph:re.glyph||"?",glyphColor:re.glyphColor||"white",glyphSize:re.glyphSize||"12px",glyphAnchor:re.glyphAnchor||[0,-5],isActive:y?.id===re.id}),le=n(re),Y={popupopen:se=>se.target.closeTooltip(),...le&&{dragend:R(re.id)},...s&&{contextmenu:q(re)}};return h.jsx($C,{position:W,icon:ee,draggable:le,eventHandlers:Y,children:h.jsx(jE,{marker:re,isMobile:d,organizationLogo:w,onMoreInfo:()=>{v(re)}})},re.id)}),_.isOpen&&_.marker&&h.jsx(Lf,{position:_.position,onClose:()=>j({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:h.jsx(EE,{marker:_.marker,subscriptions:M,assignments:P,onAssign:J,onUnassign:G,isLoading:E,onClose:()=>j({isOpen:!1,position:null,marker:null})})},`context-${_.marker.id}-${_.timestamp||Date.now()}`),d&&y&&h.jsx(CE,{marker:y,onClose:()=>v(null)})]})}var nc={exports:{}},MI=nc.exports,dS;function OI(){return dS||(dS=1,(function(e,t){(function(n,i){i(t)})(MI,function(n){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=o,d=this._zoom;if(o.__parent)for(;u.__parent._zoom>=d;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,u):this._animationAddLayerNonAnimated(o,u)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,u){if(!L.Util.isArray(o))return this.addLayer(o);var d=this._featureGroup,f=this._nonPointGroup,g=this.options.chunkedLoading,y=this.options.chunkInterval,v=this.options.chunkProgress,w=o.length,_=0,j=!0,E;if(this._map){var T=new Date().getTime(),M=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();_<w;_++){if(g&&_%200===0){var U=new Date().getTime()-A;if(U>y)break}if(E=o[_],E instanceof L.LayerGroup){j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(E,o),w=o.length;continue}if(!E.getLatLng){f.addLayer(E),u||this.fire("layeradd",{layer:E});continue}if(!this.hasLayer(E)&&(this._addLayer(E,this._maxZoom),u||this.fire("layeradd",{layer:E}),E.__parent&&E.__parent.getChildCount()===2)){var H=E.__parent.getAllChildMarkers(),R=H[0]===E?H[1]:H[0];d.removeLayer(R)}}v&&v(_,w,new Date().getTime()-T),_===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(M,this.options.chunkDelay)},this);M()}else for(var P=this._needsClustering;_<w;_++){if(E=o[_],E instanceof L.LayerGroup){j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(E,o),w=o.length;continue}if(!E.getLatLng){f.addLayer(E);continue}this.hasLayer(E)||P.push(E)}return this},removeLayers:function(o){var u,d,f=o.length,g=this._featureGroup,y=this._nonPointGroup,v=!0;if(!this._map){for(u=0;u<f;u++){if(d=o[u],d instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(d,o),f=o.length;continue}this._arraySplice(this._needsClustering,d),y.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var w=o.slice(),_=f;for(u=0;u<_;u++){if(d=w[u],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,w),_=w.length;continue}this._unspiderfyLayer(d)}}for(u=0;u<f;u++){if(d=o[u],d instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(d,o),f=o.length;continue}if(!d.__parent){y.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),g.hasLayer(d)&&(g.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)o.extend(this._needsClustering[u].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,u){var d=this._needsClustering.slice(),f=this._needsRemoving,g,y,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),y=d.length-1;y>=0;y--){for(g=!0,v=f.length-1;v>=0;v--)if(f[v].layer===d[y]){g=!1;break}g&&o.call(u,d[y])}this._nonPointGroup.eachLayer(o,u)},getLayers:function(){var o=[];return this.eachLayer(function(u){o.push(u)}),o},getLayer:function(o){var u=null;return o=parseInt(o,10),this.eachLayer(function(d){L.stamp(d)===o&&(u=d)}),u},hasLayer:function(o){if(!o)return!1;var u,d=this._needsClustering;for(u=d.length-1;u>=0;u--)if(d[u]===o)return!0;for(d=this._needsRemoving,u=d.length-1;u>=0;u--)if(d[u].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,u){var d=this._map;typeof u!="function"&&(u=function(){});var f=function(){(d.hasLayer(o)||d.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",f,this),this.off("animationend",f,this),d.hasLayer(o)?u():o.__parent._icon&&(this.once("spiderfied",u,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?u():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var u,d,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,u=0,d=this._needsRemoving.length;u<d;u++)f=this._needsRemoving[u],f.newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(u=0,d=this._needsRemoving.length;u<d;u++)f=this._needsRemoving[u],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var u=o;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(o,u){for(var d=o.length-1;d>=0;d--)if(o[d]===u)return o.splice(d,1),!0},_removeFromGridUnclustered:function(o,u){for(var d=this._map,f=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());u>=g&&f[u].removeObject(o,d.project(o.getLatLng(),u));u--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var u=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),u&&o.target.openPopup()}},_moveChild:function(o,u,d){o._latlng=u,this.removeLayer(o),o._latlng=d,this.addLayer(o)},_childMarkerDragEnd:function(o){var u=o.target.__dragStart;delete o.target.__dragStart,u&&this._moveChild(o.target,u,o.target._latlng)},_removeLayer:function(o,u,d){var f=this._gridClusters,g=this._gridUnclustered,y=this._featureGroup,v=this._map,w=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(o,this._maxZoom);var _=o.__parent,j=_._markers,E;for(this._arraySplice(j,o);_&&(_._childCount--,_._boundsNeedUpdate=!0,!(_._zoom<w));)u&&_._childCount<=1?(E=_._markers[0]===o?_._markers[1]:_._markers[0],f[_._zoom].removeObject(_,v.project(_._cLatLng,_._zoom)),g[_._zoom].addObject(E,v.project(E.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(E),E.__parent=_.__parent,_._icon&&(y.removeLayer(_),d||y.addLayer(E))):_._iconNeedsUpdate=!0,_=_.__parent;delete o.__parent},_isOrIsParent:function(o,u){for(;u;){if(o===u)return!0;u=u.parentNode}return!1},fire:function(o,u,d){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,u,d)},listens:function(o,u){return L.FeatureGroup.prototype.listens.call(this,o,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,u)},_defaultIconCreateFunction:function(o){var u=o.getChildCount(),d=" marker-cluster-";return u<10?d+="small":u<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,u=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(u||f||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var u=o.layer,d=u;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,g=this._map;(o||d||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,f=d;typeof d!="function"&&(f=function(){return d}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var g=o;g>=u;g--)this._gridClusters[g]=new L.DistanceGrid(f(g)),this._gridUnclustered[g]=new L.DistanceGrid(f(g));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(o,u){var d=this._gridClusters,f=this._gridUnclustered,g=Math.floor(this._map.getMinZoom()),y,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);u>=g;u--){y=this._map.project(o.getLatLng(),u);var w=d[u].getNearObject(y);if(w){w._addChild(o),o.__parent=w;return}if(w=f[u].getNearObject(y),w){var _=w.__parent;_&&this._removeLayer(w,!1);var j=new this._markerCluster(this,u,w,o);d[u].addObject(j,this._map.project(j._cLatLng,u)),w.__parent=j,o.__parent=j;var E=j;for(v=u-1;v>_._zoom;v--)E=new this._markerCluster(this,v,E),d[v].addObject(E,this._map.project(w.getLatLng(),v));_._addChild(E),this._removeFromGridUnclustered(w,u);return}f[u].addObject(o,y)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var u=this._maxLat;return u!==void 0&&(o.getNorth()>=u&&(o._northEast.lat=1/0),o.getSouth()<=-u&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,u){if(u===o)this._featureGroup.addLayer(o);else if(u._childCount===2){u._addToMap();var d=u.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else u._updateIcon()},_extractNonGroupLayers:function(o,u){var d=o.getLayers(),f=0,g;for(u=u||[];f<d.length;f++){if(g=d[f],g instanceof L.LayerGroup){this._extractNonGroupLayers(g,u);continue}u.push(g)}return u},_overrideMarkerIcon:function(o){var u=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,u){this._animationAddLayerNonAnimated(o,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,u){var d=this._getExpandedVisibleBounds(),f=this._featureGroup,g=Math.floor(this._map.getMinZoom()),y;this._ignoreMove=!0,this._topClusterLevel._recursively(d,o,g,function(v){var w=v._latlng,_=v._markers,j;for(d.contains(w)||(w=null),v._isSingleParent()&&o+1===u?(f.removeLayer(v),v._recursivelyAddChildrenToMap(null,u,d)):(v.clusterHide(),v._recursivelyAddChildrenToMap(w,u,d)),y=_.length-1;y>=0;y--)j=_[y],d.contains(j._latlng)||f.removeLayer(j)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,u),f.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(d,o,u,function(v){v._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,o,g,function(v){f.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,u){this._animationZoomOutSingle(this._topClusterLevel,o-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,u){var d=this,f=this._featureGroup;f.addLayer(o),u!==o&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(u.getLatLng())),o.clusterHide(),this._enqueue(function(){f.removeLayer(o),o.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,u,d){var f=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(f,g,u+1,d);var y=this;this._forceLayout(),o._recursivelyBecomeVisible(f,d),this._enqueue(function(){if(o._childCount===1){var v=o._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else o._recursively(f,d,g,function(w){w._recursivelyRemoveChildrenFromMap(f,g,u+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,u,d,f){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),f&&this._addChild(f)},getAllChildMarkers:function(o,u){o=o||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(o,u);for(var f=this._markers.length-1;f>=0;f--)u&&this._markers[f].__dragStart||o.push(this._markers[f]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var u=this._childClusters.slice(),d=this._group._map,f=d.getBoundsZoom(this._bounds),g=this._zoom+1,y=d.getZoom(),v;u.length>0&&f>g;){g++;var w=[];for(v=0;v<u.length;v++)w=w.concat(u[v]._childClusters);u=w}f>g?this._group._map.setView(this._latlng,g):f<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(u||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(u||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,u=this._childClusters,d=0,f=0,g=this._childCount,y,v,w,_;if(g!==0){for(this._resetBounds(),y=0;y<o.length;y++)w=o[y]._latlng,this._bounds.extend(w),d+=w.lat,f+=w.lng;for(y=0;y<u.length;y++)v=u[y],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),w=v._wLatLng,_=v._childCount,d+=w.lat*_,f+=w.lng*_;this._latlng=this._wLatLng=new L.LatLng(d/g,f/g),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,u,d){this._recursively(o,this._group._map.getMinZoom(),d-1,function(f){var g=f._markers,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(u),v.clusterHide())},function(f){var g=f._childClusters,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(u),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,u,d,f){this._recursively(o,f,u,function(g){g._recursivelyAnimateChildrenIn(o,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),d),g._isSingleParent()&&d-1===f?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(o,u,d)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(o,u){this._recursively(o,this._group._map.getMinZoom(),u,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(o,u,d){this._recursively(d,this._group._map.getMinZoom()-1,u,function(f){if(u!==f._zoom)for(var g=f._markers.length-1;g>=0;g--){var y=f._markers[g];d.contains(y._latlng)&&(o&&(y._backupLatlng=y.getLatLng(),y.setLatLng(o),y.clusterHide&&y.clusterHide()),f._group._featureGroup.addLayer(y))}},function(f){f._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var u=this._markers.length-1;u>=0;u--){var d=this._markers[u];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(o-1===this._zoom)for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._restorePosition();else for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,u,d,f){var g,y;this._recursively(o,u-1,d-1,function(v){for(y=v._markers.length-1;y>=0;y--)g=v._markers[y],(!f||!f.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(v){for(y=v._childClusters.length-1;y>=0;y--)g=v._childClusters[y],(!f||!f.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(o,u,d,f,g){var y=this._childClusters,v=this._zoom,w,_;if(u<=v&&(f&&f(this),g&&v===d&&g(this)),v<u||v<d)for(w=y.length-1;w>=0;w--)_=y[w],_._boundsNeedUpdate&&_._recalculateBounds(),o.intersects(_._bounds)&&_._recursively(o,u,d,f,g)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,u){var d=this._getCoord(u.x),f=this._getCoord(u.y),g=this._grid,y=g[f]=g[f]||{},v=y[d]=y[d]||[],w=L.Util.stamp(o);this._objectPoint[w]=u,v.push(o)},updateObject:function(o,u){this.removeObject(o),this.addObject(o,u)},removeObject:function(o,u){var d=this._getCoord(u.x),f=this._getCoord(u.y),g=this._grid,y=g[f]=g[f]||{},v=y[d]=y[d]||[],w,_;for(delete this._objectPoint[L.Util.stamp(o)],w=0,_=v.length;w<_;w++)if(v[w]===o)return v.splice(w,1),_===1&&delete y[d],!0},eachObject:function(o,u){var d,f,g,y,v,w,_,j=this._grid;for(d in j){v=j[d];for(f in v)for(w=v[f],g=0,y=w.length;g<y;g++)_=o.call(u,w[g]),_&&(g--,y--)}},getNearObject:function(o){var u=this._getCoord(o.x),d=this._getCoord(o.y),f,g,y,v,w,_,j,E,T=this._objectPoint,M=this._sqCellSize,P=null;for(f=d-1;f<=d+1;f++)if(v=this._grid[f],v){for(g=u-1;g<=u+1;g++)if(w=v[g],w)for(y=0,_=w.length;y<_;y++)j=w[y],E=this._sqDist(T[L.Util.stamp(j)],o),(E<M||E<=M&&P===null)&&(M=E,P=j)}return P},_getCoord:function(o){var u=Math.floor(o/this._cellSize);return isFinite(u)?u:o},_sqDist:function(o,u){var d=u.x-o.x,f=u.y-o.y;return d*d+f*f}},(function(){L.QuickHull={getDistant:function(o,u){var d=u[1].lat-u[0].lat,f=u[0].lng-u[1].lng;return f*(o.lat-u[0].lat)+d*(o.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(o,u){var d=0,f=null,g=[],y,v,w;for(y=u.length-1;y>=0;y--){if(v=u[y],w=this.getDistant(v,o),w>0)g.push(v);else continue;w>d&&(d=w,f=v)}return{maxPoint:f,newPoints:g}},buildConvexHull:function(o,u){var d=[],f=this.findMostDistantPointFromBaseLine(o,u);return f.maxPoint?(d=d.concat(this.buildConvexHull([o[0],f.maxPoint],f.newPoints)),d=d.concat(this.buildConvexHull([f.maxPoint,o[1]],f.newPoints)),d):[o[0]]},getConvexHull:function(o){var u=!1,d=!1,f=!1,g=!1,y=null,v=null,w=null,_=null,j=null,E=null,T;for(T=o.length-1;T>=0;T--){var M=o[T];(u===!1||M.lat>u)&&(y=M,u=M.lat),(d===!1||M.lat<d)&&(v=M,d=M.lat),(f===!1||M.lng>f)&&(w=M,f=M.lng),(g===!1||M.lng<g)&&(_=M,g=M.lng)}d!==u?(E=v,j=y):(E=_,j=w);var P=[].concat(this.buildConvexHull([E,j],o),this.buildConvexHull([j,E],o));return P}}})(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),u=[],d,f;for(f=o.length-1;f>=0;f--)d=o[f].getLatLng(),u.push(d);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),u=this._group,d=u._map,f=d.latLngToLayerPoint(this._latlng),g;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?g=this._group.options.spiderfyShapePositions(o.length,f):o.length>=this._circleSpiralSwitchover?g=this._generatePointsSpiral(o.length,f):(f.y+=10,g=this._generatePointsCircle(o.length,f)),this._animationSpiderfy(o,g)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,u){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),f=d/this._2PI,g=this._2PI/o,y=[],v,w;for(f=Math.max(f,35),y.length=o,v=0;v<o;v++)w=this._circleStartAngle+v*g,y[v]=new L.Point(u.x+f*Math.cos(w),u.y+f*Math.sin(w))._round();return y},_generatePointsSpiral:function(o,u){var d=this._group.options.spiderfyDistanceMultiplier,f=d*this._spiralLengthStart,g=d*this._spiralFootSeparation,y=d*this._spiralLengthFactor*this._2PI,v=0,w=[],_;for(w.length=o,_=o;_>=0;_--)_<o&&(w[_]=new L.Point(u.x+f*Math.cos(v),u.y+f*Math.sin(v))._round()),v+=g/f+_*5e-4,f+=y/v;return w},_noanimationUnspiderfy:function(){var o=this._group,u=o._map,d=o._featureGroup,f=this.getAllChildMarkers(null,!0),g,y;for(o._ignoreMove=!0,this.setOpacity(1),y=f.length-1;y>=0;y--)g=f[y],d.removeLayer(g),g._preSpiderfyLatlng&&(g.setLatLng(g._preSpiderfyLatlng),delete g._preSpiderfyLatlng),g.setZIndexOffset&&g.setZIndexOffset(0),g._spiderLeg&&(u.removeLayer(g._spiderLeg),delete g._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:f}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,u){var d=this._group,f=d._map,g=d._featureGroup,y=this._group.options.spiderLegPolylineOptions,v,w,_,j;for(d._ignoreMove=!0,v=0;v<o.length;v++)j=f.layerPointToLatLng(u[v]),w=o[v],_=new L.Polyline([this._latlng,j],y),f.addLayer(_),w._spiderLeg=_,w._preSpiderfyLatlng=w._latlng,w.setLatLng(j),w.setZIndexOffset&&w.setZIndexOffset(1e6),g.addLayer(w);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,u){var d=this,f=this._group,g=f._map,y=f._featureGroup,v=this._latlng,w=g.latLngToLayerPoint(v),_=L.Path.SVG,j=L.extend({},this._group.options.spiderLegPolylineOptions),E=j.opacity,T,M,P,A,U,H;for(E===void 0&&(E=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(j.opacity=0,j.className=(j.className||"")+" leaflet-cluster-spider-leg"):j.opacity=E,f._ignoreMove=!0,T=0;T<o.length;T++)M=o[T],H=g.layerPointToLatLng(u[T]),P=new L.Polyline([v,H],j),g.addLayer(P),M._spiderLeg=P,_&&(A=P._path,U=A.getTotalLength()+.1,A.style.strokeDasharray=U,A.style.strokeDashoffset=U),M.setZIndexOffset&&M.setZIndexOffset(1e6),M.clusterHide&&M.clusterHide(),y.addLayer(M),M._setPos&&M._setPos(w);for(f._forceLayout(),f._animationStart(),T=o.length-1;T>=0;T--)H=g.layerPointToLatLng(u[T]),M=o[T],M._preSpiderfyLatlng=M._latlng,M.setLatLng(H),M.clusterShow&&M.clusterShow(),_&&(P=M._spiderLeg,A=P._path,A.style.strokeDashoffset=0,P.setStyle({opacity:E}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:d,markers:o})},200)},_animationUnspiderfy:function(o){var u=this,d=this._group,f=d._map,g=d._featureGroup,y=o?f._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):f.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),w=L.Path.SVG,_,j,E,T,M,P;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),j=v.length-1;j>=0;j--)_=v[j],_._preSpiderfyLatlng&&(_.closePopup(),_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng,P=!0,_._setPos&&(_._setPos(y),P=!1),_.clusterHide&&(_.clusterHide(),P=!1),P&&g.removeLayer(_),w&&(E=_._spiderLeg,T=E._path,M=T.getTotalLength()+.1,T.style.strokeDashoffset=M,E.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var A=0;for(j=v.length-1;j>=0;j--)_=v[j],_._spiderLeg&&A++;for(j=v.length-1;j>=0;j--)_=v[j],_._spiderLeg&&(_.clusterShow&&_.clusterShow(),_.setZIndexOffset&&_.setZIndexOffset(0),A>1&&g.removeLayer(_),f.removeLayer(_._spiderLeg),delete _._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:u,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var u,d;for(u in o)for(d=o[u].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(o){var u,d;for(u in o)d=o[u],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(o,u){var d=this.options.icon;return L.setOptions(d,o),this.setIcon(d),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=i,n.MarkerCluster=s,Object.defineProperty(n,"__esModule",{value:!0})})})(nc,nc.exports)),nc.exports}OI();function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var PI=["children"];function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function fS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(n),!0).forEach(function(i){RI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function RI(e,t,n){return(t=DI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DI(e){var t=zI(e,"string");return Nc(t)=="symbol"?t:t+""}function zI(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Nc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mS(e,t){return UI(e)||VI(e,t)||II(e,t)||BI()}function BI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function II(e,t){if(e){if(typeof e=="string")return pS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pS(e,t):void 0}}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function VI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,u,d=[],f=!0,g=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(i=o.call(n)).done)&&(d.push(i.value),d.length!==t);f=!0);}catch(y){g=!0,s=y}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw s}}return d}}function UI(e){if(Array.isArray(e))return e}function HI(e,t){if(e==null)return{};var n,i,s=FI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function FI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}Dt.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});Dt.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function qI(e,t){e.children;var n=HI(e,PI),i={},s={};Object.entries(n).forEach(function(u){var d=mS(u,2),f=d[0],g=d[1];return f.startsWith("on")?s[f]=g:i[f]=g});var o=new Dt.MarkerClusterGroup(i);return Object.entries(s).forEach(function(u){var d=mS(u,2),f=d[0],g=d[1],y="cluster".concat(f.substring(2).toLowerCase());o.on(y,g)}),{instance:o,context:fS(fS({},t),{},{layerContainer:o})}}var $I=I4(qI);const Fa={CHUNKED_LOADING:!0,SHOW_COVERAGE_ON_HOVER:!0,SPIDERFY_ON_MAX_ZOOM:!1,REMOVE_OUTSIDE_VISIBLE_BOUNDS:!0,DISABLE_CLUSTERING_AT_ZOOM:18,MAX_CLUSTER_RADIUS:400,MAX_MARKER_ID:1001},Dh={SIZE:[15,25],GLYPH_COLOR:"white",GLYPH_SIZE:"9px",GLYPH_ANCHOR:[0,-4]},ZI=e=>e.iconUrl?Sl(e.iconUrl):Sl(`${e.type||"default"}.svg`),GI=(e,t=!1,n=!1)=>{let i=e.type?`marker-icon marker-type-${e.type}`:"marker-icon";return t&&(i+=" marker-active"),n&&(i+=" marker-favorited"),gv({className:i,prefix:e.prefix,iconUrl:ZI(e),iconSize:Array.isArray(e.iconSize)?e.iconSize:Dh.SIZE,glyph:e.glyph||"",glyphColor:e.glyphColor||Dh.GLYPH_COLOR,glyphSize:e.glyphSize||Dh.GLYPH_SIZE,glyphAnchor:e.glyphAnchor||Dh.GLYPH_ANCHOR})},KI=e=>`${e.id}-${e.lat}-${e.lng}-${e.iconUrl||""}-${e.glyph||""}`,WI=k.memo(({marker:e,isDraggable:t,icon:n,eventHandlers:i,markerRef:s,isMobile:o,organizationLogo:u,onMarkerSelect:d})=>h.jsx($C,{position:[e.lat,e.lng],icon:n,draggable:t,eventHandlers:i,ref:s,children:h.jsx(jE,{marker:e,isMobile:o,organizationLogo:u,onMoreInfo:()=>d(e)})}),(e,t)=>{const n=e.icon===t.icon,i=e.isDraggable===t.isDraggable,s=e.eventHandlers===t.eventHandlers;return n&&i&&s?!(e.marker.name!==t.marker.name||e.marker.logo!==t.marker.logo||e.marker.website!==t.marker.website||e.marker.info!==t.marker.info):!1});function e0({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,iconCreateFunction:i,selectedYear:s,isAdminView:o,selectedMarkerId:u,onMarkerSelect:d,focusMarkerId:f,onFocusHandled:g}){const y=k.useRef({}),v=yv("md"),[w,_]=k.useState(null),j=o&&u!==void 0?e.find(B=>B.id===u):w,E=o&&d?B=>d(B?B.id:null):_,{organizationLogo:T,loading:M}=Xs();let P=null;try{P=_f()}catch{}const A=P?.isFavorite||(()=>!1),[U,H]=k.useState({isOpen:!1,position:null,marker:null}),[R,q]=k.useState(!1),{subscriptions:J}=Uc(s||new Date().getFullYear()),{assignments:G,assignCompanyToMarker:re,unassignCompanyFromMarker:W}=Pf(s||new Date().getFullYear()),{confirm:ee}=Bl(),le=k.useMemo(()=>e.filter(B=>B.id<Fa.MAX_MARKER_ID),[e]),Y=k.useCallback(B=>ue=>{const{lat:te,lng:oe}=ue.target.getLatLng();t(B,{lat:te,lng:oe})},[t]),se=k.useCallback(B=>(y.current[B]||(y.current[B]=vi.createRef()),y.current[B]),[]),F=k.useCallback(B=>ue=>{o&&(Dt.DomEvent.preventDefault(ue),H({isOpen:!0,position:ue.latlng,marker:B,timestamp:Date.now()}))},[o]),Z=k.useCallback(async(B,ue)=>{const te=G.filter(oe=>oe.marker_id===B);if(te.length>0){const ye=J.find(Ae=>Ae.company_id===ue)?.company?.name||"this company",Ee=e.find(Ae=>Ae.id===B),Oe=Ee?.glyph||Ee?.id||"this booth";let je;if(te.length===1){const Ae=te[0].company?.name||"another company";je=`Booth ${Oe} is already assigned to ${Ae}.

Assign ${ye} as an additional company for this booth?`}else{const Ae=te.map(Ne=>Ne.company?.name).filter(Boolean).join(", ");je=`Booth ${Oe} is already assigned to ${te.length} companies: ${Ae}.

Assign ${ye} as another company for this booth?`}if(!await ee({title:"Multiple Assignments",message:je,confirmText:"Assign",variant:"warning"}))return}q(!0);try{await re(B,ue)}catch(oe){console.error("Error assigning company:",oe)}finally{q(!1)}},[re,G,J,e]),ne=k.useCallback(async(B,ue)=>{q(!0);try{await W(B,ue)}catch(te){console.error("Error unassigning company:",te)}finally{q(!1)}},[W]),Ce=k.useRef({}),D=k.useCallback(B=>{const ue=`${B.id}-${n?"draggable":"static"}-${o?"admin":"visitor"}`;if(!Ce.current[ue]){const te={popupopen:oe=>oe.target.closeTooltip()};n&&(te.dragend=Y(B.id)),o&&(te.contextmenu=F(B)),Ce.current[ue]=te}return Ce.current[ue]},[n,Y,o,F]),z=k.useRef({}),X=k.useCallback((B,ue)=>{const te=B.companyId?A(B.companyId):!1,oe=`${B.id}-${B.iconUrl||""}-${B.glyph||""}-${B.glyphColor||""}-${ue}-${te}`;return z.current[oe]||(z.current[oe]=GI(B,ue,te)),z.current[oe]},[A]);return k.useEffect(()=>{const B=new Set(le.map(ue=>ue.id));Object.keys(Ce.current).forEach(ue=>{const te=parseInt(ue.split("-")[0],10);B.has(te)||delete Ce.current[ue]}),Object.keys(z.current).forEach(ue=>{const te=parseInt(ue.split("-")[0],10);B.has(te)||delete z.current[ue]})},[le]),k.useEffect(()=>{if(!f)return;const ue=setTimeout(()=>{const te=y.current[f];te?.current&&(te.current.openPopup(),g&&g())},1200);return()=>clearTimeout(ue)},[f,le,g]),M?null:h.jsxs(h.Fragment,{children:[h.jsx($I,{chunkedLoading:Fa.CHUNKED_LOADING,showCoverageOnHover:Fa.SHOW_COVERAGE_ON_HOVER,spiderfyOnMaxZoom:Fa.SPIDERFY_ON_MAX_ZOOM,removeOutsideVisibleBounds:Fa.REMOVE_OUTSIDE_VISIBLE_BOUNDS,disableClusteringAtZoom:Fa.DISABLE_CLUSTERING_AT_ZOOM,maxClusterRadius:Fa.MAX_CLUSTER_RADIUS,iconCreateFunction:i,children:le.map(B=>{const ue=j?.id===B.id,te=X(B,ue),oe=n(B),ye=KI(B);return h.jsx(WI,{marker:B,isDraggable:oe,icon:te,eventHandlers:D(B),markerRef:se(B.id),isMobile:v,organizationLogo:T,onMarkerSelect:E},ye)})},"cluster-group"),U.isOpen&&U.marker&&h.jsx(Lf,{position:U.position,onClose:()=>H({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:h.jsx(EE,{marker:U.marker,subscriptions:J,assignments:G,onAssign:Z,onUnassign:ne,isLoading:R,onClose:()=>H({isOpen:!1,position:null,marker:null})})},`context-${U.marker.id}-${U.timestamp||Date.now()}`),v&&j&&h.jsx(CE,{marker:j,onClose:()=>E(null)})]})}e0.propTypes={safeMarkers:Me.arrayOf(Me.shape({id:Me.number.isRequired,lat:Me.number.isRequired,lng:Me.number.isRequired,type:Me.string,iconUrl:Me.string,iconSize:Me.arrayOf(Me.number),glyph:Me.string,glyphColor:Me.string,glyphSize:Me.string,glyphAnchor:Me.arrayOf(Me.number),prefix:Me.string,name:Me.string,logo:Me.string,website:Me.string,info:Me.string,companyId:Me.number})).isRequired,updateMarker:Me.func.isRequired,isMarkerDraggable:Me.func.isRequired,iconCreateFunction:Me.func.isRequired,selectedYear:Me.number,isAdminView:Me.bool,selectedMarkerId:Me.number,onMarkerSelect:Me.func,focusMarkerId:Me.number,onFocusHandled:Me.func};e0.defaultProps={selectedYear:new Date().getFullYear(),isAdminView:!1,selectedMarkerId:null,onMarkerSelect:null,focusMarkerId:null,onFocusHandled:null};function YI({isAdminView:e,mapInstance:t,updateMarker:n}){const{t:i}=_t(),[s,o]=k.useState(!1),[u,d]=k.useState(!1),[f,g]=k.useState(""),[y,v]=k.useState(""),w=()=>{d(!0),g(""),v("")},_=async()=>{if(!f||isNaN(Number(f))){v(i("mapManagement.errorInvalidId"));return}if(await E(f)){v(i("mapManagement.errorIdExists"));return}d(!1),o(!0),v("")},j=()=>{d(!1),g(""),v("")};k.useEffect(()=>{if(!s||!t||!f)return;const T=M=>{const P=M.latlng,A={...XI({lat:P.lat,lng:P.lng}),id:Number(f)};typeof n=="function"&&n(A.id,A,{add:!0}),o(!1),g(""),t.off("click",T)};return t.on("click",T),()=>{t.off("click",T)}},[s,t,n,f]);async function E(T){try{const{supabase:M}=await tr(async()=>{const{supabase:A}=await Promise.resolve().then(()=>g2);return{supabase:A}},void 0),P=["Markers_Core","Markers_Appearance","Markers_Content"];for(const A of P){const{data:U,error:H}=await M.from(A).select("id").eq("id",Number(T));if(H)return!1;if(U&&U.length>0)return!0}return!1}catch{return!1}}return e?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:w,"aria-label":"Add marker",className:"bg-white rounded-full shadow p-2 flex items-center justify-center print-hide",style:{position:"absolute",left:10,top:60,zIndex:1001,width:44,height:44,border:"none",cursor:s?"crosshair":"pointer",background:s?"#e3f2fd":"white"},title:i(s?"mapManagement.addMarkerTooltipActive":"mapManagement.addMarkerTooltip"),children:[h.jsx(U2.Icon,{path:RO,size:1.5,color:"#1976d2","aria-hidden":"true",style:{width:"42px",height:"42px"}}),h.jsx("span",{className:"sr-only",children:i("mapManagement.addMarker")})]}),u&&h.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100svh",background:"rgba(0,0,0,0.3)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{background:"white",borderRadius:8,boxShadow:"0 2px 16px rgba(25,118,210,0.15)",padding:32,minWidth:320,display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx("h2",{style:{color:"#1976d2",fontWeight:700,marginBottom:16},children:i("mapManagement.enterMarkerId")}),h.jsx("input",{type:"number",value:f,onChange:T=>g(T.target.value),style:{fontSize:18,padding:"8px 12px",border:"2px solid #1976d2",borderRadius:4,marginBottom:12,width:"100%"},placeholder:i("mapManagement.markerIdPlaceholder"),min:1}),y&&h.jsx("div",{style:{color:"red",marginBottom:8},children:y}),h.jsxs("div",{style:{display:"flex",gap:12},children:[h.jsx("button",{onClick:_,style:{background:"#1976d2",color:"white",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:i("mapManagement.confirm")}),h.jsx("button",{onClick:j,style:{background:"#eee",color:"#1976d2",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:i("mapManagement.cancel")})]})]})})]}):null}function XI({lat:e,lng:t}){return{id:null,lat:e,lng:t,name:"",label:"",logo:"",coreLocked:!1}}var LE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gS=vi.createContext&&vi.createContext(LE),QI=["attr","size","title"];function JI(e,t){if(e==null)return{};var n=e8(e,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function e8(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uf.apply(this,arguments)}function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(n),!0).forEach(function(i){t8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function t8(e,t,n){return t=n8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NE(e){return e&&e.map((t,n)=>vi.createElement(t.tag,cf({key:n},t.attr),NE(t.child)))}function ea(e){return t=>vi.createElement(r8,uf({attr:cf({},e.attr)},t),NE(e.child))}function r8(e){var t=n=>{var{attr:i,size:s,title:o}=e,u=JI(e,QI),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),vi.createElement("svg",uf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:cf(cf({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&vi.createElement("title",null,o),e.children)};return gS!==void 0?vi.createElement(gS.Consumer,null,n=>t(n)):t(LE)}function s8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function a8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function o8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function l8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(e)}function AE(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function u8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function c8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}function d8(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function h8(e){e&&e.zoomIn()}function f8(e){e&&e.zoomOut()}function m8(e,t,n){e&&e.setView(t,n)}function p8({mapInstance:e}){const t=()=>{window.L&&e&&e.printControl?e.printControl.printMap():window.print()};return h.jsx("button",{onClick:t,className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center","aria-label":"Print map",title:"Print map",type:"button",children:h.jsx(l8,{size:24,color:"#1976d2"})})}const g8={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function y8({mapInstance:e,mapCenter:t,mapZoom:n,searchControlRef:i,isAdminView:s,showLayersMenu:o,setShowLayersMenu:u,activeLayer:d,setActiveLayer:f,showRectanglesAndHandles:g,setShowRectanglesAndHandles:y,MAP_LAYERS:v}){const w=()=>h8(e),_=()=>f8(e),j=()=>m8(e,t,n);return h.jsxs("div",{className:"map-controls-print-hide",style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[h.jsxs("button",{onClick:j,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(o8,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Home"})]}),h.jsxs("button",{onClick:w,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(AE,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Zoom in"})]}),h.jsxs("button",{onClick:_,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[h.jsx(u8,{size:28,color:"#1976d2","aria-hidden":"true"}),h.jsx("span",{className:"sr-only",children:"Zoom out"})]}),s&&h.jsx(p8,{mapInstance:e}),s&&h.jsxs("div",{style:{position:"relative"},children:[h.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>u(E=>!E),children:[h.jsx(_e,{path:LO,size:1.2,color:"#1976d2"}),h.jsx("span",{className:"sr-only",children:"Map layers"})]}),o&&h.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[h.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),v.map(E=>h.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${d===E.key?"bg-blue-50 font-bold":""}`,onClick:()=>f(E.key),role:"menuitem",style:{color:"#1976d2"},children:E.name},E.key)),h.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),h.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[h.jsx("input",{type:"checkbox",checked:g,onChange:E=>y(E.target.checked),style:g8}),h.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:g?"inline-block":"none"},children:h.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:h.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),h.jsx("span",{style:{marginLeft:g?-8:0},children:"Booth Surface"})]})]})]})]})}function v8(e){return function(n){const i=tC(e),s="/Map".endsWith("/")?"/Map":"/Map/";return gv({iconUrl:`${s}assets/icons/glyph-marker-icon-orange.svg`,iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='${i}' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}}function b8(e){return e.angle||0}function qs(e,t,n){const i=n*Math.PI/180,s=e*Math.cos(i)-t*Math.sin(i),o=e*Math.sin(i)+t*Math.cos(i);return[s,o]}function Xu(e){return e/111320}function Qu(e,t){return e/(40075e3*Math.cos(t*Math.PI/180)/360)}function x8(e){return e*111320}function _8(e,t){return e*(40075e3*Math.cos(t*Math.PI/180)/360)}function w8({mapInstance:e,markers:t,rectangleSize:n,isAdminView:i,showRectanglesAndHandles:s,updateMarker:o,rectangleLayerRef:u}){if(!e)return;u.current||(u.current=Dt.layerGroup(),u.current.addTo(e));const d=u.current;d._markerLayers||(d._markerLayers={}),Object.keys(d._markerLayers).forEach(f=>{t.find(g=>g.id===f)||(d.removeLayer(d._markerLayers[f].rectangle),d.removeLayer(d._markerLayers[f].handle),delete d._markerLayers[f])}),t.forEach(f=>{if(f.lat&&f.lng){const g=Dt.latLng(f.lat,f.lng),y=Array.isArray(f.rectangle)&&f.rectangle.length===2?f.rectangle:n,v=Number(y[0])/2,w=Number(y[1])/2,_=b8(f),j="#1976d2",E=[qs(-v,-w,_),qs(v,-w,_),qs(v,w,_),qs(-v,w,_)],T=E.map(([A,U])=>Dt.latLng(g.lat+Xu(U),g.lng+Qu(A,g.lat)));let M,P;if(d._markerLayers[f.id]){M=d._markerLayers[f.id].rectangle,M.setLatLngs(T),P=d._markerLayers[f.id].handle;const[A,U]=E[2],H=Dt.latLng(g.lat+Xu(U),g.lng+Qu(A,g.lat));P.setLatLng(H)}else{M=Dt.polygon(T,{color:j,weight:1});const[A,U]=E[2],H=Dt.latLng(g.lat+Xu(U),g.lng+Qu(A,g.lat));let R;if(i&&!f.coreLocked){const q=Dt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});R=Dt.marker(H,{icon:q,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),R.on("dragstart",function(){e&&e.dragging.disable()});let J=_;R.on("drag",function(G){const re=G.target.getLatLng(),W=_8(re.lng-g.lng,g.lat),ee=x8(re.lat-g.lat);let Y=Math.atan2(ee,W)*180/Math.PI;Y<0&&(Y+=360),J=Y;const se=[qs(-v,-w,J),qs(v,-w,J),qs(v,w,J),qs(-v,w,J)],F=se.map(([D,z])=>Dt.latLng(g.lat+Xu(z),g.lng+Qu(D,g.lat)));M.setLatLngs(F);const[Z,ne]=se[2],Ce=Dt.latLng(g.lat+Xu(ne),g.lng+Qu(Z,g.lat));R.setLatLng(Ce)}),R.on("dragend",function(){e&&e.dragging.enable(),o(f.id,{angle:J})})}else{const q=Dt.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});R=Dt.marker(H,{icon:q,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}d.addLayer(M),d.addLayer(R),d._markerLayers[f.id]={rectangle:M,handle:R}}}}),Object.values(d._markerLayers).forEach(({rectangle:f,handle:g})=>{s?(d.addLayer(f),d.addLayer(g)):(d.removeLayer(f),d.removeLayer(g))})}function S8(){const e=k.useCallback(n=>{},[]),t=k.useCallback(n=>{},[]);return{trackMarkerView:e,trackMapInteraction:t}}var Ag={exports:{}},vS;function C8(){return vS||(vS=1,(function(e){(function(t){e.exports=t(pv())})(function(t){return t.Control.Search=t.Control.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,i){var s=i.split("."),o=s.pop(),u=s.length,d=s[0],f=1;if(u>0)for(;(n=n[d])&&f<u;)d=s[f++];if(n)return n[o]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){t.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new t.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=t.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof t.Marker||this.options.marker instanceof t.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new t.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=t.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):t.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var i=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){i.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",t.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var i=t.DomUtil.create("div",n,this._container);return i.style.display="none",t.DomEvent.on(i,"click",t.DomEvent.stop,this).on(i,"click",this.hideAlert,this),i},_createInput:function(n,i){var s=this,o=t.DomUtil.create("label",i,this._container),u=t.DomUtil.create("input",i,this._container);return u.type="text",u.size=this._inputMinSize,u.value="",u.autocomplete="off",u.autocorrect="off",u.autocapitalize="off",u.placeholder=n,u.style.display="none",u.role="search",u.id=u.role+u.type+u.size,o.htmlFor=u.id,o.style.display="none",o.value=n,t.DomEvent.disableClickPropagation(u).on(u,"keyup",this._handleKeypress,this).on(u,"paste",function(d){setTimeout(function(f){s._handleKeypress(f)},10,d)},this).on(u,"blur",this.collapseDelayed,this).on(u,"focus",this.collapseDelayedStop,this),u},_createCancel:function(n,i){var s=t.DomUtil.create("a",i,this._container);return s.href="#",s.title=n,s.style.display="none",s.innerHTML="<span>&otimes;</span>",t.DomEvent.on(s,"click",t.DomEvent.stop,this).on(s,"click",this.cancel,this),s},_createButton:function(n,i){var s=t.DomUtil.create("a",i,this._container);return s.href="#",s.title=n,t.DomEvent.on(s,"click",t.DomEvent.stop,this).on(s,"click",this._handleSubmit,this).on(s,"focus",this.collapseDelayedStop,this).on(s,"blur",this.collapseDelayed,this),s},_createTooltip:function(n){var i=this,s=t.DomUtil.create("ul",n,this._container);return s.style.display="none",t.DomEvent.disableClickPropagation(s).on(s,"blur",this.collapseDelayed,this).on(s,"wheel",function(o){i.collapseDelayedStop(),t.DomEvent.stopPropagation(o)},this).on(s,"mouseover",function(o){i.collapseDelayedStop()},this),s},_createTip:function(n,i){var s;if(this.options.buildTip){if(s=this.options.buildTip.call(this,n,i),typeof s=="string"){var o=t.DomUtil.create("div");o.innerHTML=s,s=o.firstChild}}else s=t.DomUtil.create("li",""),s.innerHTML=n;return t.DomUtil.addClass(s,"search-tip"),s._text=n,this.options.tipAutoSubmit&&t.DomEvent.disableClickPropagation(s).on(s,"click",t.DomEvent.stop,this).on(s,"click",function(u){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),s},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,i){var s,o,u,d={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];s=this.options.initial?"^":"",o=this.options.casesensitive?void 0:"i",u=new RegExp(s+n,o);for(let f in i)u.test(f)&&(d[f]=i[f]);return d},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let i in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(i,n[i]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var i=this,s=this.options.propertyName,o=this.options.propertyLoc,u={};if(t.Util.isArray(o))for(let d in n)u[i._getPath(n[d],s)]=t.latLng(i._getPath(n[d],o[0]),i._getPath(n[d],o[1]));else for(let d in n)u[i._getPath(n[d],s)]=t.latLng(i._getPath(n[d],o));return u},_recordsFromJsonp:function(n,i){t.Control.Search.callJsonp=i;var s=t.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),o=t.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return s.type="text/javascript",s.src=o,{abort:function(){s.parentNode.removeChild(s)}}},_recordsFromAjax:function(n,i){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var s=t.Browser.ie&&!window.atob&&document.querySelector,o=s?new XDomainRequest:new XMLHttpRequest,u=t.Util.template(this._getUrl(n),{s:n});return o.open("GET",u),o.onload=function(){i(JSON.parse(o.responseText))},o.onreadystatechange=function(){o.readyState===4&&o.status===200&&this.onload()},o.send(),o},_searchInLayer:function(n,i,s){var o=this,u;n instanceof t.Control.Search.Marker||(n instanceof t.Marker||n instanceof t.CircleMarker?o._getPath(n.options,s)?(u=n.getLatLng(),u.layer=n,i[o._getPath(n.options,s)]=u):o._getPath(n.feature.properties,s)&&(u=n.getLatLng(),u.layer=n,i[o._getPath(n.feature.properties,s)]=u):n instanceof t.Path||n instanceof t.Polyline||n instanceof t.Polygon?o._getPath(n.options,s)?(u=n.getBounds().getCenter(),u.layer=n,i[o._getPath(n.options,s)]=u):o._getPath(n.feature.properties,s)&&(u=n.getBounds().getCenter(),u.layer=n,i[o._getPath(n.feature.properties,s)]=u):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(s)&&(n.getLatLng&&typeof n.getLatLng=="function"?(u=n.getLatLng(),u.layer=n,i[n.feature.properties[s]]=u):n.getBounds&&typeof n.getBounds=="function"&&(u=n.getBounds().getCenter(),u.layer=n,i[n.feature.properties[s]]=u)):n instanceof t.LayerGroup&&n.eachLayer(function(d){o._searchInLayer(d,i,s)}))},_recordsFromLayer:function(){var n=this,i={},s=this.options.propertyName;return this._layer.eachLayer(function(o){n._searchInLayer(o,i,s)}),i},_autoType:function(){var n=this._input.value.length,i=this._tooltip.firstChild?this._tooltip.firstChild._text:"",s=i.length;if(i.indexOf(this._input.value)===0)if(this._input.value=i,this._handleAutoresize(),this._input.createTextRange){var o=this._input.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",s),o.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,s):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=s)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var i=this._input.value.length;n.moveStart("character",i),n.moveEnd("character",i),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var i=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){i._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var i=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:i})},_fillRecordsCache:function(){var n=this,i=this._input.value,s;this._curReq&&this._curReq.abort&&this._curReq.abort(),t.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),s=this._filterData(this._input.value,this._recordsCache),this.showTooltip(s),t.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,i,function(o){n._recordsCache=n._formatData.call(n,o),n.options.sourceData?s=n._filterData(n._input.value,n._recordsCache):s=n._recordsCache,n.showTooltip(s),t.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=83,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var i=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let o=0;o<i.length;o++)t.DomUtil.removeClass(i[o],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=i.length-1)t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select"),this._input.value=i[this._tooltip.currentSelection]._text;var s=i[this._tooltip.currentSelection].offsetTop;s+i[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=s-this._tooltip.clientHeight+i[this._tooltip.currentSelection].clientHeight:s<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=s)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,i,s){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,i){var s=this;return s._map.once("moveend zoomend",function(o){s._markerSearch&&s._markerSearch.addTo(s._map).setLatLng(n)}),s._moveToLocation(n,i,s._map),s.options.autoCollapse&&s.collapse(),s}}),t.Control.Search.Marker=t.Marker.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{icon:new t.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,i){t.setOptions(this,i),i.icon===!0&&(i.icon=new t.Icon.Default),t.Marker.prototype.initialize.call(this,n,i),t.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new t.CircleMarker(n,this.options.circle))},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){t.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return t.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&t.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&t.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,i=200,s=5,o=parseInt(n._radius/s),u=this.options.circle.radius,d=n._radius*2,f=0;n._timerAnimLoc=setInterval(function(){f+=.5,o+=f,d-=o,n.setRadius(d),d<u&&(clearInterval(n._timerAnimLoc),n.setRadius(u))},i)}return this}}),t.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=t.control.search(this.options.searchControl),this.addControl(this.searchControl))}),t.control.search=function(n){return new t.Control.Search(n)},t.Control.Search})})(Ag)),Ag.exports}C8();var Mg={exports:{}},bS;function j8(){return bS||(bS=1,(function(e,t){(function(n,i){e.exports=n(pv()),typeof i<"u"&&i.L&&(i.L.Control.MiniMap=n(L),i.L.control.minimap=function(s,o){return new i.L.Control.MiniMap(s,o)})})(function(n){var i=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(s,o){n.Util.setOptions(this,o),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=s},onAdd:function(s){this._mainMap=s,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var o={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:s.options.crs};return o=n.Util.extend(this.options.mapOptions,o),this._miniMap=new n.Map(this._container,o),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(s){n.Control.prototype.addTo.call(this,s);var o=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(s){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(s){this._miniMap.removeLayer(this._layer),this._layer=s,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(s,o,u,d,f,g){var y=n.DomUtil.create("a",u,d);y.innerHTML=s,y.href="#",y.title=o;var v=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",v).on(y,"mousedown",v).on(y,"dblclick",v).on(y,"click",n.DomEvent.preventDefault).on(y,"click",f,g),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(s){s!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(s){if(this._miniMapMoving)this._miniMapMoving=!1;else{var o=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(s){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(s){if(!this.options.centerFixed){var o=this._aimingRect.getBounds(),u=this._miniMap.latLngToContainerPoint(o.getSouthWest()),d=this._miniMap.latLngToContainerPoint(o.getNorthEast());this._lastAimingRectPosition={sw:u,ne:d}}},_onMiniMapMoving:function(s){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(s){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var s=this.options.zoomLevelFixed;return this._isDefined(s)&&this._isInteger(s)},_decideZoom:function(s){if(this._isZoomLevelFixed())return s?this.options.zoomLevelFixed:this._mainMap.getZoom();if(s)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var o=this._miniMap.getZoom()-this._mainMap.getZoom(),u=this._miniMap.getZoom()-this.options.zoomLevelOffset,d;return o>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(d=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):d=this._mainMap.getZoom():d=u,this._lastMiniMapZoom=this._miniMap.getZoom(),d},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(s){return typeof s=="number"},_isDefined:function(s){return typeof s<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var s={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",s),this.fire("toggle",s)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new i().addTo(this))}),i},window)})(Mg)),Mg.exports}j8();const E8=e=>[e.name,e.glyph,e.label].filter(Boolean).join(" | "),xS=(e,t)=>t&&e&&e.coreLocked===!1;function Rf({isAdminView:e,markersState:t,updateMarker:n,selectedYear:i,selectedMarkerId:s,onMarkerSelect:o}){const[u,d]=k.useState({}),[f,g]=k.useState(!1),[y,v]=k.useState(Th[0].key),[w,_]=k.useState(!1),[j,E]=k.useState(null),[T,M]=k.useState(null),{organizationLogo:P}=Xs(),[A,U]=nM(),H=k.useRef(null),R=k.useRef(null),q=k.useRef(!1),[J,G]=k.useState(null),re=k.useMemo(()=>v8(P),[P]),{t:W}=_t(),ee=yv();S8();const le=k.useMemo(()=>Array.isArray(t)?t:[],[t]);k.useEffect(()=>{le.forEach(F=>{if(F.logo){const Z=new window.Image;Z.src=Ji(F.logo)}})},[le]),k.useEffect(()=>{j&&w8({mapInstance:j,markers:le,rectangleSize:cn.RECTANGLE_SIZE,isAdminView:e,showRectanglesAndHandles:w,updateMarker:n,rectangleLayerRef:R})},[j,le,e,w,n]),k.useEffect(()=>{if(!j)return;const F=Dt.layerGroup();le.forEach(Z=>{if(Z.lat&&Z.lng){const ne=E8(Z),Ce=Dt.marker([Z.lat,Z.lng],{opacity:0,interactive:!1});Ce.feature={type:"Feature",properties:{searchText:ne}},Ce.bindPopup(Z.name||Z.label||""),Ce._markerId=Z.id,F.addLayer(Ce)}}),M(F)},[j,le]),k.useEffect(()=>{if(!j||!T)return;const F=new Dt.Control.Search({layer:T,propertyName:"searchText",initial:!1,zoom:cn.SEARCH_ZOOM,marker:{icon:!1,animate:!0},textPlaceholder:"Search for name or booth...",position:"topleft"});return j.addControl(F),H.current=F,F.on("search:locationfound",Z=>{if(Z?.layer){const ne=Z.layer.getLatLng(),Ce=Z.layer._markerId;Ce&&(j.flyTo(ne,cn.SEARCH_ZOOM,{animate:!0}),setTimeout(()=>{G(Ce)},800)),F._input&&F._input.blur(),F.hideAlert&&F.hideAlert(),F.collapse&&F.collapse()}}),()=>{j&&F&&(j.removeControl(F),H.current=null)}},[j,T]),k.useEffect(()=>{if(j&&!j._minimapControl){const F=Dt.tileLayer(Th[0].url,{attribution:"",minZoom:0,maxZoom:16}),Z=new Dt.Control.MiniMap(F,{position:"bottomright",width:cn.MINIMAP.WIDTH,height:cn.MINIMAP.HEIGHT,zoomLevelFixed:cn.MINIMAP.ZOOM_LEVEL,toggleDisplay:!0,centerFixed:cn.DEFAULT_POSITION,aimingRectOptions:{color:cn.MINIMAP.AIMING_COLOR,weight:2,opacity:.9,fillOpacity:.1,fill:!0},shadowRectOptions:{color:cn.MINIMAP.SHADOW_COLOR,weight:1,opacity:.5,fillOpacity:.05,fill:!0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"}});Z.addTo(j),j._minimapControl=Z}},[j]),k.useEffect(()=>{if(!j||!le.length||q.current)return;const F=A.get("focus");if(F){const Z=parseInt(F,10),ne=le.find(Ce=>Ce.id===Z);ne&&ne.lat&&ne.lng&&(setTimeout(()=>{j.flyTo([ne.lat,ne.lng],cn.SEARCH_ZOOM,{animate:!0,duration:1}),G(Z)},300),q.current=!0,U({},{replace:!0}))}},[j,le,A,U]);const Y=F=>{const Z=F?.target||F;E(Z)},se=e?{height:"100%",width:"100%",position:"relative",touchAction:"pan-x pan-y",overflow:"hidden"}:{height:"100svh",width:"100vw",position:"fixed",inset:0,zIndex:0,touchAction:"pan-x pan-y",overflow:"hidden"};return h.jsxs("div",{style:se,tabIndex:0,"aria-label":"Event Map",role:"region",children:[h.jsx(y8,{mapInstance:j,mapCenter:cn.DEFAULT_POSITION,mapZoom:cn.DEFAULT_ZOOM,searchControlRef:H,isAdminView:e,showLayersMenu:f,setShowLayersMenu:g,activeLayer:y,setActiveLayer:v,showRectanglesAndHandles:w,setShowRectanglesAndHandles:_,MAP_LAYERS:Th}),e&&h.jsx(YI,{mapInstance:j,isAdminView:e,updateMarker:n}),h.jsx("div",{id:"map-container",className:e?"w-full h-full":"fixed inset-0 w-full h-full",style:{zIndex:e?"auto":1,height:e?"100%":"100svh",touchAction:"pan-x pan-y",overflow:"hidden"},"aria-label":W("map.ariaLabel"),children:h.jsxs(q4,{center:cn.DEFAULT_POSITION,zoom:cn.DEFAULT_ZOOM,minZoom:cn.MIN_ZOOM,maxZoom:cn.MAX_ZOOM,zoomDelta:cn.ZOOM_DELTA,zoomSnap:cn.ZOOM_SNAP,zoomControl:!1,style:{width:e?"100%":"100vw",height:e?"100%":"100svh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:Y,attributionControl:!1,children:[Th.filter(F=>F.key===y).map(F=>h.jsx($4,{attribution:F.attribution,url:F.url,maxZoom:cn.MAX_ZOOM},F.key)),h.jsx(e0,{safeMarkers:le,infoButtonToggled:u,setInfoButtonToggled:d,isMobile:ee,updateMarker:n,isMarkerDraggable:F=>xS(F,e),iconCreateFunction:re,selectedYear:i,isAdminView:e,selectedMarkerId:s,onMarkerSelect:o,focusMarkerId:J,onFocusHandled:()=>G(null)}),h.jsx(AI,{safeMarkers:le,infoButtonToggled:u,setInfoButtonToggled:d,isMobile:ee,updateMarker:n,isMarkerDraggable:F=>xS(F,e),selectedMarkerId:s,onMarkerSelect:o,isAdminView:e,selectedYear:i})]})})]})}Rf.propTypes={isAdminView:Me.bool,markersState:Me.array,updateMarker:Me.func.isRequired,selectedYear:Me.number,selectedMarkerId:Me.number,onMarkerSelect:Me.func};Rf.defaultProps={isAdminView:!1,markersState:[],selectedYear:new Date().getFullYear(),selectedMarkerId:null,onMarkerSelect:null};const k8=Object.freeze(Object.defineProperty({__proto__:null,default:Rf},Symbol.toStringTag,{value:"Module"}));function T8({markersState:e,setMarkersState:t,updateMarker:n,selectedYear:i}){const{t:s}=_t(),[o,u]=k.useState(""),[d,f]=k.useState(null),[g,y]=k.useState(!1),[v,w]=k.useState(null),[_,j]=k.useState("id"),[E,T]=k.useState("asc"),[M,P]=k.useState([]),{toastError:A}=Bl();k.useEffect(()=>{async function Y(){try{const[se,F]=await Promise.all([pe.from("Markers_Core").select("*").in("id",[-1,-2]),pe.from("Markers_Appearance").select("*").in("id",[-1,-2])]);if(se.error)throw se.error;if(F.error)throw F.error;const Z=(se.data||[]).map(ne=>{const Ce=(F.data||[]).find(D=>D.id===ne.id)||{};return{...ne,...Ce}});P(Z)}catch(se){console.error("Error fetching default markers:",se)}}Y()},[]);const U=k.useMemo(()=>{if(!e)return M;const se=[...e.filter(F=>{const Z=o.toLowerCase();return F.id.toString().includes(Z)||F.glyph?.toLowerCase().includes(Z)||F.name?.toLowerCase().includes(Z)})].sort((F,Z)=>{let ne=0;switch(_){case"id":ne=F.id-Z.id;break;case"name":ne=(F.glyph||F.name||"").localeCompare(Z.glyph||Z.name||"");break;case"type":F.id>=1e3!=Z.id>=1e3?ne=F.id>=1e3?-1:1:ne=F.id-Z.id;break;default:ne=F.id-Z.id}return E==="desc"?-ne:ne});return o?se:[...[...M].sort((Z,ne)=>ne.id-Z.id),...se]},[e,M,o,_]),H=k.useMemo(()=>{if(!d)return null;const Y=M.find(se=>se.id===d);return Y||e?.find(se=>se.id===d)},[d,e,M]),R=Y=>{f(Y.id),y(!1)},q=()=>{H&&(w({...H}),y(!0))},J=()=>{w(null),y(!1)},G=async()=>{if(!v)return;const Y=v.id===-1||v.id===-2;try{if(Y){const se={rectWidth:v.rectWidth,rectHeight:v.rectHeight},F={iconUrl:v.iconUrl,iconSize:v.iconSize,glyphColor:v.glyphColor,glyphSize:v.glyphSize},[Z,ne]=await Promise.all([pe.from("Markers_Core").update(se).eq("id",v.id),pe.from("Markers_Appearance").update(F).eq("id",v.id)]);if(Z.error)throw Z.error;if(ne.error)throw ne.error;P(Ce=>Ce.map(D=>D.id===v.id?{...D,...v}:D))}else t(se=>se.map(F=>F.id===v.id?{...F,...v}:F));y(!1),w(null)}catch(se){console.error("Error saving marker:",se),A("Failed to save marker. Please try again.")}},re=(Y,se)=>{w(F=>({...F,[Y]:se}))},W=H&&(H.id===-1||H.id===-2),ee=H&&H.id>=1e3,le=H&&H.id>0&&H.id<1e3;return h.jsx(hv,{requiredRole:["super_admin","system_manager"],children:h.jsxs("div",{className:"bg-white rounded-lg shadow",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(_e,{path:io,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:s("mapManagement.searchPlaceholder"),value:o,onChange:Y=>u(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white w-64",children:[h.jsxs("select",{value:_,onChange:Y=>j(Y.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none","aria-label":s("mapManagement.sortBy"),children:[h.jsx("option",{value:"id",children:s("admin.mapManagement.sortId")||"ID"}),h.jsx("option",{value:"name",children:s("admin.mapManagement.sortName")||"Name"}),h.jsx("option",{value:"type",children:s("admin.mapManagement.sortType")||"Type"})]}),h.jsx("button",{type:"button",onClick:()=>T(E==="asc"?"desc":"asc"),"aria-label":`Toggle sort direction to ${E==="asc"?"descending":"ascending"}`,className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",children:h.jsx(_e,{path:E==="asc"?wl:_l,size:.8})})]})]})}),h.jsxs("div",{className:"flex h-[calc(100vh-150px)]",children:[h.jsx("div",{className:"w-64 border-r border-gray-200 overflow-y-auto flex-shrink-0",children:h.jsx("div",{className:"p-2",children:U.map(Y=>{const se=Y.id===d,F=Y.id===-1||Y.id===-2,Z=Y.id>=1e3;return h.jsx("button",{onClick:()=>R(Y),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${se?"bg-blue-50 border-2 border-blue-500":F?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-white border border-gray-200 hover:bg-gray-50"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[Y.iconUrl&&h.jsx("img",{src:Sl(Y.iconUrl),alt:"icon",className:"w-6 h-6"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-semibold text-gray-900 truncate",children:F?Y.id===-1?"Assigned Booth Default":"Unassigned Booth Default":Y.glyph||`Marker ${Y.id}`}),h.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Y.id,F&&"  Global Default",Z&&" (Special)"]}),Y.name&&h.jsx("div",{className:"text-xs text-gray-600 truncate",children:Y.name})]})]})},Y.id)})})}),h.jsx("div",{className:"flex-1 relative bg-gray-50",children:h.jsx(k.Suspense,{fallback:h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading map..."}),children:h.jsx(Rf,{isAdminView:!0,markersState:e,updateMarker:n,selectedYear:i,selectedMarkerId:d,onMarkerSelect:Y=>{f(Y),y(!1)}})})}),h.jsx("div",{className:"w-96 border-l border-gray-200 overflow-y-auto p-6 flex-shrink-0",children:H?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:W?H.id===-1?"Assigned Booth Default":"Unassigned Booth Default":H.glyph||`Marker ${H.id}`}),h.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",H.id,W&&"  Global Default for Booth Markers",ee&&" (Special Marker)",le&&" (Booth - Content managed via Companies/Assignments)"]})]}),!g&&h.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit"})]}),g?h.jsx(N8,{marker:v,isDefaultMarker:W,isSpecialMarker:ee,isBoothMarker:le,onChange:re,onSave:G,onCancel:J}):h.jsx(L8,{marker:H,isSpecialMarker:ee,isDefaultMarker:W})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s("mapManagement.selectMarker")})})]})]})})}function L8({marker:e,isSpecialMarker:t,isDefaultMarker:n}){return h.jsxs("div",{className:"space-y-6",children:[n&&h.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" About Default Markers"}),h.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"This defines the default appearance for booth markers (ID < 1000) that have a company assigned.":"This defines the default appearance for booth markers (ID < 1000) that have no company assigned."}),h.jsx("p",{className:"text-sm text-amber-800",children:"Individual booth markers can override these defaults by having their own values in the Appearance table."})]}),!n&&h.jsxs(yl,{title:"Position & Structure",children:[h.jsx(Bn,{label:"Latitude",value:e.lat}),h.jsx(Bn,{label:"Longitude",value:e.lng}),h.jsx(Bn,{label:"Rectangle",value:JSON.stringify(e.rectangle)}),h.jsx(Bn,{label:"Angle",value:e.angle||0})]}),h.jsxs(yl,{title:n?"Default Visual Styling":"Visual Styling",children:[h.jsx(Bn,{label:"Icon",children:e.iconUrl&&h.jsx("img",{src:Sl(e.iconUrl),alt:"icon",className:"w-8 h-8"})}),h.jsx(Bn,{label:"Icon Size",value:JSON.stringify(e.iconSize)}),!n&&h.jsx(Bn,{label:"Glyph (Booth Label)",value:e.glyph}),h.jsx(Bn,{label:"Glyph Color",value:e.glyphColor}),h.jsx(Bn,{label:"Glyph Size",value:e.glyphSize}),n&&h.jsxs(h.Fragment,{children:[h.jsx(Bn,{label:"Rectangle Width",value:e.rectWidth}),h.jsx(Bn,{label:"Rectangle Height",value:e.rectHeight})]})]}),t&&h.jsxs(yl,{title:"Content (Special Marker)",children:[h.jsx(Bn,{label:"Name",value:e.name}),h.jsx(Bn,{label:"Logo",children:e.logo&&h.jsx("img",{src:Ji(e.logo),alt:"logo",className:"w-12 h-12"})}),h.jsx(Bn,{label:"Website",value:e.website}),h.jsx(Bn,{label:"Info",value:e.info})]})]})}function N8({marker:e,isDefaultMarker:t,isSpecialMarker:n,isBoothMarker:i,onChange:s,onSave:o,onCancel:u}){return h.jsxs("div",{className:"space-y-6",children:[t&&h.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" Editing Global Defaults"}),h.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"Changes here will affect all booth markers (ID < 1000) that have a company assigned, unless they have individual overrides.":"Changes here will affect all booth markers (ID < 1000) that have no company assigned, unless they have individual overrides."})]}),!t&&h.jsxs(yl,{title:"Position & Structure",children:[h.jsx(Ki,{label:"Latitude",type:"number",step:"0.0001",value:e.lat,onChange:d=>s("lat",parseFloat(d))}),h.jsx(Ki,{label:"Longitude",type:"number",step:"0.0001",value:e.lng,onChange:d=>s("lng",parseFloat(d))}),h.jsx(Ki,{label:"Angle",type:"number",step:"0.1",value:e.angle||0,onChange:d=>s("angle",parseFloat(d))})]}),h.jsxs(yl,{title:t?"Default Visual Styling":"Visual Styling",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),h.jsx("div",{className:"grid grid-cols-6 gap-2",children:T4.map(d=>h.jsx("button",{onClick:()=>s("iconUrl",d),className:`p-2 border-2 rounded-lg transition-all ${e.iconUrl===d?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:h.jsx("img",{src:Sl(d),alt:d,className:"w-8 h-8"})},d))})]}),!t&&h.jsx(Ki,{label:"Glyph (Booth Label)",value:e.glyph,onChange:d=>s("glyph",d)}),h.jsx(Ki,{label:"Glyph Color",type:"color",value:e.glyphColor,onChange:d=>s("glyphColor",d)}),h.jsx(Ki,{label:"Glyph Size",type:"number",step:"1",value:e.glyphSize,onChange:d=>s("glyphSize",parseFloat(d))}),t&&h.jsxs(h.Fragment,{children:[h.jsx(Ki,{label:"Rectangle Width",type:"number",step:"1",value:e.rectWidth,onChange:d=>s("rectWidth",parseFloat(d))}),h.jsx(Ki,{label:"Rectangle Height",type:"number",step:"1",value:e.rectHeight,onChange:d=>s("rectHeight",parseFloat(d))})]})]}),n&&h.jsxs(yl,{title:"Content (Special Marker)",children:[h.jsx(Ki,{label:"Name",value:e.name,onChange:d=>s("name",d)}),h.jsx(Ki,{label:"Logo URL",value:e.logo,onChange:d=>s("logo",d)}),h.jsx(Ki,{label:"Website",value:e.website,onChange:d=>s("website",d)}),h.jsx(A8,{label:"Info",value:e.info,onChange:d=>s("info",d)})]}),i&&h.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-sm text-yellow-800",children:[h.jsx("strong",{children:"Note:"})," This is a booth marker. Content (name, logo, website, info) is managed via the Companies and Assignments tabs."]})}),h.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[h.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(_e,{path:xO,size:.9}),"Save Changes"]}),h.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:[h.jsx(_e,{path:er,size:.9}),"Cancel"]})]})]})}function yl({title:e,children:t}){return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),h.jsx("div",{className:"space-y-3",children:t})]})}function Bn({label:e,value:t,children:n}){return h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e}),n||h.jsx("div",{className:"text-gray-900",children:t||""})]})}function Ki({label:e,value:t,onChange:n,type:i="text",...s}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),h.jsx("input",{type:i,value:t||"",onChange:o=>n(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...s})]})}function A8({label:e,value:t,onChange:n}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),h.jsx("textarea",{value:t||"",onChange:i=>n(i.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}function ME(){const[e,t]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),u=k.useCallback(async()=>{try{i(!0),o(null);const{data:v,error:w}=await pe.from("companies").select("*").order("name",{ascending:!0});if(w)throw w;t(v||[])}catch(v){console.error("Error loading companies:",v),o(v.message)}finally{i(!1)}},[]),d=k.useCallback(async v=>{try{const{data:w,error:_}=await pe.from("companies").insert([v]).select().single();if(_)throw _;return t(j=>[...j,w].sort((E,T)=>E.name.localeCompare(T.name))),{data:w,error:null}}catch(w){return console.error("Error creating company:",w),{data:null,error:w.message}}},[]),f=k.useCallback(async(v,w)=>{try{const{data:_,error:j}=await pe.from("companies").update(w).eq("id",v).select().single();if(j)throw j;return t(E=>E.map(T=>T.id===v?_:T).sort((T,M)=>T.name.localeCompare(M.name))),{data:_,error:null}}catch(_){return console.error("Error updating company:",_),{data:null,error:_.message}}},[]),g=k.useCallback(async v=>{try{const{error:w}=await pe.from("companies").delete().eq("id",v);if(w)throw w;return t(_=>_.filter(j=>j.id!==v)),{error:null}}catch(w){return console.error("Error deleting company:",w),{error:w.message}}},[]),y=k.useCallback(v=>{if(!v)return e;const w=v.toLowerCase();return e.filter(_=>_.name?.toLowerCase().includes(w))},[e]);return k.useEffect(()=>{u()},[u]),k.useEffect(()=>{const v=pe.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},()=>{u()}).subscribe();return()=>{pe.removeChannel(v)}},[u]),{companies:e,loading:n,error:s,createCompany:d,updateCompany:f,deleteCompany:g,searchCompanies:y,reload:u}}function M8(){const[e,t]=k.useState(null),[n,i]=k.useState(!0),[s,o]=k.useState(null),u=k.useCallback(async()=>{try{i(!0);const{data:f,error:g}=await pe.from("organization_profile").select("*").single();if(g)if(g.code==="PGRST116")console.warn("No organization profile found. A default one should be created by the migration."),t(null);else throw g;t(f),o(null)}catch(f){console.error("Error fetching organization profile:",f),o(f.message)}finally{i(!1)}},[]);return k.useEffect(()=>{u();const f=pe.channel("public:organization_profile").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},g=>{g.new&&t(g.new)}).subscribe();return()=>{pe.removeChannel(f)}},[u]),{profile:e,loading:n,error:s,updateProfile:async f=>{try{const{data:g,error:y}=await pe.from("organization_profile").update(f).eq("id",1).select().single();if(y)throw y;return t(g),{data:g,error:null}}catch(g){return console.error("Error updating organization profile:",g),{data:null,error:g.message}}}}}function O8({createCompany:e,updateCompany:t,deleteCompany:n,updateProfile:i,organizationLogo:s,confirm:o,toastError:u}){const[d,f]=k.useState(null),[g,y]=k.useState({}),[v,w]=k.useState(!1),[_,j]=k.useState({name:"",logo:s||"",website:"",info:""});return{editingId:d,editForm:g,setEditForm:y,isCreating:v,newCompanyForm:_,setNewCompanyForm:j,handleEdit:R=>{f(R.id),y({...R})},handleSave:async()=>{const R=d;if(R==="organization"){const{name:q,logo:J,website:G,info:re}=g;await i({name:q,logo:J,website:G,info:re})}else await t(R,g);f(null),y({})},handleCancel:()=>{f(null),y({})},handleDelete:async(R,q)=>{if(!await o({title:"Delete Company",message:`Are you sure you want to delete "${q}"? This will also delete all assignments for this company.`,confirmText:"Delete",variant:"danger"}))return;const{error:G}=await n(R);G&&u(`Error deleting company: ${G}`)},handleCreate:async()=>{if(!_.name.trim()){u("Company name is required");return}const{error:R}=await e(_);R?u(`Error creating company: ${R}`):(w(!1),j({name:"",logo:s,website:"",info:""}))},handleStartCreate:()=>{w(!0),j({name:"",logo:s,website:"",info:""})},handleCancelCreate:()=>{w(!1),j({name:"",logo:s,website:"",info:""})}}}function OE(e){const[t,n]=k.useState({}),[i,s]=k.useState(!1),[o,u]=k.useState(null),d=k.useCallback(async()=>{if(!e){n({});return}try{s(!0),u(null);const{data:w,error:_}=await pe.from("company_translations").select("language_code, info").eq("company_id",e);if(_)throw _;const j={};(w||[]).forEach(E=>{j[E.language_code]=E.info}),n(j)}catch(w){console.error("Error loading translations:",w),u(w.message)}finally{s(!1)}},[e]),f=async(w,_)=>{if(e)try{u(null);const{error:j}=await pe.from("company_translations").upsert({company_id:e,language_code:w,info:_,updated_at:new Date().toISOString()},{onConflict:"company_id,language_code"});if(j)throw j;return n(E=>({...E,[w]:_})),!0}catch(j){return console.error("Error saving translation:",j),u(j.message),!1}},g=async w=>{if(e)try{u(null);const{error:_}=await pe.from("company_translations").delete().eq("company_id",e).eq("language_code",w);if(_)throw _;return n(j=>{const E={...j};return delete E[w],E}),!0}catch(_){return console.error("Error deleting translation:",_),u(_.message),!1}},y=(w,_="nl")=>t[w]||t[_]||"",v=()=>Object.keys(t);return k.useEffect(()=>{d()},[d]),{translations:t,loading:i,error:o,saveTranslation:f,deleteTranslation:g,getTranslation:y,getAvailableLanguages:v,reload:d}}const P8=[{code:"nl",label:"Nederlands",flag:""},{code:"en",label:"English",flag:""}];function R8({currentLanguage:e,onLanguageChange:t,translations:n={},className:i=""}){return h.jsx("div",{className:`flex items-center gap-1 ${i}`,children:P8.map(s=>{const o=e===s.code,u=n[s.code]&&n[s.code].trim()!=="";return h.jsxs("button",{type:"button",onClick:()=>t(s.code),className:`px-2 py-1 rounded text-xs font-medium transition flex items-center gap-1 ${o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[h.jsx("span",{children:s.flag}),h.jsx("span",{children:s.code.toUpperCase()}),u&&!o&&h.jsx(_e,{path:Cr,size:.5,className:"text-green-600"})]},s.code)})})}function D8({translations:e={}}){const t=Object.keys(e).filter(n=>e[n]&&e[n].trim()!=="").length;return t<=1?null:h.jsx("span",{className:"inline-block ml-1 text-blue-600",title:`Available in ${t} languages`,children:""})}function z8({companyId:e,editingLanguage:t,onLanguageChange:n}){const{translations:i,saveTranslation:s}=OE(e),[o,u]=k.useState(""),[d,f]=k.useState(!1);k.useEffect(()=>{u(i[t]||"")},[t,i]);const g=async()=>{if(o!==(i[t]||"")){f(!0);try{await s(t,o)}catch(y){console.error("Failed to save translation:",y)}finally{f(!1)}}};return h.jsxs("div",{className:"space-y-2",children:[h.jsx(R8,{currentLanguage:t,onLanguageChange:n,translations:i,className:"mb-2"}),h.jsx("textarea",{value:o,onChange:y=>u(y.target.value),onBlur:g,className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4,placeholder:`Enter info in ${t==="nl"?"Dutch":"English"}...`,disabled:d}),d&&h.jsx("span",{className:"text-xs text-gray-500 italic",children:"Saving..."})]})}function B8({companyId:e,currentLanguage:t}){const{translations:n,getTranslation:i}=OE(e),s=i(t,"nl");return h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap flex-1",children:s||h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),h.jsx(D8,{translations:n})]})}function I8(){const{companies:e,loading:t,error:n,createCompany:i,updateCompany:s,deleteCompany:o}=ME(),{profile:u,loading:d,error:f,updateProfile:g}=M8(),{organizationLogo:y}=Xs(),{confirm:v,toastError:w}=Bl(),{i18n:_,t:j}=_t(),{categories:E,getCompanyCategories:T,getAllCompanyCategories:M,assignCategoriesToCompany:P}=Xy(),[A,U]=k.useState(""),[H,R]=k.useState("nl"),[q,J]=k.useState("public"),[G,re]=k.useState({}),[W,ee]=k.useState([]),{editingId:le,editForm:Y,setEditForm:se,isCreating:F,newCompanyForm:Z,setNewCompanyForm:ne,handleEdit:Ce,handleSave:D,handleCancel:z,handleDelete:X,handleCreate:B,handleStartCreate:ue,handleCancelCreate:te}=O8({createCompany:i,updateCompany:s,deleteCompany:o,updateProfile:g,organizationLogo:y,confirm:v,toastError:w});k.useEffect(()=>{(async()=>{if(le&&le!=="organization"){const Ne=(await T(le)).map(Ie=>Ie.id);console.log("Loading initial categories for company:",le,Ne),ee(Ne)}else le||ee([])})()},[le]),k.useEffect(()=>{const ge=async()=>{if(e.length>0){const Ae=e.map(Ie=>Ie.id),Ne=await M(Ae);re(Ne)}};q==="public"&&e.length>0&&ge()},[q,e.length]);const oe=async()=>{if(console.log("Saving company with categories:",{editingId:le,editingCategories:W}),await D(),le&&le!=="organization"){const ge=await P(le,W);if(console.log("Category assignment result:",ge),!ge.success)console.error("Failed to assign categories:",ge.error),alert("Failed to save categories: "+ge.error);else{const Ae=await T(le);re(Ne=>({...Ne,[le]:Ae}))}}ee([])},ye=()=>{z(),ee([])},Ee=k.useMemo(()=>{const ge=[];if(u&&ge.push({...u,id:"organization",isOrganization:!0}),ge.push(...e),!A)return ge;const Ae=A.toLowerCase();return ge.filter(Ne=>Ne.name?.toLowerCase().includes(Ae))},[u,e,A]),Oe=t||d,je=n||f;return Oe?h.jsx("div",{className:"p-4",children:"Loading data..."}):je?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",je]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:io,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:j("helpPanel.companies.searchPlaceholder"),value:A,onChange:ge=>U(ge.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[Ee.length," of ",e.length+1]})]}),h.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(_e,{path:Dc,size:.8}),"Add Company"]})]}),h.jsxs("div",{className:"flex gap-2 mb-4 border-b flex-shrink-0",children:[h.jsx("button",{onClick:()=>J("public"),className:`px-4 py-2 font-medium transition-colors ${q==="public"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:j("helpPanel.companies.publicInfoTab","Public Info")}),h.jsx("button",{onClick:()=>J("manager"),className:`px-4 py-2 font-medium transition-colors ${q==="manager"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-900"}`,children:j("helpPanel.companies.privateInfoTab","Private Info")})]}),F&&h.jsxs("div",{className:"mb-4 border rounded-lg overflow-hidden flex-shrink-0",children:[h.jsxs("div",{className:"p-4 bg-blue-50",children:[h.jsx("h3",{className:"font-bold mb-3",children:j("helpPanel.companies.newCompany")}),h.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[h.jsx("h4",{className:"font-semibold text-sm mb-2 text-blue-800",children:"Public Info (visible to attendees)"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("input",{type:"text",placeholder:j("helpPanel.companies.companyNamePlaceholder"),value:Z.name,onChange:ge=>ne({...Z,name:ge.target.value}),className:"px-3 py-2 border rounded"}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:j("helpPanel.companies.companyLogo")}),h.jsx(wc,{currentLogo:Z.logo,onUploadComplete:(ge,Ae)=>{ne({...Z,logo:ge})},folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!0,onDelete:()=>{ne({...Z,logo:y})}}),h.jsx("input",{type:"text",placeholder:j("helpPanel.companies.logoUrlPlaceholder"),value:Z.logo,onChange:ge=>ne({...Z,logo:ge.target.value}),className:"px-3 py-2 border rounded mt-2 w-full text-sm"})]}),h.jsx("input",{type:"text",placeholder:"Website URL",value:Z.website,onChange:ge=>ne({...Z,website:ge.target.value}),className:"px-3 py-2 border rounded"}),h.jsx("textarea",{placeholder:j("helpPanel.companies.infoPlaceholder"),value:Z.info,onChange:ge=>ne({...Z,info:ge.target.value}),className:"px-3 py-2 border rounded",rows:2})]})]}),h.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[h.jsx("h4",{className:"font-semibold text-sm mb-2 text-green-800",children:"Manager-Only Info (default contact info)"}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx("input",{type:"text",placeholder:"Contact Person",value:Z.contact||"",onChange:ge=>ne({...Z,contact:ge.target.value}),className:"px-3 py-2 border rounded"}),h.jsx("input",{type:"text",placeholder:"Phone",value:Z.phone||"",onChange:ge=>ne({...Z,phone:ge.target.value}),className:"px-3 py-2 border rounded"}),h.jsx("input",{type:"email",placeholder:"Email",value:Z.email||"",onChange:ge=>ne({...Z,email:ge.target.value}),className:"px-3 py-2 border rounded"})]})]})]}),h.jsxs("div",{className:"flex gap-2 mt-3",children:[h.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:[h.jsx(_e,{path:Cr,size:.7}),"Create"]}),h.jsxs("button",{onClick:te,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:[h.jsx(_e,{path:er,size:.7}),"Cancel"]})]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full rounded",style:{tableLayout:"fixed",fontSize:"11px"},children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{children:[q==="public"?h.jsxs(h.Fragment,{children:[h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Name"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Logo"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Website"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Info"}),h.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Categories"})]}):h.jsxs(h.Fragment,{children:[h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Name"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Contact"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Phone"}),h.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Email"})]}),h.jsx("th",{className:"p-2 bg-gray-100 border-b font-semibold text-gray-900",style:{minWidth:"90px",width:"90px",maxWidth:"120px"},children:"Actions"})]})}),h.jsx("tbody",{children:Ee.map(ge=>{const Ae=le===ge.id,Ne=ge.isOrganization,Ie=Ne?"bg-gray-700 text-white":"bg-white text-gray-900 hover:bg-gray-50",Tt=q==="public"?"bg-blue-50":"bg-green-50";return h.jsxs("tr",{className:`${Ie} border-b`,children:[h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":Tt}`,children:Ae?h.jsx("input",{type:"text",value:Y.name,onChange:He=>se({...Y,name:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1"}):h.jsx("span",{className:"font-semibold",children:ge.name})}),q==="public"?h.jsxs(h.Fragment,{children:[h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":"bg-blue-50"}`,children:Ae?h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(wc,{currentLogo:Y.logo,onUploadComplete:(He,Cn)=>{se({...Y,logo:He})},folder:Ne?"organization":"companies",label:"Upload",showPreview:!0,allowDelete:!0,onDelete:()=>{se({...Y,logo:y})}}),h.jsx("input",{type:"text",value:Y.logo||"",onChange:He=>se({...Y,logo:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1 text-xs",placeholder:"Or paste URL"})]}):h.jsx("img",{src:Ji(ge.logo&&ge.logo.trim()!==""?ge.logo:y),alt:ge.name,className:"h-8 object-contain"})}),h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":"bg-blue-50"}`,children:Ae?h.jsx("input",{type:"text",value:Y.website||"",onChange:He=>se({...Y,website:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Website URL"}):ge.website?h.jsx("a",{href:ge.website.startsWith("http")?ge.website:`https://${ge.website}`,target:"_blank",rel:"noopener noreferrer",className:Ne?"text-blue-300 hover:underline":"text-blue-600 hover:underline",children:ge.website.replace(/^https?:\/\//,"").substring(0,30)}):h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),h.jsx("td",{className:`py-1 px-3 border-b text-left max-w-xs ${Ne?"":"bg-blue-50"}`,children:Ae?Ne?h.jsx("textarea",{value:Y.info||"",onChange:He=>se({...Y,info:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4,placeholder:"Organization info"}):h.jsx(z8,{companyId:ge.id,editingLanguage:H,onLanguageChange:R}):Ne?h.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap",children:ge.info||h.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}):h.jsx(B8,{companyId:ge.id,currentLanguage:_.language})}),h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":"bg-blue-50"}`,children:Ae&&!Ne?E.length>0?h.jsx("div",{className:"flex flex-col gap-1 max-h-32 overflow-y-auto",children:E.map(He=>h.jsxs("label",{className:"flex items-center gap-1 cursor-pointer hover:bg-blue-50 px-1 rounded",children:[h.jsx("input",{type:"checkbox",checked:W.includes(He.id),onChange:Cn=>{const Pn=Cn.target.checked?[...W,He.id]:W.filter(bi=>bi!==He.id);console.log("Category toggle:",He.name,"checked:",Cn.target.checked,"new array:",Pn),ee(Pn)},className:"cursor-pointer"}),h.jsx("span",{className:"text-xs",children:He.name})]},He.id))}):h.jsx("span",{className:"text-red-500 text-xs italic",children:"Run migration 007"}):Ne?h.jsx("span",{className:"text-gray-400 text-xs italic",children:"N/A"}):h.jsxs("div",{className:"flex flex-wrap gap-1",children:[(G[ge.id]||[]).map(He=>h.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:He.color+"20",color:He.color},children:He.name},He.id)),(!G[ge.id]||G[ge.id].length===0)&&h.jsx("span",{className:"text-gray-400 text-xs italic",children:"None"})]})})]}):h.jsxs(h.Fragment,{children:[h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":"bg-green-50"}`,children:Ae?h.jsx("input",{type:"text",value:Y.contact||"",onChange:He=>se({...Y,contact:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Contact Person"}):h.jsx("span",{className:"text-xs",children:ge.contact||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":"bg-green-50"}`,children:Ae?h.jsx("input",{type:"text",value:Y.phone||"",onChange:He=>se({...Y,phone:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Phone"}):h.jsx("span",{className:"text-xs",children:ge.phone||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),h.jsx("td",{className:`py-1 px-3 border-b text-left ${Ne?"":"bg-green-50"}`,children:Ae?h.jsx("input",{type:"email",value:Y.email||"",onChange:He=>se({...Y,email:He.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Email"}):h.jsx("span",{className:"text-xs",children:ge.email||h.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]}),h.jsx("td",{className:"py-1 px-3 border-b text-left",children:Ae?h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:oe,className:"p-1.5 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:h.jsx(_e,{path:Cr,size:.8})}),h.jsx("button",{onClick:ye,className:"p-1.5 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:h.jsx(_e,{path:er,size:.8})})]}):h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:()=>Ce(ge),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:h.jsx(_e,{path:xf,size:.8})}),!Ne&&h.jsx("button",{onClick:()=>X(ge.id,ge.name),className:"p-1.5 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete",children:h.jsx(_e,{path:Al,size:.8})}),Ne&&h.jsx("div",{className:"flex items-center justify-center pt-1 text-gray-300",children:h.jsx(_e,{path:fl,size:.8})})]})})]},ge.id)})})]}),Ee.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:A?"No items found matching your search":'No companies yet. Click "Add Company" to create one.'})]})]})}function PE(e){const[t,n]=k.useState([]),[i,s]=k.useState(!0),[o,u]=k.useState(null);return k.useEffect(()=>{async function d(){try{s(!0),u(null);const{data:f,error:g}=await pe.from("Markers_Core").select("id").lt("id",1e3).order("id",{ascending:!0});if(g)throw g;const{data:y,error:v}=await pe.from("Markers_Appearance").select("id, glyph").lt("id",1e3);if(v)throw v;const w={};(y||[]).forEach(j=>{j&&j.id&&(w[j.id]=j.glyph||"")});const _=(f||[]).map(j=>({id:j.id,glyph:w[j.id]||j.id.toString()}));n(_)}catch(f){console.error("Error loading markers:",f),u(f)}finally{s(!1)}}d()},[e]),{markers:t,loading:i,error:o}}function V8({selectedYear:e}){const{t}=_t(),{organizationLogo:n}=Xs(),{subscriptions:i,loading:s,error:o,subscribeCompany:u,updateSubscription:d,unsubscribeCompany:f,archiveCurrentYear:g,copyFromPreviousYear:y}=Uc(e),{companies:v}=ME(),{assignments:w}=Pf(e),{markers:_}=PE(e),[j,E]=k.useState(""),[T,M]=k.useState(null),[P,A]=k.useState({}),[U,H]=k.useState(!1),[R,q]=k.useState(""),[J,G]=k.useState("company"),[re,W]=k.useState("asc"),{confirm:ee,toastError:le,toastSuccess:Y,toastWarning:se}=Bl(),F=k.useMemo(()=>{const je=new Set(i.map(ge=>ge.company_id));return v.filter(ge=>!je.has(ge.id))},[v,i]),Z=k.useMemo(()=>{const je={};return w.forEach(ge=>{je[ge.company_id]||(je[ge.company_id]=[]),je[ge.company_id].push(ge)}),je},[w]),ne=k.useMemo(()=>{const je={};return _.forEach(ge=>{je[ge.id]=ge.glyph}),je},[_]),Ce=k.useCallback(je=>{const ge=Z[je]||[];if(ge.length===0)return"-";const Ae=ge.sort((Ne,Ie)=>Ne.marker_id-Ie.marker_id).map(Ne=>ne[Ne.marker_id]||Ne.marker_id.toString()).filter(Boolean);return Ae.length>0?Ae.join(", "):"-"},[Z,ne]),D=k.useMemo(()=>{let je=i;if(j){const Ae=j.toLowerCase();je=je.filter(Ne=>Ne.company?.name?.toLowerCase().includes(Ae))}return[...je].sort((Ae,Ne)=>{let Ie=0;if(J==="company"){const Tt=(Ae.company?.name||"").toLowerCase(),He=(Ne.company?.name||"").toLowerCase();Ie=Tt.localeCompare(He)}else if(J==="booths"){const Tt=Ce(Ae.company_id),He=Ce(Ne.company_id);if(Tt==="-"&&He!=="-")return 1;if(Tt!=="-"&&He==="-")return-1;if(Tt==="-"&&He==="-")return 0;Ie=Tt.localeCompare(He,void 0,{numeric:!0})}return re==="asc"?Ie:-Ie})},[i,j,J,re,Ce]),z=k.useMemo(()=>D.reduce((je,ge)=>(je.booth_count+=ge.booth_count||0,je.breakfast_sat+=ge.breakfast_sat||0,je.lunch_sat+=ge.lunch_sat||0,je.bbq_sat+=ge.bbq_sat||0,je.breakfast_sun+=ge.breakfast_sun||0,je.lunch_sun+=ge.lunch_sun||0,je.coins+=ge.coins||0,je),{booth_count:0,breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[D]),X=je=>{M(je.id),A({...je})},B=async()=>{const{id:je,company:ge,...Ae}=P;await d(je,Ae),M(null),A({})},ue=()=>{M(null),A({})},te=async je=>{const ge=je.company?.name||"this company",Ae=Ce(je.company_id),Ne=Ae?` and their booth assignments (${Ae})`:"";if(!await ee({title:"Unsubscribe Company",message:`Unsubscribe ${ge} from ${e}? This will delete their subscription${Ne}.`,confirmText:"Unsubscribe",variant:"danger"}))return;const{error:Tt}=await f(je.id);Tt&&le(`Error unsubscribing company: ${Tt}`)},oe=async()=>{if(!R){se("Please select a company");return}const{error:je}=await u(parseInt(R));je?le(`Error subscribing company: ${je}`):(H(!1),q(""))},ye=async()=>{if(!await ee({title:"Archive Subscriptions",message:`Archive all subscriptions for ${e}? This will move them to the archive and clear the active list.`,confirmText:"Archive",variant:"warning"}))return;const{data:ge,error:Ae}=await g();Ae?le(`Error archiving: ${Ae}`):Y(`Archived ${ge} subscriptions for ${e}`)},Ee=async()=>{const je=e-1;if(!ee(`Copy all subscriptions from ${je} to ${e}?`))return;const{error:ge}=await y(je);ge&&alert(`Error copying subscriptions: ${ge}`)},Oe=je=>{J===je?W(re==="asc"?"desc":"asc"):(G(je),W("asc"))};return s?h.jsx("div",{className:"p-4",children:"Loading subscriptions..."}):o?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",o]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:io,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:t("helpPanel.subscriptions.searchPlaceholder"),value:j,onChange:je=>E(je.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[D.length," of ",i.length]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",title:`Copy from ${e-1}`,children:[h.jsx(_e,{path:bO,size:.8}),"Copy from ",e-1]}),h.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[h.jsx(_e,{path:yf,size:.8}),"Archive ",e]}),h.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(_e,{path:Dc,size:.8}),"Subscribe Company"]})]})]}),U&&h.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-blue-50 flex-shrink-0",children:[h.jsxs("h3",{className:"font-bold mb-3",children:["Subscribe Company to ",e]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("select",{value:R,onChange:je=>q(je.target.value),className:"flex-1 px-3 py-2 border rounded",children:[h.jsx("option",{value:"",children:"Select a company..."}),F.map(je=>h.jsx("option",{value:je.id,children:je.name},je.id))]}),h.jsxs("button",{onClick:oe,className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[h.jsx(_e,{path:Cr,size:.7}),"Subscribe"]}),h.jsxs("button",{onClick:()=>{H(!1),q("")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:[h.jsx(_e,{path:er,size:.7}),"Cancel"]})]}),F.length===0&&h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["All companies are already subscribed to ",e]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[h.jsxs("thead",{className:"bg-gray-100 text-gray-900 sticky top-0 z-10",children:[h.jsxs("tr",{children:[h.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Oe("booths"),title:"Click to sort by booth labels",rowSpan:3,children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"Booths"}),J==="booths"&&h.jsx(_e,{path:re==="asc"?wl:_l,size:.6,className:"text-blue-600"})]})}),h.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Oe("company"),title:"Click to sort by company name",rowSpan:3,children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{children:"Company"}),J==="company"&&h.jsx(_e,{path:re==="asc"?wl:_l,size:.6,className:"text-blue-600"})]})}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.contact")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.phone")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.email")}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:t("helpPanel.subscriptions.boothCount")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.area")}),h.jsx("th",{className:"p-2 text-center border-b bg-blue-50",colSpan:3,children:h.jsx("span",{className:"font-bold text-blue-700",children:t("helpPanel.subscriptions.saturday")})}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",colSpan:2,children:h.jsx("span",{className:"font-bold text-green-700",children:t("helpPanel.subscriptions.sunday")})}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:t("helpPanel.subscriptions.coins")}),h.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:t("helpPanel.subscriptions.notes")}),h.jsx("th",{className:"p-2 text-center border-b bg-gray-100",rowSpan:3,style:{minWidth:"80px"},children:t("helpPanel.subscriptions.actions")})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.breakfast")}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.lunch")}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.bbq")}),h.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.breakfast")}),h.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:t("helpPanel.subscriptions.lunch")}),h.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:z.booth_count}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:z.breakfast_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:z.lunch_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:z.bbq_sat}),h.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:z.breakfast_sun}),h.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:z.lunch_sun}),h.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:z.coins})]})]}),h.jsx("tbody",{children:D.map(je=>{const ge=T===je.id,Ae=je.company,Ne=Ce(je.company_id);return h.jsxs("tr",{className:"bg-white hover:bg-gray-50 border-b",children:[h.jsx("td",{className:"p-2 text-left",children:h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:Ne})}),h.jsx("td",{className:"p-2 text-left",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:Ji(Ae?.logo||n),alt:Ae?.name,className:"w-8 h-8 object-contain"}),h.jsx("span",{className:"font-semibold text-gray-700",children:Ae?.name})]})}),h.jsx("td",{className:"p-2 text-left",children:ge?h.jsx("input",{type:"text",value:P.contact||"",onChange:Ie=>A({...P,contact:Ie.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:je.contact||"-"})}),h.jsx("td",{className:"p-2 text-left",children:ge?h.jsx("input",{type:"text",value:P.phone||"",onChange:Ie=>A({...P,phone:Ie.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:je.phone||"-"})}),h.jsx("td",{className:"p-2 text-left",children:ge?h.jsx("input",{type:"email",value:P.email||"",onChange:Ie=>A({...P,email:Ie.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:je.email||"-"})}),h.jsx("td",{className:"p-2 text-center",children:ge?h.jsx("input",{type:"number",min:"1",value:P.booth_count||1,onChange:Ie=>A({...P,booth_count:parseInt(Ie.target.value)}),className:"w-16 px-2 py-1 border rounded text-xs text-center bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:je.booth_count})}),h.jsx("td",{className:"p-2",children:ge?h.jsx("input",{type:"text",value:P.area||"",onChange:Ie=>A({...P,area:Ie.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",placeholder:t("helpPanel.subscriptions.areaPlaceholder")}):h.jsx("span",{className:"text-xs text-gray-700",children:je.area||"-"})}),["breakfast_sat","lunch_sat","bbq_sat"].map(Ie=>h.jsx("td",{className:"p-2 text-center bg-blue-50",children:ge?h.jsx("input",{type:"number",min:"0",value:P[Ie]||0,onChange:Tt=>A({...P,[Ie]:parseInt(Tt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):h.jsx("span",{className:"text-xs text-gray-700",children:je[Ie]})},Ie)),["breakfast_sun","lunch_sun"].map(Ie=>h.jsx("td",{className:"p-2 text-center bg-green-50",children:ge?h.jsx("input",{type:"number",min:"0",value:P[Ie]||0,onChange:Tt=>A({...P,[Ie]:parseInt(Tt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):h.jsx("span",{className:"text-xs text-gray-700",children:je[Ie]})},Ie)),h.jsx("td",{className:"p-2 text-center",children:ge?h.jsx("input",{type:"number",min:"0",value:P.coins||0,onChange:Ie=>A({...P,coins:parseInt(Ie.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center bg-white text-gray-900"}):h.jsx("span",{className:"text-xs text-gray-700",children:je.coins})}),h.jsx("td",{className:"p-2 text-left",children:ge?h.jsx("textarea",{value:P.notes||"",onChange:Ie=>A({...P,notes:Ie.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",rows:2}):h.jsx("span",{className:"text-xs text-gray-700",children:je.notes||"-"})}),h.jsx("td",{className:"p-2 text-center",children:ge?h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:B,className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:h.jsx(_e,{path:Cr,size:.6})}),h.jsx("button",{onClick:ue,className:"p-1 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:h.jsx(_e,{path:er,size:.6})})]}):h.jsxs("div",{className:"flex gap-1 justify-center",children:[h.jsx("button",{onClick:()=>X(je),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:h.jsx(_e,{path:xf,size:.6})}),h.jsx("button",{onClick:()=>te(je),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Unsubscribe",children:h.jsx(_e,{path:Al,size:.6})})]})})]},je.id)})})]}),D.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:j?"No subscriptions found matching your search":`No companies subscribed to ${e} yet. Click "Subscribe Company" to add one.`})]})]})}function U8({activity:e,day:t,onSave:n,onClose:i}){const{t:s}=_t(),[o,u]=k.useState(!1),[d,f]=k.useState([]),[g,y]=k.useState({title_nl:"",title_en:"",description_nl:"",description_en:"",start_time:"",end_time:"",location_type:"venue",location_nl:"",location_en:"",company_id:null,badge_nl:"",badge_en:"",display_order:1,is_active:!0,show_location_type_badge:!1});k.useEffect(()=>{e&&y({title_nl:e.title_nl||"",title_en:e.title_en||"",description_nl:e.description_nl||"",description_en:e.description_en||"",start_time:e.start_time||"",end_time:e.end_time||"",location_type:e.location_type||"venue",location_nl:e.location_nl||"",location_en:e.location_en||"",company_id:e.company_id||null,badge_nl:e.badge_nl||"",badge_en:e.badge_en||"",display_order:e.display_order||1,is_active:e.is_active!==void 0?e.is_active:!0,show_location_type_badge:e.show_location_type_badge||!1})},[e]),k.useEffect(()=>{(async()=>{const{data:j}=await pe.from("companies").select("id, name").order("name");f(j||[])})()},[]);const v=(_,j)=>{y(E=>({...E,[_]:j}))},w=async _=>{_.preventDefault(),u(!0);try{const{data:j}=await pe.from("organization_profile").select("id").limit(1).single();if(!j)throw new Error("Organization not found");const E={...g,organization_id:j.id,day:t,location_nl:g.location_type==="venue"?g.location_nl:null,location_en:g.location_type==="venue"?g.location_en:null,company_id:g.location_type==="exhibitor"?g.company_id:null};if(e){const{error:T}=await pe.from("event_activities").update(E).eq("id",e.id);if(T)throw T}else{const{error:T}=await pe.from("event_activities").insert([E]);if(T)throw T}n(),i()}catch(j){console.error("Error saving activity:",j),alert(s("activityForm.saveError")+": "+j.message)}finally{u(!1)}};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 my-8",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s(e?"activityForm.editTitle":"activityForm.createTitle")}),h.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(d8,{className:"text-2xl"})})]}),h.jsx("form",{onSubmit:w,className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.titleNL")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",required:!0,value:g.title_nl,onChange:_=>v("title_nl",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nederlandse titel"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.titleEN")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",required:!0,value:g.title_en,onChange:_=>v("title_en",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"English title"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.descriptionNL")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{required:!0,rows:4,value:g.description_nl,onChange:_=>v("description_nl",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nederlandse beschrijving"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.descriptionEN")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{required:!0,rows:4,value:g.description_en,onChange:_=>v("description_en",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"English description"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.startTime")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"time",required:!0,value:g.start_time,onChange:_=>v("start_time",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.endTime")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"time",required:!0,value:g.end_time,onChange:_=>v("end_time",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("activityForm.locationType")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"venue",checked:g.location_type==="venue",onChange:_=>v("location_type",_.target.value),className:"mr-2"}),s("activityForm.venue")]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"exhibitor",checked:g.location_type==="exhibitor",onChange:_=>v("location_type",_.target.value),className:"mr-2"}),s("activityForm.exhibitor")]})]})]}),g.location_type==="venue"?h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.locationNL")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",required:!0,value:g.location_nl,onChange:_=>v("location_nl",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nederlandse locatie"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.locationEN")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",required:!0,value:g.location_en,onChange:_=>v("location_en",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"English location"})]})]}):h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.company")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{required:!0,value:g.company_id||"",onChange:_=>v("company_id",_.target.value?parseInt(_.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"",children:s("activityForm.selectCompany")}),d.map(_=>h.jsx("option",{value:_.id,children:_.name},_.id))]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.badgeNL")," ",h.jsxs("span",{className:"text-gray-500",children:["(",s("activityForm.optional"),")"]})]}),h.jsx("input",{type:"text",value:g.badge_nl,onChange:_=>v("badge_nl",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bijv. GRATIS ENTREE!"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.badgeEN")," ",h.jsxs("span",{className:"text-gray-500",children:["(",s("activityForm.optional"),")"]})]}),h.jsx("input",{type:"text",value:g.badge_en,onChange:_=>v("badge_en",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"E.g. FREE ENTRY!"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("activityForm.displayOrder")," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",required:!0,min:"1",value:g.display_order,onChange:_=>v("display_order",parseInt(_.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s("activityForm.displayOrderHelp")})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:g.is_active,onChange:_=>v("is_active",_.target.checked),className:"mr-2"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:s("activityForm.isActive")})]}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s("activityForm.isActiveHelp")})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:g.show_location_type_badge,onChange:_=>v("show_location_type_badge",_.target.checked),className:"mr-2"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:s("activityForm.showLocationBadge")})]}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s("activityForm.showLocationBadgeHelp")})]})]})}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end gap-3 border-t border-gray-200",children:[h.jsx("button",{type:"button",onClick:i,disabled:o,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:s("activityForm.cancel")}),h.jsx("button",{onClick:w,disabled:o,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:o?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s("activityForm.saving")]}):s("activityForm.save")})]})]})})}function H8(){const{t:e,i18n:t}=_t(),{activities:n,loading:i,error:s,getActivityLocation:o,refetch:u}=iC(),[d,f]=k.useState("saturday"),[g,y]=k.useState(null),[v,w]=k.useState(!1),[_,j]=k.useState(!1),[E,T]=k.useState(null),[M,P]=k.useState(null),[A,U]=k.useState(!1),H=n[d]||[],R=async W=>{if(!(!g||g.id!==W)){w(!0);try{const{error:ee}=await pe.from("event_activities").delete().eq("id",W);if(ee)throw ee;await u(),y(null)}catch(ee){console.error("Error deleting activity:",ee),alert(e("programManagement.deleteError")+": "+ee.message)}finally{w(!1)}}},q=(W,ee,le)=>{P({activity:ee,index:le}),W.dataTransfer.effectAllowed="move",W.currentTarget.style.opacity="0.4"},J=W=>{W.currentTarget.style.opacity="1",P(null)},G=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},re=async(W,ee)=>{if(W.preventDefault(),!(!M||M.index===ee)){U(!0);try{const le=[...H],[Y]=le.splice(M.index,1);le.splice(ee,0,Y);const se=le.map((F,Z)=>({id:F.id,display_order:Z+1}));for(const F of se){const{error:Z}=await pe.from("event_activities").update({display_order:F.display_order}).eq("id",F.id);if(Z)throw Z}await u()}catch(le){console.error("Error reordering activities:",le),alert(e("programManagement.reorderError")+": "+le.message)}finally{U(!1)}}};return i?h.jsxs("div",{className:"flex justify-center items-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("programManagement.loading")})]}):s?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-red-800",children:[e("programManagement.error"),": ",s.message]})}):h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e("programManagement.title")}),h.jsxs("button",{onClick:()=>{T(null),j(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(AE,{className:"text-xl"}),h.jsx("span",{children:e("programManagement.addActivity")})]})]})}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("div",{className:"flex",children:[h.jsxs("button",{onClick:()=>f("saturday"),className:`px-6 py-3 font-medium transition-colors ${d==="saturday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.saturday")," (",n.saturday?.length||0,")"]}),h.jsxs("button",{onClick:()=>f("sunday"),className:`px-6 py-3 font-medium transition-colors ${d==="sunday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.sunday")," (",n.sunday?.length||0,")"]})]})}),h.jsx("div",{className:"divide-y divide-gray-200",children:H.length===0?h.jsxs("div",{className:"px-6 py-12 text-center",children:[h.jsx("p",{className:"text-gray-500",children:e("programManagement.noActivitiesFound")}),h.jsx("button",{onClick:()=>{T(null),j(!0)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e("programManagement.addFirstActivity")})]}):H.map((W,ee)=>{const le=o(W,t.language),Y=t.language==="nl"?W.title_nl:W.title_en,se=t.language==="nl"?W.description_nl:W.description_en,F=t.language==="nl"?W.badge_nl:W.badge_en;return h.jsx("div",{draggable:!A,onDragStart:Z=>q(Z,W,ee),onDragEnd:J,onDragOver:G,onDrop:Z=>re(Z,ee),className:`px-6 py-4 hover:bg-gray-50 transition-colors ${A?"opacity-50 cursor-wait":"cursor-move"}`,children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("button",{className:`mt-1 text-gray-400 hover:text-gray-600 ${A?"cursor-wait":"cursor-move"}`,title:e("programManagement.dragToReorder"),disabled:A,children:h.jsx(a8,{className:"text-2xl"})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-gray-600 bg-gray-100 rounded",children:W.display_order}),h.jsxs("span",{className:"text-sm text-gray-500",children:[W.start_time," - ",W.end_time]}),F&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded",children:F})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:Y}),h.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:se}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsxs("span",{className:"text-gray-500",children:[e("programManagement.location"),":"]}),h.jsx("span",{className:"font-medium text-gray-700",children:le.text}),W.show_location_type_badge&&h.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${W.location_type==="exhibitor"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:W.location_type==="exhibitor"?e("programManagement.exhibitor"):e("programManagement.venue")})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{T(W),j(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:e("programManagement.edit"),children:h.jsx(c8,{className:"text-xl"})}),h.jsx("button",{onClick:()=>y({id:W.id,title:Y}),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:e("programManagement.delete"),children:h.jsx(s8,{className:"text-xl"})})]})]})})]})},W.id)})}),H.length>0&&h.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:h.jsxs("p",{className:"text-sm text-gray-600",children:[e("programManagement.totalActivities"),": ",h.jsx("span",{className:"font-medium",children:H.length})]})}),g&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("programManagement.confirmDelete")})}),h.jsxs("div",{className:"px-6 py-4",children:[h.jsx("p",{className:"text-gray-700",children:e("programManagement.confirmDeleteMessage")}),h.jsxs("p",{className:"mt-2 font-medium text-gray-900",children:['"',g.title,'"']})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>y(null),disabled:v,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:e("programManagement.cancel")}),h.jsx("button",{onClick:()=>R(g.id),disabled:v,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:v?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("programManagement.deleting")]}):e("programManagement.deleteButton")})]})]})}),_&&h.jsx(U8,{activity:E,day:d,onSave:u,onClose:()=>{j(!1),T(null)}})]})}const _S="assignmentsTab_sortPreferences";function F8({selectedYear:e}){const{t}=_t(),[n,i]=k.useState(""),o=(()=>{try{const te=localStorage.getItem(_S);if(te)return JSON.parse(te)}catch(te){console.error("Error loading sort preferences:",te)}return{sortBy:"alphabetic",sortDirection:"asc",columnSort:"markerId",columnSortDirection:"asc"}})(),[u,d]=k.useState(o.sortBy),[f,g]=k.useState(o.sortDirection),[y,v]=k.useState(o.columnSort),[w,_]=k.useState(o.columnSortDirection),{markers:j,loading:E}=PE(),{assignments:T,loading:M,error:P,assignCompanyToMarker:A,unassignCompanyFromMarker:U,archiveCurrentYear:H,loadArchivedAssignments:R}=Pf(e),{subscriptions:q}=Uc(e),{confirm:J,toastError:G,toastSuccess:re,toastInfo:W}=Bl(),ee=k.useMemo(()=>q.map(te=>({id:te.company_id,name:te.company?.name||"Unknown",logo:te.company?.logo||""})),[q]);k.useEffect(()=>{try{const te={sortBy:u,sortDirection:f,columnSort:y,columnSortDirection:w};localStorage.setItem(_S,JSON.stringify(te))}catch(te){console.error("Error saving sort preferences:",te)}},[u,f,y,w]);const le=k.useMemo(()=>{const te={};return T.forEach(oe=>{te[oe.company_id]=(te[oe.company_id]||0)+1}),te},[T]),Y=k.useMemo(()=>{const te={};return T.forEach(oe=>{(!te[oe.company_id]||oe.marker_id<te[oe.company_id])&&(te[oe.company_id]=oe.marker_id)}),te},[T]),se=k.useMemo(()=>[...n?ee.filter(ye=>ye.name?.toLowerCase().includes(n.toLowerCase())):ee].sort((ye,Ee)=>{const Oe=le[ye.id]||0,je=le[Ee.id]||0,ge=Y[ye.id],Ae=Y[Ee.id];let Ne=0;switch(u){case"byMarker":!ge&&Ae?Ne=1:ge&&!Ae?Ne=-1:!ge&&!Ae?Ne=ye.name.localeCompare(Ee.name):ge!==Ae?Ne=ge-Ae:Ne=ye.name.localeCompare(Ee.name);break;case"unassignedFirst":Oe===0&&je>0?Ne=-1:Oe>0&&je===0?Ne=1:Oe===0&&je===0?Ne=ye.name.localeCompare(Ee.name):!ge&&Ae?Ne=1:ge&&!Ae?Ne=-1:ge!==Ae?Ne=ge-Ae:Ne=ye.name.localeCompare(Ee.name);break;case"alphabetic":default:Ne=ye.name.localeCompare(Ee.name);break}return f==="desc"?-Ne:Ne}),[ee,n,u,f,le,Y]),F=k.useMemo(()=>[...j].sort((oe,ye)=>{let Ee=0;return y==="glyphText"?Ee=oe.glyph.localeCompare(ye.glyph,void 0,{numeric:!0,sensitivity:"base"}):Ee=oe.id-ye.id,w==="desc"?-Ee:Ee}),[j,y,w]),Z=k.useMemo(()=>{const te={};return T.forEach(oe=>{const ye=`${oe.company_id}_${oe.marker_id}`;te[ye]=oe}),te},[T]),ne=k.useMemo(()=>{const te=new Set;return T.forEach(oe=>{te.add(oe.marker_id)}),te},[T]),Ce=te=>ne.has(te),D=(te,oe)=>{const ye=`${te}_${oe}`;return!!Z[ye]},z=(te,oe)=>{const ye=`${te}_${oe}`;return Z[ye]},X=async(te,oe)=>{if(z(te,oe)){const{error:Ee}=await U(oe,te);Ee&&G(`Error removing assignment: ${Ee}`)}else{const Ee=T.filter(je=>je.marker_id===oe);if(Ee.length>0){const ge=ee.find(He=>He.id===te)?.name||"this company",Ne=F.find(He=>He.id===oe)?.glyph||oe;let Ie;if(Ee.length===1){const Cn=ee.find(Pn=>Pn.id===Ee[0].company_id)?.name||"another company";Ie=`Booth ${Ne} is already assigned to ${Cn}.

Assign ${ge} as an additional company for this booth?`}else{const He=Ee.map(Cn=>ee.find(bi=>bi.id===Cn.company_id)?.name).filter(Boolean).join(", ");Ie=`Booth ${Ne} is already assigned to ${Ee.length} companies: ${He}.

Assign ${ge} as another company for this booth?`}if(!await J({title:"Multiple Assignments",message:Ie,confirmText:"Assign",variant:"warning"}))return}const{error:Oe}=await A(oe,te,null);Oe&&G(`Error creating assignment: ${Oe}`)}},B=async()=>{if(!await J({title:"Archive Assignments",message:`Archive all assignments for ${e}? This will move them to the archive and clear the current year.`,confirmText:"Archive",variant:"warning"}))return;const{error:oe}=await H();oe?G(`Error archiving: ${oe}`):re(`Successfully archived ${T.length} assignments for ${e}`)},ue=async te=>{const{error:oe}=await R(te);oe?G(`Error loading archived assignments: ${oe}`):W(`Archived data loaded for ${te}. Feature coming soon: display in table.`)};return M||E?h.jsx("div",{className:"p-4",children:"Loading assignments..."}):P?h.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",P]}):h.jsxs("div",{className:"h-full flex flex-col p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:io,size:1,className:"text-gray-500"}),h.jsx("input",{type:"text",placeholder:t("helpPanel.assignments.searchPlaceholder"),value:n,onChange:te=>i(te.target.value),className:"px-3 py-2 border rounded-lg"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[se.length," of ",ee.length]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>ue(e),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",title:`View archived assignments for ${e}`,children:[h.jsx(_e,{path:EO,size:.8}),h.jsx("span",{children:t("helpPanel.assignments.archive")})]}),h.jsx("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:T.length===0,title:`Archive all assignments for ${e}`,children:h.jsx(_e,{path:yf,size:.8})}),h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("helpPanel.assignments.sortCompanies")}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:u,onChange:te=>d(te.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none",title:"Sort table rows",children:[h.jsx("option",{value:"alphabetic",children:"A-Z"}),h.jsx("option",{value:"byMarker",children:t("helpPanel.assignments.byMarker")}),h.jsx("option",{value:"unassignedFirst",children:t("helpPanel.assignments.unassignedFirst")})]}),h.jsx("button",{onClick:()=>g(f==="asc"?"desc":"asc"),className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:f==="asc"?"Ascending":"Descending",children:h.jsx(_e,{path:f==="asc"?wl:_l,size:.8})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("helpPanel.assignments.sortMarkers")}),h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[h.jsxs("select",{value:y,onChange:te=>v(te.target.value),className:"flex-1 pl-3 pr-3 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0 appearance-none",title:"Sort table columns",children:[h.jsx("option",{value:"markerId",children:t("helpPanel.assignments.markerId")}),h.jsx("option",{value:"glyphText",children:t("helpPanel.assignments.glyphText")})]}),h.jsx("button",{onClick:()=>_(w==="asc"?"desc":"asc"),className:"px-2 py-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:w==="asc"?"Ascending":"Descending",children:h.jsx(_e,{path:w==="asc"?wl:_l,size:.8})})]})]})]})]})]}),h.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[h.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[h.jsx("th",{className:"p-2 text-left font-semibold border-b border-r bg-gray-200 sticky left-0 z-20",style:{minWidth:"200px"},children:"Company"}),F.map(te=>{const oe=Ce(te.id);return h.jsx("th",{className:`p-1 text-center border-b ${oe?"":"bg-gray-200"}`,style:{minWidth:"45px",maxWidth:"45px"},title:`Marker ID: ${te.id}, Booth: ${te.glyph}${oe?"":" (Unassigned)"}`,children:h.jsx("div",{className:`font-semibold ${oe?"":"text-gray-500"}`,children:te.glyph})},te.id)})]})}),h.jsx("tbody",{children:se.map(te=>{const oe=le[te.id]||0;return h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"p-2 border-b border-r bg-white sticky left-0 z-10",children:h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("div",{className:"font-semibold text-gray-900 truncate",title:te.name,children:te.name}),h.jsx("span",{className:`inline-flex items-center justify-center min-w-[24px] h-5 px-1.5 rounded-full text-xs font-medium ${oe===0?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-700"}`,title:`${oe} assignment${oe!==1?"s":""}`,children:oe})]})}),F.map(ye=>{const Ee=D(te.id,ye.id),Oe=Ce(ye.id);return h.jsx("td",{className:`p-0 border-b border-r text-center ${Oe?"":"bg-gray-100"}`,children:h.jsx("button",{onClick:()=>X(te.id,ye.id),className:`w-full h-full p-2 transition-colors ${Ee?"bg-green-100 hover:bg-green-200 text-green-700":Oe?"bg-white hover:bg-gray-100 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-400"}`,title:Ee?`${te.name}  Booth ${ye.glyph}`:`Assign ${te.name} to Booth ${ye.glyph}`,children:Ee&&h.jsx(_e,{path:Cr,size:.6})})},ye.id)})]},te.id)})})]}),se.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"No companies found matching your search":"No companies available. Add companies in the Companies tab."})]}),h.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center",children:h.jsx(_e,{path:Cr,size:.5,className:"text-green-700"})}),h.jsx("span",{className:"font-medium",children:t("helpPanel.assignments.assigned")})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 bg-white rounded"}),h.jsx("span",{className:"font-medium",children:t("helpPanel.assignments.notAssigned")})]})]}),h.jsxs("div",{className:"text-sm text-gray-900",children:[h.jsxs("strong",{children:["Statistics for ",e,":"]})," ",T.length," assignments,"," ",new Set(T.map(te=>te.company_id)).size," unique companies,"," ",new Set(T.map(te=>te.marker_id)).size," markers assigned"]})]})]})}const q8=[{name:"mdiCarOutline",label:"Car"},{name:"mdiTent",label:"Tent"},{name:"mdiTrailer",label:"Trailer"},{name:"mdiCarCog",label:"Car Parts"},{name:"mdiAirplane",label:"Airplane"},{name:"mdiHomeCity",label:"Building"},{name:"mdiAccountGroup",label:"People"},{name:"mdiTerrainIcon",label:"Terrain"},{name:"mdiCellphone",label:"Phone"},{name:"mdiDotsHorizontal",label:"Other"}],$8=["#1976d2","#2e7d32","#f57c00","#d32f2f","#00796b","#5d4037","#303f9f","#689f38","#7b1fa2","#616161","#c62828","#00897b","#5e35b1","#455a64","#6d4c41","#d84315"];function Z8(){const{t:e,i18n:t}=_t(),{categories:n,loading:i,error:s,createCategory:o,updateCategory:u,deleteCategory:d,getCategoryStats:f}=Xy(t.language),[g,y]=k.useState(!1),[v,w]=k.useState(null),[_,j]=k.useState({}),[E,T]=k.useState({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:0,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}});k.useEffect(()=>{i||(async()=>{const q=await f();j(q)})()},[i,f,n]);const M=()=>{T({slug:"",icon:"mdiDotsHorizontal",color:"#616161",sort_order:n.length+1,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}}),w(null)},P=()=>{M(),y(!0)},A=R=>{w(R),T({slug:R.slug,icon:R.iconName,color:R.color,sort_order:R.sort_order,translations:{nl:{name:"",description:""},en:{name:"",description:""},de:{name:"",description:""}}}),y(!0)},U=async(R,q)=>{if(!confirm(e("admin.categories.confirmDelete",{name:q})))return;const J=await d(R);J.success?alert(e("admin.categories.deleteSuccess")):alert(e("admin.categories.deleteError",{error:J.error}))},H=async R=>{R.preventDefault();const q={slug:E.slug,icon:E.icon,color:E.color,sort_order:E.sort_order,translations:E.translations};let J;v?J=await u(v.id,q,E.translations):J=await o(q),J.success?(y(!1),M(),alert(e(v?"categories.updateSuccess":"categories.createSuccess"))):alert(e("categories.saveError",{error:J.error}))};return i?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):s?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-red-800",children:[e("common.error"),": ",s]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("categories.title")}),h.jsx("p",{className:"text-gray-600 mt-1",children:e("categories.description")})]}),h.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(_e,{path:Dc,size:.8}),e("categories.createNew")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("categories.order")}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("admin.categories.category")}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("admin.categories.slug")}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("admin.categories.exhibitors")}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("common.actions")})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(R=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[h.jsx(_e,{path:_O,size:.8,className:"cursor-move"}),h.jsx("span",{className:"font-medium",children:R.sort_order})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:R.color},children:h.jsx(_e,{path:R.icon,size:.8,className:"text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:R.name}),h.jsx("div",{className:"text-sm text-gray-500",children:R.description})]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:R.slug})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:fO,size:.7,className:"text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-600",children:_[R.id]||0})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[h.jsx("button",{onClick:()=>A(R),className:"text-blue-600 hover:text-blue-900 mr-3",children:h.jsx(_e,{path:xf,size:.8})}),h.jsx("button",{onClick:()=>U(R.id,R.name),className:"text-red-600 hover:text-red-900",disabled:_[R.id]>0,title:_[R.id]>0?e("admin.categories.cannotDelete"):"",children:h.jsx(_e,{path:Al,size:.8})})]})]},R.id))})]}),n.length===0&&h.jsx("div",{className:"text-center py-12 text-gray-500",children:e("admin.categories.noCategories")})]}),g&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e(v?"admin.categories.editCategory":"admin.categories.createCategory")}),h.jsx("button",{onClick:()=>{y(!1),M()},className:"text-gray-400 hover:text-gray-600",children:h.jsx(_e,{path:er,size:1})})]}),h.jsxs("form",{onSubmit:H,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("admin.categories.slug")," *"]}),h.jsx("input",{type:"text",required:!0,value:E.slug,onChange:R=>T({...E,slug:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"vehicles-dealers"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("admin.categories.slugHelp")})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("admin.categories.icon")}),h.jsx("select",{value:E.icon,onChange:R=>T({...E,icon:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:q8.map(R=>h.jsx("option",{value:R.name,children:R.label},R.name))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("admin.categories.color")}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"color",value:E.color,onChange:R=>T({...E,color:R.target.value}),className:"w-16 h-10 border border-gray-300 rounded cursor-pointer"}),h.jsx("input",{type:"text",value:E.color,onChange:R=>T({...E,color:R.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"#1976d2"})]}),h.jsx("div",{className:"flex gap-1 mt-2",children:$8.map(R=>h.jsx("button",{type:"button",onClick:()=>T({...E,color:R}),className:"w-6 h-6 rounded border-2 border-gray-200 hover:border-gray-400",style:{backgroundColor:R},title:R},R))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("admin.categories.sortOrder")}),h.jsx("input",{type:"number",value:E.sort_order,onChange:R=>T({...E,sort_order:parseInt(R.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:e("admin.categories.translations")}),["nl","en","de"].map(R=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[h.jsx("h5",{className:"font-medium text-gray-700 uppercase",children:R}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("admin.categories.name")," (",R,") *"]}),h.jsx("input",{type:"text",required:!0,value:E.translations[R].name,onChange:q=>T({...E,translations:{...E.translations,[R]:{...E.translations[R],name:q.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e("admin.categories.description")," (",R,")"]}),h.jsx("textarea",{value:E.translations[R].description,onChange:q=>T({...E,translations:{...E.translations,[R]:{...E.translations[R],description:q.target.value}}}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]},R))]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx("button",{type:"button",onClick:()=>{y(!1),M()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("common.cancel")}),h.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(_e,{path:Cr,size:.8}),e(v?"common.save":"common.create")]})]})]})]})})]})}function G8(){const{t:e}=_t(),{isSuperAdmin:t}=ro(),[n,i]=k.useState([]),[s,o]=k.useState(!0),[u,d]=k.useState(null),[f,g]=k.useState(!1),[y,v]=k.useState(""),[w,_]=k.useState("event_manager"),[j,E]=k.useState(!1),[T,M]=k.useState(!1),[P,A]=k.useState(null);k.useEffect(()=>{U()},[]);const U=async()=>{try{o(!0),d(null);let G,re;try{const le=await pe.rpc("get_user_roles_with_email");G=le.data,re=le.error}catch{console.warn("get_user_roles_with_email not available, using fallback");const Y=await pe.from("user_roles").select("user_id, role, created_at, updated_at").order("created_at",{ascending:!1});G=Y.data,re=Y.error}if(re)throw re;const{data:{user:W}}=await pe.auth.getUser(),ee=(G||[]).map(le=>{const Y=W?.id===le.user_id;return{id:le.user_id,email:le.email||(Y?W.email:`user-${le.user_id.substring(0,8)}...`),role:le.role,created_at:le.created_at,last_sign_in_at:le.last_sign_in_at||(Y?W.last_sign_in_at:null),isCurrentUser:Y}});i(ee),o(!1)}catch(G){console.error("Error fetching users:",G),d(e("settings.userManagement.errors.fetchFailed")),o(!1)}},H=async G=>{G.preventDefault(),E(!0),d(null);try{const ee=`${window.location.origin}/Map#/reset-password`,le=Math.random().toString(36).slice(-12)+"A1!",{data:Y,error:se}=await pe.auth.signUp({email:y,password:le,options:{data:{role:w},emailRedirectTo:ee}});if(se)throw se;if(console.log("SignUp Response:",{userId:Y?.user?.id,email:Y?.user?.email,emailConfirmedAt:Y?.user?.email_confirmed_at,identities:Y?.user?.identities?.length}),Y?.user?.id){const{error:Z}=await pe.from("user_roles").insert({user_id:Y.user.id,role:w});Z&&console.warn("Failed to add user to user_roles:",Z)}const{error:F}=await pe.auth.resetPasswordForEmail(y,{redirectTo:ee});F&&console.warn("Password reset email failed:",F),M(!0),setTimeout(()=>{g(!1),M(!1),v(""),_("event_manager"),U()},8e3)}catch(re){console.error("Error inviting user:",re),d(re.message||e("settings.userManagement.errors.inviteFailed"))}finally{E(!1)}},R=async(G,re)=>{if(confirm(e("settings.userManagement.confirmDelete",{email:re})))try{d(null);const{error:W}=await pe.from("user_roles").delete().eq("user_id",G);if(W)throw W;await U()}catch(W){console.error("Error deleting user:",W),d(e("settings.userManagement.errors.deleteFailed"))}},q={super_admin:e("settings.userManagement.roles.superAdmin"),system_manager:e("settings.userManagement.roles.systemManager"),event_manager:e("settings.userManagement.roles.eventManager")},J={super_admin:"bg-purple-100 text-purple-800 border-purple-200",system_manager:"bg-blue-100 text-blue-800 border-blue-200",event_manager:"bg-green-100 text-green-800 border-green-200"};return s?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx("div",{className:"text-gray-500",children:e("settings.userManagement.loading")})})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(_e,{path:H2,size:1}),e("settings.userManagement.title")]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.userManagement.description")})]}),h.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(_e,{path:Dc,size:.8}),e("settings.userManagement.inviteUser")]})]}),u&&h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg mb-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(_e,{path:gf,size:.8,className:"mr-2"}),h.jsx("span",{className:"text-sm",children:u})]})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.email")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.role")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.created")}),h.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.lastLogin")}),h.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.actions")})]})}),h.jsx("tbody",{children:n.map(G=>h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 px-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_e,{path:wO,size:.7,className:"text-gray-400"}),h.jsx("span",{className:"text-sm text-gray-900",children:G.email})]})}),h.jsx("td",{className:"py-3 px-4",children:h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${J[G.role]||"bg-gray-100 text-gray-800"}`,children:q[G.role]||G.role})}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:new Date(G.created_at).toLocaleDateString()}),h.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:G.last_sign_in_at?new Date(G.last_sign_in_at).toLocaleDateString():"-"}),h.jsx("td",{className:"py-3 px-4 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>A(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:e("settings.userManagement.editRole"),children:h.jsx(_e,{path:xf,size:.7})}),t&&h.jsx("button",{onClick:()=>R(G.id,G.email),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("settings.userManagement.deleteUser"),children:h.jsx(_e,{path:Al,size:.7})})]})})]},G.id))})]})})]}),f&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e("settings.userManagement.inviteUser")}),h.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(_e,{path:er,size:.8})})]}),T?h.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(_e,{path:Cr,size:.8,className:"mr-2"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e("settings.userManagement.inviteSuccess")}),h.jsx("p",{className:"text-sm mt-1",children:e("settings.userManagement.inviteSuccessMessage")})]})]})}):h.jsxs("form",{onSubmit:H,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label-base",children:e("settings.userManagement.emailLabel")}),h.jsx("input",{type:"email",value:y,onChange:G=>v(G.target.value),className:"input-base",placeholder:"manager@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label-base",children:e("settings.userManagement.roleLabel")}),h.jsxs("select",{value:w,onChange:G=>_(G.target.value),className:"input-base",children:[h.jsx("option",{value:"event_manager",children:q.event_manager}),h.jsx("option",{value:"system_manager",children:q.system_manager}),t&&h.jsx("option",{value:"super_admin",children:q.super_admin})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e(`settings.userManagement.roleDescriptions.${w}`)})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:e("settings.userManagement.cancel")}),h.jsx("button",{type:"submit",disabled:j,className:"flex-1 btn-primary",children:e(j?"settings.userManagement.sending":"settings.userManagement.sendInvite")})]})]})]})})]})}function K8(){const{t:e}=_t(),[t,n]=k.useState(!0),[i,s]=k.useState(!1),[o,u]=k.useState(!1),[d,f]=k.useState(null),[g,y]=k.useState(0),[v,w]=k.useState(0),[_,j]=k.useState(0),[E,T]=k.useState(0),[M,P]=k.useState(0),[A,U]=k.useState(!0),[H,R]=k.useState(!0),[q,J]=k.useState(!0);k.useEffect(()=>{G()},[]);const G=async()=>{n(!0),f(null);try{const{data:W,error:ee}=await pe.from("organization_profile").select("*").single();if(ee)ee.code==="PGRST116"?console.log("No organization profile found, using defaults"):console.warn("Error loading settings (columns may not exist yet):",ee);else if(W&&(y(W.default_breakfast_sat??0),w(W.default_lunch_sat??0),j(W.default_bbq_sat??0),T(W.default_breakfast_sun??0),P(W.default_lunch_sun??0),W.notification_settings)){const le=typeof W.notification_settings=="string"?JSON.parse(W.notification_settings):W.notification_settings;U(le.emailNotifications??!0),R(le.newSubscriptionNotify??!0),J(le.assignmentChangeNotify??!0)}}catch(W){console.warn("Failed to load settings (columns may not exist yet):",W)}finally{n(!1)}},re=async W=>{W.preventDefault(),s(!0),f(null),u(!1);try{const ee={emailNotifications:A,newSubscriptionNotify:H,assignmentChangeNotify:q},{error:le}=await pe.from("organization_profile").select("default_breakfast").limit(1);if(le&&le.message?.includes("column")){f("Database columns not yet created. Please run the migration: ALTER TABLE organization_profile ADD COLUMN..."),console.error("EventDefaults columns missing. Run migration to add: default_breakfast, default_lunch, default_bbq, notification_settings");return}const{error:Y}=await pe.from("organization_profile").upsert({id:1,default_breakfast_sat:g,default_lunch_sat:v,default_bbq_sat:_,default_breakfast_sun:E,default_lunch_sun:M,notification_settings:ee,updated_at:new Date().toISOString()});if(Y)throw Y;u(!0),setTimeout(()=>u(!1),3e3)}catch(ee){console.error("Failed to save settings:",ee),f(e("settings.eventDefaults.errors.saveFailed"))}finally{s(!1)}};return t?h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center justify-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:e("settings.eventDefaults.loading")})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e("settings.eventDefaults.title")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.description")})]}),o&&h.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start",children:[h.jsx(_e,{path:vf,size:1,className:"text-green-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-green-800",children:e("settings.eventDefaults.saveSuccess")}),h.jsx("p",{className:"text-sm text-green-700",children:e("settings.eventDefaults.saveSuccessMessage")})]})]}),d&&h.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start",children:[h.jsx(_e,{path:gf,size:1,className:"text-red-600 mr-3 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-red-800",children:e("settings.eventDefaults.error")}),h.jsx("p",{className:"text-sm text-red-700",children:d})]})]}),h.jsxs("form",{onSubmit:re,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(_e,{path:SO,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.mealDefaults.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.mealDefaults.description")}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.saturday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"breakfastSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),h.jsx("input",{type:"number",id:"breakfastSat",min:"0",max:"9999",value:g,onChange:W=>y(parseInt(W.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lunchSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),h.jsx("input",{type:"number",id:"lunchSat",min:"0",max:"9999",value:v,onChange:W=>w(parseInt(W.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"bbqSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.bbq")}),h.jsx("input",{type:"number",id:"bbqSat",min:"0",max:"9999",value:_,onChange:W=>j(parseInt(W.target.value)||0),className:"input-base"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.sunday")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"breakfastSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),h.jsx("input",{type:"number",id:"breakfastSun",min:"0",max:"9999",value:E,onChange:W=>T(parseInt(W.target.value)||0),className:"input-base"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lunchSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),h.jsx("input",{type:"number",id:"lunchSun",min:"0",max:"9999",value:M,onChange:W=>P(parseInt(W.target.value)||0),className:"input-base"})]}),h.jsxs("div",{className:"opacity-50",children:[h.jsx("label",{className:"label-base text-gray-400",children:e("settings.eventDefaults.mealDefaults.bbq")}),h.jsx("input",{type:"number",disabled:!0,value:"",className:"input-base bg-gray-100 cursor-not-allowed"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("settings.eventDefaults.mealDefaults.sundayNoBbq")})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(_e,{path:aO,size:1,className:"text-orange-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.notifications.title")})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.notifications.description")}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"emailNotifications",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.emailNotifications")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.emailNotificationsDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":A,onClick:()=>U(!A),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${A?"bg-orange-600":"bg-gray-300"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${A?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newSubscriptionNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.newSubscription")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.newSubscriptionDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":H,onClick:()=>R(!H),disabled:!A,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${H&&A?"bg-orange-600":"bg-gray-300"} ${A?"":"opacity-50 cursor-not-allowed"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${H?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"assignmentChangeNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.assignmentChange")}),h.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.assignmentChangeDesc")})]}),h.jsx("button",{type:"button",role:"switch","aria-checked":q,onClick:()=>J(!q),disabled:!A,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${q&&A?"bg-orange-600":"bg-gray-300"} ${A?"":"opacity-50 cursor-not-allowed"}`,children:h.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${q?"translate-x-5":"translate-x-0"}`})})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 bg-white rounded-lg shadow p-6",children:[h.jsx("button",{type:"button",onClick:G,disabled:i,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e("settings.eventDefaults.reset")}),h.jsx("button",{type:"submit",disabled:i,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(i?"settings.eventDefaults.saving":"settings.eventDefaults.save")})]})]})]})}function RE(){const[e,t]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),[u,d]=k.useState(null),[f,g]=k.useState(new Set);k.useEffect(()=>{(async()=>{const{data:{user:U}}=await pe.auth.getUser();d(U?.id||null)})()},[]);const y=k.useCallback(async(A={})=>{try{i(!0),o(null);let U=pe.from("feedback_requests").select("*").order("created_at",{ascending:!1});A.type&&(U=U.eq("type",A.type)),A.status&&(U=U.eq("status",A.status)),A.userId&&(U=U.eq("user_id",A.userId));const{data:H,error:R}=await U;if(R)throw R;if(t(H||[]),u){const{data:q}=await pe.from("feedback_votes").select("request_id").eq("user_id",u);g(new Set(q?.map(J=>J.request_id)||[]))}}catch(U){console.error("Error loading feedback requests:",U),o(U.message)}finally{i(!1)}},[u]),v=async A=>{try{const{data:{user:U}}=await pe.auth.getUser();if(!U)throw new Error("User not authenticated");const{data:H,error:R}=await pe.from("feedback_requests").insert({user_id:U.id,user_email:U.email,type:A.type,title:A.title,description:A.description||""}).select().single();if(R)throw R;return await y(),{data:H,error:null}}catch(U){return console.error("Error creating request:",U),{data:null,error:U.message}}},w=async(A,U)=>{try{const{data:H,error:R}=await pe.from("feedback_requests").update(U).eq("id",A).select().single();if(R)throw R;return await y(),{data:H,error:null}}catch(H){return console.error("Error updating request:",H),{data:null,error:H.message}}},_=async A=>{try{const{error:U}=await pe.from("feedback_requests").delete().eq("id",A);if(U)throw U;return await y(),{error:null}}catch(U){return console.error("Error deleting request:",U),{error:U.message}}},j=async A=>{try{const{data:{user:U}}=await pe.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:H}=await pe.from("feedback_votes").insert({request_id:A,user_id:U.id});if(H)throw H;return g(R=>new Set([...R,A])),t(R=>R.map(q=>q.id===A?{...q,votes:q.votes+1}:q)),{error:null}}catch(U){return console.error("Error adding vote:",U),{error:U.message}}},E=async A=>{try{const{data:{user:U}}=await pe.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:H}=await pe.from("feedback_votes").delete().eq("request_id",A).eq("user_id",U.id);if(H)throw H;return g(R=>{const q=new Set(R);return q.delete(A),q}),t(R=>R.map(q=>q.id===A?{...q,votes:Math.max(0,q.votes-1)}:q)),{error:null}}catch(U){return console.error("Error removing vote:",U),{error:U.message}}},T=async A=>{try{const{data:U,error:H}=await pe.from("feedback_comments").select("*").eq("request_id",A).order("created_at",{ascending:!0});if(H)throw H;return{data:U||[],error:null}}catch(U){return console.error("Error loading comments:",U),{data:[],error:U.message}}},M=async(A,U)=>{try{const{data:{user:H}}=await pe.auth.getUser();if(!H)throw new Error("User not authenticated");const{data:R,error:q}=await pe.from("feedback_comments").insert({request_id:A,user_id:H.id,user_email:H.email,comment:U}).select().single();if(q)throw q;return t(J=>J.map(G=>G.id===A?{...G,comments_count:G.comments_count+1}:G)),{data:R,error:null}}catch(H){return console.error("Error adding comment:",H),{data:null,error:H.message}}},P=async(A,U)=>{try{const{error:H}=await pe.from("feedback_comments").delete().eq("id",A);if(H)throw H;return t(R=>R.map(q=>q.id===U?{...q,comments_count:Math.max(0,q.comments_count-1)}:q)),{error:null}}catch(H){return console.error("Error deleting comment:",H),{error:H.message}}};return k.useEffect(()=>{const A=pe.channel("feedback_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests"},()=>{y()}).subscribe(),U=pe.channel("feedback_votes_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_votes"},R=>{(R?.new||R?.old)&&t(q=>{const J=[...q],G=R.new?.request_id||R.old?.request_id;return J.findIndex(W=>W.id===G)!==-1&&y(),J})}).subscribe(),H=pe.channel("feedback_comments_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_comments"},R=>{if(R?.new||R?.old){const q=R.new?.request_id||R.old?.request_id;t(J=>J.map(G=>G.id===q?{...G}:G)),y()}}).subscribe();return()=>{pe.removeChannel(A),pe.removeChannel(U),pe.removeChannel(H)}},[y]),{requests:e,loading:n,error:s,userVotes:f,currentUserId:u,loadRequests:y,createRequest:v,updateRequest:w,deleteRequest:_,addVote:j,removeVote:E,loadComments:T,addComment:M,deleteComment:P}}function W8({request:e,onClose:t,onUpdate:n}){const{t:i}=_t(),{role:s}=ro(),o=s==="super_admin",{userVotes:u,currentUserId:d,addVote:f,removeVote:g,loadComments:y,addComment:v,deleteComment:w,updateRequest:_}=RE(),[j,E]=k.useState([]),[T,M]=k.useState(""),[P,A]=k.useState(!0),[U,H]=k.useState(!1),[R,q]=k.useState(!1),[J,G]=k.useState(e.status),[re,W]=k.useState(e.priority||""),[ee,le]=k.useState(e.version_completed||""),[Y,se]=k.useState(!1),[F,Z]=k.useState(e.votes),[ne,Ce]=k.useState(e.comments_count||0);k.useEffect(()=>{Z(e.votes),Ce(e.comments_count||0)},[e.id,e.votes,e.comments_count]),k.useEffect(()=>{(async()=>{A(!0);const{data:Ee}=await y(e.id);E(Ee||[]),A(!1)})()},[e.id]);const D=async()=>{if(u.has(e.id)){const{error:ye}=await g(e.id);ye||Z(Ee=>Math.max(0,Ee-1))}else{const{error:ye}=await f(e.id);ye||Z(Ee=>Ee+1)}},z=async ye=>{if(ye.preventDefault(),!T.trim())return;H(!0);const{data:Ee,error:Oe}=await v(e.id,T.trim());!Oe&&Ee&&(E([...j,Ee]),M(""),Ce(je=>je+1)),H(!1)},X=async ye=>{if(!confirm(i("common.confirmDelete")))return;const{error:Ee}=await w(ye,e.id);Ee||(E(j.filter(Oe=>Oe.id!==ye)),Ce(Oe=>Math.max(0,Oe-1)))},B=async()=>{se(!0);const ye={status:J,priority:re||null,version_completed:ee||null};J==="completed"&&e.status!=="completed"&&(ye.completed_at=new Date().toISOString(),ye.completed_by=d);const{error:Ee,data:Oe}=await _(e.id,ye);Ee||(q(!1),n&&n(Oe)),se(!1)},ue=ye=>{if(!ye)return"open";switch(ye.toLowerCase()){case"in_progress":case"inprogress":case"in progress":return"in_progress";case"completed":return"completed";case"archived":return"archived";case"open":default:return"open"}},te=ye=>{switch(ue(ye),ye){case"completed":return vf;case"in_progress":return X2;case"archived":return yf;default:return $2}},oe=ye=>{switch(ue(ye)){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.type==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[h.jsx(_e,{path:e.type==="issue"?ty:ny,size:.5,className:"mr-1"}),i(`settings.feedbackRequests.types.${e.type}`)]})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[h.jsx("span",{children:e.user_email}),h.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.version_completed&&!R&&h.jsxs("span",{className:"text-green-600 font-medium",children:["v",e.version_completed]})]})]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:h.jsx(_e,{path:er,size:1})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[e.description&&h.jsx("div",{className:"mb-6",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})}),o&&h.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-left flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-semibold text-blue-900",children:i("settings.feedbackRequests.detail.status")}),R?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>q(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:i("common.cancel")}),h.jsx("button",{onClick:B,disabled:Y,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:i(Y?"common.saving":"common.save")})]}):h.jsx("button",{onClick:()=>q(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:i("common.edit")})]}),(()=>{const ye={open:"open",in_progress:"inProgress",completed:"completed",archived:"archived"},Ee=ue(e.status),Oe=ye[Ee]||"open";return h.jsxs("div",{className:"mt-2 space-y-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{htmlFor:"feedback-status-select",className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.statusCurrent")||i("settings.feedbackRequests.detail.status")||"Status"}),R?h.jsxs("select",{id:"feedback-status-select","aria-label":i("settings.feedbackRequests.detail.statusAriaEdit")||"Edit status",value:J,onChange:je=>G(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[h.jsx("option",{value:"open",children:i("settings.feedbackRequests.statuses.open")}),h.jsx("option",{value:"in_progress",children:i("settings.feedbackRequests.statuses.inProgress")}),h.jsx("option",{value:"completed",children:i("settings.feedbackRequests.statuses.completed")}),h.jsx("option",{value:"archived",children:i("settings.feedbackRequests.statuses.archived")})]}):h.jsxs("span",{role:"status","data-testid":"feedback-status-badge","aria-label":`Current status: ${i(`settings.feedbackRequests.statuses.${Oe}`)}`,className:`inline-flex items-center gap-2 px-2 py-1 rounded-md border text-sm font-medium ${oe(Ee)}`,children:[h.jsx(_e,{path:te(Ee),size:.8}),i(`settings.feedbackRequests.statuses.${Oe}`)]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.priority")}),R?h.jsxs("select",{value:re,onChange:je=>W(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm","aria-label":i("settings.feedbackRequests.detail.priorityAriaEdit")||"Edit priority",children:[h.jsx("option",{value:"",children:i("settings.feedbackRequests.priorities.none")||"No priority"}),h.jsx("option",{value:"low",children:i("settings.feedbackRequests.priorities.low")}),h.jsx("option",{value:"medium",children:i("settings.feedbackRequests.priorities.medium")}),h.jsx("option",{value:"high",children:i("settings.feedbackRequests.priorities.high")})]}):h.jsx("span",{className:`inline-flex items-center gap-2 px-2 py-1 rounded-md border text-sm font-medium ${e.priority==="high"?"border-red-300 bg-red-50 text-red-700":e.priority==="medium"?"border-yellow-300 bg-yellow-50 text-yellow-700":e.priority==="low"?"border-green-300 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600"}`,"data-testid":"feedback-priority-badge",role:"status","aria-label":`Current priority: ${e.priority?i(`settings.feedbackRequests.priorities.${e.priority}`):i("settings.feedbackRequests.priorities.none")||"No priority"}`,children:e.priority?i(`settings.feedbackRequests.priorities.${e.priority}`):i("settings.feedbackRequests.priorities.none")||"No priority"})]}),R&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.version")}),h.jsx("input",{type:"text",value:ee,onChange:je=>le(je.target.value),placeholder:"e.g., 1.2.0",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})})()]}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:D,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${u.has(e.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(_e,{path:Q2,size:.8}),h.jsx("span",{className:"font-medium",children:u.has(e.id)?i("common.voted"):i("common.vote")}),h.jsxs("span",{className:"text-sm","aria-label":`Total votes: ${F}`,children:["(",F,")"]})]})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(_e,{path:G2,size:.8}),i("settings.feedbackRequests.detail.comments")," (",ne,")"]}),P?h.jsx("div",{className:"text-center py-4 text-gray-500",children:i("common.loading")}):j.length===0?h.jsx("p",{className:"text-gray-500 text-sm mb-4",children:i("settings.feedbackRequests.detail.noComments")}):h.jsx("div",{className:"space-y-3 mb-4",children:j.map(ye=>h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"font-medium text-gray-900",children:ye.user_email}),h.jsx("span",{className:"text-gray-500 ml-2",children:new Date(ye.created_at).toLocaleDateString()})]}),(ye.user_id===d||o)&&h.jsx("button",{onClick:()=>X(ye.id),className:"text-red-600 hover:text-red-700",children:h.jsx(_e,{path:Al,size:.6})})]}),h.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:ye.comment})]},ye.id))}),h.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:T,onChange:ye=>M(ye.target.value),placeholder:i("settings.feedbackRequests.detail.addComment"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsxs("button",{type:"submit",disabled:U||!T.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[h.jsx(_e,{path:zO,size:.7}),i("settings.feedbackRequests.detail.postComment")]})]})]})]})]})})}function Y8(){const{t:e}=_t(),{role:t}=ro(),n=t==="super_admin",{requests:i,loading:s,error:o,userVotes:u,currentUserId:d,loadRequests:f,createRequest:g,addVote:y,removeVote:v}=RE(),[w,_]=k.useState("all"),[j,E]=k.useState(""),[T,M]=k.useState(""),[P,A]=k.useState(""),[U,H]=k.useState(null),[R,q]=k.useState("feature"),[J,G]=k.useState(""),[re,W]=k.useState(""),[ee,le]=k.useState(!1);k.useEffect(()=>{const z={};j&&(z.type=j),T&&(z.status=T),w==="my"&&d&&(z.userId=d),f(z)},[j,T,w,d,f]);const Y=i.filter(z=>{if(!P)return!0;const X=P.toLowerCase();return z.title.toLowerCase().includes(X)||z.description?.toLowerCase().includes(X)||z.user_email.toLowerCase().includes(X)}),se=async z=>{u.has(z)?await v(z):await y(z)},F=async z=>{if(z.preventDefault(),!J.trim())return;le(!0);const{error:X}=await g({type:R,title:J.trim(),description:re.trim()});X||(G(""),W(""),_("all")),le(!1)},Z=z=>{switch(z){case"completed":return vf;case"in_progress":return X2;case"archived":return yf;default:return $2}},ne=z=>{switch(z){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}},Ce=z=>{if(!z)return"open";const X=z.toLowerCase();return X==="in_progress"||X==="inprogress"||X==="in progress"?"inProgress":X==="completed"?"completed":X==="archived"?"archived":"open"},D=z=>z==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800";return s&&i.length===0?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("settings.feedbackRequests.title")}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.feedbackRequests.description")})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsx("button",{onClick:()=>_("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.all")}),h.jsx("button",{onClick:()=>_("my"),className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="my"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.myRequests")}),h.jsxs("button",{onClick:()=>_("submit"),className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="submit"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(_e,{path:Dc,size:.7,className:"inline mr-1"}),e("settings.feedbackRequests.tabs.submit")]})]})}),(w==="all"||w==="my")&&h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[h.jsx(_e,{path:K2,size:.8}),h.jsx("span",{className:"font-medium",children:e("settings.feedbackRequests.filters.title")})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("input",{type:"text",placeholder:e("settings.feedbackRequests.filters.search"),value:P,onChange:z=>A(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsxs("select",{value:j,onChange:z=>E(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allTypes")}),h.jsx("option",{value:"issue",children:e("settings.feedbackRequests.types.issue")}),h.jsx("option",{value:"feature",children:e("settings.feedbackRequests.types.feature")})]}),h.jsxs("select",{value:T,onChange:z=>M(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allStatuses")}),h.jsx("option",{value:"open",children:e("settings.feedbackRequests.statuses.open")}),h.jsx("option",{value:"in_progress",children:e("settings.feedbackRequests.statuses.inProgress")}),h.jsx("option",{value:"completed",children:e("settings.feedbackRequests.statuses.completed")}),h.jsx("option",{value:"archived",children:e("settings.feedbackRequests.statuses.archived")})]})]})]}),w==="submit"?h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("settings.feedbackRequests.submit.title")}),h.jsxs("form",{onSubmit:F,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.type")}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"feature",checked:R==="feature",onChange:z=>q(z.target.value),className:"mr-2"}),h.jsx(_e,{path:ny,size:.8,className:"mr-1 text-blue-600"}),e("settings.feedbackRequests.types.feature")]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",value:"issue",checked:R==="issue",onChange:z=>q(z.target.value),className:"mr-2"}),h.jsx(_e,{path:ty,size:.8,className:"mr-1 text-red-600"}),e("settings.feedbackRequests.types.issue")]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e("settings.feedbackRequests.submit.title")," *"]}),h.jsx("input",{type:"text",value:J,onChange:z=>G(z.target.value),placeholder:e("settings.feedbackRequests.submit.titlePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.description")}),h.jsx("textarea",{value:re,onChange:z=>W(z.target.value),placeholder:e("settings.feedbackRequests.submit.descriptionPlaceholder"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),J&&h.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[" ",e("settings.feedbackRequests.submit.duplicateHint")]}),h.jsx("button",{type:"submit",disabled:ee||!J.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(ee?"common.saving":"settings.feedbackRequests.submit.button")})]})]}):h.jsxs("div",{className:"space-y-3",children:[o&&h.jsx("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg",children:o}),Y.length===0?h.jsx("div",{className:"text-center py-12 text-gray-500",children:e("settings.feedbackRequests.noRequests")}):Y.map(z=>h.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>H(z),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(z.type)}`,children:[h.jsx(_e,{path:z.type==="issue"?ty:ny,size:.5,className:"mr-1"}),e(`settings.feedbackRequests.types.${z.type}`)]}),h.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${ne(z.status)}`,role:"status","data-testid":"feedback-status-list-badge","aria-label":`Status: ${e(`settings.feedbackRequests.statuses.${Ce(z.status)}`)}`,children:[h.jsx(_e,{path:Z(z.status),size:.6}),e(`settings.feedbackRequests.statuses.${Ce(z.status)}`)]}),z.priority&&n&&h.jsx("span",{className:"text-xs text-gray-500",children:e(`settings.feedbackRequests.priorities.${z.priority}`)})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:z.title}),z.description&&h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:z.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[h.jsx("span",{children:z.user_email}),h.jsx("span",{children:new Date(z.created_at).toLocaleDateString()}),z.version_completed&&h.jsxs("span",{className:"text-green-600 font-medium",children:["v",z.version_completed]})]})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[h.jsxs("button",{onClick:X=>{X.stopPropagation(),se(z.id)},className:`flex items-center gap-1 px-3 py-1 rounded-full border ${u.has(z.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(_e,{path:Q2,size:.6}),h.jsx("span",{className:"font-medium",children:z.votes})]}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[h.jsx(_e,{path:G2,size:.6}),h.jsx("span",{className:"text-sm",children:z.comments_count})]})]})]})},z.id))]}),U&&h.jsx(W8,{request:U,onClose:()=>H(null),onUpdate:z=>{if(z){const X=i.findIndex(B=>B.id===z.id);X!==-1&&(i[X]={...i[X],...z})}H(null),f()}})]})}function X8(){const{t:e}=_t(),[t,n]=k.useState(!0),[i,s]=k.useState(!1),[o,u]=k.useState(!1),[d,f]=k.useState("#ffffff"),[g,y]=k.useState("Arvo, Sans-serif");k.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const{data:_,error:j}=await pe.from("organization_profile").select("event_name, theme_color, font_family").eq("id",1).single();if(j)throw j;_&&(f(_.theme_color||"#ffffff"),y(_.font_family||"Arvo, Sans-serif"))}catch(_){console.error("Error loading branding settings:",_)}finally{n(!1)}},w=async()=>{try{s(!0);const{error:_}=await pe.from("organization_profile").update({theme_color:d,font_family:g}).eq("id",1);if(_)throw _;u(!0),setTimeout(()=>u(!1),3e3)}catch(_){console.error("Error saving branding settings:",_),alert(e("settings.branding.errors.saveFailed"))}finally{s(!1)}};return t?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"text-gray-500",children:e("settings.branding.loading")})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(_e,{path:Y2,size:1}),e("settings.branding.title")]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.branding.description")}),h.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",e("settings.branding.note")]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.themeColor.label")}),h.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.themeColor.description")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"color",value:d,onChange:_=>f(_.target.value),className:"h-12 w-24 border border-gray-300 rounded cursor-pointer"}),h.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:7})]}),h.jsxs("div",{className:"mt-3 space-y-2",children:[h.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:d,borderColor:d},children:[h.jsx("p",{className:"font-bold text-white text-lg",children:"Preview Text (White on Color)"}),h.jsx("p",{className:"text-white text-sm opacity-90",children:"The quick brown fox jumps over the lazy dog"})]}),h.jsxs("div",{className:"p-4 rounded-lg border-2 border-gray-300 bg-white",children:[h.jsx("p",{className:"font-bold text-lg",style:{color:d},children:"Preview Text (Color on White)"}),h.jsx("p",{className:"text-sm",style:{color:d},children:"The quick brown fox jumps over the lazy dog"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.fontFamily.label")}),h.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.fontFamily.description")}),h.jsxs("select",{value:g,onChange:_=>y(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"Arvo, Sans-serif",children:"Arvo (Default)"}),h.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),h.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),h.jsx("option",{value:"Georgia, serif",children:"Georgia"}),h.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),h.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),h.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),h.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),h.jsx("option",{value:"Impact, sans-serif",children:"Impact"})]}),h.jsxs("div",{className:"mt-3 p-4 rounded-lg border border-gray-300 bg-white",style:{fontFamily:g},children:[h.jsx("p",{className:"text-lg text-gray-900 font-semibold",children:"The quick brown fox jumps over the lazy dog"}),h.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"1234567890 !@#$%^&*()"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("button",{onClick:()=>{f("#ffffff"),y("Arvo, Sans-serif")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:e("settings.branding.reset")}),h.jsx("button",{onClick:w,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?e("common.saving"):o?h.jsxs(h.Fragment,{children:[h.jsx(_e,{path:vf,size:.8}),e("settings.branding.saveSuccess")]}):e("common.save")})]})]})}function Q8(){const{t:e}=_t();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx(_e,{path:ry,size:1.2,className:"text-blue-600"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.uiLanguage.title")}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.uiLanguage.description")})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(_e,{path:ry,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("p",{className:"font-semibold mb-1",children:e("settings.uiLanguage.note.title")}),h.jsx("p",{children:e("settings.uiLanguage.note.description")})]})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("settings.uiLanguage.selectLanguage")}),h.jsx(_c,{})]})]})]})}function J8(){const{t:e}=_t(),{role:t,isSuperAdmin:n}=ro(),[i,s]=k.useState("user-management"),u=[{id:"user-management",label:e("settings.userManagement.title"),icon:H2,roles:["super_admin","system_manager"],component:h.jsx(G8,{})},{id:"branding",label:e("settings.branding.title"),icon:Y2,roles:["super_admin","system_manager"],component:h.jsx(X8,{})},{id:"ui-language",label:e("settings.uiLanguage.title"),icon:ry,roles:["super_admin","system_manager","event_manager"],component:h.jsx(Q8,{})},{id:"map-defaults",label:e("settings.mapDefaults.title"),icon:bf,roles:["super_admin","system_manager"],component:h.jsx(e9,{})},{id:"event-defaults",label:e("settings.eventDefaults.title"),icon:Z2,roles:["super_admin","system_manager","event_manager"],component:h.jsx(K8,{})},{id:"feedback-requests",label:e("settings.feedbackRequests.title"),icon:vO,roles:["super_admin","system_manager","event_manager"],component:h.jsx(Y8,{})},{id:"advanced",label:e("settings.advanced.title"),icon:gf,roles:["super_admin"],component:h.jsx(t9,{})}].filter(f=>n?!0:f.roles.includes(t));vi.useEffect(()=>{u.find(f=>f.id===i)||s(u[0]?.id||"event-defaults")},[t]);const d=u.find(f=>f.id===i)?.component;return h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("settings.title")}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e("settings.subtitle"),h.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium capitalize",children:t?.replace("_"," ")})]})]}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:h.jsx("nav",{className:"p-4 space-y-1",children:u.map(f=>h.jsxs("button",{onClick:()=>s(f.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${i===f.id?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(_e,{path:f.icon,size:.9}),h.jsx("span",{children:f.label})]},f.id))})}),h.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:d})]})]})}function e9(){const{t:e}=_t();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:e("settings.mapDefaults.title")}),h.jsx("p",{className:"text-gray-600",children:e("settings.mapDefaults.description")}),h.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-blue-800",children:" Map Defaults component coming soon..."})})]})}function t9(){const{t:e}=_t();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(_e,{path:gf,size:1,className:"text-red-600"}),e("settings.advanced.title")]}),h.jsx("p",{className:"text-gray-600",children:e("settings.advanced.description")}),h.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-800",children:" Advanced Settings (Danger Zone) coming soon..."})})]})}const n9=k.lazy(()=>tr(()=>Promise.resolve().then(()=>k8),void 0));k.lazy(()=>tr(()=>import("./AccessibilityToggle-Bgssfzd4.js"),[]));k.lazy(()=>tr(()=>import("./FeedbackForm-C9F41t6T.js"),[]));function i9({branding:e,user:t,markersState:n,updateMarker:i,setMarkersState:s,onLogin:o,selectedYear:u,setSelectedYear:d}){const f=({children:g})=>h.jsx(Gp,{children:h.jsxs(c1,{selectedYear:u,children:[h.jsx(cM,{}),h.jsx("main",{className:"pb-16",children:g}),h.jsx(WO,{})]})});return h.jsxs(kA,{children:[h.jsx(Nn,{path:"/",element:h.jsx(f,{children:h.jsx(Yy,{selectedYear:u,branding:e})})}),h.jsx(Nn,{path:"/map",element:h.jsx(f,{children:h.jsx(k.Suspense,{fallback:h.jsx("div",{children:"Loading map..."}),children:h.jsx(n9,{isAdminView:!1,markersState:n,updateMarker:i,setMarkersState:s,selectedYear:u})})})}),h.jsx(Nn,{path:"/exhibitors",element:h.jsx(f,{children:h.jsx(e5,{markersState:n,selectedYear:u})})}),h.jsx(Nn,{path:"/schedule",element:h.jsx(f,{children:h.jsx(t5,{selectedYear:u})})}),h.jsx(Nn,{path:"/reset-password",element:h.jsx(Gp,{children:h.jsx(k.Suspense,{fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:h.jsx(JM,{branding:e})})})}),h.jsxs(Nn,{path:"/admin",element:t?h.jsx(c1,{selectedYear:u,children:h.jsx(E4,{selectedYear:u,setSelectedYear:d})}):h.jsx(Gp,{children:h.jsx(k.Suspense,{fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:h.jsx(QM,{onLogin:o,branding:e})})}),children:[h.jsx(Nn,{index:!0,element:h.jsx(k4,{selectedYear:u})}),h.jsx(Nn,{path:"map",element:h.jsx(T8,{markersState:n,setMarkersState:s,updateMarker:i,selectedYear:u})}),h.jsx(Nn,{path:"companies",element:h.jsx(I8,{})}),h.jsx(Nn,{path:"subscriptions",element:h.jsx(V8,{selectedYear:u})}),h.jsx(Nn,{path:"program",element:h.jsx(H8,{})}),h.jsx(Nn,{path:"assignments",element:h.jsx(F8,{selectedYear:u})}),h.jsx(Nn,{path:"categories",element:h.jsx(Z8,{})}),h.jsx(Nn,{path:"settings",element:h.jsx(J8,{})})]}),h.jsx(Nn,{path:"/storage-test",element:h.jsx(KO,{})})]})}const r9="Event Map App",s9="Welcome to the event!",a9="Home",o9="Admin Dashboard",l9={adminPanel:"Admin Panel",dashboard:"Dashboard",mapManagement:"Map Management",companiesNav:"Companies",eventSubscriptions:"Subscriptions",programManagement:"Program Management",assignments:"Assignments",categories:"Categories",settings:"Settings",eventYear:"Event Year",help:"Help",logout:"Logout",loading:"Loading...",roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor"}},u9={loading:"Loading...",saving:"Saving...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this?",vote:"Vote",voted:"Voted"},c9={event:"Event",parking:"Parking",food:"Food"},d9={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},h9={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},f9={title:"Settings",subtitle:"Manage system configuration and preferences",userManagement:{sortId:"ID",sortName:"Name",sortType:"Type",title:"User Management",description:"Manage admin users, roles, and permissions",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Manager invitation sent!",inviteSuccessMessage:"The new manager will receive 2 emails: (1) Confirmation email - IGNORE THIS, it will not work. (2) Password reset email - USE THIS to set password and access the admin panel.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding Settings",description:"Configure visual branding (colors, fonts)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI Language",description:"Change the language of buttons, menus, and interface elements",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Map Defaults",description:"Default map layers, zoom levels, and map settings"},eventDefaults:{title:"Event Defaults",description:"Default meal counts, booth sizes, and event preferences",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature Requests",description:"Submit issues, request features, and track progress",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{none:"No Priority",low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",statusCurrent:"Status",statusAriaEdit:"Edit status",priority:"Priority",priorityAriaEdit:"Edit priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Advanced Settings",description:"System maintenance, data management, and danger zone"}},m9={subtitle:"Your Next Adventure Starts Here!",title:"The 4x4 Holiday Fair",eventDate:"October 10-11, 2026",exhibitors:"Exhibitors",days:"Days",openingHours:"Opening Hours",openingHoursInfo:`Saturday 10:00 - 17:00
Sunday 10:00 - 16:00`,location:"Location",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parking",parkingInfo:"Free parking available at Strandpark Slijk-Ewijk",phaseNote:"<strong>Note:</strong> This is a Phase 1 placeholder. In Phase 2, this page will show real event data, welcome messages, and upcoming activities."},p9={title:"Exhibitors",searchPlaceholder:"Search exhibitors or booth number...",showing:"Showing",of:"of",exhibitors:"exhibitors",favorited:"favorited",favoritesOnly:"Favorites Only",sortBy:"Sort by",sortNameAsc:"Name (AZ)",sortNameDesc:"Name (ZA)",sortBoothAsc:"Booth (LowHigh)",sortBoothDesc:"Booth (HighLow)",sortFavorites:"Favorites First",sortName:"Name",sortBooth:"Booth",sortFavoritesBase:"Favorites",noExhibitors:"No exhibitors found",booth:"Booth",categoriesComingSoon:"Coming Soon: Categories",categories:"Categories",allCategories:"All Categories",filterByCategory:"Filter by category",clearFilters:"Clear filters",noCategoryMatch:"No exhibitors match the selected categories.",phaseNote:"Note:",comingInFuturePhases:"Coming in future phases:",categoryFiltering:"Category filtering",sortOptions:"Sort options"},g9={searchPlaceholder:"Search for a marker...",ariaLabel:"Interactive event map"},y9={sortId:"ID",sortName:"Name",sortType:"Type",addMarker:"Add marker",addMarkerTooltipActive:"Click on map to place marker",addMarkerTooltip:"Add marker",enterMarkerId:"Enter Marker ID",markerIdPlaceholder:"Marker ID (integer)",confirm:"Confirm",cancel:"Cancel",errorInvalidId:"Please enter a valid numeric ID.",errorIdExists:"ID already exists. Please choose another.",searchPlaceholder:"Search by ID, booth label, or name...",selectMarker:"Select a marker to view details"},v9={home:"Home",map:"Map",exhibitors:"Exhibitors",schedule:"Schedule"},b9={title:"Program Management",addActivity:"Add Activity",addFirstActivity:"Add Your First Activity",noActivitiesFound:"No activities found for this day",saturday:"Saturday",sunday:"Sunday",location:"Location",exhibitor:"Exhibitor",venue:"Venue",edit:"Edit",delete:"Delete",dragToReorder:"Drag to reorder",totalActivities:"Total Activities",loading:"Loading activities...",error:"Error loading activities",confirmDelete:"Delete Activity",confirmDeleteMessage:"Are you sure you want to delete this activity? This action cannot be undone.",cancel:"Cancel",deleteButton:"Delete",deleting:"Deleting...",deleteError:"Failed to delete activity",reorderError:"Failed to reorder activities"},x9={createTitle:"Create Activity",editTitle:"Edit Activity",titleNL:"Title (NL)",titleEN:"Title (EN)",descriptionNL:"Description (NL)",descriptionEN:"Description (EN)",startTime:"Start Time",endTime:"End Time",locationType:"Location Type",venue:"Venue",exhibitor:"Exhibitor",locationNL:"Location (NL)",locationEN:"Location (EN)",company:"Company",selectCompany:"Select a company...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optional",displayOrder:"Display Order",displayOrderHelp:"Lower numbers appear first in the schedule",isActive:"Active",isActiveHelp:"Inactive activities won't be shown to visitors",showLocationBadge:"Show Location Type Badge",showLocationBadgeHelp:'Show "exhibitor" or "location" badge in the schedule (usually not needed)',cancel:"Cancel",save:"Save",saving:"Saving...",saveError:"Failed to save activity"},_9={totalMarkers:"Total Markers",companies:"Companies",subscriptions:"Subscriptions",assignments:"Assignments",eventTotals:"Event Totals",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",noBBQ:"No BBQ",coins:"Coins",totalCoins:"Total Coins",quickActions:"Quick Actions",addNewCompany:"Add New Company",addNewCompanyDesc:"Register a new company in the system",manageSubscriptions:"Manage Subscriptions",manageSubscriptionsDesc:"Add or update event subscriptions",assignBooths:"Assign Booths",assignBoothsDesc:"Manage booth assignments for companies",recentActivity:"Recent Activity",recentActivityPlaceholder:"Activity tracking will be added in a future update."},w9={title:"Help & Guide",closeHelp:"Close help panel",yourRole:"Your role:",tabs:{currentPage:"Current Page",whatsNew:"What's New",quickStart:"Quick Start"},searchPlaceholder:"Search help content...",lastUpdated:"Last updated:",quickTips:"Quick Tips",whatsNewTitle:"What's New",whatsNewSubtitle:"Recent updates and changes",changeTypes:{feature:"feature",fix:"fix",improvement:"improvement"},quickStartTitle:"Quick Start Guide",quickStartSubtitle:"Get started with the admin panel",steps:{step1Title:"1. Understand Your Role",step1Text:"Your role ({role}) determines which features you can access. Check the navigation menu to see available sections.",step2Title:"2. Select Event Year",step2Text:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific.",step3Title:"3. Explore the Dashboard",step3Text:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data.",step4Title:"4. Common Workflows",step4Item1:"Add companies in the Companies tab",step4Item2:"Import subscriptions via Excel/CSV",step4Item3:"Assign companies to map locations",step4Item4:"Lock markers before event day",step5Title:"5. Get Contextual Help",step5Text:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'},roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor",unknown:"Unknown"},footer:"Need more help? Contact your system administrator",categories:{title:"Category Management",description:"Description",createNew:"Create Category",editCategory:"Edit Category",createCategory:"Create Category",order:"Order",category:"Category",slug:"Slug",exhibitors:"Exhibitors",icon:"Icon",color:"Color",sortOrder:"Sort Order",translations:"Translations",name:"Name",slugHelp:"Unique identifier (lowercase, no spaces, use hyphens)",noCategories:"No categories yet. Create your first category to get started.",confirmDelete:'Are you sure you want to delete "{{name}}"?',cannotDelete:"Cannot delete category with assigned exhibitors",createSuccess:"Category created successfully",updateSuccess:"Category updated successfully",deleteSuccess:"Category deleted successfully",deleteError:"Failed to delete category: {{error}}",saveError:"Failed to save category: {{error}}"},subscriptions:{searchPlaceholder:"Search subscribed companies...",booths:"Booths",company:"Company",contact:"Contact",phone:"Phone",email:"Email",boothCount:"Booth Count",area:"Area",saturday:"Saturday",sunday:"Sunday",coins:"Coins",notes:"Notes",actions:"Actions",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"large field, small field..."},assignments:{searchPlaceholder:"Search companies...",archive:"Archive",sortCompanies:"Sort Companies",sortMarkers:"Sort Markers",byMarker:"Marker",unassignedFirst:"Unassigned",markerId:"ID",glyphText:"Label",assigned:"Assigned",notAssigned:"Not assigned"},companies:{publicInfoTab:"Public Info",privateInfoTab:"Private Info",categoriesLabel:"Categories",searchPlaceholder:"Search companies...",newCompany:"New Company",companyNamePlaceholder:"Company Name *",companyLogo:"Company Logo",logoUrlPlaceholder:"Or paste external logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contact Person",phonePlaceholder:"Phone",emailPlaceholder:"Email",name:"Name",logo:"Logo",website:"Website",info:"Info",categories:"Categories",contact:"Contact",phone:"Phone",email:"Email",actions:"Actions",notSet:"Not set",none:"None",orPasteUrl:"Or paste URL",organizationInfo:"Organization info"}},S9={appTitle:r9,welcome:s9,home:a9,admin:o9,adminNav:l9,common:u9,marker:c9,adminLogin:d9,resetPassword:h9,settings:f9,homePage:m9,exhibitorPage:p9,map:g9,mapManagement:y9,navigation:v9,programManagement:b9,activityForm:x9,dashboard:_9,helpPanel:w9},C9="Evenementenkaart App",j9="Welkom op het evenement!",E9="Startpagina",k9="Admin Dashboard",T9={adminPanel:"Beheerderspaneel",dashboard:"Dashboard",mapManagement:"Kaartbeheer",companiesNav:"Bedrijven",eventSubscriptions:"Inschrijvingen",programManagement:"Programmabeheer",assignments:"Toewijzingen",categories:"Categorien",settings:"Instellingen",eventYear:"Evenementjaar",help:"Help",logout:"Uitloggen",loading:"Laden...",roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Evenementbeheerder",content_editor:"Contentbeheerder"}},L9={loading:"Laden...",saving:"Opslaan...",save:"Opslaan",cancel:"Annuleren",edit:"Bewerken",delete:"Verwijderen",confirmDelete:"Weet je zeker dat je dit wilt verwijderen?",vote:"Stem",voted:"Gestemd"},N9={event:"Evenement",parking:"Parkeren",food:"Eten"},A9={title:"Manager Inloggen",mapManagement:{sortId:"ID",sortName:"Naam",sortType:"Type"},subtitle:"Inloggen om evenementgegevens te beheren",email:"E-mail",emailPlaceholder:"Voer uw e-mailadres in",password:"Wachtwoord",passwordPlaceholder:"Voer uw wachtwoord in",show:"Toon",hide:"Verberg",forgotPassword:"Wachtwoord vergeten?",resetPassword:"Wachtwoord Resetten",backToLogin:"Terug naar inloggen",sendResetLink:"Verstuur Reset Link",resetEmailSent:"Wachtwoord reset link is verzonden naar uw e-mail",resetInstructions:"Voer uw e-mailadres in en we sturen u een link om uw wachtwoord te resetten.",loginButton:"Inloggen",loggingIn:"Bezig met inloggen...",rememberMe:"Onthoud mijn e-mail",rememberMeTooltip:"Uw browser zal ook aanbieden om uw wachtwoord veilig op te slaan",errors:{invalidCredentials:"Ongeldig e-mailadres of wachtwoord",emailRequired:"E-mail is verplicht",passwordRequired:"Wachtwoord is verplicht",networkError:"Netwerkfout. Controleer uw verbinding.",unknownError:"Er is een fout opgetreden. Probeer het opnieuw.",resetFailed:"Kon reset e-mail niet verzenden. Probeer het opnieuw."}},M9={title:"Nieuw wachtwoord instellen",instructions:"Voer hieronder uw nieuwe wachtwoord in. Maak het veilig!",newPassword:"Nieuw wachtwoord",newPasswordPlaceholder:"Voer nieuw wachtwoord in",confirmPassword:"Bevestig wachtwoord",confirmPasswordPlaceholder:"Voer nieuw wachtwoord opnieuw in",showPassword:"Toon wachtwoord",hidePassword:"Verberg wachtwoord",passwordRequirements:"Minimaal 6 tekens",updatePassword:"Wachtwoord bijwerken",updating:"Aan het bijwerken...",success:"Wachtwoord succesvol bijgewerkt!",redirecting:"Doorverwijzen naar inlogpagina...",backToLogin:"Terug naar inloggen",requestNewLink:"Nieuwe Reset Link Aanvragen",errors:{linkExpiredTitle:"Reset Link Verlopen",invalidToken:"Deze reset link is ongeldig of verlopen. Vraag een nieuwe aan.",tokenExpired:"Deze reset link is verlopen. Reset links zijn slechts 60 seconden geldig nadat ze zijn verzonden. Ga terug naar de inlogpagina en vraag een nieuwe reset link aan.",passwordTooShort:"Wachtwoord moet minimaal 6 tekens zijn",passwordMismatch:"Wachtwoorden komen niet overeen",updateFailed:"Kon wachtwoord niet bijwerken. Probeer het opnieuw."}},O9={title:"Instellingen",subtitle:"Beheer systeemconfiguratie en voorkeuren",userManagement:{title:"Gebruikersbeheer",description:"Beheer admin gebruikers, rollen en rechten",loading:"Gebruikers laden...",inviteUser:"Gebruiker uitnodigen",emailLabel:"E-mailadres",roleLabel:"Gebruikersrol",sendInvite:"Uitnodiging versturen",sending:"Verzenden...",cancel:"Annuleren",editRole:"Rol bewerken",deleteUser:"Gebruiker verwijderen",confirmDelete:"Weet u zeker dat u {{email}} wilt verwijderen?",inviteSuccess:"Manager uitnodiging verzonden!",inviteSuccessMessage:"De nieuwe manager ontvangt 2 emails: (1) Bevestigingsmail - NEGEER DEZE, (2) Wachtwoordherstel-mail - GEBRUIK DEZE om wachtwoord in te stellen.",table:{email:"E-mail",role:"Rol",created:"Aangemaakt",lastLogin:"Laatste login",actions:"Acties"},roles:{superAdmin:"Super Admin",systemManager:"Systeembeheerder",eventManager:"Evenementbeheerder"},roleDescriptions:{super_admin:"Volledige toegang tot alle functies",system_manager:"Kaartbeheer en gebruikersadministratie",event_manager:"Bedrijven, inschrijvingen en toewijzingen"},errors:{fetchFailed:"Kan gebruikers niet laden",inviteFailed:"Kan uitnodiging niet verzenden",updateFailed:"Kan gebruikersrol niet bijwerken",deleteFailed:"Kan gebruiker niet verwijderen"}},organization:{title:"Organisatieprofiel",description:"Organisatienaam, logo en contactinformatie"},branding:{title:"Branding Instellingen",description:"Configureer visuele branding (kleuren, lettertypen)",note:"Organisatienaam en logo worden beheerd in het Bedrijven-tabblad",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Standaardinstellingen Herstellen",saveSuccess:"Opgeslagen!",themeColor:{label:"Themakleur",description:"Primaire kleur gebruikt in de hele applicatie"},fontFamily:{label:"Lettertype",description:"Lettertype gebruikt voor koppen en tekst"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},uiLanguage:{title:"UI Taal",description:"Wijzig de taal van knoppen, menu's en interface-elementen",selectLanguage:"Selecteer je voorkeurstaal",note:{title:"Manager Interface Taal",description:"Dit wijzigt de taal van knoppen, menu's en instellingen. Het heeft GEEN invloed op inhoudvertalingen (bedrijfsinformatie, markeerbeschrijvingen). Inhoudvertalingen worden apart beheerd."}},mapDefaults:{title:"Kaart Standaardinstellingen",description:"Standaard kaartlagen, zoomniveaus en kaartinstellingen"},eventDefaults:{title:"Evenement Standaardinstellingen",description:"Standaard maaltijdaantallen, standgrootte en evenementvoorkeuren",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Resetten",saveSuccess:"Instellingen succesvol opgeslagen",saveSuccessMessage:"Je wijzigingen zijn toegepast.",error:"Fout",mealDefaults:{title:"Standaard Maaltijdaantallen",description:"Stel standaard maaltijdhoeveelheden in voor nieuwe evenementinschrijvingen. Deze waarden worden vooraf ingevuld maar kunnen per inschrijving worden aangepast.",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"Geen BBQ op zondag"},notifications:{title:"Meldingsvoorkeuren",description:"Configureer e-mailmeldingen voor evenementmanagers",emailNotifications:"E-mailmeldingen Inschakelen",emailNotificationsDesc:"Hoofdschakelaar voor alle e-mailmeldingen",newSubscription:"Nieuwe Inschrijvingsmeldingen",newSubscriptionDesc:"Ontvang een melding wanneer bedrijven zich registreren voor het evenement",assignmentChange:"Toewijzingswijzigingen",assignmentChangeDesc:"Ontvang een melding wanneer standtoewijzingen worden gewijzigd"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},feedbackRequests:{title:"Feedback & Functieverzoeken",description:"Meld problemen, vraag functies aan en volg voortgang",tabs:{all:"Alle Verzoeken",myRequests:"Mijn Verzoeken",submit:"Nieuwe Indienen"},filters:{title:"Filters",search:"Zoek verzoeken...",allTypes:"Alle Types",allStatuses:"Alle Statussen"},types:{issue:"Probleem",feature:"Functieverzoek"},statuses:{open:"Open",inProgress:"In Behandeling",completed:"Voltooid",archived:"Gearchiveerd"},priorities:{none:"Geen Prioriteit",low:"Lage Prioriteit",medium:"Gemiddelde Prioriteit",high:"Hoge Prioriteit"},submit:{title:"Nieuw Verzoek Indienen",type:"Type",titleLabel:"Titel",titlePlaceholder:"Korte samenvatting van je verzoek",description:"Beschrijving",descriptionPlaceholder:"Geef details over je verzoek...",duplicateHint:"Controleer de lijst hieronder om te zien of een soortgelijk verzoek al bestaat",button:"Verzoek Indienen"},noRequests:"Geen verzoeken gevonden",detail:{comments:"Reacties",addComment:"Voeg reactie toe...",postComment:"Plaatsen",noComments:"Nog geen reacties. Wees de eerste die reageert!",status:"Status",statusCurrent:"Huidige Status",statusAriaEdit:"Status bewerken",priority:"Prioriteit",priorityAriaEdit:"Prioriteit bewerken",version:"Versie Uitgerold",updateStatus:"Status Bijwerken",setPriority:"Prioriteit Instellen",markCompleted:"Markeren als Voltooid",delete:"Verzoek Verwijderen"}},advanced:{title:"Geavanceerde Instellingen",description:"Systeemonderhoud, gegevensbeheer en gevarenzone"}},P9={subtitle:"Jouw Volgende Avontuur Start Hier!",title:"D 4x4 Vakantiebeurs",eventDate:"10-11 oktober 2026",exhibitors:"Exposanten",days:"Dagen",openingHours:"Openingstijden",openingHoursInfo:`Zaterdag 10:00 - 17:00 uur
Zondag 10:00 - 16:00 uur`,location:"Locatie",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parkeren",parkingInfo:"Gratis parkeren bij Strandpark Slijk-Ewijk",phaseNote:"<strong>Let op:</strong> Dit is een Fase 1 tijdelijke versie. In Fase 2 zal deze pagina echte evenementgegevens, welkomstberichten en aankomende activiteiten tonen."},R9={title:"Exposanten",searchPlaceholder:"Zoek exposanten of standnummer...",showing:"Toont",of:"van",exhibitors:"exposanten",favorited:"favoriet",favoritesOnly:"Alleen Favorieten",sortBy:"Sorteren op",sortNameAsc:"Naam (AZ)",sortNameDesc:"Naam (ZA)",sortBoothAsc:"Stand (LaagHoog)",sortBoothDesc:"Stand (HoogLaag)",sortFavorites:"Favorieten Eerst",sortName:"Naam",sortBooth:"Stand",sortFavoritesBase:"Favorieten",noExhibitors:"Geen exposanten gevonden",booth:"Stand",categoriesComingSoon:"Binnenkort: Categorien",categories:"Categorien",allCategories:"Alle Categorien",filterByCategory:"Filteren op categorie",clearFilters:"Filters wissen",noCategoryMatch:"Geen exposanten komen overeen met de geselecteerde categorien.",phaseNote:"Let op:",comingInFuturePhases:"Binnenkort beschikbaar:",categoryFiltering:"Filteren op categorie",sortOptions:"Sorteeropties"},D9={searchPlaceholder:"Zoek naar een marker...",ariaLabel:"Interactieve evenementenkaart"},z9={addMarker:"Marker toevoegen",sortId:"ID",sortName:"Naam",sortType:"Type",addMarkerTooltipActive:"Klik op de kaart om marker te plaatsen",addMarkerTooltip:"Marker toevoegen",enterMarkerId:"Voer Marker ID in",markerIdPlaceholder:"Marker ID (geheel getal)",confirm:"Bevestigen",cancel:"Annuleren",errorInvalidId:"Voer een geldig numeriek ID in.",errorIdExists:"ID bestaat al. Kies een ander ID.",searchPlaceholder:"Zoek op ID, standlabel of naam...",selectMarker:"Selecteer een marker om details te bekijken"},B9={home:"Home",map:"Plattegrond",exhibitors:"Standhouders",schedule:"Programma"},I9={title:"Programma Beheer",addActivity:"Activiteit Toevoegen",addFirstActivity:"Voeg Je Eerste Activiteit Toe",noActivitiesFound:"Geen activiteiten gevonden voor deze dag",saturday:"Zaterdag",sunday:"Zondag",location:"Locatie",exhibitor:"Exposant",venue:"Locatie",edit:"Bewerken",delete:"Verwijderen",dragToReorder:"Sleep om te herschikken",totalActivities:"Totaal Activiteiten",loading:"Activiteiten laden...",error:"Fout bij laden activiteiten",confirmDelete:"Activiteit Verwijderen",confirmDeleteMessage:"Weet je zeker dat je deze activiteit wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.",cancel:"Annuleren",deleteButton:"Verwijderen",deleting:"Verwijderen...",deleteError:"Fout bij verwijderen activiteit",reorderError:"Fout bij herschikken activiteiten"},V9={createTitle:"Activiteit Aanmaken",editTitle:"Activiteit Bewerken",titleNL:"Titel (NL)",titleEN:"Titel (EN)",descriptionNL:"Beschrijving (NL)",descriptionEN:"Beschrijving (EN)",startTime:"Starttijd",endTime:"Eindtijd",locationType:"Locatie Type",venue:"Locatie",exhibitor:"Exposant",locationNL:"Locatie (NL)",locationEN:"Locatie (EN)",company:"Bedrijf",selectCompany:"Selecteer een bedrijf...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optioneel",displayOrder:"Volgorde",displayOrderHelp:"Lagere nummers verschijnen eerst in het programma",isActive:"Actief",isActiveHelp:"Alleen actieve activiteiten worden getoond aan bezoekers",showLocationBadge:"Toon Locatietype Badge",showLocationBadgeHelp:'Toon "standhouder" of "locatie" badge in het programma (meestal niet nodig)',cancel:"Annuleren",save:"Opslaan",saving:"Opslaan...",saveError:"Fout bij opslaan activiteit"},U9={totalMarkers:"Totaal Markers",companies:"Bedrijven",subscriptions:"Inschrijvingen",assignments:"Toewijzingen",eventTotals:"Evenement Totalen",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",noBBQ:"Geen BBQ",coins:"Munten",totalCoins:"Totaal Munten",quickActions:"Snelle Acties",addNewCompany:"Nieuw Bedrijf Toevoegen",addNewCompanyDesc:"Registreer een nieuw bedrijf in het systeem",manageSubscriptions:"Inschrijvingen Beheren",manageSubscriptionsDesc:"Voeg inschrijvingen toe of werk ze bij",assignBooths:"Stands Toewijzen",assignBoothsDesc:"Beheer standtoewijzingen voor bedrijven",recentActivity:"Recente Activiteit",recentActivityPlaceholder:"Activiteitentracking wordt toegevoegd in een toekomstige update."},H9={title:"Hulp & Gids",closeHelp:"Hulppaneel sluiten",yourRole:"Jouw rol:",tabs:{currentPage:"Huidige Pagina",whatsNew:"Wat is Nieuw",quickStart:"Snel Starten"},searchPlaceholder:"Zoek hulp inhoud...",lastUpdated:"Laatst bijgewerkt:",quickTips:"Snelle Tips",whatsNewTitle:"Wat is Nieuw",whatsNewSubtitle:"Recente updates en wijzigingen",changeTypes:{feature:"functie",fix:"fix",improvement:"verbetering"},quickStartTitle:"Snel Start Gids",quickStartSubtitle:"Aan de slag met het admin paneel",steps:{step1Title:"1. Begrijp je Rol",step1Text:"Je rol ({role}) bepaalt welke functies je kunt gebruiken. Bekijk het navigatiemenu om beschikbare secties te zien.",step2Title:"2. Selecteer Evenementjaar",step2Text:"Gebruik de jaarselector in de topnavigatie om tussen verschillende evenementjaren te wisselen. Alle data (inschrijvingen, toewijzingen) is jaar-specifiek.",step3Title:"3. Verken het Dashboard",step3Text:"Start bij het Dashboard om een overzicht te zien van markers, bedrijven en event statistieken. Dit geeft je een snelle momentopname van je huidige data.",step4Title:"4. Veelvoorkomende Workflows",step4Item1:"Voeg bedrijven toe in het Bedrijven tabblad",step4Item2:"Importeer inschrijvingen via Excel/CSV",step4Item3:"Wijs bedrijven toe aan kaartlocaties",step4Item4:"Vergrendel markers voor de eventdag",step5Title:"5. Krijg Contextuele Hulp",step5Text:'Klik op "Huidige Pagina" tabblad in dit hulppaneel om specifieke begeleiding voor elke sectie te zien. Hover over (?) iconen voor snelle tooltips.'},roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Eventbeheerder",content_editor:"Content Editor",unknown:"Onbekend"},footer:"Meer hulp nodig? Neem contact op met je systeembeheerder",categories:{title:"Categoriebeheer",description:"Beschrijving",createNew:"Categorie Aanmaken",editCategory:"Categorie Bewerken",createCategory:"Categorie Aanmaken",order:"Volgorde",category:"Categorie",slug:"Slug",exhibitors:"Exposanten",icon:"Icoon",color:"Kleur",sortOrder:"Sorteervolgorde",translations:"Vertalingen",name:"Naam",slugHelp:"Unieke identificatie (kleine letters, geen spaties, gebruik streepjes)",noCategories:"Nog geen categorien. Maak je eerste categorie aan om te beginnen.",confirmDelete:'Weet je zeker dat je "{{name}}" wilt verwijderen?',cannotDelete:"Kan categorie met toegewezen exposanten niet verwijderen",createSuccess:"Categorie succesvol aangemaakt",updateSuccess:"Categorie succesvol bijgewerkt",deleteSuccess:"Categorie succesvol verwijderd",deleteError:"Kan categorie niet verwijderen: {{error}}",saveError:"Kan categorie niet opslaan: {{error}}"},subscriptions:{searchPlaceholder:"Zoek ingeschreven bedrijven...",booths:"Stands",company:"Bedrijf",contact:"Contact",phone:"Telefoon",email:"E-mail",boothCount:"Aantal Stands",area:"Gebied",saturday:"Zaterdag",sunday:"Zondag",coins:"Munten",notes:"Notities",actions:"Acties",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",areaPlaceholder:"groot veld, klein veld..."},assignments:{searchPlaceholder:"Zoek bedrijven...",archive:"Archief",sortCompanies:"Sorteer Bedrijven",sortMarkers:"Sorteer Markers",byMarker:"Marker",unassignedFirst:"Niet toegewezen",markerId:"ID",glyphText:"Label",assigned:"Toegewezen",notAssigned:"Niet toegewezen"},companies:{publicInfoTab:"Publieke Info",privateInfoTab:"Priv Info",categoriesLabel:"Categorien",searchPlaceholder:"Zoek bedrijven...",newCompany:"Nieuw Bedrijf",companyNamePlaceholder:"Bedrijfsnaam *",companyLogo:"Bedrijfslogo",logoUrlPlaceholder:"Of plak externe logo URL",websiteUrlPlaceholder:"Website URL",infoPlaceholder:"Info",contactPlaceholder:"Contactpersoon",phonePlaceholder:"Telefoon",emailPlaceholder:"E-mail",name:"Naam",logo:"Logo",website:"Website",info:"Info",categories:"Categorien",contact:"Contact",phone:"Telefoon",email:"E-mail",actions:"Acties",notSet:"Niet ingesteld",none:"Geen",orPasteUrl:"Of plak URL",organizationInfo:"Organisatie info"}},F9={appTitle:C9,welcome:j9,home:E9,admin:k9,adminNav:T9,common:L9,marker:N9,adminLogin:A9,resetPassword:M9,settings:O9,homePage:P9,exhibitorPage:R9,map:D9,mapManagement:z9,navigation:B9,programManagement:I9,activityForm:V9,dashboard:U9,helpPanel:H9};Mn.use(HM).init({resources:{en:{translation:S9},nl:{translation:F9}},lng:"nl",fallbackLng:"nl",interpolation:{escapeValue:!1}});function q9(){const e=new Date().getFullYear(),[t,n]=k.useState(()=>{const _=localStorage.getItem("selectedEventYear");return _?parseInt(_,10):e});k.useEffect(()=>{localStorage.setItem("selectedEventYear",t.toString())},[t]);const{markers:i}=uM(t),[s,o,u]=lM(i),[d,f]=k.useState({logo:null,themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif",eventName:"4x4 Vakantiebeurs"});k.useEffect(()=>{async function _(){const{data:E,error:T}=await pe.from("organization_profile").select("*").eq("id",1).single();if(T){console.error("Error fetching organization_profile:",T);return}if(E){const M=E.logo||"";f({logo:M?Ji(M):null,eventName:E.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}_();const j=pe.channel("organization-profile-branding-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},E=>{if(E.new){const T=E.new.logo||"";f({logo:T?Ji(T):null,eventName:E.new.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}).subscribe();return()=>{pe.removeChannel(j)}},[]);const[g,y]=k.useState(null);k.useEffect(()=>{pe.auth.getSession().then(({data:j})=>{y(j?.session?.user||null)});const{data:_}=pe.auth.onAuthStateChange((j,E)=>{y(E?.user||null)});return()=>{_?.subscription?.unsubscribe()}},[]);const v=XA,w={};return h.jsx(TE,{children:h.jsx(YO,{children:h.jsx(v,{...w,children:h.jsx(i9,{branding:d,user:g,markersState:s,updateMarker:o,setMarkersState:u,onLogin:y,selectedYear:t,setSelectedYear:n})})})})}const Og=El();Dt.Icon.Default.mergeOptions({iconRetinaUrl:`${Og}assets/icons/marker-icon-2x.png`,iconUrl:`${Og}assets/icons/glyph-marker-icon-blue.svg`,shadowUrl:`${Og}assets/icons/marker-shadow.png`});aT.createRoot(document.getElementById("root")).render(h.jsx(k.StrictMode,{children:h.jsx(q9,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(`${El()}service-worker.js`)});export{vi as R,h as j,k as r};
