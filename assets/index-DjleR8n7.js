(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function eo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _S(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),n}var Ep={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function YT(){if(F_)return Iu;F_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:e,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Iu.Fragment=t,Iu.jsx=n,Iu.jsxs=n,Iu}var q_;function XT(){return q_||(q_=1,Ep.exports=YT()),Ep.exports}var d=XT(),Tp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function JT(){if($_)return Ke;$_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function A(H,X,z){this.props=H,this.context=X,this.refs=O,this.updater=z||j}A.prototype.isReactComponent={},A.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=A.prototype;function M(H,X,z){this.props=H,this.context=X,this.refs=O,this.updater=z||j}var U=M.prototype=new P;U.constructor=M,E(U,A.prototype),U.isPureReactComponent=!0;var V=Array.isArray;function B(){}var q={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function K(H,X,z){var W=z.ref;return{$$typeof:e,type:H,key:X,ref:W!==void 0?W:null,props:z}}function ae(H,X){return K(H.type,X,H.props)}function $(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function Q(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(z){return X[z]})}var se=/\/+/g;function re(H,X){return typeof H=="object"&&H!==null&&H.key!=null?Q(""+H.key):X.toString(36)}function ce(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(B,B):(H.status="pending",H.then(function(X){H.status==="pending"&&(H.status="fulfilled",H.value=X)},function(X){H.status==="pending"&&(H.status="rejected",H.reason=X)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function F(H,X,z,W,oe){var me=typeof H;(me==="undefined"||me==="boolean")&&(H=null);var Ce=!1;if(H===null)Ce=!0;else switch(me){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(H.$$typeof){case e:case t:Ce=!0;break;case y:return Ce=H._init,F(Ce(H._payload),X,z,W,oe)}}if(Ce)return oe=oe(H),Ce=W===""?"."+re(H,0):W,V(oe)?(z="",Ce!=null&&(z=Ce.replace(se,"$&/")+"/"),F(oe,X,z,"",function(ke){return ke})):oe!=null&&($(oe)&&(oe=ae(oe,z+(oe.key==null||H&&H.key===oe.key?"":(""+oe.key).replace(se,"$&/")+"/")+Ce)),X.push(oe)),1;Ce=0;var Re=W===""?".":W+":";if(V(H))for(var be=0;be<H.length;be++)W=H[be],me=Re+re(W,be),Ce+=F(W,X,z,me,oe);else if(be=x(H),typeof be=="function")for(H=be.call(H),be=0;!(W=H.next()).done;)W=W.value,me=Re+re(W,be++),Ce+=F(W,X,z,me,oe);else if(me==="object"){if(typeof H.then=="function")return F(ce(H),X,z,W,oe);throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ee(H,X,z){if(H==null)return H;var W=[],oe=0;return F(H,W,"","",function(me){return X.call(z,me,oe++)}),W}function Y(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(z){(H._status===0||H._status===-1)&&(H._status=1,H._result=z)},function(z){(H._status===0||H._status===-1)&&(H._status=2,H._result=z)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var we=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},R={map:ee,forEach:function(H,X,z){ee(H,function(){X.apply(this,arguments)},z)},count:function(H){var X=0;return ee(H,function(){X++}),X},toArray:function(H){return ee(H,function(X){return X})||[]},only:function(H){if(!$(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ke.Activity=v,Ke.Children=R,Ke.Component=A,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=M,Ke.StrictMode=i,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(H){return q.H.useMemoCache(H)}},Ke.cache=function(H){return function(){return H.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(H,X,z){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var W=E({},H.props),oe=H.key;if(X!=null)for(me in X.key!==void 0&&(oe=""+X.key),X)!te.call(X,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&X.ref===void 0||(W[me]=X[me]);var me=arguments.length-2;if(me===1)W.children=z;else if(1<me){for(var Ce=Array(me),Re=0;Re<me;Re++)Ce[Re]=arguments[Re+2];W.children=Ce}return K(H.type,oe,W)},Ke.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ke.createElement=function(H,X,z){var W,oe={},me=null;if(X!=null)for(W in X.key!==void 0&&(me=""+X.key),X)te.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=X[W]);var Ce=arguments.length-2;if(Ce===1)oe.children=z;else if(1<Ce){for(var Re=Array(Ce),be=0;be<Ce;be++)Re[be]=arguments[be+2];oe.children=Re}if(H&&H.defaultProps)for(W in Ce=H.defaultProps,Ce)oe[W]===void 0&&(oe[W]=Ce[W]);return K(H,me,oe)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:h,render:H}},Ke.isValidElement=$,Ke.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:Y}},Ke.memo=function(H,X){return{$$typeof:g,type:H,compare:X===void 0?null:X}},Ke.startTransition=function(H){var X=q.T,z={};q.T=z;try{var W=H(),oe=q.S;oe!==null&&oe(z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(B,we)}catch(me){we(me)}finally{X!==null&&z.types!==null&&(X.types=z.types),q.T=X}},Ke.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ke.use=function(H){return q.H.use(H)},Ke.useActionState=function(H,X,z){return q.H.useActionState(H,X,z)},Ke.useCallback=function(H,X){return q.H.useCallback(H,X)},Ke.useContext=function(H){return q.H.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H,X){return q.H.useDeferredValue(H,X)},Ke.useEffect=function(H,X){return q.H.useEffect(H,X)},Ke.useEffectEvent=function(H){return q.H.useEffectEvent(H)},Ke.useId=function(){return q.H.useId()},Ke.useImperativeHandle=function(H,X,z){return q.H.useImperativeHandle(H,X,z)},Ke.useInsertionEffect=function(H,X){return q.H.useInsertionEffect(H,X)},Ke.useLayoutEffect=function(H,X){return q.H.useLayoutEffect(H,X)},Ke.useMemo=function(H,X){return q.H.useMemo(H,X)},Ke.useOptimistic=function(H,X){return q.H.useOptimistic(H,X)},Ke.useReducer=function(H,X,z){return q.H.useReducer(H,X,z)},Ke.useRef=function(H){return q.H.useRef(H)},Ke.useState=function(H){return q.H.useState(H)},Ke.useSyncExternalStore=function(H,X,z){return q.H.useSyncExternalStore(H,X,z)},Ke.useTransition=function(){return q.H.useTransition()},Ke.version="19.2.0",Ke}var Z_;function Lc(){return Z_||(Z_=1,Tp.exports=JT()),Tp.exports}var T=Lc();const gi=eo(T);var kp={exports:{}},Uu={},Lp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function QT(){return G_||(G_=1,(function(e){function t(F,ee){var Y=F.length;F.push(ee);e:for(;0<Y;){var we=Y-1>>>1,R=F[we];if(0<a(R,ee))F[we]=ee,F[Y]=R,Y=we;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ee=F[0],Y=F.pop();if(Y!==ee){F[0]=Y;e:for(var we=0,R=F.length,H=R>>>1;we<H;){var X=2*(we+1)-1,z=F[X],W=X+1,oe=F[W];if(0>a(z,Y))W<R&&0>a(oe,z)?(F[we]=oe,F[W]=Y,we=W):(F[we]=z,F[X]=Y,we=X);else if(W<R&&0>a(oe,Y))F[we]=oe,F[W]=Y,we=W;else break e}}return ee}function a(F,ee){var Y=F.sortIndex-ee.sortIndex;return Y!==0?Y:F.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,v=null,w=3,x=!1,j=!1,E=!1,O=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(F){for(var ee=n(g);ee!==null;){if(ee.callback===null)i(g);else if(ee.startTime<=F)i(g),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=n(g)}}function V(F){if(E=!1,U(F),!j)if(n(f)!==null)j=!0,B||(B=!0,Q());else{var ee=n(g);ee!==null&&ce(V,ee.startTime-F)}}var B=!1,q=-1,te=5,K=-1;function ae(){return O?!0:!(e.unstable_now()-K<te)}function $(){if(O=!1,B){var F=e.unstable_now();K=F;var ee=!0;try{e:{j=!1,E&&(E=!1,P(q),q=-1),x=!0;var Y=w;try{t:{for(U(F),v=n(f);v!==null&&!(v.expirationTime>F&&ae());){var we=v.callback;if(typeof we=="function"){v.callback=null,w=v.priorityLevel;var R=we(v.expirationTime<=F);if(F=e.unstable_now(),typeof R=="function"){v.callback=R,U(F),ee=!0;break t}v===n(f)&&i(f),U(F)}else i(f);v=n(f)}if(v!==null)ee=!0;else{var H=n(g);H!==null&&ce(V,H.startTime-F),ee=!1}}break e}finally{v=null,w=Y,x=!1}ee=void 0}}finally{ee?Q():B=!1}}}var Q;if(typeof M=="function")Q=function(){M($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=$,Q=function(){re.postMessage(null)}}else Q=function(){A($,0)};function ce(F,ee){q=A(function(){F(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var Y=w;w=ee;try{return F()}finally{w=Y}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=w;w=F;try{return ee()}finally{w=Y}},e.unstable_scheduleCallback=function(F,ee,Y){var we=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?we+Y:we):Y=we,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Y+R,F={id:y++,callback:ee,priorityLevel:F,startTime:Y,expirationTime:R,sortIndex:-1},Y>we?(F.sortIndex=Y,t(g,F),n(f)===null&&F===n(g)&&(E?(P(q),q=-1):E=!0,ce(V,Y-we))):(F.sortIndex=R,t(f,F),j||x||(j=!0,B||(B=!0,Q()))),F},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(F){var ee=w;return function(){var Y=w;w=ee;try{return F.apply(this,arguments)}finally{w=Y}}}})(Ap)),Ap}var K_;function ek(){return K_||(K_=1,Lp.exports=QT()),Lp.exports}var Np={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function tk(){if(W_)return En;W_=1;var e=Lc();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,En.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},En.flushSync=function(f){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=y,i.d.f()}},En.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},En.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},En.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:x}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},En.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},En.requestFormReset=function(f){i.d.r(f)},En.unstable_batchedUpdates=function(f,g){return f(g)},En.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},En.useFormStatus=function(){return u.H.useHostTransitionStatus()},En.version="19.2.0",En}var Y_;function xS(){if(Y_)return Np.exports;Y_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Np.exports=tk(),Np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function nk(){if(X_)return Uu;X_=1;var e=ek(),t=Lc(),n=xS();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var c=r,p=s;;){var _=c.return;if(_===null)break;var S=_.alternate;if(S===null){if(p=_.return,p!==null){c=p;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===c)return f(_),r;if(S===p)return f(_),s;S=S.sibling}throw Error(i(188))}if(c.return!==p.return)c=_,p=S;else{for(var N=!1,I=_.child;I;){if(I===c){N=!0,c=_,p=S;break}if(I===p){N=!0,p=_,c=S;break}I=I.sibling}if(!N){for(I=S.child;I;){if(I===c){N=!0,c=S,p=_;break}if(I===p){N=!0,p=S,c=_;break}I=I.sibling}if(!N)throw Error(i(189))}}if(c.alternate!==p)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var se=Symbol.for("react.client.reference");function re(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===se?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case A:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case K:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case j:return"Portal";case M:return r.displayName||"Context";case P:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case q:return s=r.displayName||null,s!==null?s:re(r.type)||"Memo";case te:s=r._payload,r=r._init;try{return re(r(s))}catch{}}return null}var ce=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},we=[],R=-1;function H(r){return{current:r}}function X(r){0>R||(r.current=we[R],we[R]=null,R--)}function z(r,s){R++,we[R]=r.current,r.current=s}var W=H(null),oe=H(null),me=H(null),Ce=H(null);function Re(r,s){switch(z(me,s),z(oe,r),z(W,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?d_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=d_(s),r=f_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}X(W),z(W,r)}function be(){X(W),X(oe),X(me)}function ke(r){r.memoizedState!==null&&z(Ce,r);var s=W.current,c=f_(s,r.type);s!==c&&(z(oe,r),z(W,c))}function Ve(r){oe.current===r&&(X(W),X(oe)),Ce.current===r&&(X(Ce),Ru._currentValue=Y)}var De,He;function gt(r){if(De===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);De=s&&s[1]||"",He=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+r+He}var Dt=!1;function ei(r,s){if(!r||Dt)return"";Dt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(fe){var de=fe}Reflect.construct(r,[],xe)}else{try{xe.call()}catch(fe){de=fe}r.call(xe.prototype)}}else{try{throw Error()}catch(fe){de=fe}(xe=r())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),N=S[0],I=S[1];if(N&&I){var G=N.split(`
`),ue=I.split(`
`);for(_=p=0;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;for(;_<ue.length&&!ue[_].includes("DetermineComponentFrameRoot");)_++;if(p===G.length||_===ue.length)for(p=G.length-1,_=ue.length-1;1<=p&&0<=_&&G[p]!==ue[_];)_--;for(;1<=p&&0<=_;p--,_--)if(G[p]!==ue[_]){if(p!==1||_!==1)do if(p--,_--,0>_||G[p]!==ue[_]){var pe=`
`+G[p].replace(" at new "," at ");return r.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",r.displayName)),pe}while(1<=p&&0<=_);break}}}finally{Dt=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?gt(c):""}function Pi(r,s){switch(r.tag){case 26:case 27:case 5:return gt(r.type);case 16:return gt("Lazy");case 13:return r.child!==s&&s!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return ei(r.type,!1);case 11:return ei(r.type.render,!1);case 1:return ei(r.type,!0);case 31:return gt("Activity");default:return""}}function Ri(r){try{var s="",c=null;do s+=Pi(r,c),c=r,r=r.return;while(r);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rs=Object.prototype.hasOwnProperty,jr=e.unstable_scheduleCallback,Er=e.unstable_cancelCallback,ao=e.unstable_shouldYield,oo=e.unstable_requestPaint,gn=e.unstable_now,Dl=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Ee=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,et=e.unstable_LowPriority,lt=e.unstable_IdlePriority,Sn=e.log,Di=e.unstable_setDisableYieldValue,hn=null,zt=null;function yn(r){if(typeof Sn=="function"&&Di(r),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(hn,r)}catch{}}var yt=Math.clz32?Math.clz32:Mf,zn=Math.log,ti=Math.LN2;function Mf(r){return r>>>=0,r===0?32:31-(zn(r)/ti|0)|0}var ta=256,na=262144,ia=4194304;function Tr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function lo(r,s,c){var p=r.pendingLanes;if(p===0)return 0;var _=0,S=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?_=Tr(p):(N&=I,N!==0?_=Tr(N):c||(c=I&~r,c!==0&&(_=Tr(c))))):(I=p&~S,I!==0?_=Tr(I):N!==0?_=Tr(N):c||(c=p&~r,c!==0&&(_=Tr(c)))),_===0?0:s!==0&&s!==_&&(s&S)===0&&(S=_&-_,c=s&-s,S>=c||S===32&&(c&4194048)!==0)?s:_}function ra(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Of(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var r=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),r}function zl(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function kr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pf(r,s,c,p,_,S){var N=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var I=r.entanglements,G=r.expirationTimes,ue=r.hiddenUpdates;for(c=N&~c;0<c;){var pe=31-yt(c),xe=1<<pe;I[pe]=0,G[pe]=-1;var de=ue[pe];if(de!==null)for(ue[pe]=null,pe=0;pe<de.length;pe++){var fe=de[pe];fe!==null&&(fe.lane&=-536870913)}c&=~xe}p!==0&&$c(r,p,0),S!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=S&~(N&~s))}function $c(r,s,c){r.pendingLanes|=s,r.suspendedLanes&=~s;var p=31-yt(s);r.entangledLanes|=s,r.entanglements[p]=r.entanglements[p]|1073741824|c&261930}function Zc(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var p=31-yt(c),_=1<<p;_&s|r[p]&s&&(r[p]|=s),c&=~_}}function Gc(r,s){var c=s&-s;return c=(c&42)!==0?1:Bn(c),(c&(r.suspendedLanes|s))!==0?0:c}function Bn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Oe(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bl(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:D_(r.type))}function Il(r,s){var c=ee.p;try{return ee.p=r,s()}finally{ee.p=c}}var zi=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zi,dn="__reactProps$"+zi,Lr="__reactContainer$"+zi,tr="__reactEvents$"+zi,Kc="__reactListeners$"+zi,Rf="__reactHandles$"+zi,Wc="__reactResources$"+zi,sa="__reactMarker$"+zi;function Ul(r){delete r[Yt],delete r[dn],delete r[tr],delete r[Kc],delete r[Rf]}function Ar(r){var s=r[Yt];if(s)return s;for(var c=r.parentNode;c;){if(s=c[Lr]||c[Yt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(r=__(r);r!==null;){if(c=r[Yt])return c;r=__(r)}return s}r=c,c=r.parentNode}return null}function ss(r){if(r=r[Yt]||r[Lr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function nr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function as(r){var s=r[Wc];return s||(s=r[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xt(r){r[sa]=!0}var Yc=new Set,Xc={};function Nr(r,s){ir(r,s),ir(r+"Capture",s)}function ir(r,s){for(Xc[r]=s,r=0;r<s.length;r++)Yc.add(s[r])}var aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Hl={};function oa(r){return rs.call(Hl,r)?!0:rs.call(Vl,r)?!1:aa.test(r)?Hl[r]=!0:(Vl[r]=!0,!1)}function tt(r,s,c){if(oa(s))if(c===null)r.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+c)}}function _t(r,s,c){if(c===null)r.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+c)}}function In(r,s,c,p){if(p===null)r.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(s,c,""+p)}}function an(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Mr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fl(r,s,c){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,S=p.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return _.call(this)},set:function(N){c=""+N,S.call(this,N)}}),Object.defineProperty(r,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ge(r){if(!r._valueTracker){var s=Mr(r)?"checked":"value";r._valueTracker=Fl(r,s,""+r[s])}}function Nt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return r&&(p=Mr(r)?r.checked?"true":"false":r.value),r=p,r!==c?(s.setValue(r),!0):!1}function os(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var uo=/[\n"\\]/g;function Lt(r){return r.replace(uo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ql(r,s,c,p,_,S,N,I){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),s!=null?N==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+an(s)):r.value!==""+an(s)&&(r.value=""+an(s)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),s!=null?Bi(r,N,an(s)):c!=null?Bi(r,N,an(c)):p!=null&&r.removeAttribute("value"),_==null&&S!=null&&(r.defaultChecked=!!S),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+an(I):r.removeAttribute("name")}function la(r,s,c,p,_,S,N,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),s!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Ge(r);return}c=c!=null?""+an(c):"",s=s!=null?""+an(s):c,I||s===r.value||(r.value=s),r.defaultValue=s}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=I?r.checked:!!p,r.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N),Ge(r)}function Bi(r,s,c){s==="number"&&os(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Ct(r,s,c,p){if(r=r.options,s){s={};for(var _=0;_<c.length;_++)s["$"+c[_]]=!0;for(c=0;c<r.length;c++)_=s.hasOwnProperty("$"+r[c].value),r[c].selected!==_&&(r[c].selected=_),_&&p&&(r[c].defaultSelected=!0)}else{for(c=""+an(c),s=null,_=0;_<r.length;_++){if(r[_].value===c){r[_].selected=!0,p&&(r[_].defaultSelected=!0);return}s!==null||r[_].disabled||(s=r[_])}s!==null&&(s.selected=!0)}}function rr(r,s,c){if(s!=null&&(s=""+an(s),s!==r.value&&(r.value=s),c==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=c!=null?""+an(c):""}function ls(r,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(i(92));if(ce(p)){if(1<p.length)throw Error(i(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=an(s),r.defaultValue=c,p=r.textContent,p===c&&p!==""&&p!==null&&(r.value=p),Ge(r)}function yi(r,s){if(s){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=s;return}}r.textContent=s}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function us(r,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":p?r.setProperty(s,c):typeof c!="number"||c===0||$l.has(s)?s==="float"?r.cssFloat=c:r[s]=(""+c).trim():r[s]=c+"px"}function co(r,s,c){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var _ in s)p=s[_],s.hasOwnProperty(_)&&c[_]!==p&&us(r,_,p)}else for(var S in s)s.hasOwnProperty(S)&&us(r,S,s[S])}function ua(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(r){return Zl.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Un(){}var fo=null;function ca(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hs=null,Fe=null;function ni(r){var s=ss(r);if(s&&(r=s.stateNode)){var c=r[dn]||null;e:switch(r=s.stateNode,s.type){case"input":if(ql(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Lt(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==r&&p.form===r.form){var _=p[dn]||null;if(!_)throw Error(i(90));ql(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===r.form&&Nt(p)}break e;case"textarea":rr(r,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ct(r,!!c.multiple,s,!1)}}}var pt=!1;function Gl(r,s,c){if(pt)return r(s,c);pt=!0;try{var p=r(s);return p}finally{if(pt=!1,(hs!==null||Fe!==null)&&(Gh(),hs&&(s=hs,r=Fe,Fe=hs=null,ni(s),r)))for(s=0;s<r.length;s++)ni(r[s])}}function Or(r,s){var c=r.stateNode;if(c===null)return null;var p=c[dn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,s,typeof c));return c}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(ii)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){ha=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{ha=!1}var vi=null,Pr=null,Ht=null;function sr(){if(Ht)return Ht;var r,s=Pr,c=s.length,p,_="value"in vi?vi.value:vi.textContent,S=_.length;for(r=0;r<c&&s[r]===_[r];r++);var N=c-r;for(p=1;p<=N&&s[c-p]===_[S-p];p++);return Ht=_.slice(r,1<p?1-p:void 0)}function da(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function fa(){return!0}function Jc(){return!1}function vn(r){function s(c,p,_,S,N){this._reactName=c,this._targetInst=_,this.type=p,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(c=r[I],this[I]=c?c(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fa:Jc,this.isPropagationStopped=Jc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=vn(Ii),ds=v({},Ii,{view:0,detail:0}),st=vn(ds),Kl,Nn,Ui,ma=v({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ui&&(Ui&&r.type==="mousemove"?(Kl=r.screenX-Ui.screenX,Nn=r.screenY-Ui.screenY):Nn=Kl=0,Ui=r),Kl)},movementY:function(r){return"movementY"in r?r.movementY:Nn}}),Qc=vn(ma),Wl=v({},ma,{dataTransfer:0}),Df=vn(Wl),eh=v({},ds,{relatedTarget:0}),Yl=vn(eh),zf=v({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=vn(zf),Bf=v({},Ii,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bi=vn(Bf),If=v({},Ii,{data:0}),Jl=vn(If),ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nh[r])?!!s[r]:!1}function eu(){return Ql}var ih=v({},ds,{key:function(r){if(r.key){var s=ar[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?th[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rh=vn(ih),Uf=v({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=vn(Uf),tu=v({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),Vf=vn(tu),ah=v({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=vn(ah),po=v({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=vn(po),Hf=v({},Ii,{newState:0,oldState:0}),pa=vn(Hf),Vn=[9,13,27,32],go=ii&&"CompositionEvent"in window,fs=null;ii&&"documentMode"in document&&(fs=document.documentMode);var Ff=ii&&"TextEvent"in window&&!fs,yo=ii&&(!go||fs&&8<fs&&11>=fs),vo=" ",lh=!1;function uh(r,s){switch(r){case"keyup":return Vn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ms=!1;function si(r,s){switch(r){case"compositionend":return nu(s);case"keypress":return s.which!==32?null:(lh=!0,vo);case"textInput":return r=s.data,r===vo&&lh?null:r;default:return null}}function ps(r,s){if(ms)return r==="compositionend"||!go&&uh(r,s)?(r=sr(),Ht=Pr=vi=null,ms=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yo&&s.locale!=="ko"?null:s.data;default:return null}}var qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _i(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!qf[r.type]:s==="textarea"}function ch(r,s,c,p){hs?Fe?Fe.push(p):Fe=[p]:hs=p,s=ed(s,"onChange"),0<s.length&&(c=new mo("onChange","change",null,c,p),r.push({event:c,listeners:s}))}var xi=null,ga=null;function ya(r){a_(r,0)}function va(r){var s=nr(r);if(Nt(s))return r}function ba(r,s){if(r==="change")return s}var hh=!1;if(ii){var wi;if(ii){var gs="oninput"in document;if(!gs){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),gs=typeof dh.oninput=="function"}wi=gs}else wi=!1;hh=wi&&(!document.documentMode||9<document.documentMode)}function bo(){xi&&(xi.detachEvent("onpropertychange",fh),ga=xi=null)}function fh(r){if(r.propertyName==="value"&&va(ga)){var s=[];ch(s,ga,r,ca(r)),Gl(ya,s)}}function Vi(r,s,c){r==="focusin"?(bo(),xi=s,ga=c,xi.attachEvent("onpropertychange",fh)):r==="focusout"&&bo()}function $f(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return va(ga)}function ys(r,s){if(r==="click")return va(s)}function Zf(r,s){if(r==="input"||r==="change")return va(s)}function Hi(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fn=typeof Object.is=="function"?Object.is:Hi;function vs(r,s){if(fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var _=c[p];if(!rs.call(s,_)||!fn(r[_],s[_]))return!1}return!0}function _o(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _a(r,s){var c=_o(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=s&&p>=s)return{node:c,offset:s-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_o(c)}}function xo(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?xo(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xa(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=os(r.document);s instanceof r.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)r=s.contentWindow;else break;s=os(r.document)}return s}function or(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var wo=ii&&"documentMode"in document&&11>=document.documentMode,lr=null,So=null,wa=null,bs=!1;function mh(r,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;bs||lr==null||lr!==os(p)||(p=lr,"selectionStart"in p&&or(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),wa&&vs(wa,p)||(wa=p,p=ed(So,"onSelect"),0<p.length&&(s=new mo("onSelect","select",null,s,c),r.push({event:s,listeners:p}),s.target=lr)))}function ur(r,s){var c={};return c[r.toLowerCase()]=s.toLowerCase(),c["Webkit"+r]="webkit"+s,c["Moz"+r]="moz"+s,c}var _s={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Co={},ph={};ii&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function mn(r){if(Co[r])return Co[r];if(!_s[r])return r;var s=_s[r],c;for(c in s)if(s.hasOwnProperty(c)&&c in ph)return Co[r]=s[c];return r}var Sa=mn("animationend"),gh=mn("animationiteration"),Ca=mn("animationstart"),Gf=mn("transitionrun"),yh=mn("transitionstart"),Kf=mn("transitioncancel"),xs=mn("transitionend"),vh=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function Hn(r,s){vh.set(r,s),Nr(s,[r])}var ja=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Fn=[],Cn=0,jo=0;function Ea(){for(var r=Cn,s=jo=Cn=0;s<r;){var c=Fn[s];Fn[s++]=null;var p=Fn[s];Fn[s++]=null;var _=Fn[s];Fn[s++]=null;var S=Fn[s];if(Fn[s++]=null,p!==null&&_!==null){var N=p.pending;N===null?_.next=_:(_.next=N.next,N.next=_),p.pending=_}S!==0&&ws(c,_,S)}}function hr(r,s,c,p){Fn[Cn++]=r,Fn[Cn++]=s,Fn[Cn++]=c,Fn[Cn++]=p,jo|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function iu(r,s,c,p){return hr(r,s,c,p),Ta(r)}function Si(r,s){return hr(r,null,null,s),Ta(r)}function ws(r,s,c){r.lanes|=c;var p=r.alternate;p!==null&&(p.lanes|=c);for(var _=!1,S=r.return;S!==null;)S.childLanes|=c,p=S.alternate,p!==null&&(p.childLanes|=c),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(_=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,_&&s!==null&&(_=31-yt(c),r=S.hiddenUpdates,p=r[_],p===null?r[_]=[s]:p.push(s),s.lane=c|536870912),S):null}function Ta(r){if(50<ku)throw ku=0,Ym=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Dr={};function Wf(r,s,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(r,s,c,p){return new Wf(r,s,c,p)}function Eo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ci(r,s){var c=r.alternate;return c===null?(c=jn(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function ru(r,s){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,s=c.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ka(r,s,c,p,_,S){var N=0;if(p=r,typeof r=="function")Eo(r)&&(N=1);else if(typeof r=="string")N=BT(r,c,W.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case K:return r=jn(31,c,s,_),r.elementType=K,r.lanes=S,r;case E:return zr(c.children,_,S,s);case O:N=8,_|=24;break;case A:return r=jn(12,c,s,_|2),r.elementType=A,r.lanes=S,r;case V:return r=jn(13,c,s,_),r.elementType=V,r.lanes=S,r;case B:return r=jn(19,c,s,_),r.elementType=B,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:N=10;break e;case P:N=9;break e;case U:N=11;break e;case q:N=14;break e;case te:N=16,p=null;break e}N=29,c=Error(i(130,r===null?"null":typeof r,"")),p=null}return s=jn(N,c,s,_),s.elementType=r,s.type=p,s.lanes=S,s}function zr(r,s,c,p){return r=jn(7,r,p,s),r.lanes=c,r}function To(r,s,c){return r=jn(6,r,null,s),r.lanes=c,r}function su(r){var s=jn(18,null,null,0);return s.stateNode=r,s}function au(r,s,c){return s=jn(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var l=new WeakMap;function m(r,s){if(typeof r=="object"&&r!==null){var c=l.get(r);return c!==void 0?c:(s={value:r,source:s,stack:Ri(s)},l.set(r,s),s)}return{value:r,source:s,stack:Ri(s)}}var b=[],C=0,k=null,D=0,Z=[],ie=0,he=null,_e=1,Te="";function Pe(r,s){b[C++]=D,b[C++]=k,k=r,D=s}function Xe(r,s,c){Z[ie++]=_e,Z[ie++]=Te,Z[ie++]=he,he=r;var p=_e;r=Te;var _=32-yt(p)-1;p&=~(1<<_),c+=1;var S=32-yt(s)+_;if(30<S){var N=_-_%5;S=(p&(1<<N)-1).toString(32),p>>=N,_-=N,_e=1<<32-yt(s)+_|c<<_|p,Te=S+r}else _e=1<<S|c<<_|p,Te=r}function on(r){r.return!==null&&(Pe(r,1),Xe(r,1,0))}function Ft(r){for(;r===k;)k=b[--C],b[C]=null,D=b[--C],b[C]=null;for(;r===he;)he=Z[--ie],Z[ie]=null,Te=Z[--ie],Z[ie]=null,_e=Z[--ie],Z[ie]=null}function Mn(r,s){Z[ie++]=_e,Z[ie++]=Te,Z[ie++]=he,_e=s.id,Te=s.overflow,he=r}var ut=null,ct=null,nt=!1,dr=null,qn=!1,ko=Error(i(519));function fr(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(m(s,r)),ko}function ou(r){var s=r.stateNode,c=r.type,p=r.memoizedProps;switch(s[Yt]=r,s[dn]=p,c){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(c=0;c<Au.length;c++)rt(Au[c],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),la(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),ls(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||c_(s.textContent,c)?(p.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),p.onScroll!=null&&rt("scroll",s),p.onScrollEnd!=null&&rt("scrollend",s),p.onClick!=null&&(s.onclick=Un),s=!0):s=!1,s||fr(r,!0)}function Bt(r){for(ut=r.return;ut;)switch(ut.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:ut=ut.return}}function Fi(r){if(r!==ut)return!1;if(!nt)return Bt(r),nt=!0,!1;var s=r.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||hp(r.type,r.memoizedProps)),c=!c),c&&ct&&fr(r),Bt(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ct=b_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ct=b_(r)}else s===27?(s=ct,Ds(r.type)?(r=gp,gp=null,ct=r):ct=s):ct=ut?Ei(r.stateNode.nextSibling):null;return!0}function Br(){ct=ut=null,nt=!1}function lu(){var r=dr;return r!==null&&(Kn===null?Kn=r:Kn.push.apply(Kn,r),dr=null),r}function La(r){dr===null?dr=[r]:dr.push(r)}var Aa=H(null),mr=null,qi=null;function Ss(r,s,c){z(Aa,s._currentValue),s._currentValue=c}function Ir(r){r._currentValue=Aa.current,X(Aa)}function Yf(r,s,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),r===c)break;r=r.return}}function Xf(r,s,c,p){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var S=_.dependencies;if(S!==null){var N=_.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=_;for(var G=0;G<s.length;G++)if(I.context===s[G]){S.lanes|=c,I=S.alternate,I!==null&&(I.lanes|=c),Yf(S.return,c,r),p||(N=null);break e}S=I.next}}else if(_.tag===18){if(N=_.return,N===null)throw Error(i(341));N.lanes|=c,S=N.alternate,S!==null&&(S.lanes|=c),Yf(N,c,r),N=null}else N=_.child;if(N!==null)N.return=_;else for(N=_;N!==null;){if(N===r){N=null;break}if(_=N.sibling,_!==null){_.return=N.return,N=_;break}N=N.return}_=N}}function Lo(r,s,c,p){r=null;for(var _=s,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var N=_.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var I=_.type;fn(_.pendingProps.value,N.value)||(r!==null?r.push(I):r=[I])}}else if(_===Ce.current){if(N=_.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(Ru):r=[Ru])}_=_.return}r!==null&&Xf(s,r,c,p),s.flags|=262144}function bh(r){for(r=r.firstContext;r!==null;){if(!fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){mr=r,qi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bn(r){return Wv(mr,r)}function _h(r,s){return mr===null&&Na(r),Wv(r,s)}function Wv(r,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},qi===null){if(r===null)throw Error(i(308));qi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else qi=qi.next=s;return c}var PE=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(c,p){r.push(p)}};this.abort=function(){s.aborted=!0,r.forEach(function(c){return c()})}},RE=e.unstable_scheduleCallback,DE=e.unstable_NormalPriority,Jt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new PE,data:new Map,refCount:0}}function uu(r){r.refCount--,r.refCount===0&&RE(DE,function(){r.controller.abort()})}var cu=null,Qf=0,Ao=0,No=null;function zE(r,s){if(cu===null){var c=cu=[];Qf=0,Ao=np(),No={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Qf++,s.then(Yv,Yv),s}function Yv(){if(--Qf===0&&cu!==null){No!==null&&(No.status="fulfilled");var r=cu;cu=null,Ao=0,No=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function BE(r,s){var c=[],p={status:"pending",value:null,reason:null,then:function(_){c.push(_)}};return r.then(function(){p.status="fulfilled",p.value=s;for(var _=0;_<c.length;_++)(0,c[_])(s)},function(_){for(p.status="rejected",p.reason=_,_=0;_<c.length;_++)(0,c[_])(void 0)}),p}var Xv=F.S;F.S=function(r,s){Pb=gn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zE(r,s),Xv!==null&&Xv(r,s)};var Ma=H(null);function em(){var r=Ma.current;return r!==null?r:jt.pooledCache}function xh(r,s){s===null?z(Ma,Ma.current):z(Ma,s.pool)}function Jv(){var r=em();return r===null?null:{parent:Jt._currentValue,pool:r}}var Mo=Error(i(460)),tm=Error(i(474)),wh=Error(i(542)),Sh={then:function(){}};function Qv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function e0(r,s,c){switch(c=r[c],c===void 0?r.push(s):c!==s&&(s.then(Un,Un),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,n0(r),r;default:if(typeof s.status=="string")s.then(Un,Un);else{if(r=jt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(p){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=p}},function(p){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,n0(r),r}throw Pa=s,Mo}}function Oa(r){try{var s=r._init;return s(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Pa=c,Mo):c}}var Pa=null;function t0(){if(Pa===null)throw Error(i(459));var r=Pa;return Pa=null,r}function n0(r){if(r===Mo||r===wh)throw Error(i(483))}var Oo=null,hu=0;function Ch(r){var s=hu;return hu+=1,Oo===null&&(Oo=[]),e0(Oo,r,s)}function du(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function jh(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function i0(r){function s(ne,J){if(r){var le=ne.deletions;le===null?(ne.deletions=[J],ne.flags|=16):le.push(J)}}function c(ne,J){if(!r)return null;for(;J!==null;)s(ne,J),J=J.sibling;return null}function p(ne){for(var J=new Map;ne!==null;)ne.key!==null?J.set(ne.key,ne):J.set(ne.index,ne),ne=ne.sibling;return J}function _(ne,J){return ne=Ci(ne,J),ne.index=0,ne.sibling=null,ne}function S(ne,J,le){return ne.index=le,r?(le=ne.alternate,le!==null?(le=le.index,le<J?(ne.flags|=67108866,J):le):(ne.flags|=67108866,J)):(ne.flags|=1048576,J)}function N(ne){return r&&ne.alternate===null&&(ne.flags|=67108866),ne}function I(ne,J,le,ve){return J===null||J.tag!==6?(J=To(le,ne.mode,ve),J.return=ne,J):(J=_(J,le),J.return=ne,J)}function G(ne,J,le,ve){var ze=le.type;return ze===E?pe(ne,J,le.props.children,ve,le.key):J!==null&&(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===te&&Oa(ze)===J.type)?(J=_(J,le.props),du(J,le),J.return=ne,J):(J=ka(le.type,le.key,le.props,null,ne.mode,ve),du(J,le),J.return=ne,J)}function ue(ne,J,le,ve){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=au(le,ne.mode,ve),J.return=ne,J):(J=_(J,le.children||[]),J.return=ne,J)}function pe(ne,J,le,ve,ze){return J===null||J.tag!==7?(J=zr(le,ne.mode,ve,ze),J.return=ne,J):(J=_(J,le),J.return=ne,J)}function xe(ne,J,le){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=To(""+J,ne.mode,le),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return le=ka(J.type,J.key,J.props,null,ne.mode,le),du(le,J),le.return=ne,le;case j:return J=au(J,ne.mode,le),J.return=ne,J;case te:return J=Oa(J),xe(ne,J,le)}if(ce(J)||Q(J))return J=zr(J,ne.mode,le,null),J.return=ne,J;if(typeof J.then=="function")return xe(ne,Ch(J),le);if(J.$$typeof===M)return xe(ne,_h(ne,J),le);jh(ne,J)}return null}function de(ne,J,le,ve){var ze=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return ze!==null?null:I(ne,J,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return le.key===ze?G(ne,J,le,ve):null;case j:return le.key===ze?ue(ne,J,le,ve):null;case te:return le=Oa(le),de(ne,J,le,ve)}if(ce(le)||Q(le))return ze!==null?null:pe(ne,J,le,ve,null);if(typeof le.then=="function")return de(ne,J,Ch(le),ve);if(le.$$typeof===M)return de(ne,J,_h(ne,le),ve);jh(ne,le)}return null}function fe(ne,J,le,ve,ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ne=ne.get(le)||null,I(J,ne,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:return ne=ne.get(ve.key===null?le:ve.key)||null,G(J,ne,ve,ze);case j:return ne=ne.get(ve.key===null?le:ve.key)||null,ue(J,ne,ve,ze);case te:return ve=Oa(ve),fe(ne,J,le,ve,ze)}if(ce(ve)||Q(ve))return ne=ne.get(le)||null,pe(J,ne,ve,ze,null);if(typeof ve.then=="function")return fe(ne,J,le,Ch(ve),ze);if(ve.$$typeof===M)return fe(ne,J,le,_h(J,ve),ze);jh(J,ve)}return null}function Ae(ne,J,le,ve){for(var ze=null,ht=null,Ne=J,Je=J=0,ot=null;Ne!==null&&Je<le.length;Je++){Ne.index>Je?(ot=Ne,Ne=null):ot=Ne.sibling;var dt=de(ne,Ne,le[Je],ve);if(dt===null){Ne===null&&(Ne=ot);break}r&&Ne&&dt.alternate===null&&s(ne,Ne),J=S(dt,J,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt,Ne=ot}if(Je===le.length)return c(ne,Ne),nt&&Pe(ne,Je),ze;if(Ne===null){for(;Je<le.length;Je++)Ne=xe(ne,le[Je],ve),Ne!==null&&(J=S(Ne,J,Je),ht===null?ze=Ne:ht.sibling=Ne,ht=Ne);return nt&&Pe(ne,Je),ze}for(Ne=p(Ne);Je<le.length;Je++)ot=fe(Ne,ne,Je,le[Je],ve),ot!==null&&(r&&ot.alternate!==null&&Ne.delete(ot.key===null?Je:ot.key),J=S(ot,J,Je),ht===null?ze=ot:ht.sibling=ot,ht=ot);return r&&Ne.forEach(function(Vs){return s(ne,Vs)}),nt&&Pe(ne,Je),ze}function Ue(ne,J,le,ve){if(le==null)throw Error(i(151));for(var ze=null,ht=null,Ne=J,Je=J=0,ot=null,dt=le.next();Ne!==null&&!dt.done;Je++,dt=le.next()){Ne.index>Je?(ot=Ne,Ne=null):ot=Ne.sibling;var Vs=de(ne,Ne,dt.value,ve);if(Vs===null){Ne===null&&(Ne=ot);break}r&&Ne&&Vs.alternate===null&&s(ne,Ne),J=S(Vs,J,Je),ht===null?ze=Vs:ht.sibling=Vs,ht=Vs,Ne=ot}if(dt.done)return c(ne,Ne),nt&&Pe(ne,Je),ze;if(Ne===null){for(;!dt.done;Je++,dt=le.next())dt=xe(ne,dt.value,ve),dt!==null&&(J=S(dt,J,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt);return nt&&Pe(ne,Je),ze}for(Ne=p(Ne);!dt.done;Je++,dt=le.next())dt=fe(Ne,ne,Je,dt.value,ve),dt!==null&&(r&&dt.alternate!==null&&Ne.delete(dt.key===null?Je:dt.key),J=S(dt,J,Je),ht===null?ze=dt:ht.sibling=dt,ht=dt);return r&&Ne.forEach(function(WT){return s(ne,WT)}),nt&&Pe(ne,Je),ze}function St(ne,J,le,ve){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case x:e:{for(var ze=le.key;J!==null;){if(J.key===ze){if(ze=le.type,ze===E){if(J.tag===7){c(ne,J.sibling),ve=_(J,le.props.children),ve.return=ne,ne=ve;break e}}else if(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===te&&Oa(ze)===J.type){c(ne,J.sibling),ve=_(J,le.props),du(ve,le),ve.return=ne,ne=ve;break e}c(ne,J);break}else s(ne,J);J=J.sibling}le.type===E?(ve=zr(le.props.children,ne.mode,ve,le.key),ve.return=ne,ne=ve):(ve=ka(le.type,le.key,le.props,null,ne.mode,ve),du(ve,le),ve.return=ne,ne=ve)}return N(ne);case j:e:{for(ze=le.key;J!==null;){if(J.key===ze)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){c(ne,J.sibling),ve=_(J,le.children||[]),ve.return=ne,ne=ve;break e}else{c(ne,J);break}else s(ne,J);J=J.sibling}ve=au(le,ne.mode,ve),ve.return=ne,ne=ve}return N(ne);case te:return le=Oa(le),St(ne,J,le,ve)}if(ce(le))return Ae(ne,J,le,ve);if(Q(le)){if(ze=Q(le),typeof ze!="function")throw Error(i(150));return le=ze.call(le),Ue(ne,J,le,ve)}if(typeof le.then=="function")return St(ne,J,Ch(le),ve);if(le.$$typeof===M)return St(ne,J,_h(ne,le),ve);jh(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,J!==null&&J.tag===6?(c(ne,J.sibling),ve=_(J,le),ve.return=ne,ne=ve):(c(ne,J),ve=To(le,ne.mode,ve),ve.return=ne,ne=ve),N(ne)):c(ne,J)}return function(ne,J,le,ve){try{hu=0;var ze=St(ne,J,le,ve);return Oo=null,ze}catch(Ne){if(Ne===Mo||Ne===wh)throw Ne;var ht=jn(29,Ne,null,ne.mode);return ht.lanes=ve,ht.return=ne,ht}finally{}}}var Ra=i0(!0),r0=i0(!1),Cs=!1;function nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function js(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Es(r,s,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ft&2)!==0){var _=p.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),p.pending=s,s=Ta(r),ws(r,null,c),s}return hr(r,p,s,c),Ta(r)}function fu(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=r.pendingLanes,c|=p,s.lanes=c,Zc(r,c)}}function rm(r,s){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var _=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?_=S=N:S=S.next=N,c=c.next}while(c!==null);S===null?_=S=s:S=S.next=s}else _=S=s;c={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}var sm=!1;function mu(){if(sm){var r=No;if(r!==null)throw r}}function pu(r,s,c,p){sm=!1;var _=r.updateQueue;Cs=!1;var S=_.firstBaseUpdate,N=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var G=I,ue=G.next;G.next=null,N===null?S=ue:N.next=ue,N=G;var pe=r.alternate;pe!==null&&(pe=pe.updateQueue,I=pe.lastBaseUpdate,I!==N&&(I===null?pe.firstBaseUpdate=ue:I.next=ue,pe.lastBaseUpdate=G))}if(S!==null){var xe=_.baseState;N=0,pe=ue=G=null,I=S;do{var de=I.lane&-536870913,fe=de!==I.lane;if(fe?(at&de)===de:(p&de)===de){de!==0&&de===Ao&&(sm=!0),pe!==null&&(pe=pe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ae=r,Ue=I;de=s;var St=c;switch(Ue.tag){case 1:if(Ae=Ue.payload,typeof Ae=="function"){xe=Ae.call(St,xe,de);break e}xe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ue.payload,de=typeof Ae=="function"?Ae.call(St,xe,de):Ae,de==null)break e;xe=v({},xe,de);break e;case 2:Cs=!0}}de=I.callback,de!==null&&(r.flags|=64,fe&&(r.flags|=8192),fe=_.callbacks,fe===null?_.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:I.tag,payload:I.payload,callback:I.callback,next:null},pe===null?(ue=pe=fe,G=xe):pe=pe.next=fe,N|=de;if(I=I.next,I===null){if(I=_.shared.pending,I===null)break;fe=I,I=fe.next,fe.next=null,_.lastBaseUpdate=fe,_.shared.pending=null}}while(!0);pe===null&&(G=xe),_.baseState=G,_.firstBaseUpdate=ue,_.lastBaseUpdate=pe,S===null&&(_.shared.lanes=0),Ns|=N,r.lanes=N,r.memoizedState=xe}}function s0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function a0(r,s){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)s0(c[r],s)}var Po=H(null),Eh=H(0);function o0(r,s){r=Kr,z(Eh,r),z(Po,s),Kr=r|s.baseLanes}function am(){z(Eh,Kr),z(Po,Po.current)}function om(){Kr=Eh.current,X(Po),X(Eh)}var ai=H(null),ji=null;function Ts(r){var s=r.alternate;z(Gt,Gt.current&1),z(ai,r),ji===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(ji=r)}function lm(r){z(Gt,Gt.current),z(ai,r),ji===null&&(ji=r)}function l0(r){r.tag===22?(z(Gt,Gt.current),z(ai,r),ji===null&&(ji=r)):ks()}function ks(){z(Gt,Gt.current),z(ai,ai.current)}function oi(r){X(ai),ji===r&&(ji=null),X(Gt)}var Gt=H(0);function Th(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mp(c)||pp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ur=0,Ye=null,xt=null,Qt=null,kh=!1,Ro=!1,Da=!1,Lh=0,gu=0,Do=null,IE=0;function qt(){throw Error(i(321))}function um(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!fn(r[c],s[c]))return!1;return!0}function cm(r,s,c,p,_,S){return Ur=S,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?$0:jm,Da=!1,S=c(p,_),Da=!1,Ro&&(S=c0(s,c,p,_)),u0(r),S}function u0(r){F.H=bu;var s=xt!==null&&xt.next!==null;if(Ur=0,Qt=xt=Ye=null,kh=!1,gu=0,Do=null,s)throw Error(i(300));r===null||en||(r=r.dependencies,r!==null&&bh(r)&&(en=!0))}function c0(r,s,c,p){Ye=r;var _=0;do{if(Ro&&(Do=null),gu=0,Ro=!1,25<=_)throw Error(i(301));if(_+=1,Qt=xt=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}F.H=Z0,S=s(c,p)}while(Ro);return S}function UE(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?yu(s):s,r=r.useState()[0],(xt!==null?xt.memoizedState:null)!==r&&(Ye.flags|=1024),s}function hm(){var r=Lh!==0;return Lh=0,r}function dm(r,s,c){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~c}function fm(r){if(kh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kh=!1}Ur=0,Qt=xt=Ye=null,Ro=!1,gu=Lh=0,Do=null}function On(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ye.memoizedState=Qt=r:Qt=Qt.next=r,Qt}function Kt(){if(xt===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var s=Qt===null?Ye.memoizedState:Qt.next;if(s!==null)Qt=s,xt=r;else{if(r===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Qt===null?Ye.memoizedState=Qt=r:Qt=Qt.next=r}return Qt}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(r){var s=gu;return gu+=1,Do===null&&(Do=[]),r=e0(Do,r,s),s=Ye,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?$0:jm),r}function Nh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yu(r);if(r.$$typeof===M)return bn(r)}throw Error(i(438,String(r)))}function mm(r){var s=null,c=Ye.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ye.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Ah(),Ye.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(r),p=0;p<r;p++)c[p]=ae;return s.index++,c}function Vr(r,s){return typeof s=="function"?s(r):s}function Mh(r){var s=Kt();return pm(s,xt,r)}function pm(r,s,c){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=c;var _=r.baseQueue,S=p.pending;if(S!==null){if(_!==null){var N=_.next;_.next=S.next,S.next=N}s.baseQueue=_=S,p.pending=null}if(S=r.baseState,_===null)r.memoizedState=S;else{s=_.next;var I=N=null,G=null,ue=s,pe=!1;do{var xe=ue.lane&-536870913;if(xe!==ue.lane?(at&xe)===xe:(Ur&xe)===xe){var de=ue.revertLane;if(de===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),xe===Ao&&(pe=!0);else if((Ur&de)===de){ue=ue.next,de===Ao&&(pe=!0);continue}else xe={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},G===null?(I=G=xe,N=S):G=G.next=xe,Ye.lanes|=de,Ns|=de;xe=ue.action,Da&&c(S,xe),S=ue.hasEagerState?ue.eagerState:c(S,xe)}else de={lane:xe,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},G===null?(I=G=de,N=S):G=G.next=de,Ye.lanes|=xe,Ns|=xe;ue=ue.next}while(ue!==null&&ue!==s);if(G===null?N=S:G.next=I,!fn(S,r.memoizedState)&&(en=!0,pe&&(c=No,c!==null)))throw c;r.memoizedState=S,r.baseState=N,r.baseQueue=G,p.lastRenderedState=S}return _===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function gm(r){var s=Kt(),c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var p=c.dispatch,_=c.pending,S=s.memoizedState;if(_!==null){c.pending=null;var N=_=_.next;do S=r(S,N.action),N=N.next;while(N!==_);fn(S,s.memoizedState)||(en=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,p]}function h0(r,s,c){var p=Ye,_=Kt(),S=nt;if(S){if(c===void 0)throw Error(i(407));c=c()}else c=s();var N=!fn((xt||_).memoizedState,c);if(N&&(_.memoizedState=c,en=!0),_=_.queue,bm(m0.bind(null,p,_,r),[r]),_.getSnapshot!==s||N||Qt!==null&&Qt.memoizedState.tag&1){if(p.flags|=2048,zo(9,{destroy:void 0},f0.bind(null,p,_,c,s),null),jt===null)throw Error(i(349));S||(Ur&127)!==0||d0(p,s,c)}return c}function d0(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=Ye.updateQueue,s===null?(s=Ah(),Ye.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function f0(r,s,c,p){s.value=c,s.getSnapshot=p,p0(s)&&g0(r)}function m0(r,s,c){return c(function(){p0(s)&&g0(r)})}function p0(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!fn(r,c)}catch{return!0}}function g0(r){var s=Si(r,2);s!==null&&Wn(s,r,2)}function ym(r){var s=On();if(typeof r=="function"){var c=r;if(r=c(),Da){yn(!0);try{c()}finally{yn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:r},s}function y0(r,s,c,p){return r.baseState=c,pm(r,xt,typeof p=="function"?p:Vr)}function VE(r,s,c,p,_){if(Rh(r))throw Error(i(485));if(r=s.action,r!==null){var S={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};F.T!==null?c(!0):S.isTransition=!1,p(S),c=s.pending,c===null?(S.next=s.pending=S,v0(s,S)):(S.next=c.next,s.pending=c.next=S)}}function v0(r,s){var c=s.action,p=s.payload,_=r.state;if(s.isTransition){var S=F.T,N={};F.T=N;try{var I=c(_,p),G=F.S;G!==null&&G(N,I),b0(r,s,I)}catch(ue){vm(r,s,ue)}finally{S!==null&&N.types!==null&&(S.types=N.types),F.T=S}}else try{S=c(_,p),b0(r,s,S)}catch(ue){vm(r,s,ue)}}function b0(r,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){_0(r,s,p)},function(p){return vm(r,s,p)}):_0(r,s,c)}function _0(r,s,c){s.status="fulfilled",s.value=c,x0(s),r.state=c,s=r.pending,s!==null&&(c=s.next,c===s?r.pending=null:(c=c.next,s.next=c,v0(r,c)))}function vm(r,s,c){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,x0(s),s=s.next;while(s!==p)}r.action=null}function x0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function w0(r,s){return s}function S0(r,s){if(nt){var c=jt.formState;if(c!==null){e:{var p=Ye;if(nt){if(ct){t:{for(var _=ct,S=qn;_.nodeType!==8;){if(!S){_=null;break t}if(_=Ei(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){ct=Ei(_.nextSibling),p=_.data==="F!";break e}}fr(p)}p=!1}p&&(s=c[0])}}return c=On(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w0,lastRenderedState:s},c.queue=p,c=H0.bind(null,Ye,p),p.dispatch=c,p=ym(!1),S=Cm.bind(null,Ye,!1,p.queue),p=On(),_={state:s,dispatch:null,action:r,pending:null},p.queue=_,c=VE.bind(null,Ye,_,S,c),_.dispatch=c,p.memoizedState=r,[s,c,!1]}function C0(r){var s=Kt();return j0(s,xt,r)}function j0(r,s,c){if(s=pm(r,s,w0)[0],r=Mh(Vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=yu(s)}catch(N){throw N===Mo?wh:N}else p=s;s=Kt();var _=s.queue,S=_.dispatch;return c!==s.memoizedState&&(Ye.flags|=2048,zo(9,{destroy:void 0},HE.bind(null,_,c),null)),[p,S,r]}function HE(r,s){r.action=s}function E0(r){var s=Kt(),c=xt;if(c!==null)return j0(s,c,r);Kt(),s=s.memoizedState,c=Kt();var p=c.queue.dispatch;return c.memoizedState=r,[s,p,!1]}function zo(r,s,c,p){return r={tag:r,create:c,deps:p,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Ah(),Ye.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,s.lastEffect=r),r}function T0(){return Kt().memoizedState}function Oh(r,s,c,p){var _=On();Ye.flags|=r,_.memoizedState=zo(1|s,{destroy:void 0},c,p===void 0?null:p)}function Ph(r,s,c,p){var _=Kt();p=p===void 0?null:p;var S=_.memoizedState.inst;xt!==null&&p!==null&&um(p,xt.memoizedState.deps)?_.memoizedState=zo(s,S,c,p):(Ye.flags|=r,_.memoizedState=zo(1|s,S,c,p))}function k0(r,s){Oh(8390656,8,r,s)}function bm(r,s){Ph(2048,8,r,s)}function FE(r){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=Ah(),Ye.updateQueue=s,s.events=[r];else{var c=s.events;c===null?s.events=[r]:c.push(r)}}function L0(r){var s=Kt().memoizedState;return FE({ref:s,nextImpl:r}),function(){if((ft&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function A0(r,s){return Ph(4,2,r,s)}function N0(r,s){return Ph(4,4,r,s)}function M0(r,s){if(typeof s=="function"){r=r();var c=s(r);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function O0(r,s,c){c=c!=null?c.concat([r]):null,Ph(4,4,M0.bind(null,s,r),c)}function _m(){}function P0(r,s){var c=Kt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&um(s,p[1])?p[0]:(c.memoizedState=[r,s],r)}function R0(r,s){var c=Kt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&um(s,p[1]))return p[0];if(p=r(),Da){yn(!0);try{r()}finally{yn(!1)}}return c.memoizedState=[p,s],p}function xm(r,s,c){return c===void 0||(Ur&1073741824)!==0&&(at&261930)===0?r.memoizedState=s:(r.memoizedState=c,r=Db(),Ye.lanes|=r,Ns|=r,c)}function D0(r,s,c,p){return fn(c,s)?c:Po.current!==null?(r=xm(r,c,p),fn(r,s)||(en=!0),r):(Ur&42)===0||(Ur&1073741824)!==0&&(at&261930)===0?(en=!0,r.memoizedState=c):(r=Db(),Ye.lanes|=r,Ns|=r,s)}function z0(r,s,c,p,_){var S=ee.p;ee.p=S!==0&&8>S?S:8;var N=F.T,I={};F.T=I,Cm(r,!1,s,c);try{var G=_(),ue=F.S;if(ue!==null&&ue(I,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=BE(G,p);vu(r,s,pe,ci(r))}else vu(r,s,p,ci(r))}catch(xe){vu(r,s,{then:function(){},status:"rejected",reason:xe},ci())}finally{ee.p=S,N!==null&&I.types!==null&&(N.types=I.types),F.T=N}}function qE(){}function wm(r,s,c,p){if(r.tag!==5)throw Error(i(476));var _=B0(r).queue;z0(r,_,s,Y,c===null?qE:function(){return I0(r),c(p)})}function B0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:Y},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:c},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function I0(r){var s=B0(r);s.next===null&&(s=r.alternate.memoizedState),vu(r,s.next.queue,{},ci())}function Sm(){return bn(Ru)}function U0(){return Kt().memoizedState}function V0(){return Kt().memoizedState}function $E(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var c=ci();r=js(c);var p=Es(s,r,c);p!==null&&(Wn(p,s,c),fu(p,s,c)),s={cache:Jf()},r.payload=s;return}s=s.return}}function ZE(r,s,c){var p=ci();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rh(r)?F0(s,c):(c=iu(r,s,c,p),c!==null&&(Wn(c,r,p),q0(c,s,p)))}function H0(r,s,c){var p=ci();vu(r,s,c,p)}function vu(r,s,c,p){var _={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rh(r))F0(s,_);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var N=s.lastRenderedState,I=S(N,c);if(_.hasEagerState=!0,_.eagerState=I,fn(I,N))return hr(r,s,_,0),jt===null&&Ea(),!1}catch{}finally{}if(c=iu(r,s,_,p),c!==null)return Wn(c,r,p),q0(c,s,p),!0}return!1}function Cm(r,s,c,p){if(p={lane:2,revertLane:np(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Rh(r)){if(s)throw Error(i(479))}else s=iu(r,c,p,2),s!==null&&Wn(s,r,2)}function Rh(r){var s=r.alternate;return r===Ye||s!==null&&s===Ye}function F0(r,s){Ro=kh=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function q0(r,s,c){if((c&4194048)!==0){var p=s.lanes;p&=r.pendingLanes,c|=p,s.lanes=c,Zc(r,c)}}var bu={readContext:bn,use:Nh,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};bu.useEffectEvent=qt;var $0={readContext:bn,use:Nh,useCallback:function(r,s){return On().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:k0,useImperativeHandle:function(r,s,c){c=c!=null?c.concat([r]):null,Oh(4194308,4,M0.bind(null,s,r),c)},useLayoutEffect:function(r,s){return Oh(4194308,4,r,s)},useInsertionEffect:function(r,s){Oh(4,2,r,s)},useMemo:function(r,s){var c=On();s=s===void 0?null:s;var p=r();if(Da){yn(!0);try{r()}finally{yn(!1)}}return c.memoizedState=[p,s],p},useReducer:function(r,s,c){var p=On();if(c!==void 0){var _=c(s);if(Da){yn(!0);try{c(s)}finally{yn(!1)}}}else _=s;return p.memoizedState=p.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},p.queue=r,r=r.dispatch=ZE.bind(null,Ye,r),[p.memoizedState,r]},useRef:function(r){var s=On();return r={current:r},s.memoizedState=r},useState:function(r){r=ym(r);var s=r.queue,c=H0.bind(null,Ye,s);return s.dispatch=c,[r.memoizedState,c]},useDebugValue:_m,useDeferredValue:function(r,s){var c=On();return xm(c,r,s)},useTransition:function(){var r=ym(!1);return r=z0.bind(null,Ye,r.queue,!0,!1),On().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,c){var p=Ye,_=On();if(nt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=s(),jt===null)throw Error(i(349));(at&127)!==0||d0(p,s,c)}_.memoizedState=c;var S={value:c,getSnapshot:s};return _.queue=S,k0(m0.bind(null,p,S,r),[r]),p.flags|=2048,zo(9,{destroy:void 0},f0.bind(null,p,S,c,s),null),c},useId:function(){var r=On(),s=jt.identifierPrefix;if(nt){var c=Te,p=_e;c=(p&~(1<<32-yt(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Lh++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=IE++,s="_"+s+"r_"+c.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Sm,useFormState:S0,useActionState:S0,useOptimistic:function(r){var s=On();s.memoizedState=s.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Cm.bind(null,Ye,!0,c),c.dispatch=s,[r,s]},useMemoCache:mm,useCacheRefresh:function(){return On().memoizedState=$E.bind(null,Ye)},useEffectEvent:function(r){var s=On(),c={impl:r};return s.memoizedState=c,function(){if((ft&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},jm={readContext:bn,use:Nh,useCallback:P0,useContext:bn,useEffect:bm,useImperativeHandle:O0,useInsertionEffect:A0,useLayoutEffect:N0,useMemo:R0,useReducer:Mh,useRef:T0,useState:function(){return Mh(Vr)},useDebugValue:_m,useDeferredValue:function(r,s){var c=Kt();return D0(c,xt.memoizedState,r,s)},useTransition:function(){var r=Mh(Vr)[0],s=Kt().memoizedState;return[typeof r=="boolean"?r:yu(r),s]},useSyncExternalStore:h0,useId:U0,useHostTransitionStatus:Sm,useFormState:C0,useActionState:C0,useOptimistic:function(r,s){var c=Kt();return y0(c,xt,r,s)},useMemoCache:mm,useCacheRefresh:V0};jm.useEffectEvent=L0;var Z0={readContext:bn,use:Nh,useCallback:P0,useContext:bn,useEffect:bm,useImperativeHandle:O0,useInsertionEffect:A0,useLayoutEffect:N0,useMemo:R0,useReducer:gm,useRef:T0,useState:function(){return gm(Vr)},useDebugValue:_m,useDeferredValue:function(r,s){var c=Kt();return xt===null?xm(c,r,s):D0(c,xt.memoizedState,r,s)},useTransition:function(){var r=gm(Vr)[0],s=Kt().memoizedState;return[typeof r=="boolean"?r:yu(r),s]},useSyncExternalStore:h0,useId:U0,useHostTransitionStatus:Sm,useFormState:E0,useActionState:E0,useOptimistic:function(r,s){var c=Kt();return xt!==null?y0(c,xt,r,s):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:mm,useCacheRefresh:V0};Z0.useEffectEvent=L0;function Em(r,s,c,p){s=r.memoizedState,c=c(p,s),c=c==null?s:v({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Tm={enqueueSetState:function(r,s,c){r=r._reactInternals;var p=ci(),_=js(p);_.payload=s,c!=null&&(_.callback=c),s=Es(r,_,p),s!==null&&(Wn(s,r,p),fu(s,r,p))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var p=ci(),_=js(p);_.tag=1,_.payload=s,c!=null&&(_.callback=c),s=Es(r,_,p),s!==null&&(Wn(s,r,p),fu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=ci(),p=js(c);p.tag=2,s!=null&&(p.callback=s),s=Es(r,p,c),s!==null&&(Wn(s,r,c),fu(s,r,c))}};function G0(r,s,c,p,_,S,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,S,N):s.prototype&&s.prototype.isPureReactComponent?!vs(c,p)||!vs(_,S):!0}function K0(r,s,c,p){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==r&&Tm.enqueueReplaceState(s,s.state,null)}function za(r,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(r=r.defaultProps){c===s&&(c=v({},c));for(var _ in r)c[_]===void 0&&(c[_]=r[_])}return c}function W0(r){ja(r)}function Y0(r){console.error(r)}function X0(r){ja(r)}function Dh(r,s){try{var c=r.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function J0(r,s,c){try{var p=r.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function km(r,s,c){return c=js(c),c.tag=3,c.payload={element:null},c.callback=function(){Dh(r,s)},c}function Q0(r){return r=js(r),r.tag=3,r}function eb(r,s,c,p){var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var S=p.value;r.payload=function(){return _(S)},r.callback=function(){J0(s,c,p)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){J0(s,c,p),typeof _!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function GE(r,s,c,p,_){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Lo(s,c,_,!0),c=ai.current,c!==null){switch(c.tag){case 31:case 13:return ji===null?Kh():c.alternate===null&&$t===0&&($t=3),c.flags&=-257,c.flags|=65536,c.lanes=_,p===Sh?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Qm(r,p,_)),!1;case 22:return c.flags|=65536,p===Sh?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Qm(r,p,_)),!1}throw Error(i(435,c.tag))}return Qm(r,p,_),Kh(),!1}if(nt)return s=ai.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,p!==ko&&(r=Error(i(422),{cause:p}),La(m(r,c)))):(p!==ko&&(s=Error(i(423),{cause:p}),La(m(s,c))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,p=m(p,c),_=km(r.stateNode,p,_),rm(r,_),$t!==4&&($t=2)),!1;var S=Error(i(520),{cause:p});if(S=m(S,c),Tu===null?Tu=[S]:Tu.push(S),$t!==4&&($t=2),s===null)return!0;p=m(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,r=_&-_,c.lanes|=r,r=km(c.stateNode,p,r),rm(c,r),!1;case 1:if(s=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ms===null||!Ms.has(S))))return c.flags|=65536,_&=-_,c.lanes|=_,_=Q0(_),eb(_,r,c,p),rm(c,_),!1}c=c.return}while(c!==null);return!1}var Lm=Error(i(461)),en=!1;function _n(r,s,c,p){s.child=r===null?r0(s,null,c,p):Ra(s,r.child,c,p)}function tb(r,s,c,p,_){c=c.render;var S=s.ref;if("ref"in p){var N={};for(var I in p)I!=="ref"&&(N[I]=p[I])}else N=p;return Na(s),p=cm(r,s,c,N,S,_),I=hm(),r!==null&&!en?(dm(r,s,_),Hr(r,s,_)):(nt&&I&&on(s),s.flags|=1,_n(r,s,p,_),s.child)}function nb(r,s,c,p,_){if(r===null){var S=c.type;return typeof S=="function"&&!Eo(S)&&S.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=S,ib(r,s,S,p,_)):(r=ka(c.type,null,p,s,s.mode,_),r.ref=s.ref,r.return=s,s.child=r)}if(S=r.child,!zm(r,_)){var N=S.memoizedProps;if(c=c.compare,c=c!==null?c:vs,c(N,p)&&r.ref===s.ref)return Hr(r,s,_)}return s.flags|=1,r=Ci(S,p),r.ref=s.ref,r.return=s,s.child=r}function ib(r,s,c,p,_){if(r!==null){var S=r.memoizedProps;if(vs(S,p)&&r.ref===s.ref)if(en=!1,s.pendingProps=p=S,zm(r,_))(r.flags&131072)!==0&&(en=!0);else return s.lanes=r.lanes,Hr(r,s,_)}return Am(r,s,c,p,_)}function rb(r,s,c,p){var _=p.children,S=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,r!==null){for(p=s.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~S}else p=0,s.child=null;return sb(r,s,S,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&xh(s,S!==null?S.cachePool:null),S!==null?o0(s,S):am(),l0(s);else return p=s.lanes=536870912,sb(r,s,S!==null?S.baseLanes|c:c,c,p)}else S!==null?(xh(s,S.cachePool),o0(s,S),ks(),s.memoizedState=null):(r!==null&&xh(s,null),am(),ks());return _n(r,s,_,c),s.child}function _u(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function sb(r,s,c,p,_){var S=em();return S=S===null?null:{parent:Jt._currentValue,pool:S},s.memoizedState={baseLanes:c,cachePool:S},r!==null&&xh(s,null),am(),l0(s),r!==null&&Lo(r,s,p,!0),s.childLanes=_,null}function zh(r,s){return s=Ih({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function ab(r,s,c){return Ra(s,r.child,null,c),r=zh(s,s.pendingProps),r.flags|=2,oi(s),s.memoizedState=null,r}function KE(r,s,c){var p=s.pendingProps,_=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(nt){if(p.mode==="hidden")return r=zh(s,p),s.lanes=536870912,_u(null,r);if(lm(s),(r=ct)?(r=v_(r,qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:he!==null?{id:_e,overflow:Te}:null,retryLane:536870912,hydrationErrors:null},c=su(r),c.return=s,s.child=c,ut=s,ct=null)):r=null,r===null)throw fr(s);return s.lanes=536870912,null}return zh(s,p)}var S=r.memoizedState;if(S!==null){var N=S.dehydrated;if(lm(s),_)if(s.flags&256)s.flags&=-257,s=ab(r,s,c);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(en||Lo(r,s,c,!1),_=(c&r.childLanes)!==0,en||_){if(p=jt,p!==null&&(N=Gc(p,c),N!==0&&N!==S.retryLane))throw S.retryLane=N,Si(r,N),Wn(p,r,N),Lm;Kh(),s=ab(r,s,c)}else r=S.treeContext,ct=Ei(N.nextSibling),ut=s,nt=!0,dr=null,qn=!1,r!==null&&Mn(s,r),s=zh(s,p),s.flags|=4096;return s}return r=Ci(r.child,{mode:p.mode,children:p.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Bh(r,s){var c=s.ref;if(c===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(s.flags|=4194816)}}function Am(r,s,c,p,_){return Na(s),c=cm(r,s,c,p,void 0,_),p=hm(),r!==null&&!en?(dm(r,s,_),Hr(r,s,_)):(nt&&p&&on(s),s.flags|=1,_n(r,s,c,_),s.child)}function ob(r,s,c,p,_,S){return Na(s),s.updateQueue=null,c=c0(s,p,c,_),u0(r),p=hm(),r!==null&&!en?(dm(r,s,S),Hr(r,s,S)):(nt&&p&&on(s),s.flags|=1,_n(r,s,c,S),s.child)}function lb(r,s,c,p,_){if(Na(s),s.stateNode===null){var S=Dr,N=c.contextType;typeof N=="object"&&N!==null&&(S=bn(N)),S=new c(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Tm,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},nm(s),N=c.contextType,S.context=typeof N=="object"&&N!==null?bn(N):Dr,S.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Em(s,c,N,p),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Tm.enqueueReplaceState(S,S.state,null),pu(s,p,S,_),mu(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(r===null){S=s.stateNode;var I=s.memoizedProps,G=za(c,I);S.props=G;var ue=S.context,pe=c.contextType;N=Dr,typeof pe=="object"&&pe!==null&&(N=bn(pe));var xe=c.getDerivedStateFromProps;pe=typeof xe=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,pe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||ue!==N)&&K0(s,S,p,N),Cs=!1;var de=s.memoizedState;S.state=de,pu(s,p,S,_),mu(),ue=s.memoizedState,I||de!==ue||Cs?(typeof xe=="function"&&(Em(s,c,xe,p),ue=s.memoizedState),(G=Cs||G0(s,c,G,p,de,ue,N))?(pe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ue),S.props=p,S.state=ue,S.context=N,p=G):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,im(r,s),N=s.memoizedProps,pe=za(c,N),S.props=pe,xe=s.pendingProps,de=S.context,ue=c.contextType,G=Dr,typeof ue=="object"&&ue!==null&&(G=bn(ue)),I=c.getDerivedStateFromProps,(ue=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==xe||de!==G)&&K0(s,S,p,G),Cs=!1,de=s.memoizedState,S.state=de,pu(s,p,S,_),mu();var fe=s.memoizedState;N!==xe||de!==fe||Cs||r!==null&&r.dependencies!==null&&bh(r.dependencies)?(typeof I=="function"&&(Em(s,c,I,p),fe=s.memoizedState),(pe=Cs||G0(s,c,pe,p,de,fe,G)||r!==null&&r.dependencies!==null&&bh(r.dependencies))?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,fe,G),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,fe,G)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=fe),S.props=p,S.state=fe,S.context=G,p=pe):(typeof S.componentDidUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),p=!1)}return S=p,Bh(r,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,r!==null&&p?(s.child=Ra(s,r.child,null,_),s.child=Ra(s,null,c,_)):_n(r,s,c,_),s.memoizedState=S.state,r=s.child):r=Hr(r,s,_),r}function ub(r,s,c,p){return Br(),s.flags|=256,_n(r,s,c,p),s.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(r){return{baseLanes:r,cachePool:Jv()}}function Om(r,s,c){return r=r!==null?r.childLanes&~c:0,s&&(r|=ui),r}function cb(r,s,c){var p=s.pendingProps,_=!1,S=(s.flags&128)!==0,N;if((N=S)||(N=r!==null&&r.memoizedState===null?!1:(Gt.current&2)!==0),N&&(_=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,r===null){if(nt){if(_?Ts(s):ks(),(r=ct)?(r=v_(r,qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:he!==null?{id:_e,overflow:Te}:null,retryLane:536870912,hydrationErrors:null},c=su(r),c.return=s,s.child=c,ut=s,ct=null)):r=null,r===null)throw fr(s);return pp(r)?s.lanes=32:s.lanes=536870912,null}var I=p.children;return p=p.fallback,_?(ks(),_=s.mode,I=Ih({mode:"hidden",children:I},_),p=zr(p,_,c,null),I.return=s,p.return=s,I.sibling=p,s.child=I,p=s.child,p.memoizedState=Mm(c),p.childLanes=Om(r,N,c),s.memoizedState=Nm,_u(null,p)):(Ts(s),Pm(s,I))}var G=r.memoizedState;if(G!==null&&(I=G.dehydrated,I!==null)){if(S)s.flags&256?(Ts(s),s.flags&=-257,s=Rm(r,s,c)):s.memoizedState!==null?(ks(),s.child=r.child,s.flags|=128,s=null):(ks(),I=p.fallback,_=s.mode,p=Ih({mode:"visible",children:p.children},_),I=zr(I,_,c,null),I.flags|=2,p.return=s,I.return=s,p.sibling=I,s.child=p,Ra(s,r.child,null,c),p=s.child,p.memoizedState=Mm(c),p.childLanes=Om(r,N,c),s.memoizedState=Nm,s=_u(null,p));else if(Ts(s),pp(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var ue=N.dgst;N=ue,p=Error(i(419)),p.stack="",p.digest=N,La({value:p,source:null,stack:null}),s=Rm(r,s,c)}else if(en||Lo(r,s,c,!1),N=(c&r.childLanes)!==0,en||N){if(N=jt,N!==null&&(p=Gc(N,c),p!==0&&p!==G.retryLane))throw G.retryLane=p,Si(r,p),Wn(N,r,p),Lm;mp(I)||Kh(),s=Rm(r,s,c)}else mp(I)?(s.flags|=192,s.child=r.child,s=null):(r=G.treeContext,ct=Ei(I.nextSibling),ut=s,nt=!0,dr=null,qn=!1,r!==null&&Mn(s,r),s=Pm(s,p.children),s.flags|=4096);return s}return _?(ks(),I=p.fallback,_=s.mode,G=r.child,ue=G.sibling,p=Ci(G,{mode:"hidden",children:p.children}),p.subtreeFlags=G.subtreeFlags&65011712,ue!==null?I=Ci(ue,I):(I=zr(I,_,c,null),I.flags|=2),I.return=s,p.return=s,p.sibling=I,s.child=p,_u(null,p),p=s.child,I=r.child.memoizedState,I===null?I=Mm(c):(_=I.cachePool,_!==null?(G=Jt._currentValue,_=_.parent!==G?{parent:G,pool:G}:_):_=Jv(),I={baseLanes:I.baseLanes|c,cachePool:_}),p.memoizedState=I,p.childLanes=Om(r,N,c),s.memoizedState=Nm,_u(r.child,p)):(Ts(s),c=r.child,r=c.sibling,c=Ci(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,r!==null&&(N=s.deletions,N===null?(s.deletions=[r],s.flags|=16):N.push(r)),s.child=c,s.memoizedState=null,c)}function Pm(r,s){return s=Ih({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ih(r,s){return r=jn(22,r,null,s),r.lanes=0,r}function Rm(r,s,c){return Ra(s,r.child,null,c),r=Pm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function hb(r,s,c){r.lanes|=s;var p=r.alternate;p!==null&&(p.lanes|=s),Yf(r.return,s,c)}function Dm(r,s,c,p,_,S){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:_,treeForkCount:S}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=c,N.tailMode=_,N.treeForkCount=S)}function db(r,s,c){var p=s.pendingProps,_=p.revealOrder,S=p.tail;p=p.children;var N=Gt.current,I=(N&2)!==0;if(I?(N=N&1|2,s.flags|=128):N&=1,z(Gt,N),_n(r,s,p,c),p=nt?D:0,!I&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hb(r,c,s);else if(r.tag===19)hb(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(_){case"forwards":for(c=s.child,_=null;c!==null;)r=c.alternate,r!==null&&Th(r)===null&&(_=c),c=c.sibling;c=_,c===null?(_=s.child,s.child=null):(_=c.sibling,c.sibling=null),Dm(s,!1,_,c,S,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,_=s.child,s.child=null;_!==null;){if(r=_.alternate,r!==null&&Th(r)===null){s.child=_;break}r=_.sibling,_.sibling=c,c=_,_=r}Dm(s,!0,c,null,S,p);break;case"together":Dm(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Hr(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,(c&s.childLanes)===0)if(r!==null){if(Lo(r,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,c=Ci(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=Ci(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function zm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&bh(r)))}function WE(r,s,c){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),Ss(s,Jt,r.memoizedState.cache),Br();break;case 27:case 5:ke(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:Ss(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lm(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Ts(s),s.flags|=128,null):(c&s.child.childLanes)!==0?cb(r,s,c):(Ts(s),r=Hr(r,s,c),r!==null?r.sibling:null);Ts(s);break;case 19:var _=(r.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Lo(r,s,c,!1),p=(c&s.childLanes)!==0),_){if(p)return db(r,s,c);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),z(Gt,Gt.current),p)break;return null;case 22:return s.lanes=0,rb(r,s,c,s.pendingProps);case 24:Ss(s,Jt,r.memoizedState.cache)}return Hr(r,s,c)}function fb(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps)en=!0;else{if(!zm(r,c)&&(s.flags&128)===0)return en=!1,WE(r,s,c);en=(r.flags&131072)!==0}else en=!1,nt&&(s.flags&1048576)!==0&&Xe(s,D,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(r=Oa(s.elementType),s.type=r,typeof r=="function")Eo(r)?(p=za(r,p),s.tag=1,s=lb(null,s,r,p,c)):(s.tag=0,s=Am(null,s,r,p,c));else{if(r!=null){var _=r.$$typeof;if(_===U){s.tag=11,s=tb(null,s,r,p,c);break e}else if(_===q){s.tag=14,s=nb(null,s,r,p,c);break e}}throw s=re(r)||r,Error(i(306,s,""))}}return s;case 0:return Am(r,s,s.type,s.pendingProps,c);case 1:return p=s.type,_=za(p,s.pendingProps),lb(r,s,p,_,c);case 3:e:{if(Re(s,s.stateNode.containerInfo),r===null)throw Error(i(387));p=s.pendingProps;var S=s.memoizedState;_=S.element,im(r,s),pu(s,p,null,c);var N=s.memoizedState;if(p=N.cache,Ss(s,Jt,p),p!==S.cache&&Xf(s,[Jt],c,!0),mu(),p=N.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=ub(r,s,p,c);break e}else if(p!==_){_=m(Error(i(424)),s),La(_),s=ub(r,s,p,c);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ct=Ei(r.firstChild),ut=s,nt=!0,dr=null,qn=!0,c=r0(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Br(),p===_){s=Hr(r,s,c);break e}_n(r,s,p,c)}s=s.child}return s;case 26:return Bh(r,s),r===null?(c=C_(s.type,null,s.pendingProps,null))?s.memoizedState=c:nt||(c=s.type,r=s.pendingProps,p=td(me.current).createElement(c),p[Yt]=s,p[dn]=r,xn(p,c,r),Xt(p),s.stateNode=p):s.memoizedState=C_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ke(s),r===null&&nt&&(p=s.stateNode=x_(s.type,s.pendingProps,me.current),ut=s,qn=!0,_=ct,Ds(s.type)?(gp=_,ct=Ei(p.firstChild)):ct=_),_n(r,s,s.pendingProps.children,c),Bh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&nt&&((_=p=ct)&&(p=jT(p,s.type,s.pendingProps,qn),p!==null?(s.stateNode=p,ut=s,ct=Ei(p.firstChild),qn=!1,_=!0):_=!1),_||fr(s)),ke(s),_=s.type,S=s.pendingProps,N=r!==null?r.memoizedProps:null,p=S.children,hp(_,S)?p=null:N!==null&&hp(_,N)&&(s.flags|=32),s.memoizedState!==null&&(_=cm(r,s,UE,null,null,c),Ru._currentValue=_),Bh(r,s),_n(r,s,p,c),s.child;case 6:return r===null&&nt&&((r=c=ct)&&(c=ET(c,s.pendingProps,qn),c!==null?(s.stateNode=c,ut=s,ct=null,r=!0):r=!1),r||fr(s)),null;case 13:return cb(r,s,c);case 4:return Re(s,s.stateNode.containerInfo),p=s.pendingProps,r===null?s.child=Ra(s,null,p,c):_n(r,s,p,c),s.child;case 11:return tb(r,s,s.type,s.pendingProps,c);case 7:return _n(r,s,s.pendingProps,c),s.child;case 8:return _n(r,s,s.pendingProps.children,c),s.child;case 12:return _n(r,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Ss(s,s.type,p.value),_n(r,s,p.children,c),s.child;case 9:return _=s.type._context,p=s.pendingProps.children,Na(s),_=bn(_),p=p(_),s.flags|=1,_n(r,s,p,c),s.child;case 14:return nb(r,s,s.type,s.pendingProps,c);case 15:return ib(r,s,s.type,s.pendingProps,c);case 19:return db(r,s,c);case 31:return KE(r,s,c);case 22:return rb(r,s,c,s.pendingProps);case 24:return Na(s),p=bn(Jt),r===null?(_=em(),_===null&&(_=jt,S=Jf(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=c),_=S),s.memoizedState={parent:p,cache:_},nm(s),Ss(s,Jt,_)):((r.lanes&c)!==0&&(im(r,s),pu(s,null,null,c),mu()),_=r.memoizedState,S=s.memoizedState,_.parent!==p?(_={parent:p,cache:p},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Ss(s,Jt,p)):(p=S.cache,Ss(s,Jt,p),p!==_.cache&&Xf(s,[Jt],c,!0))),_n(r,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Fr(r){r.flags|=4}function Bm(r,s,c,p,_){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(_&335544128)===_)if(r.stateNode.complete)r.flags|=8192;else if(Ub())r.flags|=8192;else throw Pa=Sh,tm}else r.flags&=-16777217}function mb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!L_(s))if(Ub())r.flags|=8192;else throw Pa=Sh,tm}function Uh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?qc():536870912,r.lanes|=s,Vo|=s)}function xu(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function At(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(s)for(var _=r.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=p,r.childLanes=c,s}function YE(r,s,c){var p=s.pendingProps;switch(Ft(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return c=s.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ir(Jt),be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Fi(s)?Fr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lu())),At(s),null;case 26:var _=s.type,S=s.memoizedState;return r===null?(Fr(s),S!==null?(At(s),mb(s,S)):(At(s),Bm(s,_,null,p,c))):S?S!==r.memoizedState?(Fr(s),At(s),mb(s,S)):(At(s),s.flags&=-16777217):(r=r.memoizedProps,r!==p&&Fr(s),At(s),Bm(s,_,r,p,c)),null;case 27:if(Ve(s),c=me.current,_=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==p&&Fr(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return At(s),null}r=W.current,Fi(s)?ou(s):(r=x_(_,p,c),s.stateNode=r,Fr(s))}return At(s),null;case 5:if(Ve(s),_=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==p&&Fr(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return At(s),null}if(S=W.current,Fi(s))ou(s);else{var N=td(me.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?N.createElement(_,{is:p.is}):N.createElement(_)}}S[Yt]=s,S[dn]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=S;e:switch(xn(S,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Fr(s)}}return At(s),Bm(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,c),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==p&&Fr(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(i(166));if(r=me.current,Fi(s)){if(r=s.stateNode,c=s.memoizedProps,p=null,_=ut,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}r[Yt]=s,r=!!(r.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||c_(r.nodeValue,c)),r||fr(s,!0)}else r=td(r).createTextNode(p),r[Yt]=s,s.stateNode=r}return At(s),null;case 31:if(c=s.memoizedState,r===null||r.memoizedState!==null){if(p=Fi(s),c!==null){if(r===null){if(!p)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Yt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),r=!1}else c=lu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return s.flags&256?(oi(s),s):(oi(s),null);if((s.flags&128)!==0)throw Error(i(558))}return At(s),null;case 13:if(p=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=Fi(s),p!==null&&p.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Yt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),_=!1}else _=lu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(oi(s),s):(oi(s),null)}return oi(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,r=r!==null&&r.memoizedState!==null,c&&(p=s.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==_&&(p.flags|=2048)),c!==r&&c&&(s.child.flags|=8192),Uh(s,s.updateQueue),At(s),null);case 4:return be(),r===null&&ap(s.stateNode.containerInfo),At(s),null;case 10:return Ir(s.type),At(s),null;case 19:if(X(Gt),p=s.memoizedState,p===null)return At(s),null;if(_=(s.flags&128)!==0,S=p.rendering,S===null)if(_)xu(p,!1);else{if($t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=Th(r),S!==null){for(s.flags|=128,xu(p,!1),r=S.updateQueue,s.updateQueue=r,Uh(s,r),s.subtreeFlags=0,r=c,c=s.child;c!==null;)ru(c,r),c=c.sibling;return z(Gt,Gt.current&1|2),nt&&Pe(s,p.treeForkCount),s.child}r=r.sibling}p.tail!==null&&gn()>$h&&(s.flags|=128,_=!0,xu(p,!1),s.lanes=4194304)}else{if(!_)if(r=Th(S),r!==null){if(s.flags|=128,_=!0,r=r.updateQueue,s.updateQueue=r,Uh(s,r),xu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!nt)return At(s),null}else 2*gn()-p.renderingStartTime>$h&&c!==536870912&&(s.flags|=128,_=!0,xu(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(r=p.last,r!==null?r.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=gn(),r.sibling=null,c=Gt.current,z(Gt,_?c&1|2:c&1),nt&&Pe(s,p.treeForkCount),r):(At(s),null);case 22:case 23:return oi(s),om(),p=s.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),c=s.updateQueue,c!==null&&Uh(s,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),r!==null&&X(Ma),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ir(Jt),At(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function XE(r,s){switch(Ft(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ir(Jt),be(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 31:if(s.memoizedState!==null){if(oi(s),s.alternate===null)throw Error(i(340));Br()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(oi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Br()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return X(Gt),null;case 4:return be(),null;case 10:return Ir(s.type),null;case 22:case 23:return oi(s),om(),r!==null&&X(Ma),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ir(Jt),null;case 25:return null;default:return null}}function pb(r,s){switch(Ft(s),s.tag){case 3:Ir(Jt),be();break;case 26:case 27:case 5:Ve(s);break;case 4:be();break;case 31:s.memoizedState!==null&&oi(s);break;case 13:oi(s);break;case 19:X(Gt);break;case 10:Ir(s.type);break;case 22:case 23:oi(s),om(),r!==null&&X(Ma);break;case 24:Ir(Jt)}}function wu(r,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&r)===r){p=void 0;var S=c.create,N=c.inst;p=S(),N.destroy=p}c=c.next}while(c!==_)}}catch(I){bt(s,s.return,I)}}function Ls(r,s,c){try{var p=s.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var S=_.next;p=S;do{if((p.tag&r)===r){var N=p.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,_=s;var G=c,ue=I;try{ue()}catch(pe){bt(_,G,pe)}}}p=p.next}while(p!==S)}}catch(pe){bt(s,s.return,pe)}}function gb(r){var s=r.updateQueue;if(s!==null){var c=r.stateNode;try{a0(s,c)}catch(p){bt(r,r.return,p)}}}function yb(r,s,c){c.props=za(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(p){bt(r,s,p)}}function Su(r,s){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof c=="function"?r.refCleanup=c(p):c.current=p}}catch(_){bt(r,s,_)}}function pr(r,s){var c=r.ref,p=r.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(_){bt(r,s,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(_){bt(r,s,_)}else c.current=null}function vb(r){var s=r.type,c=r.memoizedProps,p=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(_){bt(r,r.return,_)}}function Im(r,s,c){try{var p=r.stateNode;bT(p,r.type,c,s),p[dn]=s}catch(_){bt(r,r.return,_)}}function bb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ds(r.type)||r.tag===4}function Um(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ds(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vm(r,s,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(r),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Un));else if(p!==4&&(p===27&&Ds(r.type)&&(c=r.stateNode,s=null),r=r.child,r!==null))for(Vm(r,s,c),r=r.sibling;r!==null;)Vm(r,s,c),r=r.sibling}function Vh(r,s,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?c.insertBefore(r,s):c.appendChild(r);else if(p!==4&&(p===27&&Ds(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Vh(r,s,c),r=r.sibling;r!==null;)Vh(r,s,c),r=r.sibling}function _b(r){var s=r.stateNode,c=r.memoizedProps;try{for(var p=r.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);xn(s,p,c),s[Yt]=r,s[dn]=c}catch(S){bt(r,r.return,S)}}var qr=!1,tn=!1,Hm=!1,xb=typeof WeakSet=="function"?WeakSet:Set,pn=null;function JE(r,s){if(r=r.containerInfo,up=ld,r=xa(r),or(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var _=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var N=0,I=-1,G=-1,ue=0,pe=0,xe=r,de=null;t:for(;;){for(var fe;xe!==c||_!==0&&xe.nodeType!==3||(I=N+_),xe!==S||p!==0&&xe.nodeType!==3||(G=N+p),xe.nodeType===3&&(N+=xe.nodeValue.length),(fe=xe.firstChild)!==null;)de=xe,xe=fe;for(;;){if(xe===r)break t;if(de===c&&++ue===_&&(I=N),de===S&&++pe===p&&(G=N),(fe=xe.nextSibling)!==null)break;xe=de,de=xe.parentNode}xe=fe}c=I===-1||G===-1?null:{start:I,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(cp={focusedElem:r,selectionRange:c},ld=!1,pn=s;pn!==null;)if(s=pn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pn=r;else for(;pn!==null;){switch(s=pn,S=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)_=r[c],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,c=s,_=S.memoizedProps,S=S.memoizedState,p=c.stateNode;try{var Ae=za(c.type,_);r=p.getSnapshotBeforeUpdate(Ae,S),p.__reactInternalSnapshotBeforeUpdate=r}catch(Ue){bt(c,c.return,Ue)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,c=r.nodeType,c===9)fp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,pn=r;break}pn=s.return}}function wb(r,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Zr(r,c),p&4&&wu(5,c);break;case 1:if(Zr(r,c),p&4)if(r=c.stateNode,s===null)try{r.componentDidMount()}catch(N){bt(c,c.return,N)}else{var _=za(c.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(_,s,r.__reactInternalSnapshotBeforeUpdate)}catch(N){bt(c,c.return,N)}}p&64&&gb(c),p&512&&Su(c,c.return);break;case 3:if(Zr(r,c),p&64&&(r=c.updateQueue,r!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{a0(r,s)}catch(N){bt(c,c.return,N)}}break;case 27:s===null&&p&4&&_b(c);case 26:case 5:Zr(r,c),s===null&&p&4&&vb(c),p&512&&Su(c,c.return);break;case 12:Zr(r,c);break;case 31:Zr(r,c),p&4&&jb(r,c);break;case 13:Zr(r,c),p&4&&Eb(r,c),p&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=oT.bind(null,c),TT(r,c))));break;case 22:if(p=c.memoizedState!==null||qr,!p){s=s!==null&&s.memoizedState!==null||tn,_=qr;var S=tn;qr=p,(tn=s)&&!S?Gr(r,c,(c.subtreeFlags&8772)!==0):Zr(r,c),qr=_,tn=S}break;case 30:break;default:Zr(r,c)}}function Sb(r){var s=r.alternate;s!==null&&(r.alternate=null,Sb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ul(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Mt=null,$n=!1;function $r(r,s,c){for(c=c.child;c!==null;)Cb(r,s,c),c=c.sibling}function Cb(r,s,c){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(hn,c)}catch{}switch(c.tag){case 26:tn||pr(c,s),$r(r,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tn||pr(c,s);var p=Mt,_=$n;Ds(c.type)&&(Mt=c.stateNode,$n=!1),$r(r,s,c),Mu(c.stateNode),Mt=p,$n=_;break;case 5:tn||pr(c,s);case 6:if(p=Mt,_=$n,Mt=null,$r(r,s,c),Mt=p,$n=_,Mt!==null)if($n)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(c.stateNode)}catch(S){bt(c,s,S)}else try{Mt.removeChild(c.stateNode)}catch(S){bt(c,s,S)}break;case 18:Mt!==null&&($n?(r=Mt,g_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Wo(r)):g_(Mt,c.stateNode));break;case 4:p=Mt,_=$n,Mt=c.stateNode.containerInfo,$n=!0,$r(r,s,c),Mt=p,$n=_;break;case 0:case 11:case 14:case 15:Ls(2,c,s),tn||Ls(4,c,s),$r(r,s,c);break;case 1:tn||(pr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&yb(c,s,p)),$r(r,s,c);break;case 21:$r(r,s,c);break;case 22:tn=(p=tn)||c.memoizedState!==null,$r(r,s,c),tn=p;break;default:$r(r,s,c)}}function jb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Wo(r)}catch(c){bt(s,s.return,c)}}}function Eb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wo(r)}catch(c){bt(s,s.return,c)}}function QE(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new xb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new xb),s;default:throw Error(i(435,r.tag))}}function Hh(r,s){var c=QE(r);s.forEach(function(p){if(!c.has(p)){c.add(p);var _=lT.bind(null,r,p);p.then(_,_)}})}function Zn(r,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var _=c[p],S=r,N=s,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(Ds(I.type)){Mt=I.stateNode,$n=!1;break e}break;case 5:Mt=I.stateNode,$n=!1;break e;case 3:case 4:Mt=I.stateNode.containerInfo,$n=!0;break e}I=I.return}if(Mt===null)throw Error(i(160));Cb(S,N,_),Mt=null,$n=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Tb(s,r),s=s.sibling}var $i=null;function Tb(r,s){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zn(s,r),Gn(r),p&4&&(Ls(3,r,r.return),wu(3,r),Ls(5,r,r.return));break;case 1:Zn(s,r),Gn(r),p&512&&(tn||c===null||pr(c,c.return)),p&64&&qr&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var _=$i;if(Zn(s,r),Gn(r),p&512&&(tn||c===null||pr(c,c.return)),p&4){var S=c!==null?c.memoizedState:null;if(p=r.memoizedState,c===null)if(p===null)if(r.stateNode===null){e:{p=r.type,c=r.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":S=_.getElementsByTagName("title")[0],(!S||S[sa]||S[Yt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(p),_.head.insertBefore(S,_.querySelector("head > title"))),xn(S,p,c),S[Yt]=r,Xt(S),p=S;break e;case"link":var N=T_("link","href",_).get(p+(c.href||""));if(N){for(var I=0;I<N.length;I++)if(S=N[I],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(I,1);break t}}S=_.createElement(p),xn(S,p,c),_.head.appendChild(S);break;case"meta":if(N=T_("meta","content",_).get(p+(c.content||""))){for(I=0;I<N.length;I++)if(S=N[I],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(I,1);break t}}S=_.createElement(p),xn(S,p,c),_.head.appendChild(S);break;default:throw Error(i(468,p))}S[Yt]=r,Xt(S),p=S}r.stateNode=p}else k_(_,r.type,r.stateNode);else r.stateNode=E_(_,p,r.memoizedProps);else S!==p?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,p===null?k_(_,r.type,r.stateNode):E_(_,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Im(r,r.memoizedProps,c.memoizedProps)}break;case 27:Zn(s,r),Gn(r),p&512&&(tn||c===null||pr(c,c.return)),c!==null&&p&4&&Im(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Zn(s,r),Gn(r),p&512&&(tn||c===null||pr(c,c.return)),r.flags&32){_=r.stateNode;try{yi(_,"")}catch(Ae){bt(r,r.return,Ae)}}p&4&&r.stateNode!=null&&(_=r.memoizedProps,Im(r,_,c!==null?c.memoizedProps:_)),p&1024&&(Hm=!0);break;case 6:if(Zn(s,r),Gn(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,c=r.stateNode;try{c.nodeValue=p}catch(Ae){bt(r,r.return,Ae)}}break;case 3:if(rd=null,_=$i,$i=nd(s.containerInfo),Zn(s,r),$i=_,Gn(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Wo(s.containerInfo)}catch(Ae){bt(r,r.return,Ae)}Hm&&(Hm=!1,kb(r));break;case 4:p=$i,$i=nd(r.stateNode.containerInfo),Zn(s,r),Gn(r),$i=p;break;case 12:Zn(s,r),Gn(r);break;case 31:Zn(s,r),Gn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Hh(r,p)));break;case 13:Zn(s,r),Gn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(qh=gn()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Hh(r,p)));break;case 22:_=r.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,ue=qr,pe=tn;if(qr=ue||_,tn=pe||G,Zn(s,r),tn=pe,qr=ue,Gn(r),p&8192)e:for(s=r.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(c===null||G||qr||tn||Ba(r)),c=null,s=r;;){if(s.tag===5||s.tag===26){if(c===null){G=c=s;try{if(S=G.stateNode,_)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=G.stateNode;var xe=G.memoizedProps.style,de=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;I.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ae){bt(G,G.return,Ae)}}}else if(s.tag===6){if(c===null){G=s;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(Ae){bt(G,G.return,Ae)}}}else if(s.tag===18){if(c===null){G=s;try{var fe=G.stateNode;_?y_(fe,!0):y_(G.stateNode,!1)}catch(Ae){bt(G,G.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=r.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Hh(r,c))));break;case 19:Zn(s,r),Gn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Hh(r,p)));break;case 30:break;case 21:break;default:Zn(s,r),Gn(r)}}function Gn(r){var s=r.flags;if(s&2){try{for(var c,p=r.return;p!==null;){if(bb(p)){c=p;break}p=p.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var _=c.stateNode,S=Um(r);Vh(r,S,_);break;case 5:var N=c.stateNode;c.flags&32&&(yi(N,""),c.flags&=-33);var I=Um(r);Vh(r,I,N);break;case 3:case 4:var G=c.stateNode.containerInfo,ue=Um(r);Vm(r,ue,G);break;default:throw Error(i(161))}}catch(pe){bt(r,r.return,pe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function kb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;kb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Zr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)wb(r,s.alternate,s),s=s.sibling}function Ba(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),Ba(s);break;case 1:pr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&yb(s,s.return,c),Ba(s);break;case 27:Mu(s.stateNode);case 26:case 5:pr(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}r=r.sibling}}function Gr(r,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,_=r,S=s,N=S.flags;switch(S.tag){case 0:case 11:case 15:Gr(_,S,c),wu(4,S);break;case 1:if(Gr(_,S,c),p=S,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ue){bt(p,p.return,ue)}if(p=S,_=p.updateQueue,_!==null){var I=p.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)s0(G[_],I)}catch(ue){bt(p,p.return,ue)}}c&&N&64&&gb(S),Su(S,S.return);break;case 27:_b(S);case 26:case 5:Gr(_,S,c),c&&p===null&&N&4&&vb(S),Su(S,S.return);break;case 12:Gr(_,S,c);break;case 31:Gr(_,S,c),c&&N&4&&jb(_,S);break;case 13:Gr(_,S,c),c&&N&4&&Eb(_,S);break;case 22:S.memoizedState===null&&Gr(_,S,c),Su(S,S.return);break;case 30:break;default:Gr(_,S,c)}s=s.sibling}}function Fm(r,s){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&uu(c))}function qm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&uu(r))}function Zi(r,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lb(r,s,c,p),s=s.sibling}function Lb(r,s,c,p){var _=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(r,s,c,p),_&2048&&wu(9,s);break;case 1:Zi(r,s,c,p);break;case 3:Zi(r,s,c,p),_&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&uu(r)));break;case 12:if(_&2048){Zi(r,s,c,p),r=s.stateNode;try{var S=s.memoizedProps,N=S.id,I=S.onPostCommit;typeof I=="function"&&I(N,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){bt(s,s.return,G)}}else Zi(r,s,c,p);break;case 31:Zi(r,s,c,p);break;case 13:Zi(r,s,c,p);break;case 23:break;case 22:S=s.stateNode,N=s.alternate,s.memoizedState!==null?S._visibility&2?Zi(r,s,c,p):Cu(r,s):S._visibility&2?Zi(r,s,c,p):(S._visibility|=2,Bo(r,s,c,p,(s.subtreeFlags&10256)!==0||!1)),_&2048&&Fm(N,s);break;case 24:Zi(r,s,c,p),_&2048&&qm(s.alternate,s);break;default:Zi(r,s,c,p)}}function Bo(r,s,c,p,_){for(_=_&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=r,N=s,I=c,G=p,ue=N.flags;switch(N.tag){case 0:case 11:case 15:Bo(S,N,I,G,_),wu(8,N);break;case 23:break;case 22:var pe=N.stateNode;N.memoizedState!==null?pe._visibility&2?Bo(S,N,I,G,_):Cu(S,N):(pe._visibility|=2,Bo(S,N,I,G,_)),_&&ue&2048&&Fm(N.alternate,N);break;case 24:Bo(S,N,I,G,_),_&&ue&2048&&qm(N.alternate,N);break;default:Bo(S,N,I,G,_)}s=s.sibling}}function Cu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=r,p=s,_=p.flags;switch(p.tag){case 22:Cu(c,p),_&2048&&Fm(p.alternate,p);break;case 24:Cu(c,p),_&2048&&qm(p.alternate,p);break;default:Cu(c,p)}s=s.sibling}}var ju=8192;function Io(r,s,c){if(r.subtreeFlags&ju)for(r=r.child;r!==null;)Ab(r,s,c),r=r.sibling}function Ab(r,s,c){switch(r.tag){case 26:Io(r,s,c),r.flags&ju&&r.memoizedState!==null&&IT(c,$i,r.memoizedState,r.memoizedProps);break;case 5:Io(r,s,c);break;case 3:case 4:var p=$i;$i=nd(r.stateNode.containerInfo),Io(r,s,c),$i=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=ju,ju=16777216,Io(r,s,c),ju=p):Io(r,s,c));break;default:Io(r,s,c)}}function Nb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Eu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];pn=p,Ob(p,r)}Nb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mb(r),r=r.sibling}function Mb(r){switch(r.tag){case 0:case 11:case 15:Eu(r),r.flags&2048&&Ls(9,r,r.return);break;case 3:Eu(r);break;case 12:Eu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Fh(r)):Eu(r);break;default:Eu(r)}}function Fh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];pn=p,Ob(p,r)}Nb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),Fh(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Fh(s));break;default:Fh(s)}r=r.sibling}}function Ob(r,s){for(;pn!==null;){var c=pn;switch(c.tag){case 0:case 11:case 15:Ls(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:uu(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,pn=p;else e:for(c=r;pn!==null;){p=pn;var _=p.sibling,S=p.return;if(Sb(p),p===c){pn=null;break e}if(_!==null){_.return=S,pn=_;break e}pn=S}}}var eT={getCacheForType:function(r){var s=bn(Jt),c=s.data.get(r);return c===void 0&&(c=r(),s.data.set(r,c)),c},cacheSignal:function(){return bn(Jt).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,ft=0,jt=null,it=null,at=0,vt=0,li=null,As=!1,Uo=!1,$m=!1,Kr=0,$t=0,Ns=0,Ia=0,Zm=0,ui=0,Vo=0,Tu=null,Kn=null,Gm=!1,qh=0,Pb=0,$h=1/0,Zh=null,Ms=null,ln=0,Os=null,Ho=null,Wr=0,Km=0,Wm=null,Rb=null,ku=0,Ym=null;function ci(){return(ft&2)!==0&&at!==0?at&-at:F.T!==null?np():Bl()}function Db(){if(ui===0)if((at&536870912)===0||nt){var r=na;na<<=1,(na&3932160)===0&&(na=262144),ui=r}else ui=536870912;return r=ai.current,r!==null&&(r.flags|=32),ui}function Wn(r,s,c){(r===jt&&(vt===2||vt===9)||r.cancelPendingCommit!==null)&&(Fo(r,0),Ps(r,at,ui,!1)),kr(r,c),((ft&2)===0||r!==jt)&&(r===jt&&((ft&2)===0&&(Ia|=c),$t===4&&Ps(r,at,ui,!1)),gr(r))}function zb(r,s,c){if((ft&6)!==0)throw Error(i(327));var p=!c&&(s&127)===0&&(s&r.expiredLanes)===0||ra(r,s),_=p?rT(r,s):Jm(r,s,!0),S=p;do{if(_===0){Uo&&!p&&Ps(r,s,0,!1);break}else{if(c=r.current.alternate,S&&!nT(c)){_=Jm(r,s,!1),S=!1;continue}if(_===2){if(S=s,r.errorRecoveryDisabledLanes&S)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var I=r;_=Tu;var G=I.current.memoizedState.isDehydrated;if(G&&(Fo(I,N).flags|=256),N=Jm(I,N,!1),N!==2){if($m&&!G){I.errorRecoveryDisabledLanes|=S,Ia|=S,_=4;break e}S=Kn,Kn=_,S!==null&&(Kn===null?Kn=S:Kn.push.apply(Kn,S))}_=N}if(S=!1,_!==2)continue}}if(_===1){Fo(r,0),Ps(r,s,0,!0);break}e:{switch(p=r,S=_,S){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ps(p,s,ui,!As);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(_=qh+300-gn(),10<_)){if(Ps(p,s,ui,!As),lo(p,0,!0)!==0)break e;Wr=s,p.timeoutHandle=m_(Bb.bind(null,p,c,Kn,Zh,Gm,s,ui,Ia,Vo,As,S,"Throttled",-0,0),_);break e}Bb(p,c,Kn,Zh,Gm,s,ui,Ia,Vo,As,S,null,-0,0)}}break}while(!0);gr(r)}function Bb(r,s,c,p,_,S,N,I,G,ue,pe,xe,de,fe){if(r.timeoutHandle=-1,xe=s.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Ab(s,S,xe);var Ae=(S&62914560)===S?qh-gn():(S&4194048)===S?Pb-gn():0;if(Ae=UT(xe,Ae),Ae!==null){Wr=S,r.cancelPendingCommit=Ae(Zb.bind(null,r,s,S,c,p,_,N,I,G,pe,xe,null,de,fe)),Ps(r,S,N,!ue);return}}Zb(r,s,S,c,p,_,N,I,G)}function nT(r){for(var s=r;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var _=c[p],S=_.getSnapshot;_=_.value;try{if(!fn(S(),_))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(r,s,c,p){s&=~Zm,s&=~Ia,r.suspendedLanes|=s,r.pingedLanes&=~s,p&&(r.warmLanes|=s),p=r.expirationTimes;for(var _=s;0<_;){var S=31-yt(_),N=1<<S;p[S]=-1,_&=~N}c!==0&&$c(r,c,s)}function Gh(){return(ft&6)===0?(Lu(0),!1):!0}function Xm(){if(it!==null){if(vt===0)var r=it.return;else r=it,qi=mr=null,fm(r),Oo=null,hu=0,r=it;for(;r!==null;)pb(r.alternate,r),r=r.return;it=null}}function Fo(r,s){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,wT(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Wr=0,Xm(),jt=r,it=c=Ci(r.current,null),at=s,vt=0,li=null,As=!1,Uo=ra(r,s),$m=!1,Vo=ui=Zm=Ia=Ns=$t=0,Kn=Tu=null,Gm=!1,(s&8)!==0&&(s|=s&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=s;0<p;){var _=31-yt(p),S=1<<_;s|=r[_],p&=~S}return Kr=s,Ea(),c}function Ib(r,s){Ye=null,F.H=bu,s===Mo||s===wh?(s=t0(),vt=3):s===tm?(s=t0(),vt=4):vt=s===Lm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,li=s,it===null&&($t=1,Dh(r,m(s,r.current)))}function Ub(){var r=ai.current;return r===null?!0:(at&4194048)===at?ji===null:(at&62914560)===at||(at&536870912)!==0?r===ji:!1}function Vb(){var r=F.H;return F.H=bu,r===null?bu:r}function Hb(){var r=F.A;return F.A=eT,r}function Kh(){$t=4,As||(at&4194048)!==at&&ai.current!==null||(Uo=!0),(Ns&134217727)===0&&(Ia&134217727)===0||jt===null||Ps(jt,at,ui,!1)}function Jm(r,s,c){var p=ft;ft|=2;var _=Vb(),S=Hb();(jt!==r||at!==s)&&(Zh=null,Fo(r,s)),s=!1;var N=$t;e:do try{if(vt!==0&&it!==null){var I=it,G=li;switch(vt){case 8:Xm(),N=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(s=!0);var ue=vt;if(vt=0,li=null,qo(r,I,G,ue),c&&Uo){N=0;break e}break;default:ue=vt,vt=0,li=null,qo(r,I,G,ue)}}iT(),N=$t;break}catch(pe){Ib(r,pe)}while(!0);return s&&r.shellSuspendCounter++,qi=mr=null,ft=p,F.H=_,F.A=S,it===null&&(jt=null,at=0,Ea()),N}function iT(){for(;it!==null;)Fb(it)}function rT(r,s){var c=ft;ft|=2;var p=Vb(),_=Hb();jt!==r||at!==s?(Zh=null,$h=gn()+500,Fo(r,s)):Uo=ra(r,s);e:do try{if(vt!==0&&it!==null){s=it;var S=li;t:switch(vt){case 1:vt=0,li=null,qo(r,s,S,1);break;case 2:case 9:if(Qv(S)){vt=0,li=null,qb(s);break}s=function(){vt!==2&&vt!==9||jt!==r||(vt=7),gr(r)},S.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Qv(S)?(vt=0,li=null,qb(s)):(vt=0,li=null,qo(r,s,S,7));break;case 5:var N=null;switch(it.tag){case 26:N=it.memoizedState;case 5:case 27:var I=it;if(N?L_(N):I.stateNode.complete){vt=0,li=null;var G=I.sibling;if(G!==null)it=G;else{var ue=I.return;ue!==null?(it=ue,Wh(ue)):it=null}break t}}vt=0,li=null,qo(r,s,S,5);break;case 6:vt=0,li=null,qo(r,s,S,6);break;case 8:Xm(),$t=6;break e;default:throw Error(i(462))}}sT();break}catch(pe){Ib(r,pe)}while(!0);return qi=mr=null,F.H=p,F.A=_,ft=c,it!==null?0:(jt=null,at=0,Ea(),$t)}function sT(){for(;it!==null&&!ao();)Fb(it)}function Fb(r){var s=fb(r.alternate,r,Kr);r.memoizedProps=r.pendingProps,s===null?Wh(r):it=s}function qb(r){var s=r,c=s.alternate;switch(s.tag){case 15:case 0:s=ob(c,s,s.pendingProps,s.type,void 0,at);break;case 11:s=ob(c,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:fm(s);default:pb(c,s),s=it=ru(s,Kr),s=fb(c,s,Kr)}r.memoizedProps=r.pendingProps,s===null?Wh(r):it=s}function qo(r,s,c,p){qi=mr=null,fm(s),Oo=null,hu=0;var _=s.return;try{if(GE(r,_,s,c,at)){$t=1,Dh(r,m(c,r.current)),it=null;return}}catch(S){if(_!==null)throw it=_,S;$t=1,Dh(r,m(c,r.current)),it=null;return}s.flags&32768?(nt||p===1?r=!0:Uo||(at&536870912)!==0?r=!1:(As=r=!0,(p===2||p===9||p===3||p===6)&&(p=ai.current,p!==null&&p.tag===13&&(p.flags|=16384))),$b(s,r)):Wh(s)}function Wh(r){var s=r;do{if((s.flags&32768)!==0){$b(s,As);return}r=s.return;var c=YE(s.alternate,s,Kr);if(c!==null){it=c;return}if(s=s.sibling,s!==null){it=s;return}it=s=r}while(s!==null);$t===0&&($t=5)}function $b(r,s){do{var c=XE(r.alternate,r);if(c!==null){c.flags&=32767,it=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(r=r.sibling,r!==null)){it=r;return}it=r=c}while(r!==null);$t=6,it=null}function Zb(r,s,c,p,_,S,N,I,G){r.cancelPendingCommit=null;do Yh();while(ln!==0);if((ft&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(S=s.lanes|s.childLanes,S|=jo,Pf(r,c,S,N,I,G),r===jt&&(it=jt=null,at=0),Ho=s,Os=r,Wr=c,Km=S,Wm=_,Rb=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,uT(Ie,function(){return Xb(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=F.T,F.T=null,_=ee.p,ee.p=2,N=ft,ft|=4;try{JE(r,s,c)}finally{ft=N,ee.p=_,F.T=p}}ln=1,Gb(),Kb(),Wb()}}function Gb(){if(ln===1){ln=0;var r=Os,s=Ho,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=F.T,F.T=null;var p=ee.p;ee.p=2;var _=ft;ft|=4;try{Tb(s,r);var S=cp,N=xa(r.containerInfo),I=S.focusedElem,G=S.selectionRange;if(N!==I&&I&&I.ownerDocument&&xo(I.ownerDocument.documentElement,I)){if(G!==null&&or(I)){var ue=G.start,pe=G.end;if(pe===void 0&&(pe=ue),"selectionStart"in I)I.selectionStart=ue,I.selectionEnd=Math.min(pe,I.value.length);else{var xe=I.ownerDocument||document,de=xe&&xe.defaultView||window;if(de.getSelection){var fe=de.getSelection(),Ae=I.textContent.length,Ue=Math.min(G.start,Ae),St=G.end===void 0?Ue:Math.min(G.end,Ae);!fe.extend&&Ue>St&&(N=St,St=Ue,Ue=N);var ne=_a(I,Ue),J=_a(I,St);if(ne&&J&&(fe.rangeCount!==1||fe.anchorNode!==ne.node||fe.anchorOffset!==ne.offset||fe.focusNode!==J.node||fe.focusOffset!==J.offset)){var le=xe.createRange();le.setStart(ne.node,ne.offset),fe.removeAllRanges(),Ue>St?(fe.addRange(le),fe.extend(J.node,J.offset)):(le.setEnd(J.node,J.offset),fe.addRange(le))}}}}for(xe=[],fe=I;fe=fe.parentNode;)fe.nodeType===1&&xe.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<xe.length;I++){var ve=xe[I];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}ld=!!up,cp=up=null}finally{ft=_,ee.p=p,F.T=c}}r.current=s,ln=2}}function Kb(){if(ln===2){ln=0;var r=Os,s=Ho,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=F.T,F.T=null;var p=ee.p;ee.p=2;var _=ft;ft|=4;try{wb(r,s.alternate,s)}finally{ft=_,ee.p=p,F.T=c}}ln=3}}function Wb(){if(ln===4||ln===3){ln=0,oo();var r=Os,s=Ho,c=Wr,p=Rb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,Ho=Os=null,Yb(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(Ms=null),Oe(c),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(hn,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=F.T,_=ee.p,ee.p=2,F.T=null;try{for(var S=r.onRecoverableError,N=0;N<p.length;N++){var I=p[N];S(I.value,{componentStack:I.stack})}}finally{F.T=s,ee.p=_}}(Wr&3)!==0&&Yh(),gr(r),_=r.pendingLanes,(c&261930)!==0&&(_&42)!==0?r===Ym?ku++:(ku=0,Ym=r):ku=0,Lu(0)}}function Yb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,uu(s)))}function Yh(){return Gb(),Kb(),Wb(),Xb()}function Xb(){if(ln!==5)return!1;var r=Os,s=Km;Km=0;var c=Oe(Wr),p=F.T,_=ee.p;try{ee.p=32>c?32:c,F.T=null,c=Wm,Wm=null;var S=Os,N=Wr;if(ln=0,Ho=Os=null,Wr=0,(ft&6)!==0)throw Error(i(331));var I=ft;if(ft|=4,Mb(S.current),Lb(S,S.current,N,c),ft=I,Lu(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(hn,S)}catch{}return!0}finally{ee.p=_,F.T=p,Yb(r,s)}}function Jb(r,s,c){s=m(c,s),s=km(r.stateNode,s,2),r=Es(r,s,2),r!==null&&(kr(r,2),gr(r))}function bt(r,s,c){if(r.tag===3)Jb(r,r,c);else for(;s!==null;){if(s.tag===3){Jb(s,r,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ms===null||!Ms.has(p))){r=m(c,r),c=Q0(2),p=Es(s,c,2),p!==null&&(eb(c,p,s,r),kr(p,2),gr(p));break}}s=s.return}}function Qm(r,s,c){var p=r.pingCache;if(p===null){p=r.pingCache=new tT;var _=new Set;p.set(s,_)}else _=p.get(s),_===void 0&&(_=new Set,p.set(s,_));_.has(c)||($m=!0,_.add(c),r=aT.bind(null,r,s,c),s.then(r,r))}function aT(r,s,c){var p=r.pingCache;p!==null&&p.delete(s),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,jt===r&&(at&c)===c&&($t===4||$t===3&&(at&62914560)===at&&300>gn()-qh?(ft&2)===0&&Fo(r,0):Zm|=c,Vo===at&&(Vo=0)),gr(r)}function Qb(r,s){s===0&&(s=qc()),r=Si(r,s),r!==null&&(kr(r,s),gr(r))}function oT(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),Qb(r,c)}function lT(r,s){var c=0;switch(r.tag){case 31:case 13:var p=r.stateNode,_=r.memoizedState;_!==null&&(c=_.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(s),Qb(r,c)}function uT(r,s){return jr(r,s)}var Xh=null,$o=null,ep=!1,Jh=!1,tp=!1,Rs=0;function gr(r){r!==$o&&r.next===null&&($o===null?Xh=$o=r:$o=$o.next=r),Jh=!0,ep||(ep=!0,hT())}function Lu(r,s){if(!tp&&Jh){tp=!0;do for(var c=!1,p=Xh;p!==null;){if(r!==0){var _=p.pendingLanes;if(_===0)var S=0;else{var N=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-yt(42|r)+1)-1,S&=_&~(N&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,i_(p,S))}else S=at,S=lo(p,p===jt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||ra(p,S)||(c=!0,i_(p,S));p=p.next}while(c);tp=!1}}function cT(){e_()}function e_(){Jh=ep=!1;var r=0;Rs!==0&&xT()&&(r=Rs);for(var s=gn(),c=null,p=Xh;p!==null;){var _=p.next,S=t_(p,s);S===0?(p.next=null,c===null?Xh=_:c.next=_,_===null&&($o=c)):(c=p,(r!==0||(S&3)!==0)&&(Jh=!0)),p=_}ln!==0&&ln!==5||Lu(r),Rs!==0&&(Rs=0)}function t_(r,s){for(var c=r.suspendedLanes,p=r.pingedLanes,_=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var N=31-yt(S),I=1<<N,G=_[N];G===-1?((I&c)===0||(I&p)!==0)&&(_[N]=Of(I,s)):G<=s&&(r.expiredLanes|=I),S&=~I}if(s=jt,c=at,c=lo(r,r===s?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,c===0||r===s&&(vt===2||vt===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Er(p),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ra(r,c)){if(s=c&-c,s===r.callbackPriority)return s;switch(p!==null&&Er(p),Oe(c)){case 2:case 8:c=Ee;break;case 32:c=Ie;break;case 268435456:c=lt;break;default:c=Ie}return p=n_.bind(null,r),c=jr(c,p),r.callbackPriority=s,r.callbackNode=c,s}return p!==null&&p!==null&&Er(p),r.callbackPriority=2,r.callbackNode=null,2}function n_(r,s){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Yh()&&r.callbackNode!==c)return null;var p=at;return p=lo(r,r===jt?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(zb(r,p,s),t_(r,gn()),r.callbackNode!=null&&r.callbackNode===c?n_.bind(null,r):null)}function i_(r,s){if(Yh())return null;zb(r,s,!0)}function hT(){ST(function(){(ft&6)!==0?jr(ge,cT):e_()})}function np(){if(Rs===0){var r=Ao;r===0&&(r=ta,ta<<=1,(ta&261888)===0&&(ta=256)),Rs=r}return Rs}function r_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:cs(""+r)}function s_(r,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,r.id&&c.setAttribute("form",r.id),s.parentNode.insertBefore(c,s),r=new FormData(r),c.parentNode.removeChild(c),r}function dT(r,s,c,p,_){if(s==="submit"&&c&&c.stateNode===_){var S=r_((_[dn]||null).action),N=p.submitter;N&&(s=(s=N[dn]||null)?r_(s.formAction):N.getAttribute("formAction"),s!==null&&(S=s,N=null));var I=new mo("action","action",null,p,_);r.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Rs!==0){var G=N?s_(_,N):new FormData(_);wm(c,{pending:!0,data:G,method:_.method,action:S},null,G)}}else typeof S=="function"&&(I.preventDefault(),G=N?s_(_,N):new FormData(_),wm(c,{pending:!0,data:G,method:_.method,action:S},S,G))},currentTarget:_}]})}}for(var ip=0;ip<cr.length;ip++){var rp=cr[ip],fT=rp.toLowerCase(),mT=rp[0].toUpperCase()+rp.slice(1);Hn(fT,"on"+mT)}Hn(Sa,"onAnimationEnd"),Hn(gh,"onAnimationIteration"),Hn(Ca,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Gf,"onTransitionRun"),Hn(yh,"onTransitionStart"),Hn(Kf,"onTransitionCancel"),Hn(xs,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function a_(r,s){s=(s&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],_=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var N=p.length-1;0<=N;N--){var I=p[N],G=I.instance,ue=I.currentTarget;if(I=I.listener,G!==S&&_.isPropagationStopped())break e;S=I,_.currentTarget=ue;try{S(_)}catch(pe){ja(pe)}_.currentTarget=null,S=G}else for(N=0;N<p.length;N++){if(I=p[N],G=I.instance,ue=I.currentTarget,I=I.listener,G!==S&&_.isPropagationStopped())break e;S=I,_.currentTarget=ue;try{S(_)}catch(pe){ja(pe)}_.currentTarget=null,S=G}}}}function rt(r,s){var c=s[tr];c===void 0&&(c=s[tr]=new Set);var p=r+"__bubble";c.has(p)||(o_(s,r,2,!1),c.add(p))}function sp(r,s,c){var p=0;s&&(p|=4),o_(c,r,p,s)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function ap(r){if(!r[Qh]){r[Qh]=!0,Yc.forEach(function(c){c!=="selectionchange"&&(pT.has(c)||sp(c,!1,r),sp(c,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Qh]||(s[Qh]=!0,sp("selectionchange",!1,s))}}function o_(r,s,c,p){switch(D_(s)){case 2:var _=FT;break;case 8:_=qT;break;default:_=xp}c=_.bind(null,s,c,r),_=void 0,!ha||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),p?_!==void 0?r.addEventListener(s,c,{capture:!0,passive:_}):r.addEventListener(s,c,!0):_!==void 0?r.addEventListener(s,c,{passive:_}):r.addEventListener(s,c,!1)}function op(r,s,c,p,_){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var I=p.stateNode.containerInfo;if(I===_)break;if(N===4)for(N=p.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===_)return;N=N.return}for(;I!==null;){if(N=Ar(I),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){p=S=N;continue e}I=I.parentNode}}p=p.return}Gl(function(){var ue=S,pe=ca(c),xe=[];e:{var de=vh.get(r);if(de!==void 0){var fe=mo,Ae=r;switch(r){case"keypress":if(da(c)===0)break e;case"keydown":case"keyup":fe=rh;break;case"focusin":Ae="focus",fe=Yl;break;case"focusout":Ae="blur",fe=Yl;break;case"beforeblur":case"afterblur":fe=Yl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Vf;break;case Sa:case gh:case Ca:fe=Xl;break;case xs:fe=oh;break;case"scroll":case"scrollend":fe=st;break;case"wheel":fe=Rr;break;case"copy":case"cut":case"paste":fe=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=sh;break;case"toggle":case"beforetoggle":fe=pa}var Ue=(s&4)!==0,St=!Ue&&(r==="scroll"||r==="scrollend"),ne=Ue?de!==null?de+"Capture":null:de;Ue=[];for(var J=ue,le;J!==null;){var ve=J;if(le=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||le===null||ne===null||(ve=Or(J,ne),ve!=null&&Ue.push(Nu(J,ve,le))),St)break;J=J.return}0<Ue.length&&(de=new fe(de,Ae,null,c,pe),xe.push({event:de,listeners:Ue}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",de&&c!==fo&&(Ae=c.relatedTarget||c.fromElement)&&(Ar(Ae)||Ae[Lr]))break e;if((fe||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(Ae=c.relatedTarget||c.toElement,fe=ue,Ae=Ae?Ar(Ae):null,Ae!==null&&(St=o(Ae),Ue=Ae.tag,Ae!==St||Ue!==5&&Ue!==27&&Ue!==6)&&(Ae=null)):(fe=null,Ae=ue),fe!==Ae)){if(Ue=Qc,ve="onMouseLeave",ne="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Ue=sh,ve="onPointerLeave",ne="onPointerEnter",J="pointer"),St=fe==null?de:nr(fe),le=Ae==null?de:nr(Ae),de=new Ue(ve,J+"leave",fe,c,pe),de.target=St,de.relatedTarget=le,ve=null,Ar(pe)===ue&&(Ue=new Ue(ne,J+"enter",Ae,c,pe),Ue.target=le,Ue.relatedTarget=St,ve=Ue),St=ve,fe&&Ae)t:{for(Ue=gT,ne=fe,J=Ae,le=0,ve=ne;ve;ve=Ue(ve))le++;ve=0;for(var ze=J;ze;ze=Ue(ze))ve++;for(;0<le-ve;)ne=Ue(ne),le--;for(;0<ve-le;)J=Ue(J),ve--;for(;le--;){if(ne===J||J!==null&&ne===J.alternate){Ue=ne;break t}ne=Ue(ne),J=Ue(J)}Ue=null}else Ue=null;fe!==null&&l_(xe,de,fe,Ue,!1),Ae!==null&&St!==null&&l_(xe,St,Ae,Ue,!0)}}e:{if(de=ue?nr(ue):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var ht=ba;else if(_i(de))if(hh)ht=Zf;else{ht=$f;var Ne=Vi}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&ua(ue.elementType)&&(ht=ba):ht=ys;if(ht&&(ht=ht(r,ue))){ch(xe,ht,c,pe);break e}Ne&&Ne(r,de,ue),r==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&Bi(de,"number",de.value)}switch(Ne=ue?nr(ue):window,r){case"focusin":(_i(Ne)||Ne.contentEditable==="true")&&(lr=Ne,So=ue,wa=null);break;case"focusout":wa=So=lr=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,mh(xe,c,pe);break;case"selectionchange":if(wo)break;case"keydown":case"keyup":mh(xe,c,pe)}var Je;if(go)e:{switch(r){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ms?uh(r,c)&&(ot="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(yo&&c.locale!=="ko"&&(ms||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ms&&(Je=sr()):(vi=pe,Pr="value"in vi?vi.value:vi.textContent,ms=!0)),Ne=ed(ue,ot),0<Ne.length&&(ot=new Jl(ot,r,null,c,pe),xe.push({event:ot,listeners:Ne}),Je?ot.data=Je:(Je=nu(c),Je!==null&&(ot.data=Je)))),(Je=Ff?si(r,c):ps(r,c))&&(ot=ed(ue,"onBeforeInput"),0<ot.length&&(Ne=new Jl("onBeforeInput","beforeinput",null,c,pe),xe.push({event:Ne,listeners:ot}),Ne.data=Je)),dT(xe,r,ue,c,pe)}a_(xe,s)})}function Nu(r,s,c){return{instance:r,listener:s,currentTarget:c}}function ed(r,s){for(var c=s+"Capture",p=[];r!==null;){var _=r,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=Or(r,c),_!=null&&p.unshift(Nu(r,_,S)),_=Or(r,s),_!=null&&p.push(Nu(r,_,S))),r.tag===3)return p;r=r.return}return[]}function gT(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function l_(r,s,c,p,_){for(var S=s._reactName,N=[];c!==null&&c!==p;){var I=c,G=I.alternate,ue=I.stateNode;if(I=I.tag,G!==null&&G===p)break;I!==5&&I!==26&&I!==27||ue===null||(G=ue,_?(ue=Or(c,S),ue!=null&&N.unshift(Nu(c,ue,G))):_||(ue=Or(c,S),ue!=null&&N.push(Nu(c,ue,G)))),c=c.return}N.length!==0&&r.push({event:s,listeners:N})}var yT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function u_(r){return(typeof r=="string"?r:""+r).replace(yT,`
`).replace(vT,"")}function c_(r,s){return s=u_(s),u_(r)===s}function wt(r,s,c,p,_,S){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||yi(r,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&yi(r,""+p);break;case"className":_t(r,"class",p);break;case"tabIndex":_t(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":_t(r,c,p);break;case"style":co(r,p,S);break;case"data":if(s!=="object"){_t(r,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){r.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=cs(""+p),r.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(s!=="input"&&wt(r,s,"name",_.name,_,null),wt(r,s,"formEncType",_.formEncType,_,null),wt(r,s,"formMethod",_.formMethod,_,null),wt(r,s,"formTarget",_.formTarget,_,null)):(wt(r,s,"encType",_.encType,_,null),wt(r,s,"method",_.method,_,null),wt(r,s,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=cs(""+p),r.setAttribute(c,p);break;case"onClick":p!=null&&(r.onclick=Un);break;case"onScroll":p!=null&&rt("scroll",r);break;case"onScrollEnd":p!=null&&rt("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}c=cs(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""+p):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":p===!0?r.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,p):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(c,p):r.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(c):r.setAttribute(c,p);break;case"popover":rt("beforetoggle",r),rt("toggle",r),tt(r,"popover",p);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":tt(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ho.get(c)||c,tt(r,c,p))}}function lp(r,s,c,p,_,S){switch(c){case"style":co(r,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof p=="string"?yi(r,p):(typeof p=="number"||typeof p=="bigint")&&yi(r,""+p);break;case"onScroll":p!=null&&rt("scroll",r);break;case"onScrollEnd":p!=null&&rt("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(_=c.endsWith("Capture"),s=c.slice(2,_?c.length-7:void 0),S=r[dn]||null,S=S!=null?S[c]:null,typeof S=="function"&&r.removeEventListener(s,S,_),typeof p=="function")){typeof S!="function"&&S!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(s,p,_);break e}c in r?r[c]=p:p===!0?r.setAttribute(c,""):tt(r,c,p)}}}function xn(r,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",r),rt("load",r);var p=!1,_=!1,S;for(S in c)if(c.hasOwnProperty(S)){var N=c[S];if(N!=null)switch(S){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:wt(r,s,S,N,c,null)}}_&&wt(r,s,"srcSet",c.srcSet,c,null),p&&wt(r,s,"src",c.src,c,null);return;case"input":rt("invalid",r);var I=S=N=_=null,G=null,ue=null;for(p in c)if(c.hasOwnProperty(p)){var pe=c[p];if(pe!=null)switch(p){case"name":_=pe;break;case"type":N=pe;break;case"checked":G=pe;break;case"defaultChecked":ue=pe;break;case"value":S=pe;break;case"defaultValue":I=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,s));break;default:wt(r,s,p,pe,c,null)}}la(r,S,I,G,ue,N,_,!1);return;case"select":rt("invalid",r),p=N=S=null;for(_ in c)if(c.hasOwnProperty(_)&&(I=c[_],I!=null))switch(_){case"value":S=I;break;case"defaultValue":N=I;break;case"multiple":p=I;default:wt(r,s,_,I,c,null)}s=S,c=N,r.multiple=!!p,s!=null?Ct(r,!!p,s,!1):c!=null&&Ct(r,!!p,c,!0);return;case"textarea":rt("invalid",r),S=_=p=null;for(N in c)if(c.hasOwnProperty(N)&&(I=c[N],I!=null))switch(N){case"value":p=I;break;case"defaultValue":_=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:wt(r,s,N,I,c,null)}ls(r,p,_,S);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(p=c[G],p!=null))switch(G){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:wt(r,s,G,p,c,null)}return;case"dialog":rt("beforetoggle",r),rt("toggle",r),rt("cancel",r),rt("close",r);break;case"iframe":case"object":rt("load",r);break;case"video":case"audio":for(p=0;p<Au.length;p++)rt(Au[p],r);break;case"image":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"embed":case"source":case"link":rt("error",r),rt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(p=c[ue],p!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:wt(r,s,ue,p,c,null)}return;default:if(ua(s)){for(pe in c)c.hasOwnProperty(pe)&&(p=c[pe],p!==void 0&&lp(r,s,pe,p,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(p=c[I],p!=null&&wt(r,s,I,p,c,null))}function bT(r,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,N=null,I=null,G=null,ue=null,pe=null;for(fe in c){var xe=c[fe];if(c.hasOwnProperty(fe)&&xe!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":G=xe;default:p.hasOwnProperty(fe)||wt(r,s,fe,null,p,xe)}}for(var de in p){var fe=p[de];if(xe=c[de],p.hasOwnProperty(de)&&(fe!=null||xe!=null))switch(de){case"type":S=fe;break;case"name":_=fe;break;case"checked":ue=fe;break;case"defaultChecked":pe=fe;break;case"value":N=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:fe!==xe&&wt(r,s,de,fe,p,xe)}}ql(r,N,I,G,ue,pe,S,_);return;case"select":fe=N=I=de=null;for(S in c)if(G=c[S],c.hasOwnProperty(S)&&G!=null)switch(S){case"value":break;case"multiple":fe=G;default:p.hasOwnProperty(S)||wt(r,s,S,null,p,G)}for(_ in p)if(S=p[_],G=c[_],p.hasOwnProperty(_)&&(S!=null||G!=null))switch(_){case"value":de=S;break;case"defaultValue":I=S;break;case"multiple":N=S;default:S!==G&&wt(r,s,_,S,p,G)}s=I,c=N,p=fe,de!=null?Ct(r,!!c,de,!1):!!p!=!!c&&(s!=null?Ct(r,!!c,s,!0):Ct(r,!!c,c?[]:"",!1));return;case"textarea":fe=de=null;for(I in c)if(_=c[I],c.hasOwnProperty(I)&&_!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:wt(r,s,I,null,p,_)}for(N in p)if(_=p[N],S=c[N],p.hasOwnProperty(N)&&(_!=null||S!=null))switch(N){case"value":de=_;break;case"defaultValue":fe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==S&&wt(r,s,N,_,p,S)}rr(r,de,fe);return;case"option":for(var Ae in c)if(de=c[Ae],c.hasOwnProperty(Ae)&&de!=null&&!p.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:wt(r,s,Ae,null,p,de)}for(G in p)if(de=p[G],fe=c[G],p.hasOwnProperty(G)&&de!==fe&&(de!=null||fe!=null))switch(G){case"selected":r.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:wt(r,s,G,de,p,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in c)de=c[Ue],c.hasOwnProperty(Ue)&&de!=null&&!p.hasOwnProperty(Ue)&&wt(r,s,Ue,null,p,de);for(ue in p)if(de=p[ue],fe=c[ue],p.hasOwnProperty(ue)&&de!==fe&&(de!=null||fe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:wt(r,s,ue,de,p,fe)}return;default:if(ua(s)){for(var St in c)de=c[St],c.hasOwnProperty(St)&&de!==void 0&&!p.hasOwnProperty(St)&&lp(r,s,St,void 0,p,de);for(pe in p)de=p[pe],fe=c[pe],!p.hasOwnProperty(pe)||de===fe||de===void 0&&fe===void 0||lp(r,s,pe,de,p,fe);return}}for(var ne in c)de=c[ne],c.hasOwnProperty(ne)&&de!=null&&!p.hasOwnProperty(ne)&&wt(r,s,ne,null,p,de);for(xe in p)de=p[xe],fe=c[xe],!p.hasOwnProperty(xe)||de===fe||de==null&&fe==null||wt(r,s,xe,de,p,fe)}function h_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _T(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var _=c[p],S=_.transferSize,N=_.initiatorType,I=_.duration;if(S&&I&&h_(N)){for(N=0,I=_.responseEnd,p+=1;p<c.length;p++){var G=c[p],ue=G.startTime;if(ue>I)break;var pe=G.transferSize,xe=G.initiatorType;pe&&h_(xe)&&(G=G.responseEnd,N+=pe*(G<I?1:(I-ue)/(G-ue)))}if(--p,s+=8*(S+N)/(_.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var up=null,cp=null;function td(r){return r.nodeType===9?r:r.ownerDocument}function d_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function hp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dp=null;function xT(){var r=window.event;return r&&r.type==="popstate"?r===dp?!1:(dp=r,!0):(dp=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(r){return p_.resolve(null).then(r).catch(CT)}:m_;function CT(r){setTimeout(function(){throw r})}function Ds(r){return r==="head"}function g_(r,s){var c=s,p=0;do{var _=c.nextSibling;if(r.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"||c==="/&"){if(p===0){r.removeChild(_),Wo(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Mu(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Mu(c);for(var S=c.firstChild;S;){var N=S.nextSibling,I=S.nodeName;S[sa]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=N}}else c==="body"&&Mu(r.ownerDocument.body);c=_}while(c);Wo(s)}function y_(r,s){var c=r;r=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=p}while(c)}function fp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":fp(c),Ul(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function jT(r,s,c,p){for(;r.nodeType===1;){var _=c;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[sa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=Ei(r.nextSibling),r===null)break}return null}function ET(r,s,c){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ei(r.nextSibling),r===null))return null;return r}function v_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Ei(r.nextSibling),r===null))return null;return r}function mp(r){return r.data==="$?"||r.data==="$~"}function pp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function TT(r,s){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function Ei(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var gp=null;function b_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(s===0)return Ei(r.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}r=r.nextSibling}return null}function __(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return r;s--}else c!=="/$"&&c!=="/&"||s++}r=r.previousSibling}return null}function x_(r,s,c){switch(s=td(c),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Mu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ul(r)}var Ti=new Map,w_=new Set;function nd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Yr=ee.d;ee.d={f:kT,r:LT,D:AT,C:NT,L:MT,m:OT,X:RT,S:PT,M:DT};function kT(){var r=Yr.f(),s=Gh();return r||s}function LT(r){var s=ss(r);s!==null&&s.tag===5&&s.type==="form"?I0(s):Yr.r(r)}var Zo=typeof document>"u"?null:document;function S_(r,s,c){var p=Zo;if(p&&typeof s=="string"&&s){var _=Lt(s);_='link[rel="'+r+'"][href="'+_+'"]',typeof c=="string"&&(_+='[crossorigin="'+c+'"]'),w_.has(_)||(w_.add(_),r={rel:r,crossOrigin:c,href:s},p.querySelector(_)===null&&(s=p.createElement("link"),xn(s,"link",r),Xt(s),p.head.appendChild(s)))}}function AT(r){Yr.D(r),S_("dns-prefetch",r,null)}function NT(r,s){Yr.C(r,s),S_("preconnect",r,s)}function MT(r,s,c){Yr.L(r,s,c);var p=Zo;if(p&&r&&s){var _='link[rel="preload"][as="'+Lt(s)+'"]';s==="image"&&c&&c.imageSrcSet?(_+='[imagesrcset="'+Lt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(_+='[imagesizes="'+Lt(c.imageSizes)+'"]')):_+='[href="'+Lt(r)+'"]';var S=_;switch(s){case"style":S=Go(r);break;case"script":S=Ko(r)}Ti.has(S)||(r=v({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:r,as:s},c),Ti.set(S,r),p.querySelector(_)!==null||s==="style"&&p.querySelector(Ou(S))||s==="script"&&p.querySelector(Pu(S))||(s=p.createElement("link"),xn(s,"link",r),Xt(s),p.head.appendChild(s)))}}function OT(r,s){Yr.m(r,s);var c=Zo;if(c&&r){var p=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+Lt(p)+'"][href="'+Lt(r)+'"]',S=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ko(r)}if(!Ti.has(S)&&(r=v({rel:"modulepreload",href:r},s),Ti.set(S,r),c.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Pu(S)))return}p=c.createElement("link"),xn(p,"link",r),Xt(p),c.head.appendChild(p)}}}function PT(r,s,c){Yr.S(r,s,c);var p=Zo;if(p&&r){var _=as(p).hoistableStyles,S=Go(r);s=s||"default";var N=_.get(S);if(!N){var I={loading:0,preload:null};if(N=p.querySelector(Ou(S)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},c),(c=Ti.get(S))&&yp(r,c);var G=N=p.createElement("link");Xt(G),xn(G,"link",r),G._p=new Promise(function(ue,pe){G.onload=ue,G.onerror=pe}),G.addEventListener("load",function(){I.loading|=1}),G.addEventListener("error",function(){I.loading|=2}),I.loading|=4,id(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:I},_.set(S,N)}}}function RT(r,s){Yr.X(r,s);var c=Zo;if(c&&r){var p=as(c).hoistableScripts,_=Ko(r),S=p.get(_);S||(S=c.querySelector(Pu(_)),S||(r=v({src:r,async:!0},s),(s=Ti.get(_))&&vp(r,s),S=c.createElement("script"),Xt(S),xn(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function DT(r,s){Yr.M(r,s);var c=Zo;if(c&&r){var p=as(c).hoistableScripts,_=Ko(r),S=p.get(_);S||(S=c.querySelector(Pu(_)),S||(r=v({src:r,async:!0,type:"module"},s),(s=Ti.get(_))&&vp(r,s),S=c.createElement("script"),Xt(S),xn(S,"link",r),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function C_(r,s,c,p){var _=(_=me.current)?nd(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Go(c.href),c=as(_).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Go(c.href);var S=as(_).hoistableStyles,N=S.get(r);if(N||(_=_.ownerDocument||_,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,N),(S=_.querySelector(Ou(r)))&&!S._p&&(N.instance=S,N.state.loading=5),Ti.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ti.set(r,c),S||zT(_,r,c,N.state))),s&&p===null)throw Error(i(528,""));return N}if(s&&p!==null)throw Error(i(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(c),c=as(_).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Go(r){return'href="'+Lt(r)+'"'}function Ou(r){return'link[rel="stylesheet"]['+r+"]"}function j_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function zT(r,s,c,p){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=r.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),xn(s,"link",c),Xt(s),r.head.appendChild(s))}function Ko(r){return'[src="'+Lt(r)+'"]'}function Pu(r){return"script[async]"+r}function E_(r,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=r.querySelector('style[data-href~="'+Lt(c.href)+'"]');if(p)return s.instance=p,Xt(p),p;var _=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),Xt(p),xn(p,"style",_),id(p,c.precedence,r),s.instance=p;case"stylesheet":_=Go(c.href);var S=r.querySelector(Ou(_));if(S)return s.state.loading|=4,s.instance=S,Xt(S),S;p=j_(c),(_=Ti.get(_))&&yp(p,_),S=(r.ownerDocument||r).createElement("link"),Xt(S);var N=S;return N._p=new Promise(function(I,G){N.onload=I,N.onerror=G}),xn(S,"link",p),s.state.loading|=4,id(S,c.precedence,r),s.instance=S;case"script":return S=Ko(c.src),(_=r.querySelector(Pu(S)))?(s.instance=_,Xt(_),_):(p=c,(_=Ti.get(S))&&(p=v({},c),vp(p,_)),r=r.ownerDocument||r,_=r.createElement("script"),Xt(_),xn(_,"link",p),r.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,id(p,c.precedence,r));return s.instance}function id(r,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,S=_,N=0;N<p.length;N++){var I=p[N];if(I.dataset.precedence===s)S=I;else if(S!==_)break}S?S.parentNode.insertBefore(r,S.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(r,s.firstChild))}function yp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var rd=null;function T_(r,s,c){if(rd===null){var p=new Map,_=rd=new Map;_.set(c,p)}else _=rd,p=_.get(c),p||(p=new Map,_.set(c,p));if(p.has(r))return p;for(p.set(r,null),c=c.getElementsByTagName(r),_=0;_<c.length;_++){var S=c[_];if(!(S[sa]||S[Yt]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(s)||"";N=r+N;var I=p.get(N);I?I.push(S):p.set(N,[S])}}return p}function k_(r,s,c){r=r.ownerDocument||r,r.head.insertBefore(c,s==="title"?r.querySelector("head > title"):null)}function BT(r,s,c){if(c===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function L_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function IT(r,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=Go(p.href),S=s.querySelector(Ou(_));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=sd.bind(r),s.then(r,r)),c.state.loading|=4,c.instance=S,Xt(S);return}S=s.ownerDocument||s,p=j_(p),(_=Ti.get(_))&&yp(p,_),S=S.createElement("link"),Xt(S);var N=S;N._p=new Promise(function(I,G){N.onload=I,N.onerror=G}),xn(S,"link",p),c.instance=S}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=sd.bind(r),s.addEventListener("load",c),s.addEventListener("error",c))}}var bp=0;function UT(r,s){return r.stylesheets&&r.count===0&&od(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var p=setTimeout(function(){if(r.stylesheets&&od(r,r.stylesheets),r.unsuspend){var S=r.unsuspend;r.unsuspend=null,S()}},6e4+s);0<r.imgBytes&&bp===0&&(bp=62500*_T());var _=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&od(r,r.stylesheets),r.unsuspend)){var S=r.unsuspend;r.unsuspend=null,S()}},(r.imgBytes>bp?50:800)+s);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ad=null;function od(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ad=new Map,s.forEach(VT,r),ad=null,sd.call(r))}function VT(r,s){if(!(s.state.loading&4)){var c=ad.get(r);if(c)var p=c.get(null);else{c=new Map,ad.set(r,c);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var N=_[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),p=N)}p&&c.set(null,p)}_=s.instance,N=_.getAttribute("data-precedence"),S=c.get(N)||p,S===p&&c.set(null,_),c.set(N,_),this.count++,p=sd.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),S?S.parentNode.insertBefore(_,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),s.state.loading|=4}}var Ru={$$typeof:M,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function HT(r,s,c,p,_,S,N,I,G){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.hiddenUpdates=zl(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function A_(r,s,c,p,_,S,N,I,G,ue,pe,xe){return r=new HT(r,s,c,N,G,ue,pe,xe,I),s=1,S===!0&&(s|=24),S=jn(3,null,null,s),r.current=S,S.stateNode=r,s=Jf(),s.refCount++,r.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:c,cache:s},nm(S),r}function N_(r){return r?(r=Dr,r):Dr}function M_(r,s,c,p,_,S){_=N_(_),p.context===null?p.context=_:p.pendingContext=_,p=js(s),p.payload={element:c},S=S===void 0?null:S,S!==null&&(p.callback=S),c=Es(r,p,s),c!==null&&(Wn(c,r,s),fu(c,r,s))}function O_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function _p(r,s){O_(r,s),(r=r.alternate)&&O_(r,s)}function P_(r){if(r.tag===13||r.tag===31){var s=Si(r,67108864);s!==null&&Wn(s,r,67108864),_p(r,67108864)}}function R_(r){if(r.tag===13||r.tag===31){var s=ci();s=Bn(s);var c=Si(r,s);c!==null&&Wn(c,r,s),_p(r,s)}}var ld=!0;function FT(r,s,c,p){var _=F.T;F.T=null;var S=ee.p;try{ee.p=2,xp(r,s,c,p)}finally{ee.p=S,F.T=_}}function qT(r,s,c,p){var _=F.T;F.T=null;var S=ee.p;try{ee.p=8,xp(r,s,c,p)}finally{ee.p=S,F.T=_}}function xp(r,s,c,p){if(ld){var _=wp(p);if(_===null)op(r,s,p,ud,c),z_(r,p);else if(ZT(_,r,s,c,p))p.stopPropagation();else if(z_(r,p),s&4&&-1<$T.indexOf(r)){for(;_!==null;){var S=ss(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Tr(S.pendingLanes);if(N!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var G=1<<31-yt(N);I.entanglements[1]|=G,N&=~G}gr(S),(ft&6)===0&&($h=gn()+500,Lu(0))}}break;case 31:case 13:I=Si(S,2),I!==null&&Wn(I,S,2),Gh(),_p(S,2)}if(S=wp(p),S===null&&op(r,s,p,ud,c),S===_)break;_=S}_!==null&&p.stopPropagation()}else op(r,s,p,null,c)}}function wp(r){return r=ca(r),Sp(r)}var ud=null;function Sp(r){if(ud=null,r=Ar(r),r!==null){var s=o(r);if(s===null)r=null;else{var c=s.tag;if(c===13){if(r=u(s),r!==null)return r;r=null}else if(c===31){if(r=h(s),r!==null)return r;r=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ud=r,null}function D_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dl()){case ge:return 2;case Ee:return 8;case Ie:case et:return 32;case lt:return 268435456;default:return 32}default:return 32}}var Cp=!1,zs=null,Bs=null,Is=null,Du=new Map,zu=new Map,Us=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(r,s){switch(r){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(s.pointerId)}}function Bu(r,s,c,p,_,S){return r===null||r.nativeEvent!==S?(r={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[_]},s!==null&&(s=ss(s),s!==null&&P_(s)),r):(r.eventSystemFlags|=p,s=r.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),r)}function ZT(r,s,c,p,_){switch(s){case"focusin":return zs=Bu(zs,r,s,c,p,_),!0;case"dragenter":return Bs=Bu(Bs,r,s,c,p,_),!0;case"mouseover":return Is=Bu(Is,r,s,c,p,_),!0;case"pointerover":var S=_.pointerId;return Du.set(S,Bu(Du.get(S)||null,r,s,c,p,_)),!0;case"gotpointercapture":return S=_.pointerId,zu.set(S,Bu(zu.get(S)||null,r,s,c,p,_)),!0}return!1}function B_(r){var s=Ar(r.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){r.blockedOn=s,Il(r.priority,function(){R_(c)});return}}else if(s===31){if(s=h(c),s!==null){r.blockedOn=s,Il(r.priority,function(){R_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function cd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var c=wp(r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);fo=p,c.target.dispatchEvent(p),fo=null}else return s=ss(c),s!==null&&P_(s),r.blockedOn=c,!1;s.shift()}return!0}function I_(r,s,c){cd(r)&&c.delete(s)}function GT(){Cp=!1,zs!==null&&cd(zs)&&(zs=null),Bs!==null&&cd(Bs)&&(Bs=null),Is!==null&&cd(Is)&&(Is=null),Du.forEach(I_),zu.forEach(I_)}function hd(r,s){r.blockedOn===s&&(r.blockedOn=null,Cp||(Cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GT)))}var dd=null;function U_(r){dd!==r&&(dd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dd===r&&(dd=null);for(var s=0;s<r.length;s+=3){var c=r[s],p=r[s+1],_=r[s+2];if(typeof p!="function"){if(Sp(p||c)===null)continue;break}var S=ss(c);S!==null&&(r.splice(s,3),s-=3,wm(S,{pending:!0,data:_,method:c.method,action:p},p,_))}}))}function Wo(r){function s(G){return hd(G,r)}zs!==null&&hd(zs,r),Bs!==null&&hd(Bs,r),Is!==null&&hd(Is,r),Du.forEach(s),zu.forEach(s);for(var c=0;c<Us.length;c++){var p=Us[c];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Us.length&&(c=Us[0],c.blockedOn===null);)B_(c),c.blockedOn===null&&Us.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var _=c[p],S=c[p+1],N=_[dn]||null;if(typeof S=="function")N||U_(c);else if(N){var I=null;if(S&&S.hasAttribute("formAction")){if(_=S,N=S[dn]||null)I=N.formAction;else if(Sp(_)!==null)continue}else I=N.action;typeof I=="function"?c[p+1]=I:(c.splice(p,3),p-=3),U_(c)}}}function V_(){function r(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return _=N})},focusReset:"manual",scroll:"manual"})}function s(){_!==null&&(_(),_=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),_!==null&&(_(),_=null)}}}function jp(r){this._internalRoot=r}fd.prototype.render=jp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var c=s.current,p=ci();M_(c,p,r,s,null,null)},fd.prototype.unmount=jp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;M_(r.current,2,null,r,null,null),Gh(),s[Lr]=null}};function fd(r){this._internalRoot=r}fd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bl();r={blockedOn:null,target:r,priority:s};for(var c=0;c<Us.length&&s!==0&&s<Us[c].priority;c++);Us.splice(c,0,r),c===0&&B_(r)}};var H_=t.version;if(H_!=="19.2.0")throw Error(i(527,H_,"19.2.0"));ee.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var KT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{hn=md.inject(KT),zt=md}catch{}}return Uu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var c=!1,p="",_=W0,S=Y0,N=X0;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=A_(r,1,!1,null,null,c,p,null,_,S,N,V_),r[Lr]=s.current,ap(r),new jp(s)},Uu.hydrateRoot=function(r,s,c){if(!a(r))throw Error(i(299));var p=!1,_="",S=W0,N=Y0,I=X0,G=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(G=c.formState)),s=A_(r,1,!0,s,c??null,p,_,G,S,N,I,V_),s.context=N_(null),c=s.current,p=ci(),p=Bn(p),_=js(p),_.callback=null,Es(c,_,p),c=p,s.current.lanes=c,kr(s,c),gr(s),r[Lr]=s.current,ap(r),new fd(s)},Uu.version="19.2.0",Uu}var J_;function ik(){if(J_)return kp.exports;J_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kp.exports=nk(),kp.exports}var rk=ik();function Cl(){const e="/Map";return e.endsWith("/")?e:`${e}/`}function Ji(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Cl();return e.startsWith("/assets/logos/")?`${t}${e.slice(1)}`:e.startsWith("logos/")?`${t}assets/logos/${e.slice(6)}`:`${t}assets/logos/${e}`}var Lg=function(e,t){return Lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Lg(e,t)};function wS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Hd=function(){return Hd=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hd.apply(this,arguments)};function jl(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function SS(e,t,n,i){var a=arguments.length,o=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,i);else for(var h=e.length-1;h>=0;h--)(u=e[h])&&(o=(a<3?u(o):a>3?u(t,n,o):u(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function CS(e,t){return function(n,i){t(n,i,e)}}function jS(e,t,n,i,a,o){function u(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var h=i.kind,f=h==="getter"?"get":h==="setter"?"set":"value",g=!t&&e?i.static?e:e.prototype:null,y=t||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),v,w=!1,x=n.length-1;x>=0;x--){var j={};for(var E in i)j[E]=E==="access"?{}:i[E];for(var E in i.access)j.access[E]=i.access[E];j.addInitializer=function(A){if(w)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(A||null))};var O=(0,n[x])(h==="accessor"?{get:y.get,set:y.set}:y[f],j);if(h==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(v=u(O.get))&&(y.get=v),(v=u(O.set))&&(y.set=v),(v=u(O.init))&&a.unshift(v)}else(v=u(O))&&(h==="field"?a.unshift(v):y[f]=v)}g&&Object.defineProperty(g,i.name,y),w=!0}function ES(e,t,n){for(var i=arguments.length>2,a=0;a<t.length;a++)n=i?t[a].call(e,n):t[a].call(e);return i?n:void 0}function TS(e){return typeof e=="symbol"?e:"".concat(e)}function kS(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function LS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Me(e,t,n,i){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function f(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?o(y.value):a(y.value).then(h,f)}g((i=i.apply(e,t||[])).next())})}function AS(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(y){return f([g,y])}}function f(g){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(o=g[0]&2?a.return:g[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,g[1])).done)return o;switch(a=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],a=0}finally{i=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var lf=Object.create?(function(e,t,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]});function NS(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&lf(t,e,n)}function Fd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ay(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),a,o=[],u;try{for(;(t===void 0||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(h){u={error:h}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return o}function MS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ay(arguments[t]));return e}function OS(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),a=0,t=0;t<n;t++)for(var o=arguments[t],u=0,h=o.length;u<h;u++,a++)i[a]=o[u];return i}function PS(e,t,n){if(n||arguments.length===2)for(var i=0,a=t.length,o;i<a;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function vl(e){return this instanceof vl?(this.v=e,this):new vl(e)}function RS(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(x){return function(j){return Promise.resolve(j).then(x,v)}}function h(x,j){i[x]&&(a[x]=function(E){return new Promise(function(O,A){o.push([x,E,O,A])>1||f(x,E)})},j&&(a[x]=j(a[x])))}function f(x,j){try{g(i[x](j))}catch(E){w(o[0][3],E)}}function g(x){x.value instanceof vl?Promise.resolve(x.value.v).then(y,v):w(o[0][2],x)}function y(x){f("next",x)}function v(x){f("throw",x)}function w(x,j){x(j),o.shift(),o.length&&f(o[0][0],o[0][1])}}function DS(e){var t,n;return t={},i("next"),i("throw",function(a){throw a}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(a,o){t[a]=e[a]?function(u){return(n=!n)?{value:vl(e[a](u)),done:!1}:o?o(u):u}:o}}function zS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Fd=="function"?Fd(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(u){return new Promise(function(h,f){u=e[o](u),a(h,f,u.done,u.value)})}}function a(o,u,h,f){Promise.resolve(f).then(function(g){o({value:g,done:h})},u)}}function BS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var sk=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ag=function(e){return Ag=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},Ag(e)};function IS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ag(e),i=0;i<n.length;i++)n[i]!=="default"&&lf(t,e,n[i]);return sk(t,e),t}function US(e){return e&&e.__esModule?e:{default:e}}function VS(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function HS(e,t,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n}function FS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function qS(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var ak=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function $S(e){function t(o){e.error=e.hasError?new ak(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,i=0;function a(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(a);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(a,function(u){return t(u),a()})}else i|=1}catch(u){t(u)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function ZS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,o,u){return i?t?".jsx":".js":a&&(!o||!u)?n:a+o+"."+u.toLowerCase()+"js"}):e}const ok={__extends:wS,__assign:Hd,__rest:jl,__decorate:SS,__param:CS,__esDecorate:jS,__runInitializers:ES,__propKey:TS,__setFunctionName:kS,__metadata:LS,__awaiter:Me,__generator:AS,__createBinding:lf,__exportStar:NS,__values:Fd,__read:Ay,__spread:MS,__spreadArrays:OS,__spreadArray:PS,__await:vl,__asyncGenerator:RS,__asyncDelegator:DS,__asyncValues:zS,__makeTemplateObject:BS,__importStar:IS,__importDefault:US,__classPrivateFieldGet:VS,__classPrivateFieldSet:HS,__classPrivateFieldIn:FS,__addDisposableResource:qS,__disposeResources:$S,__rewriteRelativeImportExtension:ZS},lk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qS,get __assign(){return Hd},__asyncDelegator:DS,__asyncGenerator:RS,__asyncValues:zS,__await:vl,__awaiter:Me,__classPrivateFieldGet:VS,__classPrivateFieldIn:FS,__classPrivateFieldSet:HS,__createBinding:lf,__decorate:SS,__disposeResources:$S,__esDecorate:jS,__exportStar:NS,__extends:wS,__generator:AS,__importDefault:US,__importStar:IS,__makeTemplateObject:BS,__metadata:LS,__param:CS,__propKey:TS,__read:Ay,__rest:jl,__rewriteRelativeImportExtension:ZS,__runInitializers:ES,__setFunctionName:kS,__spread:MS,__spreadArray:PS,__spreadArrays:OS,__values:Fd,default:ok},Symbol.toStringTag,{value:"Module"})),uk="modulepreload",ck=function(e){return"/Map/"+e},Q_={},Qi=function(t,n,i){let a=Promise.resolve();if(n&&n.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(n.map(g=>{if(g=ck(g),g in Q_)return;Q_[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":uk,y||(w.as="script"),w.crossOrigin="",w.href=g,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((x,j)=>{w.addEventListener("load",x),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},hk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class Ny extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class ex extends Ny{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tx extends Ny{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nx extends Ny{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ng;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ng||(Ng={}));class dk{constructor(t,{headers:n={},customFetch:i,region:a=Ng.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=hk(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Me(this,arguments,void 0,function*(n,i={}){var a;try{const{headers:o,method:u,body:h,signal:f}=i;let g={},{region:y}=i;y||(y=this.region);const v=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;const x=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:w,signal:f}).catch(A=>{throw A.name==="AbortError"?A:new ex(A)}),j=x.headers.get("x-relay-error");if(j&&j==="true")throw new tx(x);if(!x.ok)throw new nx(x);let E=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield x.json():E==="application/octet-stream"||E==="application/pdf"?O=yield x.blob():E==="text/event-stream"?O=x:E==="multipart/form-data"?O=yield x.formData():O=yield x.text(),{data:O,error:null,response:x}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ex(o)}:{data:null,error:o,response:o instanceof nx||o instanceof tx?o.context:void 0}}})}}var Tn={};const El=_S(lk);var pd={},gd={},yd={},vd={},bd={},fk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bl=fk();const mk=bl.fetch,GS=bl.fetch.bind(bl),KS=bl.Headers,pk=bl.Request,gk=bl.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:KS,Request:pk,Response:gk,default:GS,fetch:mk},Symbol.toStringTag,{value:"Module"})),yk=_S(to);var _d={},ix;function WS(){if(ix)return _d;ix=1,Object.defineProperty(_d,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _d.default=e,_d}var rx;function YS(){if(rx)return bd;rx=1,Object.defineProperty(bd,"__esModule",{value:!0});const e=El,t=e.__importDefault(yk),n=e.__importDefault(WS());class i{constructor(o){var u,h;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(h=o.isMaybeSingle)!==null&&h!==void 0?h:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,w,x;let j=null,E=null,O=null,A=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const B=await g.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?E=B:E=JSON.parse(B))}const U=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),V=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");U&&V&&V.length>1&&(O=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(j={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,O=null,A=406,P="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const U=await g.text();try{j=JSON.parse(U),Array.isArray(j)&&g.status===404&&(E=[],j=null,A=200,P="OK")}catch{g.status===404&&U===""?(A=204,P="No Content"):j={message:U}}if(j&&this.isMaybeSingle&&(!((x=j?.details)===null||x===void 0)&&x.includes("0 rows"))&&(j=null,A=200,P="OK"),j&&this.shouldThrowOnError)throw new n.default(j)}return{error:j,data:E,count:O,status:A,statusText:P}});return this.shouldThrowOnError||(f=f.catch(g=>{var y,v,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,u)}returns(){return this}overrideTypes(){return this}}return bd.default=i,bd}var sx;function XS(){if(sx)return vd;sx=1,Object.defineProperty(vd,"__esModule",{value:!0});const t=El.__importDefault(YS());class n extends t.default{select(a){let o=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const g=f?`${f}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(g,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:g="text"}={}){var y;const v=[a?"analyze":null,o?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return vd.default=n,vd}var ax;function My(){if(ax)return yd;ax=1,Object.defineProperty(yd,"__esModule",{value:!0});const t=El.__importDefault(XS());class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const u=Array.from(new Set(o)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${g}.${o}`),this}match(a){return Object.entries(a).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(a,o,u){return this.url.searchParams.append(a,`not.${o}.${u}`),this}or(a,{foreignTable:o,referencedTable:u=o}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,o,u){return this.url.searchParams.append(a,`${o}.${u}`),this}}return yd.default=n,yd}var ox;function JS(){if(ox)return gd;ox=1,Object.defineProperty(gd,"__esModule",{value:!0});const t=El.__importDefault(My());class n{constructor(a,{headers:o={},schema:u,fetch:h}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=h}select(a,o){const{head:u=!1,count:h}=o??{},f=u?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var h;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(v.length>0){const w=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:o}={}){var u;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return gd.default=n,gd}var lx;function vk(){if(lx)return pd;lx=1,Object.defineProperty(pd,"__esModule",{value:!0});const e=El,t=e.__importDefault(JS()),n=e.__importDefault(My());class i{constructor(o,{headers:u={},schema:h,fetch:f}={}){this.url=o,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:h=!1,get:f=!1,count:g}={}){var y;let v;const w=new URL(`${this.url}/rpc/${o}`);let x;h||f?(v=h?"HEAD":"GET",Object.entries(u).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{w.searchParams.append(E,O)})):(v="POST",x=u);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new n.default({method:v,url:w,headers:j,schema:this.schemaName,body:x,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return pd.default=i,pd}var ux;function bk(){if(ux)return Tn;ux=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.PostgrestError=Tn.PostgrestBuilder=Tn.PostgrestTransformBuilder=Tn.PostgrestFilterBuilder=Tn.PostgrestQueryBuilder=Tn.PostgrestClient=void 0;const e=El,t=e.__importDefault(vk());Tn.PostgrestClient=t.default;const n=e.__importDefault(JS());Tn.PostgrestQueryBuilder=n.default;const i=e.__importDefault(My());Tn.PostgrestFilterBuilder=i.default;const a=e.__importDefault(XS());Tn.PostgrestTransformBuilder=a.default;const o=e.__importDefault(YS());Tn.PostgrestBuilder=o.default;const u=e.__importDefault(WS());return Tn.PostgrestError=u.default,Tn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},Tn}var _k=bk();const xk=eo(_k),{PostgrestClient:wk,PostgrestQueryBuilder:C9,PostgrestFilterBuilder:j9,PostgrestTransformBuilder:E9,PostgrestBuilder:T9,PostgrestError:k9}=xk;class Sk{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ck="2.76.1",jk=`realtime-js/${Ck}`,Ek="1.0.0",Mg=1e4,Tk=1e3,kk=100;var ec;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ec||(ec={}));var cn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cn||(cn={}));var Xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xi||(Xi={}));var Og;(function(e){e.websocket="websocket"})(Og||(Og={}));var Za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Za||(Za={}));class Lk{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const a=n.getUint8(1),o=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(t.slice(u,u+a));u=u+a;const f=i.decode(t.slice(u,u+o));u=u+o;const g=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:f,payload:g}}}class QS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const cx=(e,t,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,u)=>(o[u]=Ak(u,e,t,a),o),{}):{}},Ak=(e,t,n,i)=>{const a=t.find(h=>h.name===e),o=a?.type,u=n[e];return o&&!i.includes(o)?e2(o,u):Pg(u)},e2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Pk(t,n)}switch(e){case Et.bool:return Nk(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return Mk(t);case Et.json:case Et.jsonb:return Ok(t);case Et.timestamp:return Rk(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return Pg(t);default:return Pg(t)}},Pg=e=>e,Nk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ok=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Pk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const u=e.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>e2(t,h))}return e},Rk=e=>typeof e=="string"?e.replace(" ","T"):e,t2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mp{constructor(t,n,i={},a=Mg){this.channel=t,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hx||(hx={}));class tc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,a,o,u),this.pendingDiffs.forEach(f=>{this.state=tc.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=tc.syncDiff(this.state,a,o,u),h())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,a){const o=this.cloneDeep(t),u=this.transformState(n),h={},f={};return this.map(o,(g,y)=>{u[g]||(f[g]=y)}),this.map(u,(g,y)=>{const v=o[g];if(v){const w=y.map(O=>O.presence_ref),x=v.map(O=>O.presence_ref),j=y.filter(O=>x.indexOf(O.presence_ref)<0),E=v.filter(O=>w.indexOf(O.presence_ref)<0);j.length>0&&(h[g]=j),E.length>0&&(f[g]=E)}else h[g]=y}),this.syncDiff(o,{joins:h,leaves:f},i,a)}static syncDiff(t,n,i,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(h,f)=>{var g;const y=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(f),y.length>0){const v=t[h].map(x=>x.presence_ref),w=y.filter(x=>v.indexOf(x.presence_ref)<0);t[h].unshift(...w)}i(h,y,f)}),this.map(u,(h,f)=>{let g=t[h];if(!g)return;const y=f.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[h]=g,a(h,g,f),g.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const a=t[i];return"metas"in a?n[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dx||(dx={}));var nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nc||(nc={}));var Xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class Oy{constructor(t,n={config:{}},i){var a,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mp(this,Xi.join,this.params,this.timeout),this.rejoinTimer=new QS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xi.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new tc(this),this.broadcastEndpointURL=t2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==cn.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Xr.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Xr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var j;if(this.socket.setAuth(),x===void 0){t?.(Xr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(j=E?.length)!==null&&j!==void 0?j:0,A=[];for(let P=0;P<O;P++){const M=E[P],{filter:{event:U,schema:V,table:B,filter:q}}=M,te=x&&x[P];if(te&&te.event===U&&te.schema===V&&te.table===B&&te.filter===q)A.push(Object.assign(Object.assign({},M),{id:te.id}));else{this.unsubscribe(),this.state=cn.errored,t?.(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(Xr.SUBSCRIBED);return}}).receive("error",x=>{this.state=cn.errored,t?.(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===cn.joined&&t===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const g=await h.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,f;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xi.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Mp(this,Xi.leave,{},t),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mp(this,t,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kk){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var a,o;const u=t.toLocaleLowerCase(),{close:h,error:f,leave:g,join:y}=Xi;if(i&&[h,f,g,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var j,E,O;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((O=(E=x.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(x=>x.callback(w,i)):(o=this.bindings[u])===null||o===void 0||o.filter(x=>{var j,E,O,A,P,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const U=x.id,V=(j=x.filter)===null||j===void 0?void 0:j.event;return U&&((E=n.ids)===null||E===void 0?void 0:E.includes(U))&&(V==="*"||V?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const U=(P=(A=x?.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:E,table:O,commit_timestamp:A,type:P,errors:M}=j;w=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:A,eventType:P,new:{},old:{},errors:M}),this._getPayloadRecords(j))}x.callback(w,i)})}_isClosed(){return this.state===cn.closed}_isJoined(){return this.state===cn.joined}_isJoining(){return this.state===cn.joining}_isLeaving(){return this.state===cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Oy.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xi.close,{},t)}_onError(t){this._on(Xi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cx(t.columns,t.old_record)),n}}const Op=()=>{},xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dk=[1e3,2e3,5e3,1e4],zk=1e4,Bk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ik{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mg,this.transport=null,this.heartbeatIntervalMs=xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Op,this.ref=0,this.reconnectTimer=null,this.logger=Op,this.conn=null,this.sendBuffer=[],this.serializer=new Lk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...u)=>Qi(async()=>{const{default:h}=await Promise.resolve().then(()=>to);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...u)=>o(...u)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Og.websocket}`,this.httpEndpoint=t2(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ek}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ec.connecting:return Za.Connecting;case ec.open:return Za.Open;case ec.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Oy(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:a,ref:o}=t,u=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${i} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Tk,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:u}=n,h=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${i} ${a} ${h}`.trim(),o),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${i}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([Bk],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:jk};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Xi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new QS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,a,o,u,h,f,g,y;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Mg,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:xd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Op,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>Dk[v-1]||zk),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((v,w)=>w(JSON.stringify(v))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Py extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function It(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Uk extends Py{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rg extends Py{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Ry=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},Vk=()=>Me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qi(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),Dg=e=>{if(Array.isArray(e))return e.map(n=>Dg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Dg(i)}),t},Hk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fk=(e,t,n)=>Me(void 0,void 0,void 0,function*(){const i=yield Vk();e instanceof i&&!n?.noResolveJson?e.json().then(a=>{const o=e.status||500,u=a?.statusCode||o+"";t(new Uk(Pp(a),o,u))}).catch(a=>{t(new Rg(Pp(a),a))}):t(new Rg(Pp(e),e))}),qk=(e,t,n,i)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!i?a:(Hk(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function Ac(e,t,n,i,a,o){return Me(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,qk(t,i,a,o)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>Fk(f,h,i))})})}function dc(e,t,n,i){return Me(this,void 0,void 0,function*(){return Ac(e,"GET",t,n,i)})}function Yi(e,t,n,i,a){return Me(this,void 0,void 0,function*(){return Ac(e,"POST",t,i,a,n)})}function zg(e,t,n,i,a){return Me(this,void 0,void 0,function*(){return Ac(e,"PUT",t,i,a,n)})}function $k(e,t,n,i){return Me(this,void 0,void 0,function*(){return Ac(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Dy(e,t,n,i,a){return Me(this,void 0,void 0,function*(){return Ac(e,"DELETE",t,i,a,n)})}class Zk{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}var n2;class Gk{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[n2]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zk(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}n2=Symbol.toStringTag;const Kk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wk{constructor(t,n={},i,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=Ry(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,a){return Me(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},fx),a);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),v=yield(t=="PUT"?zg:Yi)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}upload(t,n,i){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,a){return Me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const g=Object.assign({upsert:fx.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",g.cacheControl)):(f=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield zg(this.fetch,h.toString(),f,{headers:y});return{data:{path:o,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(It(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const o=yield Yi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+o.url),h=u.searchParams.get("token");if(!h)throw new Py("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}update(t,n,i){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}copy(t,n,i){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,i){return Me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Yi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,i){return Me(this,void 0,void 0,function*(){try{const a=yield Yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}download(t,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",h=this._getFinalPath(t),f=()=>dc(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Gk(f,this.shouldThrowOnError)}info(t){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield dc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dg(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}exists(t){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $k(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i)&&i instanceof Rg){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),a=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}list(t,n,i){return Me(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kk),n),{prefix:t||""});return{data:yield Yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}listV2(t,n){return Me(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield Yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const i2="2.76.1",r2={"X-Client-Info":`storage-js/${i2}`};class Yk{constructor(t,n={},i,a){this.shouldThrowOnError=!1;const o=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r2),n),this.fetch=Ry(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}createBucket(t){return Me(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}updateBucket(t,n){return Me(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}}class Xk{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r2),n),this.fetch=Ry(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}listBuckets(t){return Me(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,o=yield dc(this.fetch,a,{headers:this.headers});return{data:Array.isArray(o)?o.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}}const zy={"X-Client-Info":`storage-js/${i2}`,"Content-Type":"application/json"};class s2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function fi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Rp extends s2{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jk extends s2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var mx;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(mx||(mx={}));const By=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},Qk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},px=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eL=(e,t,n)=>Me(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const h=u?.statusCode||u?.code||a+"";t(new Rp(px(u),a,h))}).catch(()=>{const u=a+"",h=o.statusText||`HTTP ${a} error`;t(new Rp(h,a,u))});else{const u=a+"",h=o.statusText||`HTTP ${a} error`;t(new Rp(h,a,u))}}else t(new Jk(px(e),e))}),tL=(e,t,n,i)=>{const a={method:e,headers:t?.headers||{}};return i?(Qk(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function nL(e,t,n,i,a,o){return Me(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,tL(t,i,a,o)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;const g=f.headers.get("content-type");return!g||!g.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>eL(f,h,i))})})}function mi(e,t,n,i,a){return Me(this,void 0,void 0,function*(){return nL(e,"POST",t,i,a,n)})}class iL{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zy),n),this.fetch=By(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Me(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fi(i))return{data:null,error:i};throw i}})}listIndexes(t){return Me(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Me(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fi(i))return{data:null,error:i};throw i}})}}class rL{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zy),n),this.fetch=By(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}getVectors(t){return Me(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}listVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield mi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Me(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}}class sL{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zy),n),this.fetch=By(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}getBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}listBuckets(){return Me(this,arguments,void 0,function*(t={}){try{return{data:yield mi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}}class aL extends sL{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new oL(this.url,this.headers,t,this.fetch)}}class oL extends iL{constructor(t,n,i,a){super(t,n,a),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new lL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class lL extends rL{constructor(t,n,i,a,o){super(t,n,o),this.vectorBucketName=i,this.indexName=a}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uL extends Yk{constructor(t,n={},i,a){super(t,n,i,a)}from(t){return new Wk(this.url,this.headers,t,this.fetch)}get vectors(){return new aL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xk(this.url+"/iceberg",this.headers,this.fetch)}}const cL="2.76.1";let Yu="";typeof Deno<"u"?Yu="deno":typeof document<"u"?Yu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yu="react-native":Yu="node";const hL={"X-Client-Info":`supabase-js-${Yu}/${cL}`},dL={headers:hL},fL={schema:"public"},mL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pL={},gL=e=>{let t;return e?t=e:typeof fetch>"u"?t=GS:t=fetch,(...n)=>t(...n)},yL=()=>typeof Headers>"u"?KS:Headers,vL=(e,t,n)=>{const i=gL(n),a=yL();return async(o,u)=>{var h;const f=(h=await t())!==null&&h!==void 0?h:e;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),i(o,Object.assign(Object.assign({},u),{headers:g}))}};function bL(e){return e.endsWith("/")?e:e+"/"}function _L(e,t){var n,i;const{db:a,auth:o,realtime:u,global:h}=e,{db:f,auth:g,realtime:y,global:v}=t,w={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},g),o),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function xL(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const a2="2.76.1",rl=30*1e3,Bg=3,Dp=Bg*rl,wL="http://localhost:9999",SL="supabase.auth.token",CL={"X-Client-Info":`gotrue-js/${a2}`},Ig="X-Supabase-Api-Version",o2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EL=600*1e3;class fc extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TL extends fc{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function kL(e){return Be(e)&&e.name==="AuthApiError"}class Ga extends fc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ys extends fc{constructor(t,n,i,a){super(t,i,a),this.name=n,this.status=i}}class $s extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LL(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Yo extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wd extends Ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Sd extends Ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AL(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class gx extends Ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ug extends Ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zp(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class yx extends Ys{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Vg extends Ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vx=` 	
\r=`.split(""),NL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vx.length;t+=1)e[vx[t].charCodeAt(0)]=-2;for(let t=0;t<qd.length;t+=1)e[qd[t].charCodeAt(0)]=t;return e})();function bx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(qd[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(qd[i]),t.queuedBits-=6}}function l2(e,t,n){const i=NL[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _x(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{PL(u,i,n)};for(let u=0;u<e.length;u+=1)l2(e.charCodeAt(u),a,o);return t.join("")}function ML(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OL(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}ML(i,t)}}function PL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hl(e){const t=[],n={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)l2(e.charCodeAt(a),n,i);return new Uint8Array(t)}function RL(e){const t=[];return OL(e,n=>t.push(n)),new Uint8Array(t)}function Ka(e){const t=[],n={queue:0,queuedBits:0},i=a=>{t.push(a)};return e.forEach(a=>bx(a,n,i)),bx(null,n,i),t.join("")}function DL(e){return Math.round(Date.now()/1e3)+e}function zL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const di=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},u2=()=>{if(!di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function BL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return n.searchParams.forEach((i,a)=>{t[a]=i}),t}const c2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qi(async()=>{const{default:i}=await Promise.resolve().then(()=>to);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},IL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Va=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hs=async(e,t)=>{await e.removeItem(t)};class uf{constructor(){this.promise=new uf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}uf.promiseConstructor=Promise;function Bp(e){const t=e.split(".");if(t.length!==3)throw new Vg("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!jL.test(t[i]))throw new Vg("JWT not in base64url format");return{header:JSON.parse(_x(t[0])),payload:JSON.parse(_x(t[1])),signature:hl(t[2]),raw:{header:t[0],payload:t[1]}}}async function UL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VL(e,t){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){i(u);return}}catch(u){if(!t(o,u)){a(u);return}}})()})}function HL(e){return("0"+e.toString(16)).substr(-2)}function FL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,HL).join("")}async function qL(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function $L(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await qL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xo(e,t,n=!1){const i=FL();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await sl(e,`${t}-code-verifier`,a);const o=await $L(i);return[o,i===o?"plain":"s256"]}const ZL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GL(e){const t=e.headers.get(Ig);if(!t||!t.match(ZL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jo(e){if(!YL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ip(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xx(e){return JSON.parse(JSON.stringify(e))}const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XL=[502,503,504];async function wx(e){var t;if(!IL(e))throw new Ug(qa(e),0);if(XL.includes(e.status))throw new Ug(qa(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ga(qa(o),o)}let i;const a=GL(e);if(a&&a.getTime()>=o2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new yx(qa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new $s}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new yx(qa(n),e.status,n.weak_password.reasons);throw new TL(qa(n),e.status||500,i)}const JL=(e,t,n,i)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function We(e,t,n,i){var a;const o=Object.assign({},i?.headers);o[Ig]||(o[Ig]=o2["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await QL(e,t,n+h,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function QL(e,t,n,i,a,o){const u=JL(t,i,a,o);let h;try{h=await e(n,Object.assign({},u))}catch(f){throw console.error(f),new Ug(qa(f),0)}if(h.ok||await wx(h),i?.noResolveJson)return h;try{return await h.json()}catch(f){await wx(f)}}function Ki(e){var t;let n=null;nA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=DL(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Sx(e){const t=Ki(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eA(e){return{data:e,error:null}}function tA(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o}=e,u=jl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Cx(e){return e}function nA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Up=["global","local","others"];class iA{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=c2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Up[0]){if(Up.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Up.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gs})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=jl(t,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tA,redirectTo:n?.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,a,o,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},y=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Cx});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Be(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Jo(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Jo(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gs})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Jo(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gs})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Jo(t.userId);try{const{data:n,error:i}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Jo(t.userId),Jo(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,a,o,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},y=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Cx});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Be(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}}function jx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Qo={debug:!!(globalThis&&u2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rA extends h2{}async function sA(e,t,n){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function aA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function d2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oA(e){return parseInt(e,16)}function lA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function uA(e){var t;const{chainId:n,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:f,resources:g,scheme:y,uri:v,version:w}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=d2(e.address),j=y?`${y}://${i}`:i,E=e.statement?`${e.statement}
`:"",O=`${j} wants you to sign in with your Ethereum account:
${x}

${E}`;let A=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),h&&(A+=`
Not Before: ${h.toISOString()}`),f&&(A+=`
Request ID: ${f}`),g){let P=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);P+=`
- ${M}`}A+=P}return`${O}
${A}`}class rn extends Error{constructor({message:t,code:n,cause:i,name:a}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class $d extends rn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function cA({error:e,options:t}){var n,i,a;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(f2(u)){if(o.rp.id!==u)return new rn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(f2(i)){if(n.rpId!==i)return new rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fA=new dA;function mA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,a=jl(e,["challenge","user","excludeCredentials"]),o=hl(t).buffer,u=Object.assign(Object.assign({},n),{id:hl(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:o,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const g=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:hl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function pA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=jl(e,["challenge","allowCredentials"]),a=hl(t).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:hl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function gA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ka(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ka(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ka(new Uint8Array(a.authenticatorData)),clientDataJSON:Ka(new Uint8Array(a.clientDataJSON)),signature:Ka(new Uint8Array(a.signature)),userHandle:a.userHandle?Ka(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function f2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ex(){var e,t;return!!(di()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:cA({error:t,options:e})}}}async function bA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:hA({error:t,options:e})}}}const _A={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xA={userVerification:"preferred",hints:["security-key"]};function Zd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of e)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(n(u))i[o]=u;else if(t(u)){const h=i[o];t(h)?i[o]=Zd(h,u):i[o]=Zd(u)}else i[o]=u}return i}function wA(e,t){return Zd(_A,e,t||{})}function SA(e,t){return Zd(xA,e,t||{})}class CA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:a},o){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:h};const f=a??fA.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=wA(u.webauthn.credential_options.publicKey,o?.create),{data:y,error:v}=await vA({publicKey:g,signal:f});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=SA(u.webauthn.credential_options.publicKey,o?.request),{data:y,error:v}=await bA(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:f}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},o){if(!n)return{data:null,error:new fc("rpId is required for WebAuthn authentication")};try{if(!Ex())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:o});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},o){if(!n)return{data:null,error:new fc("rpId is required for WebAuthn registration")};try{if(!Ex())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:f,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(u){return Be(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in register",u)}}}}aA();const jA={url:wL,storageKey:SL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tx(e,t,n){return await n()}const el={};class mc{get jwks(){var t,n;return(n=(t=el[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){el[this.storageKey]=Object.assign(Object.assign({},el[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=el[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){el[this.storageKey]=Object.assign(Object.assign({},el[this.storageKey]),{cachedAt:t})}constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mc.nextInstanceID,mc.nextInstanceID+=1,this.instanceID>0&&di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},jA),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new iA({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=c2(a.fetch),this.lock=a.lock||Tx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:di()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=sA:this.lock=Tx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CA(this)},this.persistSession?(a.storage?this.storage=a.storage:u2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=jx(this.memoryStorage)),di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=BL(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),di()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),AL(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new Ga("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,a;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ki}),{data:u,error:h}=o;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,i,a;try{let o;if("email"in t){const{email:y,password:v,options:w}=t;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await Xo(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:j},xform:Ki})}else if("phone"in t){const{phone:y,password:v,options:w}=t;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ki})}else throw new wd("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:u,options:h}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Sx})}else if("phone"in t){const{phone:o,password:u,options:h}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Sx})}else throw new wd("You must provide either an email or phone number and a password");const{data:i,error:a}=n;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Yo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,a,o,u,h,f,g,y,v,w;let x,j;if("message"in t)x=t.message,j=t.signature;else{const{chain:E,wallet:O,statement:A,options:P}=t;let M;if(di())if(typeof O=="object")M=O;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")M=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=O}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),V=await M.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=d2(V[0]);let q=(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!q){const K=await M.request({method:"eth_chainId"});q=oA(K)}const te={domain:U.host,address:B,statement:A,uri:U.href,version:"1",chainId:q,nonce:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=P?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=uA(te),j=await M.request({method:"personal_sign",params:[lA(x),B]})}try{const{data:E,error:O}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:j},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ki});if(O)throw O;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Yo}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:O})}catch(E){if(Be(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var n,i,a,o,u,h,f,g,y,v,w,x;let j,E;if("message"in t)j=t.message,E=t.signature;else{const{chain:O,wallet:A,statement:P,options:M}=t;let U;if(di())if(typeof A=="object")U=A;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))U=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=A}const V=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const B=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),P?{statement:P}:null));let q;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")q=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)q=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)j=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),E=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${V.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(a=(i=M?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=M?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((v=(y=M?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...M.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const B=await U.signMessage(new TextEncoder().encode(j),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=B}}try{const{data:O,error:A}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Ka(E)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ki});if(A)throw A;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Yo}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:A})}catch(O){if(Be(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await Va(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ki});if(await Hs(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(Be(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:a,access_token:o,nonce:u}=t,h=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ki}),{data:f,error:g}=h;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Yo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:g})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,a,o,u;try{if("email"in t){const{email:h,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Xo(this.storage,this.storageKey));const{error:v}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:f}=t,{data:g,error:y}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new wd("You must provide either an email or phone number.")}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,i;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ki});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,g=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,i,a;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await Xo(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:eA})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new $s;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:o}=t,{error:u}=await We(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:a,options:o}=t,{data:u,error:h}=await We(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new wd("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Dp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await Va(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Ip()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,g,y)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,g,y))})}return{data:{session:t},error:null}}const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gs}):await this._useSession(async n=>{var i,a,o;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Gs})})}catch(n){if(Be(n))return LL(n)&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new $s;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Xo(this.storage,this.storageKey));const{data:g,error:y}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:Gs});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Be(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const n=Date.now()/1e3;let i=n,a=!0,o=null;const{payload:u}=Bp(t.access_token);if(u.exp&&(i=u.exp,a=i<=n),a){const{data:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new $s;const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!di())throw new Sd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Sd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gx("No code detected.");const{data:P,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:h,expires_at:f,token_type:g}=t;if(!o||!h||!u||!g)throw new Sd("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let w=y+v;f&&(w=parseInt(f));const x=w-y;x*1e3<=rl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const j=w-v;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,y);const{data:E,error:O}=await this._getUser(o);if(O)throw O;const A={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:v,expires_at:w,refresh_token:u,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:t.type},error:null}}catch(i){if(Be(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{error:o};const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(kL(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=zL(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Xo(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:a}=await this._useSession(async o=>{var u,h,f,g,y;const{data:v,error:w}=o;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return di()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Be(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:u,provider:h,token:f,access_token:g,nonce:y}=t,v=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ki}),{data:w,error:x}=v;return x?{data:{user:null,session:null},error:x}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Yo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:x})}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,a;const{data:o,error:u}=n;if(u)throw u;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await VL(async a=>(a>0&&await UL(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ki})),(a,o)=>{const u=200*Math.pow(2,a);return o&&zp(o)&&Date.now()+u-i<rl})}catch(i){if(this._debug(n,"error",i),Be(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),di()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Va(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await sl(this.userStorage,this.storageKey+"-user",u)),a.user=(t=u?.user)!==null&&t!==void 0?t:Ip()}else if(a&&!a.user&&!a.user){const u=await Va(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Hs(this.storage,this.storageKey+"-user"),await sl(this.storage,this.storageKey,a)):a.user=Ip()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dp;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Dp}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),zp(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new uf;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new $s;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),Be(o)){const u={data:null,error:o};return zp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await sl(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=xx(a);await sl(this.storage,this.storageKey,o)}else{const a=xx(n);await sl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Hs(this.storage,this.storageKey),await Hs(this.storage,this.storageKey+"-code-verifier"),await Hs(this.storage,this.storageKey+"-user"),this.userStorage&&await Hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&di()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/rl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rl}ms, refresh threshold is ${Bg} ticks`),a<=Bg&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof h2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!di()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Xo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:g}=await We(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gA(t.webauthn.credential_response):yA(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:f}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mA(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:pA(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bp(a.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((i=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(h=>h.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+EL>a)return i;const{data:o,error:u}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:x,error:j}=await this.getSession();if(j||!x.session)return{data:null,error:j};i=x.session.access_token}const{header:a,payload:o,signature:u,raw:{header:h,payload:f}}=Bp(i);n?.allowExpired||KL(o.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:o,header:a,signature:u},error:null}}const y=WL(a.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,RL(`${h}.${f}`)))throw new Vg("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}}}mc.nextInstanceID=0;const EA=mc;class TA extends EA{constructor(t){super(t)}}class kA{constructor(t,n,i){var a,o,u;this.supabaseUrl=t,this.supabaseKey=n;const h=xL(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:fL,realtime:pL,auth:Object.assign(Object.assign({},mL),{storageKey:f}),global:dL},y=_L(i??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=vL(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new wk(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new uL(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new dk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:o,storageKey:u,flowType:h,lock:f,debug:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TA({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:o,flowType:h,lock:f,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ik(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LA=(e,t,n)=>new kA(e,t,n);function AA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}AA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NA="https://xtkbvnnkovogqwcwdhkg.supabase.co",MA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0a2J2bm5rb3ZvZ3F3Y3dkaGtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMzg5ODEsImV4cCI6MjA3NjgxNDk4MX0.71MqQy05baMcDaGI5Xq_fUbcjgGvA0rjnNuXtacEwKs",ye=LA(NA,MA,{auth:{storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),m2=Object.freeze(Object.defineProperty({__proto__:null,supabase:ye},Symbol.toStringTag,{value:"Module"}));/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kx="popstate";function OA(e={}){function t(a,o){let{pathname:u="/",search:h="",hash:f=""}=no(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Hg("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=a.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:pc(o))}function i(a,o){Oi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return RA(t,n,i,e)}function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PA(){return Math.random().toString(36).substring(2,10)}function Lx(e,t){return{usr:e.state,key:e.key,idx:t}}function Hg(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?no(t):t,state:n,key:t&&t.key||i||PA()}}function pc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function no(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function RA(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let O=y(),A=O==null?null:O-g;g=O,f&&f({action:h,location:E.location,delta:A})}function w(O,A){h="PUSH";let P=Hg(E.location,O,A);n&&n(P,O),g=y()+1;let M=Lx(P,g),U=E.createHref(P);try{u.pushState(M,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(U)}o&&f&&f({action:h,location:E.location,delta:1})}function x(O,A){h="REPLACE";let P=Hg(E.location,O,A);n&&n(P,O),g=y();let M=Lx(P,g),U=E.createHref(P);u.replaceState(M,"",U),o&&f&&f({action:h,location:E.location,delta:0})}function j(O){return DA(O)}let E={get action(){return h},get location(){return e(a,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(kx,v),f=O,()=>{a.removeEventListener(kx,v),f=null}},createHref(O){return t(a,O)},createURL:j,encodeLocation(O){let A=j(O);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:x,go(O){return u.go(O)}};return E}function DA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:pc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function p2(e,t,n="/"){return zA(e,t,n,!1)}function zA(e,t,n,i){let a=typeof t=="string"?no(t):t,o=Qr(a.pathname||"/",n);if(o==null)return null;let u=g2(e);BA(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=WA(o);h=GA(u[f],g,i)}return h}function g2(e,t=[],n=[],i="",a=!1){let o=(u,h,f=a,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;Vt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Jr([i,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),g2(u.children,t,w,v,f)),!(u.path==null&&!u.index)&&t.push({path:v,score:$A(v,u.index),routesMeta:w})};return e.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of y2(u.path))o(u,h,!0,f)}),t}function y2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=y2(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>e.startsWith("/")&&f===""?"/":f)}function BA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ZA(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var IA=/^:[\w-]+$/,UA=3,VA=2,HA=1,FA=10,qA=-2,Ax=e=>e==="*";function $A(e,t){let n=e.split("/"),i=n.length;return n.some(Ax)&&(i+=qA),t&&(i+=VA),n.filter(a=>!Ax(a)).reduce((a,o)=>a+(IA.test(o)?UA:o===""?HA:FA),i)}function ZA(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function GA(e,t,n=!1){let{routesMeta:i}=e,a={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),w=f.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=Gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Jr([o,v.pathname]),pathnameBase:QA(Jr([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Jr([o,v.pathnameBase]))}return u}function Gd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=KA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},w)=>{if(y==="*"){let j=h[w]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const x=h[w];return v&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function KA(e,t=!1,n=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function WA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function YA(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?no(e):e;return{pathname:n?n.startsWith("/")?n:XA(n,t):t,search:eN(i),hash:tN(a)}}function XA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vp(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v2(e){let t=JA(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function b2(e,t,n,i=!1){let a;typeof e=="string"?a=no(e):(a={...e},Vt(!a.pathname||!a.pathname.includes("?"),Vp("?","pathname","search",a)),Vt(!a.pathname||!a.pathname.includes("#"),Vp("#","pathname","hash",a)),Vt(!a.search||!a.search.includes("#"),Vp("#","search","hash",a)));let o=e===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}h=v>=0?t[v]:"/"}let f=YA(a,h),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var Jr=e=>e.join("/").replace(/\/\/+/g,"/"),QA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var _2=["POST","PUT","PATCH","DELETE"];new Set(_2);var iN=["GET",..._2];new Set(iN);var Tl=T.createContext(null);Tl.displayName="DataRouter";var cf=T.createContext(null);cf.displayName="DataRouterState";T.createContext(!1);var x2=T.createContext({isTransitioning:!1});x2.displayName="ViewTransition";var rN=T.createContext(new Map);rN.displayName="Fetchers";var sN=T.createContext(null);sN.displayName="Await";var Sr=T.createContext(null);Sr.displayName="Navigation";var Nc=T.createContext(null);Nc.displayName="Location";var Cr=T.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Iy=T.createContext(null);Iy.displayName="RouteError";function aN(e,{relative:t}={}){Vt(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=T.useContext(Sr),{hash:a,pathname:o,search:u}=Oc(e,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Jr([n,o])),i.createHref({pathname:h,search:u,hash:a})}function Mc(){return T.useContext(Nc)!=null}function er(){return Vt(Mc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Nc).location}var w2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S2(e){T.useContext(Sr).static||T.useLayoutEffect(e)}function kl(){let{isDataRoute:e}=T.useContext(Cr);return e?xN():oN()}function oN(){Vt(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Tl),{basename:t,navigator:n}=T.useContext(Sr),{matches:i}=T.useContext(Cr),{pathname:a}=er(),o=JSON.stringify(v2(i)),u=T.useRef(!1);return S2(()=>{u.current=!0}),T.useCallback((f,g={})=>{if(Oi(u.current,w2),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=b2(f,JSON.parse(o),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Jr([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,o,a,e])}var lN=T.createContext(null);function uN(e){let t=T.useContext(Cr).outlet;return T.useMemo(()=>t&&T.createElement(lN.Provider,{value:e},t),[t,e])}function Oc(e,{relative:t}={}){let{matches:n}=T.useContext(Cr),{pathname:i}=er(),a=JSON.stringify(v2(n));return T.useMemo(()=>b2(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function cN(e,t){return C2(e,t)}function C2(e,t,n,i,a){Vt(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(Sr),{matches:u}=T.useContext(Cr),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let P=v&&v.path||"";j2(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=er(),x;if(t){let P=typeof t=="string"?no(t):t;Vt(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=w;let j=x.pathname||"/",E=j;if(y!=="/"){let P=y.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(P.length).join("/")}let O=p2(e,{pathname:E});Oi(v||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Oi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=pN(O&&O.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Jr([y,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:Jr([y,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,n,i,a);return t&&A?T.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function hN(){let e=_N(),t=nN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:a},n):null,u)}var dN=T.createElement(hN,null),fN=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(Cr.Provider,{value:this.props.routeContext},T.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mN({routeContext:e,match:t,children:n}){let i=T.useContext(Tl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Cr.Provider,{value:e},n)}function pN(e,t=[],n=null,i=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Vt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:v,errors:w}=n,x=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||x){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,y,v)=>{let w,x=!1,j=null,E=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||dN,h&&(f<0&&v===0?(j2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):f===v&&(x=!0,E=y.route.hydrateFallbackElement||null)));let O=t.concat(o.slice(0,v+1)),A=()=>{let P;return w?P=j:x?P=E:y.route.Component?P=T.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=g,T.createElement(mN,{match:y,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:P})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?T.createElement(fN,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):A()},null)}function Uy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gN(e){let t=T.useContext(Tl);return Vt(t,Uy(e)),t}function yN(e){let t=T.useContext(cf);return Vt(t,Uy(e)),t}function vN(e){let t=T.useContext(Cr);return Vt(t,Uy(e)),t}function Vy(e){let t=vN(e),n=t.matches[t.matches.length-1];return Vt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bN(){return Vy("useRouteId")}function _N(){let e=T.useContext(Iy),t=yN("useRouteError"),n=Vy("useRouteError");return e!==void 0?e:t.errors?.[n]}function xN(){let{router:e}=gN("useNavigate"),t=Vy("useNavigate"),n=T.useRef(!1);return S2(()=>{n.current=!0}),T.useCallback(async(a,o={})=>{Oi(n.current,w2),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Nx={};function j2(e,t,n){!t&&!Nx[e]&&(Nx[e]=!0,Oi(!1,n))}T.memo(wN);function wN({routes:e,future:t,state:n,unstable_onError:i}){return C2(e,void 0,n,i,t)}function SN(e){return uN(e.context)}function Rn(e){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:o=!1}){Vt(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=no(n));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:w="default"}=n,x=T.useMemo(()=>{let j=Qr(f,u);return j==null?null:{location:{pathname:j,search:g,hash:y,state:v,key:w},navigationType:i}},[u,f,g,y,v,w,i]);return Oi(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Sr.Provider,{value:h},T.createElement(Nc.Provider,{children:t,value:x}))}function jN({children:e,location:t}){return cN(Fg(e),t)}function Fg(e,t=[]){let n=[];return T.Children.forEach(e,(i,a)=>{if(!T.isValidElement(i))return;let o=[...t,a];if(i.type===T.Fragment){n.push.apply(n,Fg(i.props.children,o));return}Vt(i.type===Rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Fg(i.props.children,o)),n.push(u)}),n}var Rd="get",Dd="application/x-www-form-urlencoded";function hf(e){return e!=null&&typeof e.tagName=="string"}function EN(e){return hf(e)&&e.tagName.toLowerCase()==="button"}function TN(e){return hf(e)&&e.tagName.toLowerCase()==="form"}function kN(e){return hf(e)&&e.tagName.toLowerCase()==="input"}function LN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AN(e,t){return e.button===0&&(!t||t==="_self")&&!LN(e)}function qg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function NN(e,t){let n=qg(e);return t&&t.forEach((i,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Cd=null;function MN(){if(Cd===null)try{new FormData(document.createElement("form"),0),Cd=!1}catch{Cd=!0}return Cd}var ON=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(e){return e!=null&&!ON.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):e}function PN(e,t){let n,i,a,o,u;if(TN(e)){let h=e.getAttribute("action");i=h?Qr(h,t):null,n=e.getAttribute("method")||Rd,a=Hp(e.getAttribute("enctype"))||Dd,o=new FormData(e)}else if(EN(e)||kN(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||h.getAttribute("action");if(i=f?Qr(f,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Rd,a=Hp(e.getAttribute("formenctype"))||Hp(h.getAttribute("enctype"))||Dd,o=new FormData(h,e),!MN()){let{name:g,type:y,value:v}=e;if(y==="image"){let w=g?`${g}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else g&&o.append(g,v)}}else{if(hf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rd,i=null,a=Dd,u=e}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Qr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function DN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BN(e,t,n){let i=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await DN(o,n);return u.links?u.links():[]}return[]}));return HN(i.flat(1).filter(zN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Mx(e,t,n,i,a,o){let u=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,h=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function IN(e,t,{includeHydrateFallback:n}={}){return UN(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function UN(e){return[...new Set(e)]}function VN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function HN(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let o=JSON.stringify(VN(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function E2(){let e=T.useContext(Tl);return Hy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FN(){let e=T.useContext(cf);return Hy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fy=T.createContext(void 0);Fy.displayName="FrameworkContext";function T2(){let e=T.useContext(Fy);return Hy(e,"You must render this element inside a <HydratedRouter> element"),e}function qN(e,t){let n=T.useContext(Fy),[i,a]=T.useState(!1),[o,u]=T.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,w=T.useRef(null);T.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=A=>{A.forEach(P=>{u(P.isIntersecting)})},O=new IntersectionObserver(E,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[e]),T.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let x=()=>{a(!0)},j=()=>{a(!1),u(!1)};return n?e!=="intent"?[o,w,{}]:[o,w,{onFocus:Vu(h,x),onBlur:Vu(f,j),onMouseEnter:Vu(g,x),onMouseLeave:Vu(y,j),onTouchStart:Vu(v,x)}]:[!1,w,{}]}function Vu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $N({page:e,...t}){let{router:n}=E2(),i=T.useMemo(()=>p2(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?T.createElement(GN,{page:e,matches:i,...t}):null}function ZN(e){let{manifest:t,routeModules:n}=T2(),[i,a]=T.useState([]);return T.useEffect(()=>{let o=!1;return BN(e,t,n).then(u=>{o||a(u)}),()=>{o=!0}},[e,t,n]),i}function GN({page:e,matches:t,...n}){let i=er(),{manifest:a,routeModules:o}=T2(),{basename:u}=E2(),{loaderData:h,matches:f}=FN(),g=T.useMemo(()=>Mx(e,t,f,a,i,"data"),[e,t,f,a,i]),y=T.useMemo(()=>Mx(e,t,f,a,i,"assets"),[e,t,f,a,i]),v=T.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let j=new Set,E=!1;if(t.forEach(A=>{let P=a.routes[A.route.id];!P||!P.hasLoader||(!g.some(M=>M.route.id===A.route.id)&&A.route.id in h&&o[A.route.id]?.shouldRevalidate||P.hasClientLoader?E=!0:j.add(A.route.id))}),j.size===0)return[];let O=RN(e,u,"data");return E&&j.size>0&&O.searchParams.set("_routes",t.filter(A=>j.has(A.route.id)).map(A=>A.route.id).join(",")),[O.pathname+O.search]},[u,h,i,a,g,t,e,o]),w=T.useMemo(()=>IN(y,a),[y,a]),x=ZN(y);return T.createElement(T.Fragment,null,v.map(j=>T.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>T.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),x.map(({key:j,link:E})=>T.createElement("link",{key:j,nonce:n.nonce,...E})))}function KN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k2&&(window.__reactRouterVersion="7.9.4")}catch{}function WN({basename:e,children:t,window:n}){let i=T.useRef();i.current==null&&(i.current=OA({window:n,v5Compat:!0}));let a=i.current,[o,u]=T.useState({action:a.action,location:a.location}),h=T.useCallback(f=>{T.startTransition(()=>u(f))},[u]);return T.useLayoutEffect(()=>a.listen(h),[a,h]),T.createElement(CN,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var L2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dl=T.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:y,viewTransition:v,...w},x){let{basename:j}=T.useContext(Sr),E=typeof g=="string"&&L2.test(g),O,A=!1;if(typeof g=="string"&&E&&(O=g,k2))try{let K=new URL(window.location.href),ae=g.startsWith("//")?new URL(K.protocol+g):new URL(g),$=Qr(ae.pathname,j);ae.origin===K.origin&&$!=null?g=$+ae.search+ae.hash:A=!0}catch{Oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=aN(g,{relative:a}),[M,U,V]=qN(i,w),B=QN(g,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:v});function q(K){t&&t(K),K.defaultPrevented||B(K)}let te=T.createElement("a",{...w,...V,href:O||P,onClick:A||o?t:q,ref:KN(x,U),target:f,"data-discover":!E&&n==="render"?"true":void 0});return M&&!E?T.createElement(T.Fragment,null,te,T.createElement($N,{page:P})):te});dl.displayName="Link";var YN=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...g},y){let v=Oc(u,{relative:g.relative}),w=er(),x=T.useContext(cf),{navigator:j,basename:E}=T.useContext(Sr),O=x!=null&&sM(v)&&h===!0,A=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,P=w.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&E&&(M=Qr(M,E)||M);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let V=P===A||!a&&P.startsWith(A)&&P.charAt(U)==="/",B=M!=null&&(M===A||!a&&M.startsWith(A)&&M.charAt(A.length)==="/"),q={isActive:V,isPending:B,isTransitioning:O},te=V?t:void 0,K;typeof i=="function"?K=i(q):K=[i,V?"active":null,B?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ae=typeof o=="function"?o(q):o;return T.createElement(dl,{...g,"aria-current":te,className:K,ref:y,style:ae,to:u,viewTransition:h},typeof f=="function"?f(q):f)});YN.displayName="NavLink";var XN=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:o,method:u=Rd,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,...w},x)=>{let j=iM(),E=rM(h,{relative:g}),O=u.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&L2.test(h),P=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let U=M.nativeEvent.submitter,V=U?.getAttribute("formmethod")||u;j(U||M.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:a,state:o,relative:g,preventScrollReset:y,viewTransition:v})};return T.createElement("form",{ref:x,method:O,action:E,onSubmit:i?f:P,...w,"data-discover":!A&&e==="render"?"true":void 0})});XN.displayName="Form";function JN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A2(e){let t=T.useContext(Tl);return Vt(t,JN(e)),t}function QN(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=kl(),f=er(),g=Oc(e,{relative:o});return T.useCallback(y=>{if(AN(y,t)){y.preventDefault();let v=n!==void 0?n:pc(f)===pc(g);h(e,{replace:v,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,g,n,i,t,e,a,o,u])}function eM(e){Oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(qg(e)),n=T.useRef(!1),i=er(),a=T.useMemo(()=>NN(i.search,n.current?null:t.current),[i.search]),o=kl(),u=T.useCallback((h,f)=>{const g=qg(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,o("?"+g,f)},[o,a]);return[a,u]}var tM=0,nM=()=>`__${String(++tM)}__`;function iM(){let{router:e}=A2("useSubmit"),{basename:t}=T.useContext(Sr),n=bN();return T.useCallback(async(i,a={})=>{let{action:o,method:u,encType:h,formData:f,body:g}=PN(i,t);if(a.navigate===!1){let y=a.fetcherKey||nM();await e.fetch(y,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function rM(e,{relative:t}={}){let{basename:n}=T.useContext(Sr),i=T.useContext(Cr);Vt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Oc(e||".",{relative:t})},u=er();if(e==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Jr([n,o.pathname])),pc(o)}function sM(e,{relative:t}={}){let n=T.useContext(x2);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=A2("useViewTransitionState"),a=Oc(e,{relative:t});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Gd(a.pathname,u)!=null||Gd(a.pathname,o)!=null}var N2=xS();function aM(e=[]){const[t,n]=T.useState(e);T.useEffect(()=>{Array.isArray(e)&&n(e)},[e]);const i=["id","lat","lng","rectangle","angle","coreLocked"],a=["iconUrl","iconSize","iconColor","className","prefix","glyph","glyphColor","glyphSize","glyphAnchor","appearanceLocked"],o=["name","logo","website","info","contentLocked"],u=T.useCallback(async(h,f)=>{async function g(v,w,x){const{data:j,error:E}=await v.from(w).select("id").eq("id",x);if(!E&&(!j||j.length===0)){let O={id:x};return w==="Markers_Core"&&(O.coreLocked=!1),w==="Markers_Appearance"&&(O.appearanceLocked=!1),w==="Markers_Content"&&(O.contentLocked=!1),await v.from(w).insert([O]),!0}return!0}const y=typeof h=="string"&&h.startsWith("m")?parseInt(h.slice(1),10):h;n(v=>v.map(w=>w.id===h?{...w,...f}:w));try{const{supabase:v}=await Qi(async()=>{const{supabase:x}=await Promise.resolve().then(()=>m2);return{supabase:x}},[]),w=[{name:"Markers_Core",fields:i},{name:"Markers_Appearance",fields:a},{name:"Markers_Content",fields:o}];for(const{name:x}of w)await g(v,x,y);for(const[x,j]of Object.entries(f)){let E=null;if(i.includes(x)?E="Markers_Core":a.includes(x)?E="Markers_Appearance":o.includes(x)&&(E="Markers_Content"),E){if(!await g(v,E,y))continue;await v.from(E).update({[x]:j}).eq("id",y)}}}catch{}},[]);return[t,u,n]}function oM(e=new Date().getFullYear()){const t=typeof window<"u"?localStorage.getItem("eventMarkers"):null,n=typeof navigator<"u"?navigator.onLine:!0,[i,a]=T.useState(n),[o,u]=T.useState(()=>!n&&t?JSON.parse(t):[]),[h,f]=T.useState(()=>!(!n&&t)),g=T.useRef(e);T.useEffect(()=>{g.current=e},[e]);const y=T.useCallback(async v=>{const w=g.current;if(f(!0),!v&&t){u(JSON.parse(t)),f(!1);return}try{const[x,j,E,O,A]=await Promise.all([ye.from("Markers_Core").select("*"),ye.from("Markers_Appearance").select("*"),ye.from("Markers_Content").select("*"),ye.from("assignments").select(`
            *,
            company:companies(id, name, logo, website, info, company_translations(language_code, info))
          `).eq("event_year",w),ye.from("event_subscriptions").select("*").eq("event_year",w)]);if(x.error)throw x.error;if(j.error)throw j.error;if(E.error)throw E.error;if(O.error)throw O.error;if(A.error)throw A.error;const P={};for(const K of j.data||[])K&&K.id&&(P[K.id]=K);const M={};for(const K of E.data||[])K&&K.id&&(M[K.id]=K);const U={appearance:P[-1]||{},core:(x.data||[]).find(K=>K.id===-1)||{}},V={appearance:P[-2]||{},core:(x.data||[]).find(K=>K.id===-2)||{}},B={};for(const K of A.data||[])K&&K.company_id&&(B[K.company_id]=K);const q={};for(const K of O.data||[])!K||!K.marker_id||(q[K.marker_id]||(q[K.marker_id]=[]),q[K.marker_id].push({assignmentId:K.id,companyId:K.company_id,...K.company}));const te=(x.data||[]).filter(K=>K.id>0).map(K=>{const ae=P[K.id]||{},$=M[K.id]||{},Q=q[K.id]||[];let se={},re={};if(K.id<1e3){const ce=Q[0]||{},F=!!ce.companyId;se={name:ce.name,logo:ce.logo,website:ce.website,info:ce.info,companyId:ce.companyId,assignmentId:ce.assignmentId,company_translations:ce.company_translations};const ee=F?U:V,Y={...ee.appearance,...ae},we={...ee.core,...K};if(Object.assign(K,we),Object.assign(ae,Y),ce.companyId){const R=B[ce.companyId]||{};re={contact:R.contact,phone:R.phone,email:R.email,boothCount:R.booth_count,area:R.area,coins:R.coins,breakfast:R.breakfast_sat,lunch:R.lunch_sat,bbq:R.bbq_sat,notes:R.notes}}}else se={name:$.name,logo:$.logo,website:$.website,info:$.info},re={};return{...K,...ae,...se,...re,assignments:Q}});u(te),localStorage.setItem("eventMarkers",JSON.stringify(te))}catch(x){console.error("Error loading markers:",x)}finally{f(!1)}},[t]);return T.useEffect(()=>{y(i);function v(){a(!0),y(!0)}function w(){a(!1);const M=localStorage.getItem("eventMarkers");M&&u(JSON.parse(M)),f(!1)}window.addEventListener("online",v),window.addEventListener("offline",w);const x=ye.channel("markers-core-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Core"},()=>{y(!0)}).subscribe(),j=ye.channel("markers-appearance-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Appearance"},()=>{y(!0)}).subscribe(),E=ye.channel("markers-content-changes").on("postgres_changes",{event:"*",schema:"public",table:"Markers_Content"},()=>{y(!0)}).subscribe(),O=ye.channel("markers-assignments-changes").on("postgres_changes",{event:"*",schema:"public",table:"assignments"},async M=>{if(M.eventType==="DELETE")y(!0);else if(M.eventType==="INSERT"||M.eventType==="UPDATE"){if(M.new?.event_year!==g.current)return;y(!0)}}).subscribe(),A=ye.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},M=>{if(M.eventType==="UPDATE"&&M.new){const U=M.new;u(V=>V.map(B=>B.companyId===U.id?{...B,name:U.name,logo:U.logo,website:U.website,info:U.info}:B)),u(V=>(localStorage.setItem("eventMarkers",JSON.stringify(V)),V))}else y(!0)}).subscribe(),P=ye.channel(`event-subscriptions-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},M=>{y(!0)}).subscribe();return()=>{window.removeEventListener("online",v),window.removeEventListener("offline",w),ye.removeChannel(x),ye.removeChannel(j),ye.removeChannel(E),ye.removeChannel(O),ye.removeChannel(A),ye.removeChannel(P)}},[i,y]),T.useEffect(()=>{y(i)},[e,i,y]),{markers:o,loading:h,isOnline:i,reload:()=>y(i)}}class Fp extends gi.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?d.jsxs("div",{style:{color:"red",padding:"2rem"},children:[d.jsx("h2",{children:"Something went wrong in a component."}),d.jsx("pre",{children:typeof this.state.error=="string"?this.state.error:JSON.stringify(this.state.error,null,2)})]}):d.jsx("div",{style:{width:"100%",minHeight:"100svh",boxSizing:"border-box",position:"relative"},children:this.props.children})}}function lM(){const[e,t]=T.useState(typeof navigator<"u"?navigator.onLine:!0);return T.useEffect(()=>{function n(){t(!0)}function i(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),e?null:d.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-900 px-4 py-2 rounded shadow-lg z-50",role:"status","aria-live":"polite",children:d.jsx("span",{"aria-label":"Offline mode",children:"You are offline. Some features may be unavailable."})})}const Ze=e=>typeof e=="string",Hu=()=>{let e,t;const n=new Promise((i,a)=>{e=i,t=a});return n.resolve=e,n.reject=t,n},Ox=e=>e==null?"":""+e,uM=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},cM=/###/g,Px=e=>e&&e.indexOf("###")>-1?e.replace(cM,"."):e,Rx=e=>!e||Ze(e),ic=(e,t,n)=>{const i=Ze(t)?t.split("."):t;let a=0;for(;a<i.length-1;){if(Rx(e))return{};const o=Px(i[a]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++a}return Rx(e)?{}:{obj:e,k:Px(i[a])}},Dx=(e,t,n)=>{const{obj:i,k:a}=ic(e,t,Object);if(i!==void 0||t.length===1){i[a]=n;return}let o=t[t.length-1],u=t.slice(0,t.length-1),h=ic(e,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=ic(e,u,Object),h?.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},hM=(e,t,n,i)=>{const{obj:a,k:o}=ic(e,t,Object);a[o]=a[o]||[],a[o].push(n)},Kd=(e,t)=>{const{obj:n,k:i}=ic(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},dM=(e,t,n)=>{const i=Kd(e,n);return i!==void 0?i:Kd(t,n)},M2=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?Ze(e[i])||e[i]instanceof String||Ze(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):M2(e[i],t[i],n):e[i]=t[i]);return e},tl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var fM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const mM=e=>Ze(e)?e.replace(/[&<>"'\/]/g,t=>fM[t]):e;class pM{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const gM=[" ",",","?","!",";"],yM=new pM(20),vM=(e,t,n)=>{t=t||"",n=n||"";const i=gM.filter(u=>t.indexOf(u)<0&&n.indexOf(u)<0);if(i.length===0)return!0;const a=yM.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(e);if(!o){const u=e.indexOf(n);u>0&&!a.test(e.substring(0,u))&&(o=!0)}return o},$g=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let a=e;for(let o=0;o<i.length;){if(!a||typeof a!="object")return;let u,h="";for(let f=o;f<i.length;++f)if(f!==o&&(h+=n),h+=i[f],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<i.length-1)continue;o+=f-o+1;break}a=u}return a},gc=e=>e?.replace("_","-"),bM={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Wd{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||bM,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,a){return a&&!this.debug?null:(Ze(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Wd(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Wd(this.logger,t)}}var br=new Wd;class df{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[t,...n])})}}class zx extends df{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,a={}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;t.indexOf(".")>-1?h=t.split("."):(h=[t,n],i&&(Array.isArray(i)?h.push(...i):Ze(i)&&o?h.push(...i.split(o)):h.push(i)));const f=Kd(this.data,h);return!f&&!n&&!i&&t.indexOf(".")>-1&&(t=h[0],n=h[1],i=h.slice(2).join(".")),f||!u||!Ze(i)?f:$g(this.data?.[t]?.[n],i,o)}addResource(t,n,i,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[t,n];i&&(h=h.concat(u?i.split(u):i)),t.indexOf(".")>-1&&(h=t.split("."),a=n,n=h[1]),this.addNamespaces(n),Dx(this.data,h,a),o.silent||this.emit("added",t,n,i,a)}addResources(t,n,i,a={silent:!1}){for(const o in i)(Ze(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});a.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,a,o,u={silent:!1,skipCopy:!1}){let h=[t,n];t.indexOf(".")>-1&&(h=t.split("."),a=i,i=n,n=h[1]),this.addNamespaces(n);let f=Kd(this.data,h)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?M2(f,i,o):f={...f,...i},Dx(this.data,h,f),u.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var O2={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,a){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,a)??t}),t}};const P2=Symbol("i18next/PATH_KEY");function _M(){const e=[],t=Object.create(null);let n;return t.get=(i,a)=>(n?.revoke?.(),a===P2?e:(e.push(a),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Zg(e,t){const{[P2]:n}=e(_M());return n.join(t?.keySeparator??".")}const Bx={},qp=e=>!Ze(e)&&typeof e!="boolean"&&typeof e!="number";class Yd extends df{constructor(t,n={}){super(),uM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=br.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const a=this.resolve(t,i);if(a?.res===void 0)return!1;const o=qp(a.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=i&&t.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!vM(t,i,a);if(u&&!h){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:Ze(o)?[o]:o};const g=t.split(i);(i!==a||i===a&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),t=g.join(a)}return{key:t,namespaces:Ze(o)?[o]:o}}translate(t,n,i){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=Zg(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:f}=this.extractFromKey(t[t.length-1],a),g=f[f.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=a.lng||this.language,w=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return w?o?{res:`${g}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${y}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:h;const x=this.resolve(t,a);let j=x?.res;const E=x?.usedKey||h,O=x?.exactUsedKey||h,A=["[object Number]","[object Function]","[object RegExp]"],P=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,U=a.count!==void 0&&!Ze(a.count),V=Yd.hasDefaultValue(a),B=U?this.pluralResolver.getSuffix(v,a.count,a):"",q=a.ordinal&&U?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",te=U&&!a.ordinal&&a.count===0,K=te&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${B}`]||a[`defaultValue${q}`]||a.defaultValue;let ae=j;M&&!j&&V&&(ae=K);const $=qp(ae),Q=Object.prototype.toString.apply(ae);if(M&&ae&&$&&A.indexOf(Q)<0&&!(Ze(P)&&Array.isArray(ae))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const se=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,ae,{...a,ns:f}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(x.res=se,x.usedParams=this.getUsedParamsDetails(a),x):se}if(u){const se=Array.isArray(ae),re=se?[]:{},ce=se?O:E;for(const F in ae)if(Object.prototype.hasOwnProperty.call(ae,F)){const ee=`${ce}${u}${F}`;V&&!j?re[F]=this.translate(ee,{...a,defaultValue:qp(K)?K[F]:void 0,joinArrays:!1,ns:f}):re[F]=this.translate(ee,{...a,joinArrays:!1,ns:f}),re[F]===ee&&(re[F]=ae[F])}j=re}}else if(M&&Ze(P)&&Array.isArray(j))j=j.join(P),j&&(j=this.extendTranslation(j,t,a,i));else{let se=!1,re=!1;!this.isValidLookup(j)&&V&&(se=!0,j=K),this.isValidLookup(j)||(re=!0,j=h);const F=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:j,ee=V&&K!==j&&this.options.updateMissing;if(re||se||ee){if(this.logger.log(ee?"updateKey":"missingKey",v,g,h,ee?K:j),u){const H=this.resolve(h,{...a,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(let H=0;H<we.length;H++)Y.push(we[H]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(a.lng||this.language):Y.push(a.lng||this.language);const R=(H,X,z)=>{const W=V&&z!==j?z:F;this.options.missingKeyHandler?this.options.missingKeyHandler(H,g,X,W,ee,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,g,X,W,ee,a),this.emit("missingKey",H,g,X,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?Y.forEach(H=>{const X=this.pluralResolver.getSuffixes(H,a);te&&a[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(z=>{R([H],h+z,a[`defaultValue${z}`]||K)})}):R(Y,h,K))}j=this.extendTranslation(j,t,a,x,i),re&&j===h&&this.options.appendNamespaceToMissingKey&&(j=`${g}${y}${h}`),(re||se)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${h}`:h,se?j:void 0,a))}return o?(x.res=j,x.usedParams=this.getUsedParamsDetails(a),x):j}extendTranslation(t,n,i,a,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=Ze(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(f){const v=t.match(this.interpolator.nestingRegexp);g=v&&v.length}let y=i.replace&&!Ze(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),t=this.interpolator.interpolate(t,y,i.lng||this.language||a.usedLng,i),f){const v=t.match(this.interpolator.nestingRegexp),w=v&&v.length;g<w&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,h=Ze(u)?[u]:u;return t!=null&&h?.length&&i.applyPostProcessor!==!1&&(t=O2.handle(h,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,a,o,u,h;return Ze(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(f,n),y=g.key;a=y;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=n.count!==void 0&&!Ze(n.count),x=w&&!n.ordinal&&n.count===0,j=n.context!==void 0&&(Ze(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(O=>{this.isValidLookup(i)||(h=O,!Bx[`${E[0]}-${O}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(Bx[`${E[0]}-${O}`]=!0,this.logger.warn(`key "${a}" for languages "${E.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(A=>{if(this.isValidLookup(i))return;u=A;const P=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,y,A,O,n);else{let U;w&&(U=this.pluralResolver.getSuffix(A,n.count,n));const V=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&U.indexOf(B)===0&&P.push(y+U.replace(B,this.options.pluralSeparator)),P.push(y+U),x&&P.push(y+V)),j){const q=`${y}${this.options.contextSeparator||"_"}${n.context}`;P.push(q),w&&(n.ordinal&&U.indexOf(B)===0&&P.push(q+U.replace(B,this.options.pluralSeparator)),P.push(q+U),x&&P.push(q+V))}}let M;for(;M=P.pop();)this.isValidLookup(i)||(o=M,i=this.getResource(A,O,M,n))}))})}),{res:i,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,a):this.resourceStore.getResource(t,n,i,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!Ze(t.replace);let a=i?t.replace:t;if(i&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class Ix{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=br.create("languageUtils")}getScriptPartFromCode(t){if(t=gc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=gc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ze(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const a=this.getScriptPartFromCode(i);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ze(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ze(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):Ze(t)&&o(this.formatLanguageCode(t)),i.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const Ux={zero:0,one:1,two:2,few:3,many:4,other:5},Vx={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class xM{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=br.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=gc(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Vx;if(!t.match(/-|_/))return Vx;const f=this.languageUtils.getLanguagePartFromCode(t);u=this.getRule(f,n)}return this.pluralRulesCache[o]=u,u}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((a,o)=>Ux[a]-Ux[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,i={}){const a=this.getRule(t,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const Hx=(e,t,n,i=".",a=!0)=>{let o=dM(e,t,n);return!o&&a&&Ze(n)&&(o=$g(e,n,i),o===void 0&&(o=$g(t,n,i))),o},$p=e=>e.replace(/\$/g,"$$$$");class wM{constructor(t={}){this.logger=br.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:f,formatSeparator:g,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:x,nestingSuffix:j,nestingSuffixEscaped:E,nestingOptionsSeparator:O,maxReplaces:A,alwaysFormat:P}=t.interpolation;this.escape=n!==void 0?n:mM,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?tl(o):u||"{{",this.suffix=h?tl(h):f||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=w?tl(w):x||tl("$t("),this.nestingSuffix=j?tl(j):E||tl(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=A||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,a){let o,u,h;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=x=>{if(x.indexOf(this.formatSeparator)<0){const A=Hx(n,f,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,i,{...a,...n,interpolationkey:x}):A}const j=x.split(this.formatSeparator),E=j.shift().trim(),O=j.join(this.formatSeparator).trim();return this.format(Hx(n,f,E,this.options.keySeparator,this.options.ignoreJSONStructure),O,i,{...a,...n,interpolationkey:E})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>$p(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?$p(this.escape(x)):$p(x)}].forEach(x=>{for(h=0;o=x.regex.exec(t);){const j=o[1].trim();if(u=g(j),u===void 0)if(typeof y=="function"){const O=y(t,o,a);u=Ze(O)?O:""}else if(a&&Object.prototype.hasOwnProperty.call(a,j))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${t}`),u="";else!Ze(u)&&!this.useRawValueToEscape&&(u=Ox(u));const E=x.safeValue(u);if(t=t.replace(o[0],E),v?(x.regex.lastIndex+=u.length,x.regex.lastIndex-=o[0].length):x.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),t}nest(t,n,i={}){let a,o,u;const h=(f,g)=>{const y=this.nestingOptionsSeparator;if(f.indexOf(y)<0)return f;const v=f.split(new RegExp(`${y}[ ]*{`));let w=`{${v[1]}`;f=v[0],w=this.interpolate(w,u);const x=w.match(/'/g),j=w.match(/"/g);((x?.length??0)%2===0&&!j||j.length%2!==0)&&(w=w.replace(/'/g,'"'));try{u=JSON.parse(w),g&&(u={...g,...u})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,E),`${f}${y}${w}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;a=this.nestingRegexp.exec(t);){let f=[];u={...i},u=u.replace&&!Ze(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(f=a[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),o=n(h.call(this,a[1].trim(),u),u),o&&a[0]===t&&!Ze(o))return o;Ze(o)||(o=Ox(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),o=""),f.length&&(o=f.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:a[1].trim()}),o.trim())),t=t.replace(a[0],o),this.regexp.lastIndex=0}return t}}const SM=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...f]=u.split(":"),g=f.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:t,formatOptions:n}},Fx=e=>{const t={};return(n,i,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=i+JSON.stringify(o);let h=t[u];return h||(h=e(gc(i),a),t[u]=h),h(n)}},CM=e=>(t,n,i)=>e(gc(n),i)(t);class jM{constructor(t={}){this.logger=br.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?Fx:CM;this.formats={number:i((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return h=>u.format(h)}),currency:i((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return h=>u.format(h)}),datetime:i((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return h=>u.format(h)}),relativetime:i((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return h=>u.format(h,o.range||"day")}),list:i((a,o)=>{const u=new Intl.ListFormat(a,{...o});return h=>u.format(h)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Fx(n)}format(t,n,i,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,f)=>{const{formatName:g,formatOptions:y}=SM(f);if(this.formats[g]){let v=h;try{const w=a?.formatParams?.[a.interpolationkey]||{},x=w.locale||w.lng||a.locale||a.lng||i;v=this.formats[g](h,x,{...y,...a,...w})}catch(w){this.logger.warn(w)}return v}else this.logger.warn(`there was no format function for ${g}`);return h},t)}}const EM=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class TM extends df{constructor(t,n,i,a={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=br.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,a.backend,a)}queueLoad(t,n,i,a){const o={},u={},h={},f={};return t.forEach(g=>{let y=!0;n.forEach(v=>{const w=`${g}|${v}`;!i.reload&&this.store.hasResourceBundle(g,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?u[w]===void 0&&(u[w]=!0):(this.state[w]=1,y=!1,u[w]===void 0&&(u[w]=!0),o[w]===void 0&&(o[w]=!0),f[v]===void 0&&(f[v]=!0)))}),y||(h[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}loaded(t,n,i){const a=t.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&i&&this.store.addResourceBundle(o,u,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const h={};this.queue.forEach(f=>{hM(f.loaded,[o],u),EM(f,t),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(g=>{h[g]||(h[g]={});const y=f.loaded[g];y.length&&y.forEach(v=>{h[g][v]===void 0&&(h[g][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(f=>!f.done)}read(t,n,i,a=0,o=this.retryTimeout,u){if(!t.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,a+1,o*2,u)},o);return}u(g,y)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const g=f(t,n);g&&typeof g.then=="function"?g.then(y=>h(null,y)).catch(h):h(null,g)}catch(g){h(g)}return}return f(t,n,h)}prepareLoading(t,n,i={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ze(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ze(n)&&(n=[n]);const o=this.queueLoad(t,n,i,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),a=i[0],o=i[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,h),this.loaded(t,u,h)})}saveMissing(t,n,i,a,o,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const f={...u,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,i,a,f):y=g(t,n,i,a),y&&typeof y.then=="function"?y.then(v=>h(null,v)).catch(h):h(null,y)}catch(y){h(y)}else g(t,n,i,a,h,f)}!t||!t[0]||this.store.addResource(t[0],n,i,a)}}}const qx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ze(e[1])&&(t.defaultValue=e[1]),Ze(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),$x=e=>(Ze(e.ns)&&(e.ns=[e.ns]),Ze(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ze(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),jd=()=>{},kM=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class yc extends df{constructor(t={},n){if(super(),this.options=$x(t),this.services={},this.logger=br,this.modules={external:[]},kM(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ze(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=qx();this.options={...i,...this.options,...$x(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?br.init(a(this.modules.logger),this.options):br.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=jM;const y=new Ix(this.options);this.store=new zx(this.options.resources,this.options);const v=this.services;v.logger=br,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new xM(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=a(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new wM(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new TM(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(x,...j)=>{this.emit(x,...j)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Yd(this.services,this.options),this.translator.on("*",(x,...j)=>{this.emit(x,...j)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=jd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const h=Hu(),f=()=>{const g=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),h}loadResources(t,n=jd){let i=n;const a=Ze(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&o.indexOf(g)<0&&o.push(g)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(t,n,i){const a=Hu();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=jd),this.services.backendConnector.reload(t,n,o=>{a.resolve(),i(o)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&O2.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Hu();this.emit("languageChanging",t);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,f)=>{f?this.isLanguageChangingTo===t&&(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),n&&n(h,(...g)=>this.t(...g))},u=h=>{!t&&!h&&this.services.languageDetector&&(h=[]);const f=Ze(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ze(h)?[h]:h);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,y=>{o(y,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(t),i}getFixedT(t,n,i){const a=(o,u,...h)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(h)):f={...u},f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||a.keyPrefix);const g=this.options.keySeparator||".";let y;return f.keyPrefix&&Array.isArray(o)?y=o.map(v=>(typeof v=="function"&&(v=Zg(v,{...this.options,...u})),`${f.keyPrefix}${g}${v}`)):(typeof o=="function"&&(o=Zg(o,{...this.options,...u})),y=f.keyPrefix?`${f.keyPrefix}${g}${o}`:o),this.t(y,f)};return Ze(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=i,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(h,f)=>{const g=this.services.backendConnector.state[`${h}|${f}`];return g===-1||g===0||g===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,t)&&(!a||u(o,t)))}loadNamespaces(t,n){const i=Hu();return this.options.ns?(Ze(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Hu();Ze(t)&&(t=[t]);const a=this.options.preload||[],o=t.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{i.resolve(),n&&n(u)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Ix(qx());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new yc(t,n)}cloneInstance(t={},n=jd){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},o=new yc(a);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const h=Object.keys(this.store.data).reduce((f,g)=>(f[g]={...this.store.data[g]},f[g]=Object.keys(f[g]).reduce((y,v)=>(y[v]={...f[g][v]},y),f[g]),f),{});o.store=new zx(h,a),o.services.resourceStore=o.store}return o.translator=new Yd(o.services,a),o.translator.on("*",(h,...f)=>{o.emit(h,...f)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ln=yc.createInstance();Ln.createInstance=yc.createInstance;Ln.createInstance;Ln.dir;Ln.init;Ln.loadResources;Ln.reloadResources;Ln.use;Ln.changeLanguage;Ln.getFixedT;Ln.t;Ln.exists;Ln.setDefaultNamespace;Ln.hasLoadedNamespace;Ln.loadNamespaces;Ln.loadLanguages;const LM=(e,t,n,i)=>{const a=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Qa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},Zx={},R2=(e,t,n,i)=>{Qa(n)&&Zx[n]||(Qa(n)&&(Zx[n]=new Date),LM(e,t,n,i))},D2=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Gg=(e,t,n)=>{e.loadNamespaces(t,D2(e,n))},Gx=(e,t,n,i)=>{if(Qa(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Gg(e,n,i);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,D2(e,i))},AM=(e,t,n={})=>!t.languages||!t.languages.length?(R2(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,e))return!1}}),Qa=e=>typeof e=="string",NM=e=>typeof e=="object"&&e!==null,MM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,OM={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},PM=e=>OM[e],RM=e=>e.replace(MM,PM);let Kg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:RM};const DM=(e={})=>{Kg={...Kg,...e}},zM=()=>Kg;let z2;const BM=e=>{z2=e},IM=()=>z2,UM={type:"3rdParty",init(e){DM(e.options.react),BM(e)}},VM=T.createContext();class HM{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Zp={exports:{}},Gp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function FM(){if(Kx)return Gp;Kx=1;var e=Lc();function t(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,a=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function h(v,w){var x=w(),j=i({inst:{value:x,getSnapshot:w}}),E=j[0].inst,O=j[1];return o(function(){E.value=x,E.getSnapshot=w,f(E)&&O({inst:E})},[v,x,w]),a(function(){return f(E)&&O({inst:E}),v(function(){f(E)&&O({inst:E})})},[v]),u(x),x}function f(v){var w=v.getSnapshot;v=v.value;try{var x=w();return!n(v,x)}catch{return!0}}function g(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return Gp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Gp}var Wx;function qM(){return Wx||(Wx=1,Zp.exports=FM()),Zp.exports}var $M=qM();const ZM=(e,t)=>Qa(t)?t:NM(t)&&Qa(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,GM={t:ZM,ready:!1},KM=()=>()=>{},Rt=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:a}=T.useContext(VM)||{},o=n||i||IM();o&&!o.reportNamespaces&&(o.reportNamespaces=new HM),o||R2(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=T.useMemo(()=>({...zM(),...o?.options?.react,...t}),[o,t]),{useSuspense:h,keyPrefix:f}=u,g=T.useMemo(()=>{const M=a||o?.options?.defaultNS;return Qa(M)?[M]:M||["translation"]},[e,a,o]);o?.reportNamespaces?.addUsedNamespaces?.(g);const y=T.useCallback(M=>{if(!o)return KM;const{bindI18n:U,bindI18nStore:V}=u;return U&&o.on(U,M),V&&o.store.on(V,M),()=>{U&&U.split(" ").forEach(B=>o.off(B,M)),V&&V.split(" ").forEach(B=>o.store.off(B,M))}},[o,u]),v=T.useRef(),w=T.useCallback(()=>{if(!o)return GM;const M=!!(o.isInitialized||o.initializedStoreOnce)&&g.every(q=>AM(q,o,u)),U=o.getFixedT(t.lng||o.language,u.nsMode==="fallback"?g:g[0],f),V=v.current;if(V&&V.ready===M&&V.lng===(t.lng||o.language)&&V.keyPrefix===f)return V;const B={t:U,ready:M,lng:t.lng||o.language,keyPrefix:f};return v.current=B,B},[o,g,f,u,t.lng]),[x,j]=T.useState(0),{t:E,ready:O}=$M.useSyncExternalStore(y,w,w);T.useEffect(()=>{if(o&&!O&&!h){const M=()=>j(U=>U+1);t.lng?Gx(o,t.lng,g,M):Gg(o,g,M)}},[o,t.lng,g,O,h,x]);const A=o||{},P=T.useMemo(()=>{const M=[E,A,O];return M.t=E,M.i18n=A,M.ready=O,M},[E,A,O]);if(o&&h&&!O)throw new Promise(M=>{const U=()=>M();t.lng?Gx(o,t.lng,g,U):Gg(o,g,U)});return P},WM=[{code:"en",label:"English",flag:""},{code:"nl",label:"Nederlands",flag:""}];function vc({className:e=""}){const{i18n:t}=Rt(),n=t.language;return d.jsx("div",{className:`flex items-center gap-2 ${e}`,children:WM.map(i=>d.jsxs("button",{onClick:()=>t.changeLanguage(i.code),className:`px-2 py-1 rounded border text-xs font-semibold transition focus:outline-none flex items-center gap-1 ${n===i.code?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-300 hover:bg-blue-50"}`,"aria-pressed":n===i.code,children:[d.jsx("span",{style:{fontSize:"1.1em"},children:i.flag}),i.label]},i.code))})}const un={DEFAULT_POSITION:[51.898095078807025,5.772961378097534],DEFAULT_ZOOM:17,MIN_ZOOM:14,MAX_ZOOM:22,SEARCH_ZOOM:21,ZOOM_DELTA:.5,ZOOM_SNAP:.5,RECTANGLE_SIZE:[6,6],MINIMAP:{WIDTH:120,HEIGHT:120,ZOOM_LEVEL:15,AIMING_COLOR:"#1976d2",SHADOW_COLOR:"#90caf9"}},_l={DEFAULT_LOGO:"4x4Vakantiebeurs.png",getDefaultLogoPath:()=>{const e="/Map";return`${e.endsWith("/")?e:`${e}/`}assets/logos/${_l.DEFAULT_LOGO}`}},Ed=[{key:"carto",name:"Carto Voyager",attribution:'&copy; <a href="https://carto.com/attributions">Carto</a>',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png"},{key:"esri",name:"Esri World Imagery",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}];function YM({onLogin:e,branding:t}){const{t:n}=Rt(),[i,a]=T.useState(""),[o,u]=T.useState(""),[h,f]=T.useState(!1),[g,y]=T.useState(!1),[v,w]=T.useState(null),[x,j]=T.useState(!1),[E,O]=T.useState(!1),[A,P]=T.useState(""),[M,U]=T.useState(!1),[V,B]=T.useState(!1),q=T.useRef(null);T.useEffect(()=>{const Q=localStorage.getItem("adminRememberEmail");Q&&(a(Q),y(!0))},[]),T.useEffect(()=>{v&&q.current&&q.current.focus()},[v]);const te=async Q=>{Q.preventDefault(),j(!0),w(null),g?localStorage.setItem("adminRememberEmail",i):localStorage.removeItem("adminRememberEmail");const{data:se,error:re}=await ye.auth.signInWithPassword({email:i,password:o});j(!1),re?re.message.includes("Invalid login credentials")?w(n("adminLogin.errors.invalidCredentials")):re.message.includes("Email not confirmed")?w(re.message):re.message.includes("Network")?w(n("adminLogin.errors.networkError")):w(n("adminLogin.errors.unknownError")):e(se.user)},K=async Q=>{Q.preventDefault(),U(!0),w(null);const re=`${window.location.origin}/Map#/reset-password`,{error:ce}=await ye.auth.resetPasswordForEmail(A,{redirectTo:re});U(!1),ce?w(n("adminLogin.errors.resetFailed")):(B(!0),setTimeout(()=>{O(!1),B(!1),P("")},5e3))},ae=t?.eventName||"4x4 Vakantiebeurs",$=t?.logo||_l.getDefaultLogoPath();return E?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[d.jsx("div",{className:"flex justify-end mb-6",children:d.jsx(vc,{})}),d.jsxs("div",{className:"flex flex-col items-center mb-8",children:[d.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:d.jsx("img",{src:$,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),d.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:ae}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),d.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:n("adminLogin.resetPassword")}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n("adminLogin.resetInstructions")}),V?d.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",role:"alert","aria-live":"polite",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-xl mr-3",children:""}),d.jsx("span",{children:n("adminLogin.resetEmailSent")})]})}):d.jsxs("form",{onSubmit:K,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"label-base",children:n("adminLogin.email")}),d.jsx("input",{id:"reset-email",type:"email",value:A,onChange:Q=>P(Q.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),required:!0})]}),v&&d.jsx("div",{ref:q,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-xl mr-3",children:""}),d.jsx("span",{className:"text-sm",children:v})]})}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",disabled:M,children:n(M?"adminLogin.loggingIn":"adminLogin.sendResetLink")}),d.jsxs("button",{type:"button",onClick:()=>{O(!1),w(null),P("")},className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",n("adminLogin.backToLogin")]})]})]})})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[d.jsx("div",{className:"flex justify-end mb-6",children:d.jsx(vc,{})}),d.jsxs("div",{className:"flex flex-col items-center mb-8",children:[d.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:d.jsx("img",{src:$,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),d.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:ae}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),d.jsx("h2",{className:"text-lg font-semibold mb-6 text-gray-700 text-center",children:n("adminLogin.subtitle")}),d.jsxs("form",{onSubmit:te,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"label-base",children:n("adminLogin.email")}),d.jsx("input",{id:"email",type:"email",value:i,onChange:Q=>a(Q.target.value),className:"input-base",placeholder:n("adminLogin.emailPlaceholder"),"aria-label":n("adminLogin.email"),"aria-required":"true",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"label-base",children:n("adminLogin.password")}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",type:h?"text":"password",value:o,onChange:Q=>u(Q.target.value),className:"input-base pr-20",placeholder:n("adminLogin.passwordPlaceholder"),"aria-label":n("adminLogin.password"),"aria-required":"true",required:!0}),d.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>f(Q=>!Q),"aria-label":n(h?"adminLogin.hide":"adminLogin.show"),tabIndex:-1,children:h?"":""})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{htmlFor:"remember-me",className:"flex items-center cursor-pointer group",children:[d.jsx("input",{id:"remember-me",type:"checkbox",checked:g,onChange:Q=>y(Q.target.checked),className:"mr-2 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 cursor-pointer","aria-label":n("adminLogin.rememberMe")}),d.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:n("adminLogin.rememberMe")})]}),d.jsx("button",{type:"button",onClick:()=>O(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:n("adminLogin.forgotPassword")})]}),v&&d.jsx("div",{ref:q,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-xl mr-3",children:""}),d.jsx("span",{className:"text-sm font-medium",children:v})]})}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",disabled:x,children:x?d.jsxs("span",{className:"flex items-center justify-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("adminLogin.loggingIn")]}):n("adminLogin.loginButton")})]})]}),d.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:d.jsx("p",{children:"Secure manager access only"})})]})})}function XM({branding:e}){const{t}=Rt(),n=kl(),[i,a]=T.useState(""),[o,u]=T.useState(""),[h,f]=T.useState(!1),[g,y]=T.useState(null),[v,w]=T.useState(null),[x,j]=T.useState(!1),[E,O]=T.useState(!1),A=T.useRef(null);T.useEffect(()=>{g&&A.current&&A.current.focus()},[g]),T.useEffect(()=>{(async()=>{const B=window.location.hash;let q;if(B.includes("error=")){const se=B.substring(1);q=new URLSearchParams(se)}else{const se=B.indexOf("#",1);if(se>0){const re=B.substring(se+1);q=new URLSearchParams(re)}else q=new URLSearchParams(window.location.search)}const te=q.get("access_token"),K=q.get("refresh_token"),ae=q.get("error"),$=q.get("error_description");if(ae){ae==="access_denied"||$?.includes("expired")?w(t("resetPassword.errors.tokenExpired")):w(t("resetPassword.errors.invalidToken"));return}if(te&&K){const{data:{session:se},error:re}=await ye.auth.setSession({access_token:te,refresh_token:K});(re||!se)&&(console.error("Failed to set session:",re),w(t("resetPassword.errors.invalidToken")));return}const{data:{session:Q}}=await ye.auth.getSession();Q||w(t("resetPassword.errors.invalidToken"))})()},[t]);const P=async V=>{if(V.preventDefault(),y(null),i.length<6){y(t("resetPassword.errors.passwordTooShort"));return}if(i!==o){y(t("resetPassword.errors.passwordMismatch"));return}j(!0);const{error:B}=await ye.auth.updateUser({password:i});j(!1),B?y(t("resetPassword.errors.updateFailed")):(O(!0),setTimeout(()=>{n("/admin")},3e3))},M=e?.eventName||"4x4 Vakantiebeurs",U=e?.logo||_l.getDefaultLogoPath();return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center px-4 py-8",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[d.jsx("div",{className:"flex justify-end mb-6",children:d.jsx(vc,{})}),d.jsxs("div",{className:"flex flex-col items-center mb-8",children:[d.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg mb-4",children:d.jsx("img",{src:U,alt:"Event Logo",className:"h-12 w-12 object-contain"})}),d.jsx("h1",{className:"font-bold text-2xl text-gray-800 mb-1",children:M}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Manager Portal"})]}),d.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:t("resetPassword.title")}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t("resetPassword.instructions")}),E?d.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"polite",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("span",{className:"text-xl mr-3",children:""}),d.jsx("span",{className:"font-semibold",children:t("resetPassword.success")})]}),d.jsx("p",{className:"text-sm ml-8",children:t("resetPassword.redirecting")})]}):v?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{ref:A,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("span",{className:"text-xl mr-3",children:""}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-semibold mb-1",children:t("resetPassword.errors.linkExpiredTitle")}),d.jsx("p",{className:"text-sm",children:v})]})]})}),d.jsx("div",{className:"flex gap-3",children:d.jsx("button",{type:"button",onClick:()=>n("/admin"),className:"flex-1 btn-primary",children:t("resetPassword.requestNewLink")})})]}):d.jsxs("form",{onSubmit:P,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"new-password",className:"label-base",children:t("resetPassword.newPassword")}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"new-password",type:h?"text":"password",value:i,onChange:V=>a(V.target.value),className:"input-base",placeholder:t("resetPassword.newPasswordPlaceholder"),"aria-label":t("resetPassword.newPassword"),required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors text-sm","aria-label":t(h?"resetPassword.hidePassword":"resetPassword.showPassword"),children:h?"":""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("resetPassword.passwordRequirements")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"label-base",children:t("resetPassword.confirmPassword")}),d.jsx("input",{id:"confirm-password",type:h?"text":"password",value:o,onChange:V=>u(V.target.value),className:"input-base",placeholder:t("resetPassword.confirmPasswordPlaceholder"),"aria-label":t("resetPassword.confirmPassword"),required:!0})]}),g&&d.jsx("div",{ref:A,className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm",role:"alert","aria-live":"assertive",tabIndex:-1,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-xl mr-3",children:""}),d.jsx("span",{className:"text-sm",children:g})]})}),d.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:x,children:t(x?"resetPassword.updating":"resetPassword.updatePassword")}),d.jsxs("button",{type:"button",onClick:()=>n("/admin"),className:"w-full py-2 text-orange-600 hover:text-orange-700 font-medium text-sm transition-colors",children:[" ",t("resetPassword.backToLogin")]})]})]})})})}var Kp={exports:{}},Wp,Yx;function JM(){if(Yx)return Wp;Yx=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wp=e,Wp}var Yp,Xx;function QM(){if(Xx)return Yp;Xx=1;var e=JM();function t(){}function n(){}return n.resetWarningCache=t,Yp=function(){function i(u,h,f,g,y,v){if(v!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function a(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Yp}var Jx;function B2(){return Jx||(Jx=1,Kp.exports=QM()()),Kp.exports}var eO=B2();const Le=eo(eO);var Xp,Qx;function tO(){return Qx||(Qx=1,Xp=(function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(i,a,o){n.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,a){if(1&a&&(i=n(i)),8&a||4&a&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&a&&typeof i!="string")for(var u in i)n.d(o,u,(function(h){return i[h]}).bind(null,u));return o},n.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(a,"a",a),a},n.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},n.p="",n(n.s=2)})([function(e,t){e.exports=B2()},function(e,t){e.exports=Lc()},function(e,t,n){n.r(t);var i=n(1),a=n(0),o=function(){return(o=Object.assign||function(j){for(var E,O=1,A=arguments.length;O<A;O++)for(var P in E=arguments[O])Object.prototype.hasOwnProperty.call(E,P)&&(j[P]=E[P]);return j}).apply(this,arguments)},u=function(j,E){var O={};for(var A in j)Object.prototype.hasOwnProperty.call(j,A)&&E.indexOf(A)<0&&(O[A]=j[A]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(A=Object.getOwnPropertySymbols(j);P<A.length;P++)E.indexOf(A[P])<0&&Object.prototype.propertyIsEnumerable.call(j,A[P])&&(O[A[P]]=j[A[P]])}return O},h=0,f=i.forwardRef((function(j,E){var O=j.title,A=O===void 0?null:O,P=j.description,M=P===void 0?null:P,U=j.size,V=U===void 0?null:U,B=j.color,q=B===void 0?"currentColor":B,te=j.horizontal,K=te===void 0?null:te,ae=j.vertical,$=ae===void 0?null:ae,Q=j.rotate,se=Q===void 0?null:Q,re=j.spin,ce=re===void 0?null:re,F=j.style,ee=F===void 0?{}:F,Y=j.children,we=u(j,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);h++;var R,H=ce!==null&&ce,X=i.Children.map(Y,(function(me){var Ce=me;H!==!0&&(H=(ce===null?Ce.props.spin:ce)===!0);var Re=Ce.props.size;typeof V=="number"&&typeof Ce.props.size=="number"&&(Re=Ce.props.size/V);var be={size:Re,color:q===null?Ce.props.color:q,horizontal:K===null?Ce.props.horizontal:K,vertical:$===null?Ce.props.vertical:$,rotate:se===null?Ce.props.rotate:se,spin:ce===null?Ce.props.spin:ce,inStack:!0};return i.cloneElement(Ce,be)}));V!==null&&(ee.width=typeof V=="string"?V:1.5*V+"rem");var z,W="stack_labelledby_"+h,oe="stack_describedby_"+h;if(A)R=M?W+" "+oe:W;else if(z="presentation",M)throw new Error("title attribute required when description is set");return i.createElement("svg",o({ref:E,viewBox:"0 0 24 24",style:ee,role:z,"aria-labelledby":R},we),A&&i.createElement("title",{id:W},A),M&&i.createElement("desc",{id:oe},M),H&&i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),X)}));f.displayName="Stack",f.propTypes={size:a.oneOfType([a.number,a.string]),color:a.string,horizontal:a.bool,vertical:a.bool,rotate:a.number,spin:a.oneOfType([a.bool,a.number]),children:a.oneOfType([a.arrayOf(a.node),a.node]).isRequired,className:a.string,style:a.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=f;n.d(t,"Icon",(function(){return x})),n.d(t,"Stack",(function(){return g}));var y=function(){return(y=Object.assign||function(j){for(var E,O=1,A=arguments.length;O<A;O++)for(var P in E=arguments[O])Object.prototype.hasOwnProperty.call(E,P)&&(j[P]=E[P]);return j}).apply(this,arguments)},v=function(j,E){var O={};for(var A in j)Object.prototype.hasOwnProperty.call(j,A)&&E.indexOf(A)<0&&(O[A]=j[A]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(A=Object.getOwnPropertySymbols(j);P<A.length;P++)E.indexOf(A[P])<0&&Object.prototype.propertyIsEnumerable.call(j,A[P])&&(O[A[P]]=j[A[P]])}return O},w=0,x=i.forwardRef((function(j,E){var O=j.path,A=j.id,P=A===void 0?++w:A,M=j.title,U=M===void 0?null:M,V=j.description,B=V===void 0?null:V,q=j.size,te=q===void 0?null:q,K=j.color,ae=K===void 0?"currentColor":K,$=j.horizontal,Q=$!==void 0&&$,se=j.vertical,re=se!==void 0&&se,ce=j.rotate,F=ce===void 0?0:ce,ee=j.spin,Y=ee!==void 0&&ee,we=j.style,R=we===void 0?{}:we,H=j.inStack,X=H!==void 0&&H,z=v(j,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),W={},oe=[];te!==null&&(X?oe.push("scale("+te+")"):(R.width=typeof te=="string"?te:1.5*te+"rem",R.height=R.width)),Q&&oe.push("scaleX(-1)"),re&&oe.push("scaleY(-1)"),F!==0&&oe.push("rotate("+F+"deg)"),ae!==null&&(W.fill=ae);var me=i.createElement("path",y({d:O,style:W},X?z:{})),Ce=me;oe.length>0&&(R.transform=oe.join(" "),R.transformOrigin="center",X&&(Ce=i.createElement("g",{style:R},me,i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Re,be=Ce,ke=Y===!0||typeof Y!="number"?2:Y,Ve=!X&&(Q||re);if(ke<0&&(Ve=!Ve),Y&&(be=i.createElement("g",{style:{animation:"spin"+(Ve?"-inverse":"")+" linear "+Math.abs(ke)+"s infinite",transformOrigin:"center"}},Ce,!(Q||re||F!==0)&&i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),X)return be;var De,He="icon_labelledby_"+P,gt="icon_describedby_"+P;if(U)Re=B?He+" "+gt:He;else if(De="presentation",B)throw new Error("title attribute required when description is set");return i.createElement("svg",y({ref:E,viewBox:"0 0 24 24",style:R,role:De,"aria-labelledby":Re},z),U&&i.createElement("title",{id:He},U),B&&i.createElement("desc",{id:gt},B),!X&&Y&&(Ve?i.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):i.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),be)}));x.displayName="Icon",x.propTypes={path:a.string.isRequired,size:a.oneOfType([a.number,a.string]),color:a.string,horizontal:a.bool,vertical:a.bool,rotate:a.number,spin:a.oneOfType([a.bool,a.number]),style:a.object,inStack:a.bool,className:a.string},x.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=x}])),Xp}var I2=tO();const Se=eo(I2);var U2="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",Wg="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",bc="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",ff="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",e1="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",t1="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",nO="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z",iO="M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z",Yg="M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z",rO="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",sO="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",V2="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",es="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",mf="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",n1="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",aO="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",H2="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",i1="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",oO="M15 4A8 8 0 1 1 7 12A8 8 0 0 1 15 4M3 12A6 6 0 0 0 7 17.65V19.74A8 8 0 0 1 7 4.26V6.35A6 6 0 0 0 3 12Z",F2="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",lO="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z",uO="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",ts="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",q2="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",$2="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z",cO="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M13,10H11V6H13V10M13,14H11V12H13V14Z",hO="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",dO="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Pc="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",fl="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z",fO="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",Z2="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",r1="M22,19L19,17L22,15V19M15,15L19,9L22,13L18,16L15,15M5,17L2,19V15L5,17M9,15L6,16L2,13L5,9L9,15M14,6L18,8L13,15H11L6,8L10,6H14Z",mO="M20.16 12.73C22.93 9.96 22.57 5.26 19.09 3C17.08 1.67 14.39 1.66 12.36 2.97C10.6 4.1 9.63 5.86 9.46 7.68C9.33 9 8.83 10.23 7.91 11.15L7.88 11.18C6.72 12.34 6.72 14.11 7.81 15.19L8.8 16.18C9.89 17.27 11.66 17.27 12.75 16.18C13.72 15.21 15 14.68 16.39 14.53C17.76 14.38 19.1 13.78 20.16 12.73M6.26 19.86C6.53 20.42 6.44 21.1 5.97 21.56C5.39 22.15 4.44 22.15 3.85 21.56C3.58 21.29 3.44 20.94 3.42 20.58C3.06 20.56 2.71 20.42 2.44 20.15C1.85 19.56 1.85 18.61 2.44 18.03C2.9 17.57 3.59 17.47 4.14 17.74L6.62 15.31C6.76 15.5 6.92 15.72 7.1 15.9L8.09 16.89C8.3 17.09 8.5 17.26 8.76 17.41L6.26 19.86Z",s1="M3,3A1,1 0 0,0 2,4V8L2,9.5C2,11.19 3.03,12.63 4.5,13.22V19.5A1.5,1.5 0 0,0 6,21A1.5,1.5 0 0,0 7.5,19.5V13.22C8.97,12.63 10,11.19 10,9.5V8L10,4A1,1 0 0,0 9,3A1,1 0 0,0 8,4V8A0.5,0.5 0 0,1 7.5,8.5A0.5,0.5 0 0,1 7,8V4A1,1 0 0,0 6,3A1,1 0 0,0 5,4V8A0.5,0.5 0 0,1 4.5,8.5A0.5,0.5 0 0,1 4,8V4A1,1 0 0,0 3,3M19.88,3C19.75,3 19.62,3.09 19.5,3.16L16,5.25V9H12V11H13L14,21H20L21,11H22V9H18V6.34L20.5,4.84C21,4.56 21.13,4 20.84,3.5C20.63,3.14 20.26,2.95 19.88,3Z",pO="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",a1="M8.06,2C7.88,3.17 8.17,4.16 8.95,4.97C9.45,5.47 9.61,6.14 9.42,7H10.41C10.53,6.45 10.55,6 10.45,5.55C10.36,5.13 10.05,4.63 9.5,4.03C9.05,3.47 8.89,2.8 9.05,2H8.06M10.55,2C10.36,3.17 10.66,4.16 11.44,4.97C11.94,5.47 12.09,6.14 11.91,7H12.89C13,6.45 13.03,6 12.94,5.55C12.84,5.13 12.53,4.63 12,4.03C11.53,3.47 11.38,2.8 11.53,2H10.55M13.08,2C12.89,3.17 13.19,4.16 13.97,4.97C14.47,5.47 14.61,6.14 14.39,7H15.42C15.55,6.45 15.56,6 15.47,5.55C15.38,5.13 15.06,4.63 14.53,4.03C14.06,3.47 13.91,2.8 14.06,2H13.08M5,8C5,9.42 5.39,10.7 6.14,11.84C6.87,12.96 7.91,13.85 9.14,14.39L5.16,20.44C5.06,20.56 5,20.75 5,21C5,21.41 5.16,21.69 5.44,21.84C5.56,21.94 5.75,22 6,22C6.41,22 6.69,21.84 6.84,21.56L7.83,19.97H14.2C14.41,20.55 14.79,21.05 15.28,21.42C15.78,21.8 16.36,22 17,22C17.83,22 18.53,21.69 19.13,21.09C19.72,20.5 20,19.8 20,19C20,18.17 19.72,17.47 19.13,16.88C18.53,16.28 17.83,16 17,16C16.36,16 15.78,16.17 15.28,16.55C14.78,16.92 14.42,17.41 14.2,18H9.14L11.11,14.95C11.27,15 11.56,15 12,15C12.44,15 12.73,15 12.89,14.95L13.88,16.5C14.29,15.96 14.84,15.54 15.47,15.28L14.91,14.39C16.03,13.89 17,13 17.79,11.77C18.59,10.5 19,9.27 19,8H5M17,18C17.3,18 17.53,18.09 17.72,18.28C17.91,18.47 18,18.72 18,19C18,19.27 17.91,19.5 17.72,19.71C17.54,19.91 17.28,20 17,20C16.74,20 16.5,19.91 16.29,19.71C16.09,19.5 16,19.26 16,19C16,18.7 16.09,18.47 16.29,18.28C16.5,18.09 16.73,18 17,18Z",gO="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",yO="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",vO="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",bO="M12 0L3 7L4.63 8.27L12 14L19.36 8.27L21 7L12 0M19.37 10.73L12 16.47L4.62 10.74L3 12L12 19L21 12L19.37 10.73M19.37 15.73L12 21.47L4.62 15.74L3 17L12 24L21 17L19.37 15.73Z",Xg="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z",_O="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",xO="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",wO="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",SO="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",io="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",G2="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z",pf="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",CO="M14,11.5A2.5,2.5 0 0,0 16.5,9A2.5,2.5 0 0,0 14,6.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 14,11.5M14,2C17.86,2 21,5.13 21,9C21,14.25 14,22 14,22C14,22 7,14.25 7,9A7,7 0 0,1 14,2M5,9C5,13.5 10.08,19.66 11,20.81L10,22C10,22 3,14.25 3,9C3,5.83 5.11,3.15 8,2.29C6.16,3.94 5,6.33 5,9Z",jO="M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z",EO="M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z",K2="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",qy="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",gf="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",W2="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",TO="M2,21L23,12L2,3V10L17,12L2,14V21Z",kO="M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z",LO="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",AO="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",Y2="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z",Jg="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",NO="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",MO="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z";const Xd="Logos",o1=5*1024*1024,OO=["image/png","image/jpeg","image/jpg","image/webp","image/avif","image/svg+xml"];async function PO(e,t="companies"){try{const n=X2(e);if(!n.valid)return{error:n.error};const i=e.name.split(".").pop(),a=Date.now(),o=Math.random().toString(36).substring(2,8),u=`${a}_${o}.${i}`,h=t?`${t}/${u}`:u,{data:f,error:g}=await ye.storage.from(Xd).upload(h,e,{cacheControl:"3600",upsert:!1});if(g)return console.error("Upload error:",g),{error:`Upload failed: ${g.message}`};const{data:{publicUrl:y}}=ye.storage.from(Xd).getPublicUrl(h);return{url:y,path:h,error:null}}catch(n){return console.error("Upload service error:",n),{error:`Upload failed: ${n.message}`}}}function X2(e){return e?OO.includes(e.type)?e.size>o1?{valid:!1,error:`File too large. Maximum size: ${o1/1024/1024}MB`}:{valid:!0,error:null}:{valid:!1,error:"Invalid file type. Allowed: PNG, JPG, WEBP, AVIF, SVG"}:{valid:!1,error:"No file selected"}}async function RO(){try{const{data:e,error:t}=await ye.storage.listBuckets();return t?{exists:!1,error:`Error accessing storage: ${t.message}`}:e?.some(i=>i.name===Xd)?{exists:!0,error:null}:{exists:!1,error:`Storage bucket "${Xd}" not found. Available buckets: ${e?.map(i=>i.name).join(", ")||"none"}`}}catch(e){return{exists:!1,error:`Error checking storage bucket: ${e.message}`}}}function _c({currentLogo:e="",onUploadComplete:t,onDelete:n,folder:i="companies",label:a="Upload Logo",showPreview:o=!0,allowDelete:u=!1}){const[h,f]=T.useState(!1),[g,y]=T.useState(null),[v,w]=T.useState(""),x=T.useRef(null),j=async O=>{const A=O.target.files?.[0];if(!A)return;y(null),w("");const P=X2(A);if(!P.valid){y("error"),w(P.error);return}f(!0);const M=await PO(A,i);f(!1),M.error?(y("error"),w(M.error)):(y("success"),w("Upload successful!"),t&&t(M.url,M.path),setTimeout(()=>{y(null),w("")},3e3)),x.current&&(x.current.value="")},E=()=>{n&&n()};return d.jsxs("div",{className:"flex flex-col gap-2",children:[o&&e&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("img",{src:Ji(e),alt:"Current logo",className:"h-12 w-12 object-contain border rounded p-1"}),u&&n&&d.jsx("button",{type:"button",onClick:E,className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove logo",children:d.jsx(Se,{path:Pc,size:.7})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/avif,image/svg+xml",onChange:j,className:"hidden",id:`logo-upload-${i}`}),d.jsx("label",{htmlFor:`logo-upload-${i}`,className:`
            flex items-center gap-1 px-2 py-1 rounded cursor-pointer text-xs
            ${h?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}
            text-white transition-colors whitespace-nowrap
          `,children:h?d.jsxs(d.Fragment,{children:[d.jsx(Se,{path:xO,size:.8,spin:!0}),"Uploading..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Se,{path:NO,size:.8}),a]})}),g&&d.jsxs("div",{className:"flex items-center gap-2",children:[g==="success"&&d.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[d.jsx(Se,{path:es,size:.8}),d.jsx("span",{className:"text-sm",children:v})]}),g==="error"&&d.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[d.jsx(Se,{path:Wg,size:.8}),d.jsx("span",{className:"text-sm",children:v})]})]})]}),d.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PNG, JPG, WEBP, AVIF, SVG  Max size: 5MB"})]})}_c.propTypes={currentLogo:Le.string,onUploadComplete:Le.func.isRequired,onDelete:Le.func,folder:Le.string,label:Le.string,showPreview:Le.bool,allowDelete:Le.bool};_c.defaultProps={currentLogo:"",onDelete:null,folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!1};function DO(){const[e,t]=T.useState({checking:!0,exists:!1,error:null}),[n,i]=T.useState(""),[a,o]=T.useState([]),[u,h]=T.useState(null);T.useEffect(()=>{f(),g()},[]);const f=async()=>{t({checking:!0,exists:!1,error:null});const v=await RO();t({checking:!1,exists:v.exists,error:v.error})},g=async()=>{const{data:{user:v}}=await ye.auth.getUser();h(v)},y=(v,w)=>{i(v),o([{timestamp:new Date().toISOString(),url:v,path:w,success:!0},...a])};return d.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Supabase Storage Test Page"}),d.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Authentication Status"}),u?d.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["Authenticated as: ",u.email]})]}):d.jsxs("div",{className:"text-red-600 flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Not authenticated - Please log in first"})]})]}),d.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Storage Bucket Status"}),d.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Recheck"})]}),e.checking?d.jsx("div",{className:"text-gray-600",children:"Checking bucket..."}):e.exists?d.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Bucket 'logos' exists and is accessible"})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"text-red-600 flex items-center gap-2 mb-2",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Bucket 'logos' not found or inaccessible"})]}),e.error&&d.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:["Error: ",e.error]}),d.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[d.jsx("p",{className:"font-semibold mb-2",children:"Setup Required:"}),d.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[d.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),d.jsx("li",{children:"Create a new public bucket named 'logos'"}),d.jsx("li",{children:"Set up RLS policies (see SUPABASE_STORAGE_SETUP.md)"}),d.jsx("li",{children:"Refresh this page"})]})]})]})]}),u&&e.exists&&d.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Test Logo Upload"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a test image to verify everything works correctly."}),d.jsx(_c,{currentLogo:n,onUploadComplete:y,folder:"test",label:"Upload Test Image",showPreview:!0,allowDelete:!0,onDelete:()=>i("")})]}),a.length>0&&d.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload History"}),d.jsx("div",{className:"space-y-2",children:a.map((v,w)=>d.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-green-600 font-semibold",children:" Success"}),d.jsx("span",{className:"text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),d.jsxs("div",{className:"text-gray-600",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"URL:"})," ",v.url]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Path:"})," ",v.path]})]}),v.url&&d.jsx("img",{src:v.url,alt:"Uploaded",className:"mt-2 h-20 object-contain border rounded"})]},w))})]}),d.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Documentation"}),d.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"For complete setup instructions, see:"}),d.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-700",children:[d.jsx("li",{children:"SUPABASE_STORAGE_SETUP.md - Bucket configuration and policies"}),d.jsx("li",{children:"LOGO_UPLOADER_INTEGRATION.md - Integration examples"})]})]})]})}function zO(){const e=kl(),t=er(),{t:n}=Rt(),i=[{id:"home",labelKey:"navigation.home",icon:vO,path:"/"},{id:"map",labelKey:"navigation.map",icon:G2,path:"/map"},{id:"exhibitors",labelKey:"navigation.exhibitors",icon:pO,path:"/exhibitors"},{id:"schedule",labelKey:"navigation.schedule",icon:V2,path:"/schedule"}],a=o=>{e(o)};return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:d.jsx("div",{className:"flex justify-around items-center h-16 max-w-screen-xl mx-auto",children:i.map(o=>{const u=t.pathname===o.path;return d.jsxs("button",{onClick:()=>a(o.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${u?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[d.jsx(Se,{path:o.icon,size:1.1,className:"mb-1"}),d.jsx("span",{className:`text-xs font-medium ${u?"font-semibold":""}`,children:n(o.labelKey)})]},o.id)})})})}const J2=T.createContext();function BO({children:e}){const[t,n]=T.useState(_l.DEFAULT_LOGO),[i,a]=T.useState(!0);return T.useEffect(()=>{async function o(){try{const{data:h,error:f}=await ye.from("organization_profile").select("logo").eq("id",1).single();if(f){console.error("Error fetching organization logo:",f);return}h&&h.logo&&h.logo.trim()!==""&&n(h.logo)}catch(h){console.error("Error fetching organization logo:",h)}finally{a(!1)}}o();const u=ye.channel("organization-logo-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},h=>{h.new&&h.new.logo&&(h.new.logo.trim()!==""?n(h.new.logo):n(_l.DEFAULT_LOGO))}).subscribe();return()=>{ye.removeChannel(u)}},[]),d.jsx(J2.Provider,{value:{organizationLogo:t,loading:i},children:e})}function Xs(){const e=T.useContext(J2);if(e===void 0)throw new Error("useOrganizationLogo must be used within OrganizationLogoProvider");return e}function $y({selectedYear:e,branding:t}){kl();const{t:n}=Rt(),{organizationLogo:i}=Xs(),a={name:t?.eventName||"4x4 Vakantiebeurs"};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[d.jsx("div",{className:"bg-white shadow-sm",children:d.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-8 text-center",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsx(vc,{})}),i&&d.jsx("div",{className:"mb-6",children:d.jsx("img",{src:Ji(i),alt:a.name,className:"h-24 mx-auto object-contain"})}),d.jsx("p",{className:"text-sm text-orange-600 mb-2",style:{fontFamily:t?.fontFamily},children:n("homePage.subtitle")}),d.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",style:{fontFamily:t?.fontFamily},children:n("homePage.title")}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n("homePage.eventDate")}),d.jsxs("div",{className:"flex justify-center gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"67"}),d.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.exhibitors")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"2"}),d.jsx("div",{className:"text-sm text-gray-600",children:n("homePage.days")})]})]})]})}),d.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[d.jsx("span",{children:""}),n("homePage.openingHours")]}),d.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.openingHoursInfo")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[d.jsx("span",{children:""}),n("homePage.location")]}),d.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n("homePage.locationInfo")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[d.jsx("span",{children:""}),n("homePage.parking")]}),d.jsx("p",{className:"text-gray-700",children:n("homePage.parkingInfo")})]})]}),d.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("p",{className:"text-sm text-blue-800",dangerouslySetInnerHTML:{__html:` ${n("homePage.phaseNote")}`}})})]})]})}$y.propTypes={selectedYear:Le.number,branding:Le.shape({eventName:Le.string,fontFamily:Le.string})};$y.defaultProps={selectedYear:new Date().getFullYear(),branding:null};function Q2(e){const t=e||_l.DEFAULT_LOGO;return`${Cl()}assets/logos/${t}`}function Rc(e,t){return e&&e.trim()!==""?Ji(e):Q2(t)}function IO(e){const[t,n]=T.useState([]),i=T.useCallback(f=>t.includes(f),[t]),a=T.useCallback(f=>{n(g=>g.includes(f)?g.filter(y=>y!==f):[...g,f])},[]),o=T.useCallback(f=>{n(g=>g.includes(f)?g:[...g,f])},[]),u=T.useCallback(f=>{n(g=>g.filter(y=>y!==f))},[]),h=T.useCallback(()=>{n([])},[]);return{favorites:t,isFavorite:i,toggleFavorite:a,addFavorite:o,removeFavorite:u,clearAllFavorites:h}}const eC=T.createContext(null);function l1({selectedYear:e,children:t}){const n=IO();return d.jsx(eC.Provider,{value:n,children:t})}function yf(){const e=T.useContext(eC);if(!e)throw new Error("useFavoritesContext must be used within FavoritesProvider");return e}function Dc({isFavorite:e,onToggle:t,size:n="md",className:i=""}){const a={sm:.8,md:1,lg:1.2},o=a[n]||a.md,u=h=>{h.stopPropagation(),h.preventDefault(),t()};return d.jsx("button",{onClick:u,className:`transition-all ${e?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"} ${i}`,title:e?"Remove from favorites":"Add to favorites","aria-label":e?"Remove from favorites":"Add to favorites",children:d.jsx(Se,{path:e?LO:AO,size:o,className:"drop-shadow-sm"})})}Dc.propTypes={isFavorite:Le.bool.isRequired,onToggle:Le.func.isRequired,size:Le.oneOf(["sm","md","lg"]),className:Le.string};Dc.defaultProps={size:"md",className:""};function UO(e){const{i18n:t}=Rt(),n=t.language;return T.useMemo(()=>{if(!e?.company_translations||e.company_translations.length===0)return e?.info||"";const a=e.company_translations.find(h=>h.language_code===n);if(a?.info)return a.info;const o=e.company_translations.find(h=>h.language_code==="nl");return o?.info?o.info:e.company_translations.find(h=>h.info)?.info||""},[e,n])}function VO(e,t="nl",n=""){if(!e||e.length===0)return n||"";const i=e.find(u=>u.language_code===t);if(i?.info)return i.info;const a=e.find(u=>u.language_code==="nl");return a?.info?a.info:e.find(u=>u.info)?.info||n||""}function HO({markersState:e,selectedYear:t}){const n=kl(),{organizationLogo:i}=Xs(),{t:a,i18n:o}=Rt(),[u,h]=T.useState(""),[f,g]=T.useState(!1),{favorites:y,isFavorite:v,toggleFavorite:w}=yf(),x=T.useMemo(()=>e.filter(A=>A.id<1e3&&A.name).sort((A,P)=>{const M=(A.name||"").toLowerCase(),U=(P.name||"").toLowerCase();return M.localeCompare(U)}),[e]),j=T.useMemo(()=>{const A={};return x.forEach(P=>{P.companyId&&(A[P.companyId]?(A[P.companyId].boothNumbers.push(P.glyph),A[P.companyId].markerIds.push(P.id)):A[P.companyId]={...P,boothNumbers:[P.glyph],markerIds:[P.id]})}),Object.values(A).forEach(P=>{P.boothNumbers.sort((M,U)=>{const V=parseInt(M)||0,B=parseInt(U)||0;return V-B})}),Object.values(A)},[x]),E=T.useMemo(()=>{let A=j;if(f&&(A=A.filter(P=>P.companyId&&v(P.companyId))),u){const P=u.toLowerCase();A=A.filter(M=>M.name?.toLowerCase().includes(P)||M.boothNumbers?.some(U=>U?.toLowerCase().includes(P)))}return A},[j,u,f,v]),O=A=>{n(`/map?focus=${A[0]}`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[d.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:d.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:a("exhibitorPage.title")}),d.jsxs("div",{className:"relative",children:[d.jsx(Se,{path:io,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:a("exhibitorPage.searchPlaceholder"),value:u,onChange:A=>h(A.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),d.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:[a("exhibitorPage.showing")," ",E.length," ",a("exhibitorPage.of")," ",x.length," ",a("exhibitorPage.exhibitors"),y.length>0&&`  ${y.length} ${a("exhibitorPage.favorited")}`]}),y.length>0&&d.jsxs("button",{onClick:()=>g(!f),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[d.jsx(Se,{path:Z2,size:.7}),a("exhibitorPage.favoritesOnly")]})]})]})}),d.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[E.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:a("exhibitorPage.noExhibitors")})}):d.jsx("div",{className:"space-y-3",children:E.map(A=>d.jsx("div",{onClick:()=>O(A.markerIds),className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:d.jsx("img",{src:Rc(A.logo,i),alt:A.name,className:"max-w-full max-h-full object-contain p-2"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-lg break-words",children:A.name}),A.companyId&&d.jsx(Dc,{isFavorite:v(A.companyId),onToggle:()=>w(A.companyId),size:"md",className:"flex-shrink-0"})]}),A.boothNumbers&&A.boothNumbers.length>0&&d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsx(Se,{path:pf,size:.7,className:"text-orange-600"}),d.jsxs("span",{className:"text-sm font-medium text-orange-600",children:[a("exhibitorPage.booth")," ",A.boothNumbers.join(", ")]})]}),d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:a("exhibitorPage.categoriesComingSoon")})}),(()=>{const P=VO(A.company_translations,o.language,A.info);return P?d.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:P}):null})()]})]})},A.companyId||A.id))}),d.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsxs("p",{children:[" ",d.jsx("strong",{children:a("exhibitorPage.phaseNote")})," ",a("exhibitorPage.comingInFuturePhases")]}),d.jsxs("ul",{className:"list-disc list-inside mt-2",children:[d.jsx("li",{children:a("exhibitorPage.categoryFiltering")}),d.jsx("li",{children:a("exhibitorPage.sortOptions")})]})]})})]})]})}function tC(){const[e,t]=T.useState({saturday:[],sunday:[]}),[n,i]=T.useState(!0),[a,o]=T.useState(null);T.useEffect(()=>{u()},[]);async function u(){try{i(!0),o(null);const{data:f,error:g}=await ye.from("event_activities").select(`
          *,
          companies!event_activities_company_id_fkey (
            id,
            name
          )
        `).eq("is_active",!0).order("display_order",{ascending:!0});if(g)throw g;const y=f?.filter(w=>w.day==="saturday")||[],v=f?.filter(w=>w.day==="sunday")||[];t({saturday:y,sunday:v})}catch(f){console.error("Error fetching event activities:",f),o(f.message)}finally{i(!1)}}function h(f,g){if(f.location_type==="exhibitor"&&f.companies){const y=f.companies;return{text:y.name,boothNumber:null,companyId:y.id}}return{text:g==="nl"?f.location_nl:f.location_en,boothNumber:null,companyId:null}}return{activities:e,loading:n,error:a,getActivityLocation:h,refetch:u}}function FO({selectedYear:e}){const{t,i18n:n}=Rt(),[i,a]=T.useState("saturday"),o=n.language==="en",{activities:u,loading:h,error:f,getActivityLocation:g}=tC(),y=i==="saturday"?u.saturday:u.sunday;return h?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:o?"Loading schedule...":"Programma laden..."})]})}):f?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[d.jsx(Se,{path:Wg,size:2,className:"text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:o?"Unable to load schedule":"Kan programma niet laden"}),d.jsx("p",{className:"text-gray-600",children:f})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[d.jsx("div",{className:"bg-white border-b",children:d.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:o?"Program":"Programma"}),d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 rounded",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Se,{path:Wg,size:1,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-yellow-800 mb-1",children:o?"Note for Managers":"Let op!"}),d.jsx("p",{className:"text-sm text-yellow-700",children:o?"This schedule shows 2025 program data (October 11-12, 2025). Please update for the 2026 event (October 10-11, 2026).":"Dit programma toont 2025 gegevens (11-12 oktober 2025). Gelieve bij te werken voor het 2026 evenement (10-11 oktober 2026)."})]})]})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("saturday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="saturday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o?"Saturday October 10":"Zaterdag 10 oktober"}),d.jsx("button",{onClick:()=>a("sunday"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${i==="sunday"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o?"Sunday October 11":"Zondag 11 oktober"})]})]})}),d.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:d.jsx("div",{className:"space-y-4",children:y.map(v=>{const w=g(v,n.language);return d.jsxs("div",{className:"bg-white rounded-lg shadow border-l-4 border-l-orange-600 p-4 transition-all hover:shadow-md",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Se,{path:uO,size:.9,className:"text-gray-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[v.start_time," - ",v.end_time]})]}),(v.badge_nl||v.badge_en)&&d.jsx("span",{className:"inline-block px-2 py-1 bg-orange-600 text-white text-xs font-semibold rounded",children:o?v.badge_en:v.badge_nl})]}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:o?v.title_en:v.title_nl}),(v.description_nl||v.description_en)&&d.jsx("p",{className:"text-gray-700 mb-3",children:o?v.description_en:v.description_nl}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(Se,{path:pf,size:.8,className:"text-orange-600"}),d.jsxs("span",{className:"text-gray-700",children:[d.jsxs("span",{className:"font-medium",children:[t("programManagement.location"),":"]})," ",w.text]}),v.show_location_type_badge&&d.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${v.location_type==="exhibitor"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:v.location_type==="exhibitor"?t("programManagement.exhibitor"):t("programManagement.venue")})]})]},v.id)})})})]})}function ro(){const[e,t]=T.useState(null),[n,i]=T.useState(!0);return T.useEffect(()=>{ye.auth.getSession().then(({data:h})=>{const f=h?.session?.user?.user_metadata?.role||null;t(f),i(!1)});const{data:u}=ye.auth.onAuthStateChange((h,f)=>{const g=f?.user?.user_metadata?.role||null;t(g),i(!1)});return()=>{u?.subscription?.unsubscribe()}},[]),{role:e,loading:n,hasRole:u=>e?e==="super_admin"?!0:e===u:!1,hasAnyRole:u=>e?e==="super_admin"?!0:u.includes(e):!1,isSuperAdmin:e==="super_admin",isSystemManager:e==="system_manager",isEventManager:e==="event_manager"}}function qO(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $O=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZO=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GO={};function u1(e,t){return(GO.jsx?ZO:$O).test(e)}const KO=/[ \t\n\f\r]/g;function WO(e){return typeof e=="object"?e.type==="text"?c1(e.value):!1:c1(e)}function c1(e){return e.replace(KO,"")===""}class zc{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}zc.prototype.normal={};zc.prototype.property={};zc.prototype.space=void 0;function nC(e,t){const n={},i={};for(const a of e)Object.assign(n,a.property),Object.assign(i,a.normal);return new zc(n,i,t)}function Qg(e){return e.toLowerCase()}class Qn{constructor(t,n){this.attribute=n,this.property=t}}Qn.prototype.attribute="";Qn.prototype.booleanish=!1;Qn.prototype.boolean=!1;Qn.prototype.commaOrSpaceSeparated=!1;Qn.prototype.commaSeparated=!1;Qn.prototype.defined=!1;Qn.prototype.mustUseProperty=!1;Qn.prototype.number=!1;Qn.prototype.overloadedBoolean=!1;Qn.prototype.property="";Qn.prototype.spaceSeparated=!1;Qn.prototype.space=void 0;let YO=0;const Qe=so(),nn=so(),ey=so(),je=so(),Tt=so(),ml=so(),hi=so();function so(){return 2**++YO}const ty=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:nn,commaOrSpaceSeparated:hi,commaSeparated:ml,number:je,overloadedBoolean:ey,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),Jp=Object.keys(ty);class Zy extends Qn{constructor(t,n,i,a){let o=-1;if(super(t,n),h1(this,"space",a),typeof i=="number")for(;++o<Jp.length;){const u=Jp[o];h1(this,Jp[o],(i&ty[u])===ty[u])}}}Zy.prototype.defined=!0;function h1(e,t,n){n&&(e[t]=n)}function Ll(e){const t={},n={};for(const[i,a]of Object.entries(e.properties)){const o=new Zy(i,e.transform(e.attributes||{},i),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[Qg(i)]=i,n[Qg(o.attribute)]=i}return new zc(t,n,e.space)}const iC=Ll({properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:Tt,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:je,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:Tt,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:nn,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function rC(e,t){return t in e?e[t]:t}function sC(e,t){return rC(e,t.toLowerCase())}const XO=Ll({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ml,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:Tt,autoFocus:Qe,autoPlay:Qe,blocking:Tt,capture:null,charSet:null,checked:Qe,cite:null,className:Tt,cols:je,colSpan:null,content:null,contentEditable:nn,controls:Qe,controlsList:Tt,coords:je|ml,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:ey,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:Tt,height:je,hidden:ey,high:je,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:Qe,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:je,pattern:null,ping:Tt,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:Tt,required:Qe,reversed:Qe,rows:je,rowSpan:je,sandbox:Tt,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:nn,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:sC}),JO=Ll({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hi,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ml,g2:ml,glyphName:ml,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:hi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hi,rev:hi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hi,requiredFeatures:hi,requiredFonts:hi,requiredFormats:hi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:hi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hi,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rC}),aC=Ll({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),oC=Ll({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sC}),lC=Ll({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),QO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eP=/[A-Z]/g,d1=/-[a-z]/g,tP=/^data[-\w.:]+$/i;function nP(e,t){const n=Qg(t);let i=t,a=Qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tP.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(d1,rP);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!d1.test(o)){let u=o.replace(eP,iP);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=Zy}return new a(i,t)}function iP(e){return"-"+e.toLowerCase()}function rP(e){return e.charAt(1).toUpperCase()}const sP=nC([iC,XO,aC,oC,lC],"html"),Gy=nC([iC,JO,aC,oC,lC],"svg");function aP(e){return e.join(" ").trim()}var nl={},Qp,f1;function oP(){if(f1)return Qp;f1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,f=`
`,g="/",y="*",v="",w="comment",x="declaration";function j(O,A){if(typeof O!="string")throw new TypeError("First argument must be a string");if(!O)return[];A=A||{};var P=1,M=1;function U(re){var ce=re.match(t);ce&&(P+=ce.length);var F=re.lastIndexOf(f);M=~F?re.length-F:M+re.length}function V(){var re={line:P,column:M};return function(ce){return ce.position=new B(re),K(),ce}}function B(re){this.start=re,this.end={line:P,column:M},this.source=A.source}B.prototype.content=O;function q(re){var ce=new Error(A.source+":"+P+":"+M+": "+re);if(ce.reason=re,ce.filename=A.source,ce.line=P,ce.column=M,ce.source=O,!A.silent)throw ce}function te(re){var ce=re.exec(O);if(ce){var F=ce[0];return U(F),O=O.slice(F.length),ce}}function K(){te(n)}function ae(re){var ce;for(re=re||[];ce=$();)ce!==!1&&re.push(ce);return re}function $(){var re=V();if(!(g!=O.charAt(0)||y!=O.charAt(1))){for(var ce=2;v!=O.charAt(ce)&&(y!=O.charAt(ce)||g!=O.charAt(ce+1));)++ce;if(ce+=2,v===O.charAt(ce-1))return q("End of comment missing");var F=O.slice(2,ce-2);return M+=2,U(F),O=O.slice(ce),M+=2,re({type:w,comment:F})}}function Q(){var re=V(),ce=te(i);if(ce){if($(),!te(a))return q("property missing ':'");var F=te(o),ee=re({type:x,property:E(ce[0].replace(e,v)),value:F?E(F[0].replace(e,v)):v});return te(u),ee}}function se(){var re=[];ae(re);for(var ce;ce=Q();)ce!==!1&&(re.push(ce),ae(re));return re}return K(),se()}function E(O){return O?O.replace(h,v):v}return Qp=j,Qp}var m1;function lP(){if(m1)return nl;m1=1;var e=nl&&nl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nl,"__esModule",{value:!0}),nl.default=n;const t=e(oP());function n(i,a){let o=null;if(!i||typeof i!="string")return o;const u=(0,t.default)(i),h=typeof a=="function";return u.forEach(f=>{if(f.type!=="declaration")return;const{property:g,value:y}=f;h?a(g,y,f):y&&(o=o||{},o[g]=y)}),o}return nl}var Fu={},p1;function uP(){if(p1)return Fu;p1=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(g){return!g||n.test(g)||e.test(g)},u=function(g,y){return y.toUpperCase()},h=function(g,y){return"".concat(y,"-")},f=function(g,y){return y===void 0&&(y={}),o(g)?g:(g=g.toLowerCase(),y.reactCompat?g=g.replace(a,h):g=g.replace(i,h),g.replace(t,u))};return Fu.camelCase=f,Fu}var qu,g1;function cP(){if(g1)return qu;g1=1;var e=qu&&qu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(lP()),n=uP();function i(a,o){var u={};return!a||typeof a!="string"||(0,t.default)(a,function(h,f){h&&f&&(u[(0,n.camelCase)(h,o)]=f)}),u}return i.default=i,qu=i,qu}var hP=cP();const dP=eo(hP),uC=cC("end"),Ky=cC("start");function cC(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function fP(e){const t=Ky(e),n=uC(e);if(t&&n)return{start:t,end:n}}function rc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?y1(e.position):"start"in e||"end"in e?y1(e):"line"in e||"column"in e?ny(e):""}function ny(e){return v1(e&&e.line)+":"+v1(e&&e.column)}function y1(e){return ny(e&&e.start)+"-"+ny(e&&e.end)}function v1(e){return e&&typeof e=="number"?e:1}class An extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?a=t:!o.cause&&t&&(u=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?o.ruleId=i:(o.source=i.slice(0,f),o.ruleId=i.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=rc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const Wy={}.hasOwnProperty,mP=new Map,pP=/[A-Z]/g,gP=new Set(["table","tbody","thead","tfoot","tr"]),yP=new Set(["td","th"]),hC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vP(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=EP(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=jP(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Gy:sP,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=dC(a,e,void 0);return o&&typeof o!="string"?o:a.create(e,a.Fragment,{children:o||void 0},void 0)}function dC(e,t,n){if(t.type==="element")return bP(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return _P(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return wP(e,t,n);if(t.type==="mdxjsEsm")return xP(e,t);if(t.type==="root")return SP(e,t,n);if(t.type==="text")return CP(e,t)}function bP(e,t,n){const i=e.schema;let a=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=Gy,e.schema=a),e.ancestors.push(t);const o=mC(e,t.tagName,!1),u=TP(e,t);let h=Xy(e,t);return gP.has(t.tagName)&&(h=h.filter(function(f){return typeof f=="string"?!WO(f):!0})),fC(e,u,o,t),Yy(u,h),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function _P(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}xc(e,t.position)}function xP(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);xc(e,t.position)}function wP(e,t,n){const i=e.schema;let a=i;t.name==="svg"&&i.space==="html"&&(a=Gy,e.schema=a),e.ancestors.push(t);const o=t.name===null?e.Fragment:mC(e,t.name,!0),u=kP(e,t),h=Xy(e,t);return fC(e,u,o,t),Yy(u,h),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function SP(e,t,n){const i={};return Yy(i,Xy(e,t)),e.create(t,e.Fragment,i,n)}function CP(e,t){return t.value}function fC(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Yy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function jP(e,t,n){return i;function i(a,o,u,h){const g=Array.isArray(u.children)?n:t;return h?g(o,u,h):g(o,u)}}function EP(e,t){return n;function n(i,a,o,u){const h=Array.isArray(o.children),f=Ky(i);return t(a,o,u,h,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function TP(e,t){const n={};let i,a;for(a in t.properties)if(a!=="children"&&Wy.call(t.properties,a)){const o=LP(e,a,t.properties[a]);if(o){const[u,h]=o;e.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&yP.has(t.tagName)?i=h:n[u]=h}}if(i){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function kP(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,e.evaluater.evaluateExpression(h.argument))}else xc(e,t.position);else{const a=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const h=i.value.data.estree.body[0];h.type,o=e.evaluater.evaluateExpression(h.expression)}else xc(e,t.position);else o=i.value===null?!0:i.value;n[a]=o}return n}function Xy(e,t){const n=[];let i=-1;const a=e.passKeys?new Map:mP;for(;++i<t.children.length;){const o=t.children[i];let u;if(e.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const g=a.get(f)||0;u=f+"-"+g,a.set(f,g+1)}}const h=dC(e,o,u);h!==void 0&&n.push(h)}return n}function LP(e,t,n){const i=nP(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?qO(n):aP(n)),i.property==="style"){let a=typeof n=="object"?n:AP(e,String(n));return e.stylePropertyNameCase==="css"&&(a=NP(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?QO[i.property]||i.property:i.attribute,n]}}function AP(e,t){try{return dP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,a=new An("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=hC+"#cannot-parse-style-attribute",a}}function mC(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let o=-1,u;for(;++o<a.length;){const h=u1(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=u1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const a=i.value;return Wy.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(i);xc(e)}function xc(e,t){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=hC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function NP(e){const t={};let n;for(n in e)Wy.call(e,n)&&(t[MP(n)]=e[n]);return t}function MP(e){let t=e.replace(pP,OP);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function OP(e){return"-"+e.toLowerCase()}const eg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},PP={};function RP(e,t){const n=PP,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pC(e,i,a)}function pC(e,t,n){if(DP(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return b1(e.children,t,n)}return Array.isArray(e)?b1(e,t,n):""}function b1(e,t,n){const i=[];let a=-1;for(;++a<e.length;)i[a]=pC(e[a],t,n);return i.join("")}function DP(e){return!!(e&&typeof e=="object")}const _1=document.createElement("i");function Jy(e){const t="&"+e+";";_1.innerHTML=t;const n=_1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wr(e,t,n,i){const a=e.length;let o=0,u;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(t,0),e.splice(...u),o+=1e4,t+=1e4}function Ai(e,t){return e.length>0?(wr(e,e.length,0,t),e):t}const x1={}.hasOwnProperty;function zP(e){const t={};let n=-1;for(;++n<e.length;)BP(t,e[n]);return t}function BP(e,t){let n;for(n in t){const a=(x1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let u;if(o)for(u in o){x1.call(a,u)||(a[u]=[]);const h=o[u];IP(a[u],Array.isArray(h)?h:h?[h]:[])}}}function IP(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);wr(e,0,0,i)}function gC(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vr=Js(/[A-Za-z]/),pi=Js(/[\dA-Za-z]/),UP=Js(/[#-'*+\--9=?A-Z^-~]/);function iy(e){return e!==null&&(e<32||e===127)}const ry=Js(/\d/),VP=Js(/[\dA-Fa-f]/),HP=Js(/[!-/:-@[-`{-~]/);function $e(e){return e!==null&&e<-2}function Jn(e){return e!==null&&(e<0||e===32)}function mt(e){return e===-2||e===-1||e===32}const FP=Js(new RegExp("\\p{P}|\\p{S}","u")),qP=Js(/\s/);function Js(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Al(e){const t=[];let n=-1,i=0,a=0;for(;++n<e.length;){const o=e.charCodeAt(n);let u="";if(o===37&&pi(e.charCodeAt(n+1))&&pi(e.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=e.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(t.push(e.slice(i,n),encodeURIComponent(u)),i=n+a+1,u=""),a&&(n+=a,a=0)}return t.join("")+e.slice(i)}function kt(e,t,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return mt(f)?(e.enter(n),h(f)):t(f)}function h(f){return mt(f)&&o++<a?(e.consume(f),h):(e.exit(n),t(f))}}const $P={tokenize:ZP};function ZP(e){const t=e.attempt(this.parser.constructs.contentInitial,i,a);let n;return t;function i(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),kt(e,t,"linePrefix")}function a(h){return e.enter("paragraph"),o(h)}function o(h){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(h)}function u(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return $e(h)?(e.consume(h),e.exit("chunkText"),o):(e.consume(h),u)}}const GP={tokenize:KP},w1={tokenize:WP};function KP(e){const t=this,n=[];let i=0,a,o,u;return h;function h(M){if(i<n.length){const U=n[i];return t.containerState=U[1],e.attempt(U[0].continuation,f,g)(M)}return g(M)}function f(M){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&P();const U=t.events.length;let V=U,B;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){B=t.events[V][1].end;break}A(i);let q=U;for(;q<t.events.length;)t.events[q][1].end={...B},q++;return wr(t.events,V+1,0,t.events.slice(U)),t.events.length=q,g(M)}return h(M)}function g(M){if(i===n.length){if(!a)return w(M);if(a.currentConstruct&&a.currentConstruct.concrete)return j(M);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(w1,y,v)(M)}function y(M){return a&&P(),A(i),w(M)}function v(M){return t.parser.lazy[t.now().line]=i!==n.length,u=t.now().offset,j(M)}function w(M){return t.containerState={},e.attempt(w1,x,j)(M)}function x(M){return i++,n.push([t.currentConstruct,t.containerState]),w(M)}function j(M){if(M===null){a&&P(),A(0),e.consume(M);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),E(M)}function E(M){if(M===null){O(e.exit("chunkFlow"),!0),A(0),e.consume(M);return}return $e(M)?(e.consume(M),O(e.exit("chunkFlow")),i=0,t.interrupt=void 0,h):(e.consume(M),E)}function O(M,U){const V=t.sliceStream(M);if(U&&V.push(null),M.previous=o,o&&(o.next=M),o=M,a.defineSkip(M.start),a.write(V),t.parser.lazy[M.start.line]){let B=a.events.length;for(;B--;)if(a.events[B][1].start.offset<u&&(!a.events[B][1].end||a.events[B][1].end.offset>u))return;const q=t.events.length;let te=q,K,ae;for(;te--;)if(t.events[te][0]==="exit"&&t.events[te][1].type==="chunkFlow"){if(K){ae=t.events[te][1].end;break}K=!0}for(A(i),B=q;B<t.events.length;)t.events[B][1].end={...ae},B++;wr(t.events,te+1,0,t.events.slice(q)),t.events.length=B}}function A(M){let U=n.length;for(;U-- >M;){const V=n[U];t.containerState=V[1],V[0].exit.call(t,e)}n.length=M}function P(){a.write([null]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function WP(e,t,n){return kt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S1(e){if(e===null||Jn(e)||qP(e))return 1;if(FP(e))return 2}function Qy(e,t,n){const i=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}const sy={name:"attention",resolveAll:YP,tokenize:XP};function YP(e,t){let n=-1,i,a,o,u,h,f,g,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[i][1].end},w={...e[n][1].start};C1(v,-f),C1(w,f),u={type:f>1?"strongSequence":"emphasisSequence",start:v,end:{...e[i][1].end}},h={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:w},o={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},a={type:f>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},e[i][1].end={...u.start},e[n][1].start={...h.end},g=[],e[i][1].end.offset-e[i][1].start.offset&&(g=Ai(g,[["enter",e[i][1],t],["exit",e[i][1],t]])),g=Ai(g,[["enter",a,t],["enter",u,t],["exit",u,t],["enter",o,t]]),g=Ai(g,Qy(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),g=Ai(g,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,g=Ai(g,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,wr(e,i-1,n-i+3,g),n=i+g.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function XP(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=S1(i);let o;return u;function u(f){return o=f,e.enter("attentionSequence"),h(f)}function h(f){if(f===o)return e.consume(f),h;const g=e.exit("attentionSequence"),y=S1(f),v=!y||y===2&&a||n.includes(f),w=!a||a===2&&y||n.includes(i);return g._open=!!(o===42?v:v&&(a||!w)),g._close=!!(o===42?w:w&&(y||!v)),t(f)}}function C1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const JP={name:"autolink",tokenize:QP};function QP(e,t,n){let i=0;return a;function a(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(x){return vr(x)?(e.consume(x),u):x===64?n(x):g(x)}function u(x){return x===43||x===45||x===46||pi(x)?(i=1,h(x)):g(x)}function h(x){return x===58?(e.consume(x),i=0,f):(x===43||x===45||x===46||pi(x))&&i++<32?(e.consume(x),h):(i=0,g(x))}function f(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||iy(x)?n(x):(e.consume(x),f)}function g(x){return x===64?(e.consume(x),y):UP(x)?(e.consume(x),g):n(x)}function y(x){return pi(x)?v(x):n(x)}function v(x){return x===46?(e.consume(x),i=0,y):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):w(x)}function w(x){if((x===45||pi(x))&&i++<63){const j=x===45?w:v;return e.consume(x),j}return n(x)}}const vf={partial:!0,tokenize:e5};function e5(e,t,n){return i;function i(o){return mt(o)?kt(e,a,"linePrefix")(o):a(o)}function a(o){return o===null||$e(o)?t(o):n(o)}}const yC={continuation:{tokenize:n5},exit:i5,name:"blockQuote",tokenize:t5};function t5(e,t,n){const i=this;return a;function a(u){if(u===62){const h=i.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return n(u)}function o(u){return mt(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function n5(e,t,n){const i=this;return a;function a(u){return mt(u)?kt(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(yC,t,n)(u)}}function i5(e){e.exit("blockQuote")}const vC={name:"characterEscape",tokenize:r5};function r5(e,t,n){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),a}function a(o){return HP(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const bC={name:"characterReference",tokenize:s5};function s5(e,t,n){const i=this;let a=0,o,u;return h;function h(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),f}function f(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),o=31,u=pi,y(v))}function g(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=VP,y):(e.enter("characterReferenceValue"),o=7,u=ry,y(v))}function y(v){if(v===59&&a){const w=e.exit("characterReferenceValue");return u===pi&&!Jy(i.sliceSerialize(w))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(v)&&a++<o?(e.consume(v),y):n(v)}}const j1={partial:!0,tokenize:o5},E1={concrete:!0,name:"codeFenced",tokenize:a5};function a5(e,t,n){const i=this,a={partial:!0,tokenize:V};let o=0,u=0,h;return f;function f(B){return g(B)}function g(B){const q=i.events[i.events.length-1];return o=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,h=B,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(B)}function y(B){return B===h?(u++,e.consume(B),y):u<3?n(B):(e.exit("codeFencedFenceSequence"),mt(B)?kt(e,v,"whitespace")(B):v(B))}function v(B){return B===null||$e(B)?(e.exit("codeFencedFence"),i.interrupt?t(B):e.check(j1,E,U)(B)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),w(B))}function w(B){return B===null||$e(B)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(B)):mt(B)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),kt(e,x,"whitespace")(B)):B===96&&B===h?n(B):(e.consume(B),w)}function x(B){return B===null||$e(B)?v(B):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),j(B))}function j(B){return B===null||$e(B)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(B)):B===96&&B===h?n(B):(e.consume(B),j)}function E(B){return e.attempt(a,U,O)(B)}function O(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),A}function A(B){return o>0&&mt(B)?kt(e,P,"linePrefix",o+1)(B):P(B)}function P(B){return B===null||$e(B)?e.check(j1,E,U)(B):(e.enter("codeFlowValue"),M(B))}function M(B){return B===null||$e(B)?(e.exit("codeFlowValue"),P(B)):(e.consume(B),M)}function U(B){return e.exit("codeFenced"),t(B)}function V(B,q,te){let K=0;return ae;function ae(ce){return B.enter("lineEnding"),B.consume(ce),B.exit("lineEnding"),$}function $(ce){return B.enter("codeFencedFence"),mt(ce)?kt(B,Q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):Q(ce)}function Q(ce){return ce===h?(B.enter("codeFencedFenceSequence"),se(ce)):te(ce)}function se(ce){return ce===h?(K++,B.consume(ce),se):K>=u?(B.exit("codeFencedFenceSequence"),mt(ce)?kt(B,re,"whitespace")(ce):re(ce)):te(ce)}function re(ce){return ce===null||$e(ce)?(B.exit("codeFencedFence"),q(ce)):te(ce)}}}function o5(e,t,n){const i=this;return a;function a(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}const tg={name:"codeIndented",tokenize:u5},l5={partial:!0,tokenize:c5};function u5(e,t,n){const i=this;return a;function a(g){return e.enter("codeIndented"),kt(e,o,"linePrefix",5)(g)}function o(g){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(g):n(g)}function u(g){return g===null?f(g):$e(g)?e.attempt(l5,u,f)(g):(e.enter("codeFlowValue"),h(g))}function h(g){return g===null||$e(g)?(e.exit("codeFlowValue"),u(g)):(e.consume(g),h)}function f(g){return e.exit("codeIndented"),t(g)}}function c5(e,t,n){const i=this;return a;function a(u){return i.parser.lazy[i.now().line]?n(u):$e(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a):kt(e,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):$e(u)?a(u):n(u)}}const h5={name:"codeText",previous:f5,resolve:d5,tokenize:m5};function d5(e){let t=e.length-4,n=3,i,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)a===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(a=i):(i===t||e[i][1].type==="lineEnding")&&(e[a][1].type="codeTextData",i!==a+2&&(e[a][1].end=e[i-1][1].end,e.splice(a+2,i-a-2),t-=i-a-2,i=a+2),a=void 0);return e}function f5(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function m5(e,t,n){let i=0,a,o;return u;function u(v){return e.enter("codeText"),e.enter("codeTextSequence"),h(v)}function h(v){return v===96?(e.consume(v),i++,h):(e.exit("codeTextSequence"),f(v))}function f(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),f):v===96?(o=e.enter("codeTextSequence"),a=0,y(v)):$e(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):(e.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||$e(v)?(e.exit("codeTextData"),f(v)):(e.consume(v),g)}function y(v){return v===96?(e.consume(v),a++,y):a===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(o.type="codeTextData",g(v))}}class p5{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const a=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&$u(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$u(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$u(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$u(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$u(this.left,n.reverse())}}}function $u(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _C(e){const t={};let n=-1,i,a,o,u,h,f,g;const y=new p5(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,g5(y,n)),n=t[n],g=!0);else if(i[1]._container){for(o=n,a=void 0;o--;)if(u=y.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(i[1].end={...y.get(a)[1].start},h=y.slice(a,n),h.unshift(i),y.splice(a,n-a+1,h))}}return wr(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!g}function g5(e,t){const n=e.get(t)[1],i=e.get(t)[2];let a=t-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,f=[],g={};let y,v,w=-1,x=n,j=0,E=0;const O=[E];for(;x;){for(;e.get(++a)[1]!==x;);o.push(a),x._tokenizer||(y=i.sliceStream(x),x.next||y.push(null),v&&u.defineSkip(x.start),x._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),x._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=x,x=x.next}for(x=n;++w<h.length;)h[w][0]==="exit"&&h[w-1][0]==="enter"&&h[w][1].type===h[w-1][1].type&&h[w][1].start.line!==h[w][1].end.line&&(E=w+1,O.push(E),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(u.events=[],x?(x._tokenizer=void 0,x.previous=void 0):O.pop(),w=O.length;w--;){const A=h.slice(O[w],O[w+1]),P=o.pop();f.push([P,P+A.length-1]),e.splice(P,2,A)}for(f.reverse(),w=-1;++w<f.length;)g[j+f[w][0]]=j+f[w][1],j+=f[w][1]-f[w][0]-1;return g}const y5={resolve:b5,tokenize:_5},v5={partial:!0,tokenize:x5};function b5(e){return _C(e),e}function _5(e,t){let n;return i;function i(h){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):$e(h)?e.check(v5,u,o)(h):(e.consume(h),a)}function o(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function u(h){return e.consume(h),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function x5(e,t,n){const i=this;return a;function a(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),kt(e,o,"linePrefix")}function o(u){if(u===null||$e(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):e.interrupt(i.parser.constructs.flow,n,t)(u)}}function xC(e,t,n,i,a,o,u,h,f){const g=f||Number.POSITIVE_INFINITY;let y=0;return v;function v(A){return A===60?(e.enter(i),e.enter(a),e.enter(o),e.consume(A),e.exit(o),w):A===null||A===32||A===41||iy(A)?n(A):(e.enter(i),e.enter(u),e.enter(h),e.enter("chunkString",{contentType:"string"}),E(A))}function w(A){return A===62?(e.enter(o),e.consume(A),e.exit(o),e.exit(a),e.exit(i),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),x(A))}function x(A){return A===62?(e.exit("chunkString"),e.exit(h),w(A)):A===null||A===60||$e(A)?n(A):(e.consume(A),A===92?j:x)}function j(A){return A===60||A===62||A===92?(e.consume(A),x):x(A)}function E(A){return!y&&(A===null||A===41||Jn(A))?(e.exit("chunkString"),e.exit(h),e.exit(u),e.exit(i),t(A)):y<g&&A===40?(e.consume(A),y++,E):A===41?(e.consume(A),y--,E):A===null||A===32||A===40||iy(A)?n(A):(e.consume(A),A===92?O:E)}function O(A){return A===40||A===41||A===92?(e.consume(A),E):E(A)}}function wC(e,t,n,i,a,o){const u=this;let h=0,f;return g;function g(x){return e.enter(i),e.enter(a),e.consume(x),e.exit(a),e.enter(o),y}function y(x){return h>999||x===null||x===91||x===93&&!f||x===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(x):x===93?(e.exit(o),e.enter(a),e.consume(x),e.exit(a),e.exit(i),t):$e(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(x))}function v(x){return x===null||x===91||x===93||$e(x)||h++>999?(e.exit("chunkString"),y(x)):(e.consume(x),f||(f=!mt(x)),x===92?w:v)}function w(x){return x===91||x===92||x===93?(e.consume(x),h++,v):v(x)}}function SC(e,t,n,i,a,o){let u;return h;function h(w){return w===34||w===39||w===40?(e.enter(i),e.enter(a),e.consume(w),e.exit(a),u=w===40?41:w,f):n(w)}function f(w){return w===u?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),t):(e.enter(o),g(w))}function g(w){return w===u?(e.exit(o),f(u)):w===null?n(w):$e(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),kt(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===u||w===null||$e(w)?(e.exit("chunkString"),g(w)):(e.consume(w),w===92?v:y)}function v(w){return w===u||w===92?(e.consume(w),y):y(w)}}function sc(e,t){let n;return i;function i(a){return $e(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,i):mt(a)?kt(e,i,n?"linePrefix":"lineSuffix")(a):t(a)}}const w5={name:"definition",tokenize:C5},S5={partial:!0,tokenize:j5};function C5(e,t,n){const i=this;let a;return o;function o(x){return e.enter("definition"),u(x)}function u(x){return wC.call(i,e,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function h(x){return a=pl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),f):n(x)}function f(x){return Jn(x)?sc(e,g)(x):g(x)}function g(x){return xC(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function y(x){return e.attempt(S5,v,v)(x)}function v(x){return mt(x)?kt(e,w,"whitespace")(x):w(x)}function w(x){return x===null||$e(x)?(e.exit("definition"),i.parser.defined.push(a),t(x)):n(x)}}function j5(e,t,n){return i;function i(h){return Jn(h)?sc(e,a)(h):n(h)}function a(h){return SC(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return mt(h)?kt(e,u,"whitespace")(h):u(h)}function u(h){return h===null||$e(h)?t(h):n(h)}}const E5={name:"hardBreakEscape",tokenize:T5};function T5(e,t,n){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),a}function a(o){return $e(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const k5={name:"headingAtx",resolve:L5,tokenize:A5};function L5(e,t){let n=e.length-2,i=3,a,o;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},o={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},wr(e,i,n-i+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),e}function A5(e,t,n){let i=0;return a;function a(y){return e.enter("atxHeading"),o(y)}function o(y){return e.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(e.consume(y),u):y===null||Jn(y)?(e.exit("atxHeadingSequence"),h(y)):n(y)}function h(y){return y===35?(e.enter("atxHeadingSequence"),f(y)):y===null||$e(y)?(e.exit("atxHeading"),t(y)):mt(y)?kt(e,h,"whitespace")(y):(e.enter("atxHeadingText"),g(y))}function f(y){return y===35?(e.consume(y),f):(e.exit("atxHeadingSequence"),h(y))}function g(y){return y===null||y===35||Jn(y)?(e.exit("atxHeadingText"),h(y)):(e.consume(y),g)}}const N5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],T1=["pre","script","style","textarea"],M5={concrete:!0,name:"htmlFlow",resolveTo:R5,tokenize:D5},O5={partial:!0,tokenize:B5},P5={partial:!0,tokenize:z5};function R5(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function D5(e,t,n){const i=this;let a,o,u,h,f;return g;function g(z){return y(z)}function y(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),v}function v(z){return z===33?(e.consume(z),w):z===47?(e.consume(z),o=!0,E):z===63?(e.consume(z),a=3,i.interrupt?t:R):vr(z)?(e.consume(z),u=String.fromCharCode(z),O):n(z)}function w(z){return z===45?(e.consume(z),a=2,x):z===91?(e.consume(z),a=5,h=0,j):vr(z)?(e.consume(z),a=4,i.interrupt?t:R):n(z)}function x(z){return z===45?(e.consume(z),i.interrupt?t:R):n(z)}function j(z){const W="CDATA[";return z===W.charCodeAt(h++)?(e.consume(z),h===W.length?i.interrupt?t:Q:j):n(z)}function E(z){return vr(z)?(e.consume(z),u=String.fromCharCode(z),O):n(z)}function O(z){if(z===null||z===47||z===62||Jn(z)){const W=z===47,oe=u.toLowerCase();return!W&&!o&&T1.includes(oe)?(a=1,i.interrupt?t(z):Q(z)):N5.includes(u.toLowerCase())?(a=6,W?(e.consume(z),A):i.interrupt?t(z):Q(z)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(z):o?P(z):M(z))}return z===45||pi(z)?(e.consume(z),u+=String.fromCharCode(z),O):n(z)}function A(z){return z===62?(e.consume(z),i.interrupt?t:Q):n(z)}function P(z){return mt(z)?(e.consume(z),P):ae(z)}function M(z){return z===47?(e.consume(z),ae):z===58||z===95||vr(z)?(e.consume(z),U):mt(z)?(e.consume(z),M):ae(z)}function U(z){return z===45||z===46||z===58||z===95||pi(z)?(e.consume(z),U):V(z)}function V(z){return z===61?(e.consume(z),B):mt(z)?(e.consume(z),V):M(z)}function B(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),f=z,q):mt(z)?(e.consume(z),B):te(z)}function q(z){return z===f?(e.consume(z),f=null,K):z===null||$e(z)?n(z):(e.consume(z),q)}function te(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Jn(z)?V(z):(e.consume(z),te)}function K(z){return z===47||z===62||mt(z)?M(z):n(z)}function ae(z){return z===62?(e.consume(z),$):n(z)}function $(z){return z===null||$e(z)?Q(z):mt(z)?(e.consume(z),$):n(z)}function Q(z){return z===45&&a===2?(e.consume(z),F):z===60&&a===1?(e.consume(z),ee):z===62&&a===4?(e.consume(z),H):z===63&&a===3?(e.consume(z),R):z===93&&a===5?(e.consume(z),we):$e(z)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(O5,X,se)(z)):z===null||$e(z)?(e.exit("htmlFlowData"),se(z)):(e.consume(z),Q)}function se(z){return e.check(P5,re,X)(z)}function re(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),ce}function ce(z){return z===null||$e(z)?se(z):(e.enter("htmlFlowData"),Q(z))}function F(z){return z===45?(e.consume(z),R):Q(z)}function ee(z){return z===47?(e.consume(z),u="",Y):Q(z)}function Y(z){if(z===62){const W=u.toLowerCase();return T1.includes(W)?(e.consume(z),H):Q(z)}return vr(z)&&u.length<8?(e.consume(z),u+=String.fromCharCode(z),Y):Q(z)}function we(z){return z===93?(e.consume(z),R):Q(z)}function R(z){return z===62?(e.consume(z),H):z===45&&a===2?(e.consume(z),R):Q(z)}function H(z){return z===null||$e(z)?(e.exit("htmlFlowData"),X(z)):(e.consume(z),H)}function X(z){return e.exit("htmlFlow"),t(z)}}function z5(e,t,n){const i=this;return a;function a(u){return $e(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}function B5(e,t,n){return i;function i(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(vf,t,n)}}const I5={name:"htmlText",tokenize:U5};function U5(e,t,n){const i=this;let a,o,u;return h;function h(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),f}function f(R){return R===33?(e.consume(R),g):R===47?(e.consume(R),V):R===63?(e.consume(R),M):vr(R)?(e.consume(R),te):n(R)}function g(R){return R===45?(e.consume(R),y):R===91?(e.consume(R),o=0,j):vr(R)?(e.consume(R),P):n(R)}function y(R){return R===45?(e.consume(R),x):n(R)}function v(R){return R===null?n(R):R===45?(e.consume(R),w):$e(R)?(u=v,ee(R)):(e.consume(R),v)}function w(R){return R===45?(e.consume(R),x):v(R)}function x(R){return R===62?F(R):R===45?w(R):v(R)}function j(R){const H="CDATA[";return R===H.charCodeAt(o++)?(e.consume(R),o===H.length?E:j):n(R)}function E(R){return R===null?n(R):R===93?(e.consume(R),O):$e(R)?(u=E,ee(R)):(e.consume(R),E)}function O(R){return R===93?(e.consume(R),A):E(R)}function A(R){return R===62?F(R):R===93?(e.consume(R),A):E(R)}function P(R){return R===null||R===62?F(R):$e(R)?(u=P,ee(R)):(e.consume(R),P)}function M(R){return R===null?n(R):R===63?(e.consume(R),U):$e(R)?(u=M,ee(R)):(e.consume(R),M)}function U(R){return R===62?F(R):M(R)}function V(R){return vr(R)?(e.consume(R),B):n(R)}function B(R){return R===45||pi(R)?(e.consume(R),B):q(R)}function q(R){return $e(R)?(u=q,ee(R)):mt(R)?(e.consume(R),q):F(R)}function te(R){return R===45||pi(R)?(e.consume(R),te):R===47||R===62||Jn(R)?K(R):n(R)}function K(R){return R===47?(e.consume(R),F):R===58||R===95||vr(R)?(e.consume(R),ae):$e(R)?(u=K,ee(R)):mt(R)?(e.consume(R),K):F(R)}function ae(R){return R===45||R===46||R===58||R===95||pi(R)?(e.consume(R),ae):$(R)}function $(R){return R===61?(e.consume(R),Q):$e(R)?(u=$,ee(R)):mt(R)?(e.consume(R),$):K(R)}function Q(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),a=R,se):$e(R)?(u=Q,ee(R)):mt(R)?(e.consume(R),Q):(e.consume(R),re)}function se(R){return R===a?(e.consume(R),a=void 0,ce):R===null?n(R):$e(R)?(u=se,ee(R)):(e.consume(R),se)}function re(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Jn(R)?K(R):(e.consume(R),re)}function ce(R){return R===47||R===62||Jn(R)?K(R):n(R)}function F(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function ee(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),Y}function Y(R){return mt(R)?kt(e,we,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):we(R)}function we(R){return e.enter("htmlTextData"),u(R)}}const ev={name:"labelEnd",resolveAll:q5,resolveTo:$5,tokenize:Z5},V5={tokenize:G5},H5={tokenize:K5},F5={tokenize:W5};function q5(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",t+=a}}return e.length!==n.length&&wr(e,0,e.length,n),e}function $5(e,t){let n=e.length,i=0,a,o,u,h;for(;n--;)if(a=e[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(u=n);const f={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},y={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[u-2][1].start}};return h=[["enter",f,t],["enter",g,t]],h=Ai(h,e.slice(o+1,o+i+3)),h=Ai(h,[["enter",y,t]]),h=Ai(h,Qy(t.parser.constructs.insideSpan.null,e.slice(o+i+4,u-3),t)),h=Ai(h,[["exit",y,t],e[u-2],e[u-1],["exit",g,t]]),h=Ai(h,e.slice(u+1)),h=Ai(h,[["exit",f,t]]),wr(e,o,e.length,h),e}function Z5(e,t,n){const i=this;let a=i.events.length,o,u;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){o=i.events[a][1];break}return h;function h(w){return o?o._inactive?v(w):(u=i.parser.defined.includes(pl(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(w),e.exit("labelMarker"),e.exit("labelEnd"),f):n(w)}function f(w){return w===40?e.attempt(V5,y,u?y:v)(w):w===91?e.attempt(H5,y,u?g:v)(w):u?y(w):v(w)}function g(w){return e.attempt(F5,y,v)(w)}function y(w){return t(w)}function v(w){return o._balanced=!0,n(w)}}function G5(e,t,n){return i;function i(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),a}function a(v){return Jn(v)?sc(e,o)(v):o(v)}function o(v){return v===41?y(v):xC(e,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return Jn(v)?sc(e,f)(v):y(v)}function h(v){return n(v)}function f(v){return v===34||v===39||v===40?SC(e,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function g(v){return Jn(v)?sc(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function K5(e,t,n){const i=this;return a;function a(h){return wC.call(i,e,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(pl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(h):n(h)}function u(h){return n(h)}}function W5(e,t,n){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),a}function a(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const Y5={name:"labelStartImage",resolveAll:ev.resolveAll,tokenize:X5};function X5(e,t,n){const i=this;return a;function a(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),o}function o(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):t(h)}}const J5={name:"labelStartLink",resolveAll:ev.resolveAll,tokenize:Q5};function Q5(e,t,n){const i=this;return a;function a(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const ng={name:"lineEnding",tokenize:eR};function eR(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),kt(e,t,"linePrefix")}}const zd={name:"thematicBreak",tokenize:tR};function tR(e,t,n){let i=0,a;return o;function o(g){return e.enter("thematicBreak"),u(g)}function u(g){return a=g,h(g)}function h(g){return g===a?(e.enter("thematicBreakSequence"),f(g)):i>=3&&(g===null||$e(g))?(e.exit("thematicBreak"),t(g)):n(g)}function f(g){return g===a?(e.consume(g),i++,f):(e.exit("thematicBreakSequence"),mt(g)?kt(e,h,"whitespace")(g):h(g))}}const Yn={continuation:{tokenize:sR},exit:oR,name:"list",tokenize:rR},nR={partial:!0,tokenize:lR},iR={partial:!0,tokenize:aR};function rR(e,t,n){const i=this,a=i.events[i.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(x){const j=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:ry(x)){if(i.containerState.type||(i.containerState.type=j,e.enter(j,{_container:!0})),j==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(zd,n,g)(x):g(x);if(!i.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(x)}return n(x)}function f(x){return ry(x)&&++u<10?(e.consume(x),f):(!i.interrupt||u<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),g(x)):n(x)}function g(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,e.check(vf,i.interrupt?n:y,e.attempt(nR,w,v))}function y(x){return i.containerState.initialBlankLine=!0,o++,w(x)}function v(x){return mt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),w):n(x)}function w(x){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function sR(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(vf,a,o);function a(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,kt(e,t,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!mt(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(iR,t,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,kt(e,e.attempt(Yn,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function aR(e,t,n){const i=this;return kt(e,a,"listItemIndent",i.containerState.size+1);function a(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(o):n(o)}}function oR(e){e.exit(this.containerState.type)}function lR(e,t,n){const i=this;return kt(e,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=i.events[i.events.length-1];return!mt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const k1={name:"setextUnderline",resolveTo:uR,tokenize:cR};function uR(e,t){let n=e.length,i,a,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",o?(e.splice(a,0,["enter",u,t]),e.splice(o+1,0,["exit",e[i][1],t]),e[i][1].end={...e[o][1].end}):e[i][1]=u,e.push(["exit",u,t]),e}function cR(e,t,n){const i=this;let a;return o;function o(g){let y=i.events.length,v;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){v=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(e.enter("setextHeadingLine"),a=g,u(g)):n(g)}function u(g){return e.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===a?(e.consume(g),h):(e.exit("setextHeadingLineSequence"),mt(g)?kt(e,f,"lineSuffix")(g):f(g))}function f(g){return g===null||$e(g)?(e.exit("setextHeadingLine"),t(g)):n(g)}}const hR={tokenize:dR};function dR(e){const t=this,n=e.attempt(vf,i,e.attempt(this.parser.constructs.flowInitial,a,kt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(y5,a)),"linePrefix")));return n;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const fR={resolveAll:jC()},mR=CC("string"),pR=CC("text");function CC(e){return{resolveAll:jC(e==="text"?gR:void 0),tokenize:t};function t(n){const i=this,a=this.parser.constructs[e],o=n.attempt(a,u,h);return u;function u(y){return g(y)?o(y):h(y)}function h(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),f}function f(y){return g(y)?(n.exit("data"),o(y)):(n.consume(y),f)}function g(y){if(y===null)return!0;const v=a[y];let w=-1;if(v)for(;++w<v.length;){const x=v[w];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function jC(e){return t;function t(n,i){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(n,i):n}}function gR(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],a=t.sliceStream(i);let o=a.length,u=-1,h=0,f;for(;o--;){const g=a[o];if(typeof g=="string"){for(u=g.length;g.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(g===-2)f=!0,h++;else if(g!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(h=0),h){const g={type:n===e.length||f||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(e.splice(n,0,["enter",g,t],["exit",g,t]),n+=2)}n++}return e}const yR={42:Yn,43:Yn,45:Yn,48:Yn,49:Yn,50:Yn,51:Yn,52:Yn,53:Yn,54:Yn,55:Yn,56:Yn,57:Yn,62:yC},vR={91:w5},bR={[-2]:tg,[-1]:tg,32:tg},_R={35:k5,42:zd,45:[k1,zd],60:M5,61:k1,95:zd,96:E1,126:E1},xR={38:bC,92:vC},wR={[-5]:ng,[-4]:ng,[-3]:ng,33:Y5,38:bC,42:sy,60:[JP,I5],91:J5,92:[E5,vC],93:ev,95:sy,96:h5},SR={null:[sy,fR]},CR={null:[42,95]},jR={null:[]},ER=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:CR,contentInitial:vR,disable:jR,document:yR,flow:_R,flowInitial:bR,insideSpan:SR,string:xR,text:wR},Symbol.toStringTag,{value:"Module"}));function TR(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const f={attempt:q(V),check:q(B),consume:P,enter:M,exit:U,interrupt:q(B,{interrupt:!0})},g={code:null,containerState:{},defineSkip:E,events:[],now:j,parser:e,previous:null,sliceSerialize:w,sliceStream:x,write:v};let y=t.tokenize.call(g,f);return t.resolveAll&&o.push(t),g;function v($){return u=Ai(u,$),O(),u[u.length-1]!==null?[]:(te(t,0),g.events=Qy(o,g.events,g),g.events)}function w($,Q){return LR(x($),Q)}function x($){return kR(u,$)}function j(){const{_bufferIndex:$,_index:Q,line:se,column:re,offset:ce}=i;return{_bufferIndex:$,_index:Q,line:se,column:re,offset:ce}}function E($){a[$.line]=$.column,ae()}function O(){let $;for(;i._index<u.length;){const Q=u[i._index];if(typeof Q=="string")for($=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===$&&i._bufferIndex<Q.length;)A(Q.charCodeAt(i._bufferIndex));else A(Q)}}function A($){y=y($)}function P($){$e($)?(i.line++,i.column=1,i.offset+=$===-3?2:1,ae()):$!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=$}function M($,Q){const se=Q||{};return se.type=$,se.start=j(),g.events.push(["enter",se,g]),h.push(se),se}function U($){const Q=h.pop();return Q.end=j(),g.events.push(["exit",Q,g]),Q}function V($,Q){te($,Q.from)}function B($,Q){Q.restore()}function q($,Q){return se;function se(re,ce,F){let ee,Y,we,R;return Array.isArray(re)?X(re):"tokenize"in re?X([re]):H(re);function H(me){return Ce;function Ce(Re){const be=Re!==null&&me[Re],ke=Re!==null&&me.null,Ve=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return X(Ve)(Re)}}function X(me){return ee=me,Y=0,me.length===0?F:z(me[Y])}function z(me){return Ce;function Ce(Re){return R=K(),we=me,me.partial||(g.currentConstruct=me),me.name&&g.parser.constructs.disable.null.includes(me.name)?oe():me.tokenize.call(Q?Object.assign(Object.create(g),Q):g,f,W,oe)(Re)}}function W(me){return $(we,R),ce}function oe(me){return R.restore(),++Y<ee.length?z(ee[Y]):F}}}function te($,Q){$.resolveAll&&!o.includes($)&&o.push($),$.resolve&&wr(g.events,Q,g.events.length-Q,$.resolve(g.events.slice(Q),g)),$.resolveTo&&(g.events=$.resolveTo(g.events,g))}function K(){const $=j(),Q=g.previous,se=g.currentConstruct,re=g.events.length,ce=Array.from(h);return{from:re,restore:F};function F(){i=$,g.previous=Q,g.currentConstruct=se,g.events.length=re,h=ce,ae()}}function ae(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function kR(e,t){const n=t.start._index,i=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let u;if(n===a)u=[e[n].slice(i,o)];else{if(u=e.slice(n,a),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(e[a].slice(0,o))}return u}function LR(e,t){let n=-1;const i=[];let a;for(;++n<e.length;){const o=e[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,i.push(u)}return i.join("")}function AR(e){const i={constructs:zP([ER,...(e||{}).extensions||[]]),content:a($P),defined:[],document:a(GP),flow:a(hR),lazy:{},string:a(mR),text:a(pR)};return i;function a(o){return u;function u(h){return TR(i,o,h)}}}function NR(e){for(;!_C(e););return e}const L1=/[\0\t\n\r]/g;function MR(){let e=1,t="",n=!0,i;return a;function a(o,u,h){const f=[];let g,y,v,w,x;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),v=0,t="",n&&(o.charCodeAt(0)===65279&&v++,n=void 0);v<o.length;){if(L1.lastIndex=v,g=L1.exec(o),w=g&&g.index!==void 0?g.index:o.length,x=o.charCodeAt(w),!g){t=o.slice(v);break}if(x===10&&v===w&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),v<w&&(f.push(o.slice(v,w)),e+=w-v),x){case 0:{f.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,f.push(-2);e++<y;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}v=w+1}return h&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const OR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function PR(e){return e.replace(OR,RR)}function RR(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return gC(n.slice(o?2:1),o?16:10)}return Jy(n)||e}const EC={}.hasOwnProperty;function DR(e,t,n){return typeof t!="string"&&(n=t,t=void 0),zR(n)(NR(AR(n).document().write(MR()(e,t,!0))))}function zR(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(rs),autolinkProtocol:K,autolinkEmail:K,atxHeading:o(Dt),blockQuote:o(ke),characterEscape:K,characterReference:K,codeFenced:o(Ve),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Ve,u),codeText:o(De,u),codeTextData:K,data:K,codeFlowValue:K,definition:o(He),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(gt),hardBreakEscape:o(ei),hardBreakTrailing:o(ei),htmlFlow:o(Pi,u),htmlFlowData:K,htmlText:o(Pi,u),htmlTextData:K,image:o(Ri),label:u,link:o(rs),listItem:o(Er),listItemValue:w,listOrdered:o(jr,v),listUnordered:o(jr),paragraph:o(ao),reference:z,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Dt),strong:o(oo),thematicBreak:o(Dl)},exit:{atxHeading:f(),atxHeadingSequence:V,autolink:f(),autolinkEmail:be,autolinkProtocol:Re,blockQuote:f(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:me,characterReference:Ce,codeFenced:f(O),codeFencedFence:E,codeFencedFenceInfo:x,codeFencedFenceMeta:j,codeFlowValue:ae,codeIndented:f(A),codeText:f(ce),codeTextData:ae,data:ae,definition:f(),definitionDestinationString:U,definitionLabelString:P,definitionTitleString:M,emphasis:f(),hardBreakEscape:f(Q),hardBreakTrailing:f(Q),htmlFlow:f(se),htmlFlowData:ae,htmlText:f(re),htmlTextData:ae,image:f(ee),label:we,labelText:Y,lineEnding:$,link:f(F),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:W,resourceDestinationString:R,resourceTitleString:H,resource:X,setextHeading:f(te),setextHeadingLineSequence:q,setextHeadingText:B,strong:f(),thematicBreak:f()}};TC(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(ge){let Ee={type:"root",children:[]};const Ie={stack:[Ee],tokenStack:[],config:t,enter:h,exit:g,buffer:u,resume:y,data:n},et=[];let lt=-1;for(;++lt<ge.length;)if(ge[lt][1].type==="listOrdered"||ge[lt][1].type==="listUnordered")if(ge[lt][0]==="enter")et.push(lt);else{const Sn=et.pop();lt=a(ge,Sn,lt)}for(lt=-1;++lt<ge.length;){const Sn=t[ge[lt][0]];EC.call(Sn,ge[lt][1].type)&&Sn[ge[lt][1].type].call(Object.assign({sliceSerialize:ge[lt][2].sliceSerialize},Ie),ge[lt][1])}if(Ie.tokenStack.length>0){const Sn=Ie.tokenStack[Ie.tokenStack.length-1];(Sn[1]||A1).call(Ie,void 0,Sn[0])}for(Ee.position={start:Fs(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Fs(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)Ee=t.transforms[lt](Ee)||Ee;return Ee}function a(ge,Ee,Ie){let et=Ee-1,lt=-1,Sn=!1,Di,hn,zt,yn;for(;++et<=Ie;){const yt=ge[et];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?lt++:lt--,yn=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(Di&&!yn&&!lt&&!zt&&(zt=et),yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yn=void 0}if(!lt&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||lt===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(Di){let zn=et;for(hn=void 0;zn--;){const ti=ge[zn];if(ti[1].type==="lineEnding"||ti[1].type==="lineEndingBlank"){if(ti[0]==="exit")continue;hn&&(ge[hn][1].type="lineEndingBlank",Sn=!0),ti[1].type="lineEnding",hn=zn}else if(!(ti[1].type==="linePrefix"||ti[1].type==="blockQuotePrefix"||ti[1].type==="blockQuotePrefixWhitespace"||ti[1].type==="blockQuoteMarker"||ti[1].type==="listItemIndent"))break}zt&&(!hn||zt<hn)&&(Di._spread=!0),Di.end=Object.assign({},hn?ge[hn][1].start:yt[1].end),ge.splice(hn||et,0,["exit",Di,yt[2]]),et++,Ie++}if(yt[1].type==="listItemPrefix"){const zn={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};Di=zn,ge.splice(et,0,["enter",zn,yt[2]]),et++,Ie++,zt=void 0,yn=!0}}}return ge[Ee][1]._spread=Sn,Ie}function o(ge,Ee){return Ie;function Ie(et){h.call(this,ge(et),et),Ee&&Ee.call(this,et)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ge,Ee,Ie){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ee,Ie||void 0]),ge.position={start:Fs(Ee.start),end:void 0}}function f(ge){return Ee;function Ee(Ie){ge&&ge.call(this,Ie),g.call(this,Ie)}}function g(ge,Ee){const Ie=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==ge.type&&(Ee?Ee.call(this,ge,et[0]):(et[1]||A1).call(this,ge,et[0]));else throw new Error("Cannot close `"+ge.type+"` ("+rc({start:ge.start,end:ge.end})+"): its not open");Ie.position.end=Fs(ge.end)}function y(){return RP(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function w(ge){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=ge}function j(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=ge}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge.replace(/(\r?\n|\r)$/g,"")}function P(ge){const Ee=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Ee,Ie.identifier=pl(this.sliceSerialize(ge)).toLowerCase()}function M(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ge}function U(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ge}function V(ge){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Ie=this.sliceSerialize(ge).length;Ee.depth=Ie}}function B(){this.data.setextHeadingSlurpLineEnding=!0}function q(ge){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function K(ge){const Ie=this.stack[this.stack.length-1].children;let et=Ie[Ie.length-1];(!et||et.type!=="text")&&(et=gn(),et.position={start:Fs(ge.start),end:void 0},Ie.push(et)),this.stack.push(et)}function ae(ge){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(ge),Ee.position.end=Fs(ge.end)}function $(ge){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=Ee.children[Ee.children.length-1];Ie.position.end=Fs(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ee.type)&&(K.call(this,ge),ae.call(this,ge))}function Q(){this.data.atHardBreak=!0}function se(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge}function re(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge}function ce(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge}function F(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ee,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function ee(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ee,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Y(ge){const Ee=this.sliceSerialize(ge),Ie=this.stack[this.stack.length-2];Ie.label=PR(Ee),Ie.identifier=pl(Ee).toLowerCase()}function we(){const ge=this.stack[this.stack.length-1],Ee=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const et=ge.children;Ie.children=et}else Ie.alt=Ee}function R(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ge}function H(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ge}function X(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function W(ge){const Ee=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Ee,Ie.identifier=pl(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function oe(ge){this.data.characterReferenceType=ge.type}function me(ge){const Ee=this.sliceSerialize(ge),Ie=this.data.characterReferenceType;let et;Ie?(et=gC(Ee,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=Jy(Ee);const lt=this.stack[this.stack.length-1];lt.value+=et}function Ce(ge){const Ee=this.stack.pop();Ee.position.end=Fs(ge.end)}function Re(ge){ae.call(this,ge);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(ge)}function be(ge){ae.call(this,ge);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(ge)}function ke(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function Dt(){return{type:"heading",depth:0,children:[]}}function ei(){return{type:"break"}}function Pi(){return{type:"html",value:""}}function Ri(){return{type:"image",title:null,url:"",alt:null}}function rs(){return{type:"link",title:null,url:"",children:[]}}function jr(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Er(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ao(){return{type:"paragraph",children:[]}}function oo(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function Dl(){return{type:"thematicBreak"}}}function Fs(e){return{line:e.line,column:e.column,offset:e.offset}}function TC(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?TC(e,i):BR(e,i)}}function BR(e,t){let n;for(n in t)if(EC.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function A1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+rc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+rc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+rc({start:t.start,end:t.end})+") is still open")}function IR(e){const t=this;t.parser=n;function n(i){return DR(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UR(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function VR(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function HR(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function FR(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qR(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $R(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=Al(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let u,h=e.footnoteCounts.get(i);h===void 0?(h=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=o+1,h+=1,e.footnoteCounts.set(i,h);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,f);const g={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,g),e.applyData(t,g)}function ZR(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GR(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function kC(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const a=e.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=i:a.push({type:"text",value:i}),a}function KR(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return kC(e,t);const a={src:Al(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,o),e.applyData(t,o)}function WR(e,t){const n={src:Al(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function YR(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function XR(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return kC(e,t);const a={href:Al(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const o={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function JR(e,t){const n={href:Al(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function QR(e,t,n){const i=e.all(t),a=n?eD(n):LC(t),o={},u=[];if(typeof t.checked=="boolean"){const y=i[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const y=i[h];(a||h!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?u.push(...y.children):u.push(y)}const f=i[i.length-1];f&&(a||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:u};return e.patch(t,g),e.applyData(t,g)}function eD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=LC(n[i])}return t}function LC(e){const t=e.spread;return t??e.children.length>1}function tD(e,t){const n={},i=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<i.length;){const u=i[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function nD(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iD(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function rD(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sD(e,t){const n=e.all(t),i=n.shift(),a=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},h=Ky(t.children[1]),f=uC(t.children[t.children.length-1]);h&&f&&(u.position={start:h,end:f}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function aD(e,t,n){const i=n?n.children:void 0,o=(i?i.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:t.children.length;let f=-1;const g=[];for(;++f<h;){const v=t.children[f],w={},x=u?u[f]:void 0;x&&(w.align=x);let j={type:"element",tagName:o,properties:w,children:[]};v&&(j.children=e.all(v),e.patch(v,j),j=e.applyData(v,j)),g.push(j)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,y),e.applyData(t,y)}function oD(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const N1=9,M1=32;function lD(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),a=0;const o=[];for(;i;)o.push(O1(t.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(t);return o.push(O1(t.slice(a),a>0,!1)),o.join("")}function O1(e,t,n){let i=0,a=e.length;if(t){let o=e.codePointAt(i);for(;o===N1||o===M1;)i++,o=e.codePointAt(i)}if(n){let o=e.codePointAt(a-1);for(;o===N1||o===M1;)a--,o=e.codePointAt(a-1)}return a>i?e.slice(i,a):""}function uD(e,t){const n={type:"text",value:lD(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function cD(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const hD={blockquote:UR,break:VR,code:HR,delete:FR,emphasis:qR,footnoteReference:$R,heading:ZR,html:GR,imageReference:KR,image:WR,inlineCode:YR,linkReference:XR,link:JR,listItem:QR,list:tD,paragraph:nD,root:iD,strong:rD,table:sD,tableCell:oD,tableRow:aD,text:uD,thematicBreak:cD,toml:Td,yaml:Td,definition:Td,footnoteDefinition:Td};function Td(){}const AC=-1,bf=0,ac=1,Jd=2,tv=3,nv=4,iv=5,rv=6,NC=7,MC=8,P1=typeof self=="object"?self:globalThis,dD=(e,t)=>{const n=(a,o)=>(e.set(o,a),a),i=a=>{if(e.has(a))return e.get(a);const[o,u]=t[a];switch(o){case bf:case AC:return n(u,a);case ac:{const h=n([],a);for(const f of u)h.push(i(f));return h}case Jd:{const h=n({},a);for(const[f,g]of u)h[i(f)]=i(g);return h}case tv:return n(new Date(u),a);case nv:{const{source:h,flags:f}=u;return n(new RegExp(h,f),a)}case iv:{const h=n(new Map,a);for(const[f,g]of u)h.set(i(f),i(g));return h}case rv:{const h=n(new Set,a);for(const f of u)h.add(i(f));return h}case NC:{const{name:h,message:f}=u;return n(new P1[h](f),a)}case MC:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new P1[o](u),a)};return i},R1=e=>dD(new Map,e)(0),il="",{toString:fD}={},{keys:mD}=Object,Zu=e=>{const t=typeof e;if(t!=="object"||!e)return[bf,t];const n=fD.call(e).slice(8,-1);switch(n){case"Array":return[ac,il];case"Object":return[Jd,il];case"Date":return[tv,il];case"RegExp":return[nv,il];case"Map":return[iv,il];case"Set":return[rv,il];case"DataView":return[ac,n]}return n.includes("Array")?[ac,n]:n.includes("Error")?[NC,n]:[Jd,n]},kd=([e,t])=>e===bf&&(t==="function"||t==="symbol"),pD=(e,t,n,i)=>{const a=(u,h)=>{const f=i.push(u)-1;return n.set(h,f),f},o=u=>{if(n.has(u))return n.get(u);let[h,f]=Zu(u);switch(h){case bf:{let y=u;switch(f){case"bigint":h=MC,y=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return a([AC],u)}return a([h,y],u)}case ac:{if(f){let w=u;return f==="DataView"?w=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(w=new Uint8Array(u)),a([f,[...w]],u)}const y=[],v=a([h,y],u);for(const w of u)y.push(o(w));return v}case Jd:{if(f)switch(f){case"BigInt":return a([f,u.toString()],u);case"Boolean":case"Number":case"String":return a([f,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const y=[],v=a([h,y],u);for(const w of mD(u))(e||!kd(Zu(u[w])))&&y.push([o(w),o(u[w])]);return v}case tv:return a([h,u.toISOString()],u);case nv:{const{source:y,flags:v}=u;return a([h,{source:y,flags:v}],u)}case iv:{const y=[],v=a([h,y],u);for(const[w,x]of u)(e||!(kd(Zu(w))||kd(Zu(x))))&&y.push([o(w),o(x)]);return v}case rv:{const y=[],v=a([h,y],u);for(const w of u)(e||!kd(Zu(w)))&&y.push(o(w));return v}}const{message:g}=u;return a([h,{name:f,message:g}],u)};return o},D1=(e,{json:t,lossy:n}={})=>{const i=[];return pD(!(t||n),!!t,new Map,i)(e),i},Qd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?R1(D1(e,t)):structuredClone(e):(e,t)=>R1(D1(e,t));function gD(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yD(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function vD(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||gD,i=e.options.footnoteBackLabel||yD,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let f=-1;for(;++f<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[f]);if(!g)continue;const y=e.all(g),v=String(g.identifier).toUpperCase(),w=Al(v.toLowerCase());let x=0;const j=[],E=e.footnoteCounts.get(v);for(;E!==void 0&&++x<=E;){j.length>0&&j.push({type:"text",value:" "});let P=typeof n=="string"?n:n(f,x);typeof P=="string"&&(P={type:"text",value:P}),j.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+w+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,x),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const O=y[y.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const P=O.children[O.children.length-1];P&&P.type==="text"?P.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...j)}else y.push(...j);const A={type:"element",tagName:"li",properties:{id:t+"fn-"+w},children:e.wrap(y,!0)};e.patch(g,A),h.push(A)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Qd(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const OC=(function(e){if(e==null)return wD;if(typeof e=="function")return _f(e);if(typeof e=="object")return Array.isArray(e)?bD(e):_D(e);if(typeof e=="string")return xD(e);throw new Error("Expected function, string, or object as test")});function bD(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=OC(e[n]);return _f(i);function i(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function _D(e){const t=e;return _f(n);function n(i){const a=i;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function xD(e){return _f(t);function t(n){return n&&n.type===e}}function _f(e){return t;function t(n,i,a){return!!(SD(n)&&e.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function wD(){return!0}function SD(e){return e!==null&&typeof e=="object"&&"type"in e}const PC=[],CD=!0,z1=!1,jD="skip";function ED(e,t,n,i){let a;typeof t=="function"&&typeof n!="function"?(i=n,n=t):a=t;const o=OC(a),u=i?-1:1;h(e,void 0,[])();function h(f,g,y){const v=f&&typeof f=="object"?f:{};if(typeof v.type=="string"){const x=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(f.type+(x?"<"+x+">":""))+")"})}return w;function w(){let x=PC,j,E,O;if((!t||o(f,g,y[y.length-1]||void 0))&&(x=TD(n(f,y)),x[0]===z1))return x;if("children"in f&&f.children){const A=f;if(A.children&&x[0]!==jD)for(E=(i?A.children.length:-1)+u,O=y.concat(A);E>-1&&E<A.children.length;){const P=A.children[E];if(j=h(P,E,O)(),j[0]===z1)return j;E=typeof j[1]=="number"?j[1]:E+u}}return x}}}function TD(e){return Array.isArray(e)?e:typeof e=="number"?[CD,e]:e==null?PC:[e]}function RC(e,t,n,i){let a,o,u;typeof t=="function"&&typeof n!="function"?(o=void 0,u=t,a=n):(o=t,u=n,a=i),ED(e,o,h,a);function h(f,g){const y=g[g.length-1],v=y?y.children.indexOf(f):void 0;return u(f,v,y)}}const ay={}.hasOwnProperty,kD={};function LD(e,t){const n=t||kD,i=new Map,a=new Map,o=new Map,u={...hD,...n.handlers},h={all:g,applyData:ND,definitionById:i,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:AD,wrap:OD};return RC(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?i:a,w=String(y.identifier).toUpperCase();v.has(w)||v.set(w,y)}}),h;function f(y,v){const w=y.type,x=h.handlers[w];if(ay.call(h.handlers,w)&&x)return x(h,y,v);if(h.options.passThrough&&h.options.passThrough.includes(w)){if("children"in y){const{children:E,...O}=y,A=Qd(O);return A.children=h.all(y),A}return Qd(y)}return(h.options.unknownHandler||MD)(h,y,v)}function g(y){const v=[];if("children"in y){const w=y.children;let x=-1;for(;++x<w.length;){const j=h.one(w[x],y);if(j){if(x&&w[x-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=B1(j.value)),!Array.isArray(j)&&j.type==="element")){const E=j.children[0];E&&E.type==="text"&&(E.value=B1(E.value))}Array.isArray(j)?v.push(...j):v.push(j)}}}return v}}function AD(e,t){e.position&&(t.position=fP(e))}function ND(e,t){let n=t;if(e&&e.data){const i=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Qd(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function MD(e,t){const n=t.data||{},i="value"in t&&!(ay.call(n,"hProperties")||ay.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function OD(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function B1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function I1(e,t){const n=LD(e,t),i=n.one(e,void 0),a=vD(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function PD(e,t){return e&&"run"in e?async function(n,i){const a=I1(n,{file:i,...t});await e.run(a,i)}:function(n,i){return I1(n,{file:i,...e||t})}}function U1(e){if(e)throw e}var ig,V1;function RD(){if(V1)return ig;V1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},o=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var y=e.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!y&&!v)return!1;var w;for(w in g);return typeof w>"u"||e.call(g,w)},u=function(g,y){n&&y.name==="__proto__"?n(g,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):g[y.name]=y.newValue},h=function(g,y){if(y==="__proto__")if(e.call(g,y)){if(i)return i(g,y).value}else return;return g[y]};return ig=function f(){var g,y,v,w,x,j,E=arguments[0],O=1,A=arguments.length,P=!1;for(typeof E=="boolean"&&(P=E,E=arguments[1]||{},O=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});O<A;++O)if(g=arguments[O],g!=null)for(y in g)v=h(E,y),w=h(g,y),E!==w&&(P&&w&&(o(w)||(x=a(w)))?(x?(x=!1,j=v&&a(v)?v:[]):j=v&&o(v)?v:{},u(E,{name:y,newValue:f(P,j,w)})):typeof w<"u"&&u(E,{name:y,newValue:w}));return E},ig}var DD=RD();const rg=eo(DD);function oy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zD(){const e=[],t={run:n,use:i};return t;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(f,...g){const y=e[++o];let v=-1;if(f){u(f);return}for(;++v<a.length;)(g[v]===null||g[v]===void 0)&&(g[v]=a[v]);a=g,y?BD(y,h)(...g):u(null,...g)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function BD(e,t){let n;return i;function i(...u){const h=e.length>u.length;let f;h&&u.push(a);try{f=e.apply(this,u)}catch(g){const y=g;if(h&&n)throw y;return a(y)}h||(f&&f.then&&typeof f.then=="function"?f.then(o,a):f instanceof Error?a(f):o(f))}function a(u,...h){n||(n=!0,t(u,...h))}function o(u){a(null,u)}}const yr={basename:ID,dirname:UD,extname:VD,join:HD,sep:"/"};function ID(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Bc(e);let n=0,i=-1,a=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else i<0&&(o=!0,i=a+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let u=-1,h=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(e.codePointAt(a)===t.codePointAt(h--)?h<0&&(i=a):(h=-1,i=u));return n===i?i=u:i<0&&(i=e.length),e.slice(n,i)}function UD(e){if(Bc(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function VD(e){Bc(e);let t=e.length,n=-1,i=0,a=-1,o=0,u;for(;t--;){const h=e.codePointAt(t);if(h===47){if(u){i=t+1;break}continue}n<0&&(u=!0,n=t+1),h===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===i+1?"":e.slice(a,n)}function HD(...e){let t=-1,n;for(;++t<e.length;)Bc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":FD(n)}function FD(e){Bc(e);const t=e.codePointAt(0)===47;let n=qD(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qD(e,t){let n="",i=0,a=-1,o=0,u=-1,h,f;for(;++u<=e.length;){if(u<e.length)h=e.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",i=0,a=u,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(a+1,u):n=e.slice(a+1,u),i=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function Bc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $D={cwd:ZD};function ZD(){return"/"}function ly(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function GD(e){if(typeof e=="string")e=new URL(e);else if(!ly(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return KD(e)}function KD(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const sg=["history","path","basename","stem","extname","dirname"];class DC{constructor(t){let n;t?ly(t)?n={path:t}:typeof t=="string"||WD(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":$D.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<sg.length;){const o=sg[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)sg.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?yr.basename(this.path):void 0}set basename(t){og(t,"basename"),ag(t,"basename"),this.path=yr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?yr.dirname(this.path):void 0}set dirname(t){H1(this.basename,"dirname"),this.path=yr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?yr.extname(this.path):void 0}set extname(t){if(ag(t,"extname"),H1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ly(t)&&(t=GD(t)),og(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?yr.basename(this.path,this.extname):void 0}set stem(t){og(t,"stem"),ag(t,"stem"),this.path=yr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const a=this.message(t,n,i);throw a.fatal=!0,a}info(t,n,i){const a=this.message(t,n,i);return a.fatal=void 0,a}message(t,n,i){const a=new An(t,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ag(e,t){if(e&&e.includes(yr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yr.sep+"`")}function og(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function H1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function WD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YD=(function(e){const i=this.constructor.prototype,a=i[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),XD={}.hasOwnProperty;class sv extends YD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zD()}copy(){const t=new sv;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(rg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(cg("data",this.frozen),this.namespace[t]=n,this):XD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(cg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(t,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ld(t),i=this.parser||this.Parser;return lg("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),lg("process",this.parser||this.Parser),ug("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Ld(t),f=i.parse(h);i.run(f,h,function(y,v,w){if(y||!v||!w)return g(y);const x=v,j=i.stringify(x,w);e3(j)?w.value=j:w.result=j,g(y,w)});function g(y,v){y||!v?u(y):o?o(v):n(void 0,v)}}}processSync(t){let n=!1,i;return this.freeze(),lg("processSync",this.parser||this.Parser),ug("processSync",this.compiler||this.Compiler),this.process(t,a),q1("processSync","process",n),i;function a(o,u){n=!0,U1(o),i=u}}run(t,n,i){F1(t),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const f=Ld(n);a.run(t,f,g);function g(y,v,w){const x=v||t;y?h(y):u?u(x):i(void 0,x,w)}}}runSync(t,n){let i=!1,a;return this.run(t,n,o),q1("runSync","run",i),a;function o(u,h){U1(u),a=h,i=!0}}stringify(t,n){this.freeze();const i=Ld(n),a=this.compiler||this.Compiler;return ug("stringify",a),F1(t),a(t,i)}use(t,...n){const i=this.attachers,a=this.namespace;if(cg("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?h(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(g){if(typeof g=="function")f(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[y,...v]=g;f(y,v)}else u(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function u(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(a.settings=rg(!0,a.settings,g.settings))}function h(g){let y=-1;if(g!=null)if(Array.isArray(g))for(;++y<g.length;){const v=g[y];o(v)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function f(g,y){let v=-1,w=-1;for(;++v<i.length;)if(i[v][0]===g){w=v;break}if(w===-1)i.push([g,...y]);else if(y.length>0){let[x,...j]=y;const E=i[w][1];oy(E)&&oy(x)&&(x=rg(!0,E,x)),i[w]=[g,x,...j]}}}}const JD=new sv().freeze();function lg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ug(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function cg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function F1(e){if(!oy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function q1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ld(e){return QD(e)?e:new DC(e)}function QD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function e3(e){return typeof e=="string"||t3(e)}function t3(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const n3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$1=[],Z1={allowDangerousHtml:!0},i3=/^(https?|ircs?|mailto|xmpp)$/i,r3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function s3(e){const t=a3(e),n=o3(e);return l3(t.runSync(t.parse(n),n),e)}function a3(e){const t=e.rehypePlugins||$1,n=e.remarkPlugins||$1,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Z1}:Z1;return JD().use(IR).use(n).use(PD,i).use(t)}function o3(e){const t=e.children||"",n=new DC;return typeof t=="string"&&(n.value=t),n}function l3(e,t){const n=t.allowedElements,i=t.allowElement,a=t.components,o=t.disallowedElements,u=t.skipHtml,h=t.unwrapDisallowed,f=t.urlTransform||u3;for(const y of r3)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+n3+y.id,void 0);return RC(e,g),vP(e,{Fragment:d.Fragment,components:a,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function g(y,v,w){if(y.type==="raw"&&w&&typeof v=="number")return u?w.children.splice(v,1):w.children[v]={type:"text",value:y.value},v;if(y.type==="element"){let x;for(x in eg)if(Object.hasOwn(eg,x)&&Object.hasOwn(y.properties,x)){const j=y.properties[x],E=eg[x];(E===null||E.includes(y.tagName))&&(y.properties[x]=f(String(j||""),x,y))}}if(y.type==="element"){let x=n?!n.includes(y.tagName):o?o.includes(y.tagName):!1;if(!x&&i&&typeof v=="number"&&(x=!i(y,v,w)),x&&w&&typeof v=="number")return h&&y.children?w.children.splice(v,1,...y.children):w.children.splice(v,1),v}}}function u3(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||i!==-1&&t>i||i3.test(e.slice(0,t))?e:""}const G1={dashboard:{title:{en:"Dashboard Overview",nl:"Dashboard Overzicht"},content:{en:`
The dashboard provides a quick overview of your event data:

**Key Metrics:**
- **Total Markers**: All map locations (booths, parking, facilities)
- **Companies**: Registered exhibitor companies
- **Subscriptions**: Companies registered for the selected year
- **Assignments**: Companies assigned to map locations

**Event Stats:**
- View meal counts (breakfast, lunch, BBQ) for Saturday and Sunday
- Track total coins distributed
- All stats update in real-time as you make changes

**Year Selector:**
Use the year dropdown in the top navigation to switch between event years.
      `.trim(),nl:`
Het dashboard biedt een snel overzicht van je event data:

**Belangrijkste Cijfers:**
- **Totaal Markers**: Alle kaartlocaties (stands, parkeren, faciliteiten)
- **Bedrijven**: Geregistreerde exposanten
- **Inschrijvingen**: Bedrijven ingeschreven voor het geselecteerde jaar
- **Toewijzingen**: Bedrijven toegewezen aan kaartlocaties

**Event Statistieken:**
- Bekijk maaltijdaantallen (ontbijt, lunch, BBQ) voor zaterdag en zondag
- Volg totaal uitgedeelde munten
- Alle statistieken updaten real-time bij wijzigingen

**Jaarselector:**
Gebruik de jaarkeuze in de topnavigatie om tussen evenementjaren te wisselen.
      `.trim()},updated:"2025-11-22",tips:{en:["Use the year selector to view past or future events","Stats update automatically when you make changes","Dashboard is read-only - go to specific tabs to edit data"],nl:["Gebruik de jaarselector om verleden of toekomstige events te bekijken","Statistieken updaten automatisch bij wijzigingen","Dashboard is alleen-lezen - ga naar specifieke tabbladen om data te bewerken"]}},mapManagement:{title:{en:"Map Management",nl:"Kaartbeheer"},content:{en:`
The Map Management page lets you place and configure map markers.

**Placing Markers:**
1. Click "Add Marker" or right-click on the map
2. Drag the marker to the desired position
3. Set marker properties (name, type, icon, visibility)
4. Click "Save" to persist changes

**Marker Properties:**
- **Type**: Booth, Parking, Food, Event, etc.
- **Icon & Color**: Visual appearance on map
- **Min/Max Zoom**: Control when marker appears based on zoom level
- **Rotation**: Adjust booth rectangle angle (booths only)
- **Lock**: Prevent accidental moves during event

**Tips:**
- Lock markers before event day to prevent accidental changes
- Use zoom visibility to keep map clean at different zoom levels
- Rectangles (6m x 6m) show booth outlines - only visible in admin view
      `.trim(),nl:`
De Kaartbeheer pagina laat je kaartmarkers plaatsen en configureren.

**Markers Plaatsen:**
1. Klik "Marker Toevoegen" of rechts-klik op de kaart
2. Sleep de marker naar de gewenste positie
3. Stel marker eigenschappen in (naam, type, icoon, zichtbaarheid)
4. Klik "Opslaan" om wijzigingen vast te leggen

**Marker Eigenschappen:**
- **Type**: Stand, Parkeren, Eten, Event, etc.
- **Icoon & Kleur**: Visuele weergave op kaart
- **Min/Max Zoom**: Bepaal wanneer marker verschijnt op basis van zoomniveau
- **Rotatie**: Pas standhoek aan (alleen stands)
- **Vergrendel**: Voorkom onbedoelde verplaatsingen tijdens event

**Tips:**
- Vergrendel markers voor de eventdag om ongelukken te voorkomen
- Gebruik zoomzichtbaarheid om kaart overzichtelijk te houden
- Rechthoeken (6m x 6m) tonen standcontouren - alleen zichtbaar in admin weergave
      `.trim()},updated:"2025-11-22",tips:{en:["Right-click on map for quick marker creation","Lock markers before going live to prevent accidents","Adjust min/max zoom to control marker visibility","Use rectangles to visualize booth layouts"],nl:["Rechts-klik op kaart voor snelle marker creatie","Vergrendel markers voor go-live om ongelukken te voorkomen","Pas min/max zoom aan om marker zichtbaarheid te regelen","Gebruik rechthoeken om standindelingen te visualiseren"]}},companies:{title:{en:"Companies Management",nl:"Bedrijvenbeheer"},content:{en:`
Manage exhibitor companies and their contact information.

**Adding Companies:**
1. Click "Add Company" button
2. Fill in company details (name, contact, phone, email)
3. Click "Save"

**Company Information:**
- **Company Name**: Primary identifier (must be unique)
- **Contact Person**: Main point of contact
- **Phone**: Contact phone number
- **Email**: Contact email address

**Editing Companies:**
- Click on any row to edit company details
- Changes save automatically
- Company data persists across event years
      `.trim(),nl:`
Beheer exposanten en hun contactinformatie.

**Bedrijven Toevoegen:**
1. Klik "Bedrijf Toevoegen" knop
2. Vul bedrijfsgegevens in (naam, contact, telefoon, email)
3. Klik "Opslaan"

**Bedrijfsinformatie:**
- **Bedrijfsnaam**: Primaire identificatie (moet uniek zijn)
- **Contactpersoon**: Hoofdcontact
- **Telefoon**: Contacttelefoonnummer
- **Email**: Contact emailadres

**Bedrijven Bewerken:**
- Klik op een rij om bedrijfsgegevens te bewerken
- Wijzigingen worden automatisch opgeslagen
- Bedrijfsdata blijft behouden over evenementjaren
      `.trim()},updated:"2025-11-22",tips:{en:["Company names must be unique","Use import for bulk company uploads","Contact info is optional but recommended"],nl:["Bedrijfsnamen moeten uniek zijn","Gebruik import voor bulk bedrijfsuploads","Contactinfo is optioneel maar aangeraden"]}},subscriptions:{title:{en:"Event Subscriptions",nl:"Event Inschrijvingen"},content:{en:`
Track company registrations and meal preferences for each event year.

**Managing Subscriptions:**
- View all companies registered for selected year
- See meal selections (breakfast, lunch, BBQ) separately for Saturday and Sunday
- Track coin distribution
- Edit preferences as needed

**Saturday Options:**
- Breakfast, Lunch, BBQ available

**Sunday Options:**
- Breakfast and Lunch (no BBQ on Sunday)

**Importing Subscriptions:**
Use CSV/Excel import for efficient bulk uploads from registration system.
      `.trim(),nl:`
Volg bedrijfsregistraties en maaltijdvoorkeuren per evenementjaar.

**Inschrijvingen Beheren:**
- Bekijk alle bedrijven ingeschreven voor geselecteerd jaar
- Zie maaltijdkeuzes (ontbijt, lunch, BBQ) apart voor zaterdag en zondag
- Volg muntendistributie
- Bewerk voorkeuren indien nodig

**Zaterdag Opties:**
- Ontbijt, Lunch, BBQ beschikbaar

**Zondag Opties:**
- Ontbijt en Lunch (geen BBQ op zondag)

**Inschrijvingen Importeren:**
Gebruik CSV/Excel import voor efficinte bulk uploads vanuit registratiesysteem.
      `.trim()},updated:"2025-11-22",tips:{en:["Import subscriptions at start of event planning","Saturday and Sunday have different meal options","Changes sync to dashboard statistics automatically"],nl:["Importeer inschrijvingen aan start van eventplanning","Zaterdag en zondag hebben verschillende maaltijdopties","Wijzigingen synchroniseren automatisch naar dashboard statistieken"]}},assignments:{title:{en:"Booth Assignments",nl:"Standtoewijzingen"},content:{en:`
Assign companies to specific map locations (booth markers).

**Creating Assignments:**
1. Select event year
2. Choose company from dropdown
3. Select marker (booth) location
4. Click "Assign"

**Assignment Details:**
- Links company to physical booth location
- Displays in public map view
- Can reassign to different location if needed
- One company per booth per year

**Bulk Assignment:**
Import assignments via CSV for efficient setup.
      `.trim(),nl:`
Wijs bedrijven toe aan specifieke kaartlocaties (standmarkers).

**Toewijzingen Maken:**
1. Selecteer evenementjaar
2. Kies bedrijf uit dropdown
3. Selecteer marker (stand) locatie
4. Klik "Toewijzen"

**Toewijzingsdetails:**
- Koppelt bedrijf aan fysieke standlocatie
- Toont in publieke kaartweergave
- Kan hertoegewezen worden naar andere locatie indien nodig
- En bedrijf per stand per jaar

**Bulk Toewijzing:**
Importeer toewijzingen via CSV voor efficinte setup.
      `.trim()},updated:"2025-11-22",tips:{en:["One booth can only be assigned to one company per year","Assignments are year-specific","Use import for efficient bulk assignment"],nl:["En stand kan maar aan n bedrijf per jaar toegewezen worden","Toewijzingen zijn jaar-specifiek","Gebruik import voor efficinte bulk toewijzing"]}},settings:{title:{en:"System Settings",nl:"Systeeminstellingen"},content:{en:`
Configure system-wide settings and preferences.

**Available Settings:**
- **Organization Profile**: Logo, name, branding
- **Map Defaults**: Default layers, zoom levels
- **User Management**: Admin roles and permissions
- **Marker Defaults**: Default icons, colors, sizes
- **Event Defaults**: Saturday/Sunday meal options
- **Branding**: Colors, logo, organization name
- **Program Management**: Event schedule and activities

**Organization Logo:**
Upload your organization logo to appear:
- On map cluster markers
- In admin dashboard header
- In public map branding

**User Roles:**
- **Super Admin**: Full access to all features
- **System Manager**: Dashboard + Map Management
- **Event Manager**: Dashboard + Companies + Subscriptions + Assignments
- **Content Editor**: Program management access

**Important:**
Only Super Admins can access settings. Changes affect all users.
      `.trim(),nl:`
Configureer systeembrede instellingen en voorkeuren.

**Beschikbare Instellingen:**
- **Organisatieprofiel**: Logo, naam, huisstijl
- **Kaart Standaarden**: Standaardlagen, zoomniveaus
- **Gebruikersbeheer**: Admin rollen en rechten
- **Marker Standaarden**: Standaard iconen, kleuren, groottes
- **Event Standaarden**: Zaterdag/zondag maaltijdopties
- **Branding**: Kleuren, logo, organisatienaam
- **Programma Beheer**: Event schema en activiteiten

**Organisatie Logo:**
Upload je organisatie logo om te verschijnen:
- Op kaart cluster markers
- In admin dashboard header
- In publieke kaart branding

**Gebruikersrollen:**
- **Super Admin**: Volledige toegang tot alle features
- **Systeembeheerder**: Dashboard + Kaartbeheer
- **Eventbeheerder**: Dashboard + Bedrijven + Inschrijvingen + Toewijzingen
- **Content Editor**: Programma beheer toegang

**Belangrijk:**
Alleen Super Admins hebben toegang tot instellingen. Wijzigingen benvloeden alle gebruikers.
      `.trim()},updated:"2025-11-22",tips:{en:["Only Super Admins see this section","Test logo uploads in staging first","Changes affect all admin users","Keep user count to 5-10 for best performance"],nl:["Alleen Super Admins zien deze sectie","Test logo uploads eerst in staging","Wijzigingen benvloeden alle admin gebruikers","Houd gebruikersaantal op 5-10 voor beste performance"]}},programManagement:{title:{en:"Program Management",nl:"Programma Beheer"},content:{en:`
Manage your event schedule and activities dynamically.

**Managing Activities:**
- **Add Activity**: Click "Add Activity" to create new schedule item
- **Edit**: Click pencil icon to modify existing activity
- **Delete**: Click trash icon with confirmation
- **Reorder**: Drag activities by the  handle to change order

**Activity Properties:**
- **Title & Description**: Bilingual content (NL/EN)
- **Time**: Start and end time for the activity
- **Location Type**: 
  - **Exhibitor**: Links to company booth
  - **Venue**: Static location text
- **Badge**: Optional label (e.g., "FREE ENTRY!", "Members only")
- **Display Order**: Controls sort order in schedule
- **Active Status**: Hide/show activity from public view
- **Location Badge**: Optional exhibitor/venue indicator

**Day Tabs:**
Switch between Saturday and Sunday to manage each day separately.

**Tips:**
- Drag-to-reorder updates display_order automatically
- Exhibitor activities show company name
- Venue activities use custom location text
- Inactive activities hidden from public schedule
- Location badges help highlight special activities
      `.trim(),nl:`
Beheer je event schema en activiteiten dynamisch.

**Activiteiten Beheren:**
- **Activiteit Toevoegen**: Klik "Activiteit Toevoegen" om nieuw schema-item te creren
- **Bewerken**: Klik potlood icoon om bestaande activiteit te wijzigen
- **Verwijderen**: Klik prullenbak icoon met bevestiging
- **Herschikken**: Sleep activiteiten aan  handvat om volgorde te wijzigen

**Activiteit Eigenschappen:**
- **Titel & Beschrijving**: Tweetalige content (NL/EN)
- **Tijd**: Start- en eindtijd voor de activiteit
- **Locatietype**: 
  - **Standhouder**: Koppelt aan bedrijfsstand
  - **Locatie**: Statische locatietekst
- **Badge**: Optioneel label (bijv. "GRATIS ENTREE!", "Alleen leden")
- **Weergavevolgorde**: Bepaalt sorteervolgorde in schema
- **Actieve Status**: Verberg/toon activiteit in publieke weergave
- **Locatie Badge**: Optionele standhouder/locatie indicator

**Dag Tabbladen:**
Wissel tussen zaterdag en zondag om elke dag apart te beheren.

**Tips:**
- Sleep-om-te-herschikken update weergavevolgorde automatisch
- Standhouder activiteiten tonen bedrijfsnaam
- Locatie activiteiten gebruiken aangepaste locatietekst
- Inactieve activiteiten verborgen in publiek schema
- Locatie badges helpen speciale activiteiten te benadrukken
      `.trim()},updated:"2025-11-22",tips:{en:["Drag activities to reorder them visually","Link exhibitor activities to show booth locations","Use badges to highlight special activities","Set activities inactive to hide from public","Location badges optional - usually not needed"],nl:["Sleep activiteiten om ze visueel te herschikken","Koppel standhouder activiteiten om standlocaties te tonen","Gebruik badges om speciale activiteiten te benadrukken","Zet activiteiten inactief om te verbergen voor publiek","Locatie badges optioneel - meestal niet nodig"]}},general:{title:{en:"Getting Started",nl:"Aan de Slag"},content:{en:`
Welcome to the Event Map Admin Panel!

**Your Role Determines Access:**
- **Super Admin**: Full access to everything
- **System Manager**: Map editing and dashboard
- **Event Manager**: Company and subscription management
- **Content Editor**: Program management access

**Common Workflows:**

**1. Setting Up a New Event Year:**
- Add/update companies in Companies tab
- Import subscriptions for new year
- Assign companies to map locations
- Update event schedule in Program Management

**2. Managing Map:**
- Place markers for booths, parking, facilities
- Adjust visibility by zoom level
- Lock markers before event goes live

**3. Managing Event Program:**
- Add/edit activities in Settings  Program Management
- Link exhibitor activities to company booths
- Drag-to-reorder for easy scheduling
- Set activities active/inactive to control visibility

**4. Day-of-Event:**
- Lock all markers to prevent accidents
- Monitor assignments in real-time
- Public map and schedule update automatically

**Need Help?**
- Hover over (?) icons for quick tips
- Check "What's New" for recent changes
- Contact system administrator for access issues
      `.trim(),nl:`
Welkom bij het Event Kaart Admin Paneel!

**Je Rol Bepaalt Toegang:**
- **Super Admin**: Volledige toegang tot alles
- **Systeembeheerder**: Kaartbewerking en dashboard
- **Eventbeheerder**: Bedrijven- en inschrijvingsbeheer
- **Content Editor**: Programma beheer toegang

**Veelvoorkomende Workflows:**

**1. Nieuw Evenementjaar Instellen:**
- Voeg bedrijven toe/update in Bedrijven tab
- Importeer inschrijvingen voor nieuw jaar
- Wijs bedrijven toe aan kaartlocaties
- Update event schema in Programma Beheer

**2. Kaart Beheren:**
- Plaats markers voor stands, parkeren, faciliteiten
- Pas zichtbaarheid aan per zoomniveau
- Vergrendel markers voor event go-live

**3. Event Programma Beheren:**
- Voeg activiteiten toe/bewerk in Instellingen  Programma Beheer
- Koppel standhouder activiteiten aan bedrijfsstands
- Sleep-om-te-herschikken voor eenvoudig plannen
- Zet activiteiten actief/inactief om zichtbaarheid te regelen

**4. Dag-van-Event:**
- Vergrendel alle markers om ongelukken te voorkomen
- Monitor toewijzingen real-time
- Publieke kaart en schema updaten automatisch

**Hulp Nodig?**
- Hover over (?) iconen voor snelle tips
- Check "Wat is Nieuw" voor recente wijzigingen
- Neem contact op met systeembeheerder voor toegangsproblemen
      `.trim()},updated:"2025-11-22",tips:{en:["Start with dashboard to understand current status","Use year selector to switch between events","Lock markers before going live","Import data saves time vs manual entry","Program management updates public schedule instantly"],nl:["Start met dashboard om huidige status te begrijpen","Gebruik jaarselector om tussen events te wisselen","Vergrendel markers voor go-live","Data importeren bespaart tijd vs handmatige invoer","Programma beheer update publiek schema instant"]}}};function c3(e,t="en"){const n=G1[e]||G1.general;return{title:n.title[t]||n.title.en,content:n.content[t]||n.content.en,updated:n.updated,tips:n.tips[t]||n.tips.en}}function h3(e,t="en"){const i={"/admin":"dashboard","/admin/map":"mapManagement","/admin/companies":"companies","/admin/subscriptions":"subscriptions","/admin/assignments":"assignments","/admin/settings":"settings","/admin/settings/program":"programManagement"}[e]||"general";return c3(i,t)}const d3=[{date:"2025-11-22",changes:[{text:{en:"Program Management: Manage event schedule with database-driven activities",nl:"Programma Beheer: Beheer event schema met database-gedreven activiteiten"},type:"feature"},{text:{en:"Drag-to-reorder activities within Saturday/Sunday schedules",nl:"Sleep-om-te-herschikken activiteiten binnen zaterdag/zondag schema's"},type:"feature"},{text:{en:"Bilingual activity content (NL/EN) with exhibitor linking",nl:"Tweetalige activiteit content (NL/EN) met standhouder koppeling"},type:"feature"},{text:{en:"Optional location type badges for highlighting special activities",nl:"Optionele locatietype badges voor het benadrukken van speciale activiteiten"},type:"feature"},{text:{en:"Content Editor role added for program management access",nl:"Content Editor rol toegevoegd voor programma beheer toegang"},type:"improvement"},{text:{en:"Complete help system now available in English and Dutch",nl:"Compleet helpsysteem nu beschikbaar in Engels en Nederlands"},type:"improvement"}]},{date:"2025-11-21",changes:[{text:{en:"Added in-app help system with contextual guidance",nl:"In-app helpsysteem toegevoegd met contextuele begeleiding"},type:"feature"},{text:{en:"New tooltips on complex controls for easier navigation",nl:"Nieuwe tooltips op complexe bedieningselementen voor eenvoudigere navigatie"},type:"feature"},{text:{en:"Created versioning strategy document for future releases",nl:"Versiebeheerstrategie document gemaakt voor toekomstige releases"},type:"improvement"}]},{date:"2025-11-15",changes:[{text:{en:"Enhanced logo uploader with drag-and-drop support",nl:"Verbeterde logo uploader met drag-and-drop ondersteuning"},type:"feature"},{text:{en:"Improved import validation with better error messages",nl:"Verbeterde import validatie met betere foutmeldingen"},type:"improvement"},{text:{en:"Fixed CSV import encoding issues",nl:"CSV import encoding problemen opgelost"},type:"fix"}]},{date:"2025-11-10",changes:[{text:{en:"Added event subscriptions management tab",nl:"Event inschrijvingen beheer tab toegevoegd"},type:"feature"},{text:{en:"New assignments tab for linking companies to map locations",nl:"Nieuw toewijzingen tab voor koppelen van bedrijven aan kaartlocaties"},type:"feature"},{text:{en:"Improved marker drag performance on map",nl:"Verbeterde marker sleep prestaties op kaart"},type:"improvement"}]},{date:"2025-11-05",changes:[{text:{en:"Map marker rotation with interactive handles",nl:"Kaart marker rotatie met interactieve handgrepen"},type:"feature"},{text:{en:"Role-based navigation (Super Admin, System Manager, Event Manager)",nl:"Rol-gebaseerde navigatie (Super Admin, Systeembeheerder, Eventbeheerder)"},type:"feature"},{text:{en:"Fixed marker lock state persisting correctly",nl:"Marker vergrendelstatus wordt nu correct opgeslagen"},type:"fix"}]},{date:"2025-10-30",changes:[{text:{en:"Initial admin dashboard with key metrics",nl:"Initieel admin dashboard met belangrijkste statistieken"},type:"feature"},{text:{en:"Companies management with import/export",nl:"Bedrijvenbeheer met import/export"},type:"feature"},{text:{en:"Map Management page with marker placement",nl:"Kaartbeheer pagina met marker plaatsing"},type:"feature"}]}];function f3(e=5,t="en"){return d3.slice(0,e).map(n=>({date:n.date,changes:n.changes.map(i=>({text:i.text[t]||i.text.en,type:i.type}))}))}function zC({isOpen:e,onClose:t}){const n=er(),{t:i,i18n:a}=Rt(),{role:o}=ro(),[u,h]=T.useState("current"),[f,g]=T.useState(""),y=h3(n.pathname,a.language),v=f3(5,a.language),w=x=>{const j={feature:"bg-green-100 text-green-800",fix:"bg-red-100 text-red-800",improvement:"bg-blue-100 text-blue-800"};return j[x]||j.improvement};return e?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:t,"aria-hidden":"true"}),d.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[500px] bg-white shadow-2xl z-[9999] flex flex-col",role:"dialog","aria-label":"Help Panel","aria-modal":"true",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Se,{path:iO,size:1.2,className:"text-blue-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:i("helpPanel.title")})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":i("helpPanel.closeHelp"),children:d.jsx(Se,{path:ts,size:1,className:"text-gray-600"})})]}),o&&d.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200",children:d.jsxs("span",{className:"text-sm text-gray-600",children:[i("helpPanel.yourRole")," ",d.jsx("span",{className:"font-semibold text-blue-600",children:i(`helpPanel.roles.${o}`,o)})]})}),d.jsxs("div",{className:"flex border-b border-gray-200 px-6 bg-white",children:[d.jsx("button",{onClick:()=>h("current"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${u==="current"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.currentPage")}),d.jsx("button",{onClick:()=>h("whats-new"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${u==="whats-new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.whatsNew")}),d.jsx("button",{onClick:()=>h("quick-start"),className:`px-4 py-3 font-medium text-sm transition-colors relative ${u==="quick-start"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:i("helpPanel.tabs.quickStart")})]}),u==="current"&&d.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(Se,{path:io,size:.8,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:i("helpPanel.searchPlaceholder"),value:f,onChange:x=>g(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u==="current"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:y.title}),d.jsxs("p",{className:"text-xs text-gray-500",children:[i("helpPanel.lastUpdated")," ",y.updated]})]}),d.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 text-left",children:d.jsx(s3,{components:{h1:({node:x,...j})=>d.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4 mb-2 text-left",...j}),h2:({node:x,...j})=>d.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-4 mb-2 text-left",...j}),h3:({node:x,...j})=>d.jsx("h3",{className:"text-base font-bold text-gray-900 mt-3 mb-2 text-left",...j}),h4:({node:x,...j})=>d.jsx("h4",{className:"text-sm font-semibold text-gray-900 mt-3 mb-2 text-left",...j}),p:({node:x,...j})=>d.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-left",...j}),ul:({node:x,...j})=>d.jsx("ul",{className:"list-disc list-outside mb-4 space-y-2 text-left ml-5",...j}),ol:({node:x,...j})=>d.jsx("ol",{className:"list-decimal list-outside mb-4 space-y-2 text-left ml-5",...j}),li:({node:x,...j})=>d.jsx("li",{className:"text-gray-700 text-left pl-2",...j}),code:({node:x,...j})=>d.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",...j}),a:({node:x,...j})=>d.jsx("a",{className:"text-blue-600 hover:text-blue-800 underline",...j})},children:y.content})}),y.tips&&y.tips.length>0&&d.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Se,{path:_O,size:.9,className:"text-amber-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:i("helpPanel.quickTips")}),d.jsx("ul",{className:"space-y-1",children:y.tips.map((x,j)=>d.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[d.jsx(Se,{path:H2,size:.6,className:"flex-shrink-0 mt-0.5"}),d.jsx("span",{children:x})]},j))})]})]})})]}),u==="whats-new"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.whatsNewTitle")}),d.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.whatsNewSubtitle")})]}),d.jsx("div",{className:"space-y-4",children:v.map((x,j)=>d.jsxs("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Se,{path:EO,size:.7,className:"text-blue-600"}),d.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(x.date).toLocaleDateString(a.language==="nl"?"nl-NL":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.jsx("ul",{className:"space-y-2",children:x.changes.map((E,O)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${w(E.type)}`,children:i(`helpPanel.changeTypes.${E.type}`,E.type)}),d.jsx("span",{className:"text-sm text-gray-700 flex-1",children:E.text})]},O))})]},j))})]}),u==="quick-start"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:i("helpPanel.quickStartTitle")}),d.jsx("p",{className:"text-sm text-gray-600",children:i("helpPanel.quickStartSubtitle")})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:i("helpPanel.steps.step1Title")}),d.jsx("p",{className:"text-sm text-blue-800",children:i("helpPanel.steps.step1Text",{role:i(`helpPanel.roles.${o}`,i("helpPanel.roles.unknown"))})})]}),d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:i("helpPanel.steps.step2Title")}),d.jsx("p",{className:"text-sm text-green-800",children:i("helpPanel.steps.step2Text")})]}),d.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:i("helpPanel.steps.step3Title")}),d.jsx("p",{className:"text-sm text-purple-800",children:i("helpPanel.steps.step3Text")})]}),d.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:i("helpPanel.steps.step4Title")}),d.jsxs("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[d.jsx("li",{children:i("helpPanel.steps.step4Item1")}),d.jsx("li",{children:i("helpPanel.steps.step4Item2")}),d.jsx("li",{children:i("helpPanel.steps.step4Item3")}),d.jsx("li",{children:i("helpPanel.steps.step4Item4")})]})]}),d.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i("helpPanel.steps.step5Title")}),d.jsx("p",{className:"text-sm text-gray-700",children:i("helpPanel.steps.step5Text")})]})]})]})]}),d.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:d.jsx("p",{className:"text-xs text-gray-500 text-center",children:i("helpPanel.footer")})})]})]}):null}zC.propTypes={isOpen:Le.bool.isRequired,onClose:Le.func.isRequired};function m3({selectedYear:e,setSelectedYear:t}){const n=er(),{role:i,loading:a,hasAnyRole:o}=ro(),u=new Date().getFullYear(),h=Array.from({length:5},(E,O)=>u-2+O),[f,g]=T.useState(()=>localStorage.getItem("adminSidebarCollapsed")==="true"),[y,v]=T.useState(!1);T.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",f)},[f]);const w=async()=>{try{await ye.auth.signOut({scope:"local"})}catch(A){console.error("Logout error:",A)}const E="/Map",O=E.endsWith("/")?E:`${E}/`;window.location.href=`${O}#/admin`},j=[{path:"/admin",label:"Dashboard",icon:MO,roles:["super_admin","system_manager","event_manager"]},{path:"/admin/map",label:"Map Management",icon:G2,roles:["super_admin","system_manager"]},{path:"/admin/companies",label:"Companies",icon:fl,roles:["super_admin","event_manager"]},{path:"/admin/subscriptions",label:"Event Subscriptions",icon:sO,roles:["super_admin","event_manager"]},{path:"/admin/program",label:"Program Management",icon:V2,roles:["super_admin","event_manager","content_editor"]},{path:"/admin/assignments",label:"Assignments",icon:CO,roles:["super_admin","event_manager"]},{path:"/admin/settings",label:"Settings",icon:q2,roles:["super_admin","system_manager","event_manager"]}].filter(E=>o(E.roles));return a?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"text-gray-600",children:"Loading..."})}):d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsxs("aside",{className:`${f?"w-16":"w-64"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300`,children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!f&&d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),i&&d.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:i.replace("_"," ")})]}),d.jsx("button",{onClick:()=>g(!f),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:f?"Expand sidebar":"Collapse sidebar",children:d.jsx(Se,{path:f?H2:aO,size:.9,className:"text-gray-600"})})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:d.jsx("ul",{className:"space-y-1",children:j.map(E=>{const O=n.pathname===E.path;return d.jsx("li",{children:d.jsxs(dl,{to:E.path,className:`flex items-center gap-3 ${f?"justify-center px-3":"px-4"} py-3 rounded-lg transition-colors ${O?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,title:f?E.label:"",children:[d.jsx(Se,{path:E.icon,size:1}),!f&&d.jsx("span",{children:E.label})]})},E.path)})})}),d.jsx("div",{className:"p-2 border-t border-gray-200",children:f?d.jsx("div",{className:"flex justify-center px-3 py-3 text-gray-700 text-sm font-medium",title:`Event Year: ${e}`,children:e}):d.jsxs("div",{className:"px-2 py-3",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Event Year"}),d.jsx("select",{value:e,onChange:E=>t(parseInt(E.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 text-sm",children:h.map(E=>d.jsx("option",{value:E,children:E},E))})]})}),d.jsx("div",{className:"p-2 border-t border-gray-200",children:d.jsxs("button",{onClick:()=>v(!0),className:`flex items-center gap-3 ${f?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-blue-600 hover:bg-blue-50 transition-colors font-medium`,title:f?"Help":"",children:[d.jsx(Se,{path:gO,size:1}),!f&&d.jsx("span",{children:"Help"})]})}),d.jsx("div",{className:"p-2 border-t border-gray-200",children:d.jsxs("button",{onClick:w,className:`flex items-center gap-3 ${f?"justify-center px-3":"px-4"} py-3 w-full rounded-lg text-gray-700 hover:bg-gray-50 transition-colors`,title:f?"Logout":"",children:[d.jsx(Se,{path:SO,size:1}),!f&&d.jsx("span",{children:"Logout"})]})})]}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:d.jsx("div",{className:"h-full p-4",children:d.jsx(SN,{})})}),d.jsx(zC,{isOpen:y,onClose:()=>v(!1)})]})}function Ic(e){const[t,n]=T.useState([]),[i,a]=T.useState(!0),[o,u]=T.useState(null),h=T.useCallback(async()=>{try{a(!0),u(null);const{data:j,error:E}=await ye.from("event_subscriptions").select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).eq("event_year",e).order("id",{ascending:!0});if(E)throw E;n(j||[])}catch(j){console.error("Error loading event subscriptions:",j),u(j.message)}finally{a(!1)}},[e]),f=async(j,E={})=>{try{const{data:{user:O}}=await ye.auth.getUser(),A=O?.email||"unknown",{data:P}=await ye.from("companies").select("contact, phone, email").eq("id",j).single(),{data:M}=await ye.from("organization_profile").select("default_breakfast_sat, default_lunch_sat, default_bbq_sat, default_breakfast_sun, default_lunch_sun").eq("id",1).single(),U=M?.default_breakfast_sat||0,V=M?.default_lunch_sat||0,B=M?.default_bbq_sat||0,q=M?.default_breakfast_sun||0,te=M?.default_lunch_sun||0,{data:K,error:ae}=await ye.from("event_subscriptions").insert({company_id:j,event_year:e,contact:E.contact||P?.contact||"",phone:E.phone||P?.phone||"",email:E.email||P?.email||"",booth_count:E.booth_count||1,area:E.area||"",breakfast_sat:E.breakfast_sat??U,lunch_sat:E.lunch_sat??V,bbq_sat:E.bbq_sat??B,breakfast_sun:E.breakfast_sun??q,lunch_sun:E.lunch_sun??te,coins:E.coins||0,notes:E.notes||"",created_by:A}).select().single();if(ae)throw ae;return await h(),{data:K,error:null}}catch(O){return console.error("Error subscribing company:",O),{data:null,error:O.message}}},g=async(j,E)=>{try{const{data:O,error:A}=await ye.from("event_subscriptions").update(E).eq("id",j).select(`
          *,
          company:companies(id, name, logo, website, info, contact, phone, email, company_translations(language_code, info))
        `).single();if(A)throw A;return await h(),{data:O,error:null}}catch(O){return console.error("Error updating subscription:",O),{data:null,error:O.message}}},y=async j=>{try{const{data:E,error:O}=await ye.from("event_subscriptions").select("company_id, event_year").eq("id",j).single();if(O)throw O;const{error:A}=await ye.from("assignments").delete().eq("company_id",E.company_id).eq("event_year",E.event_year);if(A)throw A;const{error:P}=await ye.from("event_subscriptions").delete().eq("id",j);if(P)throw P;return await h(),{error:null}}catch(E){return console.error("Error unsubscribing company:",E),{error:E.message}}},v=async()=>{try{const{data:{user:j}}=await ye.auth.getUser(),E=j?.email||"unknown",{data:O,error:A}=await ye.rpc("archive_event_subscriptions",{year_to_archive:e,archived_by_user:E});if(A)throw A;return await h(),{data:O,error:null}}catch(j){return console.error("Error archiving subscriptions:",j),{data:null,error:j.message}}},w=async j=>{try{const{data:E,error:O}=await ye.from("event_subscriptions_archive").select("*").eq("event_year",j).order("archived_at",{ascending:!1});if(O)throw O;return{data:E,error:null}}catch(E){return console.error("Error loading archived subscriptions:",E),{data:null,error:E.message}}},x=async j=>{try{const{data:{user:E}}=await ye.auth.getUser(),O=E?.email||"unknown",{data:A,error:P}=await ye.from("event_subscriptions").select("*").eq("event_year",j);if(P)throw P;if(!A||A.length===0)return{data:null,error:"No subscriptions found for source year"};const M=A.map(B=>({company_id:B.company_id,event_year:e,contact:B.contact,phone:B.phone,email:B.email,booth_count:B.booth_count,area:B.area,breakfast_sat:B.breakfast_sat,lunch_sat:B.lunch_sat,bbq_sat:B.bbq_sat,breakfast_sun:B.breakfast_sun,lunch_sun:B.lunch_sun,coins:B.coins,notes:B.notes,created_by:O})),{data:U,error:V}=await ye.from("event_subscriptions").insert(M).select();if(V)throw V;return await h(),{data:U,error:null}}catch(E){return console.error("Error copying subscriptions from previous year:",E),{data:null,error:E.message}}};return T.useEffect(()=>{h()},[h]),T.useEffect(()=>{const j=ye.channel("event-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_subscriptions",filter:`event_year=eq.${e}`},()=>{h()}).subscribe();return()=>{ye.removeChannel(j)}},[e,h]),{subscriptions:t,loading:i,error:o,subscribeCompany:f,updateSubscription:g,unsubscribeCompany:y,archiveCurrentYear:v,loadArchivedSubscriptions:w,copyFromPreviousYear:x,reload:h}}function p3({selectedYear:e}){const{t}=Rt(),{subscriptions:n,loading:i}=Ic(e),[a,o]=T.useState({markers:null,companies:null,assignments:null}),[u,h]=T.useState(!0);T.useEffect(()=>{async function v(){h(!0);try{const[w,x,j]=await Promise.all([ye.from("Markers_Core").select("id",{count:"exact",head:!0}).gt("id",0),ye.from("companies").select("id",{count:"exact",head:!0}),ye.from("assignments").select("id",{count:"exact",head:!0}).eq("event_year",e)]);o({markers:w.count??0,companies:x.count??0,assignments:j.count??0})}catch(w){console.error("Error fetching dashboard counts:",w)}finally{h(!1)}}v()},[e]);const f=T.useMemo(()=>n.reduce((v,w)=>({breakfast_sat:v.breakfast_sat+(w.breakfast_sat||0),lunch_sat:v.lunch_sat+(w.lunch_sat||0),bbq_sat:v.bbq_sat+(w.bbq_sat||0),breakfast_sun:v.breakfast_sun+(w.breakfast_sun||0),lunch_sun:v.lunch_sun+(w.lunch_sun||0),coins:v.coins+(w.coins||0)}),{breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[n]),g=[{label:t("dashboard.totalMarkers"),value:u?"...":a.markers?.toString()??"-",icon:pf,color:"blue"},{label:t("dashboard.companies"),value:u?"...":a.companies?.toString()??"-",icon:fl,color:"green"},{label:`${e} ${t("dashboard.subscriptions")}`,value:i?"...":n.length.toString(),icon:rO,color:"orange"},{label:`${e} ${t("dashboard.assignments")}`,value:u?"...":a.assignments?.toString()??"-",icon:lO,color:"purple"}],y={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",purple:"bg-purple-50 text-purple-700 border-purple-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200"};return d.jsxs("div",{children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:g.map(v=>d.jsx("div",{className:`p-6 rounded-lg border-2 ${y[v.color]}`,children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Se,{path:v.icon,size:2}),d.jsxs("div",{children:[d.jsx("div",{className:"text-3xl font-bold",children:v.value}),d.jsx("div",{className:"text-sm font-medium mt-1",children:v.label})]})]})},v.label))}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[e," ",t("dashboard.eventTotals"),i&&d.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:t("common.loading")})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.saturday")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:r1,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.breakfast_sat}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.breakfast")})]})]})}),d.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:s1,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.lunch_sat}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.lunch")})]})]})}),d.jsx("div",{className:"p-4 rounded-lg border-2 bg-blue-50 text-blue-700 border-blue-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:a1,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.bbq_sat}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.bbq")})]})]})})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.sunday")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:r1,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.breakfast_sun}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.breakfast")})]})]})}),d.jsx("div",{className:"p-4 rounded-lg border-2 bg-green-50 text-green-700 border-green-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:s1,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.lunch_sun}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.lunch")})]})]})}),d.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 text-gray-400",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:a1,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:"-"}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.noBBQ")})]})]})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:t("dashboard.coins")}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.jsx("div",{className:"p-4 rounded-lg border-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Se,{path:oO,size:1.5}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.coins}),d.jsx("div",{className:"text-sm font-medium",children:t("dashboard.totalCoins")})]})]})})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("dashboard.quickActions")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(dl,{to:"/admin/companies",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.addNewCompany")}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.addNewCompanyDesc")})]}),d.jsxs(dl,{to:"/admin/subscriptions",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.manageSubscriptions")}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.manageSubscriptionsDesc")})]}),d.jsxs(dl,{to:"/admin/assignments",className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:t("dashboard.assignBooths")}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t("dashboard.assignBoothsDesc")})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("dashboard.recentActivity")}),d.jsx("p",{className:"text-gray-600",children:t("dashboard.recentActivityPlaceholder")})]})]})}function av({requiredRole:e,children:t,message:n}){const{role:i,loading:a,hasRole:o,hasAnyRole:u}=ro();return a?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("div",{className:"text-gray-600",children:"Loading..."})}):(Array.isArray(e)?u(e):o(e))?d.jsx(d.Fragment,{children:t}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg border-2 border-gray-200",children:[d.jsx(Se,{path:wO,size:3,className:"text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Access Restricted"}),d.jsx("p",{className:"text-gray-600 text-center max-w-md",children:n||"You do not have permission to view this section. Contact your administrator if you need access."}),i&&d.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Your role: ",d.jsx("span",{className:"font-semibold",children:i.replace("_"," ")})]})]})}av.propTypes={requiredRole:Le.oneOfType([Le.string,Le.arrayOf(Le.string)]).isRequired,children:Le.node.isRequired,message:Le.string};av.defaultProps={message:null};function xl(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Cl();return e.startsWith("/assets/icons/")?`${t}${e.slice(1)}`:e.startsWith("icons/")?`${t}assets/icons/${e.slice(6)}`:`${t}assets/icons/${e}`}const g3=["glyph-marker-icon-black.svg","glyph-marker-icon-blue.svg","glyph-marker-icon-gray.svg","glyph-marker-icon-green.svg","glyph-marker-icon-orange.svg","glyph-marker-icon-purple.svg","glyph-marker-icon-red.svg","glyph-marker-icon-yellow.svg"];function BC(e,t){const n=T.useRef(t);T.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const y3=1;function v3(e){return Object.freeze({__version:y3,map:e})}function b3(e,t){return Object.freeze({...e,...t})}const ov=T.createContext(null);function xf(){const e=T.use(ov);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function IC(e){function t(n,i){const{instance:a,context:o}=e(n).current;T.useImperativeHandle(i,()=>a);const{children:u}=n;return u==null?null:gi.createElement(ov,{value:o},u)}return T.forwardRef(t)}function _3(e){function t(n,i){const[a,o]=T.useState(!1),{instance:u}=e(n,o).current;T.useImperativeHandle(i,()=>u),T.useEffect(function(){a&&u.update()},[u,a,n.children]);const h=u._contentNode;return h?N2.createPortal(n.children,h):null}return T.forwardRef(t)}function x3(e){function t(n,i){const{instance:a}=e(n).current;return T.useImperativeHandle(i,()=>a),null}return T.forwardRef(t)}function lv(e,t){const n=T.useRef(void 0);T.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function wf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function w3(e,t){return function(i,a){const o=xf(),u=e(wf(i,o),o);return BC(o.map,i.attribution),lv(u.current,i.eventHandlers),t(u.current,o,i,a),u}}var Xu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var S3=Xu.exports,K1;function uv(){return K1||(K1=1,(function(e,t){(function(n,i){i(t)})(S3,(function(n){var i="1.9.4";function a(l){var m,b,C,k;for(b=1,C=arguments.length;b<C;b++){k=arguments[b];for(m in k)l[m]=k[m]}return l}var o=Object.create||(function(){function l(){}return function(m){return l.prototype=m,new l}})();function u(l,m){var b=Array.prototype.slice;if(l.bind)return l.bind.apply(l,b.call(arguments,1));var C=b.call(arguments,2);return function(){return l.apply(m,C.length?C.concat(b.call(arguments)):arguments)}}var h=0;function f(l){return"_leaflet_id"in l||(l._leaflet_id=++h),l._leaflet_id}function g(l,m,b){var C,k,D,Z;return Z=function(){C=!1,k&&(D.apply(b,k),k=!1)},D=function(){C?k=arguments:(l.apply(b,arguments),setTimeout(Z,m),C=!0)},D}function y(l,m,b){var C=m[1],k=m[0],D=C-k;return l===C&&b?l:((l-k)%D+D)%D+k}function v(){return!1}function w(l,m){if(m===!1)return l;var b=Math.pow(10,m===void 0?6:m);return Math.round(l*b)/b}function x(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function j(l){return x(l).split(/\s+/)}function E(l,m){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var b in m)l.options[b]=m[b];return l.options}function O(l,m,b){var C=[];for(var k in l)C.push(encodeURIComponent(b?k.toUpperCase():k)+"="+encodeURIComponent(l[k]));return(!m||m.indexOf("?")===-1?"?":"&")+C.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function P(l,m){return l.replace(A,function(b,C){var k=m[C];if(k===void 0)throw new Error("No value provided for variable "+b);return typeof k=="function"&&(k=k(m)),k})}var M=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function U(l,m){for(var b=0;b<l.length;b++)if(l[b]===m)return b;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var q=0;function te(l){var m=+new Date,b=Math.max(0,16-(m-q));return q=m+b,window.setTimeout(l,b)}var K=window.requestAnimationFrame||B("RequestAnimationFrame")||te,ae=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function $(l,m,b){if(b&&K===te)l.call(m);else return K.call(window,u(l,m))}function Q(l){l&&ae.call(window,l)}var se={__proto__:null,extend:a,create:o,bind:u,get lastId(){return h},stamp:f,throttle:g,wrapNum:y,falseFn:v,formatNum:w,trim:x,splitWords:j,setOptions:E,getParamString:O,template:P,isArray:M,indexOf:U,emptyImageUrl:V,requestFn:K,cancelFn:ae,requestAnimFrame:$,cancelAnimFrame:Q};function re(){}re.extend=function(l){var m=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,C=o(b);C.constructor=m,m.prototype=C;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(m[k]=this[k]);return l.statics&&a(m,l.statics),l.includes&&(ce(l.includes),a.apply(null,[C].concat(l.includes))),a(C,l),delete C.statics,delete C.includes,C.options&&(C.options=b.options?o(b.options):{},a(C.options,l.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,Z=C._initHooks.length;D<Z;D++)C._initHooks[D].call(this)}},m},re.include=function(l){var m=this.prototype.options;return a(this.prototype,l),l.options&&(this.prototype.options=m,this.mergeOptions(l.options)),this},re.mergeOptions=function(l){return a(this.prototype.options,l),this},re.addInitHook=function(l){var m=Array.prototype.slice.call(arguments,1),b=typeof l=="function"?l:function(){this[l].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function ce(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=M(l)?l:[l];for(var m=0;m<l.length;m++)l[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(l,m,b){if(typeof l=="object")for(var C in l)this._on(C,l[C],m);else{l=j(l);for(var k=0,D=l.length;k<D;k++)this._on(l[k],m,b)}return this},off:function(l,m,b){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var C in l)this._off(C,l[C],m);else{l=j(l);for(var k=arguments.length===1,D=0,Z=l.length;D<Z;D++)k?this._off(l[D]):this._off(l[D],m,b)}return this},_on:function(l,m,b,C){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(l,m,b)===!1){b===this&&(b=void 0);var k={fn:m,ctx:b};C&&(k.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(k)}},_off:function(l,m,b){var C,k,D;if(this._events&&(C=this._events[l],!!C)){if(arguments.length===1){if(this._firingCount)for(k=0,D=C.length;k<D;k++)C[k].fn=v;delete this._events[l];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Z=this._listens(l,m,b);if(Z!==!1){var ie=C[Z];this._firingCount&&(ie.fn=v,this._events[l]=C=C.slice()),C.splice(Z,1)}}},fire:function(l,m,b){if(!this.listens(l,b))return this;var C=a({},m,{type:l,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var k=this._events[l];if(k){this._firingCount=this._firingCount+1||1;for(var D=0,Z=k.length;D<Z;D++){var ie=k[D],he=ie.fn;ie.once&&this.off(l,he,ie.ctx),he.call(ie.ctx||this,C)}this._firingCount--}}return b&&this._propagateEvent(C),this},listens:function(l,m,b,C){typeof l!="string"&&console.warn('"string" type argument expected');var k=m;typeof m!="function"&&(C=!!m,k=void 0,b=void 0);var D=this._events&&this._events[l];if(D&&D.length&&this._listens(l,k,b)!==!1)return!0;if(C){for(var Z in this._eventParents)if(this._eventParents[Z].listens(l,m,b,C))return!0}return!1},_listens:function(l,m,b){if(!this._events)return!1;var C=this._events[l]||[];if(!m)return!!C.length;b===this&&(b=void 0);for(var k=0,D=C.length;k<D;k++)if(C[k].fn===m&&C[k].ctx===b)return k;return!1},once:function(l,m,b){if(typeof l=="object")for(var C in l)this._on(C,l[C],m,!0);else{l=j(l);for(var k=0,D=l.length;k<D;k++)this._on(l[k],m,b,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[f(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[f(l)],this},_propagateEvent:function(l){for(var m in this._eventParents)this._eventParents[m].fire(l.type,a({layer:l.target,propagatedFrom:l.target},l),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var ee=re.extend(F);function Y(l,m,b){this.x=b?Math.round(l):l,this.y=b?Math.round(m):m}var we=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(l){return this.clone()._add(R(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(R(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new Y(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new Y(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=we(this.x),this.y=we(this.y),this},distanceTo:function(l){l=R(l);var m=l.x-this.x,b=l.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(l){return l=R(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=R(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function R(l,m,b){return l instanceof Y?l:M(l)?new Y(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new Y(l.x,l.y):new Y(l,m,b)}function H(l,m){if(l)for(var b=m?[l,m]:l,C=0,k=b.length;C<k;C++)this.extend(b[C])}H.prototype={extend:function(l){var m,b;if(!l)return this;if(l instanceof Y||typeof l[0]=="number"||"x"in l)m=b=R(l);else if(l=X(l),m=l.min,b=l.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(l){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var m,b;return typeof l[0]=="number"||l instanceof Y?l=R(l):l=X(l),l instanceof H?(m=l.min,b=l.max):m=b=l,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(l){l=X(l);var m=this.min,b=this.max,C=l.min,k=l.max,D=k.x>=m.x&&C.x<=b.x,Z=k.y>=m.y&&C.y<=b.y;return D&&Z},overlaps:function(l){l=X(l);var m=this.min,b=this.max,C=l.min,k=l.max,D=k.x>m.x&&C.x<b.x,Z=k.y>m.y&&C.y<b.y;return D&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var m=this.min,b=this.max,C=Math.abs(m.x-b.x)*l,k=Math.abs(m.y-b.y)*l;return X(R(m.x-C,m.y-k),R(b.x+C,b.y+k))},equals:function(l){return l?(l=X(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function X(l,m){return!l||l instanceof H?l:new H(l,m)}function z(l,m){if(l)for(var b=m?[l,m]:l,C=0,k=b.length;C<k;C++)this.extend(b[C])}z.prototype={extend:function(l){var m=this._southWest,b=this._northEast,C,k;if(l instanceof oe)C=l,k=l;else if(l instanceof z){if(C=l._southWest,k=l._northEast,!C||!k)return this}else return l?this.extend(me(l)||W(l)):this;return!m&&!b?(this._southWest=new oe(C.lat,C.lng),this._northEast=new oe(k.lat,k.lng)):(m.lat=Math.min(C.lat,m.lat),m.lng=Math.min(C.lng,m.lng),b.lat=Math.max(k.lat,b.lat),b.lng=Math.max(k.lng,b.lng)),this},pad:function(l){var m=this._southWest,b=this._northEast,C=Math.abs(m.lat-b.lat)*l,k=Math.abs(m.lng-b.lng)*l;return new z(new oe(m.lat-C,m.lng-k),new oe(b.lat+C,b.lng+k))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof oe||"lat"in l?l=me(l):l=W(l);var m=this._southWest,b=this._northEast,C,k;return l instanceof z?(C=l.getSouthWest(),k=l.getNorthEast()):C=k=l,C.lat>=m.lat&&k.lat<=b.lat&&C.lng>=m.lng&&k.lng<=b.lng},intersects:function(l){l=W(l);var m=this._southWest,b=this._northEast,C=l.getSouthWest(),k=l.getNorthEast(),D=k.lat>=m.lat&&C.lat<=b.lat,Z=k.lng>=m.lng&&C.lng<=b.lng;return D&&Z},overlaps:function(l){l=W(l);var m=this._southWest,b=this._northEast,C=l.getSouthWest(),k=l.getNorthEast(),D=k.lat>m.lat&&C.lat<b.lat,Z=k.lng>m.lng&&C.lng<b.lng;return D&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,m){return l?(l=W(l),this._southWest.equals(l.getSouthWest(),m)&&this._northEast.equals(l.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(l,m){return l instanceof z?l:new z(l,m)}function oe(l,m,b){if(isNaN(l)||isNaN(m))throw new Error("Invalid LatLng object: ("+l+", "+m+")");this.lat=+l,this.lng=+m,b!==void 0&&(this.alt=+b)}oe.prototype={equals:function(l,m){if(!l)return!1;l=me(l);var b=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return b<=(m===void 0?1e-9:m)},toString:function(l){return"LatLng("+w(this.lat,l)+", "+w(this.lng,l)+")"},distanceTo:function(l){return Re.distance(this,me(l))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(l){var m=180*l/40075017,b=m/Math.cos(Math.PI/180*this.lat);return W([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function me(l,m,b){return l instanceof oe?l:M(l)&&typeof l[0]!="object"?l.length===3?new oe(l[0],l[1],l[2]):l.length===2?new oe(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new oe(l.lat,"lng"in l?l.lng:l.lon,l.alt):m===void 0?null:new oe(l,m,b)}var Ce={latLngToPoint:function(l,m){var b=this.projection.project(l),C=this.scale(m);return this.transformation._transform(b,C)},pointToLatLng:function(l,m){var b=this.scale(m),C=this.transformation.untransform(l,b);return this.projection.unproject(C)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(l),C=this.transformation.transform(m.min,b),k=this.transformation.transform(m.max,b);return new H(C,k)},infinite:!1,wrapLatLng:function(l){var m=this.wrapLng?y(l.lng,this.wrapLng,!0):l.lng,b=this.wrapLat?y(l.lat,this.wrapLat,!0):l.lat,C=l.alt;return new oe(b,m,C)},wrapLatLngBounds:function(l){var m=l.getCenter(),b=this.wrapLatLng(m),C=m.lat-b.lat,k=m.lng-b.lng;if(C===0&&k===0)return l;var D=l.getSouthWest(),Z=l.getNorthEast(),ie=new oe(D.lat-C,D.lng-k),he=new oe(Z.lat-C,Z.lng-k);return new z(ie,he)}},Re=a({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(l,m){var b=Math.PI/180,C=l.lat*b,k=m.lat*b,D=Math.sin((m.lat-l.lat)*b/2),Z=Math.sin((m.lng-l.lng)*b/2),ie=D*D+Math.cos(C)*Math.cos(k)*Z*Z,he=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*he}}),be=6378137,ke={R:be,MAX_LATITUDE:85.0511287798,project:function(l){var m=Math.PI/180,b=this.MAX_LATITUDE,C=Math.max(Math.min(b,l.lat),-b),k=Math.sin(C*m);return new Y(this.R*l.lng*m,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(l){var m=180/Math.PI;return new oe((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*m,l.x*m/this.R)},bounds:(function(){var l=be*Math.PI;return new H([-l,-l],[l,l])})()};function Ve(l,m,b,C){if(M(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=m,this._c=b,this._d=C}Ve.prototype={transform:function(l,m){return this._transform(l.clone(),m)},_transform:function(l,m){return m=m||1,l.x=m*(this._a*l.x+this._b),l.y=m*(this._c*l.y+this._d),l},untransform:function(l,m){return m=m||1,new Y((l.x/m-this._b)/this._a,(l.y/m-this._d)/this._c)}};function De(l,m,b,C){return new Ve(l,m,b,C)}var He=a({},Re,{code:"EPSG:3857",projection:ke,transformation:(function(){var l=.5/(Math.PI*ke.R);return De(l,.5,-l,.5)})()}),gt=a({},He,{code:"EPSG:900913"});function Dt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ei(l,m){var b="",C,k,D,Z,ie,he;for(C=0,D=l.length;C<D;C++){for(ie=l[C],k=0,Z=ie.length;k<Z;k++)he=ie[k],b+=(k?"L":"M")+he.x+" "+he.y;b+=m?Oe.svg?"z":"x":""}return b||"M0 0"}var Pi=document.documentElement.style,Ri="ActiveXObject"in window,rs=Ri&&!document.addEventListener,jr="msLaunchUri"in navigator&&!("documentMode"in document),Er=Bn("webkit"),ao=Bn("android"),oo=Bn("android 2")||Bn("android 3"),gn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dl=ao&&Bn("Google")&&gn<537&&!("AudioNode"in window),ge=!!window.opera,Ee=!jr&&Bn("chrome"),Ie=Bn("gecko")&&!Er&&!ge&&!Ri,et=!Ee&&Bn("safari"),lt=Bn("phantom"),Sn="OTransition"in Pi,Di=navigator.platform.indexOf("Win")===0,hn=Ri&&"transition"in Pi,zt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oo,yn="MozPerspective"in Pi,yt=!window.L_DISABLE_3D&&(hn||zt||yn)&&!Sn&&!lt,zn=typeof orientation<"u"||Bn("mobile"),ti=zn&&Er,Mf=zn&&zt,ta=!window.PointerEvent&&window.MSPointerEvent,na=!!(window.PointerEvent||ta),ia="ontouchstart"in window||!!window.TouchEvent,Tr=!window.L_NO_TOUCH&&(ia||na),lo=zn&&ge,ra=zn&&Ie,Of=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qc=(function(){var l=!1;try{var m=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return l})(),zl=(function(){return!!document.createElement("canvas").getContext})(),kr=!!(document.createElementNS&&Dt("svg").createSVGRect),Pf=!!kr&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),$c=!kr&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var m=l.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Zc=navigator.platform.indexOf("Mac")===0,Gc=navigator.platform.indexOf("Linux")===0;function Bn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Oe={ie:Ri,ielt9:rs,edge:jr,webkit:Er,android:ao,android23:oo,androidStock:Dl,opera:ge,chrome:Ee,gecko:Ie,safari:et,phantom:lt,opera12:Sn,win:Di,ie3d:hn,webkit3d:zt,gecko3d:yn,any3d:yt,mobile:zn,mobileWebkit:ti,mobileWebkit3d:Mf,msPointer:ta,pointer:na,touch:Tr,touchNative:ia,mobileOpera:lo,mobileGecko:ra,retina:Of,passiveEvents:qc,canvas:zl,svg:kr,vml:$c,inlineSvg:Pf,mac:Zc,linux:Gc},Bl=Oe.msPointer?"MSPointerDown":"pointerdown",Il=Oe.msPointer?"MSPointerMove":"pointermove",zi=Oe.msPointer?"MSPointerUp":"pointerup",Yt=Oe.msPointer?"MSPointerCancel":"pointercancel",dn={touchstart:Bl,touchmove:Il,touchend:zi,touchcancel:Yt},Lr={touchstart:as,touchmove:nr,touchend:nr,touchcancel:nr},tr={},Kc=!1;function Rf(l,m,b){return m==="touchstart"&&ss(),Lr[m]?(b=Lr[m].bind(this,b),l.addEventListener(dn[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function Wc(l,m,b){if(!dn[m]){console.warn("wrong event specified:",m);return}l.removeEventListener(dn[m],b,!1)}function sa(l){tr[l.pointerId]=l}function Ul(l){tr[l.pointerId]&&(tr[l.pointerId]=l)}function Ar(l){delete tr[l.pointerId]}function ss(){Kc||(document.addEventListener(Bl,sa,!0),document.addEventListener(Il,Ul,!0),document.addEventListener(zi,Ar,!0),document.addEventListener(Yt,Ar,!0),Kc=!0)}function nr(l,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in tr)m.touches.push(tr[b]);m.changedTouches=[m],l(m)}}function as(l,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Ht(m),nr(l,m)}function Xt(l){var m={},b,C;for(C in l)b=l[C],m[C]=b&&b.bind?b.bind(l):b;return l=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Yc=200;function Xc(l,m){l.addEventListener("dblclick",m);var b=0,C;function k(D){if(D.detail!==1){C=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var Z=da(D);if(!(Z.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!Z.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var ie=Date.now();ie-b<=Yc?(C++,C===2&&m(Xt(D))):C=1,b=ie}}}return l.addEventListener("click",k),{dblclick:m,simDblclick:k}}function Nr(l,m){l.removeEventListener("dblclick",m.dblclick),l.removeEventListener("click",m.simDblclick)}var ir=la(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),aa=la(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vl=aa==="webkitTransition"||aa==="OTransition"?aa+"End":"transitionend";function Hl(l){return typeof l=="string"?document.getElementById(l):l}function oa(l,m){var b=l.style[m]||l.currentStyle&&l.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(l,null);b=C?C[m]:null}return b==="auto"?null:b}function tt(l,m,b){var C=document.createElement(l);return C.className=m||"",b&&b.appendChild(C),C}function _t(l){var m=l.parentNode;m&&m.removeChild(l)}function In(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function an(l){var m=l.parentNode;m&&m.lastChild!==l&&m.appendChild(l)}function Mr(l){var m=l.parentNode;m&&m.firstChild!==l&&m.insertBefore(l,m.firstChild)}function Fl(l,m){if(l.classList!==void 0)return l.classList.contains(m);var b=uo(l);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function Ge(l,m){if(l.classList!==void 0)for(var b=j(m),C=0,k=b.length;C<k;C++)l.classList.add(b[C]);else if(!Fl(l,m)){var D=uo(l);os(l,(D?D+" ":"")+m)}}function Nt(l,m){l.classList!==void 0?l.classList.remove(m):os(l,x((" "+uo(l)+" ").replace(" "+m+" "," ")))}function os(l,m){l.className.baseVal===void 0?l.className=m:l.className.baseVal=m}function uo(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Lt(l,m){"opacity"in l.style?l.style.opacity=m:"filter"in l.style&&ql(l,m)}function ql(l,m){var b=!1,C="DXImageTransform.Microsoft.Alpha";try{b=l.filters.item(C)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):l.style.filter+=" progid:"+C+"(opacity="+m+")"}function la(l){for(var m=document.documentElement.style,b=0;b<l.length;b++)if(l[b]in m)return l[b];return!1}function Bi(l,m,b){var C=m||new Y(0,0);l.style[ir]=(Oe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(b?" scale("+b+")":"")}function Ct(l,m){l._leaflet_pos=m,Oe.any3d?Bi(l,m):(l.style.left=m.x+"px",l.style.top=m.y+"px")}function rr(l){return l._leaflet_pos||new Y(0,0)}var ls,yi,$l;if("onselectstart"in document)ls=function(){Fe(window,"selectstart",Ht)},yi=function(){pt(window,"selectstart",Ht)};else{var us=la(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ls=function(){if(us){var l=document.documentElement.style;$l=l[us],l[us]="none"}},yi=function(){us&&(document.documentElement.style[us]=$l,$l=void 0)}}function co(){Fe(window,"dragstart",Ht)}function ua(){pt(window,"dragstart",Ht)}var ho,Zl;function cs(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Un(),ho=l,Zl=l.style.outlineStyle,l.style.outlineStyle="none",Fe(window,"keydown",Un))}function Un(){ho&&(ho.style.outlineStyle=Zl,ho=void 0,Zl=void 0,pt(window,"keydown",Un))}function fo(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function ca(l){var m=l.getBoundingClientRect();return{x:m.width/l.offsetWidth||1,y:m.height/l.offsetHeight||1,boundingClientRect:m}}var hs={__proto__:null,TRANSFORM:ir,TRANSITION:aa,TRANSITION_END:Vl,get:Hl,getStyle:oa,create:tt,remove:_t,empty:In,toFront:an,toBack:Mr,hasClass:Fl,addClass:Ge,removeClass:Nt,setClass:os,getClass:uo,setOpacity:Lt,testProp:la,setTransform:Bi,setPosition:Ct,getPosition:rr,get disableTextSelection(){return ls},get enableTextSelection(){return yi},disableImageDrag:co,enableImageDrag:ua,preventOutline:cs,restoreOutline:Un,getSizedParentNode:fo,getScale:ca};function Fe(l,m,b,C){if(m&&typeof m=="object")for(var k in m)ii(l,k,m[k],b);else{m=j(m);for(var D=0,Z=m.length;D<Z;D++)ii(l,m[D],b,C)}return this}var ni="_leaflet_events";function pt(l,m,b,C){if(arguments.length===1)Gl(l),delete l[ni];else if(m&&typeof m=="object")for(var k in m)ha(l,k,m[k],b);else if(m=j(m),arguments.length===2)Gl(l,function(ie){return U(m,ie)!==-1});else for(var D=0,Z=m.length;D<Z;D++)ha(l,m[D],b,C);return this}function Gl(l,m){for(var b in l[ni]){var C=b.split(/\d/)[0];(!m||m(C))&&ha(l,C,null,null,b)}}var Or={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ii(l,m,b,C){var k=m+f(b)+(C?"_"+f(C):"");if(l[ni]&&l[ni][k])return this;var D=function(ie){return b.call(C||l,ie||window.event)},Z=D;!Oe.touchNative&&Oe.pointer&&m.indexOf("touch")===0?D=Rf(l,m,D):Oe.touch&&m==="dblclick"?D=Xc(l,D):"addEventListener"in l?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?l.addEventListener(Or[m]||m,D,Oe.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(D=function(ie){ie=ie||window.event,Ii(l,ie)&&Z(ie)},l.addEventListener(Or[m],D,!1)):l.addEventListener(m,Z,!1):l.attachEvent("on"+m,D),l[ni]=l[ni]||{},l[ni][k]=D}function ha(l,m,b,C,k){k=k||m+f(b)+(C?"_"+f(C):"");var D=l[ni]&&l[ni][k];if(!D)return this;!Oe.touchNative&&Oe.pointer&&m.indexOf("touch")===0?Wc(l,m,D):Oe.touch&&m==="dblclick"?Nr(l,D):"removeEventListener"in l?l.removeEventListener(Or[m]||m,D,!1):l.detachEvent("on"+m,D),l[ni][k]=null}function ri(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function vi(l){return ii(l,"wheel",ri),this}function Pr(l){return Fe(l,"mousedown touchstart dblclick contextmenu",ri),l._leaflet_disable_click=!0,this}function Ht(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function sr(l){return Ht(l),ri(l),this}function da(l){if(l.composedPath)return l.composedPath();for(var m=[],b=l.target;b;)m.push(b),b=b.parentNode;return m}function fa(l,m){if(!m)return new Y(l.clientX,l.clientY);var b=ca(m),C=b.boundingClientRect;return new Y((l.clientX-C.left)/b.x-m.clientLeft,(l.clientY-C.top)/b.y-m.clientTop)}var Jc=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vn(l){return Oe.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Jc:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Ii(l,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==l;)b=b.parentNode}catch{return!1}return b!==l}var mo={__proto__:null,on:Fe,off:pt,stopPropagation:ri,disableScrollPropagation:vi,disableClickPropagation:Pr,preventDefault:Ht,stop:sr,getPropagationPath:da,getMousePosition:fa,getWheelDelta:vn,isExternalTarget:Ii,addListener:Fe,removeListener:pt},ds=ee.extend({run:function(l,m,b,C){this.stop(),this._el=l,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=rr(l),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(l){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),l):(this._runFrame(1),this._complete())},_runFrame:function(l,m){var b=this._startPos.add(this._offset.multiplyBy(l));m&&b._round(),Ct(this._el,b),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),st=ee.extend({options:{crs:He,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,m){m=E(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(me(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=aa&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,Vl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),l=this._limitCenter(me(l),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=a({animate:b.animate},b.zoom),b.pan=a({animate:b.animate,duration:b.duration},b.pan));var C=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,m,b.zoom):this._tryAnimatedPan(l,b.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(l,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(l,m){return this._loaded?this.setView(this.getCenter(),l,{zoom:m}):(this._zoom=l,this)},zoomIn:function(l,m){return l=l||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,m)},zoomOut:function(l,m){return l=l||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,m)},setZoomAround:function(l,m,b){var C=this.getZoomScale(m),k=this.getSize().divideBy(2),D=l instanceof Y?l:this.latLngToContainerPoint(l),Z=D.subtract(k).multiplyBy(1-1/C),ie=this.containerPointToLatLng(k.add(Z));return this.setView(ie,m,{zoom:b})},_getBoundsCenterZoom:function(l,m){m=m||{},l=l.getBounds?l.getBounds():W(l);var b=R(m.paddingTopLeft||m.padding||[0,0]),C=R(m.paddingBottomRight||m.padding||[0,0]),k=this.getBoundsZoom(l,!1,b.add(C));if(k=typeof m.maxZoom=="number"?Math.min(m.maxZoom,k):k,k===1/0)return{center:l.getCenter(),zoom:k};var D=C.subtract(b).divideBy(2),Z=this.project(l.getSouthWest(),k),ie=this.project(l.getNorthEast(),k),he=this.unproject(Z.add(ie).divideBy(2).add(D),k);return{center:he,zoom:k}},fitBounds:function(l,m){if(l=W(l),!l.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(l,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,m){return this.setView(l,this._zoom,{pan:m})},panBy:function(l,m){if(l=R(l).round(),m=m||{},!l.x&&!l.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ds,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Ge(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,m,b){if(b=b||{},b.animate===!1||!Oe.any3d)return this.setView(l,m,b);this._stop();var C=this.project(this.getCenter()),k=this.project(l),D=this.getSize(),Z=this._zoom;l=me(l),m=m===void 0?Z:m;var ie=Math.max(D.x,D.y),he=ie*this.getZoomScale(Z,m),_e=k.distanceTo(C)||1,Te=1.42,Pe=Te*Te;function Xe(Bt){var Fi=Bt?-1:1,Br=Bt?he:ie,lu=he*he-ie*ie+Fi*Pe*Pe*_e*_e,La=2*Br*Pe*_e,Aa=lu/La,mr=Math.sqrt(Aa*Aa+1)-Aa,qi=mr<1e-9?-18:Math.log(mr);return qi}function on(Bt){return(Math.exp(Bt)-Math.exp(-Bt))/2}function Ft(Bt){return(Math.exp(Bt)+Math.exp(-Bt))/2}function Mn(Bt){return on(Bt)/Ft(Bt)}var ut=Xe(0);function ct(Bt){return ie*(Ft(ut)/Ft(ut+Te*Bt))}function nt(Bt){return ie*(Ft(ut)*Mn(ut+Te*Bt)-on(ut))/Pe}function dr(Bt){return 1-Math.pow(1-Bt,1.5)}var qn=Date.now(),ko=(Xe(1)-ut)/Te,fr=b.duration?1e3*b.duration:1e3*ko*.8;function ou(){var Bt=(Date.now()-qn)/fr,Fi=dr(Bt)*ko;Bt<=1?(this._flyToFrame=$(ou,this),this._move(this.unproject(C.add(k.subtract(C).multiplyBy(nt(Fi)/_e)),Z),this.getScaleZoom(ie/ct(Fi),Z),{flyTo:!0})):this._move(l,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),ou.call(this),this},flyToBounds:function(l,m){var b=this._getBoundsCenterZoom(l,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(l){return l=W(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var m=this.options.minZoom;return this.options.minZoom=l,this._loaded&&m!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var m=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&m!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,m){this._enforcingBounds=!0;var b=this.getCenter(),C=this._limitCenter(b,this._zoom,W(l));return b.equals(C)||this.panTo(C,m),this._enforcingBounds=!1,this},panInside:function(l,m){m=m||{};var b=R(m.paddingTopLeft||m.padding||[0,0]),C=R(m.paddingBottomRight||m.padding||[0,0]),k=this.project(this.getCenter()),D=this.project(l),Z=this.getPixelBounds(),ie=X([Z.min.add(b),Z.max.subtract(C)]),he=ie.getSize();if(!ie.contains(D)){this._enforcingBounds=!0;var _e=D.subtract(ie.getCenter()),Te=ie.extend(D).getSize().subtract(he);k.x+=_e.x<0?-Te.x:Te.x,k.y+=_e.y<0?-Te.y:Te.y,this.panTo(this.unproject(k),m),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=a({animate:!1,pan:!0},l===!0?{animate:!0}:l);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),C=m.divideBy(2).round(),k=b.divideBy(2).round(),D=C.subtract(k);return!D.x&&!D.y?this:(l.animate&&l.pan?this.panBy(D):(l.pan&&this._rawPanBy(D),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=a({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=u(this._handleGeolocationResponse,this),b=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,l):navigator.geolocation.getCurrentPosition(m,b,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var m=l.code,b=l.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var m=l.coords.latitude,b=l.coords.longitude,C=new oe(m,b),k=C.toBounds(l.coords.accuracy*2),D=this._locateOptions;if(D.setView){var Z=this.getBoundsZoom(k);this.setView(C,D.maxZoom?Math.min(Z,D.maxZoom):Z)}var ie={latlng:C,bounds:k,timestamp:l.timestamp};for(var he in l.coords)typeof l.coords[he]=="number"&&(ie[he]=l.coords[he]);this.fire("locationfound",ie)}},addHandler:function(l,m){if(!m)return this;var b=this[l]=new m(this);return this._handlers.push(b),this.options[l]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)_t(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,m){var b="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),C=tt("div",b,m||this._mapPane);return l&&(this._panes[l]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),m=this.unproject(l.getBottomLeft()),b=this.unproject(l.getTopRight());return new z(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,m,b){l=W(l),b=R(b||[0,0]);var C=this.getZoom()||0,k=this.getMinZoom(),D=this.getMaxZoom(),Z=l.getNorthWest(),ie=l.getSouthEast(),he=this.getSize().subtract(b),_e=X(this.project(ie,C),this.project(Z,C)).getSize(),Te=Oe.any3d?this.options.zoomSnap:1,Pe=he.x/_e.x,Xe=he.y/_e.y,on=m?Math.max(Pe,Xe):Math.min(Pe,Xe);return C=this.getScaleZoom(on,C),Te&&(C=Math.round(C/(Te/100))*(Te/100),C=m?Math.ceil(C/Te)*Te:Math.floor(C/Te)*Te),Math.max(k,Math.min(D,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,m){var b=this._getTopLeftPoint(l,m);return new H(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(l)/b.scale(m)},getScaleZoom:function(l,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var C=b.zoom(l*b.scale(m));return isNaN(C)?1/0:C},project:function(l,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(me(l),m)},unproject:function(l,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(R(l),m)},layerPointToLatLng:function(l){var m=R(l).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(l){var m=this.project(me(l))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(me(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(W(l))},distance:function(l,m){return this.options.crs.distance(me(l),me(m))},containerPointToLayerPoint:function(l){return R(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return R(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var m=this.containerPointToLayerPoint(R(l));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(l)))},mouseEventToContainerPoint:function(l){return fa(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var m=this._container=Hl(l);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(m,"scroll",this._onScroll,this),this._containerId=f(m)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Ge(l,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=oa(l,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(l.markerPane,"leaflet-zoom-hide"),Ge(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,m,b){Ct(this._mapPane,new Y(0,0));var C=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var k=this._zoom!==m;this._moveStart(k,b)._move(l,m)._moveEnd(k),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(l,m){return l&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(l,m,b,C){m===void 0&&(m=this._zoom);var k=this._zoom!==m;return this._zoom=m,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),C?b&&b.pinch&&this.fire("zoom",b):((k||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Ct(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[f(this._container)]=this;var m=l?pt:Fe;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,m){for(var b=[],C,k=m==="mouseout"||m==="mouseover",D=l.target||l.srcElement,Z=!1;D;){if(C=this._targets[f(D)],C&&(m==="click"||m==="preclick")&&this._draggableMoved(C)){Z=!0;break}if(C&&C.listens(m,!0)&&(k&&!Ii(D,l)||(b.push(C),k))||D===this._container)break;D=D.parentNode}return!b.length&&!Z&&!k&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var m=l.target||l.srcElement;if(!(!this._loaded||m._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(m))){var b=l.type;b==="mousedown"&&cs(m),this._fireDOMEvent(l,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,m,b){if(l.type==="click"){var C=a({},l);C.type="preclick",this._fireDOMEvent(C,C.type,b)}var k=this._findEventTargets(l,m);if(b){for(var D=[],Z=0;Z<b.length;Z++)b[Z].listens(m,!0)&&D.push(b[Z]);k=D.concat(k)}if(k.length){m==="contextmenu"&&Ht(l);var ie=k[0],he={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var _e=ie.getLatLng&&(!ie._radius||ie._radius<=10);he.containerPoint=_e?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(l),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=_e?ie.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(Z=0;Z<k.length;Z++)if(k[Z].fire(m,he,!0),he.originalEvent._stopped||k[Z].options.bubblingMouseEvents===!1&&U(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,m=this._handlers.length;l<m;l++)this._handlers[l].disable()},whenReady:function(l,m){return this._loaded?l.call(m||this,{target:this}):this.on("load",l,m),this},_getMapPanePos:function(){return rr(this._mapPane)||new Y(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,m){var b=l&&m!==void 0?this._getNewPixelOrigin(l,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,m){var b=this.getSize()._divideBy(2);return this.project(l,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,m,b){var C=this._getNewPixelOrigin(b,m);return this.project(l,m)._subtract(C)},_latLngBoundsToNewLayerBounds:function(l,m,b){var C=this._getNewPixelOrigin(b,m);return X([this.project(l.getSouthWest(),m)._subtract(C),this.project(l.getNorthWest(),m)._subtract(C),this.project(l.getSouthEast(),m)._subtract(C),this.project(l.getNorthEast(),m)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,m,b){if(!b)return l;var C=this.project(l,m),k=this.getSize().divideBy(2),D=new H(C.subtract(k),C.add(k)),Z=this._getBoundsOffset(D,b,m);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?l:this.unproject(C.add(Z),m)},_limitOffset:function(l,m){if(!m)return l;var b=this.getPixelBounds(),C=new H(b.min.add(l),b.max.add(l));return l.add(this._getBoundsOffset(C,m))},_getBoundsOffset:function(l,m,b){var C=X(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),k=C.min.subtract(l.min),D=C.max.subtract(l.max),Z=this._rebound(k.x,-D.x),ie=this._rebound(k.y,-D.y);return new Y(Z,ie)},_rebound:function(l,m){return l+m>0?Math.round(l-m)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(m))},_limitZoom:function(l){var m=this.getMinZoom(),b=this.getMaxZoom(),C=Oe.any3d?this.options.zoomSnap:1;return C&&(l=Math.round(l/C)*C),Math.max(m,Math.min(b,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,m){var b=this._getCenterOffset(l)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var l=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(m){var b=ir,C=this._proxy.style[b];Bi(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),C===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),m=this.getZoom();Bi(this._proxy,this.project(l,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(m),k=this._getCenterOffset(l)._divideBy(1-1/C);return b.animate!==!0&&!this.getSize().contains(k)?!1:($(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(l,m,!0)},this),!0)},_animateZoom:function(l,m,b,C){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=m,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:m,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Kl(l,m){return new st(l,m)}var Nn=re.extend({options:{position:"topright"},initialize:function(l){E(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var m=this._map;return m&&m.removeControl(this),this.options.position=l,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var m=this._container=this.onAdd(l),b=this.getPosition(),C=l._controlCorners[b];return Ge(m,"leaflet-control"),b.indexOf("bottom")!==-1?C.insertBefore(m,C.firstChild):C.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Ui=function(l){return new Nn(l)};st.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},m="leaflet-",b=this._controlContainer=tt("div",m+"control-container",this._container);function C(k,D){var Z=m+k+" "+m+D;l[k+D]=tt("div",Z,b)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)_t(this._controlCorners[l]);_t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ma=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,m,b,C){return b<C?-1:C<b?1:0}},initialize:function(l,m,b){E(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in l)this._addLayer(l[C],C);for(C in m)this._addLayer(m[C],C,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Nn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,m){return this._addLayer(l,m),this._map?this._update():this},addOverlay:function(l,m){return this._addLayer(l,m,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var m=this._getLayer(f(l));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",m=this._container=tt("div",l),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Pr(m),vi(m);var C=this._section=tt("section",l+"-list");b&&(this._map.on("click",this.collapse,this),Fe(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=tt("a",l+"-toggle",m);k.href="#",k.title="Layers",k.setAttribute("role","button"),Fe(k,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Ht(D),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=tt("div",l+"-base",C),this._separator=tt("div",l+"-separator",C),this._overlaysList=tt("div",l+"-overlays",C),m.appendChild(C)},_getLayer:function(l){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&f(this._layers[m].layer)===l)return this._layers[m]},_addLayer:function(l,m,b){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(u(function(C,k){return this.options.sortFunction(C.layer,k.layer,C.name,k.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;In(this._baseLayersList),In(this._overlaysList),this._layerControlInputs=[];var l,m,b,C,k=0;for(b=0;b<this._layers.length;b++)C=this._layers[b],this._addItem(C),m=m||C.overlay,l=l||!C.overlay,k+=C.overlay?0:1;return this.options.hideSingleBase&&(l=l&&k>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=m&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var m=this._getLayer(f(l.target)),b=m.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(l,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(m?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=b,C.firstChild},_addItem:function(l){var m=document.createElement("label"),b=this._map.hasLayer(l.layer),C;l.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=b):C=this._createRadioElement("leaflet-base-layers_"+f(this),b),this._layerControlInputs.push(C),C.layerId=f(l.layer),Fe(C,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+l.name;var D=document.createElement("span");m.appendChild(D),D.appendChild(C),D.appendChild(k);var Z=l.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,m,b,C=[],k=[];this._handlingClick=!0;for(var D=l.length-1;D>=0;D--)m=l[D],b=this._getLayer(m.layerId).layer,m.checked?C.push(b):m.checked||k.push(b);for(D=0;D<k.length;D++)this._map.hasLayer(k[D])&&this._map.removeLayer(k[D]);for(D=0;D<C.length;D++)this._map.hasLayer(C[D])||this._map.addLayer(C[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,m,b,C=this._map.getZoom(),k=l.length-1;k>=0;k--)m=l[k],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&C<b.options.minZoom||b.options.maxZoom!==void 0&&C>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Fe(l,"click",Ht),this.expand();var m=this;setTimeout(function(){pt(l,"click",Ht),m._preventClick=!1})}}),Qc=function(l,m,b){return new ma(l,m,b)},Wl=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var m="leaflet-control-zoom",b=tt("div",m+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,m,b,C,k){var D=tt("a",b,C);return D.innerHTML=l,D.href="#",D.title=m,D.setAttribute("role","button"),D.setAttribute("aria-label",m),Pr(D),Fe(D,"click",sr),Fe(D,"click",k,this),Fe(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var l=this._map,m="leaflet-disabled";Nt(this._zoomInButton,m),Nt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ge(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ge(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wl,this.addControl(this.zoomControl))});var Df=function(l){return new Wl(l)},eh=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var m="leaflet-control-scale",b=tt("div",m),C=this.options;return this._addScales(C,m+"-line",b),l.on(C.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),b},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,m,b){l.metric&&(this._mScale=tt("div",m,b)),l.imperial&&(this._iScale=tt("div",m,b))},_update:function(){var l=this._map,m=l.getSize().y/2,b=l.distance(l.containerPointToLatLng([0,m]),l.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var m=this._getRoundNum(l),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/l)},_updateImperial:function(l){var m=l*3.2808399,b,C,k;m>5280?(b=m/5280,C=this._getRoundNum(b),this._updateScale(this._iScale,C+" mi",C/b)):(k=this._getRoundNum(m),this._updateScale(this._iScale,k+" ft",k/m))},_updateScale:function(l,m,b){l.style.width=Math.round(this.options.maxWidth*b)+"px",l.innerHTML=m},_getRoundNum:function(l){var m=Math.pow(10,(Math.floor(l)+"").length-1),b=l/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),Yl=function(l){return new eh(l)},zf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xl=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?zf+" ":"")+"Leaflet</a>"},initialize:function(l){E(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),Pr(this._container);for(var m in l._layers)l._layers[m].getAttribution&&this.addAttribution(l._layers[m].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var m in this._attributions)this._attributions[m]&&l.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),l.length&&b.push(l.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Xl().addTo(this)});var Bf=function(l){return new Xl(l)};Nn.Layers=ma,Nn.Zoom=Wl,Nn.Scale=eh,Nn.Attribution=Xl,Ui.layers=Qc,Ui.zoom=Df,Ui.scale=Yl,Ui.attribution=Bf;var bi=re.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bi.addTo=function(l,m){return l.addHandler(m,this),this};var If={Events:F},Jl=Oe.touch?"touchstart mousedown":"mousedown",ar=ee.extend({options:{clickTolerance:3},initialize:function(l,m,b,C){E(this,C),this._element=l,this._dragStartTarget=m||l,this._preventOutline=b},enable:function(){this._enabled||(Fe(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ar._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Fl(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){ar._dragging===this&&this.finishDrag();return}if(!(ar._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(ar._dragging=this,this._preventOutline&&cs(this._element),co(),ls(),!this._moving)){this.fire("down");var m=l.touches?l.touches[0]:l,b=fo(this._element);this._startPoint=new Y(m.clientX,m.clientY),this._startPos=rr(this._element),this._parentScale=ca(b);var C=l.type==="mousedown";Fe(document,C?"mousemove":"touchmove",this._onMove,this),Fe(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var m=l.touches&&l.touches.length===1?l.touches[0]:l,b=new Y(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Ht(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ge(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Ct(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),ua(),yi();var m=this._moved&&this._moving;this._moving=!1,ar._dragging=!1,m&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function th(l,m,b){var C,k=[1,4,2,8],D,Z,ie,he,_e,Te,Pe,Xe;for(D=0,Te=l.length;D<Te;D++)l[D]._code=Rr(l[D],m);for(ie=0;ie<4;ie++){for(Pe=k[ie],C=[],D=0,Te=l.length,Z=Te-1;D<Te;Z=D++)he=l[D],_e=l[Z],he._code&Pe?_e._code&Pe||(Xe=po(_e,he,Pe,m,b),Xe._code=Rr(Xe,m),C.push(Xe)):(_e._code&Pe&&(Xe=po(_e,he,Pe,m,b),Xe._code=Rr(Xe,m),C.push(Xe)),C.push(he));l=C}return l}function nh(l,m){var b,C,k,D,Z,ie,he,_e,Te;if(!l||l.length===0)throw new Error("latlngs not passed");Vn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Pe=me([0,0]),Xe=W(l),on=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());on<1700&&(Pe=Ql(l));var Ft=l.length,Mn=[];for(b=0;b<Ft;b++){var ut=me(l[b]);Mn.push(m.project(me([ut.lat-Pe.lat,ut.lng-Pe.lng])))}for(ie=he=_e=0,b=0,C=Ft-1;b<Ft;C=b++)k=Mn[b],D=Mn[C],Z=k.y*D.x-D.y*k.x,he+=(k.x+D.x)*Z,_e+=(k.y+D.y)*Z,ie+=Z*3;ie===0?Te=Mn[0]:Te=[he/ie,_e/ie];var ct=m.unproject(R(Te));return me([ct.lat+Pe.lat,ct.lng+Pe.lng])}function Ql(l){for(var m=0,b=0,C=0,k=0;k<l.length;k++){var D=me(l[k]);m+=D.lat,b+=D.lng,C++}return me([m/C,b/C])}var eu={__proto__:null,clipPolygon:th,polygonCenter:nh,centroid:Ql};function ih(l,m){if(!m||!l.length)return l.slice();var b=m*m;return l=Vf(l,b),l=sh(l,b),l}function rh(l,m,b){return Math.sqrt(pa(l,m,b,!0))}function Uf(l,m,b){return pa(l,m,b)}function sh(l,m){var b=l.length,C=typeof Uint8Array<"u"?Uint8Array:Array,k=new C(b);k[0]=k[b-1]=1,tu(l,k,m,0,b-1);var D,Z=[];for(D=0;D<b;D++)k[D]&&Z.push(l[D]);return Z}function tu(l,m,b,C,k){var D=0,Z,ie,he;for(ie=C+1;ie<=k-1;ie++)he=pa(l[ie],l[C],l[k],!0),he>D&&(Z=ie,D=he);D>b&&(m[Z]=1,tu(l,m,b,C,Z),tu(l,m,b,Z,k))}function Vf(l,m){for(var b=[l[0]],C=1,k=0,D=l.length;C<D;C++)Hf(l[C],l[k])>m&&(b.push(l[C]),k=C);return k<D-1&&b.push(l[D-1]),b}var ah;function oh(l,m,b,C,k){var D=C?ah:Rr(l,b),Z=Rr(m,b),ie,he,_e;for(ah=Z;;){if(!(D|Z))return[l,m];if(D&Z)return!1;ie=D||Z,he=po(l,m,ie,b,k),_e=Rr(he,b),ie===D?(l=he,D=_e):(m=he,Z=_e)}}function po(l,m,b,C,k){var D=m.x-l.x,Z=m.y-l.y,ie=C.min,he=C.max,_e,Te;return b&8?(_e=l.x+D*(he.y-l.y)/Z,Te=he.y):b&4?(_e=l.x+D*(ie.y-l.y)/Z,Te=ie.y):b&2?(_e=he.x,Te=l.y+Z*(he.x-l.x)/D):b&1&&(_e=ie.x,Te=l.y+Z*(ie.x-l.x)/D),new Y(_e,Te,k)}function Rr(l,m){var b=0;return l.x<m.min.x?b|=1:l.x>m.max.x&&(b|=2),l.y<m.min.y?b|=4:l.y>m.max.y&&(b|=8),b}function Hf(l,m){var b=m.x-l.x,C=m.y-l.y;return b*b+C*C}function pa(l,m,b,C){var k=m.x,D=m.y,Z=b.x-k,ie=b.y-D,he=Z*Z+ie*ie,_e;return he>0&&(_e=((l.x-k)*Z+(l.y-D)*ie)/he,_e>1?(k=b.x,D=b.y):_e>0&&(k+=Z*_e,D+=ie*_e)),Z=l.x-k,ie=l.y-D,C?Z*Z+ie*ie:new Y(k,D)}function Vn(l){return!M(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function go(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(l)}function fs(l,m){var b,C,k,D,Z,ie,he,_e;if(!l||l.length===0)throw new Error("latlngs not passed");Vn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Te=me([0,0]),Pe=W(l),Xe=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Xe<1700&&(Te=Ql(l));var on=l.length,Ft=[];for(b=0;b<on;b++){var Mn=me(l[b]);Ft.push(m.project(me([Mn.lat-Te.lat,Mn.lng-Te.lng])))}for(b=0,C=0;b<on-1;b++)C+=Ft[b].distanceTo(Ft[b+1])/2;if(C===0)_e=Ft[0];else for(b=0,D=0;b<on-1;b++)if(Z=Ft[b],ie=Ft[b+1],k=Z.distanceTo(ie),D+=k,D>C){he=(D-C)/k,_e=[ie.x-he*(ie.x-Z.x),ie.y-he*(ie.y-Z.y)];break}var ut=m.unproject(R(_e));return me([ut.lat+Te.lat,ut.lng+Te.lng])}var Ff={__proto__:null,simplify:ih,pointToSegmentDistance:rh,closestPointOnSegment:Uf,clipSegment:oh,_getEdgeIntersection:po,_getBitCode:Rr,_sqClosestPointOnSegment:pa,isFlat:Vn,_flat:go,polylineCenter:fs},yo={project:function(l){return new Y(l.lng,l.lat)},unproject:function(l){return new oe(l.y,l.x)},bounds:new H([-180,-90],[180,90])},vo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var m=Math.PI/180,b=this.R,C=l.lat*m,k=this.R_MINOR/b,D=Math.sqrt(1-k*k),Z=D*Math.sin(C),ie=Math.tan(Math.PI/4-C/2)/Math.pow((1-Z)/(1+Z),D/2);return C=-b*Math.log(Math.max(ie,1e-10)),new Y(l.lng*m*b,C)},unproject:function(l){for(var m=180/Math.PI,b=this.R,C=this.R_MINOR/b,k=Math.sqrt(1-C*C),D=Math.exp(-l.y/b),Z=Math.PI/2-2*Math.atan(D),ie=0,he=.1,_e;ie<15&&Math.abs(he)>1e-7;ie++)_e=k*Math.sin(Z),_e=Math.pow((1-_e)/(1+_e),k/2),he=Math.PI/2-2*Math.atan(D*_e)-Z,Z+=he;return new oe(Z*m,l.x*m/b)}},lh={__proto__:null,LonLat:yo,Mercator:vo,SphericalMercator:ke},uh=a({},Re,{code:"EPSG:3395",projection:vo,transformation:(function(){var l=.5/(Math.PI*vo.R);return De(l,.5,-l,.5)})()}),nu=a({},Re,{code:"EPSG:4326",projection:yo,transformation:De(1/180,1,-1/180,.5)}),ms=a({},Ce,{projection:yo,transformation:De(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,m){var b=m.lng-l.lng,C=m.lat-l.lat;return Math.sqrt(b*b+C*C)},infinite:!0});Ce.Earth=Re,Ce.EPSG3395=uh,Ce.EPSG3857=He,Ce.EPSG900913=gt,Ce.EPSG4326=nu,Ce.Simple=ms;var si=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[f(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[f(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var m=l.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});st.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var m=f(l);return this._layers[m]?this:(this._layers[m]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var m=f(l);return this._layers[m]?(this._loaded&&l.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return f(l)in this._layers},eachLayer:function(l,m){for(var b in this._layers)l.call(m,this._layers[b]);return this},_addLayers:function(l){l=l?M(l)?l:[l]:[];for(var m=0,b=l.length;m<b;m++)this.addLayer(l[m])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[f(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var m=f(l);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,m=-1/0,b=this._getZoomSpan();for(var C in this._zoomBoundLayers){var k=this._zoomBoundLayers[C].options;l=k.minZoom===void 0?l:Math.min(l,k.minZoom),m=k.maxZoom===void 0?m:Math.max(m,k.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=l===1/0?void 0:l,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ps=si.extend({initialize:function(l,m){E(this,m),this._layers={};var b,C;if(l)for(b=0,C=l.length;b<C;b++)this.addLayer(l[b])},addLayer:function(l){var m=this.getLayerId(l);return this._layers[m]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var m=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(l){var m=typeof l=="number"?l:this.getLayerId(l);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var m=Array.prototype.slice.call(arguments,1),b,C;for(b in this._layers)C=this._layers[b],C[l]&&C[l].apply(C,m);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,m){for(var b in this._layers)l.call(m,this._layers[b]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return f(l)}}),qf=function(l,m){return new ps(l,m)},_i=ps.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),ps.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),ps.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new z;for(var m in this._layers){var b=this._layers[m];l.extend(b.getBounds?b.getBounds():b.getLatLng())}return l}}),ch=function(l,m){return new _i(l,m)},xi=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){E(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,m){var b=this._getIconUrl(l);if(!b){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(C,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(l,m){var b=this.options,C=b[m+"Size"];typeof C=="number"&&(C=[C,C]);var k=R(C),D=R(m==="shadow"&&b.shadowAnchor||b.iconAnchor||k&&k.divideBy(2,!0));l.className="leaflet-marker-"+m+" "+(b.className||""),D&&(l.style.marginLeft=-D.x+"px",l.style.marginTop=-D.y+"px"),k&&(l.style.width=k.x+"px",l.style.height=k.y+"px")},_createImg:function(l,m){return m=m||document.createElement("img"),m.src=l,m},_getIconUrl:function(l){return Oe.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function ga(l){return new xi(l)}var ya=xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof ya.imagePath!="string"&&(ya.imagePath=this._detectIconPath()),(this.options.imagePath||ya.imagePath)+xi.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var m=function(b,C,k){var D=C.exec(b);return D&&D[k]};return l=m(l,/^url\((['"])?(.+)\1\)$/,2),l&&m(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=tt("div","leaflet-default-icon-path",document.body),m=oa(l,"background-image")||oa(l,"backgroundImage");if(document.body.removeChild(l),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),va=bi.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new ar(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var m=this._marker,b=m._map,C=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,D=rr(m._icon),Z=b.getPixelBounds(),ie=b.getPixelOrigin(),he=X(Z.min._subtract(ie).add(k),Z.max._subtract(ie).subtract(k));if(!he.contains(D)){var _e=R((Math.max(he.max.x,D.x)-he.max.x)/(Z.max.x-he.max.x)-(Math.min(he.min.x,D.x)-he.min.x)/(Z.min.x-he.min.x),(Math.max(he.max.y,D.y)-he.max.y)/(Z.max.y-he.max.y)-(Math.min(he.min.y,D.y)-he.min.y)/(Z.min.y-he.min.y)).multiplyBy(C);b.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),Ct(m._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=$(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,l)))},_onDrag:function(l){var m=this._marker,b=m._shadow,C=rr(m._icon),k=m._map.layerPointToLatLng(C);b&&Ct(b,C),m._latlng=k,l.latlng=k,l.oldLatLng=this._oldLatLng,m.fire("move",l).fire("drag",l)},_onDragEnd:function(l){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ba=si.extend({options:{icon:new ya,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,m){E(this,m),this._latlng=me(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var m=this._latlng;return this._latlng=me(l),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=l.icon.createIcon(this._icon),C=!1;b!==this._icon&&(this._icon&&this._removeIcon(),C=!0,l.title&&(b.title=l.title),b.tagName==="IMG"&&(b.alt=l.alt||"")),Ge(b,m),l.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(b,"focus",this._panOnFocus,this);var k=l.icon.createShadow(this._shadow),D=!1;k!==this._shadow&&(this._removeShadow(),D=!0),k&&(Ge(k,m),k.alt=""),this._shadow=k,l.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&D&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),_t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_t(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Ct(this._icon,l),this._shadow&&Ct(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),va)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new va(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Lt(this._icon,l),this._shadow&&Lt(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var m=this.options.icon.options,b=m.iconSize?R(m.iconSize):R(0,0),C=m.iconAnchor?R(m.iconAnchor):R(0,0);l.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:b.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hh(l,m){return new ba(l,m)}var wi=si.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return E(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gs=wi.extend({options:{fill:!0,radius:10},initialize:function(l,m){E(this,m),this._latlng=me(l),this._radius=this.options.radius},setLatLng:function(l){var m=this._latlng;return this._latlng=me(l),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var m=l&&l.radius||this._radius;return wi.prototype.setStyle.call(this,l),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,m=this._radiusY||l,b=this._clickTolerance(),C=[l+b,m+b];this._pxBounds=new H(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dh(l,m){return new gs(l,m)}var bo=gs.extend({initialize:function(l,m,b){if(typeof m=="number"&&(m=a({},b,{radius:m})),E(this,m),this._latlng=me(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:wi.prototype.setStyle,_project:function(){var l=this._latlng.lng,m=this._latlng.lat,b=this._map,C=b.options.crs;if(C.distance===Re.distance){var k=Math.PI/180,D=this._mRadius/Re.R/k,Z=b.project([m+D,l]),ie=b.project([m-D,l]),he=Z.add(ie).divideBy(2),_e=b.unproject(he).lat,Te=Math.acos((Math.cos(D*k)-Math.sin(m*k)*Math.sin(_e*k))/(Math.cos(m*k)*Math.cos(_e*k)))/k;(isNaN(Te)||Te===0)&&(Te=D/Math.cos(Math.PI/180*m)),this._point=he.subtract(b.getPixelOrigin()),this._radius=isNaN(Te)?0:he.x-b.project([_e,l-Te]).x,this._radiusY=he.y-Z.y}else{var Pe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Pe).x}this._updateBounds()}});function fh(l,m,b){return new bo(l,m,b)}var Vi=wi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,m){E(this,m),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var m=1/0,b=null,C=pa,k,D,Z=0,ie=this._parts.length;Z<ie;Z++)for(var he=this._parts[Z],_e=1,Te=he.length;_e<Te;_e++){k=he[_e-1],D=he[_e];var Pe=C(l,k,D,!0);Pe<m&&(m=Pe,b=C(l,k,D))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,m){return m=m||this._defaultShape(),l=me(l),m.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new z,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var m=[],b=Vn(l),C=0,k=l.length;C<k;C++)b?(m[C]=me(l[C]),this._bounds.extend(m[C])):m[C]=this._convertLatLngs(l[C]);return m},_project:function(){var l=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),m=new Y(l,l);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(l,m,b){var C=l[0]instanceof oe,k=l.length,D,Z;if(C){for(Z=[],D=0;D<k;D++)Z[D]=this._map.latLngToLayerPoint(l[D]),b.extend(Z[D]);m.push(Z)}else for(D=0;D<k;D++)this._projectLatlngs(l[D],m,b)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,C,k,D,Z,ie,he;for(b=0,k=0,D=this._rings.length;b<D;b++)for(he=this._rings[b],C=0,Z=he.length;C<Z-1;C++)ie=oh(he[C],he[C+1],l,C,!0),ie&&(m[k]=m[k]||[],m[k].push(ie[0]),(ie[1]!==he[C+1]||C===Z-2)&&(m[k].push(ie[1]),k++))}},_simplifyPoints:function(){for(var l=this._parts,m=this.options.smoothFactor,b=0,C=l.length;b<C;b++)l[b]=ih(l[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,m){var b,C,k,D,Z,ie,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(b=0,D=this._parts.length;b<D;b++)for(ie=this._parts[b],C=0,Z=ie.length,k=Z-1;C<Z;k=C++)if(!(!m&&C===0)&&rh(l,ie[k],ie[C])<=he)return!0;return!1}});function $f(l,m){return new Vi(l,m)}Vi._flat=go;var ys=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var m=Vi.prototype._convertLatLngs.call(this,l),b=m.length;return b>=2&&m[0]instanceof oe&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(l){Vi.prototype._setLatLngs.call(this,l),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,m=this.options.weight,b=new Y(m,m);if(l=new H(l.min.subtract(b),l.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,k=this._rings.length,D;C<k;C++)D=th(this._rings[C],l,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var m=!1,b,C,k,D,Z,ie,he,_e;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(D=0,he=this._parts.length;D<he;D++)for(b=this._parts[D],Z=0,_e=b.length,ie=_e-1;Z<_e;ie=Z++)C=b[Z],k=b[ie],C.y>l.y!=k.y>l.y&&l.x<(k.x-C.x)*(l.y-C.y)/(k.y-C.y)+C.x&&(m=!m);return m||Vi.prototype._containsPoint.call(this,l,!0)}});function Zf(l,m){return new ys(l,m)}var Hi=_i.extend({initialize:function(l,m){E(this,m),this._layers={},l&&this.addData(l)},addData:function(l){var m=M(l)?l:l.features,b,C,k;if(m){for(b=0,C=m.length;b<C;b++)k=m[b],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var D=this.options;if(D.filter&&!D.filter(l))return this;var Z=fn(l,D);return Z?(Z.feature=wo(l),Z.defaultOptions=Z.options,this.resetStyle(Z),D.onEachFeature&&D.onEachFeature(l,Z),this.addLayer(Z)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=a({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(m){this._setLayerStyle(m,l)},this)},_setLayerStyle:function(l,m){l.setStyle&&(typeof m=="function"&&(m=m(l.feature)),l.setStyle(m))}});function fn(l,m){var b=l.type==="Feature"?l.geometry:l,C=b?b.coordinates:null,k=[],D=m&&m.pointToLayer,Z=m&&m.coordsToLatLng||_o,ie,he,_e,Te;if(!C&&!b)return null;switch(b.type){case"Point":return ie=Z(C),vs(D,l,ie,m);case"MultiPoint":for(_e=0,Te=C.length;_e<Te;_e++)ie=Z(C[_e]),k.push(vs(D,l,ie,m));return new _i(k);case"LineString":case"MultiLineString":return he=_a(C,b.type==="LineString"?0:1,Z),new Vi(he,m);case"Polygon":case"MultiPolygon":return he=_a(C,b.type==="Polygon"?1:2,Z),new ys(he,m);case"GeometryCollection":for(_e=0,Te=b.geometries.length;_e<Te;_e++){var Pe=fn({geometry:b.geometries[_e],type:"Feature",properties:l.properties},m);Pe&&k.push(Pe)}return new _i(k);case"FeatureCollection":for(_e=0,Te=b.features.length;_e<Te;_e++){var Xe=fn(b.features[_e],m);Xe&&k.push(Xe)}return new _i(k);default:throw new Error("Invalid GeoJSON object.")}}function vs(l,m,b,C){return l?l(m,b):new ba(b,C&&C.markersInheritOptions&&C)}function _o(l){return new oe(l[1],l[0],l[2])}function _a(l,m,b){for(var C=[],k=0,D=l.length,Z;k<D;k++)Z=m?_a(l[k],m-1,b):(b||_o)(l[k]),C.push(Z);return C}function xo(l,m){return l=me(l),l.alt!==void 0?[w(l.lng,m),w(l.lat,m),w(l.alt,m)]:[w(l.lng,m),w(l.lat,m)]}function xa(l,m,b,C){for(var k=[],D=0,Z=l.length;D<Z;D++)k.push(m?xa(l[D],Vn(l[D])?0:m-1,b,C):xo(l[D],C));return!m&&b&&k.length>0&&k.push(k[0].slice()),k}function or(l,m){return l.feature?a({},l.feature,{geometry:m}):wo(m)}function wo(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var lr={toGeoJSON:function(l){return or(this,{type:"Point",coordinates:xo(this.getLatLng(),l)})}};ba.include(lr),bo.include(lr),gs.include(lr),Vi.include({toGeoJSON:function(l){var m=!Vn(this._latlngs),b=xa(this._latlngs,m?1:0,!1,l);return or(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),ys.include({toGeoJSON:function(l){var m=!Vn(this._latlngs),b=m&&!Vn(this._latlngs[0]),C=xa(this._latlngs,b?2:m?1:0,!0,l);return m||(C=[C]),or(this,{type:(b?"Multi":"")+"Polygon",coordinates:C})}}),ps.include({toMultiPoint:function(l){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(l).geometry.coordinates)}),or(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(l){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(l);var b=m==="GeometryCollection",C=[];return this.eachLayer(function(k){if(k.toGeoJSON){var D=k.toGeoJSON(l);if(b)C.push(D.geometry);else{var Z=wo(D);Z.type==="FeatureCollection"?C.push.apply(C,Z.features):C.push(Z)}}}),b?or(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function So(l,m){return new Hi(l,m)}var wa=So,bs=si.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,m,b){this._url=l,this._bounds=W(m),E(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&an(this._image),this},bringToBack:function(){return this._map&&Mr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=W(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",m=this._image=l?this._url:tt("img");if(Ge(m,"leaflet-image-layer"),this._zoomAnimated&&Ge(m,"leaflet-zoom-animated"),this.options.className&&Ge(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=u(this.fire,this,"load"),m.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(l){var m=this._map.getZoomScale(l.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Bi(this._image,b,m)},_reset:function(){var l=this._image,m=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Ct(l,m.min),l.style.width=b.x+"px",l.style.height=b.y+"px"},_updateOpacity:function(){Lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),mh=function(l,m,b){return new bs(l,m,b)},ur=bs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",m=this._image=l?this._url:tt("video");if(Ge(m,"leaflet-image-layer"),this._zoomAnimated&&Ge(m,"leaflet-zoom-animated"),this.options.className&&Ge(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=u(this.fire,this,"load"),l){for(var b=m.getElementsByTagName("source"),C=[],k=0;k<b.length;k++)C.push(b[k].src);this._url=b.length>0?C:[m.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var Z=tt("source");Z.src=this._url[D],m.appendChild(Z)}}});function _s(l,m,b){return new ur(l,m,b)}var Co=bs.extend({_initImage:function(){var l=this._image=this._url;Ge(l,"leaflet-image-layer"),this._zoomAnimated&&Ge(l,"leaflet-zoom-animated"),this.options.className&&Ge(l,this.options.className),l.onselectstart=v,l.onmousemove=v}});function ph(l,m,b){return new Co(l,m,b)}var mn=si.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,m){l&&(l instanceof oe||M(l))?(this._latlng=me(l),E(this,m)):(E(this,l),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Lt(this._container,1),this.bringToFront(),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Lt(this._container,0),this._removeTimeout=setTimeout(u(_t,void 0,this._container),200)):_t(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=me(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&an(this._container),this},bringToBack:function(){return this._map&&Mr(this._container),this},_prepareOpen:function(l){var m=this._source;if(!m._map)return!1;if(m instanceof _i){m=null;var b=this._source._layers;for(var C in b)if(b[C]._map){m=b[C];break}if(!m)return!1;this._source=m}if(!l)if(m.getCenter)l=m.getCenter();else if(m.getLatLng)l=m.getLatLng();else if(m.getBounds)l=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")l.innerHTML=m;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),m=R(this.options.offset),b=this._getAnchor();this._zoomAnimated?Ct(this._container,l.add(b)):m=m.add(l).add(b);var C=this._containerBottom=-m.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=C+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(l,m,b,C){var k=m;return k instanceof l||(k=new l(C).setContent(m)),b&&k.setLatLng(b),k}}),si.include({_initOverlay:function(l,m,b,C){var k=b;return k instanceof l?(E(k,C),k._source=this):(k=m&&!C?m:new l(C,this),k.setContent(b)),k}});var Sa=mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,mn.prototype.openOn.call(this,l)},onAdd:function(l){mn.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wi||this._source.on("preclick",ri))},onRemove:function(l){mn.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wi||this._source.off("preclick",ri))},getEvents:function(){var l=mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",m=this._container=tt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=tt("div",l+"-content-wrapper",m);if(this._contentNode=tt("div",l+"-content",b),Pr(m),vi(this._contentNode),Fe(m,"contextmenu",ri),this._tipContainer=tt("div",l+"-tip-container",m),this._tip=tt("div",l+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=tt("a",l+"-close-button",m);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(C,"click",function(k){Ht(k),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,m=l.style;m.width="",m.whiteSpace="nowrap";var b=l.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var C=l.offsetHeight,k=this.options.maxHeight,D="leaflet-popup-scrolled";k&&C>k?(m.height=k+"px",Ge(l,D)):Nt(l,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),b=this._getAnchor();Ct(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,m=parseInt(oa(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,C=this._containerWidth,k=new Y(this._containerLeft,-b-this._containerBottom);k._add(rr(this._container));var D=l.layerPointToContainerPoint(k),Z=R(this.options.autoPanPadding),ie=R(this.options.autoPanPaddingTopLeft||Z),he=R(this.options.autoPanPaddingBottomRight||Z),_e=l.getSize(),Te=0,Pe=0;D.x+C+he.x>_e.x&&(Te=D.x+C-_e.x+he.x),D.x-Te-ie.x<0&&(Te=D.x-ie.x),D.y+b+he.y>_e.y&&(Pe=D.y+b-_e.y+he.y),D.y-Pe-ie.y<0&&(Pe=D.y-ie.y),(Te||Pe)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Te,Pe]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gh=function(l,m){return new Sa(l,m)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(l,m,b){return this._initOverlay(Sa,l,m,b).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),si.include({bindPopup:function(l,m){return this._popup=this._initOverlay(Sa,this._popup,l,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof _i||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){sr(l);var m=l.layer||l.target;if(this._popup._source===m&&!(m instanceof wi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=m,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Ca=mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){mn.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){mn.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=mn.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",m=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var m,b,C=this._map,k=this._container,D=C.latLngToContainerPoint(C.getCenter()),Z=C.layerPointToContainerPoint(l),ie=this.options.direction,he=k.offsetWidth,_e=k.offsetHeight,Te=R(this.options.offset),Pe=this._getAnchor();ie==="top"?(m=he/2,b=_e):ie==="bottom"?(m=he/2,b=0):ie==="center"?(m=he/2,b=_e/2):ie==="right"?(m=0,b=_e/2):ie==="left"?(m=he,b=_e/2):Z.x<D.x?(ie="right",m=0,b=_e/2):(ie="left",m=he+(Te.x+Pe.x)*2,b=_e/2),l=l.subtract(R(m,b,!0)).add(Te).add(Pe),Nt(k,"leaflet-tooltip-right"),Nt(k,"leaflet-tooltip-left"),Nt(k,"leaflet-tooltip-top"),Nt(k,"leaflet-tooltip-bottom"),Ge(k,"leaflet-tooltip-"+ie),Ct(k,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Lt(this._container,l)},_animateZoom:function(l){var m=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(m)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gf=function(l,m){return new Ca(l,m)};st.include({openTooltip:function(l,m,b){return this._initOverlay(Ca,l,m,b).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),si.include({bindTooltip:function(l,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ca,this._tooltip,l,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var m=l?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof _i||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var m=typeof l.getElement=="function"&&l.getElement();m&&(Fe(m,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Fe(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var m=typeof l.getElement=="function"&&l.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var m=l.latlng,b,C;this._tooltip.options.sticky&&l.originalEvent&&(b=this._map.mouseEventToContainerPoint(l.originalEvent),C=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(m)}});var yh=xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var m=l&&l.tagName==="DIV"?l:document.createElement("div"),b=this.options;if(b.html instanceof Element?(In(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var C=R(b.bgPos);m.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Kf(l){return new yh(l)}xi.Default=ya;var xs=si.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){E(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),_t(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(an(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof Y?l:new Y(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var m=this.getPane().children,b=-l(-1/0,1/0),C=0,k=m.length,D;C<k;C++)D=m[C].style.zIndex,m[C]!==this._container&&D&&(b=l(b,+D));isFinite(b)&&(this.options.zIndex=b+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Lt(this._container,this.options.opacity);var l=+new Date,m=!1,b=!1;for(var C in this._tiles){var k=this._tiles[C];if(!(!k.current||!k.loaded)){var D=Math.min(1,(l-k.loaded)/200);Lt(k.el,D),D<1?m=!0:(k.active?b=!0:this._onOpaqueTile(k),k.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,m=this.options.maxZoom;if(l!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===l?(this._levels[b].el.style.zIndex=m-Math.abs(l-b),this._onUpdateLevel(b)):(_t(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var C=this._levels[l],k=this._map;return C||(C=this._levels[l]={},C.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=m,C.origin=k.project(k.unproject(k.getPixelOrigin()),l).round(),C.zoom=l,this._setZoomTransform(C,k.getCenter(),k.getZoom()),v(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var l,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)m=this._tiles[l],m.retain=m.current;for(l in this._tiles)if(m=this._tiles[l],m.current&&!m.active){var C=m.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var m in this._tiles)this._tiles[m].coords.z===l&&this._removeTile(m)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)_t(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,m,b,C){var k=Math.floor(l/2),D=Math.floor(m/2),Z=b-1,ie=new Y(+k,+D);ie.z=+Z;var he=this._tileCoordsToKey(ie),_e=this._tiles[he];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),Z>C?this._retainParent(k,D,Z,C):!1)},_retainChildren:function(l,m,b,C){for(var k=2*l;k<2*l+2;k++)for(var D=2*m;D<2*m+2;D++){var Z=new Y(k,D);Z.z=b+1;var ie=this._tileCoordsToKey(Z),he=this._tiles[ie];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);b+1<C&&this._retainChildren(k,D,b+1,C)}},_resetView:function(l){var m=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var m=this.options;return m.minNativeZoom!==void 0&&l<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<l?m.maxNativeZoom:l},_setView:function(l,m,b,C){var k=Math.round(m);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var D=this.options.updateWhenZooming&&k!==this._tileZoom;(!C||D)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(l),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(l,m)},_setZoomTransforms:function(l,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],l,m)},_setZoomTransform:function(l,m,b){var C=this._map.getZoomScale(b,l.zoom),k=l.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(m,b)).round();Oe.any3d?Bi(l.el,k,C):Ct(l.el,k)},_resetGrid:function(){var l=this._map,m=l.options.crs,b=this._tileSize=this.getTileSize(),C=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,m.wrapLng[0]],C).x/b.x),Math.ceil(l.project([0,m.wrapLng[1]],C).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([m.wrapLat[0],0],C).y/b.x),Math.ceil(l.project([m.wrapLat[1],0],C).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),C=m.getZoomScale(b,this._tileZoom),k=m.project(l,this._tileZoom).floor(),D=m.getSize().divideBy(C*2);return new H(k.subtract(D),k.add(D))},_update:function(l){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(l===void 0&&(l=m.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(l),k=this._pxBoundsToTileRange(C),D=k.getCenter(),Z=[],ie=this.options.keepBuffer,he=new H(k.getBottomLeft().subtract([ie,-ie]),k.getTopRight().add([ie,-ie]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Te=this._tiles[_e].coords;(Te.z!==this._tileZoom||!he.contains(new Y(Te.x,Te.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(l,b);return}for(var Pe=k.min.y;Pe<=k.max.y;Pe++)for(var Xe=k.min.x;Xe<=k.max.x;Xe++){var on=new Y(Xe,Pe);if(on.z=this._tileZoom,!!this._isValidTile(on)){var Ft=this._tiles[this._tileCoordsToKey(on)];Ft?Ft.current=!0:Z.push(on)}}if(Z.sort(function(ut,ct){return ut.distanceTo(D)-ct.distanceTo(D)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mn=document.createDocumentFragment();for(Xe=0;Xe<Z.length;Xe++)this._addTile(Z[Xe],Mn);this._level.el.appendChild(Mn)}}}},_isValidTile:function(l){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(l.x<b.min.x||l.x>b.max.x)||!m.wrapLat&&(l.y<b.min.y||l.y>b.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(l);return W(this.options.bounds).overlaps(C)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var m=this._map,b=this.getTileSize(),C=l.scaleBy(b),k=C.add(b),D=m.unproject(C,l.z),Z=m.unproject(k,l.z);return[D,Z]},_tileCoordsToBounds:function(l){var m=this._tileCoordsToNwSe(l),b=new z(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var m=l.split(":"),b=new Y(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(l){var m=this._tiles[l];m&&(_t(m.el),delete this._tiles[l],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ge(l,"leaflet-tile");var m=this.getTileSize();l.style.width=m.x+"px",l.style.height=m.y+"px",l.onselectstart=v,l.onmousemove=v,Oe.ielt9&&this.options.opacity<1&&Lt(l,this.options.opacity)},_addTile:function(l,m){var b=this._getTilePos(l),C=this._tileCoordsToKey(l),k=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(k),this.createTile.length<2&&$(u(this._tileReady,this,l,null,k)),Ct(k,b),this._tiles[C]={el:k,coords:l,current:!0},m.appendChild(k),this.fire("tileloadstart",{tile:k,coords:l})},_tileReady:function(l,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:l});var C=this._tileCoordsToKey(l);b=this._tiles[C],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Lt(b.el,0),Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(Ge(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var m=new Y(this._wrapX?y(l.x,this._wrapX):l.x,this._wrapY?y(l.y,this._wrapY):l.y);return m.z=l.z,m},_pxBoundsToTileRange:function(l){var m=this.getTileSize();return new H(l.min.unscaleBy(m).floor(),l.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function vh(l){return new xs(l)}var cr=xs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,m){this._url=l,m=E(this,m),m.detectRetina&&Oe.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,m){return this._url===l&&m===void 0&&(m=!0),this._url=l,m||this.redraw(),this},createTile:function(l,m){var b=document.createElement("img");return Fe(b,"load",u(this._tileOnLoad,this,m,b)),Fe(b,"error",u(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(l),b},getTileUrl:function(l){var m={r:Oe.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-l.y;this.options.tms&&(m.y=b),m["-y"]=b}return P(this._url,a(m,this.options))},_tileOnLoad:function(l,m){Oe.ielt9?setTimeout(u(l,this,null,m),0):l(null,m)},_tileOnError:function(l,m,b){var C=this.options.errorTileUrl;C&&m.getAttribute("src")!==C&&(m.src=C),l(b,m)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,C=this.options.zoomOffset;return b&&(l=m-l),l+C},_getSubdomain:function(l){var m=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var l,m;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(m=this._tiles[l].el,m.onload=v,m.onerror=v,!m.complete)){m.src=V;var b=this._tiles[l].coords;_t(m),delete this._tiles[l],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(l){var m=this._tiles[l];if(m)return m.el.setAttribute("src",V),xs.prototype._removeTile.call(this,l)},_tileReady:function(l,m,b){if(!(!this._map||b&&b.getAttribute("src")===V))return xs.prototype._tileReady.call(this,l,m,b)}});function Hn(l,m){return new cr(l,m)}var ja=cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,m){this._url=l;var b=a({},this.defaultWmsParams);for(var C in m)C in this.options||(b[C]=m[C]);m=E(this,m);var k=m.detectRetina&&Oe.retina?2:1,D=this.getTileSize();b.width=D.x*k,b.height=D.y*k,this.wmsParams=b},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,cr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var m=this._tileCoordsToNwSe(l),b=this._crs,C=X(b.project(m[0]),b.project(m[1])),k=C.min,D=C.max,Z=(this._wmsVersion>=1.3&&this._crs===nu?[k.y,k.x,D.y,D.x]:[k.x,k.y,D.x,D.y]).join(","),ie=cr.prototype.getTileUrl.call(this,l);return ie+O(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(l,m){return a(this.wmsParams,l),m||this.redraw(),this}});function Fn(l,m){return new ja(l,m)}cr.WMS=ja,Hn.wms=Fn;var Cn=si.extend({options:{padding:.1},initialize:function(l){E(this,l),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,m){var b=this._map.getZoomScale(m,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,m),D=C.multiplyBy(-b).add(k).subtract(this._map._getNewPixelOrigin(l,m));Oe.any3d?Bi(this._container,D,b):Ct(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-l)).round();this._bounds=new H(b,b.add(m.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jo=Cn.extend({options:{tolerance:0},getEvents:function(){var l=Cn.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Fe(l,"mousemove",this._onMouseMove,this),Fe(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,_t(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var m in this._layers)l=this._layers[m],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var l=this._bounds,m=this._container,b=l.getSize(),C=Oe.retina?2:1;Ct(m,l.min),m.width=C*b.x,m.height=C*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[f(l)]=l;var m=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var m=l._order,b=m.next,C=m.prev;b?b.prev=C:this._drawLast=C,C?C.next=b:this._drawFirst=b,delete l._order,delete this._layers[f(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var m=l.options.dashArray.split(/[, ]+/),b=[],C,k;for(k=0;k<m.length;k++){if(C=Number(m[k]),isNaN(C))return;b.push(C)}l.options._dashArray=b}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var m=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(l._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(l._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var m=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)l=C.layer,(!m||l._pxBounds&&l._pxBounds.intersects(m))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,m){if(this._drawing){var b,C,k,D,Z=l._parts,ie=Z.length,he=this._ctx;if(ie){for(he.beginPath(),b=0;b<ie;b++){for(C=0,k=Z[b].length;C<k;C++)D=Z[b][C],he[C?"lineTo":"moveTo"](D.x,D.y);m&&he.closePath()}this._fillStroke(he,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var m=l._point,b=this._ctx,C=Math.max(Math.round(l._radius),1),k=(Math.max(Math.round(l._radiusY),1)||C)/C;k!==1&&(b.save(),b.scale(1,k)),b.beginPath(),b.arc(m.x,m.y/k,C,0,Math.PI*2,!1),k!==1&&b.restore(),this._fillStroke(b,l)}},_fillStroke:function(l,m){var b=m.options;b.fill&&(l.globalAlpha=b.fillOpacity,l.fillStyle=b.fillColor||b.color,l.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(l.setLineDash&&l.setLineDash(m.options&&m.options._dashArray||[]),l.globalAlpha=b.opacity,l.lineWidth=b.weight,l.strokeStyle=b.color,l.lineCap=b.lineCap,l.lineJoin=b.lineJoin,l.stroke())},_onClick:function(l){for(var m=this._map.mouseEventToLayerPoint(l),b,C,k=this._drawFirst;k;k=k.next)b=k.layer,b.options.interactive&&b._containsPoint(m)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(b))&&(C=b);this._fireEvent(C?[C]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,m)}},_handleMouseOut:function(l){var m=this._hoveredLayer;m&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([m],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,m){if(!this._mouseHoverThrottled){for(var b,C,k=this._drawFirst;k;k=k.next)b=k.layer,b.options.interactive&&b._containsPoint(m)&&(C=b);C!==this._hoveredLayer&&(this._handleMouseOut(l),C&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([C],l,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,m,b){this._map._fireDOMEvent(m,b||m.type,l)},_bringToFront:function(l){var m=l._order;if(m){var b=m.next,C=m.prev;if(b)b.prev=C;else return;C?C.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(l)}},_bringToBack:function(l){var m=l._order;if(m){var b=m.next,C=m.prev;if(C)C.next=b;else return;b?b.prev=C:C&&(this._drawLast=C),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(l)}}});function Ea(l){return Oe.canvas?new jo(l):null}var hr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),iu={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var m=l._container=hr("shape");Ge(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",l._path=hr("path"),m.appendChild(l._path),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){var m=l._container;this._container.appendChild(m),l.options.interactive&&l.addInteractiveTarget(m)},_removePath:function(l){var m=l._container;_t(m),l.removeInteractiveTarget(m),delete this._layers[f(l)]},_updateStyle:function(l){var m=l._stroke,b=l._fill,C=l.options,k=l._container;k.stroked=!!C.stroke,k.filled=!!C.fill,C.stroke?(m||(m=l._stroke=hr("stroke")),k.appendChild(m),m.weight=C.weight+"px",m.color=C.color,m.opacity=C.opacity,C.dashArray?m.dashStyle=M(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=C.lineCap.replace("butt","flat"),m.joinstyle=C.lineJoin):m&&(k.removeChild(m),l._stroke=null),C.fill?(b||(b=l._fill=hr("fill")),k.appendChild(b),b.color=C.fillColor||C.color,b.opacity=C.fillOpacity):b&&(k.removeChild(b),l._fill=null)},_updateCircle:function(l){var m=l._point.round(),b=Math.round(l._radius),C=Math.round(l._radiusY||b);this._setPath(l,l._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+C+" 0,"+65535*360)},_setPath:function(l,m){l._path.v=m},_bringToFront:function(l){an(l._container)},_bringToBack:function(l){Mr(l._container)}},Si=Oe.vml?hr:Dt,ws=Cn.extend({_initContainer:function(){this._container=Si("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Si("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_t(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var l=this._bounds,m=l.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Ct(b,l.min),b.setAttribute("viewBox",[l.min.x,l.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(l){var m=l._path=Si("path");l.options.className&&Ge(m,l.options.className),l.options.interactive&&Ge(m,"leaflet-interactive"),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){_t(l._path),l.removeInteractiveTarget(l._path),delete this._layers[f(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var m=l._path,b=l.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(l,m){this._setPath(l,ei(l._parts,m))},_updateCircle:function(l){var m=l._point,b=Math.max(Math.round(l._radius),1),C=Math.max(Math.round(l._radiusY),1)||b,k="a"+b+","+C+" 0 1,0 ",D=l._empty()?"M0 0":"M"+(m.x-b)+","+m.y+k+b*2+",0 "+k+-b*2+",0 ";this._setPath(l,D)},_setPath:function(l,m){l._path.setAttribute("d",m)},_bringToFront:function(l){an(l._path)},_bringToBack:function(l){Mr(l._path)}});Oe.vml&&ws.include(iu);function Ta(l){return Oe.svg||Oe.vml?new ws(l):null}st.include({getRenderer:function(l){var m=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var m=this._paneRenderers[l];return m===void 0&&(m=this._createRenderer({pane:l}),this._paneRenderers[l]=m),m},_createRenderer:function(l){return this.options.preferCanvas&&Ea(l)||Ta(l)}});var Dr=ys.extend({initialize:function(l,m){ys.prototype.initialize.call(this,this._boundsToLatLngs(l),m)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=W(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Wf(l,m){return new Dr(l,m)}ws.create=Si,ws.pointsToPath=ei,Hi.geometryToLayer=fn,Hi.coordsToLatLng=_o,Hi.coordsToLatLngs=_a,Hi.latLngToCoords=xo,Hi.latLngsToCoords=xa,Hi.getFeature=or,Hi.asFeature=wo,st.mergeOptions({boxZoom:!0});var jn=bi.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ls(),co(),this._startPoint=this._map.mouseEventToContainerPoint(l),Fe(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var m=new H(this._point,this._startPoint),b=m.getSize();Ct(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(_t(this._box),Nt(this._container,"leaflet-crosshair")),yi(),ua(),pt(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var m=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",jn),st.mergeOptions({doubleClickZoom:!0});var Eo=bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var m=this._map,b=m.getZoom(),C=m.options.zoomDelta,k=l.originalEvent.shiftKey?b-C:b+C;m.options.doubleClickZoom==="center"?m.setZoom(k):m.setZoomAround(l.containerPoint,k)}});st.addInitHook("addHandler","doubleClickZoom",Eo),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ci=bi.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new ar(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=W(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,m){return l-(l-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;l.x<m.min.x&&(l.x=this._viscousLimit(l.x,m.min.x)),l.y<m.min.y&&(l.y=this._viscousLimit(l.y,m.min.y)),l.x>m.max.x&&(l.x=this._viscousLimit(l.x,m.max.x)),l.y>m.max.y&&(l.y=this._viscousLimit(l.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,m=Math.round(l/2),b=this._initialWorldOffset,C=this._draggable._newPos.x,k=(C-m+b)%l+m-b,D=(C+m+b)%l-m-b,Z=Math.abs(k+b)<Math.abs(D+b)?k:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(l){var m=this._map,b=m.options,C=!b.inertia||l.noInertia||this._times.length<2;if(m.fire("dragend",l),C)m.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,Z=b.easeLinearity,ie=k.multiplyBy(Z/D),he=ie.distanceTo([0,0]),_e=Math.min(b.inertiaMaxSpeed,he),Te=ie.multiplyBy(_e/he),Pe=_e/(b.inertiaDeceleration*Z),Xe=Te.multiplyBy(-Pe/2).round();!Xe.x&&!Xe.y?m.fire("moveend"):(Xe=m._limitOffset(Xe,m.options.maxBounds),$(function(){m.panBy(Xe,{duration:Pe,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",Ci),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ru=bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Fe(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,m=document.documentElement,b=l.scrollTop||m.scrollTop,C=l.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(C,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var m=this._panKeys={},b=this.keyCodes,C,k;for(C=0,k=b.left.length;C<k;C++)m[b.left[C]]=[-1*l,0];for(C=0,k=b.right.length;C<k;C++)m[b.right[C]]=[l,0];for(C=0,k=b.down.length;C<k;C++)m[b.down[C]]=[0,l];for(C=0,k=b.up.length;C<k;C++)m[b.up[C]]=[0,-1*l]},_setZoomDelta:function(l){var m=this._zoomKeys={},b=this.keyCodes,C,k;for(C=0,k=b.zoomIn.length;C<k;C++)m[b.zoomIn[C]]=l;for(C=0,k=b.zoomOut.length;C<k;C++)m[b.zoomOut[C]]=-l},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var m=l.keyCode,b=this._map,C;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(C=this._panKeys[m],l.shiftKey&&(C=R(C).multiplyBy(3)),b.options.maxBounds&&(C=b._limitOffset(R(C),b.options.maxBounds)),b.options.worldCopyJump){var k=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(C)));b.panTo(k)}else b.panBy(C)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;sr(l)}}});st.addInitHook("addHandler","keyboard",ru),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ka=bi.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var m=vn(l),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var C=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),C),sr(l)},_performZoom:function(){var l=this._map,m=l.getZoom(),b=this._map.options.zoomSnap||0;l._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,D=b?Math.ceil(k/b)*b:k,Z=l._limitZoom(m+(this._delta>0?D:-D))-m;this._delta=0,this._startTime=null,Z&&(l.options.scrollWheelZoom==="center"?l.setZoom(m+Z):l.setZoomAround(this._lastMousePos,m+Z))}});st.addInitHook("addHandler","scrollWheelZoom",ka);var zr=600;st.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var To=bi.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var m=l.touches[0];this._startPos=this._newPos=new Y(m.clientX,m.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",Ht),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),zr),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){pt(document,"touchend",Ht),pt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(l){var m=l.touches[0];this._newPos=new Y(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,m){var b=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});st.addInitHook("addHandler","tapHold",To),st.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var su=bi.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var m=this._map;if(!(!l.touches||l.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(l.touches[0]),C=m.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(C)._divideBy(2))),this._startDist=b.distanceTo(C),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),Ht(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(l.touches[0]),C=m.mouseEventToContainerPoint(l.touches[1]),k=b.distanceTo(C)/this._startDist;if(this._zoom=m.getScaleZoom(k,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&k<1||this._zoom>m.getMaxZoom()&&k>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var D=b._add(C)._divideBy(2)._subtract(this._centerPoint);if(k===1&&D.x===0&&D.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var Z=u(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(Z,this,!0),Ht(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",su),st.BoxZoom=jn,st.DoubleClickZoom=Eo,st.Drag=Ci,st.Keyboard=ru,st.ScrollWheelZoom=ka,st.TapHold=To,st.TouchZoom=su,n.Bounds=H,n.Browser=Oe,n.CRS=Ce,n.Canvas=jo,n.Circle=bo,n.CircleMarker=gs,n.Class=re,n.Control=Nn,n.DivIcon=yh,n.DivOverlay=mn,n.DomEvent=mo,n.DomUtil=hs,n.Draggable=ar,n.Evented=ee,n.FeatureGroup=_i,n.GeoJSON=Hi,n.GridLayer=xs,n.Handler=bi,n.Icon=xi,n.ImageOverlay=bs,n.LatLng=oe,n.LatLngBounds=z,n.Layer=si,n.LayerGroup=ps,n.LineUtil=Ff,n.Map=st,n.Marker=ba,n.Mixin=If,n.Path=wi,n.Point=Y,n.PolyUtil=eu,n.Polygon=ys,n.Polyline=Vi,n.Popup=Sa,n.PosAnimation=ds,n.Projection=lh,n.Rectangle=Dr,n.Renderer=Cn,n.SVG=ws,n.SVGOverlay=Co,n.TileLayer=cr,n.Tooltip=Ca,n.Transformation=Ve,n.Util=se,n.VideoOverlay=ur,n.bind=u,n.bounds=X,n.canvas=Ea,n.circle=fh,n.circleMarker=dh,n.control=Ui,n.divIcon=Kf,n.extend=a,n.featureGroup=ch,n.geoJSON=So,n.geoJson=wa,n.gridLayer=vh,n.icon=ga,n.imageOverlay=mh,n.latLng=me,n.latLngBounds=W,n.layerGroup=qf,n.map=Kl,n.marker=hh,n.point=R,n.polygon=Zf,n.polyline=$f,n.popup=gh,n.rectangle=Wf,n.setOptions=E,n.stamp=f,n.svg=Ta,n.svgOverlay=ph,n.tileLayer=Hn,n.tooltip=Gf,n.transformation=De,n.version=i,n.videoOverlay=_s;var au=window.L;n.noConflict=function(){return window.L=au,this},window.L=n}))})(Xu,Xu.exports)),Xu.exports}var Nl=uv();const Ot=eo(Nl);function Sf(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Cf(e,t){return t==null?function(i,a){const o=T.useRef(void 0);return o.current||(o.current=e(i,a)),o}:function(i,a){const o=T.useRef(void 0);o.current||(o.current=e(i,a));const u=T.useRef(i),{instance:h}=o.current;return T.useEffect(function(){u.current!==i&&(t(h,i,u.current),u.current=i)},[h,i,t]),o}}function UC(e,t){T.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function VC(e){return function(n){const i=xf(),a=e(wf(n,i),i);return BC(i.map,n.attribution),lv(a.current,n.eventHandlers),UC(a.current,i),a}}function C3(e,t){const n=T.useRef(void 0);T.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function j3(e){return function(n){const i=xf(),a=e(wf(n,i),i);return lv(a.current,n.eventHandlers),UC(a.current,i),C3(a.current,n),a}}function E3(e,t){const n=Cf(e,t),i=VC(n);return IC(i)}function HC(e,t){const n=Cf(e),i=w3(n,t);return _3(i)}function T3(e,t){const n=Cf(e,t),i=j3(n);return IC(i)}function k3(e,t){const n=Cf(e,t),i=VC(n);return x3(i)}function L3(e,t,n){const{opacity:i,zIndex:a}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function A3(){return xf().map}function N3({bounds:e,boundsOptions:t,center:n,children:i,className:a,id:o,placeholder:u,style:h,whenReady:f,zoom:g,...y},v){const[w]=T.useState({className:a,id:o,style:h}),[x,j]=T.useState(null),E=T.useRef(void 0);T.useImperativeHandle(v,()=>x?.map??null,[x]);const O=T.useCallback(P=>{if(P!==null&&!E.current){const M=new Nl.Map(P,y);E.current=M,n!=null&&g!=null?M.setView(n,g):e!=null&&M.fitBounds(e,t),f!=null&&M.whenReady(f),j(v3(M))}},[]);T.useEffect(()=>()=>{x?.map.remove()},[x]);const A=x?gi.createElement(ov,{value:x},i):u??null;return gi.createElement("div",{...w,ref:O},A)}const M3=T.forwardRef(N3),FC=E3(function({position:t,...n},i){const a=new Nl.Marker(t,n);return Sf(a,b3(i,{overlayContainer:a}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),jf=HC(function(t,n){const i=new Nl.Popup(t,n.overlayContainer);return Sf(i,n)},function(t,n,{position:i},a){T.useEffect(function(){const{instance:u}=t;function h(g){g.popup===u&&(u.update(),a(!0))}function f(g){g.popup===u&&a(!1)}return n.map.on({popupopen:h,popupclose:f}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:h,popupclose:f}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[t,n,a,i])}),O3=k3(function({url:t,...n},i){const a=new Nl.TileLayer(t,wf(n,i));return Sf(a,i)},function(t,n,i){L3(t,n,i);const{url:a}=n;a!=null&&a!==i.url&&t.setUrl(a)}),P3=HC(function(t,n){const i=new Nl.Tooltip(t,n.overlayContainer);return Sf(i,n)},function(t,n,{position:i},a){T.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:h}=t,f=y=>{y.tooltip===h&&(i!=null&&h.setLatLng(i),h.update(),a(!0))},g=y=>{y.tooltip===h&&a(!1)};return u.on({tooltipopen:f,tooltipclose:g}),u.bindTooltip(h),function(){u.off({tooltipopen:f,tooltipclose:g}),u._map!=null&&u.unbindTooltip()}},[t,n,a,i])});L.Icon.Glyph=L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"",prefix:"",glyph:"home",glyphColor:"white",glyphSize:"11px",glyphAnchor:[0,0]},createIcon:function(){var e=document.createElement("div"),t=this.options;return t.glyph&&e.appendChild(this._createGlyph()),e.style.position="relative",this._setIconStyles(e,t.className),e},_createGlyph:function(){var e,t,n=this.options;n.prefix?n.prefix==="fab"||n.prefix==="fal"||n.prefix==="far"||n.prefix==="fas"?e="fa-"+n.glyph:n.glyph.slice(0,n.prefix.length+1)===n.prefix+"-"?e=n.glyph:e=n.prefix+"-"+n.glyph:(e="",t=n.glyph);var i=L.DomUtil.create("span",n.prefix+" "+e);return i.style.position="absolute",i.style.fontSize=n.glyphSize,i.style.color=n.glyphColor,i.style.width=n.iconSize[0]+"px",i.style.lineHeight=n.iconSize[1]+"px",i.style.textAlign="center",i.style.left=n.glyphAnchor[0]+"px",i.style.top=n.glyphAnchor[1]+"px",i.style.pointerEvents="none",i.style.display="inline-block",t&&(i.innerHTML=t),i},_setIconStyles:function(e,t){if(t==="shadow")return L.Icon.prototype._setIconStyles.call(this,e,t);var n=this.options,i=L.point(n.iconSize),a=L.point(n.iconAnchor);!a&&i&&(a=i.divideBy(2,!0)),e.className="leaflet-marker-icon leaflet-glyph-icon "+t;var o=this._getIconUrl("icon");o&&(e.style.backgroundImage="url('"+o+"')"),n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.bgSize&&(e.style.backgroundSize=n.bgSize.x+"px "+n.bgSize.y+"px"),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")}});L.icon.glyph=function(e){return new L.Icon.Glyph(e)};L.Icon.Glyph.prototype.options.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=";function cv({glyph:e,glyphColor:t="white",bgColor:n="white",glyphSize:i="8px",iconUrl:a="/Mapassets/icons/glyph-marker-icon-blue.svg",className:o,iconSize:u,prefix:h,glyphAnchor:f,isActive:g}){let y=i;typeof y=="number"?y=`${y}px`:typeof y=="string"&&!y.endsWith("px")?y=`${y}px`:y||(y="8px");const v=u||[25,41],w=Math.round(v[0]*(41/25)),x=Math.round(v[1]*(41/41)),j=Math.round(w*12/41),E=x,O=Cl();return Ot.icon.glyph({iconUrl:a||`${O}assets/icons/glyph-marker-icon-blue.svg`,iconSize:v,iconAnchor:[Math.round(v[0]/2),v[1]],popupAnchor:[1,-34],tooltipAnchor:[0,0],shadowUrl:`${O}assets/icons/marker-shadow.png`,shadowSize:[w,x],shadowAnchor:[j,E],prefix:h||"",glyph:e||"",glyphColor:t||"white",bgColor:n,glyphSize:y,glyphAnchor:f||[0,0],className:g?`${o} marker-active`:o||""})}function hv(e="md"){const t={sm:"(max-width: 639px)",md:"(max-width: 767px)",lg:"(max-width: 1023px)",xl:"(max-width: 1279px)","2xl":"(max-width: 1535px)"},n=t[e]||t.md,[i,a]=T.useState(()=>typeof window<"u"?window.matchMedia(n).matches:!1);return T.useEffect(()=>{if(typeof window>"u")return;const o=window.matchMedia(n),u=()=>a(o.matches);return o.addEventListener("change",u),()=>o.removeEventListener("change",u)},[n]),i}const dv=T.createContext({});function fv(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const mv=typeof window<"u",qC=mv?T.useLayoutEffect:T.useEffect,Ef=T.createContext(null);function pv(e,t){e.indexOf(t)===-1&&e.push(t)}function gv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ns=(e,t,n)=>n>t?t:n<e?e:n;let yv=()=>{};const is={},$C=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ZC(e){return typeof e=="object"&&e!==null}const GC=e=>/^0[^.\s]+$/u.test(e);function vv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mi=e=>e,R3=(e,t)=>n=>t(e(n)),Uc=(...e)=>e.reduce(R3),wc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class bv{constructor(){this.subscriptions=[]}add(t){return pv(this.subscriptions,t),()=>gv(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _r=e=>e*1e3,Ni=e=>e/1e3;function KC(e,t){return t?e*(1e3/t):0}const WC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,D3=1e-7,z3=12;function B3(e,t,n,i,a){let o,u,h=0;do u=t+(n-t)/2,o=WC(u,i,a)-e,o>0?n=u:t=u;while(Math.abs(o)>D3&&++h<z3);return u}function Vc(e,t,n,i){if(e===t&&n===i)return Mi;const a=o=>B3(o,0,1,e,n);return o=>o===0||o===1?o:WC(a(o),t,i)}const YC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,XC=e=>t=>1-e(1-t),JC=Vc(.33,1.53,.69,.99),_v=XC(JC),QC=YC(_v),ej=e=>(e*=2)<1?.5*_v(e):.5*(2-Math.pow(2,-10*(e-1))),xv=e=>1-Math.sin(Math.acos(e)),tj=XC(xv),nj=YC(xv),I3=Vc(.42,0,1,1),U3=Vc(0,0,.58,1),ij=Vc(.42,0,.58,1),V3=e=>Array.isArray(e)&&typeof e[0]!="number",rj=e=>Array.isArray(e)&&typeof e[0]=="number",H3={linear:Mi,easeIn:I3,easeInOut:ij,easeOut:U3,circIn:xv,circInOut:nj,circOut:tj,backIn:_v,backInOut:QC,backOut:JC,anticipate:ej},F3=e=>typeof e=="string",W1=e=>{if(rj(e)){yv(e.length===4);const[t,n,i,a]=e;return Vc(t,n,i,a)}else if(F3(e))return H3[e];return e},Ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q3(e,t){let n=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(g.schedule(y),e()),y(h)}const g={schedule:(y,v=!1,w=!1)=>{const j=w&&a?n:i;return v&&u.add(y),j.has(y)||j.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,o&&(o=!1,g.process(y))}};return g}const $3=40;function sj(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=Ad.reduce((M,U)=>(M[U]=q3(o),M),{}),{setup:h,read:f,resolveKeyframes:g,preUpdate:y,update:v,preRender:w,render:x,postRender:j}=u,E=()=>{const M=is.useManualTiming?a.timestamp:performance.now();n=!1,is.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(M-a.timestamp,$3),1)),a.timestamp=M,a.isProcessing=!0,h.process(a),f.process(a),g.process(a),y.process(a),v.process(a),w.process(a),x.process(a),j.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(E))},O=()=>{n=!0,i=!0,a.isProcessing||e(E)};return{schedule:Ad.reduce((M,U)=>{const V=u[U];return M[U]=(B,q=!1,te=!1)=>(n||O(),V.schedule(B,q,te)),M},{}),cancel:M=>{for(let U=0;U<Ad.length;U++)u[Ad[U]].cancel(M)},state:a,steps:u}}const{schedule:Pt,cancel:Ks,state:wn,steps:hg}=sj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Bd;function Z3(){Bd=void 0}const Xn={now:()=>(Bd===void 0&&Xn.set(wn.isProcessing||is.useManualTiming?wn.timestamp:performance.now()),Bd),set:e=>{Bd=e,queueMicrotask(Z3)}},aj=e=>t=>typeof t=="string"&&t.startsWith(e),wv=aj("--"),G3=aj("var(--"),Sv=e=>G3(e)?K3.test(e.split("/*")[0].trim()):!1,K3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ml={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sc={...Ml,transform:e=>ns(0,1,e)},Nd={...Ml,default:1},oc=e=>Math.round(e*1e5)/1e5,Cv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W3(e){return e==null}const Y3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jv=(e,t)=>n=>!!(typeof n=="string"&&Y3.test(n)&&n.startsWith(e)||t&&!W3(n)&&Object.prototype.hasOwnProperty.call(n,t)),oj=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match(Cv);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},X3=e=>ns(0,255,e),dg={...Ml,transform:e=>Math.round(X3(e))},Wa={test:jv("rgb","red"),parse:oj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+dg.transform(e)+", "+dg.transform(t)+", "+dg.transform(n)+", "+oc(Sc.transform(i))+")"};function J3(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const uy={test:jv("#"),parse:J3,transform:Wa.transform},Hc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zs=Hc("deg"),xr=Hc("%"),qe=Hc("px"),Q3=Hc("vh"),e4=Hc("vw"),Y1={...xr,parse:e=>xr.parse(e)/100,transform:e=>xr.transform(e*100)},al={test:jv("hsl","hue"),parse:oj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+xr.transform(oc(t))+", "+xr.transform(oc(n))+", "+oc(Sc.transform(i))+")"},sn={test:e=>Wa.test(e)||uy.test(e)||al.test(e),parse:e=>Wa.test(e)?Wa.parse(e):al.test(e)?al.parse(e):uy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wa.transform(e):al.transform(e),getAnimatableNone:e=>{const t=sn.parse(e);return t.alpha=0,sn.transform(t)}},t4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Cv)?.length||0)+(e.match(t4)?.length||0)>0}const lj="number",uj="color",i4="var",r4="var(",X1="${}",s4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=t.replace(s4,f=>(sn.test(f)?(i.color.push(o),a.push(uj),n.push(sn.parse(f))):f.startsWith(r4)?(i.var.push(o),a.push(i4),n.push(f)):(i.number.push(o),a.push(lj),n.push(parseFloat(f))),++o,X1)).split(X1);return{values:n,split:h,indexes:i,types:a}}function cj(e){return Cc(e).values}function hj(e){const{split:t,types:n}=Cc(e),i=t.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],a[u]!==void 0){const h=n[u];h===lj?o+=oc(a[u]):h===uj?o+=sn.transform(a[u]):o+=a[u]}return o}}const a4=e=>typeof e=="number"?0:sn.test(e)?sn.getAnimatableNone(e):e;function o4(e){const t=cj(e);return hj(e)(t.map(a4))}const Ws={test:n4,parse:cj,createTransformer:hj,getAnimatableNone:o4};function fg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function l4({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,o=0,u=0;if(!t)a=o=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,f=2*n-h;a=fg(f,h,e+1/3),o=fg(f,h,e),u=fg(f,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function ef(e,t){return n=>n>0?t:e}const Ut=(e,t,n)=>e+(t-e)*n,mg=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},u4=[uy,Wa,al],c4=e=>u4.find(t=>t.test(e));function J1(e){const t=c4(e);if(!t)return!1;let n=t.parse(e);return t===al&&(n=l4(n)),n}const Q1=(e,t)=>{const n=J1(e),i=J1(t);if(!n||!i)return ef(e,t);const a={...n};return o=>(a.red=mg(n.red,i.red,o),a.green=mg(n.green,i.green,o),a.blue=mg(n.blue,i.blue,o),a.alpha=Ut(n.alpha,i.alpha,o),Wa.transform(a))},cy=new Set(["none","hidden"]);function h4(e,t){return cy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function d4(e,t){return n=>Ut(e,t,n)}function Ev(e){return typeof e=="number"?d4:typeof e=="string"?Sv(e)?ef:sn.test(e)?Q1:p4:Array.isArray(e)?dj:typeof e=="object"?sn.test(e)?Q1:f4:ef}function dj(e,t){const n=[...e],i=n.length,a=e.map((o,u)=>Ev(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=a[u](o);return n}}function f4(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=Ev(e[a])(e[a],t[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function m4(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],u=e.indexes[o][i[o]],h=e.values[u]??0;n[a]=h,i[o]++}return n}const p4=(e,t)=>{const n=Ws.createTransformer(t),i=Cc(e),a=Cc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?cy.has(e)&&!a.values.length||cy.has(t)&&!i.values.length?h4(e,t):Uc(dj(m4(i,a),a.values),n):ef(e,t)};function fj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ut(e,t,n):Ev(e)(e,t)}const g4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pt.update(t,n),stop:()=>Ks(t),now:()=>wn.isProcessing?wn.timestamp:Xn.now()}},mj=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)i+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tf=2e4;function Tv(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<tf;)t+=n,i=e.next(t);return t>=tf?1/0:t}function y4(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(Tv(i),tf);return{type:"keyframes",ease:o=>i.next(a*o).value/t,duration:Ni(a)}}const v4=5;function pj(e,t,n){const i=Math.max(t-v4,0);return KC(n-e(i),t-i)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pg=.001;function b4({duration:e=Zt.duration,bounce:t=Zt.bounce,velocity:n=Zt.velocity,mass:i=Zt.mass}){let a,o,u=1-t;u=ns(Zt.minDamping,Zt.maxDamping,u),e=ns(Zt.minDuration,Zt.maxDuration,Ni(e)),u<1?(a=g=>{const y=g*u,v=y*e,w=y-n,x=hy(g,u),j=Math.exp(-v);return pg-w/x*j},o=g=>{const v=g*u*e,w=v*n+n,x=Math.pow(u,2)*Math.pow(g,2)*e,j=Math.exp(-v),E=hy(Math.pow(g,2),u);return(-a(g)+pg>0?-1:1)*((w-x)*j)/E}):(a=g=>{const y=Math.exp(-g*e),v=(g-n)*e+1;return-pg+y*v},o=g=>{const y=Math.exp(-g*e),v=(n-g)*(e*e);return y*v});const h=5/e,f=x4(a,o,h);if(e=_r(e),isNaN(f))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:e};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:e}}}const _4=12;function x4(e,t,n){let i=n;for(let a=1;a<_4;a++)i=i-e(i)/t(i);return i}function hy(e,t){return e*Math.sqrt(1-t*t)}const w4=["duration","bounce"],S4=["stiffness","damping","mass"];function ew(e,t){return t.some(n=>e[n]!==void 0)}function C4(e){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...e};if(!ew(e,S4)&&ew(e,w4))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*ns(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Zt.mass,stiffness:a,damping:o}}else{const n=b4(e);t={...t,...n,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function nf(e=Zt.visualDuration,t=Zt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:g,mass:y,duration:v,velocity:w,isResolvedFromDuration:x}=C4({...n,velocity:-Ni(n.velocity||0)}),j=w||0,E=g/(2*Math.sqrt(f*y)),O=u-o,A=Ni(Math.sqrt(f/y)),P=Math.abs(O)<5;i||(i=P?Zt.restSpeed.granular:Zt.restSpeed.default),a||(a=P?Zt.restDelta.granular:Zt.restDelta.default);let M;if(E<1){const V=hy(A,E);M=B=>{const q=Math.exp(-E*A*B);return u-q*((j+E*A*O)/V*Math.sin(V*B)+O*Math.cos(V*B))}}else if(E===1)M=V=>u-Math.exp(-A*V)*(O+(j+A*O)*V);else{const V=A*Math.sqrt(E*E-1);M=B=>{const q=Math.exp(-E*A*B),te=Math.min(V*B,300);return u-q*((j+E*A*O)*Math.sinh(te)+V*O*Math.cosh(te))/V}}const U={calculatedDuration:x&&v||null,next:V=>{const B=M(V);if(x)h.done=V>=v;else{let q=V===0?j:0;E<1&&(q=V===0?_r(j):pj(M,V,B));const te=Math.abs(q)<=i,K=Math.abs(u-B)<=a;h.done=te&&K}return h.value=h.done?u:B,h},toString:()=>{const V=Math.min(Tv(U),tf),B=mj(q=>U.next(V*q).value,V,30);return V+"ms "+B},toTransition:()=>{}};return U}nf.applyToOptions=e=>{const t=y4(e,100,nf);return e.ease=t.ease,e.duration=_r(t.duration),e.type="keyframes",e};function dy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:g=.5,restSpeed:y}){const v=e[0],w={done:!1,value:v},x=te=>h!==void 0&&te<h||f!==void 0&&te>f,j=te=>h===void 0?f:f===void 0||Math.abs(h-te)<Math.abs(f-te)?h:f;let E=n*t;const O=v+E,A=u===void 0?O:u(O);A!==O&&(E=A-v);const P=te=>-E*Math.exp(-te/i),M=te=>A+P(te),U=te=>{const K=P(te),ae=M(te);w.done=Math.abs(K)<=g,w.value=w.done?A:ae};let V,B;const q=te=>{x(w.value)&&(V=te,B=nf({keyframes:[w.value,j(w.value)],velocity:pj(M,te,w.value),damping:a,stiffness:o,restDelta:g,restSpeed:y}))};return q(0),{calculatedDuration:null,next:te=>{let K=!1;return!B&&V===void 0&&(K=!0,U(te),q(te)),V!==void 0&&te>=V?B.next(te-V):(!K&&U(te),w)}}}function j4(e,t,n){const i=[],a=n||is.mix||fj,o=e.length-1;for(let u=0;u<o;u++){let h=a(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Mi:t;h=Uc(f,h)}i.push(h)}return i}function E4(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const o=e.length;if(yv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=j4(t,i,a),f=h.length,g=y=>{if(u&&y<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const w=wc(e[v],e[v+1],y);return h[v](w)};return n?y=>g(ns(e[0],e[o-1],y)):g}function T4(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=wc(0,t,i);e.push(Ut(n,1,a))}}function k4(e){const t=[0];return T4(t,e.length-1),t}function L4(e,t){return e.map(n=>n*t)}function A4(e,t){return e.map(()=>t||ij).splice(0,e.length-1)}function lc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=V3(i)?i.map(W1):W1(i),o={done:!1,value:t[0]},u=L4(n&&n.length===t.length?n:k4(t),e),h=E4(u,t,{ease:Array.isArray(a)?a:A4(t,a)});return{calculatedDuration:e,next:f=>(o.value=h(f),o.done=f>=e,o)}}const N4=e=>e!==null;function kv(e,{repeat:t,repeatType:n="loop"},i,a=1){const o=e.filter(N4),h=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const M4={decay:dy,inertia:dy,tween:lc,keyframes:lc,spring:nf};function gj(e){typeof e.type=="string"&&(e.type=M4[e.type])}class Lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const O4=e=>e/100;class Av extends Lv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gj(t);const{type:n=lc,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=t;let{keyframes:h}=t;const f=n||lc;f!==lc&&typeof h[0]!="number"&&(this.mixKeyframes=Uc(O4,fj(h[0],h[1])),h=[0,100]);const g=f({...t,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Tv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:x,type:j,onUpdate:E,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const A=this.currentTime-g*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?A<0:A>a;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let M=this.currentTime,U=i;if(v){const te=Math.min(this.currentTime,a)/h;let K=Math.floor(te),ae=te%1;!ae&&te>=1&&(ae=1),ae===1&&K--,K=Math.min(K,v+1),!!(K%2)&&(w==="reverse"?(ae=1-ae,x&&(ae-=x/h)):w==="mirror"&&(U=u)),M=ns(0,1,ae)*h}const V=P?{done:!1,value:y[0]}:U.next(M);o&&(V.value=o(V.value));let{done:B}=V;!P&&f!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return q&&j!==dy&&(V.value=kv(y,this.options,O,this.speed)),E&&E(V.value),q&&this.finish(),V}then(t,n){return this.finished.then(t,n)}get duration(){return Ni(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ni(t)}get time(){return Ni(this.currentTime)}set time(t){t=_r(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=g4,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function P4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ya=e=>e*180/Math.PI,fy=e=>{const t=Ya(Math.atan2(e[1],e[0]));return my(t)},R4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fy,rotateZ:fy,skewX:e=>Ya(Math.atan(e[1])),skewY:e=>Ya(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},my=e=>(e=e%360,e<0&&(e+=360),e),tw=fy,nw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),D4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nw,scaleY:iw,scale:e=>(nw(e)+iw(e))/2,rotateX:e=>my(Ya(Math.atan2(e[6],e[5]))),rotateY:e=>my(Ya(Math.atan2(-e[2],e[0]))),rotateZ:tw,rotate:tw,skewX:e=>Ya(Math.atan(e[4])),skewY:e=>Ya(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function py(e){return e.includes("scale")?1:0}function gy(e,t){if(!e||e==="none")return py(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=D4,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=R4,a=h}if(!a)return py(t);const o=i[t],u=a[1].split(",").map(B4);return typeof o=="function"?o(u):u[o]}const z4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gy(n,t)};function B4(e){return parseFloat(e.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(Ol),rw=e=>e===Ml||e===qe,I4=new Set(["x","y","z"]),U4=Ol.filter(e=>!I4.has(e));function V4(e){const t=[];return U4.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Xa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gy(t,"x"),y:(e,{transform:t})=>gy(t,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const Ja=new Set;let yy=!1,vy=!1,by=!1;function yj(){if(vy){const e=Array.from(Ja).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=V4(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vy=!1,yy=!1,Ja.forEach(e=>e.complete(by)),Ja.clear()}function vj(){Ja.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vy=!0)})}function H4(){by=!0,vj(),yj(),by=!1}class Nv{constructor(t,n,i,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ja.add(this),yy||(yy=!0,Pt.read(vj),Pt.resolveKeyframes(yj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const o=a?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const h=i.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&o===void 0&&a.set(t[0])}P4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ja.delete(this)}cancel(){this.state==="scheduled"&&(Ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const F4=e=>e.startsWith("--");function q4(e,t,n){F4(t)?e.style.setProperty(t,n):e.style[t]=n}const $4=vv(()=>window.ScrollTimeline!==void 0),Z4={};function G4(e,t){const n=vv(e);return()=>Z4[t]??n()}const bj=G4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ju=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,sw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ju([0,.65,.55,1]),circOut:Ju([.55,0,1,.45]),backIn:Ju([.31,.01,.66,-.59]),backOut:Ju([.33,1.53,.69,.99])};function _j(e,t){if(e)return typeof e=="function"?bj()?mj(e,t):"ease-out":rj(e)?Ju(e):Array.isArray(e)?e.map(n=>_j(n,t)||sw.easeOut):sw[e]}function K4(e,t,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:f}={},g=void 0){const y={[t]:n};f&&(y.offset=f);const v=_j(h,a);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),e.animate(y,w)}function xj(e){return typeof e=="function"&&"applyToOptions"in e}function W4({type:e,...t}){return xj(e)&&bj()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Y4 extends Lv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,yv(typeof t.type!="string");const g=W4(t);this.animation=K4(n,i,a,g,o),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=kv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):q4(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ni(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ni(t)}get time(){return Ni(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_r(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$4()?(this.animation.timeline=t,Mi):n(this)}}const wj={anticipate:ej,backInOut:QC,circInOut:nj};function X4(e){return e in wj}function J4(e){typeof e.ease=="string"&&X4(e.ease)&&(e.ease=wj[e.ease])}const aw=10;class Q4 extends Y4{constructor(t){J4(t),gj(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new Av({...u,autoplay:!1}),f=_r(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-aw).value,h.sample(f).value,aw),h.stop()}}const ow=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ws.test(e)||e==="0")&&!e.startsWith("url("));function ez(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function tz(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=ow(a,t),h=ow(o,t);return!u||!h?!1:ez(e)||(n==="spring"||xj(n))&&i}function _y(e){e.duration=0,e.type="keyframes"}const nz=new Set(["opacity","clipPath","filter","transform"]),iz=vv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rz(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=t.owner.getProps();return iz()&&n&&nz.has(n)&&(n!=="transform"||!g)&&!f&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const sz=40;class az extends Lv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:f,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xn.now();const w={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:u,name:f,motionValue:g,element:y,...v},x=y?.KeyframeResolver||Nv;this.keyframeResolver=new x(h,(j,E,O)=>this.onKeyframesResolved(j,E,w,!O),f,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:f,isHandoff:g,onUpdate:y}=i;this.resolvedAt=Xn.now(),tz(t,o,u,h)||((is.instantAnimations||!f)&&y?.(kv(t,i,n)),t[0]=t[t.length-1],_y(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},x=!g&&rz(w)?new Q4({...w,element:w.motionValue.owner.current}):new Av(w);x.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),H4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const oz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lz(e){const t=oz.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function Sj(e,t,n=1){const[i,a]=lz(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return $C(u)?parseFloat(u):u}return Sv(a)?Sj(a,t,n+1):a}function Mv(e,t){return e?.[t]??e?.default??e}const Cj=new Set(["width","height","top","left","right","bottom",...Ol]),uz={test:e=>e==="auto",parse:e=>e},jj=e=>t=>t.test(e),Ej=[Ml,qe,xr,Zs,e4,Q3,uz],lw=e=>Ej.find(jj(e));function cz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||GC(e):!0}const hz=new Set(["brightness","contrast","saturate","opacity"]);function dz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Cv)||[];if(!i)return e;const a=n.replace(i,"");let o=hz.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+a+")"}const fz=/\b([a-z-]*)\(.*?\)/gu,xy={...Ws,getAnimatableNone:e=>{const t=e.match(fz);return t?t.map(dz).join(" "):e}},uw={...Ml,transform:Math.round},mz={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Zs,skewX:Zs,skewY:Zs,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Sc,originX:Y1,originY:Y1,originZ:qe},Ov={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...mz,zIndex:uw,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:uw},pz={...Ov,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:xy,WebkitFilter:xy},Tj=e=>pz[e];function kj(e,t){let n=Tj(e);return n!==xy&&(n=Ws),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gz=new Set(["auto","none","0"]);function yz(e,t,n){let i=0,a;for(;i<e.length&&!a;){const o=e[i];typeof o=="string"&&!gz.has(o)&&Cc(o).values.length&&(a=e[i]),i++}if(a&&n)for(const o of t)e[o]=kj(n,a)}class vz extends Nv{constructor(t,n,i,a,o){super(t,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let g=t[f];if(typeof g=="string"&&(g=g.trim(),Sv(g))){const y=Sj(g,n.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Cj.has(i)||t.length!==2)return;const[a,o]=t,u=lw(a),h=lw(o);if(u!==h)if(rw(u)&&rw(h))for(let f=0;f<t.length;f++){const g=t[f];typeof g=="string"&&(t[f]=parseFloat(g))}else Xa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||cz(t[a]))&&i.push(a);i.length&&yz(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Xa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function bz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Lj=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Aj(e){return ZC(e)&&"offsetHeight"in e}const cw=30,_z=e=>!isNaN(parseFloat(e));class xz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_z(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bv);const i=this.events[t].add(n);return t==="change"?()=>{i(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cw);return KC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(e,t){return new xz(e,t)}const{schedule:Pv}=sj(queueMicrotask,!1),Wi={x:!1,y:!1};function Nj(){return Wi.x||Wi.y}function wz(e){return e==="x"||e==="y"?Wi[e]?null:(Wi[e]=!0,()=>{Wi[e]=!1}):Wi.x||Wi.y?null:(Wi.x=Wi.y=!0,()=>{Wi.x=Wi.y=!1})}function Mj(e,t){const n=bz(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function hw(e){return!(e.pointerType==="touch"||Nj())}function Sz(e,t,n={}){const[i,a,o]=Mj(e,n),u=h=>{if(!hw(h))return;const{target:f}=h,g=t(f,h);if(typeof g!="function"||!f)return;const y=v=>{hw(v)&&(g(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const Oj=(e,t)=>t?e===t?!0:Oj(e,t.parentElement):!1,Rv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Cz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jz(e){return Cz.has(e.tagName)||e.tabIndex!==-1}const Id=new WeakSet;function dw(e){return t=>{t.key==="Enter"&&e(t)}}function gg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ez=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=dw(()=>{if(Id.has(n))return;gg(n,"down");const a=dw(()=>{gg(n,"up")}),o=()=>gg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function fw(e){return Rv(e)&&!Nj()}function Tz(e,t,n={}){const[i,a,o]=Mj(e,n),u=h=>{const f=h.currentTarget;if(!fw(h))return;Id.add(f);const g=t(f,h),y=(x,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Id.has(f)&&Id.delete(f),fw(x)&&typeof g=="function"&&g(x,{success:j})},v=x=>{y(x,f===window||f===document||n.useGlobalTarget||Oj(f,x.target))},w=x=>{y(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Aj(h)&&(h.addEventListener("focus",g=>Ez(g,a)),!jz(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function Pj(e){return ZC(e)&&"ownerSVGElement"in e}function kz(e){return Pj(e)&&e.tagName==="svg"}const kn=e=>!!(e&&e.getVelocity),Lz=[...Ej,sn,Ws],Az=e=>Lz.find(jj(e)),Dv=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function mw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nz(...e){return t=>{let n=!1;const i=e.map(a=>{const o=mw(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():mw(e[a],null)}}}}function Mz(...e){return T.useCallback(Nz(...e),e)}class Oz extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=Aj(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Pz({children:e,isPresent:t,anchorX:n,root:i}){const a=T.useId(),o=T.useRef(null),u=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=T.useContext(Dv),f=Mz(o,e?.ref);return T.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:w,right:x}=u.current;if(t||!o.current||!g||!y)return;const j=n==="left"?`left: ${w}`:`right: ${x}`;o.current.dataset.motionPopId=a;const E=document.createElement("style");h&&(E.nonce=h);const O=i??document.head;return O.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${v}px !important;
          }
        `),()=>{O.contains(E)&&O.removeChild(E)}},[t]),d.jsx(Oz,{isPresent:t,childRef:o,sizeRef:u,children:T.cloneElement(e,{ref:f})})}const Rz=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,root:f})=>{const g=fv(Dz),y=T.useId();let v=!0,w=T.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:x=>{g.set(x,!0);for(const j of g.values())if(!j)return;i&&i()},register:x=>(g.set(x,!1),()=>g.delete(x))}),[n,g,i]);return o&&v&&(w={...w}),T.useMemo(()=>{g.forEach((x,j)=>g.set(j,!1))},[n]),T.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),u==="popLayout"&&(e=d.jsx(Pz,{isPresent:n,anchorX:h,root:f,children:e})),d.jsx(Ef.Provider,{value:w,children:e})};function Dz(){return new Map}function Rj(e=!0){const t=T.useContext(Ef);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,o=T.useId();T.useEffect(()=>{if(e)return a(o)},[e]);const u=T.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const Md=e=>e.key||"";function pw(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const zz=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[g,y]=Rj(u),v=T.useMemo(()=>pw(e),[e]),w=u&&!g?[]:v.map(Md),x=T.useRef(!0),j=T.useRef(v),E=fv(()=>new Map),[O,A]=T.useState(v),[P,M]=T.useState(v);qC(()=>{x.current=!1,j.current=v;for(let B=0;B<P.length;B++){const q=Md(P[B]);w.includes(q)?E.delete(q):E.get(q)!==!0&&E.set(q,!1)}},[P,w.length,w.join("-")]);const U=[];if(v!==O){let B=[...v];for(let q=0;q<P.length;q++){const te=P[q],K=Md(te);w.includes(K)||(B.splice(q,0,te),U.push(te))}return o==="wait"&&U.length&&(B=U),M(pw(B)),A(v),null}const{forceRender:V}=T.useContext(dv);return d.jsx(d.Fragment,{children:P.map(B=>{const q=Md(B),te=u&&!g?!1:v===P||w.includes(q),K=()=>{if(E.has(q))E.set(q,!0);else return;let ae=!0;E.forEach($=>{$||(ae=!1)}),ae&&(V?.(),M(j.current),u&&y?.(),i&&i())};return d.jsx(Rz,{isPresent:te,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:f,onExitComplete:te?void 0:K,anchorX:h,children:B},q)})})},Dj=T.createContext({strict:!1}),gw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const e in gw)Sl[e]={isEnabled:t=>gw[e].some(n=>!!t[n])};function Bz(e){for(const t in e)Sl[t]={...Sl[t],...e[t]}}const Iz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Iz.has(e)}let zj=e=>!rf(e);function Uz(e){typeof e=="function"&&(zj=t=>t.startsWith("on")?!rf(t):e(t))}try{Uz(require("@emotion/is-prop-valid").default)}catch{}function Vz(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(zj(a)||n===!0&&rf(a)||!t&&!rf(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const Tf=T.createContext({});function kf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function jc(e){return typeof e=="string"||Array.isArray(e)}const zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bv=["initial",...zv];function Lf(e){return kf(e.animate)||Bv.some(t=>jc(e[t]))}function Bj(e){return!!(Lf(e)||e.variants)}function Hz(e,t){if(Lf(e)){const{initial:n,animate:i}=e;return{initial:n===!1||jc(n)?n:void 0,animate:jc(i)?i:void 0}}return e.inherit!==!1?t:{}}function Fz(e){const{initial:t,animate:n}=Hz(e,T.useContext(Tf));return T.useMemo(()=>({initial:t,animate:n}),[yw(t),yw(n)])}function yw(e){return Array.isArray(e)?e.join(" "):e}const Ec={};function qz(e){for(const t in e)Ec[t]=e[t],wv(t)&&(Ec[t].isCSSVariable=!0)}function Ij(e,{layout:t,layoutId:n}){return Pl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ec[e]||e==="opacity")}const $z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zz=Ol.length;function Gz(e,t,n){let i="",a=!0;for(let o=0;o<Zz;o++){const u=Ol[o],h=e[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const g=Lj(h,Ov[u]);if(!f){a=!1;const y=$z[u]||u;i+=`${y}(${g}) `}n&&(t[u]=g)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function Iv(e,t,n){const{style:i,vars:a,transformOrigin:o}=e;let u=!1,h=!1;for(const f in t){const g=t[f];if(Pl.has(f)){u=!0;continue}else if(wv(f)){a[f]=g;continue}else{const y=Lj(g,Ov[f]);f.startsWith("origin")?(h=!0,o[f]=y):i[f]=y}}if(t.transform||(u||n?i.transform=Gz(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:g="50%",originZ:y=0}=o;i.transformOrigin=`${f} ${g} ${y}`}}const Uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uj(e,t,n){for(const i in t)!kn(t[i])&&!Ij(i,n)&&(e[i]=t[i])}function Kz({transformTemplate:e},t){return T.useMemo(()=>{const n=Uv();return Iv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Wz(e,t){const n=e.style||{},i={};return Uj(i,n,e),Object.assign(i,Kz(e,t)),i}function Yz(e,t){const n={},i=Wz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const Xz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jz={offset:"strokeDashoffset",array:"strokeDasharray"};function Qz(e,t,n=1,i=0,a=!0){e.pathLength=1;const o=a?Xz:Jz;e[o.offset]=qe.transform(-i);const u=qe.transform(t),h=qe.transform(n);e[o.array]=`${u} ${h}`}function Vj(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},f,g,y){if(Iv(e,h,g),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:w}=e;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&Qz(v,a,o,u,!1)}const Hj=()=>({...Uv(),attrs:{}}),Fj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function e6(e,t,n,i){const a=T.useMemo(()=>{const o=Hj();return Vj(o,t,Fj(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Uj(o,e.style,e),a.style={...o,...a.style}}return a}const t6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vv(e){return typeof e!="string"||e.includes("-")?!1:!!(t6.indexOf(e)>-1||/[A-Z]/u.test(e))}function n6(e,t,n,{latestValues:i},a,o=!1){const h=(Vv(e)?e6:Yz)(t,i,a,e),f=Vz(t,typeof e=="string",o),g=e!==T.Fragment?{...f,...h,ref:n}:{},{children:y}=t,v=T.useMemo(()=>kn(y)?y.get():y,[y]);return T.createElement(e,{...g,children:v})}function vw(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Hv(e,t,n,i){if(typeof t=="function"){const[a,o]=vw(i);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=vw(i);t=t(n!==void 0?n:e.custom,a,o)}return t}function Ud(e){return kn(e)?e.get():e}function i6({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:r6(n,i,a,e),renderState:t()}}function r6(e,t,n,i){const a={},o=i(e,{});for(const w in o)a[w]=Ud(o[w]);let{initial:u,animate:h}=e;const f=Lf(e),g=Bj(e);t&&g&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!kf(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const j=Hv(e,w[x]);if(j){const{transitionEnd:E,transition:O,...A}=j;for(const P in A){let M=A[P];if(Array.isArray(M)){const U=y?M.length-1:0;M=M[U]}M!==null&&(a[P]=M)}for(const P in E)a[P]=E[P]}}}return a}const qj=e=>(t,n)=>{const i=T.useContext(Tf),a=T.useContext(Ef),o=()=>i6(e,t,i,a);return n?o():fv(o)};function Fv(e,t,n){const{style:i}=e,a={};for(const o in i)(kn(i[o])||t.style&&kn(t.style[o])||Ij(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=i[o]);return a}const s6=qj({scrapeMotionValuesFromProps:Fv,createRenderState:Uv});function $j(e,t,n){const i=Fv(e,t,n);for(const a in e)if(kn(e[a])||kn(t[a])){const o=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=e[a]}return i}const a6=qj({scrapeMotionValuesFromProps:$j,createRenderState:Hj}),o6=Symbol.for("motionComponentSymbol");function ol(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function l6(e,t,n){return T.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):ol(n)&&(n.current=i))},[t])}const qv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u6="framerAppearId",Zj="data-"+qv(u6),Gj=T.createContext({});function c6(e,t,n,i,a){const{visualElement:o}=T.useContext(Tf),u=T.useContext(Dj),h=T.useContext(Ef),f=T.useContext(Dv).reducedMotion,g=T.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=g.current,v=T.useContext(Gj);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&h6(g.current,n,a,v);const w=T.useRef(!1);T.useInsertionEffect(()=>{y&&w.current&&y.update(n,h)});const x=n[Zj],j=T.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return qC(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),T.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),j.current=!1),y.enteringChildren=void 0)}),y}function h6(e,t,n,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Kj(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&ol(h),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:g})}function Kj(e){if(e)return e.options.allowProjection!==!1?e.projection:Kj(e.parent)}function yg(e,{forwardMotionProps:t=!1}={},n,i){n&&Bz(n);const a=Vv(e)?a6:s6;function o(h,f){let g;const y={...T.useContext(Dv),...h,layoutId:d6(h)},{isStatic:v}=y,w=Fz(h),x=a(h,v);if(!v&&mv){f6();const j=m6(y);g=j.MeasureLayout,w.visualElement=c6(e,x,y,i,j.ProjectionNode)}return d.jsxs(Tf.Provider,{value:w,children:[g&&w.visualElement?d.jsx(g,{visualElement:w.visualElement,...y}):null,n6(e,h,l6(x,w.visualElement,f),x,v,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=T.forwardRef(o);return u[o6]=e,u}function d6({layoutId:e}){const t=T.useContext(dv).id;return t&&e!==void 0?t+"-"+e:e}function f6(e,t){T.useContext(Dj).strict}function m6(e){const{drag:t,layout:n}=Sl;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function p6(e,t){if(typeof Proxy>"u")return yg;const n=new Map,i=(o,u)=>yg(o,u,e,t),a=(o,u)=>i(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,yg(u,void 0,e,t)),n.get(u))})}function Wj({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function g6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function y6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function vg(e){return e===void 0||e===1}function wy({scale:e,scaleX:t,scaleY:n}){return!vg(e)||!vg(t)||!vg(n)}function $a(e){return wy(e)||Yj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Yj(e){return bw(e.x)||bw(e.y)}function bw(e){return e&&e!=="0%"}function sf(e,t,n){const i=e-n,a=t*i;return n+a}function _w(e,t,n,i,a){return a!==void 0&&(e=sf(e,a,i)),sf(e,n,i)+t}function Sy(e,t=0,n=1,i,a){e.min=_w(e.min,t,n,i,a),e.max=_w(e.max,t,n,i,a)}function Xj(e,{x:t,y:n}){Sy(e.x,t.translate,t.scale,t.originPoint),Sy(e.y,n.translate,n.scale,n.originPoint)}const xw=.999999999999,ww=1.0000000000001;function v6(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ul(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Xj(e,u)),i&&$a(o.latestValues)&&ul(e,o.latestValues))}t.x<ww&&t.x>xw&&(t.x=1),t.y<ww&&t.y>xw&&(t.y=1)}function ll(e,t){e.min=e.min+t,e.max=e.max+t}function Sw(e,t,n,i,a=.5){const o=Ut(e.min,e.max,a);Sy(e,t,n,o,i)}function ul(e,t){Sw(e.x,t.x,t.scaleX,t.scale,t.originX),Sw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Jj(e,t){return Wj(y6(e.getBoundingClientRect(),t))}function b6(e,t,n){const i=Jj(e,n),{scroll:a}=t;return a&&(ll(i.x,a.offset.x),ll(i.y,a.offset.y)),i}const Cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),cl=()=>({x:Cw(),y:Cw()}),jw=()=>({min:0,max:0}),Wt=()=>({x:jw(),y:jw()}),Cy={current:null},Qj={current:!1};function _6(){if(Qj.current=!0,!!mv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cy.current=e.matches;e.addEventListener("change",t),t()}else Cy.current=!1}const x6=new WeakMap;function w6(e,t,n){for(const i in t){const a=t[i],o=n[i];if(kn(a))e.addValue(i,a);else if(kn(o))e.addValue(i,wl(a,{owner:e}));else if(o!==a)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(i);e.addValue(i,wl(u!==void 0?u:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class S6{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Xn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Pt.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Lf(n),this.isVariantNode=Bj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const x=v[w];f[w]!==void 0&&kn(x)&&x.set(f[w])}}mount(t){this.current=t,x6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Qj.current||_6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Pl.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Sl){const n=Sl[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ew.length;i++){const a=Ew[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=t[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=w6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=wl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&($C(i)||GC(i))?i=parseFloat(i):!Az(i)&&Ws.test(n)&&(i=kj(t,n)),this.setBaseTarget(t,kn(i)?i.get():i)),kn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Hv(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!kn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Pv.render(this.render)}}class eE extends S6{constructor(){super(...arguments),this.KeyframeResolver=vz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tE(e,{style:t,vars:n},i,a){const o=e.style;let u;for(u in t)o[u]=t[u];a?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function C6(e){return window.getComputedStyle(e)}class j6 extends eE{constructor(){super(...arguments),this.type="html",this.renderInstance=tE}readValueFromInstance(t,n){if(Pl.has(n))return this.projection?.isProjecting?py(n):z4(t,n);{const i=C6(t),a=(wv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Jj(t,n)}build(t,n,i){Iv(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Fv(t,n,i)}}const nE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E6(e,t,n,i){tE(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(nE.has(a)?a:qv(a),t.attrs[a])}class T6 extends eE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Pl.has(n)){const i=Tj(n);return i&&i.default||0}return n=nE.has(n)?n:qv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return $j(t,n,i)}build(t,n,i){Vj(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){E6(t,n,i,a)}mount(t){this.isSVGTag=Fj(t.tagName),super.mount(t)}}const k6=(e,t)=>Vv(e)?new T6(t):new j6(t,{allowProjection:e!==T.Fragment});function gl(e,t,n){const i=e.getProps();return Hv(i,t,n!==void 0?n:i.custom,e)}const jy=e=>Array.isArray(e);function L6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wl(n))}function A6(e){return jy(e)?e[e.length-1]||0:e}function N6(e,t){const n=gl(e,t);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const u in o){const h=A6(o[u]);L6(e,u,h)}}function M6(e){return!!(kn(e)&&e.add)}function Ey(e,t){const n=e.getValue("willChange");if(M6(n))return n.add(t);if(!n&&is.WillChange){const i=new is.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function iE(e){return e.props[Zj]}const O6=e=>e!==null;function P6(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(O6),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[o]}const R6={type:"spring",stiffness:500,damping:25,restSpeed:10},D6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),z6={type:"keyframes",duration:.8},B6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I6=(e,{keyframes:t})=>t.length>2?z6:Pl.has(e)?e.startsWith("scale")?D6(t[1]):R6:B6;function U6({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:g,...y}){return!!Object.keys(y).length}const $v=(e,t,n,i={},a,o)=>u=>{const h=Mv(i,e)||{},f=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-_r(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:w=>{t.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:o?void 0:a};U6(h)||Object.assign(y,I6(e,y)),y.duration&&(y.duration=_r(y.duration)),y.repeatDelay&&(y.repeatDelay=_r(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(_y(y),y.delay===0&&(v=!0)),(is.instantAnimations||is.skipAnimations)&&(v=!0,_y(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!o&&t.get()!==void 0){const w=P6(y.keyframes,h);if(w!==void 0){Pt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return h.isSync?new Av(y):new az(y)};function V6({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function rE(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(o=i);const f=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const v=e.getValue(y,e.latestValues[y]??null),w=h[y];if(w===void 0||g&&V6(g,y))continue;const x={delay:n,...Mv(o||{},y)},j=v.get();if(j!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===j&&!x.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const A=iE(e);if(A){const P=window.MotionHandoffAnimation(A,y,Pt);P!==null&&(x.startTime=P,E=!0)}}Ey(e,y),v.start($v(y,v,w,e.shouldReduceMotion&&Cj.has(y)?{type:!1}:x,e,E));const O=v.animation;O&&f.push(O)}return u&&Promise.all(f).then(()=>{Pt.update(()=>{u&&N6(e,u)})}),f}function sE(e,t,n,i=0,a=1){const o=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=e.size,h=(u-1)*i;return typeof n=="function"?n(o,u):a===1?o*i:h-o*i}function Ty(e,t,n={}){const i=gl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(rE(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return H6(e,t,f,g,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,g]=h==="beforeChildren"?[o,u]:[u,o];return f().then(()=>g())}else return Promise.all([o(),u(n.delay)])}function H6(e,t,n=0,i=0,a=0,o=1,u){const h=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),h.push(Ty(f,t,{...u,delay:n+(typeof i=="function"?0:i)+sE(e.variantChildren,f,i,a,o)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(h)}function F6(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(o=>Ty(e,o,n));i=Promise.all(a)}else if(typeof t=="string")i=Ty(e,t,n);else{const a=typeof t=="function"?gl(e,t,n.custom):t;i=Promise.all(rE(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function aE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const q6=Bv.length;function oE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?oE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<q6;n++){const i=Bv[n],a=e.props[i];(jc(a)||a===!1)&&(t[i]=a)}return t}const $6=[...zv].reverse(),Z6=zv.length;function G6(e){return t=>Promise.all(t.map(({animation:n,options:i})=>F6(e,n,i)))}function K6(e){let t=G6(e),n=Tw(),i=!0;const a=f=>(g,y)=>{const v=gl(e,y,f==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:x,...j}=v;g={...g,...j,...x}}return g};function o(f){t=f(e)}function u(f){const{props:g}=e,y=oE(e.parent)||{},v=[],w=new Set;let x={},j=1/0;for(let O=0;O<Z6;O++){const A=$6[O],P=n[A],M=g[A]!==void 0?g[A]:y[A],U=jc(M),V=A===f?P.isActive:null;V===!1&&(j=O);let B=M===y[A]&&M!==g[A]&&U;if(B&&i&&e.manuallyAnimateOnMount&&(B=!1),P.protectedKeys={...x},!P.isActive&&V===null||!M&&!P.prevProp||kf(M)||typeof M=="boolean")continue;const q=W6(P.prevProp,M);let te=q||A===f&&P.isActive&&!B&&U||O>j&&U,K=!1;const ae=Array.isArray(M)?M:[M];let $=ae.reduce(a(A),{});V===!1&&($={});const{prevResolvedValues:Q={}}=P,se={...Q,...$},re=ee=>{te=!0,w.has(ee)&&(K=!0,w.delete(ee)),P.needsAnimating[ee]=!0;const Y=e.getValue(ee);Y&&(Y.liveStyle=!1)};for(const ee in se){const Y=$[ee],we=Q[ee];if(x.hasOwnProperty(ee))continue;let R=!1;jy(Y)&&jy(we)?R=!aE(Y,we):R=Y!==we,R?Y!=null?re(ee):w.add(ee):Y!==void 0&&w.has(ee)?re(ee):P.protectedKeys[ee]=!0}P.prevProp=M,P.prevResolvedValues=$,P.isActive&&(x={...x,...$}),i&&e.blockInitialAnimation&&(te=!1);const ce=B&&q;te&&(!ce||K)&&v.push(...ae.map(ee=>{const Y={type:A};if(typeof ee=="string"&&i&&!ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:we}=e,R=gl(we,ee);if(we.enteringChildren&&R){const{delayChildren:H}=R.transition||{};Y.delay=sE(we.enteringChildren,e,H)}}return{animation:ee,options:Y}}))}if(w.size){const O={};if(typeof g.initial!="boolean"){const A=gl(e,Array.isArray(g.initial)?g.initial[0]:g.initial);A&&A.transition&&(O.transition=A.transition)}w.forEach(A=>{const P=e.getBaseTarget(A),M=e.getValue(A);M&&(M.liveStyle=!0),O[A]=P??null}),v.push({animation:O})}let E=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function h(f,g){if(n[f].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(f,g)),n[f].isActive=g;const y=u(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Tw()}}}function W6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aE(t,e):!1}function Ha(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tw(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Y6 extends Qs{constructor(t){super(t),t.animationState||(t.animationState=K6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let X6=0;class J6 extends Qs{constructor(){super(...arguments),this.id=X6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Q6={animation:{Feature:Y6},exit:{Feature:J6}};function Tc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Fc(e){return{point:{x:e.pageX,y:e.pageY}}}const eB=e=>t=>Rv(t)&&e(t,Fc(t));function uc(e,t,n,i){return Tc(e,t,eB(n),i)}const lE=1e-4,tB=1-lE,nB=1+lE,uE=.01,iB=0-uE,rB=0+uE;function Dn(e){return e.max-e.min}function sB(e,t,n){return Math.abs(e-t)<=n}function kw(e,t,n,i=.5){e.origin=i,e.originPoint=Ut(t.min,t.max,e.origin),e.scale=Dn(n)/Dn(t),e.translate=Ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tB&&e.scale<=nB||isNaN(e.scale))&&(e.scale=1),(e.translate>=iB&&e.translate<=rB||isNaN(e.translate))&&(e.translate=0)}function cc(e,t,n,i){kw(e.x,t.x,n.x,i?i.originX:void 0),kw(e.y,t.y,n.y,i?i.originY:void 0)}function Lw(e,t,n){e.min=n.min+t.min,e.max=e.min+Dn(t)}function aB(e,t,n){Lw(e.x,t.x,n.x),Lw(e.y,t.y,n.y)}function Aw(e,t,n){e.min=t.min-n.min,e.max=e.min+Dn(t)}function hc(e,t,n){Aw(e.x,t.x,n.x),Aw(e.y,t.y,n.y)}function Li(e){return[e("x"),e("y")]}const cE=({current:e})=>e?e.ownerDocument.defaultView:null,Nw=(e,t)=>Math.abs(e-t);function oB(e,t){const n=Nw(e.x,t.x),i=Nw(e.y,t.y);return Math.sqrt(n**2+i**2)}class hE{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_g(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,j=oB(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!j)return;const{point:E}=w,{timestamp:O}=wn;this.history.push({...E,timestamp:O});const{onStart:A,onMove:P}=this.handlers;x||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=bg(x,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:j,onSessionEnd:E,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=_g(w.type==="pointercancel"?this.lastMoveEventInfo:bg(x,this.transformPagePoint),this.history);this.startEvent&&j&&j(w,A),E&&E(w,A)},!Rv(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=Fc(t),f=bg(h,this.transformPagePoint),{point:g}=f,{timestamp:y}=wn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,_g(f,this.history)),this.removeListeners=Uc(uc(this.contextWindow,"pointermove",this.handlePointerMove),uc(this.contextWindow,"pointerup",this.handlePointerUp),uc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function bg(e,t){return t?{point:t(e.point)}:e}function Mw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _g({point:e},t){return{point:e,delta:Mw(e,dE(t)),offset:Mw(e,lB(t)),velocity:uB(t,.1)}}function lB(e){return e[0]}function dE(e){return e[e.length-1]}function uB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=dE(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>_r(t)));)n--;if(!i)return{x:0,y:0};const o=Ni(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function cB(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ut(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ut(n,e,i.max):Math.min(e,n)),e}function Ow(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hB(e,{top:t,left:n,bottom:i,right:a}){return{x:Ow(e.x,n,a),y:Ow(e.y,t,i)}}function Pw(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function dB(e,t){return{x:Pw(e.x,t.x),y:Pw(e.y,t.y)}}function fB(e,t){let n=.5;const i=Dn(e),a=Dn(t);return a>i?n=wc(t.min,t.max-i,e.min):i>a&&(n=wc(e.min,e.max-a,t.min)),ns(0,1,n)}function mB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ky=.35;function pB(e=ky){return e===!1?e=0:e===!0&&(e=ky),{x:Rw(e,"left","right"),y:Rw(e,"top","bottom")}}function Rw(e,t,n){return{min:Dw(e,t),max:Dw(e,n)}}function Dw(e,t){return typeof e=="number"?e:e[t]||0}const gB=new WeakMap;class yB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fc(v).point)},u=(v,w)=>{const{drag:x,dragPropagation:j,onDragStart:E}=this.getProps();if(x&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wz(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Li(A=>{let P=this.getAxisMotionValue(A).get()||0;if(xr.test(P)){const{projection:M}=this.visualElement;if(M&&M.layout){const U=M.layout.layoutBox[A];U&&(P=Dn(U)*(parseFloat(P)/100))}}this.originPoint[A]=P}),E&&Pt.postRender(()=>E(v,w)),Ey(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:j,onDirectionLock:E,onDrag:O}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=w;if(j&&this.currentDirection===null){this.currentDirection=vB(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",w.point,A),this.updateAxis("y",w.point,A),this.visualElement.render(),O&&O(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Li(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new hE(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:cE(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Pt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Od(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=cB(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ol(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=hB(i.layoutBox,t):this.constraints=!1,this.elastic=pB(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Li(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ol(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=b6(i,a.root,this.visualElement.getTransformPagePoint());let u=dB(a.layout.layoutBox,o);if(n){const h=n(g6(u));this.hasMutatedConstraints=!!h,h&&(u=Wj(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},g=Li(y=>{if(!Od(y,n,this.currentDirection))return;let v=f&&f[y]||{};u&&(v={min:0,max:0});const w=a?200:1e6,x=a?40:1e7,j={type:"inertia",velocity:i?t[y]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Ey(this.visualElement,t),i.start($v(t,i,0,n,this.visualElement,!1))}stopAnimation(){Li(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Li(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Li(n=>{const{drag:i}=this.getProps();if(!Od(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];o.set(t[n]-Ut(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ol(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Li(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=fB({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Li(u=>{if(!Od(u,t,null))return;const h=this.getAxisMotionValue(u),{min:f,max:g}=this.constraints[u];h.set(Ut(f,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;gB.set(this.visualElement,this);const t=this.visualElement.current,n=uc(t,"pointerdown",f=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ol(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pt.read(i);const u=Tc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(Li(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=ky,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Od(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bB extends Qs{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new yB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const zw=e=>(t,n)=>{e&&Pt.postRender(()=>e(t,n))};class _B extends Qs{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new hE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:zw(t),onStart:zw(n),onMove:i,onEnd:(o,u)=>{delete this.session,a&&Pt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=uc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const n=Bw(e,t.target.x),i=Bw(e,t.target.y);return`${n}% ${i}%`}},xB={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=Ws.parse(e);if(a.length>5)return i;const o=Ws.createTransformer(e),u=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,f=n.y.scale*t.y;a[0+u]/=h,a[1+u]/=f;const g=Ut(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),o(a)}};let xg=!1;class wB extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=t;qz(SB),o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),xg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,xg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||Pt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fE(e){const[t,n]=Rj(),i=T.useContext(dv);return d.jsx(wB,{...e,layoutGroup:i,switchLayoutGroup:T.useContext(Gj),isPresent:t,safeToRemove:n})}const SB={borderRadius:{...Gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gu,borderTopRightRadius:Gu,borderBottomLeftRadius:Gu,borderBottomRightRadius:Gu,boxShadow:xB};function CB(e,t,n){const i=kn(e)?e:wl(e);return i.start($v("",i,t,n)),i.animation}const jB=(e,t)=>e.depth-t.depth;class EB{constructor(){this.children=[],this.isDirty=!1}add(t){pv(this.children,t),this.isDirty=!0}remove(t){gv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jB),this.isDirty=!1,this.children.forEach(t)}}function TB(e,t){const n=Xn.now(),i=({timestamp:a})=>{const o=a-n;o>=t&&(Ks(i),e(o-t))};return Pt.setup(i,!0),()=>Ks(i)}const mE=["TopLeft","TopRight","BottomLeft","BottomRight"],kB=mE.length,Iw=e=>typeof e=="string"?parseFloat(e):e,Uw=e=>typeof e=="number"||qe.test(e);function LB(e,t,n,i,a,o){a?(e.opacity=Ut(0,n.opacity??1,AB(i)),e.opacityExit=Ut(t.opacity??1,0,NB(i))):o&&(e.opacity=Ut(t.opacity??1,n.opacity??1,i));for(let u=0;u<kB;u++){const h=`border${mE[u]}Radius`;let f=Vw(t,h),g=Vw(n,h);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Uw(f)===Uw(g)?(e[h]=Math.max(Ut(Iw(f),Iw(g),i),0),(xr.test(g)||xr.test(f))&&(e[h]+="%")):e[h]=g}(t.rotate||n.rotate)&&(e.rotate=Ut(t.rotate||0,n.rotate||0,i))}function Vw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AB=pE(0,.5,tj),NB=pE(.5,.95,Mi);function pE(e,t,n){return i=>i<e?0:i>t?1:n(wc(e,t,i))}function Hw(e,t){e.min=t.min,e.max=t.max}function ki(e,t){Hw(e.x,t.x),Hw(e.y,t.y)}function Fw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qw(e,t,n,i,a){return e-=t,e=sf(e,1/n,i),a!==void 0&&(e=sf(e,1/a,i)),e}function MB(e,t=0,n=1,i=.5,a,o=e,u=e){if(xr.test(t)&&(t=parseFloat(t),t=Ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=Ut(o.min,o.max,i);e===o&&(h-=t),e.min=qw(e.min,t,n,h,a),e.max=qw(e.max,t,n,h,a)}function $w(e,t,[n,i,a],o,u){MB(e,t[n],t[i],t[a],t.scale,o,u)}const OB=["x","scaleX","originX"],PB=["y","scaleY","originY"];function Zw(e,t,n,i){$w(e.x,t,OB,n?n.x:void 0,i?i.x:void 0),$w(e.y,t,PB,n?n.y:void 0,i?i.y:void 0)}function Gw(e){return e.translate===0&&e.scale===1}function gE(e){return Gw(e.x)&&Gw(e.y)}function Kw(e,t){return e.min===t.min&&e.max===t.max}function RB(e,t){return Kw(e.x,t.x)&&Kw(e.y,t.y)}function Ww(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function yE(e,t){return Ww(e.x,t.x)&&Ww(e.y,t.y)}function Yw(e){return Dn(e.x)/Dn(e.y)}function Xw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DB{constructor(){this.members=[]}add(t){pv(this.members,t),t.scheduleRender()}remove(t){if(gv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zB(e,t,n){let i="";const a=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:w,skewX:x,skewY:j}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),x&&(i+=`skewX(${x}deg) `),j&&(i+=`skewY(${j}deg) `)}const h=e.x.scale*t.x,f=e.y.scale*t.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const wg=["","X","Y","Z"],BB=1e3;let IB=0;function Sg(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function vE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(a||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&vE(i)}function bE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=IB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HB),this.nodes.forEach(ZB),this.nodes.forEach(GB),this.nodes.forEach(FB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new EB)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new bv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Pj(u)&&!kz(u),this.instance=u;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{v=window.innerWidth}),e(u,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,y&&y(),y=TB(w,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(eS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||JB,{onLayoutAnimationStart:E,onLayoutAnimationComplete:O}=g.getProps(),A=!this.targetLayout||!yE(this.targetLayout,x),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Mv(j,"layout"),onPlay:E,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(y,P)}else v||eS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($B),this.nodes.forEach(UB),this.nodes.forEach(VB)):this.nodes.forEach(Qw),this.clearAllSnapshots();const h=Xn.now();wn.delta=ns(0,1e3/60,h-wn.timestamp),wn.timestamp=h,wn.isProcessing=!0,hg.update.process(wn),hg.preRender.process(wn),hg.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qB),this.sharedNodes.forEach(WB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!gE(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||$a(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),QB(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Wt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eI))){const{scroll:g}=this.root;g&&(ll(h.x,g.offset.x),ll(h.y,g.offset.y))}return h}removeElementScroll(u){const h=Wt();if(ki(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ki(h,u),ll(h.x,y.offset.x),ll(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const f=Wt();ki(f,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ul(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),$a(y.latestValues)&&ul(f,y.latestValues)}return $a(this.latestValues)&&ul(f,this.latestValues),f}removeTransform(u){const h=Wt();ki(h,u);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!$a(g.latestValues))continue;wy(g.latestValues)&&g.updateSnapshot();const y=Wt(),v=g.measurePageBox();ki(y,v),Zw(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return $a(this.latestValues)&&Zw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),hc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),Xj(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),hc(this.relativeTargetOrigin,this.target,w.target),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||Yj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ki(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;v6(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Wt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fw(this.prevProjectionDelta.x,this.projectionDelta.x),Fw(this.prevProjectionDelta.y,this.projectionDelta.y)),cc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cl(),this.projectionDelta=cl(),this.projectionDeltaWithTransform=cl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,g=f?f.latestValues:{},y={...this.latestValues},v=cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Wt(),x=f?f.source:void 0,j=this.layout?this.layout.source:void 0,E=x!==j,O=this.getStack(),A=!O||O.members.length<=1,P=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(XB));this.animationProgress=0;let M;this.mixTargetDelta=U=>{const V=U/1e3;tS(v.x,u.x,V),tS(v.y,u.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YB(this.relativeTarget,this.relativeTargetOrigin,w,V),M&&RB(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Wt()),ki(M,this.relativeTarget)),E&&(this.animationValues=y,LB(y,g,this.latestValues,V,P,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Vd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wl(0)),this.currentAnimation=CB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:g,latestValues:y}=u;if(!(!h||!f||!g)){if(this!==u&&this.layout&&g&&_E(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Wt();const v=Dn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=Dn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}ki(h,f),ul(h,y),cc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new DB),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const g={};f.z&&Sg("z",u,g,this.animationValues);for(let y=0;y<wg.length;y++)Sg(`rotate${wg[y]}`,u,g,this.animationValues),Sg(`skew${wg[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ud(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ud(h?.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=zB(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),u.transform=v;const{x:w,y:x}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Ec){if(y[j]===void 0)continue;const{correct:E,applyTo:O,isCSSVariable:A}=Ec[j],P=v==="none"?y[j]:E(y[j],g);if(O){const M=O.length;for(let U=0;U<M;U++)u[O[U]]=P}else A?this.options.visualElement.renderState.vars[j]=P:u[j]=P}this.options.layoutId&&(u.pointerEvents=g===this?Ud(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Jw),this.root.sharedNodes.clear()}}}function UB(e){e.updateLayout()}function VB(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Li(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],w=Dn(v);v.min=n[y].min,v.max=v.min+w}):_E(a,t.layoutBox,n)&&Li(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],w=Dn(n[y]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+w)});const u=cl();cc(u,n,t.layoutBox);const h=cl();o?cc(h,e.applyTransform(i,!0),t.measuredBox):cc(h,n,t.layoutBox);const f=!gE(u);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const x=Wt();hc(x,t.layoutBox,v.layoutBox);const j=Wt();hc(j,n,w.layoutBox),yE(x,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=x,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function HB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qB(e){e.clearSnapshot()}function Jw(e){e.clearMeasurements()}function Qw(e){e.isLayoutDirty=!1}function $B(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZB(e){e.resolveTargetDelta()}function GB(e){e.calcProjection()}function KB(e){e.resetSkewAndRotation()}function WB(e){e.removeLeadSnapshot()}function tS(e,t,n){e.translate=Ut(t.translate,0,n),e.scale=Ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nS(e,t,n,i){e.min=Ut(t.min,n.min,i),e.max=Ut(t.max,n.max,i)}function YB(e,t,n,i){nS(e.x,t.x,n.x,i),nS(e.y,t.y,n.y,i)}function XB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const JB={duration:.45,ease:[.4,0,.1,1]},iS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rS=iS("applewebkit/")&&!iS("chrome/")?Math.round:Mi;function sS(e){e.min=rS(e.min),e.max=rS(e.max)}function QB(e){sS(e.x),sS(e.y)}function _E(e,t,n){return e==="position"||e==="preserve-aspect"&&!sB(Yw(t),Yw(n),.2)}function eI(e){return e!==e.root&&e.scroll?.wasRoot}const tI=bE({attachResizeListener:(e,t)=>Tc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},xE=bE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cg.current){const e=new tI({});e.mount(window),e.setOptions({layoutScroll:!0}),Cg.current=e}return Cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nI={pan:{Feature:_B},drag:{Feature:bB,ProjectionNode:xE,MeasureLayout:fE}};function aS(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&Pt.postRender(()=>o(t,Fc(t)))}class iI extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=Sz(t,(n,i)=>(aS(this.node,i,"Start"),a=>aS(this.node,a,"End"))))}unmount(){}}class rI extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(Tc(this.node.current,"focus",()=>this.onFocus()),Tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oS(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&Pt.postRender(()=>o(t,Fc(t)))}class sI extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=Tz(t,(n,i)=>(oS(this.node,i,"Start"),(a,{success:o})=>oS(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,jg=new WeakMap,aI=e=>{const t=Ly.get(e.target);t&&t(e)},oI=e=>{e.forEach(aI)};function lI({root:e,...t}){const n=e||document;jg.has(n)||jg.set(n,{});const i=jg.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(oI,{root:e,...t})),i[a]}function uI(e,t,n){const i=lI(t);return Ly.set(e,n),i.observe(e),()=>{Ly.delete(e),i.unobserve(e)}}const cI={some:0,all:1};class hI extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:cI[a]},h=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,o&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=g?y:v;w&&w(f)};return uI(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dI(t,n))&&this.startObserver()}unmount(){}}function dI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fI={inView:{Feature:hI},tap:{Feature:sI},focus:{Feature:rI},hover:{Feature:iI}},mI={layout:{ProjectionNode:xE,MeasureLayout:fE}},pI={...Q6,...fI,...nI,...mI},lS=p6(pI,k6),wE=({marker:e,onClose:t})=>{const n=A3(),{organizationLogo:i}=Xs(),{isFavorite:a,toggleFavorite:o}=yf();return T.useEffect(()=>(n&&n.dragging.disable(),()=>{n&&n.dragging.enable()}),[n]),e?N2.createPortal(d.jsxs(zz,{children:[d.jsx(lS.div,{className:"bottom-sheet-backdrop",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}},"backdrop"),d.jsxs(lS.div,{className:"bottom-sheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.25,onDragEnd:(u,h)=>{h.offset.y>100&&t()},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[d.jsx("div",{className:"handle"}),d.jsxs("div",{className:"content",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:d.jsx("img",{src:Rc(e.logo,i),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&d.jsx(Dc,{isFavorite:a(e.companyId),onToggle:()=>o(e.companyId),size:"md"})]}),e.glyph&&d.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Booth ",e.glyph]}),e.website&&d.jsx("div",{className:"text-sm mb-1",children:d.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:e.website})}),e.info&&d.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",children:e.info}),d.jsx("button",{onClick:t,className:"mt-4 w-full bg-gray-200 py-2 rounded-md text-gray-700 font-medium hover:bg-gray-300",children:"Close"})]})]},"sheet")]}),document.body):null},gI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId;return d.jsxs("div",{className:"flex items-center gap-2 p-1",children:[n&&d.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white rounded-sm border border-gray-200 overflow-hidden",children:d.jsx("img",{src:Rc(e.logo,t),alt:"",className:"max-w-[70%] max-h-[70%] object-contain"})}),d.jsxs("div",{className:"flex flex-col min-w-0",children:[e.glyph&&d.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Booth ",e.glyph]}),e.name?d.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}):d.jsx("div",{className:"text-xs font-medium text-gray-500 italic",children:"Unassigned"})]})]})},yI=({marker:e,organizationLogo:t})=>{const n=e.name||e.companyId,{isFavorite:i,toggleFavorite:a}=yf(),o=UO(e);return d.jsx(jf,{closeButton:!0,className:"marker-popup-scrollable",autoPan:!0,maxWidth:320,minWidth:240,children:d.jsx("div",{className:"popup-scroll-container",children:d.jsxs("div",{className:"popup-scroll-content",children:[n&&d.jsx("div",{className:"w-24 h-24 mx-auto mb-3 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden flex-shrink-0",children:d.jsx("img",{src:Rc(e.logo,t),alt:e.name||"Logo",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?d.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[d.jsx("div",{className:"text-base font-semibold text-gray-900",children:e.name}),e.companyId&&d.jsx(Dc,{isFavorite:i(e.companyId),onToggle:()=>a(e.companyId),size:"sm"})]}):d.jsx("div",{className:"text-base font-semibold text-gray-500 italic mb-1",children:"Unassigned Booth"}),e.glyph&&d.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Booth ",e.glyph]}),e.website&&d.jsx("div",{className:"text-sm mb-2",children:d.jsx("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",style:{wordBreak:"break-all"},children:e.website})}),o&&d.jsx("div",{className:"text-sm text-gray-600 mt-2 pt-2 border-t border-gray-200",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:o})]})})})},vI=({marker:e,onMoreInfo:t,organizationLogo:n})=>{const i=e.name||e.companyId;return d.jsx(jf,{closeButton:!0,className:"marker-popup",autoPan:!0,children:d.jsxs("div",{className:"p-2 text-center",children:[i&&d.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center bg-white rounded-md border border-gray-300 overflow-hidden",children:d.jsx("img",{src:Rc(e.logo,n),alt:"",className:"max-w-[80%] max-h-[80%] object-contain"})}),e.name?d.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name}):d.jsx("div",{className:"font-semibold text-gray-500 italic text-sm",children:"Unassigned Booth"}),e.glyph&&d.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:["Booth ",e.glyph]}),i&&d.jsx("button",{onClick:t,className:"bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full hover:bg-blue-600",children:"More Info"})]})})},SE=({marker:e,onMoreInfo:t,isMobile:n,organizationLogo:i})=>{const a=e&&(e.glyph!==void 0&&e.glyph!==null&&e.glyph!==""||e.name);return d.jsxs(d.Fragment,{children:[!n&&d.jsxs(d.Fragment,{children:[a&&d.jsx(P3,{direction:"top",offset:[0,-10],opacity:.95,children:d.jsx(gI,{marker:e,organizationLogo:i})}),d.jsx(yI,{marker:e,organizationLogo:i})]}),n&&d.jsx(vI,{marker:e,onMoreInfo:t,organizationLogo:i})]})};function CE({marker:e,subscriptions:t,assignments:n,onAssign:i,onUnassign:a,isLoading:o,onClose:u}){const[h,f]=T.useState(""),g=T.useRef(null),y=n.find(j=>j.marker_id===e.id),v=t.filter(j=>{const E=n.filter(M=>M.company_id===j.company_id),O=E.length,A=j.booth_count||1;return!E.some(M=>M.marker_id===e.id)&&O<A}).map(j=>{const O=n.filter(M=>M.company_id===j.company_id).length,A=j.booth_count||1,P=A-O;return{id:j.company_id,name:j.company?.name||"Unknown Company",logo:j.company?.logo||null,website:j.company?.website||null,assignedBooths:O,totalBooths:A,remainingBooths:P}}).filter(j=>j.name.toLowerCase().includes(h.toLowerCase()));T.useEffect(()=>{g.current&&g.current.focus()},[]);const w=async j=>{await i(e.id,j),u()},x=async()=>{y&&(await a(e.id,y.company_id),u())};return d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-300",children:d.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(Se,{path:fl,size:.8,className:"text-blue-600"}),e.name||`Marker ${e.id}`]})}),y&&(()=>{const E=n.filter(P=>P.company_id===y.company_id).length,A=t.find(P=>P.company_id===y.company_id)?.booth_count||1;return d.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.company?.logo?d.jsx("img",{src:Ji(y.company.logo),alt:y.company.name,className:"w-8 h-8 object-contain flex-shrink-0"}):d.jsx(Se,{path:fl,size:1.2,className:"text-gray-400 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:y.company?.name||"Unknown"}),d.jsxs("div",{className:"text-xs text-gray-600",children:["Using ",E," of ",A," booth",A!==1?"s":""]})]})]}),d.jsx("button",{onClick:x,disabled:o,className:"ml-2 px-2 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Unassign company",children:d.jsx(Se,{path:ts,size:.55,className:"inline"})})]})})})(),v.length>5&&d.jsxs("div",{className:"mb-2 relative",children:[d.jsx(Se,{path:io,size:.65,className:"absolute left-2 top-2 text-gray-400"}),d.jsx("input",{ref:g,type:"text",value:h,onChange:j=>f(j.target.value),placeholder:"Search companies...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?d.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:h?"No companies match your search":y?"No other companies available":"No subscribed companies available"}):d.jsx("div",{className:"space-y-1",children:v.map(j=>d.jsxs("button",{onClick:()=>w(j.id),disabled:o,className:"w-full flex items-center gap-2 p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",title:`Assign ${j.name} (${j.remainingBooths} booth${j.remainingBooths!==1?"s":""} available)`,children:[j.logo?d.jsx("img",{src:Ji(j.logo),alt:j.name,className:"w-8 h-8 object-contain flex-shrink-0"}):d.jsx(Se,{path:fl,size:1.2,className:"text-gray-400 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm text-gray-800 truncate",children:j.name}),d.jsxs("div",{className:"text-xs text-gray-500",children:[j.remainingBooths," of ",j.totalBooths," booth",j.totalBooths!==1?"s":""," available"]})]})]},j.id))})}),o&&d.jsx("div",{className:"mt-2 text-xs text-center text-blue-600",children:"Processing..."})]})}function Af(e=new Date().getFullYear()){const[t,n]=T.useState([]),[i,a]=T.useState(!0),[o,u]=T.useState(null),h=T.useRef(e);T.useEffect(()=>{h.current=e},[e]);const f=T.useCallback(async P=>{try{a(!0),u(null);const M=P!==void 0?P:h.current,{data:U,error:V}=await ye.from("assignments").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).eq("event_year",M).order("marker_id",{ascending:!0});if(V)throw V;n(U||[])}catch(M){console.error("Error loading assignments:",M),u(M.message)}finally{a(!1)}},[]),g=T.useCallback(async P=>{try{const M={...P,event_year:P.event_year||e},{data:U,error:V}=await ye.from("assignments").insert([M]).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(V)throw V;return n(B=>[...B,U].sort((q,te)=>q.marker_id-te.marker_id)),{data:U,error:null}}catch(M){return console.error("Error creating assignment:",M),{data:null,error:M.message}}},[e]),y=T.useCallback(async(P,M)=>{try{const{data:U,error:V}=await ye.from("assignments").update(M).eq("id",P).select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info)),
          marker:Markers_Core(id, lat, lng)
        `).single();if(V)throw V;return n(B=>B.map(q=>q.id===P?U:q).sort((q,te)=>q.marker_id-te.marker_id)),{data:U,error:null}}catch(U){return console.error("Error updating assignment:",U),{data:null,error:U.message}}},[]),v=T.useCallback(async P=>{try{const{error:M}=await ye.from("assignments").delete().eq("id",P);if(M)throw M;return n(U=>U.filter(V=>V.id!==P)),{error:null}}catch(M){return console.error("Error deleting assignment:",M),{error:M.message}}},[]),w=T.useCallback(async(P,M)=>g({marker_id:P,company_id:M}),[g]),x=T.useCallback(async(P,M)=>{try{const{error:U}=await ye.from("assignments").delete().eq("marker_id",P).eq("company_id",M).eq("event_year",e);if(U)throw U;return n(V=>V.filter(B=>!(B.marker_id===P&&B.company_id===M))),{error:null}}catch(U){return console.error("Error unassigning company:",U),{error:U.message}}},[e]),j=T.useCallback(P=>t.filter(M=>M.marker_id===P),[t]),E=T.useCallback(P=>t.filter(M=>M.company_id===P),[t]),O=T.useCallback(async()=>{try{const{data:P,error:M}=await ye.rpc("archive_assignments",{year_to_archive:e});if(M)throw M;return n([]),{data:P,error:null}}catch(P){return console.error("Error archiving assignments:",P),{data:null,error:P.message}}},[e]),A=T.useCallback(async P=>{try{const{data:M,error:U}=await ye.from("assignments_archive").select(`
          *,
          company:companies(id, name, logo, website, info, company_translations(language_code, info))
        `).eq("event_year",P).order("marker_id",{ascending:!0});if(U)throw U;return{data:M,error:null}}catch(M){return console.error("Error loading archived assignments:",M),{data:null,error:M.message}}},[]);return T.useEffect(()=>{f()},[f]),T.useEffect(()=>{f()},[e,f]),T.useEffect(()=>{const P=ye.channel(`assignments-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"assignments",filter:`event_year=eq.${e}`},M=>{M.eventType==="INSERT"&&M.new?n(U=>(U.some(B=>B.id===M.new.id)||f(),U)):f()}).subscribe();return()=>{ye.removeChannel(P)}},[e,f]),{assignments:t,loading:i,error:o,createAssignment:g,updateAssignment:y,deleteAssignment:v,assignCompanyToMarker:w,unassignCompanyFromMarker:x,getMarkerAssignments:j,getCompanyAssignments:E,archiveCurrentYear:O,loadArchivedAssignments:A,reload:f}}function Zv({isOpen:e,title:t,message:n,confirmText:i,cancelText:a,onConfirm:o,onCancel:u,variant:h}){if(!e)return null;const f={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",default:"bg-blue-600 hover:bg-blue-700"},g=f[h]||f.default;return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:u,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",onClick:y=>y.stopPropagation(),children:[t&&d.jsx("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-gray-900 mb-2",children:t}),d.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:a}),d.jsx("button",{onClick:o,className:`px-4 py-2 text-white rounded-md transition-colors ${g}`,autoFocus:!0,children:i})]})]})})}Zv.propTypes={isOpen:Le.bool.isRequired,title:Le.string,message:Le.string.isRequired,confirmText:Le.string,cancelText:Le.string,onConfirm:Le.func.isRequired,onCancel:Le.func.isRequired,variant:Le.oneOf(["default","danger","warning"])};Zv.defaultProps={title:null,confirmText:"Confirm",cancelText:"Cancel",variant:"default"};function Gv({message:e,type:t,onClose:n,duration:i}){T.useEffect(()=>{if(i>0){const u=setTimeout(n,i);return()=>clearTimeout(u)}},[i,n]);const a={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},o=a[t]||a.info;return d.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white max-w-sm ${o}`,role:"alert",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsx("p",{className:"text-sm",children:e}),d.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-lg leading-none","aria-label":"Close",children:""})]})})}Gv.propTypes={message:Le.string.isRequired,type:Le.oneOf(["success","error","warning","info"]),onClose:Le.func.isRequired,duration:Le.number};Gv.defaultProps={type:"info",duration:5e3};const jE=T.createContext(null);function EE({children:e}){const[t,n]=T.useState({isOpen:!1,title:null,message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"default",resolve:null}),[i,a]=T.useState([]),o=T.useCallback(({title:E,message:O,confirmText:A,cancelText:P,variant:M}={})=>new Promise(U=>{n({isOpen:!0,title:E||null,message:O||"",confirmText:A||"Confirm",cancelText:P||"Cancel",variant:M||"default",resolve:U})}),[]),u=T.useCallback(()=>{t.resolve?.(!0),n(E=>({...E,isOpen:!1}))},[t.resolve]),h=T.useCallback(()=>{t.resolve?.(!1),n(E=>({...E,isOpen:!1}))},[t.resolve]),f=T.useCallback(({message:E,type:O="info",duration:A=5e3}={})=>{const P=Date.now()+Math.random();return a(M=>[...M,{id:P,message:E,type:O,duration:A}]),P},[]),g=T.useCallback((E,O)=>f({message:E,type:"success",duration:O}),[f]),y=T.useCallback((E,O)=>f({message:E,type:"error",duration:O}),[f]),v=T.useCallback((E,O)=>f({message:E,type:"warning",duration:O}),[f]),w=T.useCallback((E,O)=>f({message:E,type:"info",duration:O}),[f]),x=T.useCallback(E=>{a(O=>O.filter(A=>A.id!==E))},[]),j={confirm:o,toast:f,toastSuccess:g,toastError:y,toastWarning:v,toastInfo:w};return d.jsxs(jE.Provider,{value:j,children:[e,d.jsx(Zv,{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,variant:t.variant,onConfirm:u,onCancel:h}),d.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:i.map(E=>d.jsx(Gv,{message:E.message,type:E.type,duration:E.duration,onClose:()=>x(E.id)},E.id))})]})}EE.propTypes={children:Le.node.isRequired};function Rl(){const e=T.useContext(jE);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e}function bI({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,selectedYear:i,isAdminView:a,selectedMarkerId:o,onMarkerSelect:u}){const h=hv("md"),[f,g]=T.useState(null),y=a&&o!==void 0?e.find(ae=>ae.id===o):f,v=a&&u?ae=>u(ae?ae.id:null):g,{organizationLogo:w}=Xs(),[x,j]=T.useState({isOpen:!1,position:null,marker:null}),[E,O]=T.useState(!1),{subscriptions:A}=Ic(i||new Date().getFullYear()),{assignments:P,assignCompanyToMarker:M,unassignCompanyFromMarker:U}=Af(i||new Date().getFullYear()),{confirm:V}=Rl(),B=T.useCallback(ae=>$=>{const{lat:Q,lng:se}=$.target.getLatLng();t(ae,{lat:Q,lng:se})},[t]),q=T.useCallback(ae=>$=>{a&&(Ot.DomEvent.preventDefault($),j({isOpen:!0,position:$.latlng,marker:ae,timestamp:Date.now()}))},[a]),te=T.useCallback(async(ae,$)=>{const Q=P.filter(se=>se.marker_id===ae);if(Q.length>0){const re=A.find(we=>we.company_id===$)?.company?.name||"this company",ce=e.find(we=>we.id===ae),F=ce?.glyph||ce?.id||"this booth";let ee;if(Q.length===1){const we=Q[0].company?.name||"another company";ee=`Booth ${F} is already assigned to ${we}.

Assign ${re} as an additional company for this booth?`}else{const we=Q.map(R=>R.company?.name).filter(Boolean).join(", ");ee=`Booth ${F} is already assigned to ${Q.length} companies: ${we}.

Assign ${re} as another company for this booth?`}if(!await V({title:"Multiple Assignments",message:ee,confirmText:"Assign",variant:"warning"}))return}O(!0);try{await M(ae,$)}catch(se){console.error("Error assigning company:",se)}finally{O(!1)}},[M,P,A,e]),K=T.useCallback(async(ae,$)=>{O(!0);try{await U(ae,$)}catch(Q){console.error("Error unassigning company:",Q)}finally{O(!1)}},[U]);return d.jsxs(d.Fragment,{children:[e.filter(ae=>ae.id>=1001).map(ae=>{const $=[ae.lat,ae.lng],Q=cv({className:ae.type?`marker-icon marker-type-${ae.type}`:"marker-icon",prefix:ae.prefix,iconUrl:xl(ae.iconUrl||`${ae.type||"default"}.svg`),iconSize:Array.isArray(ae.iconSize)?ae.iconSize:[17,28],glyph:ae.glyph||"?",glyphColor:ae.glyphColor||"white",glyphSize:ae.glyphSize||"12px",glyphAnchor:ae.glyphAnchor||[0,-5],isActive:y?.id===ae.id}),se=n(ae),re={popupopen:ce=>ce.target.closeTooltip(),...se&&{dragend:B(ae.id)},...a&&{contextmenu:q(ae)}};return d.jsx(FC,{position:$,icon:Q,draggable:se,eventHandlers:re,children:d.jsx(SE,{marker:ae,isMobile:h,organizationLogo:w,onMoreInfo:()=>{v(ae)}})},ae.id)}),x.isOpen&&x.marker&&d.jsx(jf,{position:x.position,onClose:()=>j({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:d.jsx(CE,{marker:x.marker,subscriptions:A,assignments:P,onAssign:te,onUnassign:K,isLoading:E,onClose:()=>j({isOpen:!1,position:null,marker:null})})},`context-${x.marker.id}-${x.timestamp||Date.now()}`),h&&y&&d.jsx(wE,{marker:y,onClose:()=>v(null)})]})}var Qu={exports:{}},_I=Qu.exports,uS;function xI(){return uS||(uS=1,(function(e,t){(function(n,i){i(t)})(_I,function(n){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=o,h=this._zoom;if(o.__parent)for(;u.__parent._zoom>=h;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,u):this._animationAddLayerNonAnimated(o,u)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,u){if(!L.Util.isArray(o))return this.addLayer(o);var h=this._featureGroup,f=this._nonPointGroup,g=this.options.chunkedLoading,y=this.options.chunkInterval,v=this.options.chunkProgress,w=o.length,x=0,j=!0,E;if(this._map){var O=new Date().getTime(),A=L.bind(function(){var M=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();x<w;x++){if(g&&x%200===0){var U=new Date().getTime()-M;if(U>y)break}if(E=o[x],E instanceof L.LayerGroup){j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(E,o),w=o.length;continue}if(!E.getLatLng){f.addLayer(E),u||this.fire("layeradd",{layer:E});continue}if(!this.hasLayer(E)&&(this._addLayer(E,this._maxZoom),u||this.fire("layeradd",{layer:E}),E.__parent&&E.__parent.getChildCount()===2)){var V=E.__parent.getAllChildMarkers(),B=V[0]===E?V[1]:V[0];h.removeLayer(B)}}v&&v(x,w,new Date().getTime()-O),x===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(A,this.options.chunkDelay)},this);A()}else for(var P=this._needsClustering;x<w;x++){if(E=o[x],E instanceof L.LayerGroup){j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(E,o),w=o.length;continue}if(!E.getLatLng){f.addLayer(E);continue}this.hasLayer(E)||P.push(E)}return this},removeLayers:function(o){var u,h,f=o.length,g=this._featureGroup,y=this._nonPointGroup,v=!0;if(!this._map){for(u=0;u<f;u++){if(h=o[u],h instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(h,o),f=o.length;continue}this._arraySplice(this._needsClustering,h),y.removeLayer(h),this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h})}return this}if(this._unspiderfy){this._unspiderfy();var w=o.slice(),x=f;for(u=0;u<x;u++){if(h=w[u],h instanceof L.LayerGroup){this._extractNonGroupLayers(h,w),x=w.length;continue}this._unspiderfyLayer(h)}}for(u=0;u<f;u++){if(h=o[u],h instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(h,o),f=o.length;continue}if(!h.__parent){y.removeLayer(h),this.fire("layerremove",{layer:h});continue}this._removeLayer(h,!0,!0),this.fire("layerremove",{layer:h}),g.hasLayer(h)&&(g.removeLayer(h),h.clusterShow&&h.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)o.extend(this._needsClustering[u].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,u){var h=this._needsClustering.slice(),f=this._needsRemoving,g,y,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(h),y=h.length-1;y>=0;y--){for(g=!0,v=f.length-1;v>=0;v--)if(f[v].layer===h[y]){g=!1;break}g&&o.call(u,h[y])}this._nonPointGroup.eachLayer(o,u)},getLayers:function(){var o=[];return this.eachLayer(function(u){o.push(u)}),o},getLayer:function(o){var u=null;return o=parseInt(o,10),this.eachLayer(function(h){L.stamp(h)===o&&(u=h)}),u},hasLayer:function(o){if(!o)return!1;var u,h=this._needsClustering;for(u=h.length-1;u>=0;u--)if(h[u]===o)return!0;for(h=this._needsRemoving,u=h.length-1;u>=0;u--)if(h[u].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,u){var h=this._map;typeof u!="function"&&(u=function(){});var f=function(){(h.hasLayer(o)||h.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",f,this),this.off("animationend",f,this),h.hasLayer(o)?u():o.__parent._icon&&(this.once("spiderfied",u,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?u():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var u,h,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,u=0,h=this._needsRemoving.length;u<h;u++)f=this._needsRemoving[u],f.newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(u=0,h=this._needsRemoving.length;u<h;u++)f=this._needsRemoving[u],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),h=this._needsClustering,this._needsClustering=[],this.addLayers(h,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var u=o;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(o,u){for(var h=o.length-1;h>=0;h--)if(o[h]===u)return o.splice(h,1),!0},_removeFromGridUnclustered:function(o,u){for(var h=this._map,f=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());u>=g&&f[u].removeObject(o,h.project(o.getLatLng(),u));u--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var u=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),u&&o.target.openPopup()}},_moveChild:function(o,u,h){o._latlng=u,this.removeLayer(o),o._latlng=h,this.addLayer(o)},_childMarkerDragEnd:function(o){var u=o.target.__dragStart;delete o.target.__dragStart,u&&this._moveChild(o.target,u,o.target._latlng)},_removeLayer:function(o,u,h){var f=this._gridClusters,g=this._gridUnclustered,y=this._featureGroup,v=this._map,w=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(o,this._maxZoom);var x=o.__parent,j=x._markers,E;for(this._arraySplice(j,o);x&&(x._childCount--,x._boundsNeedUpdate=!0,!(x._zoom<w));)u&&x._childCount<=1?(E=x._markers[0]===o?x._markers[1]:x._markers[0],f[x._zoom].removeObject(x,v.project(x._cLatLng,x._zoom)),g[x._zoom].addObject(E,v.project(E.getLatLng(),x._zoom)),this._arraySplice(x.__parent._childClusters,x),x.__parent._markers.push(E),E.__parent=x.__parent,x._icon&&(y.removeLayer(x),h||y.addLayer(E))):x._iconNeedsUpdate=!0,x=x.__parent;delete o.__parent},_isOrIsParent:function(o,u){for(;u;){if(o===u)return!0;u=u.parentNode}return!1},fire:function(o,u,h){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,u,h)},listens:function(o,u){return L.FeatureGroup.prototype.listens.call(this,o,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,u)},_defaultIconCreateFunction:function(o){var u=o.getChildCount(),h=" marker-cluster-";return u<10?h+="small":u<100?h+="medium":h+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+h,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,u=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(u||f||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var u=o.layer,h=u;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;h._childClusters.length===1;)h=h._childClusters[0];h._zoom===this._maxZoom&&h._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,g=this._map;(o||h||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),h=this.options.maxClusterRadius,f=h;typeof h!="function"&&(f=function(){return h}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var g=o;g>=u;g--)this._gridClusters[g]=new L.DistanceGrid(f(g)),this._gridUnclustered[g]=new L.DistanceGrid(f(g));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(o,u){var h=this._gridClusters,f=this._gridUnclustered,g=Math.floor(this._map.getMinZoom()),y,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);u>=g;u--){y=this._map.project(o.getLatLng(),u);var w=h[u].getNearObject(y);if(w){w._addChild(o),o.__parent=w;return}if(w=f[u].getNearObject(y),w){var x=w.__parent;x&&this._removeLayer(w,!1);var j=new this._markerCluster(this,u,w,o);h[u].addObject(j,this._map.project(j._cLatLng,u)),w.__parent=j,o.__parent=j;var E=j;for(v=u-1;v>x._zoom;v--)E=new this._markerCluster(this,v,E),h[v].addObject(E,this._map.project(w.getLatLng(),v));x._addChild(E),this._removeFromGridUnclustered(w,u);return}f[u].addObject(o,y)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var u=this._maxLat;return u!==void 0&&(o.getNorth()>=u&&(o._northEast.lat=1/0),o.getSouth()<=-u&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,u){if(u===o)this._featureGroup.addLayer(o);else if(u._childCount===2){u._addToMap();var h=u.getAllChildMarkers();this._featureGroup.removeLayer(h[0]),this._featureGroup.removeLayer(h[1])}else u._updateIcon()},_extractNonGroupLayers:function(o,u){var h=o.getLayers(),f=0,g;for(u=u||[];f<h.length;f++){if(g=h[f],g instanceof L.LayerGroup){this._extractNonGroupLayers(g,u);continue}u.push(g)}return u},_overrideMarkerIcon:function(o){var u=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,u){this._animationAddLayerNonAnimated(o,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,u){var h=this._getExpandedVisibleBounds(),f=this._featureGroup,g=Math.floor(this._map.getMinZoom()),y;this._ignoreMove=!0,this._topClusterLevel._recursively(h,o,g,function(v){var w=v._latlng,x=v._markers,j;for(h.contains(w)||(w=null),v._isSingleParent()&&o+1===u?(f.removeLayer(v),v._recursivelyAddChildrenToMap(null,u,h)):(v.clusterHide(),v._recursivelyAddChildrenToMap(w,u,h)),y=x.length-1;y>=0;y--)j=x[y],h.contains(j._latlng)||f.removeLayer(j)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(h,u),f.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(h,o,u,function(v){v._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(h,o,g,function(v){f.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,u){this._animationZoomOutSingle(this._topClusterLevel,o-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,u){var h=this,f=this._featureGroup;f.addLayer(o),u!==o&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(u.getLatLng())),o.clusterHide(),this._enqueue(function(){f.removeLayer(o),o.clusterShow(),h._animationEnd()})):(this._forceLayout(),h._animationStart(),h._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,u,h){var f=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(f,g,u+1,h);var y=this;this._forceLayout(),o._recursivelyBecomeVisible(f,h),this._enqueue(function(){if(o._childCount===1){var v=o._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else o._recursively(f,h,g,function(w){w._recursivelyRemoveChildrenFromMap(f,g,u+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,u,h,f){L.Marker.prototype.initialize.call(this,h?h._cLatLng||h.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,h&&this._addChild(h),f&&this._addChild(f)},getAllChildMarkers:function(o,u){o=o||[];for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h].getAllChildMarkers(o,u);for(var f=this._markers.length-1;f>=0;f--)u&&this._markers[f].__dragStart||o.push(this._markers[f]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var u=this._childClusters.slice(),h=this._group._map,f=h.getBoundsZoom(this._bounds),g=this._zoom+1,y=h.getZoom(),v;u.length>0&&f>g;){g++;var w=[];for(v=0;v<u.length;v++)w=w.concat(u[v]._childClusters);u=w}f>g?this._group._map.setView(this._latlng,g):f<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(u||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(u||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,u=this._childClusters,h=0,f=0,g=this._childCount,y,v,w,x;if(g!==0){for(this._resetBounds(),y=0;y<o.length;y++)w=o[y]._latlng,this._bounds.extend(w),h+=w.lat,f+=w.lng;for(y=0;y<u.length;y++)v=u[y],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),w=v._wLatLng,x=v._childCount,h+=w.lat*x,f+=w.lng*x;this._latlng=this._wLatLng=new L.LatLng(h/g,f/g),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,u,h){this._recursively(o,this._group._map.getMinZoom(),h-1,function(f){var g=f._markers,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(u),v.clusterHide())},function(f){var g=f._childClusters,y,v;for(y=g.length-1;y>=0;y--)v=g[y],v._icon&&(v._setPos(u),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,u,h,f){this._recursively(o,f,u,function(g){g._recursivelyAnimateChildrenIn(o,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),h),g._isSingleParent()&&h-1===f?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(o,u,h)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(o,u){this._recursively(o,this._group._map.getMinZoom(),u,null,function(h){h.clusterShow()})},_recursivelyAddChildrenToMap:function(o,u,h){this._recursively(h,this._group._map.getMinZoom()-1,u,function(f){if(u!==f._zoom)for(var g=f._markers.length-1;g>=0;g--){var y=f._markers[g];h.contains(y._latlng)&&(o&&(y._backupLatlng=y.getLatLng(),y.setLatLng(o),y.clusterHide&&y.clusterHide()),f._group._featureGroup.addLayer(y))}},function(f){f._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var u=this._markers.length-1;u>=0;u--){var h=this._markers[u];h._backupLatlng&&(h.setLatLng(h._backupLatlng),delete h._backupLatlng)}if(o-1===this._zoom)for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._restorePosition();else for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,u,h,f){var g,y;this._recursively(o,u-1,h-1,function(v){for(y=v._markers.length-1;y>=0;y--)g=v._markers[y],(!f||!f.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(v){for(y=v._childClusters.length-1;y>=0;y--)g=v._childClusters[y],(!f||!f.contains(g._latlng))&&(v._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(o,u,h,f,g){var y=this._childClusters,v=this._zoom,w,x;if(u<=v&&(f&&f(this),g&&v===h&&g(this)),v<u||v<h)for(w=y.length-1;w>=0;w--)x=y[w],x._boundsNeedUpdate&&x._recalculateBounds(),o.intersects(x._bounds)&&x._recursively(o,u,h,f,g)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,u){var h=this._getCoord(u.x),f=this._getCoord(u.y),g=this._grid,y=g[f]=g[f]||{},v=y[h]=y[h]||[],w=L.Util.stamp(o);this._objectPoint[w]=u,v.push(o)},updateObject:function(o,u){this.removeObject(o),this.addObject(o,u)},removeObject:function(o,u){var h=this._getCoord(u.x),f=this._getCoord(u.y),g=this._grid,y=g[f]=g[f]||{},v=y[h]=y[h]||[],w,x;for(delete this._objectPoint[L.Util.stamp(o)],w=0,x=v.length;w<x;w++)if(v[w]===o)return v.splice(w,1),x===1&&delete y[h],!0},eachObject:function(o,u){var h,f,g,y,v,w,x,j=this._grid;for(h in j){v=j[h];for(f in v)for(w=v[f],g=0,y=w.length;g<y;g++)x=o.call(u,w[g]),x&&(g--,y--)}},getNearObject:function(o){var u=this._getCoord(o.x),h=this._getCoord(o.y),f,g,y,v,w,x,j,E,O=this._objectPoint,A=this._sqCellSize,P=null;for(f=h-1;f<=h+1;f++)if(v=this._grid[f],v){for(g=u-1;g<=u+1;g++)if(w=v[g],w)for(y=0,x=w.length;y<x;y++)j=w[y],E=this._sqDist(O[L.Util.stamp(j)],o),(E<A||E<=A&&P===null)&&(A=E,P=j)}return P},_getCoord:function(o){var u=Math.floor(o/this._cellSize);return isFinite(u)?u:o},_sqDist:function(o,u){var h=u.x-o.x,f=u.y-o.y;return h*h+f*f}},(function(){L.QuickHull={getDistant:function(o,u){var h=u[1].lat-u[0].lat,f=u[0].lng-u[1].lng;return f*(o.lat-u[0].lat)+h*(o.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(o,u){var h=0,f=null,g=[],y,v,w;for(y=u.length-1;y>=0;y--){if(v=u[y],w=this.getDistant(v,o),w>0)g.push(v);else continue;w>h&&(h=w,f=v)}return{maxPoint:f,newPoints:g}},buildConvexHull:function(o,u){var h=[],f=this.findMostDistantPointFromBaseLine(o,u);return f.maxPoint?(h=h.concat(this.buildConvexHull([o[0],f.maxPoint],f.newPoints)),h=h.concat(this.buildConvexHull([f.maxPoint,o[1]],f.newPoints)),h):[o[0]]},getConvexHull:function(o){var u=!1,h=!1,f=!1,g=!1,y=null,v=null,w=null,x=null,j=null,E=null,O;for(O=o.length-1;O>=0;O--){var A=o[O];(u===!1||A.lat>u)&&(y=A,u=A.lat),(h===!1||A.lat<h)&&(v=A,h=A.lat),(f===!1||A.lng>f)&&(w=A,f=A.lng),(g===!1||A.lng<g)&&(x=A,g=A.lng)}h!==u?(E=v,j=y):(E=x,j=w);var P=[].concat(this.buildConvexHull([E,j],o),this.buildConvexHull([j,E],o));return P}}})(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),u=[],h,f;for(f=o.length-1;f>=0;f--)h=o[f].getLatLng(),u.push(h);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),u=this._group,h=u._map,f=h.latLngToLayerPoint(this._latlng),g;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?g=this._group.options.spiderfyShapePositions(o.length,f):o.length>=this._circleSpiralSwitchover?g=this._generatePointsSpiral(o.length,f):(f.y+=10,g=this._generatePointsCircle(o.length,f)),this._animationSpiderfy(o,g)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,u){var h=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),f=h/this._2PI,g=this._2PI/o,y=[],v,w;for(f=Math.max(f,35),y.length=o,v=0;v<o;v++)w=this._circleStartAngle+v*g,y[v]=new L.Point(u.x+f*Math.cos(w),u.y+f*Math.sin(w))._round();return y},_generatePointsSpiral:function(o,u){var h=this._group.options.spiderfyDistanceMultiplier,f=h*this._spiralLengthStart,g=h*this._spiralFootSeparation,y=h*this._spiralLengthFactor*this._2PI,v=0,w=[],x;for(w.length=o,x=o;x>=0;x--)x<o&&(w[x]=new L.Point(u.x+f*Math.cos(v),u.y+f*Math.sin(v))._round()),v+=g/f+x*5e-4,f+=y/v;return w},_noanimationUnspiderfy:function(){var o=this._group,u=o._map,h=o._featureGroup,f=this.getAllChildMarkers(null,!0),g,y;for(o._ignoreMove=!0,this.setOpacity(1),y=f.length-1;y>=0;y--)g=f[y],h.removeLayer(g),g._preSpiderfyLatlng&&(g.setLatLng(g._preSpiderfyLatlng),delete g._preSpiderfyLatlng),g.setZIndexOffset&&g.setZIndexOffset(0),g._spiderLeg&&(u.removeLayer(g._spiderLeg),delete g._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:f}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,u){var h=this._group,f=h._map,g=h._featureGroup,y=this._group.options.spiderLegPolylineOptions,v,w,x,j;for(h._ignoreMove=!0,v=0;v<o.length;v++)j=f.layerPointToLatLng(u[v]),w=o[v],x=new L.Polyline([this._latlng,j],y),f.addLayer(x),w._spiderLeg=x,w._preSpiderfyLatlng=w._latlng,w.setLatLng(j),w.setZIndexOffset&&w.setZIndexOffset(1e6),g.addLayer(w);this.setOpacity(.3),h._ignoreMove=!1,h.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,u){var h=this,f=this._group,g=f._map,y=f._featureGroup,v=this._latlng,w=g.latLngToLayerPoint(v),x=L.Path.SVG,j=L.extend({},this._group.options.spiderLegPolylineOptions),E=j.opacity,O,A,P,M,U,V;for(E===void 0&&(E=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),x?(j.opacity=0,j.className=(j.className||"")+" leaflet-cluster-spider-leg"):j.opacity=E,f._ignoreMove=!0,O=0;O<o.length;O++)A=o[O],V=g.layerPointToLatLng(u[O]),P=new L.Polyline([v,V],j),g.addLayer(P),A._spiderLeg=P,x&&(M=P._path,U=M.getTotalLength()+.1,M.style.strokeDasharray=U,M.style.strokeDashoffset=U),A.setZIndexOffset&&A.setZIndexOffset(1e6),A.clusterHide&&A.clusterHide(),y.addLayer(A),A._setPos&&A._setPos(w);for(f._forceLayout(),f._animationStart(),O=o.length-1;O>=0;O--)V=g.layerPointToLatLng(u[O]),A=o[O],A._preSpiderfyLatlng=A._latlng,A.setLatLng(V),A.clusterShow&&A.clusterShow(),x&&(P=A._spiderLeg,M=P._path,M.style.strokeDashoffset=0,P.setStyle({opacity:E}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:h,markers:o})},200)},_animationUnspiderfy:function(o){var u=this,h=this._group,f=h._map,g=h._featureGroup,y=o?f._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):f.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),w=L.Path.SVG,x,j,E,O,A,P;for(h._ignoreMove=!0,h._animationStart(),this.setOpacity(1),j=v.length-1;j>=0;j--)x=v[j],x._preSpiderfyLatlng&&(x.closePopup(),x.setLatLng(x._preSpiderfyLatlng),delete x._preSpiderfyLatlng,P=!0,x._setPos&&(x._setPos(y),P=!1),x.clusterHide&&(x.clusterHide(),P=!1),P&&g.removeLayer(x),w&&(E=x._spiderLeg,O=E._path,A=O.getTotalLength()+.1,O.style.strokeDashoffset=A,E.setStyle({opacity:0})));h._ignoreMove=!1,setTimeout(function(){var M=0;for(j=v.length-1;j>=0;j--)x=v[j],x._spiderLeg&&M++;for(j=v.length-1;j>=0;j--)x=v[j],x._spiderLeg&&(x.clusterShow&&x.clusterShow(),x.setZIndexOffset&&x.setZIndexOffset(0),M>1&&g.removeLayer(x),f.removeLayer(x._spiderLeg),delete x._spiderLeg);h._animationEnd(),h.fire("unspiderfied",{cluster:u,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var u,h;for(u in o)for(h=o[u].__parent;h;)h._iconNeedsUpdate=!0,h=h.__parent},_refreshSingleMarkerModeMarkers:function(o){var u,h;for(u in o)h=o[u],this.hasLayer(h)&&h.setIcon(this._overrideMarkerIcon(h))}}),L.Marker.include({refreshIconOptions:function(o,u){var h=this.options.icon;return L.setOptions(h,o),this.setIcon(h),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=i,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(Qu,Qu.exports)),Qu.exports}xI();function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var wI=["children"];function cS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function hS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(n),!0).forEach(function(i){SI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function SI(e,t,n){return(t=CI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CI(e){var t=jI(e,"string");return kc(t)=="symbol"?t:t+""}function jI(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(kc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dS(e,t){return LI(e)||kI(e,t)||TI(e,t)||EI()}function EI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TI(e,t){if(e){if(typeof e=="string")return fS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fS(e,t):void 0}}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function kI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,a,o,u,h=[],f=!0,g=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(i=o.call(n)).done)&&(h.push(i.value),h.length!==t);f=!0);}catch(y){g=!0,a=y}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function LI(e){if(Array.isArray(e))return e}function AI(e,t){if(e==null)return{};var n,i,a=NI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}Ot.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});Ot.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function MI(e,t){e.children;var n=AI(e,wI),i={},a={};Object.entries(n).forEach(function(u){var h=dS(u,2),f=h[0],g=h[1];return f.startsWith("on")?a[f]=g:i[f]=g});var o=new Ot.MarkerClusterGroup(i);return Object.entries(a).forEach(function(u){var h=dS(u,2),f=h[0],g=h[1],y="cluster".concat(f.substring(2).toLowerCase());o.on(y,g)}),{instance:o,context:hS(hS({},t),{},{layerContainer:o})}}var OI=T3(MI);const Fa={CHUNKED_LOADING:!0,SHOW_COVERAGE_ON_HOVER:!0,SPIDERFY_ON_MAX_ZOOM:!1,REMOVE_OUTSIDE_VISIBLE_BOUNDS:!0,DISABLE_CLUSTERING_AT_ZOOM:18,MAX_CLUSTER_RADIUS:400,MAX_MARKER_ID:1001},Pd={SIZE:[15,25],GLYPH_COLOR:"white",GLYPH_SIZE:"9px",GLYPH_ANCHOR:[0,-4]},PI=e=>e.iconUrl?xl(e.iconUrl):xl(`${e.type||"default"}.svg`),RI=(e,t=!1,n=!1)=>{let i=e.type?`marker-icon marker-type-${e.type}`:"marker-icon";return t&&(i+=" marker-active"),n&&(i+=" marker-favorited"),cv({className:i,prefix:e.prefix,iconUrl:PI(e),iconSize:Array.isArray(e.iconSize)?e.iconSize:Pd.SIZE,glyph:e.glyph||"",glyphColor:e.glyphColor||Pd.GLYPH_COLOR,glyphSize:e.glyphSize||Pd.GLYPH_SIZE,glyphAnchor:e.glyphAnchor||Pd.GLYPH_ANCHOR})},DI=e=>`${e.id}-${e.lat}-${e.lng}-${e.iconUrl||""}-${e.glyph||""}`,zI=T.memo(({marker:e,isDraggable:t,icon:n,eventHandlers:i,markerRef:a,isMobile:o,organizationLogo:u,onMarkerSelect:h})=>d.jsx(FC,{position:[e.lat,e.lng],icon:n,draggable:t,eventHandlers:i,ref:a,children:d.jsx(SE,{marker:e,isMobile:o,organizationLogo:u,onMoreInfo:()=>h(e)})}),(e,t)=>{const n=e.icon===t.icon,i=e.isDraggable===t.isDraggable,a=e.eventHandlers===t.eventHandlers;return n&&i&&a?!(e.marker.name!==t.marker.name||e.marker.logo!==t.marker.logo||e.marker.website!==t.marker.website||e.marker.info!==t.marker.info):!1});function Kv({safeMarkers:e,updateMarker:t,isMarkerDraggable:n,iconCreateFunction:i,selectedYear:a,isAdminView:o,selectedMarkerId:u,onMarkerSelect:h,focusMarkerId:f,onFocusHandled:g}){const y=T.useRef({}),v=hv("md"),[w,x]=T.useState(null),j=o&&u!==void 0?e.find(z=>z.id===u):w,E=o&&h?z=>h(z?z.id:null):x,{organizationLogo:O,loading:A}=Xs();let P=null;try{P=yf()}catch{}const M=P?.isFavorite||(()=>!1),[U,V]=T.useState({isOpen:!1,position:null,marker:null}),[B,q]=T.useState(!1),{subscriptions:te}=Ic(a||new Date().getFullYear()),{assignments:K,assignCompanyToMarker:ae,unassignCompanyFromMarker:$}=Af(a||new Date().getFullYear()),{confirm:Q}=Rl(),se=T.useMemo(()=>e.filter(z=>z.id<Fa.MAX_MARKER_ID),[e]),re=T.useCallback(z=>W=>{const{lat:oe,lng:me}=W.target.getLatLng();t(z,{lat:oe,lng:me})},[t]),ce=T.useCallback(z=>(y.current[z]||(y.current[z]=gi.createRef()),y.current[z]),[]),F=T.useCallback(z=>W=>{o&&(Ot.DomEvent.preventDefault(W),V({isOpen:!0,position:W.latlng,marker:z,timestamp:Date.now()}))},[o]),ee=T.useCallback(async(z,W)=>{const oe=K.filter(me=>me.marker_id===z);if(oe.length>0){const Ce=te.find(De=>De.company_id===W)?.company?.name||"this company",Re=e.find(De=>De.id===z),be=Re?.glyph||Re?.id||"this booth";let ke;if(oe.length===1){const De=oe[0].company?.name||"another company";ke=`Booth ${be} is already assigned to ${De}.

Assign ${Ce} as an additional company for this booth?`}else{const De=oe.map(He=>He.company?.name).filter(Boolean).join(", ");ke=`Booth ${be} is already assigned to ${oe.length} companies: ${De}.

Assign ${Ce} as another company for this booth?`}if(!await Q({title:"Multiple Assignments",message:ke,confirmText:"Assign",variant:"warning"}))return}q(!0);try{await ae(z,W)}catch(me){console.error("Error assigning company:",me)}finally{q(!1)}},[ae,K,te,e]),Y=T.useCallback(async(z,W)=>{q(!0);try{await $(z,W)}catch(oe){console.error("Error unassigning company:",oe)}finally{q(!1)}},[$]),we=T.useRef({}),R=T.useCallback(z=>{const W=`${z.id}-${n?"draggable":"static"}-${o?"admin":"visitor"}`;if(!we.current[W]){const oe={popupopen:me=>me.target.closeTooltip()};n&&(oe.dragend=re(z.id)),o&&(oe.contextmenu=F(z)),we.current[W]=oe}return we.current[W]},[n,re,o,F]),H=T.useRef({}),X=T.useCallback((z,W)=>{const oe=z.companyId?M(z.companyId):!1,me=`${z.id}-${z.iconUrl||""}-${z.glyph||""}-${z.glyphColor||""}-${W}-${oe}`;return H.current[me]||(H.current[me]=RI(z,W,oe)),H.current[me]},[M]);return T.useEffect(()=>{const z=new Set(se.map(W=>W.id));Object.keys(we.current).forEach(W=>{const oe=parseInt(W.split("-")[0],10);z.has(oe)||delete we.current[W]}),Object.keys(H.current).forEach(W=>{const oe=parseInt(W.split("-")[0],10);z.has(oe)||delete H.current[W]})},[se]),T.useEffect(()=>{if(!f)return;const W=setTimeout(()=>{const oe=y.current[f];oe?.current&&(oe.current.openPopup(),g&&g())},1200);return()=>clearTimeout(W)},[f,se,g]),A?null:d.jsxs(d.Fragment,{children:[d.jsx(OI,{chunkedLoading:Fa.CHUNKED_LOADING,showCoverageOnHover:Fa.SHOW_COVERAGE_ON_HOVER,spiderfyOnMaxZoom:Fa.SPIDERFY_ON_MAX_ZOOM,removeOutsideVisibleBounds:Fa.REMOVE_OUTSIDE_VISIBLE_BOUNDS,disableClusteringAtZoom:Fa.DISABLE_CLUSTERING_AT_ZOOM,maxClusterRadius:Fa.MAX_CLUSTER_RADIUS,iconCreateFunction:i,children:se.map(z=>{const W=j?.id===z.id,oe=X(z,W),me=n(z),Ce=DI(z);return d.jsx(zI,{marker:z,isDraggable:me,icon:oe,eventHandlers:R(z),markerRef:ce(z.id),isMobile:v,organizationLogo:O,onMarkerSelect:E},Ce)})},"cluster-group"),U.isOpen&&U.marker&&d.jsx(jf,{position:U.position,onClose:()=>V({isOpen:!1,position:null,marker:null}),closeButton:!0,closeOnClick:!0,closeOnEscapeKey:!0,autoClose:!1,maxWidth:300,minWidth:250,children:d.jsx(CE,{marker:U.marker,subscriptions:te,assignments:K,onAssign:ee,onUnassign:Y,isLoading:B,onClose:()=>V({isOpen:!1,position:null,marker:null})})},`context-${U.marker.id}-${U.timestamp||Date.now()}`),v&&j&&d.jsx(wE,{marker:j,onClose:()=>E(null)})]})}Kv.propTypes={safeMarkers:Le.arrayOf(Le.shape({id:Le.number.isRequired,lat:Le.number.isRequired,lng:Le.number.isRequired,type:Le.string,iconUrl:Le.string,iconSize:Le.arrayOf(Le.number),glyph:Le.string,glyphColor:Le.string,glyphSize:Le.string,glyphAnchor:Le.arrayOf(Le.number),prefix:Le.string,name:Le.string,logo:Le.string,website:Le.string,info:Le.string,companyId:Le.number})).isRequired,updateMarker:Le.func.isRequired,isMarkerDraggable:Le.func.isRequired,iconCreateFunction:Le.func.isRequired,selectedYear:Le.number,isAdminView:Le.bool,selectedMarkerId:Le.number,onMarkerSelect:Le.func,focusMarkerId:Le.number,onFocusHandled:Le.func};Kv.defaultProps={selectedYear:new Date().getFullYear(),isAdminView:!1,selectedMarkerId:null,onMarkerSelect:null,focusMarkerId:null,onFocusHandled:null};function BI({isAdminView:e,mapInstance:t,updateMarker:n}){const{t:i}=Rt(),[a,o]=T.useState(!1),[u,h]=T.useState(!1),[f,g]=T.useState(""),[y,v]=T.useState(""),w=()=>{h(!0),g(""),v("")},x=async()=>{if(!f||isNaN(Number(f))){v("Please enter a valid numeric ID.");return}if(await E(f)){v("ID already exists. Please choose another.");return}h(!1),o(!0),v("")},j=()=>{h(!1),g(""),v("")};T.useEffect(()=>{if(!a||!t||!f)return;const O=A=>{const P=A.latlng,M={...II({lat:P.lat,lng:P.lng}),id:Number(f)};typeof n=="function"&&n(M.id,M,{add:!0}),o(!1),g(""),t.off("click",O)};return t.on("click",O),()=>{t.off("click",O)}},[a,t,n,f]);async function E(O){try{const{supabase:A}=await Qi(async()=>{const{supabase:M}=await Promise.resolve().then(()=>m2);return{supabase:M}},void 0),P=["Markers_Core","Markers_Appearance","Markers_Content"];for(const M of P){const{data:U,error:V}=await A.from(M).select("id").eq("id",Number(O));if(V)return!1;if(U&&U.length>0)return!0}return!1}catch{return!1}}return e?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:w,"aria-label":"Add marker",className:"bg-white rounded-full shadow p-2 flex items-center justify-center print-hide",style:{position:"absolute",left:10,top:60,zIndex:1001,width:44,height:44,border:"none",cursor:a?"crosshair":"pointer",background:a?"#e3f2fd":"white"},title:a?"Click on map to place marker":"Add marker",children:[d.jsx(I2.Icon,{path:jO,size:1.5,color:"#1976d2","aria-hidden":"true",style:{width:"42px",height:"42px"}}),d.jsx("span",{className:"sr-only",children:"Add marker"})]}),u&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100svh",background:"rgba(0,0,0,0.3)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{style:{background:"white",borderRadius:8,boxShadow:"0 2px 16px rgba(25,118,210,0.15)",padding:32,minWidth:320,display:"flex",flexDirection:"column",alignItems:"center"},children:[d.jsx("h2",{style:{color:"#1976d2",fontWeight:700,marginBottom:16},children:"Enter Marker ID"}),d.jsx("input",{type:"number",value:f,onChange:O=>g(O.target.value),style:{fontSize:18,padding:"8px 12px",border:"2px solid #1976d2",borderRadius:4,marginBottom:12,width:"100%"},placeholder:"Marker ID (integer)",min:1}),y&&d.jsx("div",{style:{color:"red",marginBottom:8},children:y}),d.jsxs("div",{style:{display:"flex",gap:12},children:[d.jsx("button",{onClick:x,style:{background:"#1976d2",color:"white",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:"Confirm"}),d.jsx("button",{onClick:j,style:{background:"#eee",color:"#1976d2",border:"none",borderRadius:4,padding:"8px 20px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]})]})})]}):null}function II({lat:e,lng:t}){return{id:null,lat:e,lng:t,name:"",label:"",logo:"",coreLocked:!1}}var TE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mS=gi.createContext&&gi.createContext(TE),UI=["attr","size","title"];function VI(e,t){if(e==null)return{};var n=HI(e,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function HI(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},af.apply(this,arguments)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(i){FI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function FI(e,t,n){return t=qI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qI(e){var t=$I(e,"string");return typeof t=="symbol"?t:t+""}function $I(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kE(e){return e&&e.map((t,n)=>gi.createElement(t.tag,of({key:n},t.attr),kE(t.child)))}function ea(e){return t=>gi.createElement(ZI,af({attr:of({},e.attr)},t),kE(e.child))}function ZI(e){var t=n=>{var{attr:i,size:a,title:o}=e,u=VI(e,UI),h=a||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),gi.createElement("svg",af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:of(of({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&gi.createElement("title",null,o),e.children)};return mS!==void 0?gi.createElement(mS.Consumer,null,n=>t(n)):t(TE)}function GI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function KI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function WI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function YI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(e)}function LE(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function XI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(e)}function JI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}function QI(e){return ea({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function e8(e){e&&e.zoomIn()}function t8(e){e&&e.zoomOut()}function n8(e,t,n){e&&e.setView(t,n)}function i8({mapInstance:e}){const t=()=>{window.L&&e&&e.printControl?e.printControl.printMap():window.print()};return d.jsx("button",{onClick:t,className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center","aria-label":"Print map",title:"Print map",type:"button",children:d.jsx(YI,{size:24,color:"#1976d2"})})}const r8={appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:"none",background:"#fff",border:"2px solid #1976d2",borderRadius:4,width:18,height:18,display:"inline-block",position:"relative",marginRight:8,cursor:"pointer",verticalAlign:"middle"};function s8({mapInstance:e,mapCenter:t,mapZoom:n,searchControlRef:i,isAdminView:a,showLayersMenu:o,setShowLayersMenu:u,activeLayer:h,setActiveLayer:f,showRectanglesAndHandles:g,setShowRectanglesAndHandles:y,MAP_LAYERS:v}){const w=()=>e8(e),x=()=>t8(e),j=()=>n8(e,t,n);return d.jsxs("div",{className:"map-controls-print-hide",style:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:"10px"},children:[d.jsxs("button",{onClick:j,"aria-label":"Home",className:"bg-white rounded-full shadow p-2 flex items-center justify-center",style:{width:44,height:44},children:[d.jsx(WI,{size:28,color:"#1976d2","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Home"})]}),d.jsxs("button",{onClick:w,"aria-label":"Zoom in",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[d.jsx(LE,{size:28,color:"#1976d2","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Zoom in"})]}),d.jsxs("button",{onClick:x,"aria-label":"Zoom out",className:"bg-white rounded-full shadow p-2 mb-2 flex items-center justify-center",style:{width:44,height:44},children:[d.jsx(XI,{size:28,color:"#1976d2","aria-hidden":"true"}),d.jsx("span",{className:"sr-only",children:"Zoom out"})]}),a&&d.jsx(i8,{mapInstance:e}),a&&d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("button",{"aria-label":"Map layers",className:"bg-white rounded-full shadow p-2 flex items-center justify-center mt-0 hover:bg-gray-100 focus:outline-none",style:{width:44,height:44},onClick:()=>u(E=>!E),children:[d.jsx(Se,{path:bO,size:1.2,color:"#1976d2"}),d.jsx("span",{className:"sr-only",children:"Map layers"})]}),o&&d.jsxs("div",{className:"absolute right-0 mt-2 bg-white rounded shadow-lg border z-50",style:{minWidth:200,padding:8,color:"#1976d2"},role:"menu","aria-label":"Layer selection",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Base Layers"}),v.map(E=>d.jsx("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${h===E.key?"bg-blue-50 font-bold":""}`,onClick:()=>f(E.key),role:"menuitem",style:{color:"#1976d2"},children:E.name},E.key)),d.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Map Features"}),d.jsxs("label",{className:"flex items-center px-2 py-1 cursor-pointer hover:bg-blue-50 rounded",style:{color:"#1976d2"},children:[d.jsx("input",{type:"checkbox",checked:g,onChange:E=>y(E.target.checked),style:r8}),d.jsx("span",{style:{position:"relative",left:-26,width:18,height:18,pointerEvents:"none",display:g?"inline-block":"none"},children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{position:"absolute",top:0,left:0},children:d.jsx("polyline",{points:"4,9 8,13 14,5",stroke:"#1976d2",strokeWidth:"2.5",fill:"none"})})}),d.jsx("span",{style:{marginLeft:g?-8:0},children:"Booth Surface"})]})]})]})]})}function a8(e){return function(n){const i=Q2(e),a="/Map".endsWith("/")?"/Map":"/Map/";return cv({iconUrl:`${a}assets/icons/glyph-marker-icon-orange.svg`,iconSize:[50,82],glyph:`<div style='display:flex;align-items:center;justify-content:center;width:100%;height:100%;'>
  <img src='${i}' alt='logo' style='width:40px;height:40px;object-fit:contain;display:block;margin:auto;position:relative;left:1px;top:10px;' />
      </div>`,glyphColor:"white",glyphSize:"40px",className:"custom-cluster-icon"})}}function o8(e){return e.angle||0}function qs(e,t,n){const i=n*Math.PI/180,a=e*Math.cos(i)-t*Math.sin(i),o=e*Math.sin(i)+t*Math.cos(i);return[a,o]}function Ku(e){return e/111320}function Wu(e,t){return e/(40075e3*Math.cos(t*Math.PI/180)/360)}function l8(e){return e*111320}function u8(e,t){return e*(40075e3*Math.cos(t*Math.PI/180)/360)}function c8({mapInstance:e,markers:t,rectangleSize:n,isAdminView:i,showRectanglesAndHandles:a,updateMarker:o,rectangleLayerRef:u}){if(!e)return;u.current||(u.current=Ot.layerGroup(),u.current.addTo(e));const h=u.current;h._markerLayers||(h._markerLayers={}),Object.keys(h._markerLayers).forEach(f=>{t.find(g=>g.id===f)||(h.removeLayer(h._markerLayers[f].rectangle),h.removeLayer(h._markerLayers[f].handle),delete h._markerLayers[f])}),t.forEach(f=>{if(f.lat&&f.lng){const g=Ot.latLng(f.lat,f.lng),y=Array.isArray(f.rectangle)&&f.rectangle.length===2?f.rectangle:n,v=Number(y[0])/2,w=Number(y[1])/2,x=o8(f),j="#1976d2",E=[qs(-v,-w,x),qs(v,-w,x),qs(v,w,x),qs(-v,w,x)],O=E.map(([M,U])=>Ot.latLng(g.lat+Ku(U),g.lng+Wu(M,g.lat)));let A,P;if(h._markerLayers[f.id]){A=h._markerLayers[f.id].rectangle,A.setLatLngs(O),P=h._markerLayers[f.id].handle;const[M,U]=E[2],V=Ot.latLng(g.lat+Ku(U),g.lng+Wu(M,g.lat));P.setLatLng(V)}else{A=Ot.polygon(O,{color:j,weight:1});const[M,U]=E[2],V=Ot.latLng(g.lat+Ku(U),g.lng+Wu(M,g.lat));let B;if(i&&!f.coreLocked){const q=Ot.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;"></div>',iconSize:[8,8],iconAnchor:[4,4]});B=Ot.marker(V,{icon:q,draggable:!0,interactive:!0,keyboard:!0,title:"Drag to rotate"}),B.on("dragstart",function(){e&&e.dragging.disable()});let te=x;B.on("drag",function(K){const ae=K.target.getLatLng(),$=u8(ae.lng-g.lng,g.lat),Q=l8(ae.lat-g.lat);let re=Math.atan2(Q,$)*180/Math.PI;re<0&&(re+=360),te=re;const ce=[qs(-v,-w,te),qs(v,-w,te),qs(v,w,te),qs(-v,w,te)],F=ce.map(([R,H])=>Ot.latLng(g.lat+Ku(H),g.lng+Wu(R,g.lat)));A.setLatLngs(F);const[ee,Y]=ce[2],we=Ot.latLng(g.lat+Ku(Y),g.lng+Wu(ee,g.lat));B.setLatLng(we)}),B.on("dragend",function(){e&&e.dragging.enable(),o(f.id,{angle:te})})}else{const q=Ot.divIcon({className:"rotation-handle-icon",html:'<div style="width:8px;height:8px;background:#1976d2;border-radius:50%;opacity:0.5;"></div>',iconSize:[8,8],iconAnchor:[4,4]});B=Ot.marker(V,{icon:q,draggable:!1,interactive:!1,keyboard:!1,title:"Locked"})}h.addLayer(A),h.addLayer(B),h._markerLayers[f.id]={rectangle:A,handle:B}}}}),Object.values(h._markerLayers).forEach(({rectangle:f,handle:g})=>{a?(h.addLayer(f),h.addLayer(g)):(h.removeLayer(f),h.removeLayer(g))})}function h8(){const e=T.useCallback(n=>{},[]),t=T.useCallback(n=>{},[]);return{trackMarkerView:e,trackMapInteraction:t}}var Eg={exports:{}},gS;function d8(){return gS||(gS=1,(function(e){(function(t){e.exports=t(uv())})(function(t){return t.Control.Search=t.Control.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,i){var a=i.split("."),o=a.pop(),u=a.length,h=a[0],f=1;if(u>0)for(;(n=n[h])&&f<u;)h=a[f++];if(n)return n[o]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){t.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new t.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=t.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof t.Marker||this.options.marker instanceof t.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new t.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=t.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):t.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var i=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){i.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",t.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var i=t.DomUtil.create("div",n,this._container);return i.style.display="none",t.DomEvent.on(i,"click",t.DomEvent.stop,this).on(i,"click",this.hideAlert,this),i},_createInput:function(n,i){var a=this,o=t.DomUtil.create("label",i,this._container),u=t.DomUtil.create("input",i,this._container);return u.type="text",u.size=this._inputMinSize,u.value="",u.autocomplete="off",u.autocorrect="off",u.autocapitalize="off",u.placeholder=n,u.style.display="none",u.role="search",u.id=u.role+u.type+u.size,o.htmlFor=u.id,o.style.display="none",o.value=n,t.DomEvent.disableClickPropagation(u).on(u,"keyup",this._handleKeypress,this).on(u,"paste",function(h){setTimeout(function(f){a._handleKeypress(f)},10,h)},this).on(u,"blur",this.collapseDelayed,this).on(u,"focus",this.collapseDelayedStop,this),u},_createCancel:function(n,i){var a=t.DomUtil.create("a",i,this._container);return a.href="#",a.title=n,a.style.display="none",a.innerHTML="<span>&otimes;</span>",t.DomEvent.on(a,"click",t.DomEvent.stop,this).on(a,"click",this.cancel,this),a},_createButton:function(n,i){var a=t.DomUtil.create("a",i,this._container);return a.href="#",a.title=n,t.DomEvent.on(a,"click",t.DomEvent.stop,this).on(a,"click",this._handleSubmit,this).on(a,"focus",this.collapseDelayedStop,this).on(a,"blur",this.collapseDelayed,this),a},_createTooltip:function(n){var i=this,a=t.DomUtil.create("ul",n,this._container);return a.style.display="none",t.DomEvent.disableClickPropagation(a).on(a,"blur",this.collapseDelayed,this).on(a,"wheel",function(o){i.collapseDelayedStop(),t.DomEvent.stopPropagation(o)},this).on(a,"mouseover",function(o){i.collapseDelayedStop()},this),a},_createTip:function(n,i){var a;if(this.options.buildTip){if(a=this.options.buildTip.call(this,n,i),typeof a=="string"){var o=t.DomUtil.create("div");o.innerHTML=a,a=o.firstChild}}else a=t.DomUtil.create("li",""),a.innerHTML=n;return t.DomUtil.addClass(a,"search-tip"),a._text=n,this.options.tipAutoSubmit&&t.DomEvent.disableClickPropagation(a).on(a,"click",t.DomEvent.stop,this).on(a,"click",function(u){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),a},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,i){var a,o,u,h={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];a=this.options.initial?"^":"",o=this.options.casesensitive?void 0:"i",u=new RegExp(a+n,o);for(let f in i)u.test(f)&&(h[f]=i[f]);return h},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let i in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(i,n[i]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var i=this,a=this.options.propertyName,o=this.options.propertyLoc,u={};if(t.Util.isArray(o))for(let h in n)u[i._getPath(n[h],a)]=t.latLng(i._getPath(n[h],o[0]),i._getPath(n[h],o[1]));else for(let h in n)u[i._getPath(n[h],a)]=t.latLng(i._getPath(n[h],o));return u},_recordsFromJsonp:function(n,i){t.Control.Search.callJsonp=i;var a=t.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),o=t.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return a.type="text/javascript",a.src=o,{abort:function(){a.parentNode.removeChild(a)}}},_recordsFromAjax:function(n,i){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var a=t.Browser.ie&&!window.atob&&document.querySelector,o=a?new XDomainRequest:new XMLHttpRequest,u=t.Util.template(this._getUrl(n),{s:n});return o.open("GET",u),o.onload=function(){i(JSON.parse(o.responseText))},o.onreadystatechange=function(){o.readyState===4&&o.status===200&&this.onload()},o.send(),o},_searchInLayer:function(n,i,a){var o=this,u;n instanceof t.Control.Search.Marker||(n instanceof t.Marker||n instanceof t.CircleMarker?o._getPath(n.options,a)?(u=n.getLatLng(),u.layer=n,i[o._getPath(n.options,a)]=u):o._getPath(n.feature.properties,a)&&(u=n.getLatLng(),u.layer=n,i[o._getPath(n.feature.properties,a)]=u):n instanceof t.Path||n instanceof t.Polyline||n instanceof t.Polygon?o._getPath(n.options,a)?(u=n.getBounds().getCenter(),u.layer=n,i[o._getPath(n.options,a)]=u):o._getPath(n.feature.properties,a)&&(u=n.getBounds().getCenter(),u.layer=n,i[o._getPath(n.feature.properties,a)]=u):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(a)&&(n.getLatLng&&typeof n.getLatLng=="function"?(u=n.getLatLng(),u.layer=n,i[n.feature.properties[a]]=u):n.getBounds&&typeof n.getBounds=="function"&&(u=n.getBounds().getCenter(),u.layer=n,i[n.feature.properties[a]]=u)):n instanceof t.LayerGroup&&n.eachLayer(function(h){o._searchInLayer(h,i,a)}))},_recordsFromLayer:function(){var n=this,i={},a=this.options.propertyName;return this._layer.eachLayer(function(o){n._searchInLayer(o,i,a)}),i},_autoType:function(){var n=this._input.value.length,i=this._tooltip.firstChild?this._tooltip.firstChild._text:"",a=i.length;if(i.indexOf(this._input.value)===0)if(this._input.value=i,this._handleAutoresize(),this._input.createTextRange){var o=this._input.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",a),o.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,a):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=a)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var i=this._input.value.length;n.moveStart("character",i),n.moveEnd("character",i),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var i=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){i._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var i=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:i})},_fillRecordsCache:function(){var n=this,i=this._input.value,a;this._curReq&&this._curReq.abort&&this._curReq.abort(),t.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),a=this._filterData(this._input.value,this._recordsCache),this.showTooltip(a),t.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,i,function(o){n._recordsCache=n._formatData.call(n,o),n.options.sourceData?a=n._filterData(n._input.value,n._recordsCache):a=n._recordsCache,n.showTooltip(a),t.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=83,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var i=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let o=0;o<i.length;o++)t.DomUtil.removeClass(i[o],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=i.length-1)t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,t.DomUtil.addClass(i[this._tooltip.currentSelection],"search-tip-select"),this._input.value=i[this._tooltip.currentSelection]._text;var a=i[this._tooltip.currentSelection].offsetTop;a+i[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=a-this._tooltip.clientHeight+i[this._tooltip.currentSelection].clientHeight:a<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=a)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,i,a){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,i){var a=this;return a._map.once("moveend zoomend",function(o){a._markerSearch&&a._markerSearch.addTo(a._map).setLatLng(n)}),a._moveToLocation(n,i,a._map),a.options.autoCollapse&&a.collapse(),a}}),t.Control.Search.Marker=t.Marker.extend({includes:t.version[0]==="1"?t.Evented.prototype:t.Mixin.Events,options:{icon:new t.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,i){t.setOptions(this,i),i.icon===!0&&(i.icon=new t.Icon.Default),t.Marker.prototype.initialize.call(this,n,i),t.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new t.CircleMarker(n,this.options.circle))},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){t.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return t.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&t.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&t.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,i=200,a=5,o=parseInt(n._radius/a),u=this.options.circle.radius,h=n._radius*2,f=0;n._timerAnimLoc=setInterval(function(){f+=.5,o+=f,h-=o,n.setRadius(h),h<u&&(clearInterval(n._timerAnimLoc),n.setRadius(u))},i)}return this}}),t.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=t.control.search(this.options.searchControl),this.addControl(this.searchControl))}),t.control.search=function(n){return new t.Control.Search(n)},t.Control.Search})})(Eg)),Eg.exports}d8();var Tg={exports:{}},yS;function f8(){return yS||(yS=1,(function(e,t){(function(n,i){e.exports=n(uv()),typeof i<"u"&&i.L&&(i.L.Control.MiniMap=n(L),i.L.control.minimap=function(a,o){return new i.L.Control.MiniMap(a,o)})})(function(n){var i=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(a,o){n.Util.setOptions(this,o),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=a},onAdd:function(a){this._mainMap=a,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var o={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:a.options.crs};return o=n.Util.extend(this.options.mapOptions,o),this._miniMap=new n.Map(this._container,o),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(a){n.Control.prototype.addTo.call(this,a);var o=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(a){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(a){this._miniMap.removeLayer(this._layer),this._layer=a,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(a,o,u,h,f,g){var y=n.DomUtil.create("a",u,h);y.innerHTML=a,y.href="#",y.title=o;var v=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",v).on(y,"mousedown",v).on(y,"dblclick",v).on(y,"click",n.DomEvent.preventDefault).on(y,"click",f,g),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(a){a!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(a){if(this._miniMapMoving)this._miniMapMoving=!1;else{var o=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(o,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(a){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(a){if(!this.options.centerFixed){var o=this._aimingRect.getBounds(),u=this._miniMap.latLngToContainerPoint(o.getSouthWest()),h=this._miniMap.latLngToContainerPoint(o.getNorthEast());this._lastAimingRectPosition={sw:u,ne:h}}},_onMiniMapMoving:function(a){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(a){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var a=this.options.zoomLevelFixed;return this._isDefined(a)&&this._isInteger(a)},_decideZoom:function(a){if(this._isZoomLevelFixed())return a?this.options.zoomLevelFixed:this._mainMap.getZoom();if(a)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var o=this._miniMap.getZoom()-this._mainMap.getZoom(),u=this._miniMap.getZoom()-this.options.zoomLevelOffset,h;return o>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(h=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):h=this._mainMap.getZoom():h=u,this._lastMiniMapZoom=this._miniMap.getZoom(),h},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(a){return typeof a=="number"},_isDefined:function(a){return typeof a<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var a={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",a),this.fire("toggle",a)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new i().addTo(this))}),i},window)})(Tg)),Tg.exports}f8();const m8=e=>[e.name,e.glyph,e.label].filter(Boolean).join(" | "),vS=(e,t)=>t&&e&&e.coreLocked===!1;function Nf({isAdminView:e,markersState:t,updateMarker:n,selectedYear:i,selectedMarkerId:a,onMarkerSelect:o}){const[u,h]=T.useState({}),[f,g]=T.useState(!1),[y,v]=T.useState(Ed[0].key),[w,x]=T.useState(!1),[j,E]=T.useState(null),[O,A]=T.useState(null),{organizationLogo:P}=Xs(),[M,U]=eM(),V=T.useRef(null),B=T.useRef(null),q=T.useRef(!1),[te,K]=T.useState(null),ae=T.useMemo(()=>a8(P),[P]),{t:$}=Rt(),Q=hv();h8();const se=T.useMemo(()=>Array.isArray(t)?t:[],[t]);T.useEffect(()=>{se.forEach(F=>{if(F.logo){const ee=new window.Image;ee.src=Ji(F.logo)}})},[se]),T.useEffect(()=>{j&&c8({mapInstance:j,markers:se,rectangleSize:un.RECTANGLE_SIZE,isAdminView:e,showRectanglesAndHandles:w,updateMarker:n,rectangleLayerRef:B})},[j,se,e,w,n]),T.useEffect(()=>{if(!j)return;const F=Ot.layerGroup();se.forEach(ee=>{if(ee.lat&&ee.lng){const Y=m8(ee),we=Ot.marker([ee.lat,ee.lng],{opacity:0,interactive:!1});we.feature={type:"Feature",properties:{searchText:Y}},we.bindPopup(ee.name||ee.label||""),we._markerId=ee.id,F.addLayer(we)}}),A(F)},[j,se]),T.useEffect(()=>{if(!j||!O)return;const F=new Ot.Control.Search({layer:O,propertyName:"searchText",initial:!1,zoom:un.SEARCH_ZOOM,marker:{icon:!1,animate:!0},textPlaceholder:"Search for name or booth...",position:"topleft"});return j.addControl(F),V.current=F,F.on("search:locationfound",ee=>{if(ee?.layer){const Y=ee.layer.getLatLng(),we=ee.layer._markerId;we&&(j.flyTo(Y,un.SEARCH_ZOOM,{animate:!0}),setTimeout(()=>{K(we)},800)),F._input&&F._input.blur(),F.hideAlert&&F.hideAlert(),F.collapse&&F.collapse()}}),()=>{j&&F&&(j.removeControl(F),V.current=null)}},[j,O]),T.useEffect(()=>{if(j&&!j._minimapControl){const F=Ot.tileLayer(Ed[0].url,{attribution:"",minZoom:0,maxZoom:16}),ee=new Ot.Control.MiniMap(F,{position:"bottomright",width:un.MINIMAP.WIDTH,height:un.MINIMAP.HEIGHT,zoomLevelFixed:un.MINIMAP.ZOOM_LEVEL,toggleDisplay:!0,centerFixed:un.DEFAULT_POSITION,aimingRectOptions:{color:un.MINIMAP.AIMING_COLOR,weight:2,opacity:.9,fillOpacity:.1,fill:!0},shadowRectOptions:{color:un.MINIMAP.SHADOW_COLOR,weight:1,opacity:.5,fillOpacity:.05,fill:!0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"}});ee.addTo(j),j._minimapControl=ee}},[j]),T.useEffect(()=>{if(!j||!se.length||q.current)return;const F=M.get("focus");if(F){const ee=parseInt(F,10),Y=se.find(we=>we.id===ee);Y&&Y.lat&&Y.lng&&(setTimeout(()=>{j.flyTo([Y.lat,Y.lng],un.SEARCH_ZOOM,{animate:!0,duration:1}),K(ee)},300),q.current=!0,U({},{replace:!0}))}},[j,se,M,U]);const re=F=>{const ee=F?.target||F;E(ee)},ce=e?{height:"100%",width:"100%",position:"relative",touchAction:"pan-x pan-y",overflow:"hidden"}:{height:"100svh",width:"100vw",position:"fixed",inset:0,zIndex:0,touchAction:"pan-x pan-y",overflow:"hidden"};return d.jsxs("div",{style:ce,tabIndex:0,"aria-label":"Event Map",role:"region",children:[d.jsx(s8,{mapInstance:j,mapCenter:un.DEFAULT_POSITION,mapZoom:un.DEFAULT_ZOOM,searchControlRef:V,isAdminView:e,showLayersMenu:f,setShowLayersMenu:g,activeLayer:y,setActiveLayer:v,showRectanglesAndHandles:w,setShowRectanglesAndHandles:x,MAP_LAYERS:Ed}),e&&d.jsx(BI,{mapInstance:j,isAdminView:e,updateMarker:n}),d.jsx("div",{id:"map-container",className:e?"w-full h-full":"fixed inset-0 w-full h-full",style:{zIndex:e?"auto":1,height:e?"100%":"100svh",touchAction:"pan-x pan-y",overflow:"hidden"},"aria-label":$("map.ariaLabel"),children:d.jsxs(M3,{center:un.DEFAULT_POSITION,zoom:un.DEFAULT_ZOOM,minZoom:un.MIN_ZOOM,maxZoom:un.MAX_ZOOM,zoomDelta:un.ZOOM_DELTA,zoomSnap:un.ZOOM_SNAP,zoomControl:!1,style:{width:e?"100%":"100vw",height:e?"100%":"100svh"},className:"focus:outline-none focus:ring-2 focus:ring-primary",whenReady:re,attributionControl:!1,children:[Ed.filter(F=>F.key===y).map(F=>d.jsx(O3,{attribution:F.attribution,url:F.url,maxZoom:un.MAX_ZOOM},F.key)),d.jsx(Kv,{safeMarkers:se,infoButtonToggled:u,setInfoButtonToggled:h,isMobile:Q,updateMarker:n,isMarkerDraggable:F=>vS(F,e),iconCreateFunction:ae,selectedYear:i,isAdminView:e,selectedMarkerId:a,onMarkerSelect:o,focusMarkerId:te,onFocusHandled:()=>K(null)}),d.jsx(bI,{safeMarkers:se,infoButtonToggled:u,setInfoButtonToggled:h,isMobile:Q,updateMarker:n,isMarkerDraggable:F=>vS(F,e),selectedMarkerId:a,onMarkerSelect:o,isAdminView:e,selectedYear:i})]})})]})}Nf.propTypes={isAdminView:Le.bool,markersState:Le.array,updateMarker:Le.func.isRequired,selectedYear:Le.number,selectedMarkerId:Le.number,onMarkerSelect:Le.func};Nf.defaultProps={isAdminView:!1,markersState:[],selectedYear:new Date().getFullYear(),selectedMarkerId:null,onMarkerSelect:null};const p8=Object.freeze(Object.defineProperty({__proto__:null,default:Nf},Symbol.toStringTag,{value:"Module"}));function g8({markersState:e,setMarkersState:t,updateMarker:n,selectedYear:i}){const[a,o]=T.useState(""),[u,h]=T.useState(null),[f,g]=T.useState(!1),[y,v]=T.useState(null),[w,x]=T.useState("id-asc"),[j,E]=T.useState([]),{toastError:O}=Rl();T.useEffect(()=>{async function $(){try{const[Q,se]=await Promise.all([ye.from("Markers_Core").select("*").in("id",[-1,-2]),ye.from("Markers_Appearance").select("*").in("id",[-1,-2])]);if(Q.error)throw Q.error;if(se.error)throw se.error;const re=(Q.data||[]).map(ce=>{const F=(se.data||[]).find(ee=>ee.id===ce.id)||{};return{...ce,...F}});E(re)}catch(Q){console.error("Error fetching default markers:",Q)}}$()},[]);const A=T.useMemo(()=>{if(!e)return j;const Q=[...e.filter(se=>{const re=a.toLowerCase();return se.id.toString().includes(re)||se.glyph?.toLowerCase().includes(re)||se.name?.toLowerCase().includes(re)})].sort((se,re)=>{switch(w){case"id-asc":return se.id-re.id;case"id-desc":return re.id-se.id;case"name-asc":return(se.glyph||se.name||"").localeCompare(re.glyph||re.name||"");case"name-desc":return(re.glyph||re.name||"").localeCompare(se.glyph||se.name||"");case"type":return se.id>=1e3!=re.id>=1e3?se.id>=1e3?-1:1:se.id-re.id;default:return 0}});return a?Q:[...[...j].sort((re,ce)=>ce.id-re.id),...Q]},[e,j,a,w]),P=T.useMemo(()=>{if(!u)return null;const $=j.find(Q=>Q.id===u);return $||e?.find(Q=>Q.id===u)},[u,e,j]),M=$=>{h($.id),g(!1)},U=()=>{P&&(v({...P}),g(!0))},V=()=>{v(null),g(!1)},B=async()=>{if(!y)return;const $=y.id===-1||y.id===-2;try{if($){const Q={rectWidth:y.rectWidth,rectHeight:y.rectHeight},se={iconUrl:y.iconUrl,iconSize:y.iconSize,glyphColor:y.glyphColor,glyphSize:y.glyphSize},[re,ce]=await Promise.all([ye.from("Markers_Core").update(Q).eq("id",y.id),ye.from("Markers_Appearance").update(se).eq("id",y.id)]);if(re.error)throw re.error;if(ce.error)throw ce.error;E(F=>F.map(ee=>ee.id===y.id?{...ee,...y}:ee))}else t(Q=>Q.map(se=>se.id===y.id?{...se,...y}:se));g(!1),v(null)}catch(Q){console.error("Error saving marker:",Q),O("Failed to save marker. Please try again.")}},q=($,Q)=>{v(se=>({...se,[$]:Q}))},te=P&&(P.id===-1||P.id===-2),K=P&&P.id>=1e3,ae=P&&P.id>0&&P.id<1e3;return d.jsx(av,{requiredRole:["super_admin","system_manager"],children:d.jsxs("div",{className:"bg-white rounded-lg shadow",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Se,{path:io,size:1,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search by ID, booth label, or name...",value:a,onChange:$=>o($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{className:"relative w-64",children:[d.jsx(Se,{path:kO,size:.9,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),d.jsxs("select",{value:w,onChange:$=>x($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[d.jsx("option",{value:"id-asc",children:"ID: Low to High"}),d.jsx("option",{value:"id-desc",children:"ID: High to Low"}),d.jsx("option",{value:"name-asc",children:"Name: A to Z"}),d.jsx("option",{value:"name-desc",children:"Name: Z to A"}),d.jsx("option",{value:"type",children:"Type (Special First)"})]})]})]})}),d.jsxs("div",{className:"flex h-[calc(100vh-150px)]",children:[d.jsx("div",{className:"w-64 border-r border-gray-200 overflow-y-auto flex-shrink-0",children:d.jsx("div",{className:"p-2",children:A.map($=>{const Q=$.id===u,se=$.id===-1||$.id===-2,re=$.id>=1e3;return d.jsx("button",{onClick:()=>M($),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${Q?"bg-blue-50 border-2 border-blue-500":se?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-white border border-gray-200 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[$.iconUrl&&d.jsx("img",{src:xl($.iconUrl),alt:"icon",className:"w-6 h-6"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",children:se?$.id===-1?"Assigned Booth Default":"Unassigned Booth Default":$.glyph||`Marker ${$.id}`}),d.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",$.id,se&&"  Global Default",re&&" (Special)"]}),$.name&&d.jsx("div",{className:"text-xs text-gray-600 truncate",children:$.name})]})]})},$.id)})})}),d.jsx("div",{className:"flex-1 relative bg-gray-50",children:d.jsx(T.Suspense,{fallback:d.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading map..."}),children:d.jsx(Nf,{isAdminView:!0,markersState:e,updateMarker:n,selectedYear:i,selectedMarkerId:u,onMarkerSelect:$=>{h($),g(!1)}})})}),d.jsx("div",{className:"w-96 border-l border-gray-200 overflow-y-auto p-6 flex-shrink-0",children:P?d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:te?P.id===-1?"Assigned Booth Default":"Unassigned Booth Default":P.glyph||`Marker ${P.id}`}),d.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",P.id,te&&"  Global Default for Booth Markers",K&&" (Special Marker)",ae&&" (Booth - Content managed via Companies/Assignments)"]})]}),!f&&d.jsx("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit"})]}),f?d.jsx(v8,{marker:y,isDefaultMarker:te,isSpecialMarker:K,isBoothMarker:ae,onChange:q,onSave:B,onCancel:V}):d.jsx(y8,{marker:P,isSpecialMarker:K,isDefaultMarker:te})]}):d.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a marker to view details"})})]})]})})}function y8({marker:e,isSpecialMarker:t,isDefaultMarker:n}){return d.jsxs("div",{className:"space-y-6",children:[n&&d.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" About Default Markers"}),d.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"This defines the default appearance for booth markers (ID < 1000) that have a company assigned.":"This defines the default appearance for booth markers (ID < 1000) that have no company assigned."}),d.jsx("p",{className:"text-sm text-amber-800",children:"Individual booth markers can override these defaults by having their own values in the Appearance table."})]}),!n&&d.jsxs(yl,{title:"Position & Structure",children:[d.jsx(Pn,{label:"Latitude",value:e.lat}),d.jsx(Pn,{label:"Longitude",value:e.lng}),d.jsx(Pn,{label:"Rectangle",value:JSON.stringify(e.rectangle)}),d.jsx(Pn,{label:"Angle",value:e.angle||0})]}),d.jsxs(yl,{title:n?"Default Visual Styling":"Visual Styling",children:[d.jsx(Pn,{label:"Icon",children:e.iconUrl&&d.jsx("img",{src:xl(e.iconUrl),alt:"icon",className:"w-8 h-8"})}),d.jsx(Pn,{label:"Icon Size",value:JSON.stringify(e.iconSize)}),!n&&d.jsx(Pn,{label:"Glyph (Booth Label)",value:e.glyph}),d.jsx(Pn,{label:"Glyph Color",value:e.glyphColor}),d.jsx(Pn,{label:"Glyph Size",value:e.glyphSize}),n&&d.jsxs(d.Fragment,{children:[d.jsx(Pn,{label:"Rectangle Width",value:e.rectWidth}),d.jsx(Pn,{label:"Rectangle Height",value:e.rectHeight})]})]}),t&&d.jsxs(yl,{title:"Content (Special Marker)",children:[d.jsx(Pn,{label:"Name",value:e.name}),d.jsx(Pn,{label:"Logo",children:e.logo&&d.jsx("img",{src:Ji(e.logo),alt:"logo",className:"w-12 h-12"})}),d.jsx(Pn,{label:"Website",value:e.website}),d.jsx(Pn,{label:"Info",value:e.info})]})]})}function v8({marker:e,isDefaultMarker:t,isSpecialMarker:n,isBoothMarker:i,onChange:a,onSave:o,onCancel:u}){return d.jsxs("div",{className:"space-y-6",children:[t&&d.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:" Editing Global Defaults"}),d.jsx("p",{className:"text-sm text-amber-800 mb-2",children:e.id===-1?"Changes here will affect all booth markers (ID < 1000) that have a company assigned, unless they have individual overrides.":"Changes here will affect all booth markers (ID < 1000) that have no company assigned, unless they have individual overrides."})]}),!t&&d.jsxs(yl,{title:"Position & Structure",children:[d.jsx(Gi,{label:"Latitude",type:"number",step:"0.0001",value:e.lat,onChange:h=>a("lat",parseFloat(h))}),d.jsx(Gi,{label:"Longitude",type:"number",step:"0.0001",value:e.lng,onChange:h=>a("lng",parseFloat(h))}),d.jsx(Gi,{label:"Angle",type:"number",step:"0.1",value:e.angle||0,onChange:h=>a("angle",parseFloat(h))})]}),d.jsxs(yl,{title:t?"Default Visual Styling":"Visual Styling",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),d.jsx("div",{className:"grid grid-cols-6 gap-2",children:g3.map(h=>d.jsx("button",{onClick:()=>a("iconUrl",h),className:`p-2 border-2 rounded-lg transition-all ${e.iconUrl===h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-400"}`,children:d.jsx("img",{src:xl(h),alt:h,className:"w-8 h-8"})},h))})]}),!t&&d.jsx(Gi,{label:"Glyph (Booth Label)",value:e.glyph,onChange:h=>a("glyph",h)}),d.jsx(Gi,{label:"Glyph Color",type:"color",value:e.glyphColor,onChange:h=>a("glyphColor",h)}),d.jsx(Gi,{label:"Glyph Size",type:"number",step:"1",value:e.glyphSize,onChange:h=>a("glyphSize",parseFloat(h))}),t&&d.jsxs(d.Fragment,{children:[d.jsx(Gi,{label:"Rectangle Width",type:"number",step:"1",value:e.rectWidth,onChange:h=>a("rectWidth",parseFloat(h))}),d.jsx(Gi,{label:"Rectangle Height",type:"number",step:"1",value:e.rectHeight,onChange:h=>a("rectHeight",parseFloat(h))})]})]}),n&&d.jsxs(yl,{title:"Content (Special Marker)",children:[d.jsx(Gi,{label:"Name",value:e.name,onChange:h=>a("name",h)}),d.jsx(Gi,{label:"Logo URL",value:e.logo,onChange:h=>a("logo",h)}),d.jsx(Gi,{label:"Website",value:e.website,onChange:h=>a("website",h)}),d.jsx(b8,{label:"Info",value:e.info,onChange:h=>a("info",h)})]}),i&&d.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:d.jsxs("p",{className:"text-sm text-yellow-800",children:[d.jsx("strong",{children:"Note:"})," This is a booth marker. Content (name, logo, website, info) is managed via the Companies and Assignments tabs."]})}),d.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Se,{path:dO,size:.9}),"Save Changes"]}),d.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:[d.jsx(Se,{path:ts,size:.9}),"Cancel"]})]})]})}function yl({title:e,children:t}){return d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),d.jsx("div",{className:"space-y-3",children:t})]})}function Pn({label:e,value:t,children:n}){return d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e}),n||d.jsx("div",{className:"text-gray-900",children:t||""})]})}function Gi({label:e,value:t,onChange:n,type:i="text",...a}){return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),d.jsx("input",{type:i,value:t||"",onChange:o=>n(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...a})]})}function b8({label:e,value:t,onChange:n}){return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),d.jsx("textarea",{value:t||"",onChange:i=>n(i.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}function AE(){const[e,t]=T.useState([]),[n,i]=T.useState(!0),[a,o]=T.useState(null),u=T.useCallback(async()=>{try{i(!0),o(null);const{data:v,error:w}=await ye.from("companies").select("*").order("name",{ascending:!0});if(w)throw w;t(v||[])}catch(v){console.error("Error loading companies:",v),o(v.message)}finally{i(!1)}},[]),h=T.useCallback(async v=>{try{const{data:w,error:x}=await ye.from("companies").insert([v]).select().single();if(x)throw x;return t(j=>[...j,w].sort((E,O)=>E.name.localeCompare(O.name))),{data:w,error:null}}catch(w){return console.error("Error creating company:",w),{data:null,error:w.message}}},[]),f=T.useCallback(async(v,w)=>{try{const{data:x,error:j}=await ye.from("companies").update(w).eq("id",v).select().single();if(j)throw j;return t(E=>E.map(O=>O.id===v?x:O).sort((O,A)=>O.name.localeCompare(A.name))),{data:x,error:null}}catch(x){return console.error("Error updating company:",x),{data:null,error:x.message}}},[]),g=T.useCallback(async v=>{try{const{error:w}=await ye.from("companies").delete().eq("id",v);if(w)throw w;return t(x=>x.filter(j=>j.id!==v)),{error:null}}catch(w){return console.error("Error deleting company:",w),{error:w.message}}},[]),y=T.useCallback(v=>{if(!v)return e;const w=v.toLowerCase();return e.filter(x=>x.name?.toLowerCase().includes(w))},[e]);return T.useEffect(()=>{u()},[u]),T.useEffect(()=>{const v=ye.channel("companies-changes").on("postgres_changes",{event:"*",schema:"public",table:"companies"},()=>{u()}).subscribe();return()=>{ye.removeChannel(v)}},[u]),{companies:e,loading:n,error:a,createCompany:h,updateCompany:f,deleteCompany:g,searchCompanies:y,reload:u}}function _8(){const[e,t]=T.useState(null),[n,i]=T.useState(!0),[a,o]=T.useState(null),u=T.useCallback(async()=>{try{i(!0);const{data:f,error:g}=await ye.from("organization_profile").select("*").single();if(g)if(g.code==="PGRST116")console.warn("No organization profile found. A default one should be created by the migration."),t(null);else throw g;t(f),o(null)}catch(f){console.error("Error fetching organization profile:",f),o(f.message)}finally{i(!1)}},[]);return T.useEffect(()=>{u();const f=ye.channel("public:organization_profile").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},g=>{g.new&&t(g.new)}).subscribe();return()=>{ye.removeChannel(f)}},[u]),{profile:e,loading:n,error:a,updateProfile:async f=>{try{const{data:g,error:y}=await ye.from("organization_profile").update(f).eq("id",1).select().single();if(y)throw y;return t(g),{data:g,error:null}}catch(g){return console.error("Error updating organization profile:",g),{data:null,error:g.message}}}}}function x8({createCompany:e,updateCompany:t,deleteCompany:n,updateProfile:i,organizationLogo:a,confirm:o,toastError:u}){const[h,f]=T.useState(null),[g,y]=T.useState({}),[v,w]=T.useState(!1),[x,j]=T.useState({name:"",logo:a||"",website:"",info:""});return{editingId:h,editForm:g,setEditForm:y,isCreating:v,newCompanyForm:x,setNewCompanyForm:j,handleEdit:B=>{f(B.id),y({...B})},handleSave:async()=>{const B=h;if(B==="organization"){const{name:q,logo:te,website:K,info:ae}=g;await i({name:q,logo:te,website:K,info:ae})}else await t(B,g);f(null),y({})},handleCancel:()=>{f(null),y({})},handleDelete:async(B,q)=>{if(!await o({title:"Delete Company",message:`Are you sure you want to delete "${q}"? This will also delete all assignments for this company.`,confirmText:"Delete",variant:"danger"}))return;const{error:K}=await n(B);K&&u(`Error deleting company: ${K}`)},handleCreate:async()=>{if(!x.name.trim()){u("Company name is required");return}const{error:B}=await e(x);B?u(`Error creating company: ${B}`):(w(!1),j({name:"",logo:a,website:"",info:""}))},handleStartCreate:()=>{w(!0),j({name:"",logo:a,website:"",info:""})},handleCancelCreate:()=>{w(!1),j({name:"",logo:a,website:"",info:""})}}}function NE(e){const[t,n]=T.useState({}),[i,a]=T.useState(!1),[o,u]=T.useState(null),h=T.useCallback(async()=>{if(!e){n({});return}try{a(!0),u(null);const{data:w,error:x}=await ye.from("company_translations").select("language_code, info").eq("company_id",e);if(x)throw x;const j={};(w||[]).forEach(E=>{j[E.language_code]=E.info}),n(j)}catch(w){console.error("Error loading translations:",w),u(w.message)}finally{a(!1)}},[e]),f=async(w,x)=>{if(e)try{u(null);const{error:j}=await ye.from("company_translations").upsert({company_id:e,language_code:w,info:x,updated_at:new Date().toISOString()},{onConflict:"company_id,language_code"});if(j)throw j;return n(E=>({...E,[w]:x})),!0}catch(j){return console.error("Error saving translation:",j),u(j.message),!1}},g=async w=>{if(e)try{u(null);const{error:x}=await ye.from("company_translations").delete().eq("company_id",e).eq("language_code",w);if(x)throw x;return n(j=>{const E={...j};return delete E[w],E}),!0}catch(x){return console.error("Error deleting translation:",x),u(x.message),!1}},y=(w,x="nl")=>t[w]||t[x]||"",v=()=>Object.keys(t);return T.useEffect(()=>{h()},[h]),{translations:t,loading:i,error:o,saveTranslation:f,deleteTranslation:g,getTranslation:y,getAvailableLanguages:v,reload:h}}const w8=[{code:"nl",label:"Nederlands",flag:""},{code:"en",label:"English",flag:""}];function S8({currentLanguage:e,onLanguageChange:t,translations:n={},className:i=""}){return d.jsx("div",{className:`flex items-center gap-1 ${i}`,children:w8.map(a=>{const o=e===a.code,u=n[a.code]&&n[a.code].trim()!=="";return d.jsxs("button",{type:"button",onClick:()=>t(a.code),className:`px-2 py-1 rounded text-xs font-medium transition flex items-center gap-1 ${o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx("span",{children:a.flag}),d.jsx("span",{children:a.code.toUpperCase()}),u&&!o&&d.jsx(Se,{path:es,size:.5,className:"text-green-600"})]},a.code)})})}function C8({translations:e={}}){const t=Object.keys(e).filter(n=>e[n]&&e[n].trim()!=="").length;return t<=1?null:d.jsx("span",{className:"inline-block ml-1 text-blue-600",title:`Available in ${t} languages`,children:""})}function j8({companyId:e,editingLanguage:t,onLanguageChange:n}){const{translations:i,saveTranslation:a}=NE(e),[o,u]=T.useState(""),[h,f]=T.useState(!1);T.useEffect(()=>{u(i[t]||"")},[t,i]);const g=async()=>{if(o!==(i[t]||"")){f(!0);try{await a(t,o)}catch(y){console.error("Failed to save translation:",y)}finally{f(!1)}}};return d.jsxs("div",{className:"space-y-2",children:[d.jsx(S8,{currentLanguage:t,onLanguageChange:n,translations:i,className:"mb-2"}),d.jsx("textarea",{value:o,onChange:y=>u(y.target.value),onBlur:g,className:"w-full bg-white text-gray-900 border rounded px-2 py-1",rows:4,placeholder:`Enter info in ${t==="nl"?"Dutch":"English"}...`,disabled:h}),h&&d.jsx("span",{className:"text-xs text-gray-500 italic",children:"Saving..."})]})}function E8({companyId:e,currentLanguage:t}){const{translations:n,getTranslation:i}=NE(e),a=i(t,"nl");return d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("p",{className:"line-clamp-3 whitespace-pre-wrap flex-1",children:a||d.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),d.jsx(C8,{translations:n})]})}function T8(){const{companies:e,loading:t,error:n,createCompany:i,updateCompany:a,deleteCompany:o}=AE(),{profile:u,loading:h,error:f,updateProfile:g}=_8(),{organizationLogo:y}=Xs(),{confirm:v,toastError:w}=Rl(),{i18n:x}=Rt(),[j,E]=T.useState(""),[O,A]=T.useState("nl"),{editingId:P,editForm:M,setEditForm:U,isCreating:V,newCompanyForm:B,setNewCompanyForm:q,handleEdit:te,handleSave:K,handleCancel:ae,handleDelete:$,handleCreate:Q,handleStartCreate:se,handleCancelCreate:re}=x8({createCompany:i,updateCompany:a,deleteCompany:o,updateProfile:g,organizationLogo:y,confirm:v,toastError:w}),ce=T.useMemo(()=>{const Y=[];if(u&&Y.push({...u,id:"organization",isOrganization:!0}),Y.push(...e),!j)return Y;const we=j.toLowerCase();return Y.filter(R=>R.name?.toLowerCase().includes(we))},[u,e,j]),F=t||h,ee=n||f;return F?d.jsx("div",{className:"p-4",children:"Loading data..."}):ee?d.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",ee]}):d.jsxs("div",{className:"h-full flex flex-col p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Se,{path:io,size:1,className:"text-gray-500"}),d.jsx("input",{type:"text",placeholder:"Search companies...",value:j,onChange:Y=>E(Y.target.value),className:"px-3 py-2 border rounded-lg"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[ce.length," of ",e.length+1]})]}),d.jsxs("button",{onClick:se,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[d.jsx(Se,{path:gf,size:.8}),"Add Company"]})]}),V&&d.jsxs("div",{className:"mb-4 border rounded-lg overflow-hidden flex-shrink-0",children:[d.jsxs("div",{className:"p-4 bg-blue-50",children:[d.jsx("h3",{className:"font-bold mb-3",children:"New Company"}),d.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[d.jsx("h4",{className:"font-semibold text-sm mb-2 text-blue-800",children:"Public Info (visible to attendees)"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx("input",{type:"text",placeholder:"Company Name *",value:B.name,onChange:Y=>q({...B,name:Y.target.value}),className:"px-3 py-2 border rounded"}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company Logo"}),d.jsx(_c,{currentLogo:B.logo,onUploadComplete:(Y,we)=>{q({...B,logo:Y})},folder:"companies",label:"Upload Logo",showPreview:!0,allowDelete:!0,onDelete:()=>{q({...B,logo:y})}}),d.jsx("input",{type:"text",placeholder:"Or paste external logo URL",value:B.logo,onChange:Y=>q({...B,logo:Y.target.value}),className:"px-3 py-2 border rounded mt-2 w-full text-sm"})]}),d.jsx("input",{type:"text",placeholder:"Website URL",value:B.website,onChange:Y=>q({...B,website:Y.target.value}),className:"px-3 py-2 border rounded"}),d.jsx("textarea",{placeholder:"Info",value:B.info,onChange:Y=>q({...B,info:Y.target.value}),className:"px-3 py-2 border rounded",rows:2})]})]}),d.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[d.jsx("h4",{className:"font-semibold text-sm mb-2 text-green-800",children:"Manager-Only Info (default contact info)"}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsx("input",{type:"text",placeholder:"Contact Person",value:B.contact||"",onChange:Y=>q({...B,contact:Y.target.value}),className:"px-3 py-2 border rounded"}),d.jsx("input",{type:"text",placeholder:"Phone",value:B.phone||"",onChange:Y=>q({...B,phone:Y.target.value}),className:"px-3 py-2 border rounded"}),d.jsx("input",{type:"email",placeholder:"Email",value:B.email||"",onChange:Y=>q({...B,email:Y.target.value}),className:"px-3 py-2 border rounded"})]})]})]}),d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsxs("button",{onClick:Q,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:[d.jsx(Se,{path:es,size:.7}),"Create"]}),d.jsxs("button",{onClick:re,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:[d.jsx(Se,{path:ts,size:.7}),"Cancel"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[d.jsxs("table",{className:"w-full rounded",style:{tableLayout:"fixed",fontSize:"11px"},children:[d.jsxs("thead",{className:"sticky top-0 z-10",children:[d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 text-center bg-blue-100 border-b font-bold text-blue-800",colSpan:4,children:"Public Info"}),d.jsx("th",{className:"p-2 text-center bg-green-100 border-b font-bold text-green-800",colSpan:3,children:"Manager-Only Info"}),d.jsx("th",{className:"p-2 bg-gray-100 border-b font-semibold text-gray-900",rowSpan:2,style:{minWidth:"90px",width:"90px",maxWidth:"120px"},children:"Actions"})]}),d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Name"}),d.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Logo"}),d.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Website"}),d.jsx("th",{className:"p-2 text-left bg-blue-100 border-b text-gray-900",children:"Info"}),d.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Contact"}),d.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Phone"}),d.jsx("th",{className:"p-2 text-left bg-green-100 border-b text-gray-900",children:"Email"})]})]}),d.jsx("tbody",{children:ce.map(Y=>{const we=P===Y.id,R=Y.isOrganization,H=R?"bg-gray-700 text-white":"bg-white text-gray-900 hover:bg-gray-50";return d.jsxs("tr",{className:`${H} border-b`,children:[d.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-blue-50"}`,children:we?d.jsx("input",{type:"text",value:M.name,onChange:X=>U({...M,name:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1"}):d.jsx("span",{className:"font-semibold",children:Y.name})}),d.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-blue-50"}`,children:we?d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(_c,{currentLogo:M.logo,onUploadComplete:(X,z)=>{U({...M,logo:X})},folder:R?"organization":"companies",label:"Upload",showPreview:!0,allowDelete:!0,onDelete:()=>{U({...M,logo:y})}}),d.jsx("input",{type:"text",value:M.logo||"",onChange:X=>U({...M,logo:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1 text-xs",placeholder:"Or paste URL"})]}):d.jsx("img",{src:Ji(Y.logo&&Y.logo.trim()!==""?Y.logo:y),alt:Y.name,className:"h-8 object-contain"})}),d.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-blue-50"}`,children:we?d.jsx("input",{type:"text",value:M.website||"",onChange:X=>U({...M,website:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Website URL"}):Y.website?d.jsx("a",{href:Y.website.startsWith("http")?Y.website:`https://${Y.website}`,target:"_blank",rel:"noopener noreferrer",className:R?"text-blue-300 hover:underline":"text-blue-600 hover:underline",children:Y.website.replace(/^https?:\/\//,"").substring(0,30)}):d.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not set"})}),d.jsx("td",{className:`py-1 px-3 border-b text-left max-w-xs ${R?"":"bg-blue-50"}`,children:we?d.jsx(j8,{companyId:Y.id,editingLanguage:O,onLanguageChange:A}):d.jsx(E8,{companyId:Y.id,currentLanguage:x.language})}),d.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-green-50"}`,children:we?d.jsx("input",{type:"text",value:M.contact||"",onChange:X=>U({...M,contact:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Contact Person"}):d.jsx("span",{className:"text-xs",children:Y.contact||d.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),d.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-green-50"}`,children:we?d.jsx("input",{type:"text",value:M.phone||"",onChange:X=>U({...M,phone:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Phone"}):d.jsx("span",{className:"text-xs",children:Y.phone||d.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),d.jsx("td",{className:`py-1 px-3 border-b text-left ${R?"":"bg-green-50"}`,children:we?d.jsx("input",{type:"email",value:M.email||"",onChange:X=>U({...M,email:X.target.value}),className:"w-full bg-white text-gray-900 border rounded px-2 py-1",placeholder:"Email"}):d.jsx("span",{className:"text-xs",children:Y.email||d.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),d.jsx("td",{className:"py-1 px-3 border-b text-left",children:we?d.jsxs("div",{className:"flex gap-1 justify-center",children:[d.jsx("button",{onClick:K,className:"p-1.5 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:d.jsx(Se,{path:es,size:.8})}),d.jsx("button",{onClick:ae,className:"p-1.5 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:d.jsx(Se,{path:ts,size:.8})})]}):d.jsxs("div",{className:"flex gap-1 justify-center",children:[d.jsx("button",{onClick:()=>te(Y),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:d.jsx(Se,{path:qy,size:.8})}),!R&&d.jsx("button",{onClick:()=>$(Y.id,Y.name),className:"p-1.5 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete",children:d.jsx(Se,{path:Pc,size:.8})}),R&&d.jsx("div",{className:"flex items-center justify-center pt-1 text-gray-300",children:d.jsx(Se,{path:fl,size:.8})})]})})]},Y.id)})})]}),ce.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:j?"No items found matching your search":'No companies yet. Click "Add Company" to create one.'})]})]})}function ME(e){const[t,n]=T.useState([]),[i,a]=T.useState(!0),[o,u]=T.useState(null);return T.useEffect(()=>{async function h(){try{a(!0),u(null);const{data:f,error:g}=await ye.from("Markers_Core").select("id").lt("id",1e3).order("id",{ascending:!0});if(g)throw g;const{data:y,error:v}=await ye.from("Markers_Appearance").select("id, glyph").lt("id",1e3);if(v)throw v;const w={};(y||[]).forEach(j=>{j&&j.id&&(w[j.id]=j.glyph||"")});const x=(f||[]).map(j=>({id:j.id,glyph:w[j.id]||j.id.toString()}));n(x)}catch(f){console.error("Error loading markers:",f),u(f)}finally{a(!1)}}h()},[e]),{markers:t,loading:i,error:o}}function k8({selectedYear:e}){const{organizationLogo:t}=Xs(),{subscriptions:n,loading:i,error:a,subscribeCompany:o,updateSubscription:u,unsubscribeCompany:h,archiveCurrentYear:f,copyFromPreviousYear:g}=Ic(e),{companies:y}=AE(),{assignments:v}=Af(e),{markers:w}=ME(e),[x,j]=T.useState(""),[E,O]=T.useState(null),[A,P]=T.useState({}),[M,U]=T.useState(!1),[V,B]=T.useState(""),[q,te]=T.useState("company"),[K,ae]=T.useState("asc"),{confirm:$,toastError:Q,toastSuccess:se,toastWarning:re}=Rl(),ce=T.useMemo(()=>{const be=new Set(n.map(ke=>ke.company_id));return y.filter(ke=>!be.has(ke.id))},[y,n]),F=T.useMemo(()=>{const be={};return v.forEach(ke=>{be[ke.company_id]||(be[ke.company_id]=[]),be[ke.company_id].push(ke)}),be},[v]),ee=T.useMemo(()=>{const be={};return w.forEach(ke=>{be[ke.id]=ke.glyph}),be},[w]),Y=T.useCallback(be=>{const ke=F[be]||[];if(ke.length===0)return"-";const Ve=ke.sort((De,He)=>De.marker_id-He.marker_id).map(De=>ee[De.marker_id]||De.marker_id.toString()).filter(Boolean);return Ve.length>0?Ve.join(", "):"-"},[F,ee]),we=T.useMemo(()=>{let be=n;if(x){const Ve=x.toLowerCase();be=be.filter(De=>De.company?.name?.toLowerCase().includes(Ve))}return[...be].sort((Ve,De)=>{let He=0;if(q==="company"){const gt=(Ve.company?.name||"").toLowerCase(),Dt=(De.company?.name||"").toLowerCase();He=gt.localeCompare(Dt)}else if(q==="booths"){const gt=Y(Ve.company_id),Dt=Y(De.company_id);if(gt==="-"&&Dt!=="-")return 1;if(gt!=="-"&&Dt==="-")return-1;if(gt==="-"&&Dt==="-")return 0;He=gt.localeCompare(Dt,void 0,{numeric:!0})}return K==="asc"?He:-He})},[n,x,q,K,Y]),R=T.useMemo(()=>we.reduce((be,ke)=>(be.booth_count+=ke.booth_count||0,be.breakfast_sat+=ke.breakfast_sat||0,be.lunch_sat+=ke.lunch_sat||0,be.bbq_sat+=ke.bbq_sat||0,be.breakfast_sun+=ke.breakfast_sun||0,be.lunch_sun+=ke.lunch_sun||0,be.coins+=ke.coins||0,be),{booth_count:0,breakfast_sat:0,lunch_sat:0,bbq_sat:0,breakfast_sun:0,lunch_sun:0,coins:0}),[we]),H=be=>{O(be.id),P({...be})},X=async()=>{const{id:be,company:ke,...Ve}=A;await u(be,Ve),O(null),P({})},z=()=>{O(null),P({})},W=async be=>{const ke=be.company?.name||"this company",Ve=Y(be.company_id),De=Ve?` and their booth assignments (${Ve})`:"";if(!await $({title:"Unsubscribe Company",message:`Unsubscribe ${ke} from ${e}? This will delete their subscription${De}.`,confirmText:"Unsubscribe",variant:"danger"}))return;const{error:gt}=await h(be.id);gt&&Q(`Error unsubscribing company: ${gt}`)},oe=async()=>{if(!V){re("Please select a company");return}const{error:be}=await o(parseInt(V));be?Q(`Error subscribing company: ${be}`):(U(!1),B(""))},me=async()=>{if(!await $({title:"Archive Subscriptions",message:`Archive all subscriptions for ${e}? This will move them to the archive and clear the active list.`,confirmText:"Archive",variant:"warning"}))return;const{data:ke,error:Ve}=await f();Ve?Q(`Error archiving: ${Ve}`):se(`Archived ${ke} subscriptions for ${e}`)},Ce=async()=>{const be=e-1;if(!$(`Copy all subscriptions from ${be} to ${e}?`))return;const{error:ke}=await g(be);ke&&alert(`Error copying subscriptions: ${ke}`)},Re=be=>{q===be?ae(K==="asc"?"desc":"asc"):(te(be),ae("asc"))};return i?d.jsx("div",{className:"p-4",children:"Loading subscriptions..."}):a?d.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",a]}):d.jsxs("div",{className:"h-full flex flex-col p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Se,{path:io,size:1,className:"text-gray-500"}),d.jsx("input",{type:"text",placeholder:"Search subscribed companies...",value:x,onChange:be=>j(be.target.value),className:"px-3 py-2 border rounded-lg"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[we.length," of ",n.length]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",title:`Copy from ${e-1}`,children:[d.jsx(Se,{path:hO,size:.8}),"Copy from ",e-1]}),d.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[d.jsx(Se,{path:ff,size:.8}),"Archive ",e]}),d.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[d.jsx(Se,{path:gf,size:.8}),"Subscribe Company"]})]})]}),M&&d.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-blue-50 flex-shrink-0",children:[d.jsxs("h3",{className:"font-bold mb-3",children:["Subscribe Company to ",e]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("select",{value:V,onChange:be=>B(be.target.value),className:"flex-1 px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:"Select a company..."}),ce.map(be=>d.jsx("option",{value:be.id,children:be.name},be.id))]}),d.jsxs("button",{onClick:oe,className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[d.jsx(Se,{path:es,size:.7}),"Subscribe"]}),d.jsxs("button",{onClick:()=>{U(!1),B("")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:[d.jsx(Se,{path:ts,size:.7}),"Cancel"]})]}),ce.length===0&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["All companies are already subscribed to ",e]})]}),d.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[d.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[d.jsxs("thead",{className:"bg-gray-100 text-gray-900 sticky top-0 z-10",children:[d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Re("booths"),title:"Click to sort by booth labels",rowSpan:3,children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{children:"Booths"}),q==="booths"&&d.jsx(Se,{path:K==="asc"?i1:n1,size:.6,className:"text-blue-600"})]})}),d.jsx("th",{className:"p-2 text-left border-b cursor-pointer hover:bg-gray-200 select-none bg-gray-100",onClick:()=>Re("company"),title:"Click to sort by company name",rowSpan:3,children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{children:"Company"}),q==="company"&&d.jsx(Se,{path:K==="asc"?i1:n1,size:.6,className:"text-blue-600"})]})}),d.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Contact"}),d.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Phone"}),d.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Email"}),d.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:"Booth Count"}),d.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Area"}),d.jsx("th",{className:"p-2 text-center border-b bg-blue-50",colSpan:3,children:d.jsx("span",{className:"font-bold text-blue-700",children:"Saturday"})}),d.jsx("th",{className:"p-2 text-center border-b bg-green-50",colSpan:2,children:d.jsx("span",{className:"font-bold text-green-700",children:"Sunday"})}),d.jsx("th",{className:"p-2 text-center border-b bg-gray-100",children:"Coins"}),d.jsx("th",{className:"p-2 text-left border-b bg-gray-100",rowSpan:3,children:"Notes"}),d.jsx("th",{className:"p-2 text-center border-b bg-gray-100",rowSpan:3,style:{minWidth:"80px"},children:"Actions"})]}),d.jsxs("tr",{children:[d.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}}),d.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"Breakfast"}),d.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"Lunch"}),d.jsx("th",{className:"p-1 text-center border-b bg-blue-50 text-xs",style:{width:"60px"},children:"BBQ"}),d.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:"Breakfast"}),d.jsx("th",{className:"p-1 text-center border-b bg-green-50 text-xs",style:{width:"60px"},children:"Lunch"}),d.jsx("th",{className:"p-1 text-center border-b bg-gray-100 text-xs",style:{width:"60px"}})]}),d.jsxs("tr",{children:[d.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:R.booth_count}),d.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.breakfast_sat}),d.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.lunch_sat}),d.jsx("th",{className:"p-1 text-center border-b bg-blue-100 text-xs font-bold text-blue-800",style:{width:"60px"},children:R.bbq_sat}),d.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:R.breakfast_sun}),d.jsx("th",{className:"p-1 text-center border-b bg-green-100 text-xs font-bold text-green-800",style:{width:"60px"},children:R.lunch_sun}),d.jsx("th",{className:"p-1 text-center border-b bg-gray-200 text-xs font-bold",style:{width:"60px"},children:R.coins})]})]}),d.jsx("tbody",{children:we.map(be=>{const ke=E===be.id,Ve=be.company,De=Y(be.company_id);return d.jsxs("tr",{className:"bg-white hover:bg-gray-50 border-b",children:[d.jsx("td",{className:"p-2 text-left",children:d.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:De})}),d.jsx("td",{className:"p-2 text-left",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("img",{src:Ji(Ve?.logo||t),alt:Ve?.name,className:"w-8 h-8 object-contain"}),d.jsx("span",{className:"font-semibold text-gray-700",children:Ve?.name})]})}),d.jsx("td",{className:"p-2 text-left",children:ke?d.jsx("input",{type:"text",value:A.contact||"",onChange:He=>P({...A,contact:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):d.jsx("span",{className:"text-xs text-gray-700",children:be.contact||"-"})}),d.jsx("td",{className:"p-2 text-left",children:ke?d.jsx("input",{type:"text",value:A.phone||"",onChange:He=>P({...A,phone:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):d.jsx("span",{className:"text-xs text-gray-700",children:be.phone||"-"})}),d.jsx("td",{className:"p-2 text-left",children:ke?d.jsx("input",{type:"email",value:A.email||"",onChange:He=>P({...A,email:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900"}):d.jsx("span",{className:"text-xs text-gray-700",children:be.email||"-"})}),d.jsx("td",{className:"p-2 text-center",children:ke?d.jsx("input",{type:"number",min:"1",value:A.booth_count||1,onChange:He=>P({...A,booth_count:parseInt(He.target.value)}),className:"w-16 px-2 py-1 border rounded text-xs text-center bg-white text-gray-900"}):d.jsx("span",{className:"text-xs text-gray-700",children:be.booth_count})}),d.jsx("td",{className:"p-2",children:ke?d.jsx("input",{type:"text",value:A.area||"",onChange:He=>P({...A,area:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",placeholder:"large field, small field..."}):d.jsx("span",{className:"text-xs text-gray-700",children:be.area||"-"})}),["breakfast_sat","lunch_sat","bbq_sat"].map(He=>d.jsx("td",{className:"p-2 text-center bg-blue-50",children:ke?d.jsx("input",{type:"number",min:"0",value:A[He]||0,onChange:gt=>P({...A,[He]:parseInt(gt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):d.jsx("span",{className:"text-xs text-gray-700",children:be[He]})},He)),["breakfast_sun","lunch_sun"].map(He=>d.jsx("td",{className:"p-2 text-center bg-green-50",children:ke?d.jsx("input",{type:"number",min:"0",value:A[He]||0,onChange:gt=>P({...A,[He]:parseInt(gt.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center text-gray-900 bg-white"}):d.jsx("span",{className:"text-xs text-gray-700",children:be[He]})},He)),d.jsx("td",{className:"p-2 text-center",children:ke?d.jsx("input",{type:"number",min:"0",value:A.coins||0,onChange:He=>P({...A,coins:parseInt(He.target.value)||0}),className:"w-12 px-1 py-1 border rounded text-xs text-center bg-white text-gray-900"}):d.jsx("span",{className:"text-xs text-gray-700",children:be.coins})}),d.jsx("td",{className:"p-2 text-left",children:ke?d.jsx("textarea",{value:A.notes||"",onChange:He=>P({...A,notes:He.target.value}),className:"w-full px-2 py-1 border rounded text-xs bg-white text-gray-900",rows:2}):d.jsx("span",{className:"text-xs text-gray-700",children:be.notes||"-"})}),d.jsx("td",{className:"p-2 text-center",children:ke?d.jsxs("div",{className:"flex gap-1 justify-center",children:[d.jsx("button",{onClick:X,className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"Save",children:d.jsx(Se,{path:es,size:.6})}),d.jsx("button",{onClick:z,className:"p-1 bg-gray-500 text-white rounded hover:bg-gray-600",title:"Cancel",children:d.jsx(Se,{path:ts,size:.6})})]}):d.jsxs("div",{className:"flex gap-1 justify-center",children:[d.jsx("button",{onClick:()=>H(be),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit",children:d.jsx(Se,{path:qy,size:.6})}),d.jsx("button",{onClick:()=>W(be),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Unsubscribe",children:d.jsx(Se,{path:Pc,size:.6})})]})})]},be.id)})})]}),we.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:x?"No subscriptions found matching your search":`No companies subscribed to ${e} yet. Click "Subscribe Company" to add one.`})]})]})}function L8({activity:e,day:t,onSave:n,onClose:i}){const{t:a}=Rt(),[o,u]=T.useState(!1),[h,f]=T.useState([]),[g,y]=T.useState({title_nl:"",title_en:"",description_nl:"",description_en:"",start_time:"",end_time:"",location_type:"venue",location_nl:"",location_en:"",company_id:null,badge_nl:"",badge_en:"",display_order:1,is_active:!0,show_location_type_badge:!1});T.useEffect(()=>{e&&y({title_nl:e.title_nl||"",title_en:e.title_en||"",description_nl:e.description_nl||"",description_en:e.description_en||"",start_time:e.start_time||"",end_time:e.end_time||"",location_type:e.location_type||"venue",location_nl:e.location_nl||"",location_en:e.location_en||"",company_id:e.company_id||null,badge_nl:e.badge_nl||"",badge_en:e.badge_en||"",display_order:e.display_order||1,is_active:e.is_active!==void 0?e.is_active:!0,show_location_type_badge:e.show_location_type_badge||!1})},[e]),T.useEffect(()=>{(async()=>{const{data:j}=await ye.from("companies").select("id, name").order("name");f(j||[])})()},[]);const v=(x,j)=>{y(E=>({...E,[x]:j}))},w=async x=>{x.preventDefault(),u(!0);try{const{data:j}=await ye.from("organization_profile").select("id").limit(1).single();if(!j)throw new Error("Organization not found");const E={...g,organization_id:j.id,day:t,location_nl:g.location_type==="venue"?g.location_nl:null,location_en:g.location_type==="venue"?g.location_en:null,company_id:g.location_type==="exhibitor"?g.company_id:null};if(e){const{error:O}=await ye.from("event_activities").update(E).eq("id",e.id);if(O)throw O}else{const{error:O}=await ye.from("event_activities").insert([E]);if(O)throw O}n(),i()}catch(j){console.error("Error saving activity:",j),alert(a("activityForm.saveError")+": "+j.message)}finally{u(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 my-8",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a(e?"activityForm.editTitle":"activityForm.createTitle")}),d.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(QI,{className:"text-2xl"})})]}),d.jsx("form",{onSubmit:w,className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.titleNL")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",required:!0,value:g.title_nl,onChange:x=>v("title_nl",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nederlandse titel"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.titleEN")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",required:!0,value:g.title_en,onChange:x=>v("title_en",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"English title"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.descriptionNL")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{required:!0,rows:4,value:g.description_nl,onChange:x=>v("description_nl",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nederlandse beschrijving"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.descriptionEN")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{required:!0,rows:4,value:g.description_en,onChange:x=>v("description_en",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"English description"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.startTime")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"time",required:!0,value:g.start_time,onChange:x=>v("start_time",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.endTime")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"time",required:!0,value:g.end_time,onChange:x=>v("end_time",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("activityForm.locationType")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"venue",checked:g.location_type==="venue",onChange:x=>v("location_type",x.target.value),className:"mr-2"}),a("activityForm.venue")]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"exhibitor",checked:g.location_type==="exhibitor",onChange:x=>v("location_type",x.target.value),className:"mr-2"}),a("activityForm.exhibitor")]})]})]}),g.location_type==="venue"?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.locationNL")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",required:!0,value:g.location_nl,onChange:x=>v("location_nl",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nederlandse locatie"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.locationEN")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",required:!0,value:g.location_en,onChange:x=>v("location_en",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"English location"})]})]}):d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.company")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{required:!0,value:g.company_id||"",onChange:x=>v("company_id",x.target.value?parseInt(x.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:a("activityForm.selectCompany")}),h.map(x=>d.jsx("option",{value:x.id,children:x.name},x.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.badgeNL")," ",d.jsxs("span",{className:"text-gray-500",children:["(",a("activityForm.optional"),")"]})]}),d.jsx("input",{type:"text",value:g.badge_nl,onChange:x=>v("badge_nl",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bijv. GRATIS ENTREE!"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.badgeEN")," ",d.jsxs("span",{className:"text-gray-500",children:["(",a("activityForm.optional"),")"]})]}),d.jsx("input",{type:"text",value:g.badge_en,onChange:x=>v("badge_en",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"E.g. FREE ENTRY!"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("activityForm.displayOrder")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",required:!0,min:"1",value:g.display_order,onChange:x=>v("display_order",parseInt(x.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("activityForm.displayOrderHelp")})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:g.is_active,onChange:x=>v("is_active",x.target.checked),className:"mr-2"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:a("activityForm.isActive")})]}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("activityForm.isActiveHelp")})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:g.show_location_type_badge,onChange:x=>v("show_location_type_badge",x.target.checked),className:"mr-2"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:a("activityForm.showLocationBadge")})]}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("activityForm.showLocationBadgeHelp")})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end gap-3 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:i,disabled:o,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:a("activityForm.cancel")}),d.jsx("button",{onClick:w,disabled:o,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a("activityForm.saving")]}):a("activityForm.save")})]})]})})}function A8(){const{t:e,i18n:t}=Rt(),{activities:n,loading:i,error:a,getActivityLocation:o,refetch:u}=tC(),[h,f]=T.useState("saturday"),[g,y]=T.useState(null),[v,w]=T.useState(!1),[x,j]=T.useState(!1),[E,O]=T.useState(null),[A,P]=T.useState(null),[M,U]=T.useState(!1),V=n[h]||[],B=async $=>{if(!(!g||g.id!==$)){w(!0);try{const{error:Q}=await ye.from("event_activities").delete().eq("id",$);if(Q)throw Q;await u(),y(null)}catch(Q){console.error("Error deleting activity:",Q),alert(e("programManagement.deleteError")+": "+Q.message)}finally{w(!1)}}},q=($,Q,se)=>{P({activity:Q,index:se}),$.dataTransfer.effectAllowed="move",$.currentTarget.style.opacity="0.4"},te=$=>{$.currentTarget.style.opacity="1",P(null)},K=$=>{$.preventDefault(),$.dataTransfer.dropEffect="move"},ae=async($,Q)=>{if($.preventDefault(),!(!A||A.index===Q)){U(!0);try{const se=[...V],[re]=se.splice(A.index,1);se.splice(Q,0,re);const ce=se.map((F,ee)=>({id:F.id,display_order:ee+1}));for(const F of ce){const{error:ee}=await ye.from("event_activities").update({display_order:F.display_order}).eq("id",F.id);if(ee)throw ee}await u()}catch(se){console.error("Error reordering activities:",se),alert(e("programManagement.reorderError")+": "+se.message)}finally{U(!1)}}};return i?d.jsxs("div",{className:"flex justify-center items-center py-12",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:e("programManagement.loading")})]}):a?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("p",{className:"text-red-800",children:[e("programManagement.error"),": ",a.message]})}):d.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[d.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e("programManagement.title")}),d.jsxs("button",{onClick:()=>{O(null),j(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(LE,{className:"text-xl"}),d.jsx("span",{children:e("programManagement.addActivity")})]})]})}),d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>f("saturday"),className:`px-6 py-3 font-medium transition-colors ${h==="saturday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.saturday")," (",n.saturday?.length||0,")"]}),d.jsxs("button",{onClick:()=>f("sunday"),className:`px-6 py-3 font-medium transition-colors ${h==="sunday"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[e("programManagement.sunday")," (",n.sunday?.length||0,")"]})]})}),d.jsx("div",{className:"divide-y divide-gray-200",children:V.length===0?d.jsxs("div",{className:"px-6 py-12 text-center",children:[d.jsx("p",{className:"text-gray-500",children:e("programManagement.noActivitiesFound")}),d.jsx("button",{onClick:()=>{O(null),j(!0)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e("programManagement.addFirstActivity")})]}):V.map(($,Q)=>{const se=o($,t.language),re=t.language==="nl"?$.title_nl:$.title_en,ce=t.language==="nl"?$.description_nl:$.description_en,F=t.language==="nl"?$.badge_nl:$.badge_en;return d.jsx("div",{draggable:!M,onDragStart:ee=>q(ee,$,Q),onDragEnd:te,onDragOver:K,onDrop:ee=>ae(ee,Q),className:`px-6 py-4 hover:bg-gray-50 transition-colors ${M?"opacity-50 cursor-wait":"cursor-move"}`,children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("button",{className:`mt-1 text-gray-400 hover:text-gray-600 ${M?"cursor-wait":"cursor-move"}`,title:e("programManagement.dragToReorder"),disabled:M,children:d.jsx(KI,{className:"text-2xl"})}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-gray-600 bg-gray-100 rounded",children:$.display_order}),d.jsxs("span",{className:"text-sm text-gray-500",children:[$.start_time," - ",$.end_time]}),F&&d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded",children:F})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:re}),d.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:ce}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-gray-500",children:[e("programManagement.location"),":"]}),d.jsx("span",{className:"font-medium text-gray-700",children:se.text}),$.show_location_type_badge&&d.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${$.location_type==="exhibitor"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:$.location_type==="exhibitor"?e("programManagement.exhibitor"):e("programManagement.venue")})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{O($),j(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:e("programManagement.edit"),children:d.jsx(JI,{className:"text-xl"})}),d.jsx("button",{onClick:()=>y({id:$.id,title:re}),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:e("programManagement.delete"),children:d.jsx(GI,{className:"text-xl"})})]})]})})]})},$.id)})}),V.length>0&&d.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[e("programManagement.totalActivities"),": ",d.jsx("span",{className:"font-medium",children:V.length})]})}),g&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("programManagement.confirmDelete")})}),d.jsxs("div",{className:"px-6 py-4",children:[d.jsx("p",{className:"text-gray-700",children:e("programManagement.confirmDeleteMessage")}),d.jsxs("p",{className:"mt-2 font-medium text-gray-900",children:['"',g.title,'"']})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>y(null),disabled:v,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:e("programManagement.cancel")}),d.jsx("button",{onClick:()=>B(g.id),disabled:v,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:v?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e("programManagement.deleting")]}):e("programManagement.deleteButton")})]})]})}),x&&d.jsx(L8,{activity:E,day:h,onSave:u,onClose:()=>{j(!1),O(null)}})]})}const bS="assignmentsTab_sortPreferences";function N8({selectedYear:e}){const[t,n]=T.useState(""),a=(()=>{try{const W=localStorage.getItem(bS);if(W)return JSON.parse(W)}catch(W){console.error("Error loading sort preferences:",W)}return{sortBy:"alphabetic",sortDirection:"asc",columnSort:"markerId",columnSortDirection:"asc"}})(),[o,u]=T.useState(a.sortBy),[h,f]=T.useState(a.sortDirection),[g,y]=T.useState(a.columnSort),[v,w]=T.useState(a.columnSortDirection),{markers:x,loading:j}=ME(),{assignments:E,loading:O,error:A,assignCompanyToMarker:P,unassignCompanyFromMarker:M,archiveCurrentYear:U,loadArchivedAssignments:V}=Af(e),{subscriptions:B}=Ic(e),{confirm:q,toastError:te,toastSuccess:K,toastInfo:ae}=Rl(),$=T.useMemo(()=>B.map(W=>({id:W.company_id,name:W.company?.name||"Unknown",logo:W.company?.logo||""})),[B]);T.useEffect(()=>{try{const W={sortBy:o,sortDirection:h,columnSort:g,columnSortDirection:v};localStorage.setItem(bS,JSON.stringify(W))}catch(W){console.error("Error saving sort preferences:",W)}},[o,h,g,v]);const Q=T.useMemo(()=>{const W={};return E.forEach(oe=>{W[oe.company_id]=(W[oe.company_id]||0)+1}),W},[E]),se=T.useMemo(()=>{const W={};return E.forEach(oe=>{(!W[oe.company_id]||oe.marker_id<W[oe.company_id])&&(W[oe.company_id]=oe.marker_id)}),W},[E]),re=T.useMemo(()=>[...t?$.filter(me=>me.name?.toLowerCase().includes(t.toLowerCase())):$].sort((me,Ce)=>{const Re=Q[me.id]||0,be=Q[Ce.id]||0,ke=se[me.id],Ve=se[Ce.id];let De=0;switch(o){case"byMarker":!ke&&Ve?De=1:ke&&!Ve?De=-1:!ke&&!Ve?De=me.name.localeCompare(Ce.name):ke!==Ve?De=ke-Ve:De=me.name.localeCompare(Ce.name);break;case"unassignedFirst":Re===0&&be>0?De=-1:Re>0&&be===0?De=1:Re===0&&be===0?De=me.name.localeCompare(Ce.name):!ke&&Ve?De=1:ke&&!Ve?De=-1:ke!==Ve?De=ke-Ve:De=me.name.localeCompare(Ce.name);break;case"alphabetic":default:De=me.name.localeCompare(Ce.name);break}return h==="desc"?-De:De}),[$,t,o,h,Q,se]),ce=T.useMemo(()=>[...x].sort((oe,me)=>{let Ce=0;return g==="glyphText"?Ce=oe.glyph.localeCompare(me.glyph,void 0,{numeric:!0,sensitivity:"base"}):Ce=oe.id-me.id,v==="desc"?-Ce:Ce}),[x,g,v]),F=T.useMemo(()=>{const W={};return E.forEach(oe=>{const me=`${oe.company_id}_${oe.marker_id}`;W[me]=oe}),W},[E]),ee=T.useMemo(()=>{const W=new Set;return E.forEach(oe=>{W.add(oe.marker_id)}),W},[E]),Y=W=>ee.has(W),we=(W,oe)=>{const me=`${W}_${oe}`;return!!F[me]},R=(W,oe)=>{const me=`${W}_${oe}`;return F[me]},H=async(W,oe)=>{if(R(W,oe)){const{error:Ce}=await M(oe,W);Ce&&te(`Error removing assignment: ${Ce}`)}else{const Ce=E.filter(be=>be.marker_id===oe);if(Ce.length>0){const ke=$.find(Dt=>Dt.id===W)?.name||"this company",De=ce.find(Dt=>Dt.id===oe)?.glyph||oe;let He;if(Ce.length===1){const ei=$.find(Pi=>Pi.id===Ce[0].company_id)?.name||"another company";He=`Booth ${De} is already assigned to ${ei}.

Assign ${ke} as an additional company for this booth?`}else{const Dt=Ce.map(ei=>$.find(Ri=>Ri.id===ei.company_id)?.name).filter(Boolean).join(", ");He=`Booth ${De} is already assigned to ${Ce.length} companies: ${Dt}.

Assign ${ke} as another company for this booth?`}if(!await q({title:"Multiple Assignments",message:He,confirmText:"Assign",variant:"warning"}))return}const{error:Re}=await P(oe,W,null);Re&&te(`Error creating assignment: ${Re}`)}},X=async()=>{if(!await q({title:"Archive Assignments",message:`Archive all assignments for ${e}? This will move them to the archive and clear the current year.`,confirmText:"Archive",variant:"warning"}))return;const{error:oe}=await U();oe?te(`Error archiving: ${oe}`):K(`Successfully archived ${E.length} assignments for ${e}`)},z=async W=>{const{error:oe}=await V(W);oe?te(`Error loading archived assignments: ${oe}`):ae(`Archived data loaded for ${W}. Feature coming soon: display in table.`)};return O||j?d.jsx("div",{className:"p-4",children:"Loading assignments..."}):A?d.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",A]}):d.jsxs("div",{className:"h-full flex flex-col p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Se,{path:io,size:1,className:"text-gray-500"}),d.jsx("input",{type:"text",placeholder:"Search companies...",value:t,onChange:W=>n(W.target.value),className:"px-3 py-2 border rounded-lg"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[re.length," of ",$.length]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>z(e),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",title:`View archived assignments for ${e}`,children:[d.jsx(Se,{path:yO,size:.8}),d.jsx("span",{children:"Archive"})]}),d.jsx("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:E.length===0,title:`Archive all assignments for ${e}`,children:d.jsx(Se,{path:ff,size:.8})}),d.jsxs("div",{className:"flex items-end gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Companies"}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[d.jsxs("select",{value:o,onChange:W=>u(W.target.value),className:"pl-3 pr-8 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0",title:"Sort table rows",children:[d.jsx("option",{value:"alphabetic",children:"A-Z"}),d.jsx("option",{value:"byMarker",children:"Marker"}),d.jsx("option",{value:"unassignedFirst",children:"Unassigned"})]}),d.jsx("button",{onClick:()=>f(h==="asc"?"desc":"asc"),className:"p-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:h==="asc"?"Ascending":"Descending",children:d.jsx(Se,{path:h==="asc"?t1:e1,size:.8})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Markers"}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md shadow-sm bg-white",children:[d.jsxs("select",{value:g,onChange:W=>y(W.target.value),className:"pl-3 pr-8 py-1.5 border-0 rounded-l-md bg-white text-gray-900 text-sm focus:ring-0",title:"Sort table columns",children:[d.jsx("option",{value:"markerId",children:"ID"}),d.jsx("option",{value:"glyphText",children:"Label"})]}),d.jsx("button",{onClick:()=>w(v==="asc"?"desc":"asc"),className:"p-1.5 border-l border-gray-300 text-gray-500 hover:bg-gray-50 rounded-r-md",title:v==="asc"?"Ascending":"Descending",children:d.jsx(Se,{path:v==="asc"?t1:e1,size:.8})})]})]})]})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto border rounded-lg",children:[d.jsxs("table",{className:"w-full",style:{fontSize:"11px"},children:[d.jsx("thead",{className:"sticky top-0 z-10",children:d.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[d.jsx("th",{className:"p-2 text-left font-semibold border-b border-r bg-gray-200 sticky left-0 z-20",style:{minWidth:"200px"},children:"Company"}),ce.map(W=>{const oe=Y(W.id);return d.jsx("th",{className:`p-1 text-center border-b ${oe?"":"bg-gray-200"}`,style:{minWidth:"45px",maxWidth:"45px"},title:`Marker ID: ${W.id}, Booth: ${W.glyph}${oe?"":" (Unassigned)"}`,children:d.jsx("div",{className:`font-semibold ${oe?"":"text-gray-500"}`,children:W.glyph})},W.id)})]})}),d.jsx("tbody",{children:re.map(W=>{const oe=Q[W.id]||0;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 border-b border-r bg-white sticky left-0 z-10",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",title:W.name,children:W.name}),d.jsx("span",{className:`inline-flex items-center justify-center min-w-[24px] h-5 px-1.5 rounded-full text-xs font-medium ${oe===0?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-700"}`,title:`${oe} assignment${oe!==1?"s":""}`,children:oe})]})}),ce.map(me=>{const Ce=we(W.id,me.id),Re=Y(me.id);return d.jsx("td",{className:`p-0 border-b border-r text-center ${Re?"":"bg-gray-100"}`,children:d.jsx("button",{onClick:()=>H(W.id,me.id),className:`w-full h-full p-2 transition-colors ${Ce?"bg-green-100 hover:bg-green-200 text-green-700":Re?"bg-white hover:bg-gray-100 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-400"}`,title:Ce?`${W.name}  Booth ${me.glyph}`:`Assign ${W.name} to Booth ${me.glyph}`,children:Ce&&d.jsx(Se,{path:es,size:.6})})},me.id)})]},W.id)})})]}),re.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:t?"No companies found matching your search":"No companies available. Add companies in the Companies tab."})]}),d.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-900",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center",children:d.jsx(Se,{path:es,size:.5,className:"text-green-700"})}),d.jsx("span",{className:"font-medium",children:"Assigned"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 bg-white border border-gray-300 rounded"}),d.jsx("span",{className:"font-medium",children:"Not assigned"})]})]}),d.jsxs("div",{className:"text-sm text-gray-900",children:[d.jsxs("strong",{children:["Statistics for ",e,":"]})," ",E.length," assignments,"," ",new Set(E.map(W=>W.company_id)).size," unique companies,"," ",new Set(E.map(W=>W.marker_id)).size," markers assigned"]})]})]})}function M8(){const{t:e}=Rt(),{isSuperAdmin:t}=ro(),[n,i]=T.useState([]),[a,o]=T.useState(!0),[u,h]=T.useState(null),[f,g]=T.useState(!1),[y,v]=T.useState(""),[w,x]=T.useState("event_manager"),[j,E]=T.useState(!1),[O,A]=T.useState(!1),[P,M]=T.useState(null);T.useEffect(()=>{U()},[]);const U=async()=>{try{o(!0),h(null);let K,ae;try{const se=await ye.rpc("get_user_roles_with_email");K=se.data,ae=se.error}catch{console.warn("get_user_roles_with_email not available, using fallback");const re=await ye.from("user_roles").select("user_id, role, created_at, updated_at").order("created_at",{ascending:!1});K=re.data,ae=re.error}if(ae)throw ae;const{data:{user:$}}=await ye.auth.getUser(),Q=(K||[]).map(se=>{const re=$?.id===se.user_id;return{id:se.user_id,email:se.email||(re?$.email:`user-${se.user_id.substring(0,8)}...`),role:se.role,created_at:se.created_at,last_sign_in_at:se.last_sign_in_at||(re?$.last_sign_in_at:null),isCurrentUser:re}});i(Q),o(!1)}catch(K){console.error("Error fetching users:",K),h(e("settings.userManagement.errors.fetchFailed")),o(!1)}},V=async K=>{K.preventDefault(),E(!0),h(null);try{const Q=`${window.location.origin}/Map#/reset-password`,se=Math.random().toString(36).slice(-12)+"A1!",{data:re,error:ce}=await ye.auth.signUp({email:y,password:se,options:{data:{role:w},emailRedirectTo:Q}});if(ce)throw ce;if(re?.user?.id){const{error:ee}=await ye.from("user_roles").insert({user_id:re.user.id,role:w});ee&&console.warn("Failed to add user to user_roles:",ee)}const{error:F}=await ye.auth.resetPasswordForEmail(y,{redirectTo:Q});F&&console.warn("Password reset email failed:",F),A(!0),setTimeout(()=>{g(!1),A(!1),v(""),x("event_manager"),U()},8e3)}catch(ae){console.error("Error inviting user:",ae),h(ae.message||e("settings.userManagement.errors.inviteFailed"))}finally{E(!1)}},B=async(K,ae)=>{if(confirm(e("settings.userManagement.confirmDelete",{email:ae})))try{h(null);const{error:$}=await ye.from("user_roles").delete().eq("user_id",K);if($)throw $;await U()}catch($){console.error("Error deleting user:",$),h(e("settings.userManagement.errors.deleteFailed"))}},q={super_admin:e("settings.userManagement.roles.superAdmin"),system_manager:e("settings.userManagement.roles.systemManager"),event_manager:e("settings.userManagement.roles.eventManager")},te={super_admin:"bg-purple-100 text-purple-800 border-purple-200",system_manager:"bg-blue-100 text-blue-800 border-blue-200",event_manager:"bg-green-100 text-green-800 border-green-200"};return a?d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx("div",{className:"text-gray-500",children:e("settings.userManagement.loading")})})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(Se,{path:U2,size:1}),e("settings.userManagement.title")]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.userManagement.description")})]}),d.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center gap-2",children:[d.jsx(Se,{path:gf,size:.8}),e("settings.userManagement.inviteUser")]})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Se,{path:bc,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:e("settings.userManagement.implementation.title")}),d.jsx("p",{children:e("settings.userManagement.implementation.message")})]})]})}),u&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Se,{path:bc,size:.8,className:"mr-2"}),d.jsx("span",{className:"text-sm",children:u})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.email")}),d.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.role")}),d.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.created")}),d.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.lastLogin")}),d.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:e("settings.userManagement.table.actions")})]})}),d.jsx("tbody",{children:n.map(K=>d.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Se,{path:fO,size:.7,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-900",children:K.email})]})}),d.jsx("td",{className:"py-3 px-4",children:d.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${te[K.role]||"bg-gray-100 text-gray-800"}`,children:q[K.role]||K.role})}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:new Date(K.created_at).toLocaleDateString()}),d.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:K.last_sign_in_at?new Date(K.last_sign_in_at).toLocaleDateString():"-"}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:()=>M(K),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:e("settings.userManagement.editRole"),children:d.jsx(Se,{path:qy,size:.7})}),t&&d.jsx("button",{onClick:()=>B(K.id,K.email),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("settings.userManagement.deleteUser"),children:d.jsx(Se,{path:Pc,size:.7})})]})})]},K.id))})]})})]}),f&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e("settings.userManagement.inviteUser")}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(Se,{path:ts,size:.8})})]}),O?d.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-4 py-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Se,{path:es,size:.8,className:"mr-2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:e("settings.userManagement.inviteSuccess")}),d.jsx("p",{className:"text-sm mt-1",children:e("settings.userManagement.inviteSuccessMessage")})]})]})}):d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-base",children:e("settings.userManagement.emailLabel")}),d.jsx("input",{type:"email",value:y,onChange:K=>v(K.target.value),className:"input-base",placeholder:"manager@example.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-base",children:e("settings.userManagement.roleLabel")}),d.jsxs("select",{value:w,onChange:K=>x(K.target.value),className:"input-base",children:[d.jsx("option",{value:"event_manager",children:q.event_manager}),d.jsx("option",{value:"system_manager",children:q.system_manager}),t&&d.jsx("option",{value:"super_admin",children:q.super_admin})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e(`settings.userManagement.roleDescriptions.${w}`)})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:e("settings.userManagement.cancel")}),d.jsx("button",{type:"submit",disabled:j,className:"flex-1 btn-primary",children:e(j?"settings.userManagement.sending":"settings.userManagement.sendInvite")})]})]})]})})]})}function O8(){const{t:e}=Rt(),[t,n]=T.useState(!0),[i,a]=T.useState(!1),[o,u]=T.useState(!1),[h,f]=T.useState(null),[g,y]=T.useState(0),[v,w]=T.useState(0),[x,j]=T.useState(0),[E,O]=T.useState(0),[A,P]=T.useState(0),[M,U]=T.useState(!0),[V,B]=T.useState(!0),[q,te]=T.useState(!0);T.useEffect(()=>{K()},[]);const K=async()=>{n(!0),f(null);try{const{data:$,error:Q}=await ye.from("organization_profile").select("*").single();if(Q)Q.code==="PGRST116"?console.log("No organization profile found, using defaults"):console.warn("Error loading settings (columns may not exist yet):",Q);else if($&&(y($.default_breakfast_sat??0),w($.default_lunch_sat??0),j($.default_bbq_sat??0),O($.default_breakfast_sun??0),P($.default_lunch_sun??0),$.notification_settings)){const se=typeof $.notification_settings=="string"?JSON.parse($.notification_settings):$.notification_settings;U(se.emailNotifications??!0),B(se.newSubscriptionNotify??!0),te(se.assignmentChangeNotify??!0)}}catch($){console.warn("Failed to load settings (columns may not exist yet):",$)}finally{n(!1)}},ae=async $=>{$.preventDefault(),a(!0),f(null),u(!1);try{const Q={emailNotifications:M,newSubscriptionNotify:V,assignmentChangeNotify:q},{error:se}=await ye.from("organization_profile").select("default_breakfast").limit(1);if(se&&se.message?.includes("column")){f("Database columns not yet created. Please run the migration: ALTER TABLE organization_profile ADD COLUMN..."),console.error("EventDefaults columns missing. Run migration to add: default_breakfast, default_lunch, default_bbq, notification_settings");return}const{error:re}=await ye.from("organization_profile").upsert({id:1,default_breakfast_sat:g,default_lunch_sat:v,default_bbq_sat:x,default_breakfast_sun:E,default_lunch_sun:A,notification_settings:Q,updated_at:new Date().toISOString()});if(re)throw re;u(!0),setTimeout(()=>u(!1),3e3)}catch(Q){console.error("Failed to save settings:",Q),f(e("settings.eventDefaults.errors.saveFailed"))}finally{a(!1)}};return t?d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-center py-12",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:e("settings.eventDefaults.loading")})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e("settings.eventDefaults.title")}),d.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.description")})]}),o&&d.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start",children:[d.jsx(Se,{path:mf,size:1,className:"text-green-600 mr-3 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-green-800",children:e("settings.eventDefaults.saveSuccess")}),d.jsx("p",{className:"text-sm text-green-700",children:e("settings.eventDefaults.saveSuccessMessage")})]})]}),h&&d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start",children:[d.jsx(Se,{path:bc,size:1,className:"text-red-600 mr-3 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-red-800",children:e("settings.eventDefaults.error")}),d.jsx("p",{className:"text-sm text-red-700",children:h})]})]}),d.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx(Se,{path:mO,size:1,className:"text-orange-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.mealDefaults.title")})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.mealDefaults.description")}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.saturday")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"breakfastSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),d.jsx("input",{type:"number",id:"breakfastSat",min:"0",max:"9999",value:g,onChange:$=>y(parseInt($.target.value)||0),className:"input-base"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lunchSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),d.jsx("input",{type:"number",id:"lunchSat",min:"0",max:"9999",value:v,onChange:$=>w(parseInt($.target.value)||0),className:"input-base"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bbqSat",className:"label-base",children:e("settings.eventDefaults.mealDefaults.bbq")}),d.jsx("input",{type:"number",id:"bbqSat",min:"0",max:"9999",value:x,onChange:$=>j(parseInt($.target.value)||0),className:"input-base"})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:e("settings.eventDefaults.mealDefaults.sunday")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"breakfastSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.breakfast")}),d.jsx("input",{type:"number",id:"breakfastSun",min:"0",max:"9999",value:E,onChange:$=>O(parseInt($.target.value)||0),className:"input-base"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lunchSun",className:"label-base",children:e("settings.eventDefaults.mealDefaults.lunch")}),d.jsx("input",{type:"number",id:"lunchSun",min:"0",max:"9999",value:A,onChange:$=>P(parseInt($.target.value)||0),className:"input-base"})]}),d.jsxs("div",{className:"opacity-50",children:[d.jsx("label",{className:"label-base text-gray-400",children:e("settings.eventDefaults.mealDefaults.bbq")}),d.jsx("input",{type:"number",disabled:!0,value:"",className:"input-base bg-gray-100 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("settings.eventDefaults.mealDefaults.sundayNoBbq")})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx(Se,{path:nO,size:1,className:"text-orange-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e("settings.eventDefaults.notifications.title")})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e("settings.eventDefaults.notifications.description")}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"emailNotifications",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.emailNotifications")}),d.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.emailNotificationsDesc")})]}),d.jsx("button",{type:"button",role:"switch","aria-checked":M,onClick:()=>U(!M),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${M?"bg-orange-600":"bg-gray-300"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${M?"translate-x-5":"translate-x-0"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"newSubscriptionNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.newSubscription")}),d.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.newSubscriptionDesc")})]}),d.jsx("button",{type:"button",role:"switch","aria-checked":V,onClick:()=>B(!V),disabled:!M,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${V&&M?"bg-orange-600":"bg-gray-300"} ${M?"":"opacity-50 cursor-not-allowed"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${V?"translate-x-5":"translate-x-0"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"assignmentChangeNotify",className:"font-medium text-gray-900",children:e("settings.eventDefaults.notifications.assignmentChange")}),d.jsx("p",{className:"text-sm text-gray-600",children:e("settings.eventDefaults.notifications.assignmentChangeDesc")})]}),d.jsx("button",{type:"button",role:"switch","aria-checked":q,onClick:()=>te(!q),disabled:!M,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${q&&M?"bg-orange-600":"bg-gray-300"} ${M?"":"opacity-50 cursor-not-allowed"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${q?"translate-x-5":"translate-x-0"}`})})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 bg-white rounded-lg shadow p-6",children:[d.jsx("button",{type:"button",onClick:K,disabled:i,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e("settings.eventDefaults.reset")}),d.jsx("button",{type:"submit",disabled:i,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(i?"settings.eventDefaults.saving":"settings.eventDefaults.save")})]})]})]})}function OE(){const[e,t]=T.useState([]),[n,i]=T.useState(!0),[a,o]=T.useState(null),[u,h]=T.useState(null),[f,g]=T.useState(new Set);T.useEffect(()=>{(async()=>{const{data:{user:U}}=await ye.auth.getUser();h(U?.id||null)})()},[]);const y=T.useCallback(async(M={})=>{try{i(!0),o(null);let U=ye.from("feedback_requests").select("*").order("created_at",{ascending:!1});M.type&&(U=U.eq("type",M.type)),M.status&&(U=U.eq("status",M.status)),M.userId&&(U=U.eq("user_id",M.userId));const{data:V,error:B}=await U;if(B)throw B;if(t(V||[]),u){const{data:q}=await ye.from("feedback_votes").select("request_id").eq("user_id",u);g(new Set(q?.map(te=>te.request_id)||[]))}}catch(U){console.error("Error loading feedback requests:",U),o(U.message)}finally{i(!1)}},[u]),v=async M=>{try{const{data:{user:U}}=await ye.auth.getUser();if(!U)throw new Error("User not authenticated");const{data:V,error:B}=await ye.from("feedback_requests").insert({user_id:U.id,user_email:U.email,type:M.type,title:M.title,description:M.description||""}).select().single();if(B)throw B;return await y(),{data:V,error:null}}catch(U){return console.error("Error creating request:",U),{data:null,error:U.message}}},w=async(M,U)=>{try{const{data:V,error:B}=await ye.from("feedback_requests").update(U).eq("id",M).select().single();if(B)throw B;return await y(),{data:V,error:null}}catch(V){return console.error("Error updating request:",V),{data:null,error:V.message}}},x=async M=>{try{const{error:U}=await ye.from("feedback_requests").delete().eq("id",M);if(U)throw U;return await y(),{error:null}}catch(U){return console.error("Error deleting request:",U),{error:U.message}}},j=async M=>{try{const{data:{user:U}}=await ye.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:V}=await ye.from("feedback_votes").insert({request_id:M,user_id:U.id});if(V)throw V;return g(B=>new Set([...B,M])),t(B=>B.map(q=>q.id===M?{...q,votes:q.votes+1}:q)),{error:null}}catch(U){return console.error("Error adding vote:",U),{error:U.message}}},E=async M=>{try{const{data:{user:U}}=await ye.auth.getUser();if(!U)throw new Error("User not authenticated");const{error:V}=await ye.from("feedback_votes").delete().eq("request_id",M).eq("user_id",U.id);if(V)throw V;return g(B=>{const q=new Set(B);return q.delete(M),q}),t(B=>B.map(q=>q.id===M?{...q,votes:Math.max(0,q.votes-1)}:q)),{error:null}}catch(U){return console.error("Error removing vote:",U),{error:U.message}}},O=async M=>{try{const{data:U,error:V}=await ye.from("feedback_comments").select("*").eq("request_id",M).order("created_at",{ascending:!0});if(V)throw V;return{data:U||[],error:null}}catch(U){return console.error("Error loading comments:",U),{data:[],error:U.message}}},A=async(M,U)=>{try{const{data:{user:V}}=await ye.auth.getUser();if(!V)throw new Error("User not authenticated");const{data:B,error:q}=await ye.from("feedback_comments").insert({request_id:M,user_id:V.id,user_email:V.email,comment:U}).select().single();if(q)throw q;return t(te=>te.map(K=>K.id===M?{...K,comments_count:K.comments_count+1}:K)),{data:B,error:null}}catch(V){return console.error("Error adding comment:",V),{data:null,error:V.message}}},P=async(M,U)=>{try{const{error:V}=await ye.from("feedback_comments").delete().eq("id",M);if(V)throw V;return t(B=>B.map(q=>q.id===U?{...q,comments_count:Math.max(0,q.comments_count-1)}:q)),{error:null}}catch(V){return console.error("Error deleting comment:",V),{error:V.message}}};return T.useEffect(()=>{const M=ye.channel("feedback_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests"},()=>{y()}).subscribe();return()=>{ye.removeChannel(M)}},[y]),{requests:e,loading:n,error:a,userVotes:f,currentUserId:u,loadRequests:y,createRequest:v,updateRequest:w,deleteRequest:x,addVote:j,removeVote:E,loadComments:O,addComment:A,deleteComment:P}}function P8({request:e,onClose:t,onUpdate:n}){const{t:i}=Rt(),{role:a}=ro(),o=a==="super_admin",{userVotes:u,currentUserId:h,addVote:f,removeVote:g,loadComments:y,addComment:v,deleteComment:w,updateRequest:x}=OE(),[j,E]=T.useState([]),[O,A]=T.useState(""),[P,M]=T.useState(!0),[U,V]=T.useState(!1),[B,q]=T.useState(!1),[te,K]=T.useState(e.status),[ae,$]=T.useState(e.priority||""),[Q,se]=T.useState(e.version_completed||""),[re,ce]=T.useState(!1);T.useEffect(()=>{(async()=>{M(!0);const{data:z}=await y(e.id);E(z||[]),M(!1)})()},[e.id]);const F=async()=>{u.has(e.id)?await g(e.id):await f(e.id)},ee=async X=>{if(X.preventDefault(),!O.trim())return;V(!0);const{data:z,error:W}=await v(e.id,O.trim());!W&&z&&(E([...j,z]),A("")),V(!1)},Y=async X=>{if(!confirm(i("common.confirmDelete")))return;const{error:z}=await w(X,e.id);z||E(j.filter(W=>W.id!==X))},we=async()=>{ce(!0);const X={status:te,priority:ae||null,version_completed:Q||null};te==="completed"&&e.status!=="completed"&&(X.completed_at=new Date().toISOString(),X.completed_by=h);const{error:z}=await x(e.id,X);z||(q(!1),n&&n()),ce(!1)},R=X=>{switch(X){case"completed":return mf;case"in_progress":return W2;case"archived":return ff;default:return F2}},H=X=>{switch(X){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.type==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[d.jsx(Se,{path:e.type==="issue"?Yg:Xg,size:.5,className:"mr-1"}),i(`settings.feedbackRequests.types.${e.type}`)]}),B?d.jsxs("select",{value:te,onChange:X=>K(X.target.value),className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[d.jsx("option",{value:"open",children:i("settings.feedbackRequests.statuses.open")}),d.jsx("option",{value:"in_progress",children:i("settings.feedbackRequests.statuses.inProgress")}),d.jsx("option",{value:"completed",children:i("settings.feedbackRequests.statuses.completed")}),d.jsx("option",{value:"archived",children:i("settings.feedbackRequests.statuses.archived")})]}):d.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${H(e.status)}`,children:[d.jsx(Se,{path:R(e.status),size:.6}),i(`settings.feedbackRequests.statuses.${e.status.replace("_","")}`)]})]}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[d.jsx("span",{children:e.user_email}),d.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.version_completed&&!B&&d.jsxs("span",{className:"text-green-600 font-medium",children:["v",e.version_completed]})]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:d.jsx(Se,{path:ts,size:1})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[e.description&&d.jsx("div",{className:"mb-6",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.description})}),o&&d.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"font-semibold text-blue-900",children:i("settings.feedbackRequests.detail.status")}),B?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>q(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:i("common.cancel")}),d.jsx("button",{onClick:we,disabled:re,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:i(re?"common.saving":"common.save")})]}):d.jsx("button",{onClick:()=>q(!0),className:"text-sm text-blue-600 hover:text-blue-700",children:i("common.edit")})]}),B&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.priority")}),d.jsxs("select",{value:ae,onChange:X=>$(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"No priority"}),d.jsx("option",{value:"low",children:i("settings.feedbackRequests.priorities.low")}),d.jsx("option",{value:"medium",children:i("settings.feedbackRequests.priorities.medium")}),d.jsx("option",{value:"high",children:i("settings.feedbackRequests.priorities.high")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("settings.feedbackRequests.detail.version")}),d.jsx("input",{type:"text",value:Q,onChange:X=>se(X.target.value),placeholder:"e.g., 1.2.0",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsx("div",{className:"mb-6",children:d.jsxs("button",{onClick:F,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${u.has(e.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Se,{path:Y2,size:.8}),d.jsx("span",{className:"font-medium",children:u.has(e.id)?i("common.voted"):i("common.vote")}),d.jsxs("span",{className:"text-sm",children:["(",e.votes,")"]})]})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[d.jsx(Se,{path:$2,size:.8}),i("settings.feedbackRequests.detail.comments")," (",j.length,")"]}),P?d.jsx("div",{className:"text-center py-4 text-gray-500",children:i("common.loading")}):j.length===0?d.jsx("p",{className:"text-gray-500 text-sm mb-4",children:i("settings.feedbackRequests.detail.noComments")}):d.jsx("div",{className:"space-y-3 mb-4",children:j.map(X=>d.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"font-medium text-gray-900",children:X.user_email}),d.jsx("span",{className:"text-gray-500 ml-2",children:new Date(X.created_at).toLocaleDateString()})]}),(X.user_id===h||o)&&d.jsx("button",{onClick:()=>Y(X.id),className:"text-red-600 hover:text-red-700",children:d.jsx(Se,{path:Pc,size:.6})})]}),d.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:X.comment})]},X.id))}),d.jsxs("form",{onSubmit:ee,className:"flex gap-2",children:[d.jsx("input",{type:"text",value:O,onChange:X=>A(X.target.value),placeholder:i("settings.feedbackRequests.detail.addComment"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsxs("button",{type:"submit",disabled:U||!O.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d.jsx(Se,{path:TO,size:.7}),i("settings.feedbackRequests.detail.postComment")]})]})]})]})]})})}function R8(){const{t:e}=Rt(),{role:t}=ro(),n=t==="super_admin",{requests:i,loading:a,error:o,userVotes:u,currentUserId:h,loadRequests:f,createRequest:g,addVote:y,removeVote:v}=OE(),[w,x]=T.useState("all"),[j,E]=T.useState(""),[O,A]=T.useState(""),[P,M]=T.useState(""),[U,V]=T.useState(null),[B,q]=T.useState("feature"),[te,K]=T.useState(""),[ae,$]=T.useState(""),[Q,se]=T.useState(!1);T.useEffect(()=>{const R={};j&&(R.type=j),O&&(R.status=O),w==="my"&&h&&(R.userId=h),f(R)},[j,O,w,h,f]);const re=i.filter(R=>{if(!P)return!0;const H=P.toLowerCase();return R.title.toLowerCase().includes(H)||R.description?.toLowerCase().includes(H)||R.user_email.toLowerCase().includes(H)}),ce=async R=>{u.has(R)?await v(R):await y(R)},F=async R=>{if(R.preventDefault(),!te.trim())return;se(!0);const{error:H}=await g({type:B,title:te.trim(),description:ae.trim()});H||(K(""),$(""),x("all")),se(!1)},ee=R=>{switch(R){case"completed":return mf;case"in_progress":return W2;case"archived":return ff;default:return F2}},Y=R=>{switch(R){case"completed":return"text-green-600";case"in_progress":return"text-blue-600";case"archived":return"text-gray-400";default:return"text-yellow-600"}},we=R=>R==="issue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800";return a&&i.length===0?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("div",{className:"text-gray-500",children:e("common.loading")})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("settings.feedbackRequests.title")}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.feedbackRequests.description")})]}),d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>x("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.all")}),d.jsx("button",{onClick:()=>x("my"),className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="my"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e("settings.feedbackRequests.tabs.myRequests")}),d.jsxs("button",{onClick:()=>x("submit"),className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="submit"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(Se,{path:gf,size:.7,className:"inline mr-1"}),e("settings.feedbackRequests.tabs.submit")]})]})}),(w==="all"||w==="my")&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[d.jsx(Se,{path:Z2,size:.8}),d.jsx("span",{className:"font-medium",children:e("settings.feedbackRequests.filters.title")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("input",{type:"text",placeholder:e("settings.feedbackRequests.filters.search"),value:P,onChange:R=>M(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsxs("select",{value:j,onChange:R=>E(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allTypes")}),d.jsx("option",{value:"issue",children:e("settings.feedbackRequests.types.issue")}),d.jsx("option",{value:"feature",children:e("settings.feedbackRequests.types.feature")})]}),d.jsxs("select",{value:O,onChange:R=>A(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:e("settings.feedbackRequests.filters.allStatuses")}),d.jsx("option",{value:"open",children:e("settings.feedbackRequests.statuses.open")}),d.jsx("option",{value:"in_progress",children:e("settings.feedbackRequests.statuses.inProgress")}),d.jsx("option",{value:"completed",children:e("settings.feedbackRequests.statuses.completed")}),d.jsx("option",{value:"archived",children:e("settings.feedbackRequests.statuses.archived")})]})]})]}),w==="submit"?d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("settings.feedbackRequests.submit.title")}),d.jsxs("form",{onSubmit:F,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.type")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"feature",checked:B==="feature",onChange:R=>q(R.target.value),className:"mr-2"}),d.jsx(Se,{path:Xg,size:.8,className:"mr-1 text-blue-600"}),e("settings.feedbackRequests.types.feature")]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"issue",checked:B==="issue",onChange:R=>q(R.target.value),className:"mr-2"}),d.jsx(Se,{path:Yg,size:.8,className:"mr-1 text-red-600"}),e("settings.feedbackRequests.types.issue")]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e("settings.feedbackRequests.submit.title")," *"]}),d.jsx("input",{type:"text",value:te,onChange:R=>K(R.target.value),placeholder:e("settings.feedbackRequests.submit.titlePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.feedbackRequests.submit.description")}),d.jsx("textarea",{value:ae,onChange:R=>$(R.target.value),placeholder:e("settings.feedbackRequests.submit.descriptionPlaceholder"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),te&&d.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[" ",e("settings.feedbackRequests.submit.duplicateHint")]}),d.jsx("button",{type:"submit",disabled:Q||!te.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(Q?"common.saving":"settings.feedbackRequests.submit.button")})]})]}):d.jsxs("div",{className:"space-y-3",children:[o&&d.jsx("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg",children:o}),re.length===0?d.jsx("div",{className:"text-center py-12 text-gray-500",children:e("settings.feedbackRequests.noRequests")}):re.map(R=>d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>V(R),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${we(R.type)}`,children:[d.jsx(Se,{path:R.type==="issue"?Yg:Xg,size:.5,className:"mr-1"}),e(`settings.feedbackRequests.types.${R.type}`)]}),d.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${Y(R.status)}`,children:[d.jsx(Se,{path:ee(R.status),size:.6}),e(`settings.feedbackRequests.statuses.${R.status.replace("_","")}`)]}),R.priority&&n&&d.jsx("span",{className:"text-xs text-gray-500",children:e(`settings.feedbackRequests.priorities.${R.priority}`)})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:R.title}),R.description&&d.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:R.description}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[d.jsx("span",{children:R.user_email}),d.jsx("span",{children:new Date(R.created_at).toLocaleDateString()}),R.version_completed&&d.jsxs("span",{className:"text-green-600 font-medium",children:["v",R.version_completed]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[d.jsxs("button",{onClick:H=>{H.stopPropagation(),ce(R.id)},className:`flex items-center gap-1 px-3 py-1 rounded-full border ${u.has(R.id)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Se,{path:Y2,size:.6}),d.jsx("span",{className:"font-medium",children:R.votes})]}),d.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[d.jsx(Se,{path:$2,size:.6}),d.jsx("span",{className:"text-sm",children:R.comments_count})]})]})]})},R.id))]}),U&&d.jsx(P8,{request:U,onClose:()=>V(null),onUpdate:()=>{V(null),f()}})]})}function D8(){const{t:e}=Rt(),[t,n]=T.useState(!0),[i,a]=T.useState(!1),[o,u]=T.useState(!1),[h,f]=T.useState("#ffffff"),[g,y]=T.useState("Arvo, Sans-serif");T.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const{data:x,error:j}=await ye.from("organization_profile").select("event_name, theme_color, font_family").eq("id",1).single();if(j)throw j;x&&(f(x.theme_color||"#ffffff"),y(x.font_family||"Arvo, Sans-serif"))}catch(x){console.error("Error loading branding settings:",x)}finally{n(!1)}},w=async()=>{try{a(!0);const{error:x}=await ye.from("organization_profile").update({theme_color:h,font_family:g}).eq("id",1);if(x)throw x;u(!0),setTimeout(()=>u(!1),3e3)}catch(x){console.error("Error saving branding settings:",x),alert(e("settings.branding.errors.saveFailed"))}finally{a(!1)}};return t?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("div",{className:"text-gray-500",children:e("settings.branding.loading")})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(Se,{path:K2,size:1}),e("settings.branding.title")]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e("settings.branding.description")}),d.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",e("settings.branding.note")]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.themeColor.label")}),d.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.themeColor.description")}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("input",{type:"color",value:h,onChange:x=>f(x.target.value),className:"h-12 w-24 border border-gray-300 rounded cursor-pointer"}),d.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:7})]}),d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:h,borderColor:h},children:[d.jsx("p",{className:"font-bold text-white text-lg",children:"Preview Text (White on Color)"}),d.jsx("p",{className:"text-white text-sm opacity-90",children:"The quick brown fox jumps over the lazy dog"})]}),d.jsxs("div",{className:"p-4 rounded-lg border-2 border-gray-300 bg-white",children:[d.jsx("p",{className:"font-bold text-lg",style:{color:h},children:"Preview Text (Color on White)"}),d.jsx("p",{className:"text-sm",style:{color:h},children:"The quick brown fox jumps over the lazy dog"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.branding.fontFamily.label")}),d.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e("settings.branding.fontFamily.description")}),d.jsxs("select",{value:g,onChange:x=>y(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Arvo, Sans-serif",children:"Arvo (Default)"}),d.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),d.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),d.jsx("option",{value:"Georgia, serif",children:"Georgia"}),d.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),d.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),d.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),d.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),d.jsx("option",{value:"Impact, sans-serif",children:"Impact"})]}),d.jsxs("div",{className:"mt-3 p-4 rounded-lg border border-gray-300 bg-white",style:{fontFamily:g},children:[d.jsx("p",{className:"text-lg text-gray-900 font-semibold",children:"The quick brown fox jumps over the lazy dog"}),d.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"1234567890 !@#$%^&*()"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>{f("#ffffff"),y("Arvo, Sans-serif")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:e("settings.branding.reset")}),d.jsx("button",{onClick:w,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?e("common.saving"):o?d.jsxs(d.Fragment,{children:[d.jsx(Se,{path:mf,size:.8}),e("settings.branding.saveSuccess")]}):e("common.save")})]})]})}function z8(){const{t:e}=Rt();return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx(Se,{path:Jg,size:1.2,className:"text-blue-600"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("settings.uiLanguage.title")}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e("settings.uiLanguage.description")})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Se,{path:Jg,size:.9,className:"text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:e("settings.uiLanguage.note.title")}),d.jsx("p",{children:e("settings.uiLanguage.note.description")})]})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("settings.uiLanguage.selectLanguage")}),d.jsx(vc,{})]})]})]})}function B8(){const{t:e}=Rt(),{role:t,isSuperAdmin:n}=ro(),[i,a]=T.useState("user-management"),u=[{id:"user-management",label:e("settings.userManagement.title"),icon:U2,roles:["super_admin","system_manager"],component:d.jsx(M8,{})},{id:"branding",label:e("settings.branding.title"),icon:K2,roles:["super_admin","system_manager"],component:d.jsx(D8,{})},{id:"ui-language",label:e("settings.uiLanguage.title"),icon:Jg,roles:["super_admin","system_manager","event_manager"],component:d.jsx(z8,{})},{id:"map-defaults",label:e("settings.mapDefaults.title"),icon:pf,roles:["super_admin","system_manager"],component:d.jsx(I8,{})},{id:"event-defaults",label:e("settings.eventDefaults.title"),icon:q2,roles:["super_admin","system_manager","event_manager"],component:d.jsx(O8,{})},{id:"feedback-requests",label:e("settings.feedbackRequests.title"),icon:cO,roles:["super_admin","system_manager","event_manager"],component:d.jsx(R8,{})},{id:"advanced",label:e("settings.advanced.title"),icon:bc,roles:["super_admin"],component:d.jsx(U8,{})}].filter(f=>n?!0:f.roles.includes(t));gi.useEffect(()=>{u.find(f=>f.id===i)||a(u[0]?.id||"event-defaults")},[t]);const h=u.find(f=>f.id===i)?.component;return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("settings.title")}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e("settings.subtitle"),d.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium capitalize",children:t?.replace("_"," ")})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:d.jsx("nav",{className:"p-4 space-y-1",children:u.map(f=>d.jsxs("button",{onClick:()=>a(f.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${i===f.id?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Se,{path:f.icon,size:.9}),d.jsx("span",{children:f.label})]},f.id))})}),d.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:h})]})]})}function I8(){const{t:e}=Rt();return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:e("settings.mapDefaults.title")}),d.jsx("p",{className:"text-gray-600",children:e("settings.mapDefaults.description")}),d.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-blue-800",children:" Map Defaults component coming soon..."})})]})}function U8(){const{t:e}=Rt();return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Se,{path:bc,size:1,className:"text-red-600"}),e("settings.advanced.title")]}),d.jsx("p",{className:"text-gray-600",children:e("settings.advanced.description")}),d.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-800",children:" Advanced Settings (Danger Zone) coming soon..."})})]})}const V8=T.lazy(()=>Qi(()=>Promise.resolve().then(()=>p8),void 0));T.lazy(()=>Qi(()=>import("./AccessibilityToggle-Bf7g6-7v.js"),[]));T.lazy(()=>Qi(()=>import("./FeedbackForm-BzLgU6aZ.js"),[]));function H8({branding:e,user:t,markersState:n,updateMarker:i,setMarkersState:a,onLogin:o,selectedYear:u,setSelectedYear:h}){const f=({children:g})=>d.jsx(Fp,{children:d.jsxs(l1,{selectedYear:u,children:[d.jsx(lM,{}),d.jsx("main",{className:"pb-16",children:g}),d.jsx(zO,{})]})});return d.jsxs(jN,{children:[d.jsx(Rn,{path:"/",element:d.jsx(f,{children:d.jsx($y,{selectedYear:u,branding:e})})}),d.jsx(Rn,{path:"/map",element:d.jsx(f,{children:d.jsx(T.Suspense,{fallback:d.jsx("div",{children:"Loading map..."}),children:d.jsx(V8,{isAdminView:!1,markersState:n,updateMarker:i,setMarkersState:a,selectedYear:u})})})}),d.jsx(Rn,{path:"/exhibitors",element:d.jsx(f,{children:d.jsx(HO,{markersState:n,selectedYear:u})})}),d.jsx(Rn,{path:"/schedule",element:d.jsx(f,{children:d.jsx(FO,{selectedYear:u})})}),d.jsx(Rn,{path:"/reset-password",element:d.jsx(Fp,{children:d.jsx(T.Suspense,{fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:d.jsx(XM,{branding:e})})})}),d.jsxs(Rn,{path:"/admin",element:t?d.jsx(l1,{selectedYear:u,children:d.jsx(m3,{selectedYear:u,setSelectedYear:h})}):d.jsx(Fp,{children:d.jsx(T.Suspense,{fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:d.jsx(YM,{onLogin:o,branding:e})})}),children:[d.jsx(Rn,{index:!0,element:d.jsx(p3,{selectedYear:u})}),d.jsx(Rn,{path:"map",element:d.jsx(g8,{markersState:n,setMarkersState:a,updateMarker:i,selectedYear:u})}),d.jsx(Rn,{path:"companies",element:d.jsx(T8,{})}),d.jsx(Rn,{path:"subscriptions",element:d.jsx(k8,{selectedYear:u})}),d.jsx(Rn,{path:"program",element:d.jsx(A8,{})}),d.jsx(Rn,{path:"assignments",element:d.jsx(N8,{selectedYear:u})}),d.jsx(Rn,{path:"settings",element:d.jsx(B8,{})})]}),d.jsx(Rn,{path:"/storage-test",element:d.jsx(DO,{})})]})}const F8="Event Map App",q8="Welcome to the event!",$8="Home",Z8="Admin Dashboard",G8={loading:"Loading...",saving:"Saving...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this?",vote:"Vote",voted:"Voted"},K8={event:"Event",parking:"Parking",food:"Food"},W8={title:"Manager Login",subtitle:"Sign in to manage event data",email:"Email",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",show:"Show",hide:"Hide",forgotPassword:"Forgot password?",resetPassword:"Reset Password",backToLogin:"Back to login",sendResetLink:"Send Reset Link",resetEmailSent:"Password reset link has been sent to your email",resetInstructions:"Enter your email address and we'll send you a link to reset your password.",loginButton:"Login",loggingIn:"Logging in...",rememberMe:"Remember my email",rememberMeTooltip:"Your browser will also offer to save your password securely",errors:{invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",networkError:"Network error. Please check your connection.",unknownError:"An error occurred. Please try again.",resetFailed:"Failed to send reset email. Please try again."}},Y8={title:"Set New Password",instructions:"Enter your new password below. Make it secure!",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Re-enter new password",showPassword:"Show password",hidePassword:"Hide password",passwordRequirements:"Minimum 6 characters",updatePassword:"Update Password",updating:"Updating...",success:"Password updated successfully!",redirecting:"Redirecting to login page...",backToLogin:"Back to login",requestNewLink:"Request New Reset Link",errors:{linkExpiredTitle:"Reset Link Expired",invalidToken:"This reset link is invalid or has expired. Please request a new one.",tokenExpired:"This reset link has expired. Reset links are only valid for 60 seconds after being sent. Please go back to the login page and request a new reset link.",passwordTooShort:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",updateFailed:"Failed to update password. Please try again."}},X8={title:"Settings",subtitle:"Manage system configuration and preferences",userManagement:{title:"User Management",description:"Manage admin users, roles, and permissions",loading:"Loading users...",inviteUser:"Invite User",emailLabel:"Email Address",roleLabel:"User Role",sendInvite:"Send Invite",sending:"Sending...",cancel:"Cancel",editRole:"Edit role",deleteUser:"Delete user",confirmDelete:"Are you sure you want to delete {{email}}?",inviteSuccess:"Manager invitation sent!",inviteSuccessMessage:"The new manager will receive 2 emails: a confirmation email (can be ignored) and a password reset email to access the admin panel.",table:{email:"Email",role:"Role",created:"Created",lastLogin:"Last Login",actions:"Actions"},roles:{superAdmin:"Super Admin",systemManager:"System Manager",eventManager:"Event Manager"},roleDescriptions:{super_admin:"Full access to all features",system_manager:"Map management and user administration",event_manager:"Companies, subscriptions, and assignments"},implementation:{title:"Server-side API Required",message:"Full user management requires server-side implementation using Supabase Admin API. Currently showing mock data. Contact your developer to enable edit/delete functionality."},errors:{fetchFailed:"Failed to load users",inviteFailed:"Failed to send invitation",updateFailed:"Failed to update user role",deleteFailed:"Failed to delete user",requiresServerApi:"This action requires server-side API implementation"}},organization:{title:"Organization Profile",description:"Organization name, logo, and contact information"},branding:{title:"Branding Settings",description:"Configure visual branding (colors, fonts)",note:"Organization name and logo are managed in the Companies tab",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset to Defaults",saveSuccess:"Saved!",themeColor:{label:"Theme Color",description:"Primary color used throughout the application"},fontFamily:{label:"Font Family",description:"Font used for headings and text"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},uiLanguage:{title:"UI Language",description:"Change the language of buttons, menus, and interface elements",selectLanguage:"Select your preferred language",note:{title:"Manager Interface Language",description:"This changes the language of buttons, menus, and settings. It does NOT affect content translations (company info, marker descriptions). Content translations are managed separately."}},mapDefaults:{title:"Map Defaults",description:"Default map layers, zoom levels, and map settings"},eventDefaults:{title:"Event Defaults",description:"Default meal counts, booth sizes, and event preferences",loading:"Loading settings...",save:"Save Changes",saving:"Saving...",reset:"Reset",saveSuccess:"Settings saved successfully",saveSuccessMessage:"Your changes have been applied.",error:"Error",mealDefaults:{title:"Default Meal Counts",description:"Set default meal quantities for new event subscriptions. These values will be pre-filled but can be adjusted per subscription.",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"No BBQ on Sunday"},notifications:{title:"Notification Preferences",description:"Configure email notifications for event managers",emailNotifications:"Enable Email Notifications",emailNotificationsDesc:"Master switch for all email notifications",newSubscription:"New Subscription Alerts",newSubscriptionDesc:"Get notified when companies register for the event",assignmentChange:"Assignment Changes",assignmentChangeDesc:"Get notified when booth assignments are modified"},errors:{loadFailed:"Failed to load settings. Please try again.",saveFailed:"Failed to save settings. Please check your connection."}},feedbackRequests:{title:"Feedback & Feature Requests",description:"Submit issues, request features, and track progress",tabs:{all:"All Requests",myRequests:"My Requests",submit:"Submit New"},filters:{title:"Filters",search:"Search requests...",allTypes:"All Types",allStatuses:"All Statuses"},types:{issue:"Issue",feature:"Feature Request"},statuses:{open:"Open",inProgress:"In Progress",completed:"Completed",archived:"Archived"},priorities:{low:"Low Priority",medium:"Medium Priority",high:"High Priority"},submit:{title:"Submit New Request",type:"Type",titleLabel:"Title",titlePlaceholder:"Brief summary of your request",description:"Description",descriptionPlaceholder:"Provide details about your request...",duplicateHint:"Please check the list below to see if a similar request already exists",button:"Submit Request"},noRequests:"No requests found",detail:{comments:"Comments",addComment:"Add comment...",postComment:"Post",noComments:"No comments yet. Be the first to comment!",status:"Status",priority:"Priority",version:"Version Deployed",updateStatus:"Update Status",setPriority:"Set Priority",markCompleted:"Mark as Completed",delete:"Delete Request"}},advanced:{title:"Advanced Settings",description:"System maintenance, data management, and danger zone"}},J8={subtitle:"Your Next Adventure Starts Here!",title:"The 4x4 Holiday Fair",eventDate:"October 10-11, 2026",exhibitors:"Exhibitors",days:"Days",openingHours:"Opening Hours",openingHoursInfo:`Saturday 10:00 - 17:00
Sunday 10:00 - 16:00`,location:"Location",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parking",parkingInfo:"Free parking available at Strandpark Slijk-Ewijk",phaseNote:"<strong>Note:</strong> This is a Phase 1 placeholder. In Phase 2, this page will show real event data, welcome messages, and upcoming activities."},Q8={title:"Exhibitors",searchPlaceholder:"Search exhibitors or booth number...",showing:"Showing",of:"of",exhibitors:"exhibitors",favorited:"favorited",favoritesOnly:"Favorites Only",noExhibitors:"No exhibitors found",booth:"Booth",categoriesComingSoon:"Coming Soon: Categories",phaseNote:"Note:",comingInFuturePhases:"Coming in future phases:",categoryFiltering:"Category filtering",sortOptions:"Sort options"},e9={home:"Home",map:"Map",exhibitors:"Exhibitors",schedule:"Schedule"},t9={title:"Program Management",addActivity:"Add Activity",addFirstActivity:"Add Your First Activity",noActivitiesFound:"No activities found for this day",saturday:"Saturday",sunday:"Sunday",location:"Location",exhibitor:"Exhibitor",venue:"Venue",edit:"Edit",delete:"Delete",dragToReorder:"Drag to reorder",totalActivities:"Total Activities",loading:"Loading activities...",error:"Error loading activities",confirmDelete:"Delete Activity",confirmDeleteMessage:"Are you sure you want to delete this activity? This action cannot be undone.",cancel:"Cancel",deleteButton:"Delete",deleting:"Deleting...",deleteError:"Failed to delete activity",reorderError:"Failed to reorder activities"},n9={createTitle:"Create Activity",editTitle:"Edit Activity",titleNL:"Title (NL)",titleEN:"Title (EN)",descriptionNL:"Description (NL)",descriptionEN:"Description (EN)",startTime:"Start Time",endTime:"End Time",locationType:"Location Type",venue:"Venue",exhibitor:"Exhibitor",locationNL:"Location (NL)",locationEN:"Location (EN)",company:"Company",selectCompany:"Select a company...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optional",displayOrder:"Display Order",displayOrderHelp:"Lower numbers appear first in the schedule",isActive:"Active",isActiveHelp:"Inactive activities won't be shown to visitors",showLocationBadge:"Show Location Type Badge",showLocationBadgeHelp:'Show "exhibitor" or "location" badge in the schedule (usually not needed)',cancel:"Cancel",save:"Save",saving:"Saving...",saveError:"Failed to save activity"},i9={totalMarkers:"Total Markers",companies:"Companies",subscriptions:"Subscriptions",assignments:"Assignments",eventTotals:"Event Totals",saturday:"Saturday",sunday:"Sunday",breakfast:"Breakfast",lunch:"Lunch",bbq:"BBQ",noBBQ:"No BBQ",coins:"Coins",totalCoins:"Total Coins",quickActions:"Quick Actions",addNewCompany:"Add New Company",addNewCompanyDesc:"Register a new company in the system",manageSubscriptions:"Manage Subscriptions",manageSubscriptionsDesc:"Add or update event subscriptions",assignBooths:"Assign Booths",assignBoothsDesc:"Manage booth assignments for companies",recentActivity:"Recent Activity",recentActivityPlaceholder:"Activity tracking will be added in a future update."},r9={title:"Help & Guide",closeHelp:"Close help panel",yourRole:"Your role:",tabs:{currentPage:"Current Page",whatsNew:"What's New",quickStart:"Quick Start"},searchPlaceholder:"Search help content...",lastUpdated:"Last updated:",quickTips:"Quick Tips",whatsNewTitle:"What's New",whatsNewSubtitle:"Recent updates and changes",changeTypes:{feature:"feature",fix:"fix",improvement:"improvement"},quickStartTitle:"Quick Start Guide",quickStartSubtitle:"Get started with the admin panel",steps:{step1Title:"1. Understand Your Role",step1Text:"Your role ({role}) determines which features you can access. Check the navigation menu to see available sections.",step2Title:"2. Select Event Year",step2Text:"Use the year dropdown in the top navigation to switch between different event years. All data (subscriptions, assignments) is year-specific.",step3Title:"3. Explore the Dashboard",step3Text:"Start at the Dashboard to see an overview of markers, companies, and event statistics. This gives you a quick snapshot of your current data.",step4Title:"4. Common Workflows",step4Item1:"Add companies in the Companies tab",step4Item2:"Import subscriptions via Excel/CSV",step4Item3:"Assign companies to map locations",step4Item4:"Lock markers before event day",step5Title:"5. Get Contextual Help",step5Text:'Click "Current Page" tab in this help panel to see specific guidance for each section. Hover over (?) icons for quick tooltips.'},roles:{super_admin:"Super Admin",system_manager:"System Manager",event_manager:"Event Manager",content_editor:"Content Editor",unknown:"Unknown"},footer:"Need more help? Contact your system administrator"},s9={appTitle:F8,welcome:q8,home:$8,admin:Z8,common:G8,marker:K8,adminLogin:W8,resetPassword:Y8,settings:X8,homePage:J8,exhibitorPage:Q8,navigation:e9,programManagement:t9,activityForm:n9,dashboard:i9,helpPanel:r9},a9="Evenementenkaart App",o9="Welkom op het evenement!",l9="Startpagina",u9="Admin Dashboard",c9={loading:"Laden...",saving:"Opslaan...",save:"Opslaan",cancel:"Annuleren",edit:"Bewerken",delete:"Verwijderen",confirmDelete:"Weet je zeker dat je dit wilt verwijderen?",vote:"Stem",voted:"Gestemd"},h9={event:"Evenement",parking:"Parkeren",food:"Eten"},d9={title:"Manager Inloggen",subtitle:"Inloggen om evenementgegevens te beheren",email:"E-mail",emailPlaceholder:"Voer uw e-mailadres in",password:"Wachtwoord",passwordPlaceholder:"Voer uw wachtwoord in",show:"Toon",hide:"Verberg",forgotPassword:"Wachtwoord vergeten?",resetPassword:"Wachtwoord Resetten",backToLogin:"Terug naar inloggen",sendResetLink:"Verstuur Reset Link",resetEmailSent:"Wachtwoord reset link is verzonden naar uw e-mail",resetInstructions:"Voer uw e-mailadres in en we sturen u een link om uw wachtwoord te resetten.",loginButton:"Inloggen",loggingIn:"Bezig met inloggen...",rememberMe:"Onthoud mijn e-mail",rememberMeTooltip:"Uw browser zal ook aanbieden om uw wachtwoord veilig op te slaan",errors:{invalidCredentials:"Ongeldig e-mailadres of wachtwoord",emailRequired:"E-mail is verplicht",passwordRequired:"Wachtwoord is verplicht",networkError:"Netwerkfout. Controleer uw verbinding.",unknownError:"Er is een fout opgetreden. Probeer het opnieuw.",resetFailed:"Kon reset e-mail niet verzenden. Probeer het opnieuw."}},f9={title:"Nieuw wachtwoord instellen",instructions:"Voer hieronder uw nieuwe wachtwoord in. Maak het veilig!",newPassword:"Nieuw wachtwoord",newPasswordPlaceholder:"Voer nieuw wachtwoord in",confirmPassword:"Bevestig wachtwoord",confirmPasswordPlaceholder:"Voer nieuw wachtwoord opnieuw in",showPassword:"Toon wachtwoord",hidePassword:"Verberg wachtwoord",passwordRequirements:"Minimaal 6 tekens",updatePassword:"Wachtwoord bijwerken",updating:"Aan het bijwerken...",success:"Wachtwoord succesvol bijgewerkt!",redirecting:"Doorverwijzen naar inlogpagina...",backToLogin:"Terug naar inloggen",requestNewLink:"Nieuwe Reset Link Aanvragen",errors:{linkExpiredTitle:"Reset Link Verlopen",invalidToken:"Deze reset link is ongeldig of verlopen. Vraag een nieuwe aan.",tokenExpired:"Deze reset link is verlopen. Reset links zijn slechts 60 seconden geldig nadat ze zijn verzonden. Ga terug naar de inlogpagina en vraag een nieuwe reset link aan.",passwordTooShort:"Wachtwoord moet minimaal 6 tekens zijn",passwordMismatch:"Wachtwoorden komen niet overeen",updateFailed:"Kon wachtwoord niet bijwerken. Probeer het opnieuw."}},m9={title:"Instellingen",subtitle:"Beheer systeemconfiguratie en voorkeuren",userManagement:{title:"Gebruikersbeheer",description:"Beheer admin gebruikers, rollen en rechten",loading:"Gebruikers laden...",inviteUser:"Gebruiker uitnodigen",emailLabel:"E-mailadres",roleLabel:"Gebruikersrol",sendInvite:"Uitnodiging versturen",sending:"Verzenden...",cancel:"Annuleren",editRole:"Rol bewerken",deleteUser:"Gebruiker verwijderen",confirmDelete:"Weet u zeker dat u {{email}} wilt verwijderen?",inviteSuccess:"Manager uitnodiging verzonden!",inviteSuccessMessage:"De nieuwe manager ontvangt 2 emails: een bevestigingsmail (kan genegeerd worden) en een wachtwoord reset email voor toegang tot het admin paneel.",table:{email:"E-mail",role:"Rol",created:"Aangemaakt",lastLogin:"Laatste login",actions:"Acties"},roles:{superAdmin:"Super Admin",systemManager:"Systeembeheerder",eventManager:"Evenementbeheerder"},roleDescriptions:{super_admin:"Volledige toegang tot alle functies",system_manager:"Kaartbeheer en gebruikersadministratie",event_manager:"Bedrijven, inschrijvingen en toewijzingen"},implementation:{title:"Server-side API vereist",message:"Volledig gebruikersbeheer vereist server-side implementatie met Supabase Admin API. Momenteel worden mock-gegevens getoond. Neem contact op met uw ontwikkelaar om bewerken/verwijderen functionaliteit in te schakelen."},errors:{fetchFailed:"Kan gebruikers niet laden",inviteFailed:"Kan uitnodiging niet verzenden",updateFailed:"Kan gebruikersrol niet bijwerken",deleteFailed:"Kan gebruiker niet verwijderen",requiresServerApi:"Deze actie vereist server-side API implementatie"}},organization:{title:"Organisatieprofiel",description:"Organisatienaam, logo en contactinformatie"},branding:{title:"Branding Instellingen",description:"Configureer visuele branding (kleuren, lettertypen)",note:"Organisatienaam en logo worden beheerd in het Bedrijven-tabblad",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Standaardinstellingen Herstellen",saveSuccess:"Opgeslagen!",themeColor:{label:"Themakleur",description:"Primaire kleur gebruikt in de hele applicatie"},fontFamily:{label:"Lettertype",description:"Lettertype gebruikt voor koppen en tekst"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},uiLanguage:{title:"UI Taal",description:"Wijzig de taal van knoppen, menu's en interface-elementen",selectLanguage:"Selecteer je voorkeurstaal",note:{title:"Manager Interface Taal",description:"Dit wijzigt de taal van knoppen, menu's en instellingen. Het heeft GEEN invloed op inhoudvertalingen (bedrijfsinformatie, markeerbeschrijvingen). Inhoudvertalingen worden apart beheerd."}},mapDefaults:{title:"Kaart Standaardinstellingen",description:"Standaard kaartlagen, zoomniveaus en kaartinstellingen"},eventDefaults:{title:"Evenement Standaardinstellingen",description:"Standaard maaltijdaantallen, standgrootte en evenementvoorkeuren",loading:"Instellingen laden...",save:"Wijzigingen Opslaan",saving:"Opslaan...",reset:"Resetten",saveSuccess:"Instellingen succesvol opgeslagen",saveSuccessMessage:"Je wijzigingen zijn toegepast.",error:"Fout",mealDefaults:{title:"Standaard Maaltijdaantallen",description:"Stel standaard maaltijdhoeveelheden in voor nieuwe evenementinschrijvingen. Deze waarden worden vooraf ingevuld maar kunnen per inschrijving worden aangepast.",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",sundayNoBbq:"Geen BBQ op zondag"},notifications:{title:"Meldingsvoorkeuren",description:"Configureer e-mailmeldingen voor evenementmanagers",emailNotifications:"E-mailmeldingen Inschakelen",emailNotificationsDesc:"Hoofdschakelaar voor alle e-mailmeldingen",newSubscription:"Nieuwe Inschrijvingsmeldingen",newSubscriptionDesc:"Ontvang een melding wanneer bedrijven zich registreren voor het evenement",assignmentChange:"Toewijzingswijzigingen",assignmentChangeDesc:"Ontvang een melding wanneer standtoewijzingen worden gewijzigd"},errors:{loadFailed:"Kon instellingen niet laden. Probeer het opnieuw.",saveFailed:"Kon instellingen niet opslaan. Controleer je verbinding."}},feedbackRequests:{title:"Feedback & Functieverzoeken",description:"Meld problemen, vraag functies aan en volg voortgang",tabs:{all:"Alle Verzoeken",myRequests:"Mijn Verzoeken",submit:"Nieuwe Indienen"},filters:{title:"Filters",search:"Zoek verzoeken...",allTypes:"Alle Types",allStatuses:"Alle Statussen"},types:{issue:"Probleem",feature:"Functieverzoek"},statuses:{open:"Open",inProgress:"In Behandeling",completed:"Voltooid",archived:"Gearchiveerd"},priorities:{low:"Lage Prioriteit",medium:"Gemiddelde Prioriteit",high:"Hoge Prioriteit"},submit:{title:"Nieuw Verzoek Indienen",type:"Type",titleLabel:"Titel",titlePlaceholder:"Korte samenvatting van je verzoek",description:"Beschrijving",descriptionPlaceholder:"Geef details over je verzoek...",duplicateHint:"Controleer de lijst hieronder om te zien of een soortgelijk verzoek al bestaat",button:"Verzoek Indienen"},noRequests:"Geen verzoeken gevonden",detail:{comments:"Reacties",addComment:"Voeg reactie toe...",postComment:"Plaatsen",noComments:"Nog geen reacties. Wees de eerste die reageert!",status:"Status",priority:"Prioriteit",version:"Versie Uitgerold",updateStatus:"Status Bijwerken",setPriority:"Prioriteit Instellen",markCompleted:"Markeren als Voltooid",delete:"Verzoek Verwijderen"}},advanced:{title:"Geavanceerde Instellingen",description:"Systeemonderhoud, gegevensbeheer en gevarenzone"}},p9={subtitle:"Jouw Volgende Avontuur Start Hier!",title:"D 4x4 Vakantiebeurs",eventDate:"10-11 oktober 2026",exhibitors:"Exposanten",days:"Dagen",openingHours:"Openingstijden",openingHoursInfo:`Zaterdag 10:00 - 17:00 uur
Zondag 10:00 - 16:00 uur`,location:"Locatie",locationInfo:`Evenementenlocatie WaterGoed
Tielsestaat 129, 6657 AC Valburg`,parking:"Parkeren",parkingInfo:"Gratis parkeren bij Strandpark Slijk-Ewijk",phaseNote:"<strong>Let op:</strong> Dit is een Fase 1 tijdelijke versie. In Fase 2 zal deze pagina echte evenementgegevens, welkomstberichten en aankomende activiteiten tonen."},g9={title:"Exposanten",searchPlaceholder:"Zoek exposanten of standnummer...",showing:"Toont",of:"van",exhibitors:"exposanten",favorited:"favoriet",favoritesOnly:"Alleen Favorieten",noExhibitors:"Geen exposanten gevonden",booth:"Stand",categoriesComingSoon:"Binnenkort: Categorien",phaseNote:"Let op:",comingInFuturePhases:"Binnenkort beschikbaar:",categoryFiltering:"Filteren op categorie",sortOptions:"Sorteeropties"},y9={home:"Home",map:"Plattegrond",exhibitors:"Standhouders",schedule:"Programma"},v9={title:"Programma Beheer",addActivity:"Activiteit Toevoegen",addFirstActivity:"Voeg Je Eerste Activiteit Toe",noActivitiesFound:"Geen activiteiten gevonden voor deze dag",saturday:"Zaterdag",sunday:"Zondag",location:"Locatie",exhibitor:"Exposant",venue:"Locatie",edit:"Bewerken",delete:"Verwijderen",dragToReorder:"Sleep om te herschikken",totalActivities:"Totaal Activiteiten",loading:"Activiteiten laden...",error:"Fout bij laden activiteiten",confirmDelete:"Activiteit Verwijderen",confirmDeleteMessage:"Weet je zeker dat je deze activiteit wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.",cancel:"Annuleren",deleteButton:"Verwijderen",deleting:"Verwijderen...",deleteError:"Fout bij verwijderen activiteit",reorderError:"Fout bij herschikken activiteiten"},b9={createTitle:"Activiteit Aanmaken",editTitle:"Activiteit Bewerken",titleNL:"Titel (NL)",titleEN:"Titel (EN)",descriptionNL:"Beschrijving (NL)",descriptionEN:"Beschrijving (EN)",startTime:"Starttijd",endTime:"Eindtijd",locationType:"Locatie Type",venue:"Locatie",exhibitor:"Exposant",locationNL:"Locatie (NL)",locationEN:"Locatie (EN)",company:"Bedrijf",selectCompany:"Selecteer een bedrijf...",badgeNL:"Badge (NL)",badgeEN:"Badge (EN)",optional:"optioneel",displayOrder:"Volgorde",displayOrderHelp:"Lagere nummers verschijnen eerst in het programma",isActive:"Actief",isActiveHelp:"Alleen actieve activiteiten worden getoond aan bezoekers",showLocationBadge:"Toon Locatietype Badge",showLocationBadgeHelp:'Toon "standhouder" of "locatie" badge in het programma (meestal niet nodig)',cancel:"Annuleren",save:"Opslaan",saving:"Opslaan...",saveError:"Fout bij opslaan activiteit"},_9={totalMarkers:"Totaal Markers",companies:"Bedrijven",subscriptions:"Inschrijvingen",assignments:"Toewijzingen",eventTotals:"Event Totalen",saturday:"Zaterdag",sunday:"Zondag",breakfast:"Ontbijt",lunch:"Lunch",bbq:"BBQ",noBBQ:"Geen BBQ",coins:"Munten",totalCoins:"Totaal Munten",quickActions:"Snelle Acties",addNewCompany:"Nieuw Bedrijf Toevoegen",addNewCompanyDesc:"Registreer een nieuw bedrijf in het systeem",manageSubscriptions:"Inschrijvingen Beheren",manageSubscriptionsDesc:"Voeg inschrijvingen toe of werk ze bij",assignBooths:"Stands Toewijzen",assignBoothsDesc:"Beheer standtoewijzingen voor bedrijven",recentActivity:"Recente Activiteit",recentActivityPlaceholder:"Activiteitentracking wordt toegevoegd in een toekomstige update."},x9={title:"Hulp & Gids",closeHelp:"Hulppaneel sluiten",yourRole:"Jouw rol:",tabs:{currentPage:"Huidige Pagina",whatsNew:"Wat is Nieuw",quickStart:"Snel Starten"},searchPlaceholder:"Zoek hulp inhoud...",lastUpdated:"Laatst bijgewerkt:",quickTips:"Snelle Tips",whatsNewTitle:"Wat is Nieuw",whatsNewSubtitle:"Recente updates en wijzigingen",changeTypes:{feature:"functie",fix:"fix",improvement:"verbetering"},quickStartTitle:"Snel Start Gids",quickStartSubtitle:"Aan de slag met het admin paneel",steps:{step1Title:"1. Begrijp je Rol",step1Text:"Je rol ({role}) bepaalt welke functies je kunt gebruiken. Bekijk het navigatiemenu om beschikbare secties te zien.",step2Title:"2. Selecteer Evenementjaar",step2Text:"Gebruik de jaarselector in de topnavigatie om tussen verschillende evenementjaren te wisselen. Alle data (inschrijvingen, toewijzingen) is jaar-specifiek.",step3Title:"3. Verken het Dashboard",step3Text:"Start bij het Dashboard om een overzicht te zien van markers, bedrijven en event statistieken. Dit geeft je een snelle momentopname van je huidige data.",step4Title:"4. Veelvoorkomende Workflows",step4Item1:"Voeg bedrijven toe in het Bedrijven tabblad",step4Item2:"Importeer inschrijvingen via Excel/CSV",step4Item3:"Wijs bedrijven toe aan kaartlocaties",step4Item4:"Vergrendel markers voor de eventdag",step5Title:"5. Krijg Contextuele Hulp",step5Text:'Klik op "Huidige Pagina" tabblad in dit hulppaneel om specifieke begeleiding voor elke sectie te zien. Hover over (?) iconen voor snelle tooltips.'},roles:{super_admin:"Super Admin",system_manager:"Systeembeheerder",event_manager:"Eventbeheerder",content_editor:"Content Editor",unknown:"Onbekend"},footer:"Meer hulp nodig? Neem contact op met je systeembeheerder"},w9={appTitle:a9,welcome:o9,home:l9,admin:u9,common:c9,marker:h9,adminLogin:d9,resetPassword:f9,settings:m9,homePage:p9,exhibitorPage:g9,navigation:y9,programManagement:v9,activityForm:b9,dashboard:_9,helpPanel:x9};Ln.use(UM).init({resources:{en:{translation:s9},nl:{translation:w9}},lng:"nl",fallbackLng:"nl",interpolation:{escapeValue:!1}});function S9(){const e=new Date().getFullYear(),[t,n]=T.useState(()=>{const x=localStorage.getItem("selectedEventYear");return x?parseInt(x,10):e});T.useEffect(()=>{localStorage.setItem("selectedEventYear",t.toString())},[t]);const{markers:i}=oM(t),[a,o,u]=aM(i),[h,f]=T.useState({logo:null,themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif",eventName:"4x4 Vakantiebeurs"});T.useEffect(()=>{async function x(){const{data:E,error:O}=await ye.from("organization_profile").select("*").eq("id",1).single();if(O){console.error("Error fetching organization_profile:",O);return}if(E){const A=E.logo||"";f({logo:A?Ji(A):null,eventName:E.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}x();const j=ye.channel("organization-profile-branding-sync").on("postgres_changes",{event:"*",schema:"public",table:"organization_profile",filter:"id=eq.1"},E=>{if(E.new){const O=E.new.logo||"";f({logo:O?Ji(O):null,eventName:E.new.name||"4x4 Vakantiebeurs",themeColor:"#ffffff",fontFamily:"Arvo, Sans-serif"})}}).subscribe();return()=>{ye.removeChannel(j)}},[]);const[g,y]=T.useState(null);T.useEffect(()=>{ye.auth.getSession().then(({data:j})=>{y(j?.session?.user||null)});const{data:x}=ye.auth.onAuthStateChange((j,E)=>{y(E?.user||null)});return()=>{x?.subscription?.unsubscribe()}},[]);const v=WN,w={};return d.jsx(EE,{children:d.jsx(BO,{children:d.jsx(v,{...w,children:d.jsx(H8,{branding:h,user:g,markersState:a,updateMarker:o,setMarkersState:u,onLogin:y,selectedYear:t,setSelectedYear:n})})})})}const kg=Cl();Ot.Icon.Default.mergeOptions({iconRetinaUrl:`${kg}assets/icons/marker-icon-2x.png`,iconUrl:`${kg}assets/icons/glyph-marker-icon-blue.svg`,shadowUrl:`${kg}assets/icons/marker-shadow.png`});rk.createRoot(document.getElementById("root")).render(d.jsx(T.StrictMode,{children:d.jsx(S9,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(`${Cl()}service-worker.js`)});export{gi as R,d as j,T as r};
