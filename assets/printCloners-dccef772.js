import{an as c,bf as f}from"./index-07c61819.js";function p(n){return f(n)}function u(n){var t,h,l,a;if(((t=n==null?void 0:n.options)==null?void 0:t.opacity)===0||((h=n==null?void 0:n.options)==null?void 0:h.interactive)===!1)return null;const o=(a=(l=n==null?void 0:n.options)==null?void 0:l.icon)==null?void 0:a.options,s=n.getLatLng();let r;if(o&&(o.glyph!==void 0||o.prefix!==void 0)&&c.icon&&c.icon.glyph){const d={iconUrl:p(o.iconUrl),iconSize:o.iconSize||[25,41],iconAnchor:o.iconAnchor||[12,41],popupAnchor:o.popupAnchor||[1,-34],shadowUrl:p(o.shadowUrl),shadowSize:o.shadowSize,shadowAnchor:o.shadowAnchor,prefix:o.prefix||"",glyph:o.glyph||"",glyphColor:o.glyphColor||"white",bgColor:o.bgColor,glyphSize:o.glyphSize||"11px",glyphAnchor:o.glyphAnchor||[0,0],className:o.className||""};r=c.icon.glyph(d)}else o!=null&&o.iconUrl?r=c.icon({iconUrl:p(o.iconUrl),iconSize:o.iconSize,iconAnchor:o.iconAnchor,popupAnchor:o.popupAnchor,shadowUrl:p(o.shadowUrl),shadowSize:o.shadowSize,shadowAnchor:o.shadowAnchor,className:o.className||""}):r=new c.Icon.Default;const e=c.marker(s,{...n.options,icon:r});return n.getPopup&&n.getPopup()&&e.bindPopup(n.getPopup().getContent()),e}function g(n){const o=[],s=n._group||n;try{s.eachLayer(e=>{if(e instanceof c.Marker){const t=u(e);t&&o.push(t)}})}catch(e){console.warn("[PrintCloner] Failed to iterate cluster markers:",e)}const r=s.options||{};let i;return typeof c.markerClusterGroup=="function"?i=c.markerClusterGroup(r):i=c.layerGroup(),typeof i.addLayers=="function"?i.addLayers(o):o.forEach(e=>i.addLayer(e)),i}const w={cloneMarkerLayer:u,cloneMarkerClusterLayer:g};export{g as cloneMarkerClusterLayer,u as cloneMarkerLayer,w as default};
