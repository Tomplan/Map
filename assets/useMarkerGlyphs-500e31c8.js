import{r as a}from"./vendor-react-3437b308.js";import{s as d}from"./index-a5e29154.js";function k(t){const[l,p]=a.useState([]),[u,o]=a.useState(!0),[f,s]=a.useState(null);return a.useEffect(()=>{async function g(){try{o(!0),s(null);const{data:e,error:n}=await d.from("markers_core").select("id").lt("id",1e3).eq("event_year",t).order("id",{ascending:!0});if(n)throw n;const{data:m,error:i}=await d.from("markers_appearance").select("id, glyph").lt("id",1e3).eq("event_year",t);if(i)throw i;const c={};(m||[]).forEach(r=>{r&&r.id&&(c[r.id]=r.glyph||"")});const y=(e||[]).map(r=>({id:r.id,glyph:c[r.id]||r.id.toString()}));p(y)}catch(e){console.error("Error loading markers:",e),s(e)}finally{o(!1)}}g()},[t]),{markers:l,loading:u,error:f}}export{k as u};
