import{r as a,s as d}from"./index-66b9036e.js";function E(t){const[l,p]=a.useState([]),[u,o]=a.useState(!0),[f,s]=a.useState(null);return a.useEffect(()=>{async function g(){try{o(!0),s(null);const{data:e,error:n}=await d.from("markers_core").select("id").lt("id",1e3).eq("event_year",t).order("id",{ascending:!0});if(n)throw n;const{data:y,error:i}=await d.from("markers_appearance").select("id, glyph").lt("id",1e3).eq("event_year",t);if(i)throw i;const c={};(y||[]).forEach(r=>{r&&r.id&&(c[r.id]=r.glyph||"")});const h=(e||[]).map(r=>({id:r.id,glyph:c[r.id]||r.id.toString()}));p(h)}catch(e){console.error("Error loading markers:",e),s(e)}finally{o(!1)}}g()},[t]),{markers:l,loading:u,error:f}}export{E as u};
