import{r as n,s as h}from"./index-8fb29835.js";function y(){const[a,m]=n.useState(null),[i,c]=n.useState(!0),[f,d]=n.useState({email:null,name:null});return n.useEffect(()=>{const{data:t}=h.auth.onAuthStateChange((r,u)=>{var s,l,o;const e=u==null?void 0:u.user,_=((s=e==null?void 0:e.user_metadata)==null?void 0:s.role)||null,p=((l=e==null?void 0:e.user_metadata)==null?void 0:l.full_name)||((o=e==null?void 0:e.user_metadata)==null?void 0:o.name)||null,g=(e==null?void 0:e.email)||null;m(_),d({email:g,name:p}),c(!1)});return()=>{var r;(r=t==null?void 0:t.subscription)==null||r.unsubscribe()}},[]),{role:a,loading:i,userInfo:f,hasRole:t=>a?a==="super_admin"?!0:a===t:!1,hasAnyRole:t=>a?a==="super_admin"?!0:t.includes(a):!1,isSuperAdmin:a==="super_admin",isSystemManager:a==="system_manager",isEventManager:a==="event_manager"}}export{y as u};
