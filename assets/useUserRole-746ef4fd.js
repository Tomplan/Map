import{r}from"./vendor-react-3437b308.js";import{s as g}from"./index-7a334b3d.js";function y(){const[a,m]=r.useState(null),[i,c]=r.useState(!0),[f,d]=r.useState({email:null,name:null});return r.useEffect(()=>{const{data:t}=g.auth.onAuthStateChange((n,l)=>{var s,u,o;const e=l==null?void 0:l.user,p=((s=e==null?void 0:e.user_metadata)==null?void 0:s.role)||null,_=((u=e==null?void 0:e.user_metadata)==null?void 0:u.full_name)||((o=e==null?void 0:e.user_metadata)==null?void 0:o.name)||null,R=(e==null?void 0:e.email)||null;m(p),d({email:R,name:_}),c(!1)});return()=>{var n;(n=t==null?void 0:t.subscription)==null||n.unsubscribe()}},[]),{role:a,loading:i,userInfo:f,hasRole:t=>a?a==="super_admin"?!0:a.replace(" ","_")===t:!1,hasAnyRole:t=>{if(!a)return!1;if(a==="super_admin")return!0;const n=a.replace(" ","_");return t.includes(n)},isSuperAdmin:a==="super_admin",isSystemManager:a==="system_manager",isEventManager:a==="event_manager"||a==="event manager"}}export{y as u};
